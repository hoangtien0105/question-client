<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/2eccd4d47c856f2b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2eccd4d47c856f2b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-20edbe0b078add93.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/613-1e0aa2b2023820bb.js" defer=""></script><script src="/_next/static/chunks/495-bb1d5b202c02d7f2.js" defer=""></script><script src="/_next/static/chunks/471-84c36aa98dd4107c.js" defer=""></script><script src="/_next/static/chunks/81-301f760ac8107464.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-76d2c3e2d98bb08b.js" defer=""></script><script src="/_next/static/6_hwtyf_oFlFS5l_S4CTe/_buildManifest.js" defer=""></script><script src="/_next/static/6_hwtyf_oFlFS5l_S4CTe/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.5">.eZIPKL code{padding:5px;color:hsl(210deg 8% 15%);background-color:hsl(210deg 8% 90%);border-radius:3px;}/*!sc*/
data-styled.g5[id="sc-c4b0431a-0"]{content:"eZIPKL,"}/*!sc*/
</style></head><body><div id="__next"><div class="sc-9099c029-0 cIPEih"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="https://flowbite.com/docs/images/logo.svg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo"/><span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Hunter</span></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/read-file-line-by-line-using-ifstream-in-c%2B%2B-1657388236966#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="sc-c5440139-0 figLul question my-5"><div class="sc-c4b0431a-0 eZIPKL flex question-header items-center justify-center"><div class="rounded-xl border p-5 shadow-md w-9/12 bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/read-file-line-by-line-using-ifstream-in-c++-1657388236966">Read file line by line using ifstream in C++</a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/file-io">file-io</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/ofstream">ofstream</a></div></div><div class="question-content mt-5">
                
<p>The contents of file.txt are:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-number">5</span> <span class="hljs-number">3</span>
<span class="hljs-number">6</span> <span class="hljs-number">4</span>
<span class="hljs-number">7</span> <span class="hljs-number">1</span>
<span class="hljs-number">10</span> <span class="hljs-number">5</span>
<span class="hljs-number">11</span> <span class="hljs-number">6</span>
<span class="hljs-number">12</span> <span class="hljs-number">3</span>
<span class="hljs-number">12</span> <span class="hljs-number">4</span>
</code></pre>
<p>Where <code>5 3</code> is a coordinate pair.
How do I process this data line by line in C++?</p>
<p>I am able to get the first line, but how do I get the next line of the file?</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">ifstream myfile;
myfile.<span class="hljs-built_in">open</span> (<span class="hljs-string">"file.txt"</span>);
</code></pre>
    </div></div></div><div class="sc-c4b0431a-2 cRqwQe"><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>First, make an <code>ifstream</code>:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span>
<span class="hljs-function">std::ifstream <span class="hljs-title">infile</span><span class="hljs-params">(<span class="hljs-string">"thefile.txt"</span>)</span></span>;
</code></pre>

<p>The two standard methods are:</p>

<ol>
<li><p>Assume that every line consists of two numbers and read token by token:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-type">int</span> a, b;
<span class="hljs-keyword">while</span> (infile &gt;&gt; a &gt;&gt; b)
{
    <span class="hljs-comment">// process pair (a,b)</span>
}
</code></pre></li>
<li><p>Line-based parsing, using string streams:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sstream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>

std::string line;
<span class="hljs-keyword">while</span> (std::<span class="hljs-built_in">getline</span>(infile, line))
{
    <span class="hljs-function">std::istringstream <span class="hljs-title">iss</span><span class="hljs-params">(line)</span></span>;
    <span class="hljs-type">int</span> a, b;
    <span class="hljs-keyword">if</span> (!(iss &gt;&gt; a &gt;&gt; b)) { <span class="hljs-keyword">break</span>; } <span class="hljs-comment">// error</span>

    <span class="hljs-comment">// process pair (a,b)</span>
}
</code></pre></li>
</ol>

<p>You shouldn't mix (1) and (2), since the token-based parsing doesn't gobble up newlines, so you may end up with spurious empty lines if you use <code>getline()</code> after token-based extraction got you to the end of a line already.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Use <code>ifstream</code> to read data from a file:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-function">std::ifstream <span class="hljs-title">input</span><span class="hljs-params">( <span class="hljs-string">"filename.ext"</span> )</span></span>;
</code></pre>

<p>If you really need to read line by line, then do this:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">for</span>( std::string line; <span class="hljs-built_in">getline</span>( input, line ); )
{
    ...<span class="hljs-keyword">for</span> each line in input...
}
</code></pre>

<p>But you probably just need to extract coordinate pairs:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-type">int</span> x, y;
input &gt;&gt; x &gt;&gt; y;
</code></pre>

<p><strong>Update:</strong></p>

<p>In your code you use <code>ofstream myfile;</code>, however the <code>o</code> in <code>ofstream</code> stands for <code>output</code>. If you want to read from the file (input) use <code>ifstream</code>. If you want to both read and write use <code>fstream</code>.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Reading a file line by line in C++ can be done in some different ways.</p>

<h2>[Fast] Loop with std::getline()</h2>

<p>The simplest approach is to open an std::ifstream and loop using std::getline() calls. The code is clean and easy to understand.</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span>

<span class="hljs-function">std::ifstream <span class="hljs-title">file</span><span class="hljs-params">(FILENAME)</span></span>;
<span class="hljs-keyword">if</span> (file.<span class="hljs-built_in">is_open</span>()) {
    std::string line;
    <span class="hljs-keyword">while</span> (std::<span class="hljs-built_in">getline</span>(file, line)) {
        <span class="hljs-comment">// using printf() in all tests for consistency</span>
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%s"</span>, line.<span class="hljs-built_in">c_str</span>());
    }
    file.<span class="hljs-built_in">close</span>();
}
</code></pre>

<h2>[Fast] Use Boost's file_description_source</h2>

<p>Another possibility is to use the Boost library, but the code gets a bit more verbose. The performance is quite similar to the code above (Loop with std::getline()).</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;boost/iostreams/device/file_descriptor.hpp&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;boost/iostreams/stream.hpp&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fcntl.h&gt;</span></span>

<span class="hljs-keyword">namespace</span> io = boost::iostreams;

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">readLineByLineBoost</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-type">int</span> fdr = <span class="hljs-built_in">open</span>(FILENAME, O_RDONLY);
    <span class="hljs-keyword">if</span> (fdr &gt;= <span class="hljs-number">0</span>) {
        <span class="hljs-function">io::file_descriptor_source <span class="hljs-title">fdDevice</span><span class="hljs-params">(fdr, io::file_descriptor_flags::close_handle)</span></span>;
        io::stream &lt;io::file_descriptor_source&gt; <span class="hljs-built_in">in</span>(fdDevice);
        <span class="hljs-keyword">if</span> (fdDevice.<span class="hljs-built_in">is_open</span>()) {
            std::string line;
            <span class="hljs-keyword">while</span> (std::<span class="hljs-built_in">getline</span>(in, line)) {
                <span class="hljs-comment">// using printf() in all tests for consistency</span>
                <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%s"</span>, line.<span class="hljs-built_in">c_str</span>());
            }
            fdDevice.<span class="hljs-built_in">close</span>();
        }
    }
}
</code></pre>

<h2>[Fastest] Use C code</h2>

<p>If performance is critical for your software, you may consider using the C language. This code can be 4-5 times faster than the C++ versions above, see benchmark below</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">FILE* fp = <span class="hljs-built_in">fopen</span>(FILENAME, <span class="hljs-string">"r"</span>);
<span class="hljs-keyword">if</span> (fp == <span class="hljs-literal">NULL</span>)
    <span class="hljs-built_in">exit</span>(EXIT_FAILURE);

<span class="hljs-type">char</span>* line = <span class="hljs-literal">NULL</span>;
<span class="hljs-type">size_t</span> len = <span class="hljs-number">0</span>;
<span class="hljs-keyword">while</span> ((<span class="hljs-built_in">getline</span>(&amp;line, &amp;len, fp)) != <span class="hljs-number">-1</span>) {
    <span class="hljs-comment">// using printf() in all tests for consistency</span>
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%s"</span>, line);
}
<span class="hljs-built_in">fclose</span>(fp);
<span class="hljs-keyword">if</span> (line)
    <span class="hljs-built_in">free</span>(line);
</code></pre>

<h2>Benchmark -- Which one is faster?</h2>

<p>I have done some performance benchmarks with the code above and the results are interesting. I have tested the code with ASCII files that contain 100,000 lines, 1,000,000 lines and 10,000,000 lines of text. Each line of text contains 10 words in average. The program is compiled with <code>-O3</code> optimization and its output is forwarded to <code>/dev/null</code> in order to remove the logging time variable from the measurement. Last, but not least, each piece of code logs each line with the <code>printf()</code> function for consistency.</p>

<p>The results show the time (in ms) that each piece of code took to read the files.</p>

<p>The performance difference between the two C++ approaches is minimal and shouldn't make any difference in practice. The performance of the C code is what makes the benchmark impressive and can be a game changer in terms of speed.</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">                             <span class="hljs-number">10</span>K lines     <span class="hljs-number">100</span>K lines     <span class="hljs-number">1000</span><span class="hljs-function">K lines
Loop with <span class="hljs-title">std::getline</span><span class="hljs-params">()</span>         105ms          894ms          9773ms
Boost code                       106ms          968ms          9561ms
C code                            23ms          243ms          2397ms
</span></code></pre>

<p><a href="https://i.stack.imgur.com/fKKqc.png" rel="noreferrer"><img src="https://i.stack.imgur.com/fKKqc.png" alt="enter image description here"></a></p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Since your coordinates belong together as pairs, why not write a struct for them?</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">CoordinatePair</span>
{
    <span class="hljs-type">int</span> x;
    <span class="hljs-type">int</span> y;
};
</code></pre>

<p>Then you can write an overloaded extraction operator for istreams:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">std::istream&amp; <span class="hljs-keyword">operator</span>&gt;&gt;(std::istream&amp; is, CoordinatePair&amp; coordinates)
{
    is &gt;&gt; coordinates.x &gt;&gt; coordinates.y;

    <span class="hljs-keyword">return</span> is;
}
</code></pre>

<p>And then you can read a file of coordinates straight into a vector like this:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iterator&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-type">char</span> filename[] = <span class="hljs-string">"coordinates.txt"</span>;
    std::vector&lt;CoordinatePair&gt; v;
    <span class="hljs-function">std::ifstream <span class="hljs-title">ifs</span><span class="hljs-params">(filename)</span></span>;
    <span class="hljs-keyword">if</span> (ifs) {
        std::<span class="hljs-built_in">copy</span>(std::<span class="hljs-built_in">istream_iterator</span>&lt;CoordinatePair&gt;(ifs), 
                std::<span class="hljs-built_in">istream_iterator</span>&lt;CoordinatePair&gt;(),
                std::<span class="hljs-built_in">back_inserter</span>(v));
    }
    <span class="hljs-keyword">else</span> {
        std::cerr &lt;&lt; <span class="hljs-string">"Couldn't open "</span> &lt;&lt; filename &lt;&lt; <span class="hljs-string">" for reading\n"</span>;
    }
    <span class="hljs-comment">// Now you can work with the contents of v</span>
}
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Expanding on the accepted answer, if the input is:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-number">1</span>,NYC
<span class="hljs-number">2</span>,ABQ
...
</code></pre>

<p>you will still be able to apply the same logic, like this:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span>

<span class="hljs-function">std::ifstream <span class="hljs-title">infile</span><span class="hljs-params">(<span class="hljs-string">"thefile.txt"</span>)</span></span>;
<span class="hljs-keyword">if</span> (infile.<span class="hljs-built_in">is_open</span>()) {
    <span class="hljs-type">int</span> number;
    std::string str;
    <span class="hljs-type">char</span> c;
    <span class="hljs-keyword">while</span> (infile &gt;&gt; number &gt;&gt; c &gt;&gt; str &amp;&amp; c == <span class="hljs-string">','</span>)
        std::cout &lt;&lt; number &lt;&lt; <span class="hljs-string">" "</span> &lt;&lt; str &lt;&lt; <span class="hljs-string">"\n"</span>;
}
infile.<span class="hljs-built_in">close</span>();
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This answer is for visual studio 2017 and if you want to read from text file which location is relative to your compiled console application.</p>

<p>first put your textfile (test.txt in this case) into your solution folder. After compiling keep text file in same folder with applicationName.exe</p>

<p>C:\Users\"username"\source\repos\"solutionName"\"solutionName"</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span>

<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    ifstream inFile;
    <span class="hljs-comment">// open the file stream</span>
    inFile.<span class="hljs-built_in">open</span>(<span class="hljs-string">".\\test.txt"</span>);
    <span class="hljs-comment">// check if opening a file failed</span>
    <span class="hljs-keyword">if</span> (inFile.<span class="hljs-built_in">fail</span>()) {
        cerr &lt;&lt; <span class="hljs-string">"Error opeing a file"</span> &lt;&lt; endl;
        inFile.<span class="hljs-built_in">close</span>();
        <span class="hljs-built_in">exit</span>(<span class="hljs-number">1</span>);
    }
    string line;
    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">getline</span>(inFile, line))
    {
        cout &lt;&lt; line &lt;&lt; endl;
    }
    <span class="hljs-comment">// close the file stream</span>
    inFile.<span class="hljs-built_in">close</span>();
}
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Although there is no need to close the file manually but it is good idea to do so if the scope of the file variable is bigger:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">    <span class="hljs-function">ifstream <span class="hljs-title">infile</span><span class="hljs-params">(szFilePath)</span></span>;

    <span class="hljs-keyword">for</span> (string line = <span class="hljs-string">""</span>; <span class="hljs-built_in">getline</span>(infile, line); )
    {
        <span class="hljs-comment">//do something with the line</span>
    }

    <span class="hljs-keyword">if</span>(infile.<span class="hljs-built_in">is_open</span>())
        infile.<span class="hljs-built_in">close</span>();
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This is a general solution to loading data into a C++ program, and uses the readline function. This could be modified for CSV files, but the delimiter is a space here. </p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-type">int</span> n = <span class="hljs-number">5</span>, p = <span class="hljs-number">2</span>;

<span class="hljs-type">int</span> X[n][p];

ifstream myfile;

myfile.<span class="hljs-built_in">open</span>(<span class="hljs-string">"data.txt"</span>);

string line;
string temp = <span class="hljs-string">""</span>;
<span class="hljs-type">int</span> a = <span class="hljs-number">0</span>; <span class="hljs-comment">// row index </span>

<span class="hljs-keyword">while</span> (<span class="hljs-built_in">getline</span>(myfile, line)) { <span class="hljs-comment">//while there is a line</span>
     <span class="hljs-type">int</span> b = <span class="hljs-number">0</span>; <span class="hljs-comment">// column index</span>
     <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; line.<span class="hljs-built_in">size</span>(); i++) { <span class="hljs-comment">// for each character in rowstring</span>
          <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">isblank</span>(line[i])) { <span class="hljs-comment">// if it is not blank, do this</span>
              <span class="hljs-function">string <span class="hljs-title">d</span><span class="hljs-params">(<span class="hljs-number">1</span>, line[i])</span></span>; <span class="hljs-comment">// convert character to string</span>
              temp.<span class="hljs-built_in">append</span>(d); <span class="hljs-comment">// append the two strings</span>
        } <span class="hljs-keyword">else</span> {
              X[a][b] = <span class="hljs-built_in">stod</span>(temp);  <span class="hljs-comment">// convert string to double</span>
              temp = <span class="hljs-string">""</span>; <span class="hljs-comment">// reset the capture</span>
              b++; <span class="hljs-comment">// increment b cause we have a new number</span>
        }
    }

  X[a][b] = <span class="hljs-built_in">stod</span>(temp);
  temp = <span class="hljs-string">""</span>;
  a++; <span class="hljs-comment">// onto next row</span>
}
</code></pre>
    </div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;First, make an \u0026lt;code\u0026gt;ifstream\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;fstream\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;std::ifstream \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;infile\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;thefile.txt\u0026quot;\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The two standard methods are:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Assume that every line consists of two numbers and read token by token:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; a, b;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; (infile \u0026amp;gt;\u0026amp;gt; a \u0026amp;gt;\u0026amp;gt; b)\n{\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// process pair (a,b)\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Line-based parsing, using string streams:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;sstream\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;string\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\nstd::string line;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; (std::\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getline\u0026lt;/span\u0026gt;(infile, line))\n{\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;std::istringstream \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;iss\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(line)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; a, b;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!(iss \u0026amp;gt;\u0026amp;gt; a \u0026amp;gt;\u0026amp;gt; b)) { \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;; } \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// error\u0026lt;/span\u0026gt;\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// process pair (a,b)\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;You shouldn\u0026apos;t mix (1) and (2), since the token-based parsing doesn\u0026apos;t gobble up newlines, so you may end up with spurious empty lines if you use \u0026lt;code\u0026gt;getline()\u0026lt;/code\u0026gt; after token-based extraction got you to the end of a line already.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Use \u0026lt;code\u0026gt;ifstream\u0026lt;/code\u0026gt; to read data from a file:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;std::ifstream \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;( \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;filename.ext\u0026quot;\u0026lt;/span\u0026gt; )\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;If you really need to read line by line, then do this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt;( std::string line; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getline\u0026lt;/span\u0026gt;( input, line ); )\n{\n    ...\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; each line in input...\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;But you probably just need to extract coordinate pairs:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; x, y;\ninput \u0026amp;gt;\u0026amp;gt; x \u0026amp;gt;\u0026amp;gt; y;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Update:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In your code you use \u0026lt;code\u0026gt;ofstream myfile;\u0026lt;/code\u0026gt;, however the \u0026lt;code\u0026gt;o\u0026lt;/code\u0026gt; in \u0026lt;code\u0026gt;ofstream\u0026lt;/code\u0026gt; stands for \u0026lt;code\u0026gt;output\u0026lt;/code\u0026gt;. If you want to read from the file (input) use \u0026lt;code\u0026gt;ifstream\u0026lt;/code\u0026gt;. If you want to both read and write use \u0026lt;code\u0026gt;fstream\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Reading a file line by line in C++ can be done in some different ways.\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;[Fast] Loop with std::getline()\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;The simplest approach is to open an std::ifstream and loop using std::getline() calls. The code is clean and easy to understand.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;fstream\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;std::ifstream \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;file\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(FILENAME)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (file.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;is_open\u0026lt;/span\u0026gt;()) {\n    std::string line;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; (std::\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getline\u0026lt;/span\u0026gt;(file, line)) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// using printf() in all tests for consistency\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%s\u0026quot;\u0026lt;/span\u0026gt;, line.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;c_str\u0026lt;/span\u0026gt;());\n    }\n    file.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;close\u0026lt;/span\u0026gt;();\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h2\u0026gt;[Fast] Use Boost\u0026apos;s file_description_source\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;Another possibility is to use the Boost library, but the code gets a bit more verbose. The performance is quite similar to the code above (Loop with std::getline()).\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;boost/iostreams/device/file_descriptor.hpp\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;boost/iostreams/stream.hpp\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;fcntl.h\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;namespace\u0026lt;/span\u0026gt; io = boost::iostreams;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;readLineByLineBoost\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; fdr = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;open\u0026lt;/span\u0026gt;(FILENAME, O_RDONLY);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (fdr \u0026amp;gt;= \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;io::file_descriptor_source \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;fdDevice\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(fdr, io::file_descriptor_flags::close_handle)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n        io::stream \u0026amp;lt;io::file_descriptor_source\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt;(fdDevice);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (fdDevice.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;is_open\u0026lt;/span\u0026gt;()) {\n            std::string line;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; (std::\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getline\u0026lt;/span\u0026gt;(in, line)) {\n                \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// using printf() in all tests for consistency\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%s\u0026quot;\u0026lt;/span\u0026gt;, line.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;c_str\u0026lt;/span\u0026gt;());\n            }\n            fdDevice.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;close\u0026lt;/span\u0026gt;();\n        }\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h2\u0026gt;[Fastest] Use C code\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;If performance is critical for your software, you may consider using the C language. This code can be 4-5 times faster than the C++ versions above, see benchmark below\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;FILE* fp = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;fopen\u0026lt;/span\u0026gt;(FILENAME, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;r\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (fp == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;NULL\u0026lt;/span\u0026gt;)\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;exit\u0026lt;/span\u0026gt;(EXIT_FAILURE);\n\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;char\u0026lt;/span\u0026gt;* line = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;NULL\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;size_t\u0026lt;/span\u0026gt; len = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; ((\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getline\u0026lt;/span\u0026gt;(\u0026amp;amp;line, \u0026amp;amp;len, fp)) != \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;-1\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// using printf() in all tests for consistency\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%s\u0026quot;\u0026lt;/span\u0026gt;, line);\n}\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;fclose\u0026lt;/span\u0026gt;(fp);\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (line)\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;free\u0026lt;/span\u0026gt;(line);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h2\u0026gt;Benchmark -- Which one is faster?\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;I have done some performance benchmarks with the code above and the results are interesting. I have tested the code with ASCII files that contain 100,000 lines, 1,000,000 lines and 10,000,000 lines of text. Each line of text contains 10 words in average. The program is compiled with \u0026lt;code\u0026gt;-O3\u0026lt;/code\u0026gt; optimization and its output is forwarded to \u0026lt;code\u0026gt;/dev/null\u0026lt;/code\u0026gt; in order to remove the logging time variable from the measurement. Last, but not least, each piece of code logs each line with the \u0026lt;code\u0026gt;printf()\u0026lt;/code\u0026gt; function for consistency.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The results show the time (in ms) that each piece of code took to read the files.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The performance difference between the two C++ approaches is minimal and shouldn\u0026apos;t make any difference in practice. The performance of the C code is what makes the benchmark impressive and can be a game changer in terms of speed.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;                             \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;K lines     \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;K lines     \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;K lines\nLoop with \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;std::getline\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;         105ms          894ms          9773ms\nBoost code                       106ms          968ms          9561ms\nC code                            23ms          243ms          2397ms\n\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/fKKqc.png\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/fKKqc.png\u0026quot; alt=\u0026quot;enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Since your coordinates belong together as pairs, why not write a struct for them?\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;CoordinatePair\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; x;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; y;\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Then you can write an overloaded extraction operator for istreams:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;std::istream\u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;operator\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026amp;gt;(std::istream\u0026amp;amp; is, CoordinatePair\u0026amp;amp; coordinates)\n{\n    is \u0026amp;gt;\u0026amp;gt; coordinates.x \u0026amp;gt;\u0026amp;gt; coordinates.y;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; is;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And then you can read a file of coordinates straight into a vector like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;fstream\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;iterator\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;vector\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;char\u0026lt;/span\u0026gt; filename[] = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;coordinates.txt\u0026quot;\u0026lt;/span\u0026gt;;\n    std::vector\u0026amp;lt;CoordinatePair\u0026amp;gt; v;\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;std::ifstream \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;ifs\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(filename)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (ifs) {\n        std::\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;copy\u0026lt;/span\u0026gt;(std::\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;istream_iterator\u0026lt;/span\u0026gt;\u0026amp;lt;CoordinatePair\u0026amp;gt;(ifs), \n                std::\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;istream_iterator\u0026lt;/span\u0026gt;\u0026amp;lt;CoordinatePair\u0026amp;gt;(),\n                std::\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;back_inserter\u0026lt;/span\u0026gt;(v));\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n        std::cerr \u0026amp;lt;\u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Couldn\u0026apos;t open \u0026quot;\u0026lt;/span\u0026gt; \u0026amp;lt;\u0026amp;lt; filename \u0026amp;lt;\u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; for reading\\n\u0026quot;\u0026lt;/span\u0026gt;;\n    }\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Now you can work with the contents of v\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Expanding on the accepted answer, if the input is:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,NYC\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,ABQ\n...\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;you will still be able to apply the same logic, like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;fstream\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;std::ifstream \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;infile\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;thefile.txt\u0026quot;\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (infile.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;is_open\u0026lt;/span\u0026gt;()) {\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; number;\n    std::string str;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;char\u0026lt;/span\u0026gt; c;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; (infile \u0026amp;gt;\u0026amp;gt; number \u0026amp;gt;\u0026amp;gt; c \u0026amp;gt;\u0026amp;gt; str \u0026amp;amp;\u0026amp;amp; c == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;,\u0026apos;\u0026lt;/span\u0026gt;)\n        std::cout \u0026amp;lt;\u0026amp;lt; number \u0026amp;lt;\u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; \u0026quot;\u0026lt;/span\u0026gt; \u0026amp;lt;\u0026amp;lt; str \u0026amp;lt;\u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\\n\u0026quot;\u0026lt;/span\u0026gt;;\n}\ninfile.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;close\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This answer is for visual studio 2017 and if you want to read from text file which location is relative to your compiled console application.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;first put your textfile (test.txt in this case) into your solution folder. After compiling keep text file in same folder with applicationName.exe\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;C:\\Users\\\u0026quot;username\u0026quot;\\source\\repos\\\u0026quot;solutionName\u0026quot;\\\u0026quot;solutionName\u0026quot;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;iostream\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;fstream\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;using\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;namespace\u0026lt;/span\u0026gt; std;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    ifstream inFile;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// open the file stream\u0026lt;/span\u0026gt;\n    inFile.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;open\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;.\\\\test.txt\u0026quot;\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// check if opening a file failed\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (inFile.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;fail\u0026lt;/span\u0026gt;()) {\n        cerr \u0026amp;lt;\u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Error opeing a file\u0026quot;\u0026lt;/span\u0026gt; \u0026amp;lt;\u0026amp;lt; endl;\n        inFile.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;close\u0026lt;/span\u0026gt;();\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;exit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;);\n    }\n    string line;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getline\u0026lt;/span\u0026gt;(inFile, line))\n    {\n        cout \u0026amp;lt;\u0026amp;lt; line \u0026amp;lt;\u0026amp;lt; endl;\n    }\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// close the file stream\u0026lt;/span\u0026gt;\n    inFile.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;close\u0026lt;/span\u0026gt;();\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Although there is no need to close the file manually but it is good idea to do so if the scope of the file variable is bigger:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;ifstream \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;infile\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(szFilePath)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (string line = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getline\u0026lt;/span\u0026gt;(infile, line); )\n    {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//do something with the line\u0026lt;/span\u0026gt;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(infile.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;is_open\u0026lt;/span\u0026gt;())\n        infile.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;close\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This is a general solution to loading data into a C++ program, and uses the readline function. This could be modified for CSV files, but the delimiter is a space here. \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; n = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;, p = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; X[n][p];\n\nifstream myfile;\n\nmyfile.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;open\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;data.txt\u0026quot;\u0026lt;/span\u0026gt;);\n\nstring line;\nstring temp = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; a = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// row index \u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getline\u0026lt;/span\u0026gt;(myfile, line)) { \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//while there is a line\u0026lt;/span\u0026gt;\n     \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; b = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// column index\u0026lt;/span\u0026gt;\n     \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; line.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;size\u0026lt;/span\u0026gt;(); i++) { \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// for each character in rowstring\u0026lt;/span\u0026gt;\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;isblank\u0026lt;/span\u0026gt;(line[i])) { \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// if it is not blank, do this\u0026lt;/span\u0026gt;\n              \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;string \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;d\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, line[i])\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// convert character to string\u0026lt;/span\u0026gt;\n              temp.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;append\u0026lt;/span\u0026gt;(d); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// append the two strings\u0026lt;/span\u0026gt;\n        } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n              X[a][b] = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;stod\u0026lt;/span\u0026gt;(temp);  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// convert string to double\u0026lt;/span\u0026gt;\n              temp = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// reset the capture\u0026lt;/span\u0026gt;\n              b++; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// increment b cause we have a new number\u0026lt;/span\u0026gt;\n        }\n    }\n\n  X[a][b] = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;stod\u0026lt;/span\u0026gt;(temp);\n  temp = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;;\n  a++; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// onto next row\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":511,"title":"Read file line by line using ifstream in C++","content":"\n                \n\u0026lt;p\u0026gt;The contents of file.txt are:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Where \u0026lt;code\u0026gt;5 3\u0026lt;/code\u0026gt; is a coordinate pair.\nHow do I process this data line by line in C++?\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I am able to get the first line, but how do I get the next line of the file?\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;ifstream myfile;\nmyfile.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;open\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;file.txt\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","slug":"read-file-line-by-line-using-ifstream-in-c++-1657388236966","postType":"QUESTION","createdAt":"2022-07-09T17:37:17.000Z","updatedAt":"2022-07-09T17:37:17.000Z","tags":[{"id":2535,"name":"file-io","slug":"file-io","createdAt":"2022-07-09T17:37:17.000Z","updatedAt":"2022-07-09T17:37:17.000Z","Questions_Tags":{"questionId":511,"tagId":2535}},{"id":2537,"name":"ofstream","slug":"ofstream","createdAt":"2022-07-09T17:37:17.000Z","updatedAt":"2022-07-09T17:37:17.000Z","Questions_Tags":{"questionId":511,"tagId":2537}}]}},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"read-file-line-by-line-using-ifstream-in-c++-1657388236966"},"buildId":"6_hwtyf_oFlFS5l_S4CTe","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>