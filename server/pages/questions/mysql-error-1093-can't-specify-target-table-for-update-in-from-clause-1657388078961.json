{"pageProps":{"data":{"answer":["\n&lt;p&gt;&lt;em&gt;Update: This answer covers the general error classification. For a more specific answer about how to best handle the OP&apos;s exact query, please see other answers to this question&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;In MySQL, you can&apos;t modify the same table which you use in the SELECT part.&lt;br&gt;\nThis behaviour is documented at:\n&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.6/en/update.html&quot; rel=&quot;noreferrer&quot;&gt;http://dev.mysql.com/doc/refman/5.6/en/update.html&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Maybe you can just join the table to itself&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;If the logic is simple enough to re-shape the query, lose the subquery and join the table to itself, employing appropriate selection criteria. This will cause MySQL to see the table as two different things, allowing destructive changes to go ahead.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;UPDATE&lt;/span&gt; tbl &lt;span class=&quot;hljs-keyword&quot;&gt;AS&lt;/span&gt; a\n&lt;span class=&quot;hljs-keyword&quot;&gt;INNER&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;JOIN&lt;/span&gt; tbl &lt;span class=&quot;hljs-keyword&quot;&gt;AS&lt;/span&gt; b &lt;span class=&quot;hljs-keyword&quot;&gt;ON&lt;/span&gt; ....\n&lt;span class=&quot;hljs-keyword&quot;&gt;SET&lt;/span&gt; a.col &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; b.col\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Alternatively, try nesting the subquery deeper into a from clause ...&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;If you absolutely need the subquery, there&apos;s a workaround, but it&apos;s\nugly for several reasons, including performance:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;UPDATE&lt;/span&gt; tbl &lt;span class=&quot;hljs-keyword&quot;&gt;SET&lt;/span&gt; col &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (\n  &lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; ... &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; (SELECT.... &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot;&gt;AS&lt;/span&gt; x);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The nested subquery in the FROM clause creates an &lt;em&gt;implicit temporary\ntable&lt;/em&gt;, so it doesn&apos;t count as the same table you&apos;re updating. &lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;... but watch out for the query optimiser&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;However, beware that from &lt;a href=&quot;http://dev.mysql.com/doc/relnotes/mysql/5.7/en/news-5-7-6.html&quot; rel=&quot;noreferrer&quot;&gt;MySQL 5.7.6&lt;/a&gt; and onward, the optimiser may optimise out the subquery, and still give you the error. Luckily, the  &lt;code&gt;optimizer_switch&lt;/code&gt; variable can be used to switch off this behaviour; although I couldn&apos;t recommend doing this as anything more than a short term fix, or for small one-off tasks.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;SET&lt;/span&gt; optimizer_switch &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;derived_merge=off&apos;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;em&gt;Thanks to &lt;a href=&quot;https://stackoverflow.com/users/345716/peter-v-m%C3%B8rch&quot;&gt;Peter V. MÃ¸rch&lt;/a&gt; for this advice in the comments.&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;Example technique was from Baron Schwartz, &lt;a href=&quot;http://grokbase.com/t/mysql/mysql/08259dm24b/error-you-cant-specify-target-table-for-update-in-from-clause&quot; rel=&quot;noreferrer&quot;&gt;originally published at Nabble&lt;/a&gt;, paraphrased and extended here.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/users/445500/nexusrex&quot;&gt;NexusRex&lt;/a&gt; provided  a &lt;a href=&quot;https://stackoverflow.com/a/8620162/1101589&quot;&gt;very good solution&lt;/a&gt; for deleting with join from the same table.&lt;/p&gt;\n\n&lt;p&gt;If you do this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; story_category\n&lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; category_id &lt;span class=&quot;hljs-keyword&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;IN&lt;/span&gt; (\n        &lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;DISTINCT&lt;/span&gt; category.id &lt;span class=&quot;hljs-keyword&quot;&gt;AS&lt;/span&gt; cid &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; category \n        &lt;span class=&quot;hljs-keyword&quot;&gt;INNER&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;JOIN&lt;/span&gt; story_category &lt;span class=&quot;hljs-keyword&quot;&gt;ON&lt;/span&gt; category_id&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;category.id\n)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;you are going to get an error.&lt;/p&gt;\n\n&lt;p&gt;But if you wrap the condition in one more select:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; story_category\n&lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; category_id &lt;span class=&quot;hljs-keyword&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;IN&lt;/span&gt; (\n    &lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; cid &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; (\n        &lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;DISTINCT&lt;/span&gt; category.id &lt;span class=&quot;hljs-keyword&quot;&gt;AS&lt;/span&gt; cid &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; category \n        &lt;span class=&quot;hljs-keyword&quot;&gt;INNER&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;JOIN&lt;/span&gt; story_category &lt;span class=&quot;hljs-keyword&quot;&gt;ON&lt;/span&gt; category_id&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;category.id\n    ) &lt;span class=&quot;hljs-keyword&quot;&gt;AS&lt;/span&gt; c\n)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;it would do the right thing!!&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Explanation:&lt;/strong&gt; The query optimizer does a &lt;a href=&quot;https://mariadb.com/kb/en/library/derived-table-merge-optimization/&quot; rel=&quot;noreferrer&quot;&gt;&lt;em&gt;derived merge optimization&lt;/em&gt;&lt;/a&gt; for the first query (which causes it to fail with the error), but the second query doesn&apos;t qualify for the &lt;em&gt;derived merge optimization&lt;/em&gt;. Hence the optimizer is forced to execute the subquery first.&lt;/p&gt;\n    ","\n&lt;p&gt;Recently i had to update records in the same table i did it like below:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;UPDATE&lt;/span&gt; skills &lt;span class=&quot;hljs-keyword&quot;&gt;AS&lt;/span&gt; s, (&lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; id  &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; skills &lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; type &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;Programming&apos;&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot;&gt;AS&lt;/span&gt; p\n&lt;span class=&quot;hljs-keyword&quot;&gt;SET&lt;/span&gt; s.type &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;Development&apos;&lt;/span&gt; \n&lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; s.id &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; p.id;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;The &lt;code&gt;inner join&lt;/code&gt; in your sub-query is unnecessary.  It looks like you want to delete the entries in &lt;code&gt;story_category&lt;/code&gt; where the &lt;code&gt;category_id&lt;/code&gt; is not in the &lt;code&gt;category&lt;/code&gt; table.&lt;/p&gt;\n&lt;p&gt;Instead of that:&lt;/p&gt;\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; story_category \n&lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; category_id &lt;span class=&quot;hljs-keyword&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;IN&lt;/span&gt; (\n    &lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;DISTINCT&lt;/span&gt; category.id \n    &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; category &lt;span class=&quot;hljs-keyword&quot;&gt;INNER&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;JOIN&lt;/span&gt;\n         story_category &lt;span class=&quot;hljs-keyword&quot;&gt;ON&lt;/span&gt; category_id&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;category.id);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Do this:&lt;/p&gt;\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; story_category \n&lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; category_id &lt;span class=&quot;hljs-keyword&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;IN&lt;/span&gt; (\n    &lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;DISTINCT&lt;/span&gt; category.id \n    &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; category);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If you can&apos;t do &lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;SET&lt;/span&gt; a&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; x &lt;span class=&quot;hljs-keyword&quot;&gt;IN&lt;/span&gt;\n    (&lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; x &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;condition&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;because it is the same table, you can trick and do :&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;SET&lt;/span&gt; a&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; x &lt;span class=&quot;hljs-keyword&quot;&gt;IN&lt;/span&gt;\n    (&lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; x &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;condition&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; t)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;[update or delete or whatever]&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; story_category\n&lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; category_id &lt;span class=&quot;hljs-keyword&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;IN&lt;/span&gt; (\n    &lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; cid &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; (\n        &lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;DISTINCT&lt;/span&gt; category.id &lt;span class=&quot;hljs-keyword&quot;&gt;AS&lt;/span&gt; cid &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; category &lt;span class=&quot;hljs-keyword&quot;&gt;INNER&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;JOIN&lt;/span&gt; story_category &lt;span class=&quot;hljs-keyword&quot;&gt;ON&lt;/span&gt; category_id&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;category.id\n    ) &lt;span class=&quot;hljs-keyword&quot;&gt;AS&lt;/span&gt; c\n)\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;This is what I did for updating a Priority column value by 1 if it is &amp;gt;=1 in a table and in its WHERE clause using a subquery on same table to make sure that at least one row contains Priority=1 (because that was the condition to be checked while performing update) :&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;UPDATE&lt;/span&gt; My_Table\n&lt;span class=&quot;hljs-keyword&quot;&gt;SET&lt;/span&gt; Priority&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;Priority &lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; Priority &lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;AND&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; My_Table &lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; Priority&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; LIMIT &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; t);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I know it&apos;s a bit ugly but it does works fine.&lt;/p&gt;\n    ","\n&lt;p&gt;For the specific query the OP is trying to achieve, the ideal and most efficient way to do this is NOT to use a subquery at all.  &lt;/p&gt;\n\n&lt;p&gt;Here are the &lt;code&gt;LEFT JOIN&lt;/code&gt; versions of the OP&apos;s two queries:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; s.&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt; \n&lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; story_category s \n&lt;span class=&quot;hljs-keyword&quot;&gt;LEFT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;JOIN&lt;/span&gt; category c \n&lt;span class=&quot;hljs-keyword&quot;&gt;ON&lt;/span&gt; c.id&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;s.category_id \n&lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; c.id &lt;span class=&quot;hljs-keyword&quot;&gt;IS&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;NULL&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Note: &lt;code&gt;DELETE s&lt;/code&gt; restricts delete operations to the &lt;code&gt;story_category&lt;/code&gt; table.&lt;br&gt;&lt;a href=&quot;https://dev.mysql.com/doc/refman/5.7/en/delete.html#idm45469393574032&quot; rel=&quot;noreferrer&quot;&gt;Documentation&lt;/a&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;DELETE&lt;/span&gt; s \n&lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; story_category s \n&lt;span class=&quot;hljs-keyword&quot;&gt;LEFT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;JOIN&lt;/span&gt; category c \n&lt;span class=&quot;hljs-keyword&quot;&gt;ON&lt;/span&gt; c.id&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;s.category_id \n&lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; c.id &lt;span class=&quot;hljs-keyword&quot;&gt;IS&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;NULL&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;The simplest way to do this is use a table alias when you are referring parent query table inside the sub query.&lt;/p&gt;\n\n&lt;p&gt;Example :&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;into&lt;/span&gt; xxx_tab (trans_id) &lt;span class=&quot;hljs-keyword&quot;&gt;values&lt;/span&gt; ((&lt;span class=&quot;hljs-keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;(trans_id)&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; xxx_tab));\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Change it to:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;into&lt;/span&gt; xxx_tab (trans_id) &lt;span class=&quot;hljs-keyword&quot;&gt;values&lt;/span&gt; ((&lt;span class=&quot;hljs-keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;(P.trans_id)&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; xxx_tab P));\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You could insert the desired rows&apos; ids into a temp table and then delete all the rows that are found in that table.&lt;/p&gt;\n\n&lt;p&gt;which may be what @Cheekysoft meant by doing it in two steps.&lt;/p&gt;\n    ","\n&lt;p&gt;According to &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.6/en/update.html&quot; rel=&quot;nofollow&quot;&gt; the Mysql UPDATE Syntax&lt;/a&gt; linked by @CheekySoft, it says right at the bottom.&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;Currently, you cannot update a table and select from the same table in a subquery.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;I guess you are deleting from store_category while still selecting from it in the union.&lt;/p&gt;\n    ","\n&lt;p&gt;Try to save result of Select statement in separate variable and then use that for delete query.&lt;/p&gt;\n    ","\n&lt;p&gt;try this&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; story_category \n&lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; category_id &lt;span class=&quot;hljs-keyword&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;IN&lt;/span&gt; (\n&lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;DISTINCT&lt;/span&gt; category.id \n&lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; STORY_CATEGORY) sc;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If something does not work, when coming thru the front-door, then take the back-door:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;drop&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;table&lt;/span&gt; if &lt;span class=&quot;hljs-keyword&quot;&gt;exists&lt;/span&gt; apples;\n&lt;span class=&quot;hljs-keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;table&lt;/span&gt; if &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;exists&lt;/span&gt; apples(variety &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot;&gt;primary&lt;/span&gt; key, price &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;into&lt;/span&gt; apples &lt;span class=&quot;hljs-keyword&quot;&gt;values&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;fuji&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;), (&lt;span class=&quot;hljs-string&quot;&gt;&apos;gala&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;drop&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;table&lt;/span&gt; if &lt;span class=&quot;hljs-keyword&quot;&gt;exists&lt;/span&gt; apples_new;\n&lt;span class=&quot;hljs-keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;table&lt;/span&gt; if &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;exists&lt;/span&gt; apples_new &lt;span class=&quot;hljs-keyword&quot;&gt;like&lt;/span&gt; apples;\n&lt;span class=&quot;hljs-keyword&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;into&lt;/span&gt; apples_new &lt;span class=&quot;hljs-keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; apples;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;update&lt;/span&gt; apples_new\n    &lt;span class=&quot;hljs-keyword&quot;&gt;set&lt;/span&gt; price &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;select&lt;/span&gt; price &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; apples &lt;span class=&quot;hljs-keyword&quot;&gt;where&lt;/span&gt; variety &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;gala&apos;&lt;/span&gt;)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;where&lt;/span&gt; variety &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;fuji&apos;&lt;/span&gt;;\nrename &lt;span class=&quot;hljs-keyword&quot;&gt;table&lt;/span&gt; apples &lt;span class=&quot;hljs-keyword&quot;&gt;to&lt;/span&gt; apples_orig;\nrename &lt;span class=&quot;hljs-keyword&quot;&gt;table&lt;/span&gt; apples_new &lt;span class=&quot;hljs-keyword&quot;&gt;to&lt;/span&gt; apples;\n&lt;span class=&quot;hljs-keyword&quot;&gt;drop&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;table&lt;/span&gt; apples_orig;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It&apos;s fast. The bigger the data, the better.&lt;/p&gt;\n    ","\n&lt;p&gt;how about this query hope it helps&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; story_category &lt;span class=&quot;hljs-keyword&quot;&gt;LEFT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;JOIN&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; category.id &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; category) cat &lt;span class=&quot;hljs-keyword&quot;&gt;ON&lt;/span&gt; story_category.id &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; cat.id &lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; cat.id &lt;span class=&quot;hljs-keyword&quot;&gt;IS&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;NULL&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;As far as concerns, you want to delete rows in &lt;code&gt;story_category&lt;/code&gt; that do not exist in &lt;code&gt;category&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Here is your original query to identify the rows to delete:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt; \n&lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt;  story_category \n&lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; category_id &lt;span class=&quot;hljs-keyword&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;IN&lt;/span&gt; (\n    &lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;DISTINCT&lt;/span&gt; category.id \n    &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; category &lt;span class=&quot;hljs-keyword&quot;&gt;INNER&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;JOIN&lt;/span&gt; \n       story_category &lt;span class=&quot;hljs-keyword&quot;&gt;ON&lt;/span&gt; category_id&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;category.id\n);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Combining &lt;code&gt;NOT IN&lt;/code&gt; with a subquery that &lt;code&gt;JOIN&lt;/code&gt;s the original table seems unecessarily convoluted. This can  be expressed in a more straight-forward manner with &lt;code&gt;not exists&lt;/code&gt; and a correlated subquery:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;select&lt;/span&gt; sc.&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; story_category sc\n&lt;span class=&quot;hljs-keyword&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;exists&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; category c &lt;span class=&quot;hljs-keyword&quot;&gt;where&lt;/span&gt; c.id &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; sc.category_id);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now it is easy to turn this to a &lt;code&gt;delete&lt;/code&gt; statement:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; story_category\n&lt;span class=&quot;hljs-keyword&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;exists&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; category c &lt;span class=&quot;hljs-keyword&quot;&gt;where&lt;/span&gt; c.id &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; story_category.category_id);    \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This quer would run on any MySQL version, as well as in most other databases that I know.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://dbfiddle.uk/?rdbms=mysql_5.7&amp;amp;fiddle=d73925fbe6a24605b1cf9fe66a94d07c&quot; rel=&quot;nofollow noreferrer&quot;&gt;Demo on DB Fiddle&lt;/a&gt;&lt;/strong&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;-- set-up&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;table&lt;/span&gt; story_category(category_id &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;table&lt;/span&gt; category (id &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;into&lt;/span&gt; story_category &lt;span class=&quot;hljs-keyword&quot;&gt;values&lt;/span&gt; (&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;), (&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;), (&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;), (&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;), (&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;into&lt;/span&gt; category &lt;span class=&quot;hljs-keyword&quot;&gt;values&lt;/span&gt; (&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;), (&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;), (&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;), (&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-comment&quot;&gt;-- your original query to identify offending rows&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt; \n&lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt;  story_category \n&lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; category_id &lt;span class=&quot;hljs-keyword&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;IN&lt;/span&gt; (\n    &lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;DISTINCT&lt;/span&gt; category.id \n    &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; category &lt;span class=&quot;hljs-keyword&quot;&gt;INNER&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;JOIN&lt;/span&gt; \n       story_category &lt;span class=&quot;hljs-keyword&quot;&gt;ON&lt;/span&gt; category_id&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;category.id);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;pre&gt;| category_id |\n| ----------: |\n|           1 |\n|           2 |\n|           3 |\n&lt;/pre&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;-- a functionally-equivalent, simpler query for this&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;select&lt;/span&gt; sc.&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; story_category sc\n&lt;span class=&quot;hljs-keyword&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;exists&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; category c &lt;span class=&quot;hljs-keyword&quot;&gt;where&lt;/span&gt; c.id &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; sc.category_id)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;pre&gt;| category_id |\n| ----------: |\n|           1 |\n|           2 |\n|           3 |\n&lt;/pre&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;-- the delete query&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; story_category\n&lt;span class=&quot;hljs-keyword&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;exists&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; category c &lt;span class=&quot;hljs-keyword&quot;&gt;where&lt;/span&gt; c.id &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; story_category.category_id);\n\n&lt;span class=&quot;hljs-comment&quot;&gt;-- outcome&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; story_category;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;pre&gt;| category_id |\n| ----------: |\n|           4 |\n|           5 |\n&lt;/pre&gt;\n    "],"comment":["\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Related:  &lt;a href=&quot;http://stackoverflow.com/a/14302701/238419&quot;&gt;stackoverflow.com/a/14302701/238419&lt;/a&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/238419/blueraja-danny-pflughoeft&quot; title=&quot;80,453 reputation&quot; class=&quot;comment-user&quot;&gt;BlueRaja - Danny Pflughoeft&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment21121831_45494&quot;&gt;&lt;span title=&quot;2013-02-22 18:10:06Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Feb 22, 2013 at 18:10&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Seems like the feature request in the MySQL bug tracker is here: &lt;a href=&quot;https://bugs.mysql.com/bug.php?id=23353&quot; rel=&quot;nofollow noreferrer&quot;&gt;cannot update a table and select from the same table in a subquery&lt;/a&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/4200039/ben-creasy&quot; title=&quot;3,500 reputation&quot; class=&quot;comment-user&quot;&gt;Ben Creasy&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment83033324_45494&quot;&gt;&lt;span title=&quot;2017-12-30 06:32:26Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Dec 30, 2017 at 6:32&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;&lt;a href=&quot;https://stackoverflow.com/a/50749204/5070879&quot;&gt;MariaDB 10.3 allows for self-referencing in UPDATE/DELETE&lt;/a&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/5070879/lukasz-szozda&quot; title=&quot;142,366 reputation&quot; class=&quot;comment-user&quot;&gt;Lukasz Szozda&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment90932581_45494&quot;&gt;&lt;span title=&quot;2018-08-23 17:42:21Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Aug 23, 2018 at 17:42&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Upvoted this answer because I had to delete items and could not get info from another table, had to subquery from same table. Since this is what pops up on top while googling for the error I got this would be the best fit answer for me and a lot of people trying to update while subquerieing from the same table.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1641941/hmr&quot; title=&quot;34,526 reputation&quot; class=&quot;comment-user&quot;&gt;HMR&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment19037403_45498&quot;&gt;&lt;span title=&quot;2012-12-12 03:36:56Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Dec 12, 2012 at 3:36&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@Cheekysoft, Why not save the values into variables instead?&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/632951/pacerier&quot; title=&quot;81,802 reputation&quot; class=&quot;comment-user&quot;&gt;Pacerier&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment45667932_45498&quot;&gt;&lt;span title=&quot;2015-02-24 03:47:27Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Feb 24, 2015 at 3:47&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@PeterV.MÃ¸rch Following &lt;a href=&quot;http://mysqlserverteam.com/derived-tables-in-mysql-5-7&quot; rel=&quot;nofollow noreferrer&quot;&gt;mysqlserverteam.com/derived-tables-in-mysql-5-7&lt;/a&gt;, in case certain operations are carried out, merging cannot happen. E.g. provide the derived dummy table with a LIMIT (to inifity) and the error will never occur. That&apos;s pretty hackish though and there is still the risk that future versions of MySQL will support merging queries with LIMIT after all.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/2180613/user2180613&quot; title=&quot;729 reputation&quot; class=&quot;comment-user&quot;&gt;user2180613&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment65402075_45498&quot;&gt;&lt;span title=&quot;2016-08-18 18:59:04Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Aug 18, 2016 at 18:59&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Can you, please, provide a full example about this workaround?  UPDATE tbl SET col = ( SELECT ... FROM (SELECT.... FROM) AS x); i&apos;m still getting errors&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/6479108/joelbonetr&quot; title=&quot;1,504 reputation&quot; class=&quot;comment-user&quot;&gt;JoelBonetR&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment91457764_45498&quot;&gt;&lt;span title=&quot;2018-09-10 09:56:33Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Sep 10, 2018 at 9:56&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;INNER JOIN Work for me :)&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/8325024/hassanrazadev&quot; title=&quot;518 reputation&quot; class=&quot;comment-user&quot;&gt;hassanrazadev&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment106083199_45498&quot;&gt;&lt;span title=&quot;2020-01-30 11:16:35Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jan 30, 2020 at 11:16&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Maybe it&apos;s because I&apos;m in a bind today, but this was the easiest answer, even if it&apos;s maybe not the &quot;best&quot; one.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1038564/tyler-v&quot; title=&quot;2,185 reputation&quot; class=&quot;comment-user&quot;&gt;Tyler V.&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment40162128_9843719&quot;&gt;&lt;span title=&quot;2014-09-05 23:13:19Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Sep 5, 2014 at 23:13&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;This worked great, thanks!  So what&apos;s the logic here?  If it&apos;s nested one more level then it will be executed before the outer part?  And if it&apos;s not nested then mySQL tries to run it after the delete has a lock on the table?&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/608854/flat-cat&quot; title=&quot;849 reputation&quot; class=&quot;comment-user&quot;&gt;Flat Cat&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment43377637_9843719&quot;&gt;&lt;span title=&quot;2014-12-14 16:40:45Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Dec 14, 2014 at 16:40&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;This error and solution make no logical sense...but it works. Sometimes I wonder what drugs the MySQL devs are on...&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/247542/cerin&quot; title=&quot;56,301 reputation&quot; class=&quot;comment-user&quot;&gt;Cerin&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment56377449_9843719&quot;&gt;&lt;span title=&quot;2015-12-16 17:01:30Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Dec 16, 2015 at 17:01&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Agree with @Cerin.. this is completely absurd, but it works.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1077670/fasttrack&quot; title=&quot;8,640 reputation&quot; class=&quot;comment-user&quot;&gt;FastTrack&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment76594241_9843719&quot;&gt;&lt;span title=&quot;2017-06-28 15:44:20Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 28, 2017 at 15:44&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@ekonoval Thanks you for the solution but It does not make the minimum sense for me, looks like you is fooling MySQL and he accept it, lol&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/2979435/defreitas&quot; title=&quot;3,787 reputation&quot; class=&quot;comment-user&quot;&gt;deFreitas&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment77534527_9843719&quot;&gt;&lt;span title=&quot;2017-07-24 16:59:43Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jul 24, 2017 at 16:59&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 2 times&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Can&apos;t this just be written as &lt;code&gt;UPDATE skills SET type=&apos;Development&apos; WHERE type=&apos;Programming&apos;;&lt;/code&gt; ? This doesn&apos;t seem to be answering the original question.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/91165/lilbyrdie&quot; title=&quot;1,887 reputation&quot; class=&quot;comment-user&quot;&gt;lilbyrdie&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment36908266_12737534&quot;&gt;&lt;span title=&quot;2014-05-30 15:23:10Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;May 30, 2014 at 15:23&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Seems like overkill, @lilbyrdie is correct - it could only be &lt;code&gt;UPDATE skills SET type=&apos;Development&apos; WHERE type=&apos;Programming&apos;;&lt;/code&gt;. I do not understand why so many people is not thinking about what they do...&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/598500/shadyyx&quot; title=&quot;15,526 reputation&quot; class=&quot;comment-user&quot;&gt;shadyyx&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment43086789_12737534&quot;&gt;&lt;span title=&quot;2014-12-05 10:00:57Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Dec 5, 2014 at 10:00&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;this is the best answer here, IMHO. It&apos;s syntax is easy to understand, you can re-use your previous statement and it&apos;s not limited to some super specific case.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/937093/steffen-winkler&quot; title=&quot;2,756 reputation&quot; class=&quot;comment-user&quot;&gt;Steffen Winkler&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment52745832_12737534&quot;&gt;&lt;span title=&quot;2015-09-07 14:28:16Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Sep 7, 2015 at 14:28&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Even if the example case is questionable, the principle is the best to understand and deploy in real-world scenarios. The shown query works because implicit join in table list creates a temporary table for a subquery, thus providing stable results and avoiding clash between retrieval and modification of the same table.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1449366/anrdaemon&quot; title=&quot;159 reputation&quot; class=&quot;comment-user&quot;&gt;AnrDaemon&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment74318472_12737534&quot;&gt;&lt;span title=&quot;2017-04-26 13:11:04Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Apr 26, 2017 at 13:11&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;regardless of what anyone might say about this being overkill, it still answers the question in terms of the title. The error which the OP mentioned is also encountered when a update is attempted using the same table in a nested query&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/2089675/smac89&quot; title=&quot;33,726 reputation&quot; class=&quot;comment-user&quot;&gt;smac89&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment83336652_12737534&quot;&gt;&lt;span title=&quot;2018-01-09 23:40:03Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jan 9, 2018 at 23:40&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;This should be the top answer!  Maybe delete the first &quot;instead of&quot;.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/3499/hoyhoy&quot; title=&quot;6,143 reputation&quot; class=&quot;comment-user&quot;&gt;hoyhoy&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment3851620_947417&quot;&gt;&lt;span title=&quot;2010-09-07 17:35:05Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Sep 7, 2010 at 17:35&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;I think &lt;code&gt;DISTINCT&lt;/code&gt; is unnecessary here - for a better performance ;).&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/4519059/sha-t&quot; title=&quot;15,950 reputation&quot; class=&quot;comment-user&quot;&gt;shA.t&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment49183612_947417&quot;&gt;&lt;span title=&quot;2015-05-31 09:38:51Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;May 31, 2015 at 9:38&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;I must be crazy.  The answer is the same as what was stated in the original.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/591529/jeff-lowery&quot; title=&quot;2,303 reputation&quot; class=&quot;comment-user&quot;&gt;Jeff Lowery&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment73101986_947417&quot;&gt;&lt;span title=&quot;2017-03-24 18:03:20Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Mar 24, 2017 at 18:03&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;This is the answer for me also. Don&apos;t &lt;code&gt;where in&lt;/code&gt; on the ID column, so you dont need to subquery the primary table.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/690113/richard&quot; title=&quot;4,193 reputation&quot; class=&quot;comment-user&quot;&gt;Richard&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment82008005_947417&quot;&gt;&lt;span title=&quot;2017-11-28 07:26:48Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Nov 28, 2017 at 7:26&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@JeffLowery - the &lt;b&gt;first&lt;/b&gt; code block is the answer here; its the second code block that is from the question.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/199364/toolmakersteve&quot; title=&quot;11,966 reputation&quot; class=&quot;comment-user&quot;&gt;ToolmakerSteve&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment98198650_947417&quot;&gt;&lt;span title=&quot;2019-04-19 12:45:47Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Apr 19, 2019 at 12:45&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Most understandable and logical implementation of all of the above answers. Simple and to the point.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/631974/clain-dsilva&quot; title=&quot;1,623 reputation&quot; class=&quot;comment-user&quot;&gt;Clain Dsilva&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment104258577_43610081&quot;&gt;&lt;span title=&quot;2019-11-23 03:44:59Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Nov 23, 2019 at 3:44&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;This has become part of my workflow now. Get stuck on this error, head over to this answer and rectify the query. Thanks.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1512417/vaibhav&quot; title=&quot;106 reputation&quot; class=&quot;comment-user&quot;&gt;Vaibhav&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment107075578_43610081&quot;&gt;&lt;span title=&quot;2020-03-04 12:09:22Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Mar 4, 2020 at 12:09&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Gonna use this trick for everything now. Mind blown o_o&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/149992/justin&quot; title=&quot;8,880 reputation&quot; class=&quot;comment-user&quot;&gt;Justin&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment116668264_43610081&quot;&gt;&lt;span title=&quot;2021-02-01 04:17:03Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Feb 1, 2021 at 4:17&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Great trick.Simple but useful&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/9551466/kenyore&quot; title=&quot;56 reputation&quot; class=&quot;comment-user&quot;&gt;Kenyore&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment128479382_43610081&quot;&gt;&lt;span title=&quot;2022-06-24 02:14:33Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 24 at 2:14&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Can you explain why this works, why just nesting one more level works? This question has been asked already as a comment to @EkoNoval&apos;s question but nobody responded. Maybe you can help.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1513878/akshay-arora&quot; title=&quot;709 reputation&quot; class=&quot;comment-user&quot;&gt;Akshay Arora&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment57800489_8620162&quot;&gt;&lt;span title=&quot;2016-01-27 13:00:11Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jan 27, 2016 at 13:00&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@AkshayArora, Go through the part under the heading &apos;Maybe you can just join the table to itself&apos; in @Cheekysoft&apos;s answer. He said &lt;code&gt;UPDATE tbl AS a INNER JOIN tbl AS b ON .... SET a.col = b.col&lt;/code&gt; - this would work as a different alias for the same table is used here  . Similarly in @NexusRex&apos;s answer the first &lt;code&gt;SELECT&lt;/code&gt; query acts as a derived table into which &lt;code&gt;story_category&lt;/code&gt; is used for the second time. So the error mentioned in the OP should not take place here, right ?&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/998537/istiaque-ahmed&quot; title=&quot;5,719 reputation&quot; class=&quot;comment-user&quot;&gt;Istiaque Ahmed&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment81346192_8620162&quot;&gt;&lt;span title=&quot;2017-11-09 10:00:31Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Nov 9, 2017 at 10:00&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@anonymous_reviewer: In case of giving [-1] or even [+1] to someone&apos;s comment please also mention why have you given it. Thanks!!!&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/416369/sactiw&quot; title=&quot;21,137 reputation&quot; class=&quot;comment-user&quot;&gt;sactiw&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment4913602_3624656&quot;&gt;&lt;span title=&quot;2010-12-20 16:42:17Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Dec 20, 2010 at 16:42&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;-1 because this is incorrect. You can&apos;t modify the same table that you use in the SELECT statement.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/300129/chris&quot; title=&quot;5,359 reputation&quot; class=&quot;comment-user&quot;&gt;Chris&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment5347215_3624656&quot;&gt;&lt;span title=&quot;2011-01-27 20:10:12Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Jan 27, 2011 at 20:10&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@Chris I have verified it on MySQL and it works just fine for me so I would request you to please verify it at your end and then claim it to be correct or incorrect. Thanks!!!&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/416369/sactiw&quot; title=&quot;21,137 reputation&quot; class=&quot;comment-user&quot;&gt;sactiw&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment5642644_3624656&quot;&gt;&lt;span title=&quot;2011-02-18 15:03:08Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Feb 18, 2011 at 15:03&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;At the bottom of this page it says &apos;Currently, you cannot update a table and select from the same table in a subquery.&apos;  - and I have experienced this to be true on many occasions.  &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.0/en/update.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;dev.mysql.com/doc/refman/5.0/en/update.html&lt;/a&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/300129/chris&quot; title=&quot;5,359 reputation&quot; class=&quot;comment-user&quot;&gt;Chris&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment5649558_3624656&quot;&gt;&lt;span title=&quot;2011-02-19 00:08:28Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Feb 19, 2011 at 0:08&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@Chris I know that, but there is a workaround for that and which is exactly what I have tried to show with my &apos;UPDATE&apos; query and believe me it works just fine. I don&apos;t think you have really tried to verify my query at all.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/416369/sactiw&quot; title=&quot;21,137 reputation&quot; class=&quot;comment-user&quot;&gt;sactiw&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment5674378_3624656&quot;&gt;&lt;span title=&quot;2011-02-21 13:39:30Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Feb 21, 2011 at 13:39&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Surprised this doesn&apos;t have more up-votes. It should also be noted that the multi-table syntax also works with &lt;code&gt;UPDATE&lt;/code&gt; statements and joined sub-queries. Allowing you to perform &lt;code&gt;LEFT JOIN ( SELECT ... )&lt;/code&gt; as opposed to &lt;code&gt;WHERE IN( SELECT ... )&lt;/code&gt;, making the implementation useful across many use-cases.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1144627/will-b&quot; title=&quot;16,064 reputation&quot; class=&quot;comment-user&quot;&gt;Will B.&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment108143677_56978014&quot;&gt;&lt;span title=&quot;2020-04-09 19:16:39Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Apr 9, 2020 at 19:16&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;And you&apos;ve just lost all your foreign keys, and maybe you have some cascading deletes, too.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/315024/walf&quot; title=&quot;7,678 reputation&quot; class=&quot;comment-user&quot;&gt;Walf&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment43196731_694011&quot;&gt;&lt;span title=&quot;2014-12-09 06:48:49Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Dec 9, 2014 at 6:48&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;May be you can use this trick, but updating the original table instead of the new table, so you don&apos;t need to do the rename trick...&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/337772/eloyesp&quot; title=&quot;2,898 reputation&quot; class=&quot;comment-user&quot;&gt;eloyesp&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment127959471_694011&quot;&gt;&lt;span title=&quot;2022-05-30 11:46:20Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;May 30 at 11:46&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;The result shows : &apos; #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &apos;LEFT JOIN (SELECT categories.id FROM categories) cat ON story_category.id = cat.&apos; at line 1 &apos;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/998537/istiaque-ahmed&quot; title=&quot;5,719 reputation&quot; class=&quot;comment-user&quot;&gt;Istiaque Ahmed&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment81347016_43905253&quot;&gt;&lt;span title=&quot;2017-11-09 10:19:57Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Nov 9, 2017 at 10:19&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;When using multi-table delete you must specify the affected tables. &lt;code&gt;DELETE story_category FROM ...&lt;/code&gt; however, the joined sub-query is not necessary in this context and can be performed using &lt;code&gt;LEFT JOIN category AS cat ON cat.id = story_category.category_id WHERE cat.id IS NULL&lt;/code&gt;, Note the join criteria in the answer incorrectly references &lt;code&gt;story_category.id = cat.id&lt;/code&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1144627/will-b&quot; title=&quot;16,064 reputation&quot; class=&quot;comment-user&quot;&gt;Will B.&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment108144000_43905253&quot;&gt;&lt;span title=&quot;2020-04-09 19:27:46Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Apr 9, 2020 at 19:27&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 5 times&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        "],"id":466,"title":"MySQL Error 1093 - Can't specify target table for update in FROM clause","content":"\n                \n&lt;p&gt;I have a table &lt;code&gt;story_category&lt;/code&gt; in my database with corrupt entries. The next query returns the corrupt entries:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt; \n&lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt;  story_category \n&lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; category_id &lt;span class=&quot;hljs-keyword&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;IN&lt;/span&gt; (\n    &lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;DISTINCT&lt;/span&gt; category.id \n    &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; category &lt;span class=&quot;hljs-keyword&quot;&gt;INNER&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;JOIN&lt;/span&gt; \n       story_category &lt;span class=&quot;hljs-keyword&quot;&gt;ON&lt;/span&gt; category_id&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;category.id);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I tried to delete them executing:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-sql s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; story_category \n&lt;span class=&quot;hljs-keyword&quot;&gt;WHERE&lt;/span&gt; category_id &lt;span class=&quot;hljs-keyword&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;IN&lt;/span&gt; (\n    &lt;span class=&quot;hljs-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;DISTINCT&lt;/span&gt; category.id \n    &lt;span class=&quot;hljs-keyword&quot;&gt;FROM&lt;/span&gt; category \n      &lt;span class=&quot;hljs-keyword&quot;&gt;INNER&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;JOIN&lt;/span&gt; story_category &lt;span class=&quot;hljs-keyword&quot;&gt;ON&lt;/span&gt; category_id&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;category.id);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;But I get the next error: &lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;#1093 - You can&apos;t specify target table &apos;story_category&apos; for update in FROM clause &lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;How can I overcome this?&lt;/p&gt;\n    ","slug":"mysql-error-1093-can't-specify-target-table-for-update-in-from-clause-1657388078961","postType":"QUESTION","createdAt":"2022-07-09T17:34:38.000Z","updatedAt":"2022-07-09T17:34:38.000Z","tags":[{"id":2373,"name":"subquery","slug":"subquery","createdAt":"2022-07-09T17:34:39.000Z","updatedAt":"2022-07-09T17:34:39.000Z","Questions_Tags":{"questionId":466,"tagId":2373}},{"id":2374,"name":"sql-delete","slug":"sql-delete","createdAt":"2022-07-09T17:34:39.000Z","updatedAt":"2022-07-09T17:34:39.000Z","Questions_Tags":{"questionId":466,"tagId":2374}},{"id":2375,"name":"mysql-error-1093","slug":"mysql-error-1093","createdAt":"2022-07-09T17:34:39.000Z","updatedAt":"2022-07-09T17:34:39.000Z","Questions_Tags":{"questionId":466,"tagId":2375}}]}},"__N_SSG":true}