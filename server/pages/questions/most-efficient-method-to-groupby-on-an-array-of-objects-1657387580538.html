<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>Most efficient method to groupby on an array of objects | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="What is the most efficient way to groupby objects in an array?

For example, given this array of objects:

[ 
    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;5&quot; },
    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;10&quot; },
    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;15&quot; },
    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;20&quot; },
    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;25&quot; },
    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;30&quot; },
    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;35&quot; },
    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;40&quot; }
]


I’m displaying this information in a table. I’d like to groupby different methods, but I want to sum the values.

I’m using Underscore.js for its groupby function, which is helpful, but doesn’t do the whole trick, because I don’t want them “split up” but “merged”, more like the SQL group by method.

What I’m looking for would be able to total specific values (if requested).

So if I did groupby Phase, I’d want to receive:

[
    { Phase: &quot;Phase 1&quot;, Value: 50 },
    { Phase: &quot;Phase 2&quot;, Value: 130 }
]


And if I did groupy Phase / Step, I’d receive:

[
    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Value: 15 },
    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Value: 35 },
    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Value: 55 },
    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Value: 75 }
]


Is there a helpful script for this, or should I stick to using Underscore.js, and then looping through the resulting object to do the totals myself?
    "/><meta property="og:title" content="Most efficient method to groupby on an array of objects | Solutions Checker"/><meta property="og:description" content="What is the most efficient way to groupby objects in an array?

For example, given this array of objects:

[ 
    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;5&quot; },
    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;10&quot; },
    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;15&quot; },
    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;20&quot; },
    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;25&quot; },
    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;30&quot; },
    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;35&quot; },
    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;40&quot; }
]


I’m displaying this information in a table. I’d like to groupby different methods, but I want to sum the values.

I’m using Underscore.js for its groupby function, which is helpful, but doesn’t do the whole trick, because I don’t want them “split up” but “merged”, more like the SQL group by method.

What I’m looking for would be able to total specific values (if requested).

So if I did groupby Phase, I’d want to receive:

[
    { Phase: &quot;Phase 1&quot;, Value: 50 },
    { Phase: &quot;Phase 2&quot;, Value: 130 }
]


And if I did groupy Phase / Step, I’d receive:

[
    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Value: 15 },
    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Value: 35 },
    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Value: 55 },
    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Value: 75 }
]


Is there a helpful script for this, or should I stick to using Underscore.js, and then looping through the resulting object to do the totals myself?
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"Most efficient method to groupby on an array of objects","text":"What is the most efficient way to groupby objects in an array?\n\nFor example, given this array of objects:\n\n[ \n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;5&quot; },\n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;10&quot; },\n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;15&quot; },\n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;20&quot; },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;25&quot; },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;30&quot; },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;35&quot; },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;40&quot; }\n]\n\n\nI’m displaying this information in a table. I’d like to groupby different methods, but I want to sum the values.\n\nI’m using Underscore.js for its groupby function, which is helpful, but doesn’t do the whole trick, because I don’t want them “split up” but “merged”, more like the SQL group by method.\n\nWhat I’m looking for would be able to total specific values (if requested).\n\nSo if I did groupby Phase, I’d want to receive:\n\n[\n    { Phase: &quot;Phase 1&quot;, Value: 50 },\n    { Phase: &quot;Phase 2&quot;, Value: 130 }\n]\n\n\nAnd if I did groupy Phase / Step, I’d receive:\n\n[\n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Value: 15 },\n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Value: 35 },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Value: 55 },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Value: 75 }\n]\n\n\nIs there a helpful script for this, or should I stick to using Underscore.js, and then looping through the resulting object to do the totals myself?\n    ","answerCount":30,"upVoteCount":500,"suggestedAnswer":[{"text":"If you want to avoid external libraries, you can concisely implement a vanilla version of groupBy() like so:\n\n\nvar groupBy = function(xs, key) {\n  return xs.reduce(function(rv, x) {\n    (rv[x[key]] = rv[x[key]] || []).push(x);\n    return rv;\n  }, {});\n};\n\nconsole.log(groupBy([&apos;one&apos;, &apos;two&apos;, &apos;three&apos;], &apos;length&apos;));\n\n// =&gt; {3: [&quot;one&quot;, &quot;two&quot;], 5: [&quot;three&quot;]}\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"Using ES6 Map object:\n\n\n/**\n * @description\n * Takes an Array&lt;V&gt;, and a grouping function,\n * and returns a Map of the array grouped by the grouping function.\n *\n * @param list An array of type V.\n * @param keyGetter A Function that takes the the Array type V as an input, and returns a value of type K.\n *                  K is generally intended to be a property key of V.\n *\n * @returns Map of the array grouped by the grouping function.\n */\n//export function groupBy&lt;K, V&gt;(list: Array&lt;V&gt;, keyGetter: (input: V) =&gt; K): Map&lt;K, Array&lt;V&gt;&gt; {\n//    const map = new Map&lt;K, Array&lt;V&gt;&gt;();\nfunction groupBy(list, keyGetter) {\n    const map = new Map();\n    list.forEach((item) =&gt; {\n         const key = keyGetter(item);\n         const collection = map.get(key);\n         if (!collection) {\n             map.set(key, [item]);\n         } else {\n             collection.push(item);\n         }\n    });\n    return map;\n}\n\n\n// example usage\n\nconst pets = [\n    {type:&quot;Dog&quot;, name:&quot;Spot&quot;},\n    {type:&quot;Cat&quot;, name:&quot;Tiger&quot;},\n    {type:&quot;Dog&quot;, name:&quot;Rover&quot;}, \n    {type:&quot;Cat&quot;, name:&quot;Leo&quot;}\n];\n    \nconst grouped = groupBy(pets, pet =&gt; pet.type);\n    \nconsole.log(grouped.get(&quot;Dog&quot;)); // -&gt; [{type:&quot;Dog&quot;, name:&quot;Spot&quot;}, {type:&quot;Dog&quot;, name:&quot;Rover&quot;}]\nconsole.log(grouped.get(&quot;Cat&quot;)); // -&gt; [{type:&quot;Cat&quot;, name:&quot;Tiger&quot;}, {type:&quot;Cat&quot;, name:&quot;Leo&quot;}]\n\nconst odd = Symbol();\nconst even = Symbol();\nconst numbers = [1,2,3,4,5,6,7];\n\nconst oddEven = groupBy(numbers, x =&gt; (x % 2 === 1 ? odd : even));\n    \nconsole.log(oddEven.get(odd)); // -&gt; [1,3,5,7]\nconsole.log(oddEven.get(even)); // -&gt; [2,4,6]\n Run code snippetHide resultsExpand snippet\n\n\nAbout Map:\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"with ES6:\n\nconst groupBy = (items, key) =&gt; items.reduce(\n  (result, item) =&gt; ({\n    ...result,\n    [item[key]]: [\n      ...(result[item[key]] || []),\n      item,\n    ],\n  }), \n  {},\n);\n\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"You can build an ES6 Map from array.reduce(). \n\nconst groupedMap = initialArray.reduce(\n    (entryMap, e) =&gt; entryMap.set(e.id, [...entryMap.get(e.id)||[], e]),\n    new Map()\n);\n\n\nThis has a few advantages over the other solutions: \n\n\nIt doesn&apos;t require any libraries (unlike e.g. _.groupBy())\nYou get a JavaScript Map rather than an object (e.g. as returned by _.groupBy()). This has lots of benefits, including:\n\n\nit remembers the order in which items were first added,\nkeys can be any type rather than just strings. \n\nA Map is a more useful result that an array of arrays. But if you do want an array of arrays, you can then call Array.from(groupedMap.entries()) (for an array of [key, group array] pairs) or Array.from(groupedMap.values()) (for a simple array of arrays).\nIt&apos;s quite flexible; often, whatever you were planning to do next with this map can be done directly as part of the reduction. \n\n\nAs an example of the last point, imagine I have an array of objects that I want to do a (shallow) merge on by id, like this:\n\nconst objsToMerge = [{id: 1, name: &quot;Steve&quot;}, {id: 2, name: &quot;Alice&quot;}, {id: 1, age: 20}];\n// The following variable should be created automatically\nconst mergedArray = [{id: 1, name: &quot;Steve&quot;, age: 20}, {id: 2, name: &quot;Alice&quot;}]\n\n\nTo do this, I would usually start by grouping by id, and then merging each of the resulting arrays. Instead, you can do the merge directly in the reduce():\n\nconst mergedArray = Array.from(\n    objsToMerge.reduce(\n        (entryMap, e) =&gt; entryMap.set(e.id, {...entryMap.get(e.id)||{}, ...e}),\n        new Map()\n    ).values()\n);\n\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"I would check lodash groupBy it seems to do exactly what you are looking for. It is also quite lightweight and really simple.\n\nFiddle example: https://jsfiddle.net/r7szvt5k/\n\nProvided that your array name is arr the groupBy with lodash is just:\n\nimport groupBy from &apos;lodash/groupBy&apos;;\n// if you still use require:\n// const groupBy = require(&apos;lodash/groupBy&apos;);\n\nconst a = groupBy(arr, function(n) {\n  return n.Phase;\n});\n// a is your array grouped by Phase attribute\n\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"Although the linq answer is interesting, it&apos;s also quite heavy-weight.  My approach is somewhat different:\n\nvar DataGrouper = (function() {\n    var has = function(obj, target) {\n        return _.any(obj, function(value) {\n            return _.isEqual(value, target);\n        });\n    };\n\n    var keys = function(data, names) {\n        return _.reduce(data, function(memo, item) {\n            var key = _.pick(item, names);\n            if (!has(memo, key)) {\n                memo.push(key);\n            }\n            return memo;\n        }, []);\n    };\n\n    var group = function(data, names) {\n        var stems = keys(data, names);\n        return _.map(stems, function(stem) {\n            return {\n                key: stem,\n                vals:_.map(_.where(data, stem), function(item) {\n                    return _.omit(item, names);\n                })\n            };\n        });\n    };\n\n    group.register = function(name, converter) {\n        return group[name] = function(data, names) {\n            return _.map(group(data, names), converter);\n        };\n    };\n\n    return group;\n}());\n\nDataGrouper.register(&quot;sum&quot;, function(item) {\n    return _.extend({}, item.key, {Value: _.reduce(item.vals, function(memo, node) {\n        return memo + Number(node.Value);\n    }, 0)});\n});\n\n\nYou can see it in action on JSBin.\n\nI didn&apos;t see anything in Underscore that does what has does, although I might be missing it.  It&apos;s much the same as _.contains, but uses _.isEqual rather than === for comparisons.  Other than that, the rest of this is problem-specific, although with an attempt to be generic.\n\nNow DataGrouper.sum(data, [&quot;Phase&quot;]) returns\n\n[\n    {Phase: &quot;Phase 1&quot;, Value: 50},\n    {Phase: &quot;Phase 2&quot;, Value: 130}\n]\n\n\nAnd DataGrouper.sum(data, [&quot;Phase&quot;, &quot;Step&quot;]) returns\n\n[\n    {Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Value: 15},\n    {Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Value: 35},\n    {Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Value: 55},\n    {Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Value: 75}\n]\n\n\n\n\nBut sum is only one potential function here.  You can register others as you like:\n\nDataGrouper.register(&quot;max&quot;, function(item) {\n    return _.extend({}, item.key, {Max: _.reduce(item.vals, function(memo, node) {\n        return Math.max(memo, Number(node.Value));\n    }, Number.NEGATIVE_INFINITY)});\n});\n\n\nand now DataGrouper.max(data, [&quot;Phase&quot;, &quot;Step&quot;]) will return\n\n[\n    {Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Max: 10},\n    {Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Max: 20},\n    {Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Max: 30},\n    {Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Max: 40}\n]\n\n\nor if you registered this:\n\nDataGrouper.register(&quot;tasks&quot;, function(item) {\n    return _.extend({}, item.key, {Tasks: _.map(item.vals, function(item) {\n      return item.Task + &quot; (&quot; + item.Value + &quot;)&quot;;\n    }).join(&quot;, &quot;)});\n});\n\n\nthen calling DataGrouper.tasks(data, [&quot;Phase&quot;, &quot;Step&quot;]) will get you\n\n[\n    {Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Tasks: &quot;Task 1 (5), Task 2 (10)&quot;},\n    {Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Tasks: &quot;Task 1 (15), Task 2 (20)&quot;},\n    {Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Tasks: &quot;Task 1 (25), Task 2 (30)&quot;},\n    {Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Tasks: &quot;Task 1 (35), Task 2 (40)&quot;}\n]\n\n\nDataGrouper itself is a function.  You can call it with your data and a list of the properties you want to group by.  It returns an array whose elements are object with two properties: key is the collection of grouped properties, vals is an array of objects containing the remaining properties not in the key.  For example, DataGrouper(data, [&quot;Phase&quot;, &quot;Step&quot;]) will yield:\n\n[\n    {\n        &quot;key&quot;: {Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;},\n        &quot;vals&quot;: [\n            {Task: &quot;Task 1&quot;, Value: &quot;5&quot;},\n            {Task: &quot;Task 2&quot;, Value: &quot;10&quot;}\n        ]\n    },\n    {\n        &quot;key&quot;: {Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;},\n        &quot;vals&quot;: [\n            {Task: &quot;Task 1&quot;, Value: &quot;15&quot;}, \n            {Task: &quot;Task 2&quot;, Value: &quot;20&quot;}\n        ]\n    },\n    {\n        &quot;key&quot;: {Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;},\n        &quot;vals&quot;: [\n            {Task: &quot;Task 1&quot;, Value: &quot;25&quot;},\n            {Task: &quot;Task 2&quot;, Value: &quot;30&quot;}\n        ]\n    },\n    {\n        &quot;key&quot;: {Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;},\n        &quot;vals&quot;: [\n            {Task: &quot;Task 1&quot;, Value: &quot;35&quot;}, \n            {Task: &quot;Task 2&quot;, Value: &quot;40&quot;}\n        ]\n    }\n]\n\n\nDataGrouper.register accepts a function and creates a new function which accepts the initial data and the properties to group by.  This new function then takes the output format as above and runs your function against each of them in turn, returning a new array.  The function that&apos;s generated is stored as a property of DataGrouper according to a name you supply and also returned if you just want a local reference.\n\nWell that&apos;s a lot of explanation.  The code is reasonably straightforward, I hope!\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"GroupBy one-liner, an ES2021 solution\nconst groupBy = (x,f)=&gt;x.reduce((a,b)=&gt;((a[f(b)]||=[]).push(b),a),{});\n\nTypeScript\nconst groupBy = &lt;T&gt;(array: T[], predicate: (v: T) =&gt; string) =&gt;\n  array.reduce((acc, value) =&gt; {\n    (acc[predicate(value)] ||= []).push(value);\n    return acc;\n  }, {} as { [key: string]: T[] });\n\nEXAMPLES\nconst groupBy = (x, f) =&gt; x.reduce((a, b) =&gt; ((a[f(b)] ||= []).push(b), a), {});\n// f -&gt; should must return string/number because it will be use as key in object\n\n// for demo\n\ngroupBy([1, 2, 3, 4, 5, 6, 7, 8, 9], v =&gt; (v % 2 ? &quot;odd&quot; : &quot;even&quot;));\n// { odd: [1, 3, 5, 7, 9], even: [2, 4, 6, 8] };\nconst colors = [\n  &quot;Apricot&quot;,\n  &quot;Brown&quot;,\n  &quot;Burgundy&quot;,\n  &quot;Cerulean&quot;,\n  &quot;Peach&quot;,\n  &quot;Pear&quot;,\n  &quot;Red&quot;,\n];\n\ngroupBy(colors, v =&gt; v[0]); // group by colors name first letter\n// {\n//   A: [&quot;Apricot&quot;],\n//   B: [&quot;Brown&quot;, &quot;Burgundy&quot;],\n//   C: [&quot;Cerulean&quot;],\n//   P: [&quot;Peach&quot;, &quot;Pear&quot;],\n//   R: [&quot;Red&quot;],\n// };\ngroupBy(colors, v =&gt; v.length); // group by length of color names\n// {\n//   3: [&quot;Red&quot;],\n//   4: [&quot;Pear&quot;],\n//   5: [&quot;Brown&quot;, &quot;Peach&quot;],\n//   7: [&quot;Apricot&quot;],\n//   8: [&quot;Burgundy&quot;, &quot;Cerulean&quot;],\n// }\n\nconst data = [\n  { comment: &quot;abc&quot;, forItem: 1, inModule: 1 },\n  { comment: &quot;pqr&quot;, forItem: 1, inModule: 1 },\n  { comment: &quot;klm&quot;, forItem: 1, inModule: 2 },\n  { comment: &quot;xyz&quot;, forItem: 1, inModule: 2 },\n];\n\ngroupBy(data, v =&gt; v.inModule); // group by module\n// {\n//   1: [\n//     { comment: &quot;abc&quot;, forItem: 1, inModule: 1 },\n//     { comment: &quot;pqr&quot;, forItem: 1, inModule: 1 },\n//   ],\n//   2: [\n//     { comment: &quot;klm&quot;, forItem: 1, inModule: 2 },\n//     { comment: &quot;xyz&quot;, forItem: 1, inModule: 2 },\n//   ],\n// }\n\ngroupBy(data, x =&gt; x.forItem + &quot;-&quot; + x.inModule); // group by module with item\n// {\n//   &quot;1-1&quot;: [\n//     { comment: &quot;abc&quot;, forItem: 1, inModule: 1 },\n//     { comment: &quot;pqr&quot;, forItem: 1, inModule: 1 },\n//   ],\n//   &quot;1-2&quot;: [\n//     { comment: &quot;klm&quot;, forItem: 1, inModule: 2 },\n//     { comment: &quot;xyz&quot;, forItem: 1, inModule: 2 },\n//   ],\n// }\n\ngroupByToMap\nconst groupByToMap = (x, f) =&gt;\n  x.reduce((a, b, i, x) =&gt; {\n    const k = f(b, i, x);\n    a.get(k)?.push(b) ?? a.set(k, [b]);\n    return a;\n  }, new Map());\n\nTypeScript\nconst groupByToMap = &lt;T, Q&gt;(array: T[], predicate: (value: T, index: number, array: T[]) =&gt; Q) =&gt;\n  array.reduce((map, value, index, array) =&gt; {\n    const key = predicate(value, index, array);\n    map.get(key)?.push(value) ?? map.set(key, [value]);\n    return map;\n  }, new Map&lt;Q, T[]&gt;());\n\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"This is probably more easily done with linq.js, which is intended to be a true implementation of LINQ in JavaScript (DEMO):\n\nvar linq = Enumerable.From(data);\nvar result =\n    linq.GroupBy(function(x){ return x.Phase; })\n        .Select(function(x){\n          return {\n            Phase: x.Key(),\n            Value: x.Sum(function(y){ return y.Value|0; })\n          };\n        }).ToArray();\n\n\nresult:\n\n[\n    { Phase: &quot;Phase 1&quot;, Value: 50 },\n    { Phase: &quot;Phase 2&quot;, Value: 130 }\n]\n\n\nOr, more simply using the string-based selectors (DEMO):\n\nlinq.GroupBy(&quot;$.Phase&quot;, &quot;&quot;,\n    &quot;k,e =&gt; { Phase:k, Value:e.Sum(&apos;$.Value|0&apos;) }&quot;).ToArray();\n\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"MDN has this example in their Array.reduce() documentation. \n\n// Grouping objects by a property\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#Grouping_objects_by_a_property#Grouping_objects_by_a_property\n\nvar people = [\n  { name: &apos;Alice&apos;, age: 21 },\n  { name: &apos;Max&apos;, age: 20 },\n  { name: &apos;Jane&apos;, age: 20 }\n];\n\nfunction groupBy(objectArray, property) {\n  return objectArray.reduce(function (acc, obj) {\n    var key = obj[property];\n    if (!acc[key]) {\n      acc[key] = [];\n    }\n    acc[key].push(obj);\n    return acc;\n  }, {});\n}\n\nvar groupedPeople = groupBy(people, &apos;age&apos;);\n// groupedPeople is:\n// { \n//   20: [\n//     { name: &apos;Max&apos;, age: 20 }, \n//     { name: &apos;Jane&apos;, age: 20 }\n//   ], \n//   21: [{ name: &apos;Alice&apos;, age: 21 }] \n// }\n\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"_.groupBy([{tipo: &apos;A&apos; },{tipo: &apos;A&apos;}, {tipo: &apos;B&apos;}], &apos;tipo&apos;);\n&gt;&gt; Object {A: Array[2], B: Array[1]}\n\n\nFrom: http://underscorejs.org/#groupBy\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"Array.prototype.groupBy = function(keyFunction) {\n    var groups = {};\n    this.forEach(function(el) {\n        var key = keyFunction(el);\n        if (key in groups == false) {\n            groups[key] = [];\n        }\n        groups[key].push(el);\n    });\n    return Object.keys(groups).map(function(key) {\n        return {\n            key: key,\n            values: groups[key]\n        };\n    });\n};\n\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"it&apos;s a bit late but maybe someone like this one.\nES6:\n\n\nconst users = [{\n    name: &quot;Jim&quot;,\n    color: &quot;blue&quot;\n  },\n  {\n    name: &quot;Sam&quot;,\n    color: &quot;blue&quot;\n  },\n  {\n    name: &quot;Eddie&quot;,\n    color: &quot;green&quot;\n  },\n  {\n    name: &quot;Robert&quot;,\n    color: &quot;green&quot;\n  },\n];\nconst groupBy = (arr, key) =&gt; {\n  const initialValue = {};\n  return arr.reduce((acc, cval) =&gt; {\n    const myAttribute = cval[key];\n    acc[myAttribute] = [...(acc[myAttribute] || []), cval]\n    return acc;\n  }, initialValue);\n};\n\nconst res = groupBy(users, &quot;color&quot;);\nconsole.log(&quot;group by:&quot;, res);\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"You can do it with Alasql JavaScript library:\n\nvar data = [ { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;5&quot; },\n             { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;10&quot; }];\n\nvar res = alasql(&apos;SELECT Phase, Step, SUM(CAST([Value] AS INT)) AS [Value] \\\n                  FROM ? GROUP BY Phase, Step&apos;,[data]);\n\n\nTry this example at jsFiddle.\n\nBTW: On large arrays (100000 records and more) Alasql faster tham Linq. See test at jsPref. \n\nComments:\n\n\nHere I put Value in square brackets, because VALUE is a keyword in SQL\nI have to use CAST() function to convert string Values to number type.\n\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"A newer approach with an object for grouping and two more function to create a key and to get an object with wanted items of grouping and another key for the adding value.\n\n\nconst\n    groupBy = (array, groups, valueKey) =&gt; {\n        const\n            getKey = o =&gt; groups.map(k =&gt; o[k]).join(&apos;|&apos;),\n            getObject = o =&gt; Object.fromEntries([...groups.map(k =&gt; [k, o[k]]), [valueKey, 0]]);\n\n        groups = [].concat(groups);\n\n        return Object.values(array.reduce((r, o) =&gt; {\n            (r[getKey(o)] ??= getObject(o))[valueKey] += +o[valueKey];\n            return r;\n        }, {}));\n    },\n    data = [{ Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;5&quot; }, { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;10&quot; }, { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;15&quot; }, { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;20&quot; }, { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;25&quot; }, { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;30&quot; }, { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;35&quot; }, { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;40&quot; }];\n\nconsole.log(groupBy(data, &apos;Phase&apos;, &apos;Value&apos;));\nconsole.log(groupBy(data, [&apos;Phase&apos;, &apos;Step&apos;], &apos;Value&apos;));\n.as-console-wrapper { max-height: 100% !important; top: 0; }\n Run code snippetHide resultsExpand snippet\n\n\nOld approach:\nAlthough the question have some answers and the answers look a bit over complicated, I suggest to use vanilla Javascript for group-by with a nested (if necessary) Map.\n\n\nfunction groupBy(array, groups, valueKey) {\n    var map = new Map;\n    groups = [].concat(groups);\n    return array.reduce((r, o) =&gt; {\n        groups.reduce((m, k, i, { length }) =&gt; {\n            var child;\n            if (m.has(o[k])) return m.get(o[k]);\n            if (i + 1 === length) {\n                child = Object\n                    .assign(...groups.map(k =&gt; ({ [k]: o[k] })), { [valueKey]: 0 });\n                r.push(child);\n            } else {\n                child = new Map;\n            }\n            m.set(o[k], child);\n            return child;\n        }, map)[valueKey] += +o[valueKey];\n        return r;\n    }, [])\n};\n\nvar data = [{ Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;5&quot; }, { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;10&quot; }, { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;15&quot; }, { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;20&quot; }, { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;25&quot; }, { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;30&quot; }, { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;35&quot; }, { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;40&quot; }];\n\nconsole.log(groupBy(data, &apos;Phase&apos;, &apos;Value&apos;));\nconsole.log(groupBy(data, [&apos;Phase&apos;, &apos;Step&apos;], &apos;Value&apos;));\n.as-console-wrapper { max-height: 100% !important; top: 0; }\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0},{"text":"Here&apos;s a nasty, hard to read solution using ES6:\nexport default (arr, key) =&gt; \n  arr.reduce(\n    (r, v, _, __, k = v[key]) =&gt; ((r[k] || (r[k] = [])).push(v), r),\n    {}\n  );\n\nFor those asking how does this even work, here&apos;s an explanation:\n\nIn both =&gt; you have a free return\n\nThe Array.prototype.reduce function takes up to 4 parameters. That&apos;s why a fifth parameter is being added so we can have a cheap variable declaration for the group (k) at the parameter declaration level by using a default value. (yes, this is sorcery)\n\nIf our current group doesn&apos;t exist on the previous iteration, we create a new empty array ((r[k] || (r[k] = [])) This will evaluate to the leftmost expression, in other words, an existing array or an empty array, this is why there&apos;s an immediate push after that expression, because either way you will get an array.\n\nWhen there&apos;s a return, the comma , operator will discard the leftmost value, returning the tweaked previous group for this scenario.\n\n\nAn easier to understand version that does the same is:\nexport default (array, key) =&gt; \n  array.reduce((previous, currentItem) =&gt; {\n    const group = currentItem[key];\n    if (!previous[group]) previous[group] = [];\n    previous[group].push(currentItem);\n    return previous;\n  }, {});\n\nEdit:\nTS Version:\nconst groupBy = &lt;T, K extends keyof any&gt;(list: T[], getKey: (item: T) =&gt; K) =&gt;\n  list.reduce((previous, currentItem) =&gt; {\n    const group = getKey(currentItem);\n    if (!previous[group]) previous[group] = [];\n    previous[group].push(currentItem);\n    return previous;\n  }, {} as Record&lt;K, T[]&gt;);\n\n    ","url":"/questions/[slug]#solution15","@type":"Answer","upvoteCount":0},{"text":"Checked answer -- just shallow grouping. It&apos;s pretty nice to understand reducing. Question also provide the problem of additional aggregate calculations.\nHere is a REAL GROUP BY for Array of Objects by some field(s) with 1) calculated key name and 2) complete solution for cascading of grouping by providing the list of the desired keys\nand converting its unique values to root keys like SQL GROUP BY\ndoes.\n\n\nconst inputArray = [ \n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;5&quot; },\n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;10&quot; },\n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;15&quot; },\n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;20&quot; },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;25&quot; },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;30&quot; },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;35&quot; },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;40&quot; }\n];\n\nvar outObject = inputArray.reduce(function(a, e) {\n  // GROUP BY estimated key (estKey), well, may be a just plain key\n  // a -- Accumulator result object\n  // e -- sequentally checked Element, the Element that is tested just at this itaration\n\n  // new grouping name may be calculated, but must be based on real value of real field\n  let estKey = (e[&apos;Phase&apos;]); \n\n  (a[estKey] ? a[estKey] : (a[estKey] = null || [])).push(e);\n  return a;\n}, {});\n\nconsole.log(outObject);\n Run code snippetHide resultsExpand snippet\n\n\nPlay with estKey -- you may group by more then one field, add additional aggregations, calculations or other processing.\nAlso you can groups data recursively. For example initially group by Phase, then by Step field and so on. Additionally blow off\nthe fat rest data.\n\n\nconst inputArray = [\n{ Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;5&quot; },\n{ Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;10&quot; },\n{ Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;15&quot; },\n{ Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;20&quot; },\n{ Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;25&quot; },\n{ Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;30&quot; },\n{ Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;35&quot; },\n{ Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;40&quot; }\n  ];\n\n/**\n * Small helper to get SHALLOW copy of obj WITHOUT prop\n */\nconst rmProp = (obj, prop) =&gt; ( (({[prop]:_, ...rest})=&gt;rest)(obj) )\n\n/**\n * Group Array by key. Root keys of a resulting array is value\n * of specified key.\n *\n * @param      {Array}   src     The source array\n * @param      {String}  key     The by key to group by\n * @return     {Object}          Object with grouped objects as values\n */\nconst grpBy = (src, key) =&gt; src.reduce((a, e) =&gt; (\n  (a[e[key]] = a[e[key]] || []).push(rmProp(e, key)),  a\n), {});\n\n/**\n * Collapse array of object if it consists of only object with single value.\n * Replace it by the rest value.\n */\nconst blowObj = obj =&gt; Array.isArray(obj) &amp;&amp; obj.length === 1 &amp;&amp; Object.values(obj[0]).length === 1 ? Object.values(obj[0])[0] : obj;\n\n/**\n * Recursive grouping with list of keys. `keyList` may be an array\n * of key names or comma separated list of key names whom UNIQUE values will\n * becomes the keys of the resulting object.\n */\nconst grpByReal = function (src, keyList) {\n  const [key, ...rest] = Array.isArray(keyList) ? keyList : String(keyList).trim().split(/\\s*,\\s*/);\n  const res = key ? grpBy(src, key) : [...src];\n  if (rest.length) {\nfor (const k in res) {\n  res[k] = grpByReal(res[k], rest)\n}\n  } else {\nfor (const k in res) {\n  res[k] = blowObj(res[k])\n}\n  }\n  return res;\n}\n\nconsole.log( JSON.stringify( grpByReal(inputArray, &apos;Phase, Step, Task&apos;), null, 2 ) );\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution16","@type":"Answer","upvoteCount":0},{"text":"This solution takes any arbitrary function (not a key) so it&apos;s more flexible than solutions above, and allows arrow functions, which are similar to lambda expressions used in LINQ:\n\nArray.prototype.groupBy = function (funcProp) {\n    return this.reduce(function (acc, val) {\n        (acc[funcProp(val)] = acc[funcProp(val)] || []).push(val);\n        return acc;\n    }, {});\n};\n\n\nNOTE: whether you want to extend Array&apos;s prototype is up to you.\n\nExample supported in most browsers:\n\n[{a:1,b:&quot;b&quot;},{a:1,c:&quot;c&quot;},{a:2,d:&quot;d&quot;}].groupBy(function(c){return c.a;})\n\n\nExample using arrow functions (ES6):\n\n[{a:1,b:&quot;b&quot;},{a:1,c:&quot;c&quot;},{a:2,d:&quot;d&quot;}].groupBy(c=&gt;c.a)\n\n\nBoth examples above return:\n\n{\n  &quot;1&quot;: [{&quot;a&quot;: 1, &quot;b&quot;: &quot;b&quot;}, {&quot;a&quot;: 1, &quot;c&quot;: &quot;c&quot;}],\n  &quot;2&quot;: [{&quot;a&quot;: 2, &quot;d&quot;: &quot;d&quot;}]\n}\n\n    ","url":"/questions/[slug]#solution17","@type":"Answer","upvoteCount":0},{"text":"Without mutations:\n\nconst groupBy = (xs, key) =&gt; xs.reduce((acc, x) =&gt; Object.assign({}, acc, {\n  [x[key]]: (acc[x[key]] || []).concat(x)\n}), {})\n\nconsole.log(groupBy([&apos;one&apos;, &apos;two&apos;, &apos;three&apos;], &apos;length&apos;));\n// =&gt; {3: [&quot;one&quot;, &quot;two&quot;], 5: [&quot;three&quot;]}\n\n    ","url":"/questions/[slug]#solution18","@type":"Answer","upvoteCount":0},{"text":"i&apos;d like to suggest my approach. First, separate grouping and aggregating. Lets declare prototypical &quot;group by&quot; function. It takes another function to produce &quot;hash&quot; string for each array element to group by. \n\nArray.prototype.groupBy = function(hash){\n  var _hash = hash ? hash : function(o){return o;};\n\n  var _map = {};\n  var put = function(map, key, value){\n    if (!map[_hash(key)]) {\n        map[_hash(key)] = {};\n        map[_hash(key)].group = [];\n        map[_hash(key)].key = key;\n\n    }\n    map[_hash(key)].group.push(value); \n  }\n\n  this.map(function(obj){\n    put(_map, obj, obj);\n  });\n\n  return Object.keys(_map).map(function(key){\n    return {key: _map[key].key, group: _map[key].group};\n  });\n}\n\n\nwhen grouping is done you can aggregate data how you need, in your case\n\ndata.groupBy(function(o){return JSON.stringify({a: o.Phase, b: o.Step});})\n    /* aggreagating */\n    .map(function(el){ \n         var sum = el.group.reduce(\n           function(l,c){\n             return l + parseInt(c.Value);\n           },\n           0\n         );\n         el.key.Value = sum; \n         return el.key;\n    });\n\n\nin common it works. i have tested this code in chrome console. and feel free to improve and find mistakes ;)\n    ","url":"/questions/[slug]#solution19","@type":"Answer","upvoteCount":0},{"text":"groupByArray(xs, key) {\n    return xs.reduce(function (rv, x) {\n        let v = key instanceof Function ? key(x) : x[key];\n        let el = rv.find((r) =&gt; r &amp;&amp; r.key === v);\n        if (el) {\n            el.values.push(x);\n        }\n        else {\n            rv.push({\n                key: v,\n                values: [x]\n            });\n        }\n        return rv;\n    }, []);\n}\n\n\nThis one outputs array.\n    ","url":"/questions/[slug]#solution20","@type":"Answer","upvoteCount":0},{"text":"Imagine that you have something like this:\n\n[{id:1, cat:&apos;sedan&apos;},{id:2, cat:&apos;sport&apos;},{id:3, cat:&apos;sport&apos;},{id:4, cat:&apos;sedan&apos;}]\n\nBy doing this:\nconst categories =  [...new Set(cars.map((car) =&gt; car.cat))]\n\nYou will get this:\n[&apos;sedan&apos;,&apos;sport&apos;]\n\nExplanation:\n 1. First, we are creating a new Set by passing an array. Because Set only allows unique values, all duplicates will be removed.\n\n\nNow the duplicates are gone, were going to convert it back to an array by using the spread operator ...\n\n\nSet Doc:https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\nSpread OperatorDoc: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\n    ","url":"/questions/[slug]#solution21","@type":"Answer","upvoteCount":0},{"text":"Based on previous answers\n\nconst groupBy = (prop) =&gt; (xs) =&gt;\n  xs.reduce((rv, x) =&gt;\n    Object.assign(rv, {[x[prop]]: [...(rv[x[prop]] || []), x]}), {});\n\n\nand it&apos;s a little nicer to look at with object spread syntax, if your environment supports.\n\nconst groupBy = (prop) =&gt; (xs) =&gt;\n  xs.reduce((acc, x) =&gt; ({\n    ...acc,\n    [ x[ prop ] ]: [...( acc[ x[ prop ] ] || []), x],\n  }), {});\n\n\nHere, our reducer takes the partially-formed return value (starting with an empty object), and returns an object composed of the spread out members of the previous return value, along with a new member whose key is calculated from the current iteree&apos;s value at prop and whose value is a list of all values for that prop along with the current value.\n    ","url":"/questions/[slug]#solution22","@type":"Answer","upvoteCount":0},{"text":"groupBy function that can group an array by a specific key or a given grouping function. Typed.\ngroupBy = &lt;T, K extends keyof T&gt;(array: T[], groupOn: K | ((i: T) =&gt; string)): Record&lt;string, T[]&gt; =&gt; {\n  const groupFn = typeof groupOn === &apos;function&apos; ? groupOn : (o: T) =&gt; o[groupOn];\n\n  return Object.fromEntries(\n    array.reduce((acc, obj) =&gt; {\n      const groupKey = groupFn(obj);\n      return acc.set(groupKey, [...(acc.get(groupKey) || []), obj]);\n    }, new Map())\n  ) as Record&lt;string, T[]&gt;;\n};\n\n    ","url":"/questions/[slug]#solution23","@type":"Answer","upvoteCount":0},{"text":"I don&apos;t think that given answers are responding to the question, I think this following should answer to the first part :\n\n\nconst arr = [ \n{ Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;5&quot; },\n{ Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;10&quot; },\n{ Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;15&quot; },\n{ Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;20&quot; },\n{ Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;25&quot; },\n{ Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;30&quot; },\n{ Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;35&quot; },\n{ Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;40&quot; }\n]\n\nconst groupBy = (key) =&gt; arr.sort((a, b) =&gt; a[key].localeCompare(b[key])).reduce((total, currentValue) =&gt; {\n  const newTotal = total;\n  if (\n    total.length &amp;&amp;\n    total[total.length - 1][key] === currentValue[key]\n  )\n    newTotal[total.length - 1] = {\n      ...total[total.length - 1],\n      ...currentValue,\n      Value: parseInt(total[total.length - 1].Value) + parseInt(currentValue.Value),\n    };\n  else newTotal[total.length] = currentValue;\n  return newTotal;\n}, []);\n\nconsole.log(groupBy(&apos;Phase&apos;));\n\n// =&gt; [{ Phase: &quot;Phase 1&quot;, Value: 50 },{ Phase: &quot;Phase 2&quot;, Value: 130 }]\n\nconsole.log(groupBy(&apos;Step&apos;));\n\n// =&gt; [{ Step: &quot;Step 1&quot;, Value: 70 },{ Step: &quot;Step 2&quot;, Value: 110 }] \n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution24","@type":"Answer","upvoteCount":0},{"text":"Let&apos;s fully answer the original question while reusing code that was already written (i.e., Underscore). You can do much more with Underscore if you combine its &gt;100 functions. The following solution demonstrates this.\nStep 1: group the objects in the array by an arbitrary combination of properties. This uses the fact that _.groupBy accepts a function that returns the group of an object. It also uses _.chain, _.pick, _.values, _.join and _.value. Note that _.value is not strictly needed here, because chained values will automatically unwrap when used as a property name. I&apos;m including it to safeguard against confusion in case somebody tries to write similar code in a context where automatic unwrapping does not take place.\n// Given an object, return a string naming the group it belongs to.\nfunction category(obj) {\n    return _.chain(obj).pick(propertyNames).values().join(&apos; &apos;).value();\n}\n\n// Perform the grouping.\nconst intermediate = _.groupBy(arrayOfObjects, category);\n\nGiven the arrayOfObjects in the original question and setting propertyNames to [&apos;Phase&apos;, &apos;Step&apos;], intermediate will get the following value:\n{\n    &quot;Phase 1 Step 1&quot;: [\n        { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;5&quot; },\n        { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;10&quot; }\n    ],\n    &quot;Phase 1 Step 2&quot;: [\n        { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;15&quot; },\n        { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;20&quot; }\n    ],\n    &quot;Phase 2 Step 1&quot;: [\n        { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;25&quot; },\n        { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;30&quot; }\n    ],\n    &quot;Phase 2 Step 2&quot;: [\n        { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;35&quot; },\n        { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;40&quot; }\n    ]\n}\n\nStep 2: reduce each group to a single flat object and return the results in an array. Besides the functions we have seen before, the following code uses _.pluck, _.first, _.pick, _.extend, _.reduce and _.map. _.first is guaranteed to return an object in this case, because _.groupBy does not produce empty groups. _.value is necessary in this case.\n// Sum two numbers, even if they are contained in strings.\nconst addNumeric = (a, b) =&gt; +a + +b;\n\n// Given a `group` of objects, return a flat object with their common\n// properties and the sum of the property with name `aggregateProperty`.\nfunction summarize(group) {\n    const valuesToSum = _.pluck(group, aggregateProperty);\n    return _.chain(group).first().pick(propertyNames).extend({\n        [aggregateProperty]: _.reduce(valuesToSum, addNumeric)\n    }).value();\n}\n\n// Get an array with all the computed aggregates.\nconst result = _.map(intermediate, summarize);\n\nGiven the intermediate that we obtained before and setting aggregateProperty to Value, we get the result that the asker desired:\n[\n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Value: 15 },\n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Value: 35 },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Value: 55 },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Value: 75 }\n]\n\nWe can put this all together in a function that takes arrayOfObjects, propertyNames and aggregateProperty as parameters. Note that arrayOfObjects can actually also be a plain object with string keys, because _.groupBy accepts either. For this reason, I have renamed arrayOfObjects to collection.\nfunction aggregate(collection, propertyNames, aggregateProperty) {\n    function category(obj) {\n        return _.chain(obj).pick(propertyNames).values().join(&apos; &apos;);\n    }\n    const addNumeric = (a, b) =&gt; +a + +b;\n    function summarize(group) {\n        const valuesToSum = _.pluck(group, aggregateProperty);\n        return _.chain(group).first().pick(propertyNames).extend({\n            [aggregateProperty]: _.reduce(valuesToSum, addNumeric)\n        }).value();\n    }\n    return _.chain(collection).groupBy(category).map(summarize).value();\n}\n\naggregate(arrayOfObjects, [&apos;Phase&apos;, &apos;Step&apos;], &apos;Value&apos;) will now give us the same result again.\nWe can take this a step further and enable the caller to compute any statistic over the values in each group. We can do this and also enable the caller to add arbitrary properties to the summary of each group. We can do all of this while making our code shorter. We replace the aggregateProperty parameter by an iteratee parameter and pass this straight to _.reduce:\nfunction aggregate(collection, propertyNames, iteratee) {\n    function category(obj) {\n        return _.chain(obj).pick(propertyNames).values().join(&apos; &apos;);\n    }\n    function summarize(group) {\n        return _.chain(group).first().pick(propertyNames)\n            .extend(_.reduce(group, iteratee)).value();\n    }\n    return _.chain(collection).groupBy(category).map(summarize).value();\n}\n\nIn effect, we move some of the responsibility to the caller; she must provide an iteratee that can be passed to _.reduce, so that the call to _.reduce will produce an object with the aggregate properties she wants to add. For example, we obtain the same result as before with the following expression:\naggregate(arrayOfObjects, [&apos;Phase&apos;, &apos;Step&apos;], (memo, value) =&gt; ({\n    Value: +memo.Value + +value.Value\n}));\n\nFor an example of a slightly more sophisticated iteratee, suppose that we want to compute the maximum Value of each group instead of the sum, and that we want to add a Tasks property that lists all the values of Task that occur in the group. Here&apos;s one way we can do this, using the last version of aggregate above (and _.union):\naggregate(arrayOfObjects, [&apos;Phase&apos;, &apos;Step&apos;], (memo, value) =&gt; ({\n    Value: Math.max(memo.Value, value.Value),\n    Tasks: _.union(memo.Tasks || [memo.Task], [value.Task])\n}));\n\nWe obtain the following result:\n[\n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Value: 10, Tasks: [ &quot;Task 1&quot;, &quot;Task 2&quot; ] },\n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Value: 20, Tasks: [ &quot;Task 1&quot;, &quot;Task 2&quot; ] },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Value: 30, Tasks: [ &quot;Task 1&quot;, &quot;Task 2&quot; ] },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Value: 40, Tasks: [ &quot;Task 1&quot;, &quot;Task 2&quot; ] }\n]\n\nCredit to @much2learn, who also posted an answer that can handle arbitrary reducing functions. I wrote a couple more SO answers that demonstrate how one can achieve sophisticated things by combining multiple Underscore functions:\n\nhttps://stackoverflow.com/a/64938636/1166087\nhttps://stackoverflow.com/a/64094738/1166087\nhttps://stackoverflow.com/a/63625129/1166087\nhttps://stackoverflow.com/a/63088916/1166087\n\n    ","url":"/questions/[slug]#solution25","@type":"Answer","upvoteCount":0},{"text":"\n\nArray.prototype.groupBy = function (groupingKeyFn) {\n    if (typeof groupingKeyFn !== &apos;function&apos;) {\n        throw new Error(&quot;groupBy take a function as only parameter&quot;);\n    }\n    return this.reduce((result, item) =&gt; {\n        let key = groupingKeyFn(item);\n        if (!result[key])\n            result[key] = [];\n        result[key].push(item);\n        return result;\n    }, {});\n}\n\nvar a = [\n\t{type: &quot;video&quot;, name: &quot;a&quot;},\n  {type: &quot;image&quot;, name: &quot;b&quot;},\n  {type: &quot;video&quot;, name: &quot;c&quot;},\n  {type: &quot;blog&quot;, name: &quot;d&quot;},\n  {type: &quot;video&quot;, name: &quot;e&quot;},\n]\nconsole.log(a.groupBy((item) =&gt; item.type));\n&lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution26","@type":"Answer","upvoteCount":0},{"text":"I would check declarative-js groupBy it seems to do exactly what you are looking for. It is also: \n\n\nvery performant (performance benchmark)\nwritten in typescript so all typpings are included.\nIt is not enforcing to use 3rd party array-like objects.\n\n\nimport { Reducers } from &apos;declarative-js&apos;;\nimport groupBy = Reducers.groupBy;\nimport Map = Reducers.Map;\n\nconst data = [\n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;5&quot; },\n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;10&quot; },\n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;15&quot; },\n    { Phase: &quot;Phase 1&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;20&quot; },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 1&quot;, Value: &quot;25&quot; },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 1&quot;, Task: &quot;Task 2&quot;, Value: &quot;30&quot; },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 1&quot;, Value: &quot;35&quot; },\n    { Phase: &quot;Phase 2&quot;, Step: &quot;Step 2&quot;, Task: &quot;Task 2&quot;, Value: &quot;40&quot; }\n];\n\ndata.reduce(groupBy(element=&gt; element.Step), Map());\ndata.reduce(groupBy(&apos;Step&apos;), Map());\n\n    ","url":"/questions/[slug]#solution27","@type":"Answer","upvoteCount":0},{"text":"Lets generate a generic Array.prototype.groupBy() tool. Just for variety let&apos;s use ES6 fanciness the spread operator for some Haskellesque pattern matching on a recursive approach. Also let&apos;s make our Array.prototype.groupBy() to accept a callback which takes the item (e) the index (i) and the applied array (a) as arguments.\n\n\n\nArray.prototype.groupBy = function(cb){\n                            return function iterate([x,...xs], i = 0, r = [[],[]]){\n                                     cb(x,i,[x,...xs]) ? (r[0].push(x), r)\n                                                       : (r[1].push(x), r);\n                                     return xs.length ? iterate(xs, ++i, r) : r;\n                                   }(this);\n                          };\n\nvar arr = [0,1,2,3,4,5,6,7,8,9],\n    res = arr.groupBy(e =&gt; e &lt; 5);\nconsole.log(res);\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution28","@type":"Answer","upvoteCount":0},{"text":"Just to add to Scott Sauyet&apos;s answer, some people were asking in the comments how to use his function to groupby value1, value2, etc., instead of grouping just one value.\n\nAll it takes is to edit his sum function:\n\nDataGrouper.register(&quot;sum&quot;, function(item) {\n    return _.extend({}, item.key,\n        {VALUE1: _.reduce(item.vals, function(memo, node) {\n        return memo + Number(node.VALUE1);}, 0)},\n        {VALUE2: _.reduce(item.vals, function(memo, node) {\n        return memo + Number(node.VALUE2);}, 0)}\n    );\n});\n\n\nleaving the main one (DataGrouper) unchanged:\n\nvar DataGrouper = (function() {\n    var has = function(obj, target) {\n        return _.any(obj, function(value) {\n            return _.isEqual(value, target);\n        });\n    };\n\n    var keys = function(data, names) {\n        return _.reduce(data, function(memo, item) {\n            var key = _.pick(item, names);\n            if (!has(memo, key)) {\n                memo.push(key);\n            }\n            return memo;\n        }, []);\n    };\n\n    var group = function(data, names) {\n        var stems = keys(data, names);\n        return _.map(stems, function(stem) {\n            return {\n                key: stem,\n                vals:_.map(_.where(data, stem), function(item) {\n                    return _.omit(item, names);\n                })\n            };\n        });\n    };\n\n    group.register = function(name, converter) {\n        return group[name] = function(data, names) {\n            return _.map(group(data, names), converter);\n        };\n    };\n\n    return group;\n}());\n\n    ","url":"/questions/[slug]#solution29","@type":"Answer","upvoteCount":0},{"text":"Ceasar&apos;s answer is good, but works only for inner properties of the elements inside the array (length in case of string).\n\nthis implementation works more like: this link\n\nconst groupBy = function (arr, f) {\n    return arr.reduce((out, val) =&gt; {\n        let by = typeof f === &apos;function&apos; ? &apos;&apos; + f(val) : val[f];\n        (out[by] = out[by] || []).push(val);\n        return out;\n    }, {});\n};\n\n\nhope this helps...\n    ","url":"/questions/[slug]#solution30","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08d1a634dea6705e.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/150-12e9794e898cd5f3.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/108-87de33c23337ff53.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-928c5d1eb8fb0bba.js" defer=""></script><script src="/_next/static/BnkbnjkWYxefPXjTJLVVv/_buildManifest.js" defer=""></script><script src="/_next/static/BnkbnjkWYxefPXjTJLVVv/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/most-efficient-method-to-groupby-on-an-array-of-objects-1657387580538#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/most-efficient-method-to-groupby-on-an-array-of-objects-1657387580538"><h1>Most efficient method to groupby on an array of objects</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/underscore.js">underscore.js</a></div></div><div class="question-content mt-5">
                
<p>What is the most efficient way to groupby objects in an array?</p>

<p>For example, given this array of objects:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">[ 
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"5"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"10"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"15"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"20"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"25"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"30"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"35"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"40"</span> }
]
</code></pre>

<p>I’m displaying this information in a table. I’d like to groupby different methods, but I want to sum the values.</p>

<p>I’m using Underscore.js for its groupby function, which is helpful, but doesn’t do the whole trick, because I don’t want them “split up” but “merged”, more like the SQL <code>group by</code> method.</p>

<p>What I’m looking for would be able to total specific values (if requested).</p>

<p>So if I did groupby <code>Phase</code>, I’d want to receive:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">[
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">50</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">130</span> }
]
</code></pre>

<p>And if I did groupy <code>Phase</code> / <code>Step</code>, I’d receive:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">[
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">15</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">35</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">55</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">75</span> }
]
</code></pre>

<p>Is there a helpful script for this, or should I stick to using Underscore.js, and then looping through the resulting object to do the totals myself?</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li><li class="pagination-solution-item"><span data-id="#solution17" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">17</span></li><li class="pagination-solution-item"><span data-id="#solution18" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">18</span></li><li class="pagination-solution-item"><span data-id="#solution19" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">19</span></li><li class="pagination-solution-item"><span data-id="#solution20" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">20</span></li><li class="pagination-solution-item"><span data-id="#solution21" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">21</span></li><li class="pagination-solution-item"><span data-id="#solution22" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">22</span></li><li class="pagination-solution-item"><span data-id="#solution23" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">23</span></li><li class="pagination-solution-item"><span data-id="#solution24" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">24</span></li><li class="pagination-solution-item"><span data-id="#solution25" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">25</span></li><li class="pagination-solution-item"><span data-id="#solution26" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">26</span></li><li class="pagination-solution-item"><span data-id="#solution27" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">27</span></li><li class="pagination-solution-item"><span data-id="#solution28" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">28</span></li><li class="pagination-solution-item"><span data-id="#solution29" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">29</span></li><li class="pagination-solution-item"><span data-id="#solution30" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">30</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you want to avoid external libraries, you can concisely implement a vanilla version of <code>groupBy()</code> like so:</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> groupBy = <span class="hljs-keyword">function</span>(<span class="hljs-params">xs, key</span>) {
  <span class="hljs-keyword">return</span> xs.<span class="hljs-title function_">reduce</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">rv, x</span>) {
    (rv[x[key]] = rv[x[key]] || []).<span class="hljs-title function_">push</span>(x);
    <span class="hljs-keyword">return</span> rv;
  }, {});
};

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">groupBy</span>([<span class="hljs-string">'one'</span>, <span class="hljs-string">'two'</span>, <span class="hljs-string">'three'</span>], <span class="hljs-string">'length'</span>));

<span class="hljs-comment">// =&gt; {3: ["one", "two"], 5: ["three"]}</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif1" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Using ES6 Map object:</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span>
 * Takes an Array&lt;V&gt;, and a grouping function,
 * and returns a Map of the array grouped by the grouping function.
 *
 * <span class="hljs-doctag">@param</span> list An array of type V.
 * <span class="hljs-doctag">@param</span> keyGetter A Function that takes the the Array type V as an input, and returns a value of type K.
 *                  K is generally intended to be a property key of V.
 *
 * <span class="hljs-doctag">@returns</span> Map of the array grouped by the grouping function.
 */</span>
<span class="hljs-comment">//export function groupBy&lt;K, V&gt;(list: Array&lt;V&gt;, keyGetter: (input: V) =&gt; K): Map&lt;K, Array&lt;V&gt;&gt; {</span>
<span class="hljs-comment">//    const map = new Map&lt;K, Array&lt;V&gt;&gt;();</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">groupBy</span>(<span class="hljs-params">list, keyGetter</span>) {
    <span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    list.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> {
         <span class="hljs-keyword">const</span> key = <span class="hljs-title function_">keyGetter</span>(item);
         <span class="hljs-keyword">const</span> collection = map.<span class="hljs-title function_">get</span>(key);
         <span class="hljs-keyword">if</span> (!collection) {
             map.<span class="hljs-title function_">set</span>(key, [item]);
         } <span class="hljs-keyword">else</span> {
             collection.<span class="hljs-title function_">push</span>(item);
         }
    });
    <span class="hljs-keyword">return</span> map;
}


<span class="hljs-comment">// example usage</span>

<span class="hljs-keyword">const</span> pets = [
    {<span class="hljs-attr">type</span>:<span class="hljs-string">"Dog"</span>, <span class="hljs-attr">name</span>:<span class="hljs-string">"Spot"</span>},
    {<span class="hljs-attr">type</span>:<span class="hljs-string">"Cat"</span>, <span class="hljs-attr">name</span>:<span class="hljs-string">"Tiger"</span>},
    {<span class="hljs-attr">type</span>:<span class="hljs-string">"Dog"</span>, <span class="hljs-attr">name</span>:<span class="hljs-string">"Rover"</span>}, 
    {<span class="hljs-attr">type</span>:<span class="hljs-string">"Cat"</span>, <span class="hljs-attr">name</span>:<span class="hljs-string">"Leo"</span>}
];
    
<span class="hljs-keyword">const</span> grouped = <span class="hljs-title function_">groupBy</span>(pets, <span class="hljs-function"><span class="hljs-params">pet</span> =&gt;</span> pet.<span class="hljs-property">type</span>);
    
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(grouped.<span class="hljs-title function_">get</span>(<span class="hljs-string">"Dog"</span>)); <span class="hljs-comment">// -&gt; [{type:"Dog", name:"Spot"}, {type:"Dog", name:"Rover"}]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(grouped.<span class="hljs-title function_">get</span>(<span class="hljs-string">"Cat"</span>)); <span class="hljs-comment">// -&gt; [{type:"Cat", name:"Tiger"}, {type:"Cat", name:"Leo"}]</span>

<span class="hljs-keyword">const</span> odd = <span class="hljs-title class_">Symbol</span>();
<span class="hljs-keyword">const</span> even = <span class="hljs-title class_">Symbol</span>();
<span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>];

<span class="hljs-keyword">const</span> oddEven = <span class="hljs-title function_">groupBy</span>(numbers, <span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> (x % <span class="hljs-number">2</span> === <span class="hljs-number">1</span> ? odd : even));
    
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(oddEven.<span class="hljs-title function_">get</span>(odd)); <span class="hljs-comment">// -&gt; [1,3,5,7]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(oddEven.<span class="hljs-title function_">get</span>(even)); <span class="hljs-comment">// -&gt; [2,4,6]</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif2" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>About Map:
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map" rel="noreferrer">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map</a></p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>with ES6:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">groupBy</span> = (<span class="hljs-params">items, key</span>) =&gt; items.<span class="hljs-title function_">reduce</span>(
  <span class="hljs-function">(<span class="hljs-params">result, item</span>) =&gt;</span> ({
    ...result,
    [item[key]]: [
      ...(result[item[key]] || []),
      item,
    ],
  }), 
  {},
);
</code></pre>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can build an ES6 <code>Map</code> from <code>array.reduce()</code>. </p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> groupedMap = initialArray.<span class="hljs-title function_">reduce</span>(
    <span class="hljs-function">(<span class="hljs-params">entryMap, e</span>) =&gt;</span> entryMap.<span class="hljs-title function_">set</span>(e.<span class="hljs-property">id</span>, [...entryMap.<span class="hljs-title function_">get</span>(e.<span class="hljs-property">id</span>)||[], e]),
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>()
);
</code></pre>

<p>This has a few advantages over the other solutions: </p>

<ul>
<li>It doesn't require any libraries (unlike e.g. <code>_.groupBy()</code>)</li>
<li>You get a JavaScript <code>Map</code> rather than an object (e.g. as returned by <code>_.groupBy()</code>). This has <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Objects_and_maps_compared" rel="noreferrer">lots of benefits</a>, including:

<ul>
<li>it remembers the order in which items were first added,</li>
<li>keys can be any type rather than just strings. </li>
</ul></li>
<li>A <code>Map</code> is a more useful result that an array of arrays. But if you do want an array of arrays, you can then call <code>Array.from(groupedMap.entries())</code> (for an array of <code>[key, group array]</code> pairs) or <code>Array.from(groupedMap.values())</code> (for a simple array of arrays).</li>
<li>It's quite flexible; often, whatever you were planning to do next with this map can be done directly as part of the reduction. </li>
</ul>

<p>As an example of the last point, imagine I have an array of objects that I want to do a (shallow) merge on by id, like this:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> objsToMerge = [{<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Steve"</span>}, {<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Alice"</span>}, {<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>}];
<span class="hljs-comment">// The following variable should be created automatically</span>
<span class="hljs-keyword">const</span> mergedArray = [{<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Steve"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>}, {<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Alice"</span>}]
</code></pre>

<p>To do this, I would usually start by grouping by id, and then merging each of the resulting arrays. Instead, you can do the merge directly in the <code>reduce()</code>:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> mergedArray = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(
    objsToMerge.<span class="hljs-title function_">reduce</span>(
        <span class="hljs-function">(<span class="hljs-params">entryMap, e</span>) =&gt;</span> entryMap.<span class="hljs-title function_">set</span>(e.<span class="hljs-property">id</span>, {...entryMap.<span class="hljs-title function_">get</span>(e.<span class="hljs-property">id</span>)||{}, ...e}),
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>()
    ).<span class="hljs-title function_">values</span>()
);
</code></pre>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I would check <a href="https://lodash.com/docs#groupBy" rel="noreferrer">lodash groupBy</a> it seems to do exactly what you are looking for. It is also quite lightweight and really simple.</p>

<p>Fiddle example: <a href="https://jsfiddle.net/r7szvt5k/" rel="noreferrer">https://jsfiddle.net/r7szvt5k/</a></p>

<p>Provided that your array name is <code>arr</code> the groupBy with lodash is just:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">import</span> groupBy <span class="hljs-keyword">from</span> <span class="hljs-string">'lodash/groupBy'</span>;
<span class="hljs-comment">// if you still use require:</span>
<span class="hljs-comment">// const groupBy = require('lodash/groupBy');</span>

<span class="hljs-keyword">const</span> a = <span class="hljs-title function_">groupBy</span>(arr, <span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) {
  <span class="hljs-keyword">return</span> n.<span class="hljs-property">Phase</span>;
});
<span class="hljs-comment">// a is your array grouped by Phase attribute</span>
</code></pre>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Although the <a href="http://linqjs.codeplex.com/" rel="noreferrer">linq</a> answer is interesting, it's also quite heavy-weight.  My approach is somewhat different:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> <span class="hljs-title class_">DataGrouper</span> = (<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">var</span> has = <span class="hljs-keyword">function</span>(<span class="hljs-params">obj, target</span>) {
        <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">any</span>(obj, <span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) {
            <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">isEqual</span>(value, target);
        });
    };

    <span class="hljs-keyword">var</span> keys = <span class="hljs-keyword">function</span>(<span class="hljs-params">data, names</span>) {
        <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">reduce</span>(data, <span class="hljs-keyword">function</span>(<span class="hljs-params">memo, item</span>) {
            <span class="hljs-keyword">var</span> key = _.<span class="hljs-title function_">pick</span>(item, names);
            <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">has</span>(memo, key)) {
                memo.<span class="hljs-title function_">push</span>(key);
            }
            <span class="hljs-keyword">return</span> memo;
        }, []);
    };

    <span class="hljs-keyword">var</span> group = <span class="hljs-keyword">function</span>(<span class="hljs-params">data, names</span>) {
        <span class="hljs-keyword">var</span> stems = <span class="hljs-title function_">keys</span>(data, names);
        <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">map</span>(stems, <span class="hljs-keyword">function</span>(<span class="hljs-params">stem</span>) {
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">key</span>: stem,
                <span class="hljs-attr">vals</span>:_.<span class="hljs-title function_">map</span>(_.<span class="hljs-title function_">where</span>(data, stem), <span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) {
                    <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">omit</span>(item, names);
                })
            };
        });
    };

    group.<span class="hljs-property">register</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">name, converter</span>) {
        <span class="hljs-keyword">return</span> group[name] = <span class="hljs-keyword">function</span>(<span class="hljs-params">data, names</span>) {
            <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">map</span>(<span class="hljs-title function_">group</span>(data, names), converter);
        };
    };

    <span class="hljs-keyword">return</span> group;
}());

<span class="hljs-title class_">DataGrouper</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">"sum"</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) {
    <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">extend</span>({}, item.<span class="hljs-property">key</span>, {<span class="hljs-title class_">Value</span>: _.<span class="hljs-title function_">reduce</span>(item.<span class="hljs-property">vals</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">memo, node</span>) {
        <span class="hljs-keyword">return</span> memo + <span class="hljs-title class_">Number</span>(node.<span class="hljs-property">Value</span>);
    }, <span class="hljs-number">0</span>)});
});
</code></pre>

<p>You can see it <a href="http://jsbin.com/usepej/1/edit" rel="noreferrer">in action on JSBin</a>.</p>

<p>I didn't see anything in Underscore that does what <code>has</code> does, although I might be missing it.  It's much the same as <code>_.contains</code>, but uses <code>_.isEqual</code> rather than <code>===</code> for comparisons.  Other than that, the rest of this is problem-specific, although with an attempt to be generic.</p>

<p>Now <code>DataGrouper.sum(data, ["Phase"])</code> returns</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">[
    {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">50</span>},
    {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">130</span>}
]
</code></pre>

<p>And <code>DataGrouper.sum(data, ["Phase", "Step"])</code> returns</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">[
    {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">15</span>},
    {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">35</span>},
    {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">55</span>},
    {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">75</span>}
]
</code></pre>

<hr>

<p>But <code>sum</code> is only one potential function here.  You can register others as you like:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">DataGrouper</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">"max"</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) {
    <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">extend</span>({}, item.<span class="hljs-property">key</span>, {<span class="hljs-title class_">Max</span>: _.<span class="hljs-title function_">reduce</span>(item.<span class="hljs-property">vals</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">memo, node</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(memo, <span class="hljs-title class_">Number</span>(node.<span class="hljs-property">Value</span>));
    }, <span class="hljs-title class_">Number</span>.<span class="hljs-property">NEGATIVE_INFINITY</span>)});
});
</code></pre>

<p>and now <code>DataGrouper.max(data, ["Phase", "Step"])</code> will return</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">[
    {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Max</span>: <span class="hljs-number">10</span>},
    {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Max</span>: <span class="hljs-number">20</span>},
    {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Max</span>: <span class="hljs-number">30</span>},
    {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Max</span>: <span class="hljs-number">40</span>}
]
</code></pre>

<p>or if you registered this:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">DataGrouper</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">"tasks"</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) {
    <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">extend</span>({}, item.<span class="hljs-property">key</span>, {<span class="hljs-title class_">Tasks</span>: _.<span class="hljs-title function_">map</span>(item.<span class="hljs-property">vals</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) {
      <span class="hljs-keyword">return</span> item.<span class="hljs-property">Task</span> + <span class="hljs-string">" ("</span> + item.<span class="hljs-property">Value</span> + <span class="hljs-string">")"</span>;
    }).<span class="hljs-title function_">join</span>(<span class="hljs-string">", "</span>)});
});
</code></pre>

<p>then calling <code>DataGrouper.tasks(data, ["Phase", "Step"])</code> will get you</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">[
    {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Tasks</span>: <span class="hljs-string">"Task 1 (5), Task 2 (10)"</span>},
    {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Tasks</span>: <span class="hljs-string">"Task 1 (15), Task 2 (20)"</span>},
    {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Tasks</span>: <span class="hljs-string">"Task 1 (25), Task 2 (30)"</span>},
    {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Tasks</span>: <span class="hljs-string">"Task 1 (35), Task 2 (40)"</span>}
]
</code></pre>

<p><code>DataGrouper</code> itself is a function.  You can call it with your data and a list of the properties you want to group by.  It returns an array whose elements are object with two properties: <code>key</code> is the collection of grouped properties, <code>vals</code> is an array of objects containing the remaining properties not in the key.  For example, <code>DataGrouper(data, ["Phase", "Step"])</code> will yield:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">[
    {
        <span class="hljs-string">"key"</span>: {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>},
        <span class="hljs-string">"vals"</span>: [
            {<span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"5"</span>},
            {<span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"10"</span>}
        ]
    },
    {
        <span class="hljs-string">"key"</span>: {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>},
        <span class="hljs-string">"vals"</span>: [
            {<span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"15"</span>}, 
            {<span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"20"</span>}
        ]
    },
    {
        <span class="hljs-string">"key"</span>: {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>},
        <span class="hljs-string">"vals"</span>: [
            {<span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"25"</span>},
            {<span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"30"</span>}
        ]
    },
    {
        <span class="hljs-string">"key"</span>: {<span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>},
        <span class="hljs-string">"vals"</span>: [
            {<span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"35"</span>}, 
            {<span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"40"</span>}
        ]
    }
]
</code></pre>

<p><code>DataGrouper.register</code> accepts a function and creates a new function which accepts the initial data and the properties to group by.  This new function then takes the output format as above and runs your function against each of them in turn, returning a new array.  The function that's generated is stored as a property of <code>DataGrouper</code> according to a name you supply and also returned if you just want a local reference.</p>

<p>Well that's a lot of explanation.  The code is reasonably straightforward, I hope!</p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h3>GroupBy <em>one-liner</em>, an <strong>ES2021</strong> solution</h3>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">groupBy</span> = (<span class="hljs-params">x,f</span>)=&gt;x.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a,b</span>)=&gt;</span>((a[<span class="hljs-title function_">f</span>(b)]||=[]).<span class="hljs-title function_">push</span>(b),a),{});
</code></pre>
<h4>TypeScript</h4>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> groupBy = &lt;T&gt;<span class="hljs-function">(<span class="hljs-params">array: T[], predicate: (v: T) =&gt; string</span>) =&gt;</span>
  array.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, value</span>) =&gt;</span> {
    (acc[<span class="hljs-title function_">predicate</span>(value)] ||= []).<span class="hljs-title function_">push</span>(value);
    <span class="hljs-keyword">return</span> acc;
  }, {} <span class="hljs-keyword">as</span> { [<span class="hljs-attr">key</span>: string]: T[] });
</code></pre>
<p><strong>EXAMPLES</strong></p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">groupBy</span> = (<span class="hljs-params">x, f</span>) =&gt; x.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> ((a[<span class="hljs-title function_">f</span>(b)] ||= []).<span class="hljs-title function_">push</span>(b), a), {});
<span class="hljs-comment">// f -&gt; should must return string/number because it will be use as key in object</span>

<span class="hljs-comment">// for demo</span>

<span class="hljs-title function_">groupBy</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>], <span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> (v % <span class="hljs-number">2</span> ? <span class="hljs-string">"odd"</span> : <span class="hljs-string">"even"</span>));
<span class="hljs-comment">// { odd: [1, 3, 5, 7, 9], even: [2, 4, 6, 8] };</span>
<span class="hljs-keyword">const</span> colors = [
  <span class="hljs-string">"Apricot"</span>,
  <span class="hljs-string">"Brown"</span>,
  <span class="hljs-string">"Burgundy"</span>,
  <span class="hljs-string">"Cerulean"</span>,
  <span class="hljs-string">"Peach"</span>,
  <span class="hljs-string">"Pear"</span>,
  <span class="hljs-string">"Red"</span>,
];

<span class="hljs-title function_">groupBy</span>(colors, <span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> v[<span class="hljs-number">0</span>]); <span class="hljs-comment">// group by colors name first letter</span>
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   A: ["Apricot"],</span>
<span class="hljs-comment">//   B: ["Brown", "Burgundy"],</span>
<span class="hljs-comment">//   C: ["Cerulean"],</span>
<span class="hljs-comment">//   P: ["Peach", "Pear"],</span>
<span class="hljs-comment">//   R: ["Red"],</span>
<span class="hljs-comment">// };</span>
<span class="hljs-title function_">groupBy</span>(colors, <span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> v.<span class="hljs-property">length</span>); <span class="hljs-comment">// group by length of color names</span>
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   3: ["Red"],</span>
<span class="hljs-comment">//   4: ["Pear"],</span>
<span class="hljs-comment">//   5: ["Brown", "Peach"],</span>
<span class="hljs-comment">//   7: ["Apricot"],</span>
<span class="hljs-comment">//   8: ["Burgundy", "Cerulean"],</span>
<span class="hljs-comment">// }</span>

<span class="hljs-keyword">const</span> data = [
  { <span class="hljs-attr">comment</span>: <span class="hljs-string">"abc"</span>, <span class="hljs-attr">forItem</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">inModule</span>: <span class="hljs-number">1</span> },
  { <span class="hljs-attr">comment</span>: <span class="hljs-string">"pqr"</span>, <span class="hljs-attr">forItem</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">inModule</span>: <span class="hljs-number">1</span> },
  { <span class="hljs-attr">comment</span>: <span class="hljs-string">"klm"</span>, <span class="hljs-attr">forItem</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">inModule</span>: <span class="hljs-number">2</span> },
  { <span class="hljs-attr">comment</span>: <span class="hljs-string">"xyz"</span>, <span class="hljs-attr">forItem</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">inModule</span>: <span class="hljs-number">2</span> },
];

<span class="hljs-title function_">groupBy</span>(data, <span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> v.<span class="hljs-property">inModule</span>); <span class="hljs-comment">// group by module</span>
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   1: [</span>
<span class="hljs-comment">//     { comment: "abc", forItem: 1, inModule: 1 },</span>
<span class="hljs-comment">//     { comment: "pqr", forItem: 1, inModule: 1 },</span>
<span class="hljs-comment">//   ],</span>
<span class="hljs-comment">//   2: [</span>
<span class="hljs-comment">//     { comment: "klm", forItem: 1, inModule: 2 },</span>
<span class="hljs-comment">//     { comment: "xyz", forItem: 1, inModule: 2 },</span>
<span class="hljs-comment">//   ],</span>
<span class="hljs-comment">// }</span>

<span class="hljs-title function_">groupBy</span>(data, <span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x.<span class="hljs-property">forItem</span> + <span class="hljs-string">"-"</span> + x.<span class="hljs-property">inModule</span>); <span class="hljs-comment">// group by module with item</span>
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   "1-1": [</span>
<span class="hljs-comment">//     { comment: "abc", forItem: 1, inModule: 1 },</span>
<span class="hljs-comment">//     { comment: "pqr", forItem: 1, inModule: 1 },</span>
<span class="hljs-comment">//   ],</span>
<span class="hljs-comment">//   "1-2": [</span>
<span class="hljs-comment">//     { comment: "klm", forItem: 1, inModule: 2 },</span>
<span class="hljs-comment">//     { comment: "xyz", forItem: 1, inModule: 2 },</span>
<span class="hljs-comment">//   ],</span>
<span class="hljs-comment">// }</span>
</code></pre>
<h3>groupByToMap</h3>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">groupByToMap</span> = (<span class="hljs-params">x, f</span>) =&gt;
  x.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b, i, x</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> k = <span class="hljs-title function_">f</span>(b, i, x);
    a.<span class="hljs-title function_">get</span>(k)?.<span class="hljs-title function_">push</span>(b) ?? a.<span class="hljs-title function_">set</span>(k, [b]);
    <span class="hljs-keyword">return</span> a;
  }, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>());
</code></pre>
<h4>TypeScript</h4>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> groupByToMap = &lt;T, Q&gt;<span class="hljs-function">(<span class="hljs-params">array: T[], predicate: (value: T, index: number, array: T[]) =&gt; Q</span>) =&gt;</span>
  array.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">map, value, index, array</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> key = <span class="hljs-title function_">predicate</span>(value, index, array);
    map.<span class="hljs-title function_">get</span>(key)?.<span class="hljs-title function_">push</span>(value) ?? map.<span class="hljs-title function_">set</span>(key, [value]);
    <span class="hljs-keyword">return</span> map;
  }, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;Q, T[]&gt;());
</code></pre>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This is probably more easily done with <a href="https://github.com/neuecc/linq.js" rel="noreferrer"><strong><code>linq.js</code></strong></a>, which is intended to be a true implementation of LINQ in JavaScript (<a href="http://jsfiddle.net/n8vEt/" rel="noreferrer"><strong>DEMO</strong></a>):</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> linq = <span class="hljs-title class_">Enumerable</span>.<span class="hljs-title class_">From</span>(data);
<span class="hljs-keyword">var</span> result =
    linq.<span class="hljs-title class_">GroupBy</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>){ <span class="hljs-keyword">return</span> x.<span class="hljs-property">Phase</span>; })
        .<span class="hljs-title class_">Select</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>){
          <span class="hljs-keyword">return</span> {
            <span class="hljs-title class_">Phase</span>: x.<span class="hljs-title class_">Key</span>(),
            <span class="hljs-title class_">Value</span>: x.<span class="hljs-title class_">Sum</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">y</span>){ <span class="hljs-keyword">return</span> y.<span class="hljs-property">Value</span>|<span class="hljs-number">0</span>; })
          };
        }).<span class="hljs-title class_">ToArray</span>();
</code></pre>

<p>result:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">[
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">50</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">130</span> }
]
</code></pre>

<p>Or, more simply using the string-based selectors (<a href="http://jsfiddle.net/n8vEt/1/" rel="noreferrer"><strong>DEMO</strong></a>):</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">linq.<span class="hljs-title class_">GroupBy</span>(<span class="hljs-string">"$.Phase"</span>, <span class="hljs-string">""</span>,
    <span class="hljs-string">"k,e =&gt; { Phase:k, Value:e.Sum('$.Value|0') }"</span>).<span class="hljs-title class_">ToArray</span>();
</code></pre>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>MDN has <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#Grouping_objects_by_a_property" rel="noreferrer">this example</a> in their <code>Array.reduce()</code> documentation. </p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-comment">// Grouping objects by a property</span>
<span class="hljs-comment">// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#Grouping_objects_by_a_property#Grouping_objects_by_a_property</span>

<span class="hljs-keyword">var</span> people = [
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">21</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'Max'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'Jane'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> }
];

<span class="hljs-keyword">function</span> <span class="hljs-title function_">groupBy</span>(<span class="hljs-params">objectArray, property</span>) {
  <span class="hljs-keyword">return</span> objectArray.<span class="hljs-title function_">reduce</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">acc, obj</span>) {
    <span class="hljs-keyword">var</span> key = obj[property];
    <span class="hljs-keyword">if</span> (!acc[key]) {
      acc[key] = [];
    }
    acc[key].<span class="hljs-title function_">push</span>(obj);
    <span class="hljs-keyword">return</span> acc;
  }, {});
}

<span class="hljs-keyword">var</span> groupedPeople = <span class="hljs-title function_">groupBy</span>(people, <span class="hljs-string">'age'</span>);
<span class="hljs-comment">// groupedPeople is:</span>
<span class="hljs-comment">// { </span>
<span class="hljs-comment">//   20: [</span>
<span class="hljs-comment">//     { name: 'Max', age: 20 }, </span>
<span class="hljs-comment">//     { name: 'Jane', age: 20 }</span>
<span class="hljs-comment">//   ], </span>
<span class="hljs-comment">//   21: [{ name: 'Alice', age: 21 }] </span>
<span class="hljs-comment">// }</span>
</code></pre>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-js s-code-block"><code class="hljs language-javascript">_.<span class="hljs-title function_">groupBy</span>([{<span class="hljs-attr">tipo</span>: <span class="hljs-string">'A'</span> },{<span class="hljs-attr">tipo</span>: <span class="hljs-string">'A'</span>}, {<span class="hljs-attr">tipo</span>: <span class="hljs-string">'B'</span>}], <span class="hljs-string">'tipo'</span>);
&gt;&gt; <span class="hljs-title class_">Object</span> {<span class="hljs-attr">A</span>: <span class="hljs-title class_">Array</span>[<span class="hljs-number">2</span>], <span class="hljs-attr">B</span>: <span class="hljs-title class_">Array</span>[<span class="hljs-number">1</span>]}
</code></pre>

<p>From: <a href="http://underscorejs.org/#groupBy">http://underscorejs.org/#groupBy</a></p>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 11</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">groupBy</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">keyFunction</span>) {
    <span class="hljs-keyword">var</span> groups = {};
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">el</span>) {
        <span class="hljs-keyword">var</span> key = <span class="hljs-title function_">keyFunction</span>(el);
        <span class="hljs-keyword">if</span> (key <span class="hljs-keyword">in</span> groups == <span class="hljs-literal">false</span>) {
            groups[key] = [];
        }
        groups[key].<span class="hljs-title function_">push</span>(el);
    });
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(groups).<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">key</span>: key,
            <span class="hljs-attr">values</span>: groups[key]
        };
    });
};
</code></pre>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 12</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>it's a bit late but maybe someone like this one.</p>
<p>ES6:</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> users = [{
    <span class="hljs-attr">name</span>: <span class="hljs-string">"Jim"</span>,
    <span class="hljs-attr">color</span>: <span class="hljs-string">"blue"</span>
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">"Sam"</span>,
    <span class="hljs-attr">color</span>: <span class="hljs-string">"blue"</span>
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">"Eddie"</span>,
    <span class="hljs-attr">color</span>: <span class="hljs-string">"green"</span>
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">"Robert"</span>,
    <span class="hljs-attr">color</span>: <span class="hljs-string">"green"</span>
  },
];
<span class="hljs-keyword">const</span> <span class="hljs-title function_">groupBy</span> = (<span class="hljs-params">arr, key</span>) =&gt; {
  <span class="hljs-keyword">const</span> initialValue = {};
  <span class="hljs-keyword">return</span> arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, cval</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> myAttribute = cval[key];
    acc[myAttribute] = [...(acc[myAttribute] || []), cval]
    <span class="hljs-keyword">return</span> acc;
  }, initialValue);
};

<span class="hljs-keyword">const</span> res = <span class="hljs-title function_">groupBy</span>(users, <span class="hljs-string">"color"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"group by:"</span>, res);</code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif3" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 13</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can do it with <a href="http://github.com/agershun/alasql">Alasql</a> JavaScript library:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> data = [ { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"5"</span> },
             { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"10"</span> }];

<span class="hljs-keyword">var</span> res = <span class="hljs-title function_">alasql</span>(<span class="hljs-string">'SELECT Phase, Step, SUM(CAST([Value] AS INT)) AS [Value] \
                  FROM ? GROUP BY Phase, Step'</span>,[data]);
</code></pre>

<p>Try this example <a href="http://jsfiddle.net/agershun/ztc32a8h/1/">at jsFiddle</a>.</p>

<p><strong><em>BTW:</em></strong> On large arrays (100000 records and more) Alasql faster tham Linq. See test <a href="http://jsperf.com/alasql-vs-linq-on-groupby">at jsPref</a>. </p>

<p>Comments:</p>

<ul>
<li>Here I put Value in square brackets, because VALUE is a keyword in SQL</li>
<li>I have to use CAST() function to convert string Values to number type.</li>
</ul>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 14</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>A newer approach with an object for grouping and two more function to create a key and to get an object with wanted items of grouping and another key for the adding value.</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span>
    <span class="hljs-title function_">groupBy</span> = (<span class="hljs-params">array, groups, valueKey</span>) =&gt; {
        <span class="hljs-keyword">const</span>
            <span class="hljs-title function_">getKey</span> = o =&gt; groups.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">k</span> =&gt;</span> o[k]).<span class="hljs-title function_">join</span>(<span class="hljs-string">'|'</span>),
            getObject = <span class="hljs-function"><span class="hljs-params">o</span> =&gt;</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>([...groups.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">k</span> =&gt;</span> [k, o[k]]), [valueKey, <span class="hljs-number">0</span>]]);

        groups = [].<span class="hljs-title function_">concat</span>(groups);

        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(array.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">r, o</span>) =&gt;</span> {
            (r[<span class="hljs-title function_">getKey</span>(o)] ??= <span class="hljs-title function_">getObject</span>(o))[valueKey] += +o[valueKey];
            <span class="hljs-keyword">return</span> r;
        }, {}));
    },
    data = [{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"5"</span> }, { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"10"</span> }, { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"15"</span> }, { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"20"</span> }, { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"25"</span> }, { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"30"</span> }, { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"35"</span> }, { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"40"</span> }];

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">groupBy</span>(data, <span class="hljs-string">'Phase'</span>, <span class="hljs-string">'Value'</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">groupBy</span>(data, [<span class="hljs-string">'Phase'</span>, <span class="hljs-string">'Step'</span>], <span class="hljs-string">'Value'</span>));</code></pre>
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.as-console-wrapper</span> { <span class="hljs-attribute">max-height</span>: <span class="hljs-number">100%</span> <span class="hljs-meta">!important</span>; <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>; }</code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif4" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>Old approach:</p>
<p>Although the question have some answers and the answers look a bit over complicated, I suggest to use vanilla Javascript for group-by with a nested (if necessary) <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map" rel="nofollow noreferrer"><code>Map</code></a>.</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">groupBy</span>(<span class="hljs-params">array, groups, valueKey</span>) {
    <span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>;
    groups = [].<span class="hljs-title function_">concat</span>(groups);
    <span class="hljs-keyword">return</span> array.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">r, o</span>) =&gt;</span> {
        groups.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">m, k, i, { length }</span>) =&gt;</span> {
            <span class="hljs-keyword">var</span> child;
            <span class="hljs-keyword">if</span> (m.<span class="hljs-title function_">has</span>(o[k])) <span class="hljs-keyword">return</span> m.<span class="hljs-title function_">get</span>(o[k]);
            <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> === length) {
                child = <span class="hljs-title class_">Object</span>
                    .<span class="hljs-title function_">assign</span>(...groups.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">k</span> =&gt;</span> ({ [k]: o[k] })), { [valueKey]: <span class="hljs-number">0</span> });
                r.<span class="hljs-title function_">push</span>(child);
            } <span class="hljs-keyword">else</span> {
                child = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>;
            }
            m.<span class="hljs-title function_">set</span>(o[k], child);
            <span class="hljs-keyword">return</span> child;
        }, map)[valueKey] += +o[valueKey];
        <span class="hljs-keyword">return</span> r;
    }, [])
};

<span class="hljs-keyword">var</span> data = [{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"5"</span> }, { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"10"</span> }, { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"15"</span> }, { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"20"</span> }, { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"25"</span> }, { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"30"</span> }, { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"35"</span> }, { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"40"</span> }];

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">groupBy</span>(data, <span class="hljs-string">'Phase'</span>, <span class="hljs-string">'Value'</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">groupBy</span>(data, [<span class="hljs-string">'Phase'</span>, <span class="hljs-string">'Step'</span>], <span class="hljs-string">'Value'</span>));</code></pre>
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.as-console-wrapper</span> { <span class="hljs-attribute">max-height</span>: <span class="hljs-number">100%</span> <span class="hljs-meta">!important</span>; <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>; }</code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif5" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 15</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here's a nasty, hard to read solution using ES6:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> (arr, key) =&gt; 
  arr.<span class="hljs-title function_">reduce</span>(
    <span class="hljs-function">(<span class="hljs-params">r, v, _, __, k = v[key]</span>) =&gt;</span> ((r[k] || (r[k] = [])).<span class="hljs-title function_">push</span>(v), r),
    {}
  );
</code></pre>
<p>For those asking how does this <strong>even</strong> work, here's an explanation:</p>
<ul>
<li><p>In both <code>=&gt;</code> you have a free <code>return</code></p>
</li>
<li><p>The <code>Array.prototype.reduce</code> function takes up to 4 parameters. That's why a fifth parameter is being added so we can have a cheap variable declaration for the group (k) at the parameter declaration level by using a default value. (yes, this is sorcery)</p>
</li>
<li><p>If our current group doesn't exist on the previous iteration, we create a new empty array <code>((r[k] || (r[k] = []))</code> This will evaluate to the leftmost expression, <em>in other words, an existing array or an empty array</em>, this is why there's an immediate <code>push</code> after that expression, because either way you will get an array.</p>
</li>
<li><p>When there's a <code>return</code>, the comma <code>,</code> operator will discard the leftmost value, returning the tweaked previous group for this scenario.</p>
</li>
</ul>
<p>An easier to understand version that does the same is:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> (array, key) =&gt; 
  array.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">previous, currentItem</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> group = currentItem[key];
    <span class="hljs-keyword">if</span> (!previous[group]) previous[group] = [];
    previous[group].<span class="hljs-title function_">push</span>(currentItem);
    <span class="hljs-keyword">return</span> previous;
  }, {});
</code></pre>
<p>Edit:</p>
<p>TS Version:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> groupBy = &lt;T, K <span class="hljs-keyword">extends</span> keyof any&gt;<span class="hljs-function">(<span class="hljs-params">list: T[], getKey: (item: T) =&gt; K</span>) =&gt;</span>
  list.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">previous, currentItem</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> group = <span class="hljs-title function_">getKey</span>(currentItem);
    <span class="hljs-keyword">if</span> (!previous[group]) previous[group] = [];
    previous[group].<span class="hljs-title function_">push</span>(currentItem);
    <span class="hljs-keyword">return</span> previous;
  }, {} <span class="hljs-keyword">as</span> <span class="hljs-title class_">Record</span>&lt;K, T[]&gt;);
</code></pre>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 16</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Checked answer -- just shallow grouping. It's pretty nice to understand reducing. Question also provide the problem of additional aggregate calculations.</p>
<p>Here is a REAL GROUP BY for Array of Objects by some field(s) with 1) calculated key name and 2) complete solution for cascading of grouping by providing the list of the desired keys
and converting its unique values to root keys like SQL GROUP BY
does.</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> inputArray = [ 
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"5"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"10"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"15"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"20"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"25"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"30"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"35"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"40"</span> }
];

<span class="hljs-keyword">var</span> outObject = inputArray.<span class="hljs-title function_">reduce</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">a, e</span>) {
  <span class="hljs-comment">// GROUP BY estimated key (estKey), well, may be a just plain key</span>
  <span class="hljs-comment">// a -- Accumulator result object</span>
  <span class="hljs-comment">// e -- sequentally checked Element, the Element that is tested just at this itaration</span>

  <span class="hljs-comment">// new grouping name may be calculated, but must be based on real value of real field</span>
  <span class="hljs-keyword">let</span> estKey = (e[<span class="hljs-string">'Phase'</span>]); 

  (a[estKey] ? a[estKey] : (a[estKey] = <span class="hljs-literal">null</span> || [])).<span class="hljs-title function_">push</span>(e);
  <span class="hljs-keyword">return</span> a;
}, {});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(outObject);</code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif6" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>Play with <code>estKey</code> -- you may group by more then one field, add additional aggregations, calculations or other processing.</p>
<p>Also you can groups data recursively. For example initially group by <code>Phase</code>, then by <code>Step</code> field and so on. Additionally blow off
the fat rest data.</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="true">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> inputArray = [
{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"5"</span> },
{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"10"</span> },
{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"15"</span> },
{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"20"</span> },
{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"25"</span> },
{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"30"</span> },
{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"35"</span> },
{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"40"</span> }
  ];

<span class="hljs-comment">/**
 * Small helper to get SHALLOW copy of obj WITHOUT prop
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">rmProp</span> = (<span class="hljs-params">obj, prop</span>) =&gt; ( (<span class="hljs-function">(<span class="hljs-params">{[prop]:_, ...rest}</span>)=&gt;</span>rest)(obj) )

<span class="hljs-comment">/**
 * Group Array by key. Root keys of a resulting array is value
 * of specified key.
 *
 * <span class="hljs-doctag">@param</span>      {<span class="hljs-type">Array</span>}   src     The source array
 * <span class="hljs-doctag">@param</span>      {<span class="hljs-type">String</span>}  key     The by key to group by
 * <span class="hljs-doctag">@return</span>     {<span class="hljs-type">Object</span>}          Object with grouped objects as values
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">grpBy</span> = (<span class="hljs-params">src, key</span>) =&gt; src.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, e</span>) =&gt;</span> (
  (a[e[key]] = a[e[key]] || []).<span class="hljs-title function_">push</span>(<span class="hljs-title function_">rmProp</span>(e, key)),  a
), {});

<span class="hljs-comment">/**
 * Collapse array of object if it consists of only object with single value.
 * Replace it by the rest value.
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">blowObj</span> = obj =&gt; <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(obj) &amp;&amp; obj.<span class="hljs-property">length</span> === <span class="hljs-number">1</span> &amp;&amp; <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(obj[<span class="hljs-number">0</span>]).<span class="hljs-property">length</span> === <span class="hljs-number">1</span> ? <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(obj[<span class="hljs-number">0</span>])[<span class="hljs-number">0</span>] : obj;

<span class="hljs-comment">/**
 * Recursive grouping with list of keys. `keyList` may be an array
 * of key names or comma separated list of key names whom UNIQUE values will
 * becomes the keys of the resulting object.
 */</span>
<span class="hljs-keyword">const</span> grpByReal = <span class="hljs-keyword">function</span> (<span class="hljs-params">src, keyList</span>) {
  <span class="hljs-keyword">const</span> [key, ...rest] = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(keyList) ? keyList : <span class="hljs-title class_">String</span>(keyList).<span class="hljs-title function_">trim</span>().<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/\s*,\s*/</span>);
  <span class="hljs-keyword">const</span> res = key ? <span class="hljs-title function_">grpBy</span>(src, key) : [...src];
  <span class="hljs-keyword">if</span> (rest.<span class="hljs-property">length</span>) {
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> k <span class="hljs-keyword">in</span> res) {
  res[k] = <span class="hljs-title function_">grpByReal</span>(res[k], rest)
}
  } <span class="hljs-keyword">else</span> {
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> k <span class="hljs-keyword">in</span> res) {
  res[k] = <span class="hljs-title function_">blowObj</span>(res[k])
}
  }
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>( <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>( <span class="hljs-title function_">grpByReal</span>(inputArray, <span class="hljs-string">'Phase, Step, Task'</span>), <span class="hljs-literal">null</span>, <span class="hljs-number">2</span> ) );</code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif7" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 17</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This solution takes any arbitrary function (not a key) so it's more flexible than solutions above, and allows <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" rel="noreferrer"><em>arrow functions</em></a>, which are similar to <a href="https://msdn.microsoft.com/en-us/library/bb397687.aspx" rel="noreferrer"><em>lambda expressions</em></a> used in <strong>LINQ</strong>:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">groupBy</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">funcProp</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">reduce</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">acc, val</span>) {
        (acc[<span class="hljs-title function_">funcProp</span>(val)] = acc[<span class="hljs-title function_">funcProp</span>(val)] || []).<span class="hljs-title function_">push</span>(val);
        <span class="hljs-keyword">return</span> acc;
    }, {});
};
</code></pre>

<p>NOTE: whether you want to extend <code>Array</code>'s prototype is up to you.</p>

<p><strong>Example supported in most browsers:</strong></p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">[{<span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">b</span>:<span class="hljs-string">"b"</span>},{<span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">c</span>:<span class="hljs-string">"c"</span>},{<span class="hljs-attr">a</span>:<span class="hljs-number">2</span>,<span class="hljs-attr">d</span>:<span class="hljs-string">"d"</span>}].<span class="hljs-title function_">groupBy</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>){<span class="hljs-keyword">return</span> c.<span class="hljs-property">a</span>;})
</code></pre>

<p><strong>Example using arrow functions (ES6):</strong></p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">[{<span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">b</span>:<span class="hljs-string">"b"</span>},{<span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">c</span>:<span class="hljs-string">"c"</span>},{<span class="hljs-attr">a</span>:<span class="hljs-number">2</span>,<span class="hljs-attr">d</span>:<span class="hljs-string">"d"</span>}].<span class="hljs-title function_">groupBy</span>(<span class="hljs-function"><span class="hljs-params">c</span>=&gt;</span>c.<span class="hljs-property">a</span>)
</code></pre>

<p>Both examples above return:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">{
  <span class="hljs-string">"1"</span>: [{<span class="hljs-string">"a"</span>: <span class="hljs-number">1</span>, <span class="hljs-string">"b"</span>: <span class="hljs-string">"b"</span>}, {<span class="hljs-string">"a"</span>: <span class="hljs-number">1</span>, <span class="hljs-string">"c"</span>: <span class="hljs-string">"c"</span>}],
  <span class="hljs-string">"2"</span>: [{<span class="hljs-string">"a"</span>: <span class="hljs-number">2</span>, <span class="hljs-string">"d"</span>: <span class="hljs-string">"d"</span>}]
}
</code></pre>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 18</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Without mutations:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">groupBy</span> = (<span class="hljs-params">xs, key</span>) =&gt; xs.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, x</span>) =&gt;</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, acc, {
  [x[key]]: (acc[x[key]] || []).<span class="hljs-title function_">concat</span>(x)
}), {})

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">groupBy</span>([<span class="hljs-string">'one'</span>, <span class="hljs-string">'two'</span>, <span class="hljs-string">'three'</span>], <span class="hljs-string">'length'</span>));
<span class="hljs-comment">// =&gt; {3: ["one", "two"], 5: ["three"]}</span>
</code></pre>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 19</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>i'd like to suggest my approach. First, separate grouping and aggregating. Lets declare prototypical "group by" function. It takes another function to produce "hash" string for each array element to group by. </p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">groupBy</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">hash</span>){
  <span class="hljs-keyword">var</span> _hash = hash ? hash : <span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>){<span class="hljs-keyword">return</span> o;};

  <span class="hljs-keyword">var</span> _map = {};
  <span class="hljs-keyword">var</span> put = <span class="hljs-keyword">function</span>(<span class="hljs-params">map, key, value</span>){
    <span class="hljs-keyword">if</span> (!map[<span class="hljs-title function_">_hash</span>(key)]) {
        map[<span class="hljs-title function_">_hash</span>(key)] = {};
        map[<span class="hljs-title function_">_hash</span>(key)].<span class="hljs-property">group</span> = [];
        map[<span class="hljs-title function_">_hash</span>(key)].<span class="hljs-property">key</span> = key;

    }
    map[<span class="hljs-title function_">_hash</span>(key)].<span class="hljs-property">group</span>.<span class="hljs-title function_">push</span>(value); 
  }

  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">obj</span>){
    <span class="hljs-title function_">put</span>(_map, obj, obj);
  });

  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(_map).<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>){
    <span class="hljs-keyword">return</span> {<span class="hljs-attr">key</span>: _map[key].<span class="hljs-property">key</span>, <span class="hljs-attr">group</span>: _map[key].<span class="hljs-property">group</span>};
  });
}
</code></pre>

<p>when grouping is done you can aggregate data how you need, in your case</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">data.<span class="hljs-title function_">groupBy</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>){<span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({<span class="hljs-attr">a</span>: o.<span class="hljs-property">Phase</span>, <span class="hljs-attr">b</span>: o.<span class="hljs-property">Step</span>});})
    <span class="hljs-comment">/* aggreagating */</span>
    .<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">el</span>){ 
         <span class="hljs-keyword">var</span> sum = el.<span class="hljs-property">group</span>.<span class="hljs-title function_">reduce</span>(
           <span class="hljs-keyword">function</span>(<span class="hljs-params">l,c</span>){
             <span class="hljs-keyword">return</span> l + <span class="hljs-built_in">parseInt</span>(c.<span class="hljs-property">Value</span>);
           },
           <span class="hljs-number">0</span>
         );
         el.<span class="hljs-property">key</span>.<span class="hljs-property">Value</span> = sum; 
         <span class="hljs-keyword">return</span> el.<span class="hljs-property">key</span>;
    });
</code></pre>

<p>in common it works. i have tested this code in chrome console. and feel free to improve and find mistakes ;)</p>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 20</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">groupByArray</span>(<span class="hljs-params">xs, key</span>) {
    <span class="hljs-keyword">return</span> xs.<span class="hljs-title function_">reduce</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">rv, x</span>) {
        <span class="hljs-keyword">let</span> v = key <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Function</span> ? <span class="hljs-title function_">key</span>(x) : x[key];
        <span class="hljs-keyword">let</span> el = rv.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">r</span>) =&gt;</span> r &amp;&amp; r.<span class="hljs-property">key</span> === v);
        <span class="hljs-keyword">if</span> (el) {
            el.<span class="hljs-property">values</span>.<span class="hljs-title function_">push</span>(x);
        }
        <span class="hljs-keyword">else</span> {
            rv.<span class="hljs-title function_">push</span>({
                <span class="hljs-attr">key</span>: v,
                <span class="hljs-attr">values</span>: [x]
            });
        }
        <span class="hljs-keyword">return</span> rv;
    }, []);
}
</code></pre>

<p>This one outputs array.</p>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 21</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Imagine that you have something like this:</p>

<p><code>[{id:1, cat:'sedan'},{id:2, cat:'sport'},{id:3, cat:'sport'},{id:4, cat:'sedan'}]</code></p>

<p>By doing this:
<code>const categories =  [...new Set(cars.map((car) =&gt; car.cat))]</code></p>

<p>You will get this:
<code>['sedan','sport']</code></p>

<p><strong>Explanation:</strong>
 1. First, we are creating a new Set by passing an array. Because Set only allows unique values, all duplicates will be removed.</p>

<ol start="2">
<li>Now the duplicates are gone, were going to convert it back to an array by using the spread operator ...</li>
</ol>

<p>Set Doc:<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" rel="nofollow noreferrer">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set</a>
Spread OperatorDoc: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="nofollow noreferrer">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax</a></p>
    </div></div></div></div><div id="solution22" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 22</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Based on previous answers</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">groupBy</span> = (<span class="hljs-params">prop</span>) =&gt; <span class="hljs-function">(<span class="hljs-params">xs</span>) =&gt;</span>
  xs.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">rv, x</span>) =&gt;</span>
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(rv, {[x[prop]]: [...(rv[x[prop]] || []), x]}), {});
</code></pre>

<p>and it's a little nicer to look at with object spread syntax, if your environment supports.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">groupBy</span> = (<span class="hljs-params">prop</span>) =&gt; <span class="hljs-function">(<span class="hljs-params">xs</span>) =&gt;</span>
  xs.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, x</span>) =&gt;</span> ({
    ...acc,
    [ x[ prop ] ]: [...( acc[ x[ prop ] ] || []), x],
  }), {});
</code></pre>

<p>Here, our reducer takes the partially-formed return value (starting with an empty object), and returns an object composed of the spread out members of the previous return value, along with a new member whose key is calculated from the current iteree's value at <code>prop</code> and whose value is a list of all values for that prop along with the current value.</p>
    </div></div></div></div><div id="solution23" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 23</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><code>groupBy</code> function that can group an array by a specific key or a given grouping function. Typed.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">groupBy = &lt;T, K <span class="hljs-keyword">extends</span> keyof T&gt;(<span class="hljs-attr">array</span>: T[], <span class="hljs-attr">groupOn</span>: K | (<span class="hljs-function">(<span class="hljs-params">i: T</span>) =&gt;</span> string)): <span class="hljs-title class_">Record</span>&lt;string, T[]&gt; =&gt; {
  <span class="hljs-keyword">const</span> groupFn = <span class="hljs-keyword">typeof</span> groupOn === <span class="hljs-string">'function'</span> ? groupOn : <span class="hljs-function">(<span class="hljs-params">o: T</span>) =&gt;</span> o[groupOn];

  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(
    array.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, obj</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> groupKey = <span class="hljs-title function_">groupFn</span>(obj);
      <span class="hljs-keyword">return</span> acc.<span class="hljs-title function_">set</span>(groupKey, [...(acc.<span class="hljs-title function_">get</span>(groupKey) || []), obj]);
    }, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>())
  ) <span class="hljs-keyword">as</span> <span class="hljs-title class_">Record</span>&lt;string, T[]&gt;;
};
</code></pre>
    </div></div></div></div><div id="solution24" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 24</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I don't think that given answers are responding to the question, I think this following should answer to the first part :</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> arr = [ 
{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"5"</span> },
{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"10"</span> },
{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"15"</span> },
{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"20"</span> },
{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"25"</span> },
{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"30"</span> },
{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"35"</span> },
{ <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"40"</span> }
]

<span class="hljs-keyword">const</span> <span class="hljs-title function_">groupBy</span> = (<span class="hljs-params">key</span>) =&gt; arr.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a[key].<span class="hljs-title function_">localeCompare</span>(b[key])).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">total, currentValue</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> newTotal = total;
  <span class="hljs-keyword">if</span> (
    total.<span class="hljs-property">length</span> &amp;&amp;
    total[total.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>][key] === currentValue[key]
  )
    newTotal[total.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] = {
      ...total[total.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>],
      ...currentValue,
      <span class="hljs-title class_">Value</span>: <span class="hljs-built_in">parseInt</span>(total[total.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">Value</span>) + <span class="hljs-built_in">parseInt</span>(currentValue.<span class="hljs-property">Value</span>),
    };
  <span class="hljs-keyword">else</span> newTotal[total.<span class="hljs-property">length</span>] = currentValue;
  <span class="hljs-keyword">return</span> newTotal;
}, []);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">groupBy</span>(<span class="hljs-string">'Phase'</span>));

<span class="hljs-comment">// =&gt; [{ Phase: "Phase 1", Value: 50 },{ Phase: "Phase 2", Value: 130 }]</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">groupBy</span>(<span class="hljs-string">'Step'</span>));

<span class="hljs-comment">// =&gt; [{ Step: "Step 1", Value: 70 },{ Step: "Step 2", Value: 110 }] </span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif8" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution25" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 25</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Let's fully answer the original question while reusing code that was already written (i.e., Underscore). You can do much more with Underscore if you <em>combine</em> its &gt;100 functions. The following solution demonstrates this.</p>
<p>Step 1: group the objects in the array by an arbitrary combination of properties. This uses the fact that <a href="https://underscorejs.org/#groupBy" rel="nofollow noreferrer"><code>_.groupBy</code></a> accepts a function that returns the group of an object. It also uses <a href="https://underscorejs.org/#chain" rel="nofollow noreferrer"><code>_.chain</code></a>, <a href="https://underscorejs.org/#pick" rel="nofollow noreferrer"><code>_.pick</code></a>, <a href="https://underscorejs.org/#values" rel="nofollow noreferrer"><code>_.values</code></a>, <a href="https://underscorejs.org/#chaining" rel="nofollow noreferrer"><code>_.join</code></a> and <a href="https://underscorejs.org/#value" rel="nofollow noreferrer"><code>_.value</code></a>. Note that <code>_.value</code> is not strictly needed here, because chained values will automatically unwrap when used as a property name. I'm including it to safeguard against confusion in case somebody tries to write similar code in a context where automatic unwrapping does not take place.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-comment">// Given an object, return a string naming the group it belongs to.</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">category</span>(<span class="hljs-params">obj</span>) {
    <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">chain</span>(obj).<span class="hljs-title function_">pick</span>(propertyNames).<span class="hljs-title function_">values</span>().<span class="hljs-title function_">join</span>(<span class="hljs-string">' '</span>).<span class="hljs-title function_">value</span>();
}

<span class="hljs-comment">// Perform the grouping.</span>
<span class="hljs-keyword">const</span> intermediate = _.<span class="hljs-title function_">groupBy</span>(arrayOfObjects, category);
</code></pre>
<p>Given the <code>arrayOfObjects</code> in the original question and setting <code>propertyNames</code> to <code>['Phase', 'Step']</code>, <code>intermediate</code> will get the following value:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">{
    <span class="hljs-string">"Phase 1 Step 1"</span>: [
        { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"5"</span> },
        { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"10"</span> }
    ],
    <span class="hljs-string">"Phase 1 Step 2"</span>: [
        { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"15"</span> },
        { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"20"</span> }
    ],
    <span class="hljs-string">"Phase 2 Step 1"</span>: [
        { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"25"</span> },
        { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"30"</span> }
    ],
    <span class="hljs-string">"Phase 2 Step 2"</span>: [
        { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"35"</span> },
        { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"40"</span> }
    ]
}
</code></pre>
<p>Step 2: reduce each group to a single flat object and return the results in an array. Besides the functions we have seen before, the following code uses <a href="https://underscorejs.org/#pluck" rel="nofollow noreferrer"><code>_.pluck</code></a>, <a href="https://underscorejs.org/#first" rel="nofollow noreferrer"><code>_.first</code></a>, <a href="https://underscorejs.org/#pick" rel="nofollow noreferrer"><code>_.pick</code></a>, <a href="https://underscorejs.org/#extend" rel="nofollow noreferrer"><code>_.extend</code></a>, <a href="https://underscorejs.org/#reduce" rel="nofollow noreferrer"><code>_.reduce</code></a> and <a href="https://underscorejs.org/#map" rel="nofollow noreferrer"><code>_.map</code></a>. <code>_.first</code> is guaranteed to return an object in this case, because <code>_.groupBy</code> does not produce empty groups. <code>_.value</code> is necessary in this case.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-comment">// Sum two numbers, even if they are contained in strings.</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">addNumeric</span> = (<span class="hljs-params">a, b</span>) =&gt; +a + +b;

<span class="hljs-comment">// Given a `group` of objects, return a flat object with their common</span>
<span class="hljs-comment">// properties and the sum of the property with name `aggregateProperty`.</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">summarize</span>(<span class="hljs-params">group</span>) {
    <span class="hljs-keyword">const</span> valuesToSum = _.<span class="hljs-title function_">pluck</span>(group, aggregateProperty);
    <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">chain</span>(group).<span class="hljs-title function_">first</span>().<span class="hljs-title function_">pick</span>(propertyNames).<span class="hljs-title function_">extend</span>({
        [aggregateProperty]: _.<span class="hljs-title function_">reduce</span>(valuesToSum, addNumeric)
    }).<span class="hljs-title function_">value</span>();
}

<span class="hljs-comment">// Get an array with all the computed aggregates.</span>
<span class="hljs-keyword">const</span> result = _.<span class="hljs-title function_">map</span>(intermediate, summarize);
</code></pre>
<p>Given the <code>intermediate</code> that we obtained before and setting <code>aggregateProperty</code> to <code>Value</code>, we get the <code>result</code> that the asker desired:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">[
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">15</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">35</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">55</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">75</span> }
]
</code></pre>
<p>We can put this all together in a function that takes <code>arrayOfObjects</code>, <code>propertyNames</code> and <code>aggregateProperty</code> as parameters. Note that <code>arrayOfObjects</code> can actually also be a plain object with string keys, because <code>_.groupBy</code> accepts either. For this reason, I have renamed <code>arrayOfObjects</code> to <code>collection</code>.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">aggregate</span>(<span class="hljs-params">collection, propertyNames, aggregateProperty</span>) {
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">category</span>(<span class="hljs-params">obj</span>) {
        <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">chain</span>(obj).<span class="hljs-title function_">pick</span>(propertyNames).<span class="hljs-title function_">values</span>().<span class="hljs-title function_">join</span>(<span class="hljs-string">' '</span>);
    }
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">addNumeric</span> = (<span class="hljs-params">a, b</span>) =&gt; +a + +b;
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">summarize</span>(<span class="hljs-params">group</span>) {
        <span class="hljs-keyword">const</span> valuesToSum = _.<span class="hljs-title function_">pluck</span>(group, aggregateProperty);
        <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">chain</span>(group).<span class="hljs-title function_">first</span>().<span class="hljs-title function_">pick</span>(propertyNames).<span class="hljs-title function_">extend</span>({
            [aggregateProperty]: _.<span class="hljs-title function_">reduce</span>(valuesToSum, addNumeric)
        }).<span class="hljs-title function_">value</span>();
    }
    <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">chain</span>(collection).<span class="hljs-title function_">groupBy</span>(category).<span class="hljs-title function_">map</span>(summarize).<span class="hljs-title function_">value</span>();
}
</code></pre>
<p><code>aggregate(arrayOfObjects, ['Phase', 'Step'], 'Value')</code> will now give us the same <code>result</code> again.</p>
<p>We can take this a step further and enable the caller to compute <em>any</em> statistic over the values in each group. We can do this and also enable the caller to add arbitrary properties to the summary of each group. We can do all of this while making our code <em>shorter</em>. We replace the <code>aggregateProperty</code> parameter by an <code>iteratee</code> parameter and pass this straight to <code>_.reduce</code>:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">aggregate</span>(<span class="hljs-params">collection, propertyNames, iteratee</span>) {
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">category</span>(<span class="hljs-params">obj</span>) {
        <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">chain</span>(obj).<span class="hljs-title function_">pick</span>(propertyNames).<span class="hljs-title function_">values</span>().<span class="hljs-title function_">join</span>(<span class="hljs-string">' '</span>);
    }
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">summarize</span>(<span class="hljs-params">group</span>) {
        <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">chain</span>(group).<span class="hljs-title function_">first</span>().<span class="hljs-title function_">pick</span>(propertyNames)
            .<span class="hljs-title function_">extend</span>(_.<span class="hljs-title function_">reduce</span>(group, iteratee)).<span class="hljs-title function_">value</span>();
    }
    <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">chain</span>(collection).<span class="hljs-title function_">groupBy</span>(category).<span class="hljs-title function_">map</span>(summarize).<span class="hljs-title function_">value</span>();
}
</code></pre>
<p>In effect, we move some of the responsibility to the caller; she must provide an <code>iteratee</code> that can be passed to <code>_.reduce</code>, so that the call to <code>_.reduce</code> will produce an object with the aggregate properties she wants to add. For example, we obtain the same <code>result</code> as before with the following expression:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">aggregate</span>(arrayOfObjects, [<span class="hljs-string">'Phase'</span>, <span class="hljs-string">'Step'</span>], <span class="hljs-function">(<span class="hljs-params">memo, value</span>) =&gt;</span> ({
    <span class="hljs-title class_">Value</span>: +memo.<span class="hljs-property">Value</span> + +value.<span class="hljs-property">Value</span>
}));
</code></pre>
<p>For an example of a slightly more sophisticated <code>iteratee</code>, suppose that we want to compute the <em>maximum</em> <code>Value</code> of each group instead of the sum, and that we want to add a <code>Tasks</code> property that lists all the values of <code>Task</code> that occur in the group. Here's one way we can do this, using the last version of <code>aggregate</code> above (and <a href="https://underscorejs.org/#union" rel="nofollow noreferrer"><code>_.union</code></a>):</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">aggregate</span>(arrayOfObjects, [<span class="hljs-string">'Phase'</span>, <span class="hljs-string">'Step'</span>], <span class="hljs-function">(<span class="hljs-params">memo, value</span>) =&gt;</span> ({
    <span class="hljs-title class_">Value</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(memo.<span class="hljs-property">Value</span>, value.<span class="hljs-property">Value</span>),
    <span class="hljs-title class_">Tasks</span>: _.<span class="hljs-title function_">union</span>(memo.<span class="hljs-property">Tasks</span> || [memo.<span class="hljs-property">Task</span>], [value.<span class="hljs-property">Task</span>])
}));
</code></pre>
<p>We obtain the following result:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">[
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">10</span>, <span class="hljs-title class_">Tasks</span>: [ <span class="hljs-string">"Task 1"</span>, <span class="hljs-string">"Task 2"</span> ] },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">20</span>, <span class="hljs-title class_">Tasks</span>: [ <span class="hljs-string">"Task 1"</span>, <span class="hljs-string">"Task 2"</span> ] },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">30</span>, <span class="hljs-title class_">Tasks</span>: [ <span class="hljs-string">"Task 1"</span>, <span class="hljs-string">"Task 2"</span> ] },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-number">40</span>, <span class="hljs-title class_">Tasks</span>: [ <span class="hljs-string">"Task 1"</span>, <span class="hljs-string">"Task 2"</span> ] }
]
</code></pre>
<p>Credit to @much2learn, who also posted an <a href="https://stackoverflow.com/a/62393557/1166087">answer</a> that can handle arbitrary reducing functions. I wrote a couple more SO answers that demonstrate how one can achieve sophisticated things by combining multiple Underscore functions:</p>
<ul>
<li><a href="https://stackoverflow.com/a/64938636/1166087">https://stackoverflow.com/a/64938636/1166087</a></li>
<li><a href="https://stackoverflow.com/a/64094738/1166087">https://stackoverflow.com/a/64094738/1166087</a></li>
<li><a href="https://stackoverflow.com/a/63625129/1166087">https://stackoverflow.com/a/63625129/1166087</a></li>
<li><a href="https://stackoverflow.com/a/63088916/1166087">https://stackoverflow.com/a/63088916/1166087</a></li>
</ul>
    </div></div></div></div><div id="solution26" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 26</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">groupBy</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">groupingKeyFn</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> groupingKeyFn !== <span class="hljs-string">'function'</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"groupBy take a function as only parameter"</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">result, item</span>) =&gt;</span> {
        <span class="hljs-keyword">let</span> key = <span class="hljs-title function_">groupingKeyFn</span>(item);
        <span class="hljs-keyword">if</span> (!result[key])
            result[key] = [];
        result[key].<span class="hljs-title function_">push</span>(item);
        <span class="hljs-keyword">return</span> result;
    }, {});
}

<span class="hljs-keyword">var</span> a = [
	{<span class="hljs-attr">type</span>: <span class="hljs-string">"video"</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"a"</span>},
  {<span class="hljs-attr">type</span>: <span class="hljs-string">"image"</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"b"</span>},
  {<span class="hljs-attr">type</span>: <span class="hljs-string">"video"</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"c"</span>},
  {<span class="hljs-attr">type</span>: <span class="hljs-string">"blog"</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"d"</span>},
  {<span class="hljs-attr">type</span>: <span class="hljs-string">"video"</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"e"</span>},
]
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-title function_">groupBy</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item.<span class="hljs-property">type</span>));</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif9" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution27" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 27</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I would check <a href="https://www.npmjs.com/package/declarative-js#groupby" rel="nofollow noreferrer">declarative-js</a> <code>groupBy</code> it seems to do exactly what you are looking for. It is also: </p>

<ul>
<li>very performant (performance <a href="https://github.com/pavel-surinin/performance-bechmark/blob/master/output.md#reduergroupby" rel="nofollow noreferrer">benchmark</a>)</li>
<li>written in typescript so all typpings are included.</li>
<li>It is not enforcing to use 3rd party array-like objects.</li>
</ul>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Reducers</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'declarative-js'</span>;
<span class="hljs-keyword">import</span> groupBy = <span class="hljs-title class_">Reducers</span>.<span class="hljs-property">groupBy</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Map</span> = <span class="hljs-title class_">Reducers</span>.<span class="hljs-property">Map</span>;

<span class="hljs-keyword">const</span> data = [
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"5"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"10"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"15"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 1"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"20"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"25"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 1"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"30"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 1"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"35"</span> },
    { <span class="hljs-title class_">Phase</span>: <span class="hljs-string">"Phase 2"</span>, <span class="hljs-title class_">Step</span>: <span class="hljs-string">"Step 2"</span>, <span class="hljs-title class_">Task</span>: <span class="hljs-string">"Task 2"</span>, <span class="hljs-title class_">Value</span>: <span class="hljs-string">"40"</span> }
];

data.<span class="hljs-title function_">reduce</span>(<span class="hljs-title function_">groupBy</span>(<span class="hljs-function"><span class="hljs-params">element</span>=&gt;</span> element.<span class="hljs-property">Step</span>), <span class="hljs-title class_">Map</span>());
data.<span class="hljs-title function_">reduce</span>(<span class="hljs-title function_">groupBy</span>(<span class="hljs-string">'Step'</span>), <span class="hljs-title class_">Map</span>());
</code></pre>
    </div></div></div></div><div id="solution28" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 28</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Lets generate a generic <code>Array.prototype.groupBy()</code> tool. Just for variety let's use ES6 fanciness the spread operator for some Haskellesque pattern matching on a recursive approach. Also let's make our <code>Array.prototype.groupBy()</code> to accept a callback which takes the item (<code>e</code>) the index (<code>i</code>) and the applied array (<code>a</code>) as arguments.</p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">groupBy</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">cb</span>){
                            <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">iterate</span>(<span class="hljs-params">[x,...xs], i = <span class="hljs-number">0</span>, r = [[],[]]</span>){
                                     <span class="hljs-title function_">cb</span>(x,i,[x,...xs]) ? (r[<span class="hljs-number">0</span>].<span class="hljs-title function_">push</span>(x), r)
                                                       : (r[<span class="hljs-number">1</span>].<span class="hljs-title function_">push</span>(x), r);
                                     <span class="hljs-keyword">return</span> xs.<span class="hljs-property">length</span> ? <span class="hljs-title function_">iterate</span>(xs, ++i, r) : r;
                                   }(<span class="hljs-variable language_">this</span>);
                          };

<span class="hljs-keyword">var</span> arr = [<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>],
    res = arr.<span class="hljs-title function_">groupBy</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e &lt; <span class="hljs-number">5</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);</code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif10" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution29" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 29</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Just to add to Scott Sauyet's <a href="https://stackoverflow.com/a/14484332/5484795">answer</a>, some people were asking in the comments how to use his function to groupby value1, value2, etc., instead of grouping just one value.</p>

<p>All it takes is to edit his sum function:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">DataGrouper</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">"sum"</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) {
    <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">extend</span>({}, item.<span class="hljs-property">key</span>,
        {<span class="hljs-title class_">VALUE1</span>: _.<span class="hljs-title function_">reduce</span>(item.<span class="hljs-property">vals</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">memo, node</span>) {
        <span class="hljs-keyword">return</span> memo + <span class="hljs-title class_">Number</span>(node.<span class="hljs-property">VALUE1</span>);}, <span class="hljs-number">0</span>)},
        {<span class="hljs-title class_">VALUE2</span>: _.<span class="hljs-title function_">reduce</span>(item.<span class="hljs-property">vals</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">memo, node</span>) {
        <span class="hljs-keyword">return</span> memo + <span class="hljs-title class_">Number</span>(node.<span class="hljs-property">VALUE2</span>);}, <span class="hljs-number">0</span>)}
    );
});
</code></pre>

<p>leaving the main one (DataGrouper) unchanged:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> <span class="hljs-title class_">DataGrouper</span> = (<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">var</span> has = <span class="hljs-keyword">function</span>(<span class="hljs-params">obj, target</span>) {
        <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">any</span>(obj, <span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) {
            <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">isEqual</span>(value, target);
        });
    };

    <span class="hljs-keyword">var</span> keys = <span class="hljs-keyword">function</span>(<span class="hljs-params">data, names</span>) {
        <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">reduce</span>(data, <span class="hljs-keyword">function</span>(<span class="hljs-params">memo, item</span>) {
            <span class="hljs-keyword">var</span> key = _.<span class="hljs-title function_">pick</span>(item, names);
            <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">has</span>(memo, key)) {
                memo.<span class="hljs-title function_">push</span>(key);
            }
            <span class="hljs-keyword">return</span> memo;
        }, []);
    };

    <span class="hljs-keyword">var</span> group = <span class="hljs-keyword">function</span>(<span class="hljs-params">data, names</span>) {
        <span class="hljs-keyword">var</span> stems = <span class="hljs-title function_">keys</span>(data, names);
        <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">map</span>(stems, <span class="hljs-keyword">function</span>(<span class="hljs-params">stem</span>) {
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">key</span>: stem,
                <span class="hljs-attr">vals</span>:_.<span class="hljs-title function_">map</span>(_.<span class="hljs-title function_">where</span>(data, stem), <span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) {
                    <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">omit</span>(item, names);
                })
            };
        });
    };

    group.<span class="hljs-property">register</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">name, converter</span>) {
        <span class="hljs-keyword">return</span> group[name] = <span class="hljs-keyword">function</span>(<span class="hljs-params">data, names</span>) {
            <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">map</span>(<span class="hljs-title function_">group</span>(data, names), converter);
        };
    };

    <span class="hljs-keyword">return</span> group;
}());
</code></pre>
    </div></div></div></div><div id="solution30" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 30</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/underscore.js">underscore.js</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Ceasar's answer is good, but works only for inner properties of the elements inside the array (length in case of string).</p>

<p>this implementation works more like: <a href="https://lodash.com/docs/4.17.4#groupBy" rel="nofollow noreferrer">this link</a></p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> groupBy = <span class="hljs-keyword">function</span> (<span class="hljs-params">arr, f</span>) {
    <span class="hljs-keyword">return</span> arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">out, val</span>) =&gt;</span> {
        <span class="hljs-keyword">let</span> by = <span class="hljs-keyword">typeof</span> f === <span class="hljs-string">'function'</span> ? <span class="hljs-string">''</span> + <span class="hljs-title function_">f</span>(val) : val[f];
        (out[by] = out[by] || []).<span class="hljs-title function_">push</span>(val);
        <span class="hljs-keyword">return</span> out;
    }, {});
};
</code></pre>

<p>hope this helps...</p>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/how-do-javascript-closures-work-1657384418555">How do JavaScript closures work?</a><a href="/questions/scanner-is-skipping-nextline()-after-using-next()-or-nextfoo()-1657384379697">Scanner is skipping nextLine() after using next() or nextFoo()?</a><a href="/questions/how-can-i-validate-an-email-address-in-javascript-1657385475959">How can I validate an email address in JavaScript?</a><a href="/questions/loop-through-an-array-in-javascript-1657387821551">Loop through an array in JavaScript</a><a href="/questions/mysql-pivot-row-into-dynamic-number-of-columns-1657387981930">MySQL pivot row into dynamic number of columns</a><a href="/questions/reference-what-does-this-symbol-mean-in-php-1657384561666">Reference — What does this symbol mean in PHP?</a><a href="/questions/using-fflush(stdin)-1657387602771">Using fflush(stdin)</a><a href="/questions/how-can-i-combine-two-strings-together-in-php-1657388279401">How can I combine two strings together in PHP?</a><a href="/questions/what-is-object-slicing-1657384506425">What is object slicing?</a><a href="/questions/%22cross-origin-requests-are-only-supported-for-http.%22-error-when-loading-a-local-file-1657387942403">&quot;Cross origin requests are only supported for HTTP.&quot; error when loading a local file</a><a href="/questions/how-do-i-clone-a-list-so-that-it-doesn&#x27;t-change-unexpectedly-after-assignment-1657384423195">How do I clone a list so that it doesn&#x27;t change unexpectedly after assignment?</a><a href="/questions/get-the-values-from-the-%22get%22-parameters-(javascript)-duplicate-1657387656693">Get the values from the &quot;GET&quot; parameters (JavaScript) [duplicate]</a><a href="/questions/why-do-regex-constructors-need-to-be-double-escaped-1657388004942">Why do regex constructors need to be double escaped?</a><a href="/questions/what-does-a-%22cannot-find-symbol%22-or-%22cannot-resolve-symbol%22-error-mean-1657384492160">What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?</a><a href="/questions/how-do-i-merge-two-dictionaries-in-a-single-expression-1657387593160">How do I merge two dictionaries in a single expression?</a><a href="/questions/getcontactsfromfirebase()-method-return-an-empty-list-1657388433928">getContactsFromFirebase() method return an empty list</a><a href="/questions/how-can-i-get-query-string-values-in-javascript-1657384443631">How can I get query string values in JavaScript?</a><a href="/questions/how-to-create-a-mysql-hierarchical-recursive-query-1657387662163">How to create a MySQL hierarchical recursive query?</a><a href="/questions/why-does-a-regexp-with-global-flag-give-wrong-results-1657387788550">Why does a RegExp with global flag give wrong results?</a><a href="/questions/how-to-reshape-data-from-long-to-wide-format-1657384486421">How to reshape data from long to wide format</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;If you want to avoid external libraries, you can concisely implement a vanilla version of \u0026lt;code\u0026gt;groupBy()\u0026lt;/code\u0026gt; like so:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; groupBy = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;xs, key\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; xs.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;rv, x\u0026lt;/span\u0026gt;) {\n    (rv[x[key]] = rv[x[key]] || []).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(x);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; rv;\n  }, {});\n};\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;([\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;one\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;two\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;three\u0026apos;\u0026lt;/span\u0026gt;], \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;length\u0026apos;\u0026lt;/span\u0026gt;));\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// =\u0026amp;gt; {3: [\u0026quot;one\u0026quot;, \u0026quot;two\u0026quot;], 5: [\u0026quot;three\u0026quot;]}\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif1\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Using ES6 Map object:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/**\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@description\u0026lt;/span\u0026gt;\n * Takes an Array\u0026amp;lt;V\u0026amp;gt;, and a grouping function,\n * and returns a Map of the array grouped by the grouping function.\n *\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@param\u0026lt;/span\u0026gt; list An array of type V.\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@param\u0026lt;/span\u0026gt; keyGetter A Function that takes the the Array type V as an input, and returns a value of type K.\n *                  K is generally intended to be a property key of V.\n *\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@returns\u0026lt;/span\u0026gt; Map of the array grouped by the grouping function.\n */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//export function groupBy\u0026amp;lt;K, V\u0026amp;gt;(list: Array\u0026amp;lt;V\u0026amp;gt;, keyGetter: (input: V) =\u0026amp;gt; K): Map\u0026amp;lt;K, Array\u0026amp;lt;V\u0026amp;gt;\u0026amp;gt; {\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//    const map = new Map\u0026amp;lt;K, Array\u0026amp;lt;V\u0026amp;gt;\u0026amp;gt;();\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;list, keyGetter\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; map = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Map\u0026lt;/span\u0026gt;();\n    list.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;forEach\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;item\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n         \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; key = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;keyGetter\u0026lt;/span\u0026gt;(item);\n         \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; collection = map.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(key);\n         \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!collection) {\n             map.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;set\u0026lt;/span\u0026gt;(key, [item]);\n         } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n             collection.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(item);\n         }\n    });\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; map;\n}\n\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// example usage\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; pets = [\n    {\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Dog\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Spot\u0026quot;\u0026lt;/span\u0026gt;},\n    {\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Cat\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Tiger\u0026quot;\u0026lt;/span\u0026gt;},\n    {\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Dog\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Rover\u0026quot;\u0026lt;/span\u0026gt;}, \n    {\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Cat\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Leo\u0026quot;\u0026lt;/span\u0026gt;}\n];\n    \n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; grouped = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(pets, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;pet\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; pet.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;);\n    \n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(grouped.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Dog\u0026quot;\u0026lt;/span\u0026gt;)); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// -\u0026amp;gt; [{type:\u0026quot;Dog\u0026quot;, name:\u0026quot;Spot\u0026quot;}, {type:\u0026quot;Dog\u0026quot;, name:\u0026quot;Rover\u0026quot;}]\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(grouped.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Cat\u0026quot;\u0026lt;/span\u0026gt;)); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// -\u0026amp;gt; [{type:\u0026quot;Cat\u0026quot;, name:\u0026quot;Tiger\u0026quot;}, {type:\u0026quot;Cat\u0026quot;, name:\u0026quot;Leo\u0026quot;}]\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; odd = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Symbol\u0026lt;/span\u0026gt;();\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; even = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Symbol\u0026lt;/span\u0026gt;();\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; numbers = [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;];\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; oddEven = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(numbers, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; (x % \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; === \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; ? odd : even));\n    \n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(oddEven.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(odd)); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// -\u0026amp;gt; [1,3,5,7]\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(oddEven.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(even)); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// -\u0026amp;gt; [2,4,6]\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif2\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;About Map:\n\u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;with ES6:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;items, key\u0026lt;/span\u0026gt;) =\u0026amp;gt; items.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\n  \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;result, item\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; ({\n    ...result,\n    [item[key]]: [\n      ...(result[item[key]] || []),\n      item,\n    ],\n  }), \n  {},\n);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can build an ES6 \u0026lt;code\u0026gt;Map\u0026lt;/code\u0026gt; from \u0026lt;code\u0026gt;array.reduce()\u0026lt;/code\u0026gt;. \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; groupedMap = initialArray.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;entryMap, e\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; entryMap.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;set\u0026lt;/span\u0026gt;(e.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;, [...entryMap.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(e.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;)||[], e]),\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Map\u0026lt;/span\u0026gt;()\n);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This has a few advantages over the other solutions: \u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;It doesn\u0026apos;t require any libraries (unlike e.g. \u0026lt;code\u0026gt;_.groupBy()\u0026lt;/code\u0026gt;)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;You get a JavaScript \u0026lt;code\u0026gt;Map\u0026lt;/code\u0026gt; rather than an object (e.g. as returned by \u0026lt;code\u0026gt;_.groupBy()\u0026lt;/code\u0026gt;). This has \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Objects_and_maps_compared\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;lots of benefits\u0026lt;/a\u0026gt;, including:\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;it remembers the order in which items were first added,\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;keys can be any type rather than just strings. \u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;A \u0026lt;code\u0026gt;Map\u0026lt;/code\u0026gt; is a more useful result that an array of arrays. But if you do want an array of arrays, you can then call \u0026lt;code\u0026gt;Array.from(groupedMap.entries())\u0026lt;/code\u0026gt; (for an array of \u0026lt;code\u0026gt;[key, group array]\u0026lt;/code\u0026gt; pairs) or \u0026lt;code\u0026gt;Array.from(groupedMap.values())\u0026lt;/code\u0026gt; (for a simple array of arrays).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;It\u0026apos;s quite flexible; often, whatever you were planning to do next with this map can be done directly as part of the reduction. \u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;As an example of the last point, imagine I have an array of objects that I want to do a (shallow) merge on by id, like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; objsToMerge = [{\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Steve\u0026quot;\u0026lt;/span\u0026gt;}, {\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Alice\u0026quot;\u0026lt;/span\u0026gt;}, {\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;age\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;}];\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// The following variable should be created automatically\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; mergedArray = [{\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Steve\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;age\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;}, {\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Alice\u0026quot;\u0026lt;/span\u0026gt;}]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;To do this, I would usually start by grouping by id, and then merging each of the resulting arrays. Instead, you can do the merge directly in the \u0026lt;code\u0026gt;reduce()\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; mergedArray = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt;(\n    objsToMerge.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\n        \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;entryMap, e\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; entryMap.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;set\u0026lt;/span\u0026gt;(e.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;, {...entryMap.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(e.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;)||{}, ...e}),\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Map\u0026lt;/span\u0026gt;()\n    ).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;values\u0026lt;/span\u0026gt;()\n);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I would check \u0026lt;a href=\u0026quot;https://lodash.com/docs#groupBy\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;lodash groupBy\u0026lt;/a\u0026gt; it seems to do exactly what you are looking for. It is also quite lightweight and really simple.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Fiddle example: \u0026lt;a href=\u0026quot;https://jsfiddle.net/r7szvt5k/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://jsfiddle.net/r7szvt5k/\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Provided that your array name is \u0026lt;code\u0026gt;arr\u0026lt;/code\u0026gt; the groupBy with lodash is just:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; groupBy \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;lodash/groupBy\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// if you still use require:\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// const groupBy = require(\u0026apos;lodash/groupBy\u0026apos;);\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; a = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(arr, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;n\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; n.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;;\n});\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// a is your array grouped by Phase attribute\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Although the \u0026lt;a href=\u0026quot;http://linqjs.codeplex.com/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;linq\u0026lt;/a\u0026gt; answer is interesting, it\u0026apos;s also quite heavy-weight.  My approach is somewhat different:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DataGrouper\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; has = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;obj, target\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;any\u0026lt;/span\u0026gt;(obj, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;isEqual\u0026lt;/span\u0026gt;(value, target);\n        });\n    };\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; keys = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, names\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(data, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;memo, item\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; key = _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pick\u0026lt;/span\u0026gt;(item, names);\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;has\u0026lt;/span\u0026gt;(memo, key)) {\n                memo.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(key);\n            }\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; memo;\n        }, []);\n    };\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; group = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, names\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; stems = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;keys\u0026lt;/span\u0026gt;(data, names);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(stems, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;stem\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; {\n                \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;: stem,\n                \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;vals\u0026lt;/span\u0026gt;:_.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(_.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;where\u0026lt;/span\u0026gt;(data, stem), \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;item\u0026lt;/span\u0026gt;) {\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;omit\u0026lt;/span\u0026gt;(item, names);\n                })\n            };\n        });\n    };\n\n    group.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;register\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;name, converter\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; group[name] = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, names\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;group\u0026lt;/span\u0026gt;(data, names), converter);\n        };\n    };\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; group;\n}());\n\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DataGrouper\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;register\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;sum\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;item\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;extend\u0026lt;/span\u0026gt;({}, item.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;, {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(item.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;vals\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;memo, node\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; memo + \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;(node.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;);\n    }, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)});\n});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You can see it \u0026lt;a href=\u0026quot;http://jsbin.com/usepej/1/edit\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;in action on JSBin\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I didn\u0026apos;t see anything in Underscore that does what \u0026lt;code\u0026gt;has\u0026lt;/code\u0026gt; does, although I might be missing it.  It\u0026apos;s much the same as \u0026lt;code\u0026gt;_.contains\u0026lt;/code\u0026gt;, but uses \u0026lt;code\u0026gt;_.isEqual\u0026lt;/code\u0026gt; rather than \u0026lt;code\u0026gt;===\u0026lt;/code\u0026gt; for comparisons.  Other than that, the rest of this is problem-specific, although with an attempt to be generic.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Now \u0026lt;code\u0026gt;DataGrouper.sum(data, [\u0026quot;Phase\u0026quot;])\u0026lt;/code\u0026gt; returns\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;[\n    {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50\u0026lt;/span\u0026gt;},\n    {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;130\u0026lt;/span\u0026gt;}\n]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And \u0026lt;code\u0026gt;DataGrouper.sum(data, [\u0026quot;Phase\u0026quot;, \u0026quot;Step\u0026quot;])\u0026lt;/code\u0026gt; returns\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;[\n    {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;15\u0026lt;/span\u0026gt;},\n    {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;35\u0026lt;/span\u0026gt;},\n    {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;55\u0026lt;/span\u0026gt;},\n    {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;75\u0026lt;/span\u0026gt;}\n]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;But \u0026lt;code\u0026gt;sum\u0026lt;/code\u0026gt; is only one potential function here.  You can register others as you like:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DataGrouper\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;register\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;max\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;item\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;extend\u0026lt;/span\u0026gt;({}, item.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;, {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Max\u0026lt;/span\u0026gt;: _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(item.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;vals\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;memo, node\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;max\u0026lt;/span\u0026gt;(memo, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;(node.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;));\n    }, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;NEGATIVE_INFINITY\u0026lt;/span\u0026gt;)});\n});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;and now \u0026lt;code\u0026gt;DataGrouper.max(data, [\u0026quot;Phase\u0026quot;, \u0026quot;Step\u0026quot;])\u0026lt;/code\u0026gt; will return\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;[\n    {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Max\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;},\n    {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Max\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;},\n    {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Max\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30\u0026lt;/span\u0026gt;},\n    {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Max\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;40\u0026lt;/span\u0026gt;}\n]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;or if you registered this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DataGrouper\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;register\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;tasks\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;item\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;extend\u0026lt;/span\u0026gt;({}, item.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;, {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Tasks\u0026lt;/span\u0026gt;: _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(item.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;vals\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;item\u0026lt;/span\u0026gt;) {\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; item.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; (\u0026quot;\u0026lt;/span\u0026gt; + item.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;)\u0026quot;\u0026lt;/span\u0026gt;;\n    }).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;, \u0026quot;\u0026lt;/span\u0026gt;)});\n});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;then calling \u0026lt;code\u0026gt;DataGrouper.tasks(data, [\u0026quot;Phase\u0026quot;, \u0026quot;Step\u0026quot;])\u0026lt;/code\u0026gt; will get you\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;[\n    {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Tasks\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1 (5), Task 2 (10)\u0026quot;\u0026lt;/span\u0026gt;},\n    {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Tasks\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1 (15), Task 2 (20)\u0026quot;\u0026lt;/span\u0026gt;},\n    {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Tasks\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1 (25), Task 2 (30)\u0026quot;\u0026lt;/span\u0026gt;},\n    {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Tasks\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1 (35), Task 2 (40)\u0026quot;\u0026lt;/span\u0026gt;}\n]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;DataGrouper\u0026lt;/code\u0026gt; itself is a function.  You can call it with your data and a list of the properties you want to group by.  It returns an array whose elements are object with two properties: \u0026lt;code\u0026gt;key\u0026lt;/code\u0026gt; is the collection of grouped properties, \u0026lt;code\u0026gt;vals\u0026lt;/code\u0026gt; is an array of objects containing the remaining properties not in the key.  For example, \u0026lt;code\u0026gt;DataGrouper(data, [\u0026quot;Phase\u0026quot;, \u0026quot;Step\u0026quot;])\u0026lt;/code\u0026gt; will yield:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;[\n    {\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;key\u0026quot;\u0026lt;/span\u0026gt;: {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;},\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;vals\u0026quot;\u0026lt;/span\u0026gt;: [\n            {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;5\u0026quot;\u0026lt;/span\u0026gt;},\n            {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;10\u0026quot;\u0026lt;/span\u0026gt;}\n        ]\n    },\n    {\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;key\u0026quot;\u0026lt;/span\u0026gt;: {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;},\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;vals\u0026quot;\u0026lt;/span\u0026gt;: [\n            {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;15\u0026quot;\u0026lt;/span\u0026gt;}, \n            {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;20\u0026quot;\u0026lt;/span\u0026gt;}\n        ]\n    },\n    {\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;key\u0026quot;\u0026lt;/span\u0026gt;: {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;},\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;vals\u0026quot;\u0026lt;/span\u0026gt;: [\n            {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;25\u0026quot;\u0026lt;/span\u0026gt;},\n            {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;30\u0026quot;\u0026lt;/span\u0026gt;}\n        ]\n    },\n    {\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;key\u0026quot;\u0026lt;/span\u0026gt;: {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;},\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;vals\u0026quot;\u0026lt;/span\u0026gt;: [\n            {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;35\u0026quot;\u0026lt;/span\u0026gt;}, \n            {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;40\u0026quot;\u0026lt;/span\u0026gt;}\n        ]\n    }\n]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;DataGrouper.register\u0026lt;/code\u0026gt; accepts a function and creates a new function which accepts the initial data and the properties to group by.  This new function then takes the output format as above and runs your function against each of them in turn, returning a new array.  The function that\u0026apos;s generated is stored as a property of \u0026lt;code\u0026gt;DataGrouper\u0026lt;/code\u0026gt; according to a name you supply and also returned if you just want a local reference.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Well that\u0026apos;s a lot of explanation.  The code is reasonably straightforward, I hope!\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h3\u0026gt;GroupBy \u0026lt;em\u0026gt;one-liner\u0026lt;/em\u0026gt;, an \u0026lt;strong\u0026gt;ES2021\u0026lt;/strong\u0026gt; solution\u0026lt;/h3\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;x,f\u0026lt;/span\u0026gt;)=\u0026amp;gt;x.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;a,b\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;((a[\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;f\u0026lt;/span\u0026gt;(b)]||=[]).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(b),a),{});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h4\u0026gt;TypeScript\u0026lt;/h4\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; groupBy = \u0026amp;lt;T\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;array: T[], predicate: (v: T) =\u0026amp;gt; string\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt;\n  array.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;acc, value\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n    (acc[\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;predicate\u0026lt;/span\u0026gt;(value)] ||= []).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(value);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; acc;\n  }, {} \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; { [\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;: string]: T[] });\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;EXAMPLES\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;x, f\u0026lt;/span\u0026gt;) =\u0026amp;gt; x.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;a, b\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; ((a[\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;f\u0026lt;/span\u0026gt;(b)] ||= []).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(b), a), {});\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// f -\u0026amp;gt; should must return string/number because it will be use as key in object\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// for demo\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;([\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;], \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;v\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; (v % \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; ? \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;odd\u0026quot;\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;even\u0026quot;\u0026lt;/span\u0026gt;));\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// { odd: [1, 3, 5, 7, 9], even: [2, 4, 6, 8] };\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; colors = [\n  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Apricot\u0026quot;\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Brown\u0026quot;\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Burgundy\u0026quot;\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Cerulean\u0026quot;\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Peach\u0026quot;\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Pear\u0026quot;\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Red\u0026quot;\u0026lt;/span\u0026gt;,\n];\n\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(colors, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;v\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; v[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;]); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// group by colors name first letter\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// {\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   A: [\u0026quot;Apricot\u0026quot;],\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   B: [\u0026quot;Brown\u0026quot;, \u0026quot;Burgundy\u0026quot;],\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   C: [\u0026quot;Cerulean\u0026quot;],\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   P: [\u0026quot;Peach\u0026quot;, \u0026quot;Pear\u0026quot;],\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   R: [\u0026quot;Red\u0026quot;],\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// };\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(colors, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;v\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; v.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// group by length of color names\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// {\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   3: [\u0026quot;Red\u0026quot;],\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   4: [\u0026quot;Pear\u0026quot;],\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   5: [\u0026quot;Brown\u0026quot;, \u0026quot;Peach\u0026quot;],\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   7: [\u0026quot;Apricot\u0026quot;],\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   8: [\u0026quot;Burgundy\u0026quot;, \u0026quot;Cerulean\u0026quot;],\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// }\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; data = [\n  { \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;comment\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;abc\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;forItem\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;inModule\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; },\n  { \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;comment\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;pqr\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;forItem\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;inModule\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; },\n  { \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;comment\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;klm\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;forItem\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;inModule\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; },\n  { \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;comment\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;xyz\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;forItem\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;inModule\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; },\n];\n\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(data, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;v\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; v.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;inModule\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// group by module\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// {\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   1: [\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//     { comment: \u0026quot;abc\u0026quot;, forItem: 1, inModule: 1 },\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//     { comment: \u0026quot;pqr\u0026quot;, forItem: 1, inModule: 1 },\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   ],\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   2: [\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//     { comment: \u0026quot;klm\u0026quot;, forItem: 1, inModule: 2 },\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//     { comment: \u0026quot;xyz\u0026quot;, forItem: 1, inModule: 2 },\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   ],\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// }\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(data, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; x.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;forItem\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-\u0026quot;\u0026lt;/span\u0026gt; + x.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;inModule\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// group by module with item\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// {\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   \u0026quot;1-1\u0026quot;: [\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//     { comment: \u0026quot;abc\u0026quot;, forItem: 1, inModule: 1 },\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//     { comment: \u0026quot;pqr\u0026quot;, forItem: 1, inModule: 1 },\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   ],\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   \u0026quot;1-2\u0026quot;: [\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//     { comment: \u0026quot;klm\u0026quot;, forItem: 1, inModule: 2 },\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//     { comment: \u0026quot;xyz\u0026quot;, forItem: 1, inModule: 2 },\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   ],\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// }\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h3\u0026gt;groupByToMap\u0026lt;/h3\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupByToMap\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;x, f\u0026lt;/span\u0026gt;) =\u0026amp;gt;\n  x.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;a, b, i, x\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; k = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;f\u0026lt;/span\u0026gt;(b, i, x);\n    a.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(k)?.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(b) ?? a.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;set\u0026lt;/span\u0026gt;(k, [b]);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; a;\n  }, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Map\u0026lt;/span\u0026gt;());\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h4\u0026gt;TypeScript\u0026lt;/h4\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; groupByToMap = \u0026amp;lt;T, Q\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;array: T[], predicate: (value: T, index: number, array: T[]) =\u0026amp;gt; Q\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt;\n  array.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;map, value, index, array\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; key = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;predicate\u0026lt;/span\u0026gt;(value, index, array);\n    map.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(key)?.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(value) ?? map.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;set\u0026lt;/span\u0026gt;(key, [value]);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; map;\n  }, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Map\u0026lt;/span\u0026gt;\u0026amp;lt;Q, T[]\u0026amp;gt;());\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This is probably more easily done with \u0026lt;a href=\u0026quot;https://github.com/neuecc/linq.js\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;linq.js\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt;, which is intended to be a true implementation of LINQ in JavaScript (\u0026lt;a href=\u0026quot;http://jsfiddle.net/n8vEt/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;DEMO\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt;):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; linq = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Enumerable\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;From\u0026lt;/span\u0026gt;(data);\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; result =\n    linq.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;GroupBy\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;){ \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; x.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;; })\n        .\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Select\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;){\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: x.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Key\u0026lt;/span\u0026gt;(),\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: x.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Sum\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;y\u0026lt;/span\u0026gt;){ \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; y.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; })\n          };\n        }).\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ToArray\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;result:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;[\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;130\u0026lt;/span\u0026gt; }\n]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Or, more simply using the string-based selectors (\u0026lt;a href=\u0026quot;http://jsfiddle.net/n8vEt/1/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;DEMO\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt;):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;linq.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;GroupBy\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;$.Phase\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;k,e =\u0026amp;gt; { Phase:k, Value:e.Sum(\u0026apos;$.Value|0\u0026apos;) }\u0026quot;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ToArray\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;MDN has \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#Grouping_objects_by_a_property\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;this example\u0026lt;/a\u0026gt; in their \u0026lt;code\u0026gt;Array.reduce()\u0026lt;/code\u0026gt; documentation. \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Grouping objects by a property\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#Grouping_objects_by_a_property#Grouping_objects_by_a_property\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; people = [\n  { \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Alice\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;age\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;21\u0026lt;/span\u0026gt; },\n  { \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Max\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;age\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt; },\n  { \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Jane\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;age\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt; }\n];\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;objectArray, property\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; objectArray.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;acc, obj\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; key = obj[property];\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!acc[key]) {\n      acc[key] = [];\n    }\n    acc[key].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(obj);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; acc;\n  }, {});\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; groupedPeople = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(people, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;age\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// groupedPeople is:\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// { \u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   20: [\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//     { name: \u0026apos;Max\u0026apos;, age: 20 }, \u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//     { name: \u0026apos;Jane\u0026apos;, age: 20 }\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   ], \u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//   21: [{ name: \u0026apos;Alice\u0026apos;, age: 21 }] \u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// }\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;_.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;([{\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;tipo\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt; },{\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;tipo\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;}, {\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;tipo\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;B\u0026apos;\u0026lt;/span\u0026gt;}], \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;tipo\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt; {\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;], \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;]}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;From: \u0026lt;a href=\u0026quot;http://underscorejs.org/#groupBy\u0026quot;\u0026gt;http://underscorejs.org/#groupBy\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;keyFunction\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; groups = {};\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;forEach\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;el\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; key = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;keyFunction\u0026lt;/span\u0026gt;(el);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (key \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; groups == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;) {\n            groups[key] = [];\n        }\n        groups[key].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(el);\n    });\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;keys\u0026lt;/span\u0026gt;(groups).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;: key,\n            \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;values\u0026lt;/span\u0026gt;: groups[key]\n        };\n    });\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;it\u0026apos;s a bit late but maybe someone like this one.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;ES6:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; users = [{\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Jim\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;blue\u0026quot;\u0026lt;/span\u0026gt;\n  },\n  {\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Sam\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;blue\u0026quot;\u0026lt;/span\u0026gt;\n  },\n  {\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Eddie\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;green\u0026quot;\u0026lt;/span\u0026gt;\n  },\n  {\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Robert\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;green\u0026quot;\u0026lt;/span\u0026gt;\n  },\n];\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;arr, key\u0026lt;/span\u0026gt;) =\u0026amp;gt; {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; initialValue = {};\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; arr.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;acc, cval\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; myAttribute = cval[key];\n    acc[myAttribute] = [...(acc[myAttribute] || []), cval]\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; acc;\n  }, initialValue);\n};\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; res = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(users, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;color\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;group by:\u0026quot;\u0026lt;/span\u0026gt;, res);\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif3\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can do it with \u0026lt;a href=\u0026quot;http://github.com/agershun/alasql\u0026quot;\u0026gt;Alasql\u0026lt;/a\u0026gt; JavaScript library:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; data = [ { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;5\u0026quot;\u0026lt;/span\u0026gt; },\n             { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;10\u0026quot;\u0026lt;/span\u0026gt; }];\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; res = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;alasql\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;SELECT Phase, Step, SUM(CAST([Value] AS INT)) AS [Value] \\\n                  FROM ? GROUP BY Phase, Step\u0026apos;\u0026lt;/span\u0026gt;,[data]);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Try this example \u0026lt;a href=\u0026quot;http://jsfiddle.net/agershun/ztc32a8h/1/\u0026quot;\u0026gt;at jsFiddle\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;BTW:\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt; On large arrays (100000 records and more) Alasql faster tham Linq. See test \u0026lt;a href=\u0026quot;http://jsperf.com/alasql-vs-linq-on-groupby\u0026quot;\u0026gt;at jsPref\u0026lt;/a\u0026gt;. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Comments:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Here I put Value in square brackets, because VALUE is a keyword in SQL\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;I have to use CAST() function to convert string Values to number type.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;A newer approach with an object for grouping and two more function to create a key and to get an object with wanted items of grouping and another key for the adding value.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;array, groups, valueKey\u0026lt;/span\u0026gt;) =\u0026amp;gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getKey\u0026lt;/span\u0026gt; = o =\u0026amp;gt; groups.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;k\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; o[k]).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|\u0026apos;\u0026lt;/span\u0026gt;),\n            getObject = \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;o\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;fromEntries\u0026lt;/span\u0026gt;([...groups.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;k\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; [k, o[k]]), [valueKey, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;]]);\n\n        groups = [].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;concat\u0026lt;/span\u0026gt;(groups);\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;values\u0026lt;/span\u0026gt;(array.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;r, o\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n            (r[\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getKey\u0026lt;/span\u0026gt;(o)] ??= \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getObject\u0026lt;/span\u0026gt;(o))[valueKey] += +o[valueKey];\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; r;\n        }, {}));\n    },\n    data = [{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;5\u0026quot;\u0026lt;/span\u0026gt; }, { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;10\u0026quot;\u0026lt;/span\u0026gt; }, { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;15\u0026quot;\u0026lt;/span\u0026gt; }, { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;20\u0026quot;\u0026lt;/span\u0026gt; }, { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;25\u0026quot;\u0026lt;/span\u0026gt; }, { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;30\u0026quot;\u0026lt;/span\u0026gt; }, { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;35\u0026quot;\u0026lt;/span\u0026gt; }, { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;40\u0026quot;\u0026lt;/span\u0026gt; }];\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(data, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Phase\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Value\u0026apos;\u0026lt;/span\u0026gt;));\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(data, [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Phase\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Step\u0026apos;\u0026lt;/span\u0026gt;], \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Value\u0026apos;\u0026lt;/span\u0026gt;));\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.as-console-wrapper\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;!important\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;top\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; }\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif4\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Old approach:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Although the question have some answers and the answers look a bit over complicated, I suggest to use vanilla Javascript for group-by with a nested (if necessary) \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;Map\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;array, groups, valueKey\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; map = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Map\u0026lt;/span\u0026gt;;\n    groups = [].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;concat\u0026lt;/span\u0026gt;(groups);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; array.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;r, o\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n        groups.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;m, k, i, { length }\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; child;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (m.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;has\u0026lt;/span\u0026gt;(o[k])) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; m.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(o[k]);\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (i + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; === length) {\n                child = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt;\n                    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;assign\u0026lt;/span\u0026gt;(...groups.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;k\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; ({ [k]: o[k] })), { [valueKey]: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; });\n                r.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(child);\n            } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n                child = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Map\u0026lt;/span\u0026gt;;\n            }\n            m.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;set\u0026lt;/span\u0026gt;(o[k], child);\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; child;\n        }, map)[valueKey] += +o[valueKey];\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; r;\n    }, [])\n};\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; data = [{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;5\u0026quot;\u0026lt;/span\u0026gt; }, { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;10\u0026quot;\u0026lt;/span\u0026gt; }, { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;15\u0026quot;\u0026lt;/span\u0026gt; }, { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;20\u0026quot;\u0026lt;/span\u0026gt; }, { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;25\u0026quot;\u0026lt;/span\u0026gt; }, { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;30\u0026quot;\u0026lt;/span\u0026gt; }, { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;35\u0026quot;\u0026lt;/span\u0026gt; }, { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;40\u0026quot;\u0026lt;/span\u0026gt; }];\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(data, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Phase\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Value\u0026apos;\u0026lt;/span\u0026gt;));\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(data, [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Phase\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Step\u0026apos;\u0026lt;/span\u0026gt;], \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Value\u0026apos;\u0026lt;/span\u0026gt;));\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.as-console-wrapper\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;!important\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;top\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; }\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif5\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here\u0026apos;s a nasty, hard to read solution using ES6:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;export\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;default\u0026lt;/span\u0026gt; (arr, key) =\u0026amp;gt; \n  arr.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;r, v, _, __, k = v[key]\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; ((r[k] || (r[k] = [])).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(v), r),\n    {}\n  );\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;For those asking how does this \u0026lt;strong\u0026gt;even\u0026lt;/strong\u0026gt; work, here\u0026apos;s an explanation:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;In both \u0026lt;code\u0026gt;=\u0026amp;gt;\u0026lt;/code\u0026gt; you have a free \u0026lt;code\u0026gt;return\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;The \u0026lt;code\u0026gt;Array.prototype.reduce\u0026lt;/code\u0026gt; function takes up to 4 parameters. That\u0026apos;s why a fifth parameter is being added so we can have a cheap variable declaration for the group (k) at the parameter declaration level by using a default value. (yes, this is sorcery)\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;If our current group doesn\u0026apos;t exist on the previous iteration, we create a new empty array \u0026lt;code\u0026gt;((r[k] || (r[k] = []))\u0026lt;/code\u0026gt; This will evaluate to the leftmost expression, \u0026lt;em\u0026gt;in other words, an existing array or an empty array\u0026lt;/em\u0026gt;, this is why there\u0026apos;s an immediate \u0026lt;code\u0026gt;push\u0026lt;/code\u0026gt; after that expression, because either way you will get an array.\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;When there\u0026apos;s a \u0026lt;code\u0026gt;return\u0026lt;/code\u0026gt;, the comma \u0026lt;code\u0026gt;,\u0026lt;/code\u0026gt; operator will discard the leftmost value, returning the tweaked previous group for this scenario.\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;An easier to understand version that does the same is:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;export\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;default\u0026lt;/span\u0026gt; (array, key) =\u0026amp;gt; \n  array.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;previous, currentItem\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; group = currentItem[key];\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!previous[group]) previous[group] = [];\n    previous[group].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(currentItem);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; previous;\n  }, {});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Edit:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;TS Version:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; groupBy = \u0026amp;lt;T, K \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; keyof any\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;list: T[], getKey: (item: T) =\u0026amp;gt; K\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt;\n  list.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;previous, currentItem\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; group = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getKey\u0026lt;/span\u0026gt;(currentItem);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!previous[group]) previous[group] = [];\n    previous[group].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(currentItem);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; previous;\n  }, {} \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Record\u0026lt;/span\u0026gt;\u0026amp;lt;K, T[]\u0026amp;gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Checked answer -- just shallow grouping. It\u0026apos;s pretty nice to understand reducing. Question also provide the problem of additional aggregate calculations.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Here is a REAL GROUP BY for Array of Objects by some field(s) with 1) calculated key name and 2) complete solution for cascading of grouping by providing the list of the desired keys\nand converting its unique values to root keys like SQL GROUP BY\ndoes.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; inputArray = [ \n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;5\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;10\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;15\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;20\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;25\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;30\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;35\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;40\u0026quot;\u0026lt;/span\u0026gt; }\n];\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; outObject = inputArray.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;a, e\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// GROUP BY estimated key (estKey), well, may be a just plain key\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// a -- Accumulator result object\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// e -- sequentally checked Element, the Element that is tested just at this itaration\u0026lt;/span\u0026gt;\n\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// new grouping name may be calculated, but must be based on real value of real field\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; estKey = (e[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Phase\u0026apos;\u0026lt;/span\u0026gt;]); \n\n  (a[estKey] ? a[estKey] : (a[estKey] = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt; || [])).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(e);\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; a;\n}, {});\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(outObject);\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif6\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Play with \u0026lt;code\u0026gt;estKey\u0026lt;/code\u0026gt; -- you may group by more then one field, add additional aggregations, calculations or other processing.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Also you can groups data recursively. For example initially group by \u0026lt;code\u0026gt;Phase\u0026lt;/code\u0026gt;, then by \u0026lt;code\u0026gt;Step\u0026lt;/code\u0026gt; field and so on. Additionally blow off\nthe fat rest data.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;true\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; inputArray = [\n{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;5\u0026quot;\u0026lt;/span\u0026gt; },\n{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;10\u0026quot;\u0026lt;/span\u0026gt; },\n{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;15\u0026quot;\u0026lt;/span\u0026gt; },\n{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;20\u0026quot;\u0026lt;/span\u0026gt; },\n{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;25\u0026quot;\u0026lt;/span\u0026gt; },\n{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;30\u0026quot;\u0026lt;/span\u0026gt; },\n{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;35\u0026quot;\u0026lt;/span\u0026gt; },\n{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;40\u0026quot;\u0026lt;/span\u0026gt; }\n  ];\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/**\n * Small helper to get SHALLOW copy of obj WITHOUT prop\n */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;rmProp\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;obj, prop\u0026lt;/span\u0026gt;) =\u0026amp;gt; ( (\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;{[prop]:_, ...rest}\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;rest)(obj) )\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/**\n * Group Array by key. Root keys of a resulting array is value\n * of specified key.\n *\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@param\u0026lt;/span\u0026gt;      {\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;}   src     The source array\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@param\u0026lt;/span\u0026gt;      {\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;}  key     The by key to group by\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@return\u0026lt;/span\u0026gt;     {\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt;}          Object with grouped objects as values\n */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;grpBy\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;src, key\u0026lt;/span\u0026gt;) =\u0026amp;gt; src.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;a, e\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; (\n  (a[e[key]] = a[e[key]] || []).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;rmProp\u0026lt;/span\u0026gt;(e, key)),  a\n), {});\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/**\n * Collapse array of object if it consists of only object with single value.\n * Replace it by the rest value.\n */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;blowObj\u0026lt;/span\u0026gt; = obj =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;isArray\u0026lt;/span\u0026gt;(obj) \u0026amp;amp;\u0026amp;amp; obj.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; === \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; \u0026amp;amp;\u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;values\u0026lt;/span\u0026gt;(obj[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;]).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; === \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; ? \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;values\u0026lt;/span\u0026gt;(obj[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;])[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;] : obj;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/**\n * Recursive grouping with list of keys. `keyList` may be an array\n * of key names or comma separated list of key names whom UNIQUE values will\n * becomes the keys of the resulting object.\n */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; grpByReal = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;src, keyList\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; [key, ...rest] = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;isArray\u0026lt;/span\u0026gt;(keyList) ? keyList : \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;(keyList).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;trim\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;split\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/\\s*,\\s*/\u0026lt;/span\u0026gt;);\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; res = key ? \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;grpBy\u0026lt;/span\u0026gt;(src, key) : [...src];\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (rest.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt;) {\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; k \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; res) {\n  res[k] = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;grpByReal\u0026lt;/span\u0026gt;(res[k], rest)\n}\n  } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; k \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; res) {\n  res[k] = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;blowObj\u0026lt;/span\u0026gt;(res[k])\n}\n  }\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; res;\n}\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;JSON\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;stringify\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;grpByReal\u0026lt;/span\u0026gt;(inputArray, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Phase, Step, Task\u0026apos;\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; ) );\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif7\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This solution takes any arbitrary function (not a key) so it\u0026apos;s more flexible than solutions above, and allows \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;em\u0026gt;arrow functions\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt;, which are similar to \u0026lt;a href=\u0026quot;https://msdn.microsoft.com/en-us/library/bb397687.aspx\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;em\u0026gt;lambda expressions\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt; used in \u0026lt;strong\u0026gt;LINQ\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;funcProp\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;acc, val\u0026lt;/span\u0026gt;) {\n        (acc[\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;funcProp\u0026lt;/span\u0026gt;(val)] = acc[\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;funcProp\u0026lt;/span\u0026gt;(val)] || []).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(val);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; acc;\n    }, {});\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;NOTE: whether you want to extend \u0026lt;code\u0026gt;Array\u0026lt;/code\u0026gt;\u0026apos;s prototype is up to you.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Example supported in most browsers:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;[{\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;b\u0026quot;\u0026lt;/span\u0026gt;},{\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;c\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;c\u0026quot;\u0026lt;/span\u0026gt;},{\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;d\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;d\u0026quot;\u0026lt;/span\u0026gt;}].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;c\u0026lt;/span\u0026gt;){\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; c.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;;})\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Example using arrow functions (ES6):\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;[{\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;b\u0026quot;\u0026lt;/span\u0026gt;},{\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;c\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;c\u0026quot;\u0026lt;/span\u0026gt;},{\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;d\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;d\u0026quot;\u0026lt;/span\u0026gt;}].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;c\u0026lt;/span\u0026gt;=\u0026amp;gt;\u0026lt;/span\u0026gt;c.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Both examples above return:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;{\n  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1\u0026quot;\u0026lt;/span\u0026gt;: [{\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;b\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;b\u0026quot;\u0026lt;/span\u0026gt;}, {\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;c\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;c\u0026quot;\u0026lt;/span\u0026gt;}],\n  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;2\u0026quot;\u0026lt;/span\u0026gt;: [{\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;d\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;d\u0026quot;\u0026lt;/span\u0026gt;}]\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Without mutations:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;xs, key\u0026lt;/span\u0026gt;) =\u0026amp;gt; xs.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;acc, x\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;assign\u0026lt;/span\u0026gt;({}, acc, {\n  [x[key]]: (acc[x[key]] || []).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;concat\u0026lt;/span\u0026gt;(x)\n}), {})\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;([\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;one\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;two\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;three\u0026apos;\u0026lt;/span\u0026gt;], \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;length\u0026apos;\u0026lt;/span\u0026gt;));\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// =\u0026amp;gt; {3: [\u0026quot;one\u0026quot;, \u0026quot;two\u0026quot;], 5: [\u0026quot;three\u0026quot;]}\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;i\u0026apos;d like to suggest my approach. First, separate grouping and aggregating. Lets declare prototypical \u0026quot;group by\u0026quot; function. It takes another function to produce \u0026quot;hash\u0026quot; string for each array element to group by. \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;hash\u0026lt;/span\u0026gt;){\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; _hash = hash ? hash : \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;o\u0026lt;/span\u0026gt;){\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; o;};\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; _map = {};\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; put = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;map, key, value\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!map[\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_hash\u0026lt;/span\u0026gt;(key)]) {\n        map[\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_hash\u0026lt;/span\u0026gt;(key)] = {};\n        map[\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_hash\u0026lt;/span\u0026gt;(key)].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;group\u0026lt;/span\u0026gt; = [];\n        map[\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_hash\u0026lt;/span\u0026gt;(key)].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt; = key;\n\n    }\n    map[\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_hash\u0026lt;/span\u0026gt;(key)].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;group\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(value); \n  }\n\n  \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;obj\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;put\u0026lt;/span\u0026gt;(_map, obj, obj);\n  });\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;keys\u0026lt;/span\u0026gt;(_map).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; {\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;: _map[key].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;group\u0026lt;/span\u0026gt;: _map[key].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;group\u0026lt;/span\u0026gt;};\n  });\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;when grouping is done you can aggregate data how you need, in your case\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;data.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;o\u0026lt;/span\u0026gt;){\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;JSON\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;stringify\u0026lt;/span\u0026gt;({\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;: o.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt;: o.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;});})\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* aggreagating */\u0026lt;/span\u0026gt;\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;el\u0026lt;/span\u0026gt;){ \n         \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; sum = el.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;group\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\n           \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;l,c\u0026lt;/span\u0026gt;){\n             \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; l + \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;parseInt\u0026lt;/span\u0026gt;(c.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;);\n           },\n           \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n         );\n         el.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt; = sum; \n         \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; el.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;;\n    });\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;in common it works. i have tested this code in chrome console. and feel free to improve and find mistakes ;)\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupByArray\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;xs, key\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; xs.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;rv, x\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; v = key \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;instanceof\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Function\u0026lt;/span\u0026gt; ? \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;(x) : x[key];\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; el = rv.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;find\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;r\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; r \u0026amp;amp;\u0026amp;amp; r.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt; === v);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (el) {\n            el.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;values\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(x);\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n            rv.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;({\n                \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;: v,\n                \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;values\u0026lt;/span\u0026gt;: [x]\n            });\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; rv;\n    }, []);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This one outputs array.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Imagine that you have something like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;[{id:1, cat:\u0026apos;sedan\u0026apos;},{id:2, cat:\u0026apos;sport\u0026apos;},{id:3, cat:\u0026apos;sport\u0026apos;},{id:4, cat:\u0026apos;sedan\u0026apos;}]\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;By doing this:\n\u0026lt;code\u0026gt;const categories =  [...new Set(cars.map((car) =\u0026amp;gt; car.cat))]\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You will get this:\n\u0026lt;code\u0026gt;[\u0026apos;sedan\u0026apos;,\u0026apos;sport\u0026apos;]\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Explanation:\u0026lt;/strong\u0026gt;\n 1. First, we are creating a new Set by passing an array. Because Set only allows unique values, all duplicates will be removed.\u0026lt;/p\u0026gt;\n\n\u0026lt;ol start=\u0026quot;2\u0026quot;\u0026gt;\n\u0026lt;li\u0026gt;Now the duplicates are gone, were going to convert it back to an array by using the spread operator ...\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;Set Doc:\u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\u0026lt;/a\u0026gt;\nSpread OperatorDoc: \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Based on previous answers\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;prop\u0026lt;/span\u0026gt;) =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;xs\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt;\n  xs.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;rv, x\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;assign\u0026lt;/span\u0026gt;(rv, {[x[prop]]: [...(rv[x[prop]] || []), x]}), {});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;and it\u0026apos;s a little nicer to look at with object spread syntax, if your environment supports.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;prop\u0026lt;/span\u0026gt;) =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;xs\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt;\n  xs.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;acc, x\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; ({\n    ...acc,\n    [ x[ prop ] ]: [...( acc[ x[ prop ] ] || []), x],\n  }), {});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Here, our reducer takes the partially-formed return value (starting with an empty object), and returns an object composed of the spread out members of the previous return value, along with a new member whose key is calculated from the current iteree\u0026apos;s value at \u0026lt;code\u0026gt;prop\u0026lt;/code\u0026gt; and whose value is a list of all values for that prop along with the current value.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;groupBy\u0026lt;/code\u0026gt; function that can group an array by a specific key or a given grouping function. Typed.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;groupBy = \u0026amp;lt;T, K \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; keyof T\u0026amp;gt;(\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;: T[], \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;groupOn\u0026lt;/span\u0026gt;: K | (\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;i: T\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; string)): \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Record\u0026lt;/span\u0026gt;\u0026amp;lt;string, T[]\u0026amp;gt; =\u0026amp;gt; {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; groupFn = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt; groupOn === \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;function\u0026apos;\u0026lt;/span\u0026gt; ? groupOn : \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;o: T\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; o[groupOn];\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;fromEntries\u0026lt;/span\u0026gt;(\n    array.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;acc, obj\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; groupKey = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupFn\u0026lt;/span\u0026gt;(obj);\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; acc.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;set\u0026lt;/span\u0026gt;(groupKey, [...(acc.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(groupKey) || []), obj]);\n    }, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Map\u0026lt;/span\u0026gt;())\n  ) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Record\u0026lt;/span\u0026gt;\u0026amp;lt;string, T[]\u0026amp;gt;;\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I don\u0026apos;t think that given answers are responding to the question, I think this following should answer to the first part :\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; arr = [ \n{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;5\u0026quot;\u0026lt;/span\u0026gt; },\n{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;10\u0026quot;\u0026lt;/span\u0026gt; },\n{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;15\u0026quot;\u0026lt;/span\u0026gt; },\n{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;20\u0026quot;\u0026lt;/span\u0026gt; },\n{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;25\u0026quot;\u0026lt;/span\u0026gt; },\n{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;30\u0026quot;\u0026lt;/span\u0026gt; },\n{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;35\u0026quot;\u0026lt;/span\u0026gt; },\n{ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;40\u0026quot;\u0026lt;/span\u0026gt; }\n]\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;) =\u0026amp;gt; arr.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;sort\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;a, b\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; a[key].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;localeCompare\u0026lt;/span\u0026gt;(b[key])).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;total, currentValue\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; newTotal = total;\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\n    total.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; \u0026amp;amp;\u0026amp;amp;\n    total[total.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; - \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;][key] === currentValue[key]\n  )\n    newTotal[total.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; - \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;] = {\n      ...total[total.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; - \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;],\n      ...currentValue,\n      \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;parseInt\u0026lt;/span\u0026gt;(total[total.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; - \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;) + \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;parseInt\u0026lt;/span\u0026gt;(currentValue.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;),\n    };\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; newTotal[total.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt;] = currentValue;\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; newTotal;\n}, []);\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Phase\u0026apos;\u0026lt;/span\u0026gt;));\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// =\u0026amp;gt; [{ Phase: \u0026quot;Phase 1\u0026quot;, Value: 50 },{ Phase: \u0026quot;Phase 2\u0026quot;, Value: 130 }]\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Step\u0026apos;\u0026lt;/span\u0026gt;));\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// =\u0026amp;gt; [{ Step: \u0026quot;Step 1\u0026quot;, Value: 70 },{ Step: \u0026quot;Step 2\u0026quot;, Value: 110 }] \u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif8\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Let\u0026apos;s fully answer the original question while reusing code that was already written (i.e., Underscore). You can do much more with Underscore if you \u0026lt;em\u0026gt;combine\u0026lt;/em\u0026gt; its \u0026amp;gt;100 functions. The following solution demonstrates this.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Step 1: group the objects in the array by an arbitrary combination of properties. This uses the fact that \u0026lt;a href=\u0026quot;https://underscorejs.org/#groupBy\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;_.groupBy\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; accepts a function that returns the group of an object. It also uses \u0026lt;a href=\u0026quot;https://underscorejs.org/#chain\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;_.chain\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;, \u0026lt;a href=\u0026quot;https://underscorejs.org/#pick\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;_.pick\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;, \u0026lt;a href=\u0026quot;https://underscorejs.org/#values\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;_.values\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;, \u0026lt;a href=\u0026quot;https://underscorejs.org/#chaining\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;_.join\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;https://underscorejs.org/#value\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;_.value\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;. Note that \u0026lt;code\u0026gt;_.value\u0026lt;/code\u0026gt; is not strictly needed here, because chained values will automatically unwrap when used as a property name. I\u0026apos;m including it to safeguard against confusion in case somebody tries to write similar code in a context where automatic unwrapping does not take place.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Given an object, return a string naming the group it belongs to.\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;category\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;obj\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;chain\u0026lt;/span\u0026gt;(obj).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pick\u0026lt;/span\u0026gt;(propertyNames).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;values\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos; \u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;();\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Perform the grouping.\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; intermediate = _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(arrayOfObjects, category);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Given the \u0026lt;code\u0026gt;arrayOfObjects\u0026lt;/code\u0026gt; in the original question and setting \u0026lt;code\u0026gt;propertyNames\u0026lt;/code\u0026gt; to \u0026lt;code\u0026gt;[\u0026apos;Phase\u0026apos;, \u0026apos;Step\u0026apos;]\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;intermediate\u0026lt;/code\u0026gt; will get the following value:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1 Step 1\u0026quot;\u0026lt;/span\u0026gt;: [\n        { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;5\u0026quot;\u0026lt;/span\u0026gt; },\n        { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;10\u0026quot;\u0026lt;/span\u0026gt; }\n    ],\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1 Step 2\u0026quot;\u0026lt;/span\u0026gt;: [\n        { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;15\u0026quot;\u0026lt;/span\u0026gt; },\n        { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;20\u0026quot;\u0026lt;/span\u0026gt; }\n    ],\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2 Step 1\u0026quot;\u0026lt;/span\u0026gt;: [\n        { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;25\u0026quot;\u0026lt;/span\u0026gt; },\n        { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;30\u0026quot;\u0026lt;/span\u0026gt; }\n    ],\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2 Step 2\u0026quot;\u0026lt;/span\u0026gt;: [\n        { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;35\u0026quot;\u0026lt;/span\u0026gt; },\n        { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;40\u0026quot;\u0026lt;/span\u0026gt; }\n    ]\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Step 2: reduce each group to a single flat object and return the results in an array. Besides the functions we have seen before, the following code uses \u0026lt;a href=\u0026quot;https://underscorejs.org/#pluck\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;_.pluck\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;, \u0026lt;a href=\u0026quot;https://underscorejs.org/#first\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;_.first\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;, \u0026lt;a href=\u0026quot;https://underscorejs.org/#pick\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;_.pick\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;, \u0026lt;a href=\u0026quot;https://underscorejs.org/#extend\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;_.extend\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;, \u0026lt;a href=\u0026quot;https://underscorejs.org/#reduce\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;_.reduce\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;https://underscorejs.org/#map\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;_.map\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;. \u0026lt;code\u0026gt;_.first\u0026lt;/code\u0026gt; is guaranteed to return an object in this case, because \u0026lt;code\u0026gt;_.groupBy\u0026lt;/code\u0026gt; does not produce empty groups. \u0026lt;code\u0026gt;_.value\u0026lt;/code\u0026gt; is necessary in this case.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Sum two numbers, even if they are contained in strings.\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;addNumeric\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;a, b\u0026lt;/span\u0026gt;) =\u0026amp;gt; +a + +b;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Given a `group` of objects, return a flat object with their common\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// properties and the sum of the property with name `aggregateProperty`.\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;summarize\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;group\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; valuesToSum = _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pluck\u0026lt;/span\u0026gt;(group, aggregateProperty);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;chain\u0026lt;/span\u0026gt;(group).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;first\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pick\u0026lt;/span\u0026gt;(propertyNames).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;extend\u0026lt;/span\u0026gt;({\n        [aggregateProperty]: _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(valuesToSum, addNumeric)\n    }).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;();\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Get an array with all the computed aggregates.\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; result = _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(intermediate, summarize);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Given the \u0026lt;code\u0026gt;intermediate\u0026lt;/code\u0026gt; that we obtained before and setting \u0026lt;code\u0026gt;aggregateProperty\u0026lt;/code\u0026gt; to \u0026lt;code\u0026gt;Value\u0026lt;/code\u0026gt;, we get the \u0026lt;code\u0026gt;result\u0026lt;/code\u0026gt; that the asker desired:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;[\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;15\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;35\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;55\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;75\u0026lt;/span\u0026gt; }\n]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;We can put this all together in a function that takes \u0026lt;code\u0026gt;arrayOfObjects\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;propertyNames\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;aggregateProperty\u0026lt;/code\u0026gt; as parameters. Note that \u0026lt;code\u0026gt;arrayOfObjects\u0026lt;/code\u0026gt; can actually also be a plain object with string keys, because \u0026lt;code\u0026gt;_.groupBy\u0026lt;/code\u0026gt; accepts either. For this reason, I have renamed \u0026lt;code\u0026gt;arrayOfObjects\u0026lt;/code\u0026gt; to \u0026lt;code\u0026gt;collection\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;aggregate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;collection, propertyNames, aggregateProperty\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;category\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;obj\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;chain\u0026lt;/span\u0026gt;(obj).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pick\u0026lt;/span\u0026gt;(propertyNames).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;values\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos; \u0026apos;\u0026lt;/span\u0026gt;);\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;addNumeric\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;a, b\u0026lt;/span\u0026gt;) =\u0026amp;gt; +a + +b;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;summarize\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;group\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; valuesToSum = _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pluck\u0026lt;/span\u0026gt;(group, aggregateProperty);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;chain\u0026lt;/span\u0026gt;(group).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;first\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pick\u0026lt;/span\u0026gt;(propertyNames).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;extend\u0026lt;/span\u0026gt;({\n            [aggregateProperty]: _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(valuesToSum, addNumeric)\n        }).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;();\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;chain\u0026lt;/span\u0026gt;(collection).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(category).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(summarize).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;();\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;aggregate(arrayOfObjects, [\u0026apos;Phase\u0026apos;, \u0026apos;Step\u0026apos;], \u0026apos;Value\u0026apos;)\u0026lt;/code\u0026gt; will now give us the same \u0026lt;code\u0026gt;result\u0026lt;/code\u0026gt; again.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;We can take this a step further and enable the caller to compute \u0026lt;em\u0026gt;any\u0026lt;/em\u0026gt; statistic over the values in each group. We can do this and also enable the caller to add arbitrary properties to the summary of each group. We can do all of this while making our code \u0026lt;em\u0026gt;shorter\u0026lt;/em\u0026gt;. We replace the \u0026lt;code\u0026gt;aggregateProperty\u0026lt;/code\u0026gt; parameter by an \u0026lt;code\u0026gt;iteratee\u0026lt;/code\u0026gt; parameter and pass this straight to \u0026lt;code\u0026gt;_.reduce\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;aggregate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;collection, propertyNames, iteratee\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;category\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;obj\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;chain\u0026lt;/span\u0026gt;(obj).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pick\u0026lt;/span\u0026gt;(propertyNames).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;values\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos; \u0026apos;\u0026lt;/span\u0026gt;);\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;summarize\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;group\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;chain\u0026lt;/span\u0026gt;(group).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;first\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pick\u0026lt;/span\u0026gt;(propertyNames)\n            .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;extend\u0026lt;/span\u0026gt;(_.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(group, iteratee)).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;();\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;chain\u0026lt;/span\u0026gt;(collection).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(category).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(summarize).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;();\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;In effect, we move some of the responsibility to the caller; she must provide an \u0026lt;code\u0026gt;iteratee\u0026lt;/code\u0026gt; that can be passed to \u0026lt;code\u0026gt;_.reduce\u0026lt;/code\u0026gt;, so that the call to \u0026lt;code\u0026gt;_.reduce\u0026lt;/code\u0026gt; will produce an object with the aggregate properties she wants to add. For example, we obtain the same \u0026lt;code\u0026gt;result\u0026lt;/code\u0026gt; as before with the following expression:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;aggregate\u0026lt;/span\u0026gt;(arrayOfObjects, [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Phase\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Step\u0026apos;\u0026lt;/span\u0026gt;], \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;memo, value\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; ({\n    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: +memo.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt; + +value.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;\n}));\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;For an example of a slightly more sophisticated \u0026lt;code\u0026gt;iteratee\u0026lt;/code\u0026gt;, suppose that we want to compute the \u0026lt;em\u0026gt;maximum\u0026lt;/em\u0026gt; \u0026lt;code\u0026gt;Value\u0026lt;/code\u0026gt; of each group instead of the sum, and that we want to add a \u0026lt;code\u0026gt;Tasks\u0026lt;/code\u0026gt; property that lists all the values of \u0026lt;code\u0026gt;Task\u0026lt;/code\u0026gt; that occur in the group. Here\u0026apos;s one way we can do this, using the last version of \u0026lt;code\u0026gt;aggregate\u0026lt;/code\u0026gt; above (and \u0026lt;a href=\u0026quot;https://underscorejs.org/#union\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;_.union\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;):\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;aggregate\u0026lt;/span\u0026gt;(arrayOfObjects, [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Phase\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Step\u0026apos;\u0026lt;/span\u0026gt;], \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;memo, value\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; ({\n    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;max\u0026lt;/span\u0026gt;(memo.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;, value.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;),\n    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Tasks\u0026lt;/span\u0026gt;: _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;union\u0026lt;/span\u0026gt;(memo.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Tasks\u0026lt;/span\u0026gt; || [memo.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;], [value.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;])\n}));\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;We obtain the following result:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;[\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Tasks\u0026lt;/span\u0026gt;: [ \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt; ] },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Tasks\u0026lt;/span\u0026gt;: [ \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt; ] },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Tasks\u0026lt;/span\u0026gt;: [ \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt; ] },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;40\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Tasks\u0026lt;/span\u0026gt;: [ \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt; ] }\n]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Credit to @much2learn, who also posted an \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/62393557/1166087\u0026quot;\u0026gt;answer\u0026lt;/a\u0026gt; that can handle arbitrary reducing functions. I wrote a couple more SO answers that demonstrate how one can achieve sophisticated things by combining multiple Underscore functions:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/64938636/1166087\u0026quot;\u0026gt;https://stackoverflow.com/a/64938636/1166087\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/64094738/1166087\u0026quot;\u0026gt;https://stackoverflow.com/a/64094738/1166087\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/63625129/1166087\u0026quot;\u0026gt;https://stackoverflow.com/a/63625129/1166087\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/63088916/1166087\u0026quot;\u0026gt;https://stackoverflow.com/a/63088916/1166087\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;groupingKeyFn\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt; groupingKeyFn !== \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;function\u0026apos;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;throw\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Error\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;groupBy take a function as only parameter\u0026quot;\u0026lt;/span\u0026gt;);\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;result, item\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; key = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupingKeyFn\u0026lt;/span\u0026gt;(item);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!result[key])\n            result[key] = [];\n        result[key].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(item);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; result;\n    }, {});\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; a = [\n\t{\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;video\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a\u0026quot;\u0026lt;/span\u0026gt;},\n  {\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;image\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;b\u0026quot;\u0026lt;/span\u0026gt;},\n  {\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;video\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;c\u0026quot;\u0026lt;/span\u0026gt;},\n  {\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;blog\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;d\u0026quot;\u0026lt;/span\u0026gt;},\n  {\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;video\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;e\u0026quot;\u0026lt;/span\u0026gt;},\n]\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(a.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;item\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; item.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;));\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;src\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif9\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I would check \u0026lt;a href=\u0026quot;https://www.npmjs.com/package/declarative-js#groupby\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;declarative-js\u0026lt;/a\u0026gt; \u0026lt;code\u0026gt;groupBy\u0026lt;/code\u0026gt; it seems to do exactly what you are looking for. It is also: \u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;very performant (performance \u0026lt;a href=\u0026quot;https://github.com/pavel-surinin/performance-bechmark/blob/master/output.md#reduergroupby\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;benchmark\u0026lt;/a\u0026gt;)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;written in typescript so all typpings are included.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;It is not enforcing to use 3rd party array-like objects.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Reducers\u0026lt;/span\u0026gt; } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;declarative-js\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; groupBy = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Reducers\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Map\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Reducers\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Map\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; data = [\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;5\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;10\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;15\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;20\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;25\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;30\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;35\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;40\u0026quot;\u0026lt;/span\u0026gt; }\n];\n\ndata.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;element\u0026lt;/span\u0026gt;=\u0026amp;gt;\u0026lt;/span\u0026gt; element.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Map\u0026lt;/span\u0026gt;());\ndata.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Step\u0026apos;\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Map\u0026lt;/span\u0026gt;());\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Lets generate a generic \u0026lt;code\u0026gt;Array.prototype.groupBy()\u0026lt;/code\u0026gt; tool. Just for variety let\u0026apos;s use ES6 fanciness the spread operator for some Haskellesque pattern matching on a recursive approach. Also let\u0026apos;s make our \u0026lt;code\u0026gt;Array.prototype.groupBy()\u0026lt;/code\u0026gt; to accept a callback which takes the item (\u0026lt;code\u0026gt;e\u0026lt;/code\u0026gt;) the index (\u0026lt;code\u0026gt;i\u0026lt;/code\u0026gt;) and the applied array (\u0026lt;code\u0026gt;a\u0026lt;/code\u0026gt;) as arguments.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;cb\u0026lt;/span\u0026gt;){\n                            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;iterate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[x,...xs], i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, r = [[],[]]\u0026lt;/span\u0026gt;){\n                                     \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;cb\u0026lt;/span\u0026gt;(x,i,[x,...xs]) ? (r[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(x), r)\n                                                       : (r[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(x), r);\n                                     \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; xs.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; ? \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;iterate\u0026lt;/span\u0026gt;(xs, ++i, r) : r;\n                                   }(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;);\n                          };\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; arr = [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;],\n    res = arr.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;groupBy\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;e\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; e \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(res);\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif10\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Just to add to Scott Sauyet\u0026apos;s \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/14484332/5484795\u0026quot;\u0026gt;answer\u0026lt;/a\u0026gt;, some people were asking in the comments how to use his function to groupby value1, value2, etc., instead of grouping just one value.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;All it takes is to edit his sum function:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DataGrouper\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;register\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;sum\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;item\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;extend\u0026lt;/span\u0026gt;({}, item.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;,\n        {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;VALUE1\u0026lt;/span\u0026gt;: _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(item.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;vals\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;memo, node\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; memo + \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;(node.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;VALUE1\u0026lt;/span\u0026gt;);}, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)},\n        {\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;VALUE2\u0026lt;/span\u0026gt;: _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(item.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;vals\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;memo, node\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; memo + \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;(node.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;VALUE2\u0026lt;/span\u0026gt;);}, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)}\n    );\n});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;leaving the main one (DataGrouper) unchanged:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DataGrouper\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; has = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;obj, target\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;any\u0026lt;/span\u0026gt;(obj, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;isEqual\u0026lt;/span\u0026gt;(value, target);\n        });\n    };\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; keys = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, names\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(data, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;memo, item\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; key = _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pick\u0026lt;/span\u0026gt;(item, names);\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;has\u0026lt;/span\u0026gt;(memo, key)) {\n                memo.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(key);\n            }\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; memo;\n        }, []);\n    };\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; group = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, names\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; stems = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;keys\u0026lt;/span\u0026gt;(data, names);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(stems, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;stem\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; {\n                \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;: stem,\n                \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;vals\u0026lt;/span\u0026gt;:_.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(_.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;where\u0026lt;/span\u0026gt;(data, stem), \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;item\u0026lt;/span\u0026gt;) {\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;omit\u0026lt;/span\u0026gt;(item, names);\n                })\n            };\n        });\n    };\n\n    group.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;register\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;name, converter\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; group[name] = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, names\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;group\u0026lt;/span\u0026gt;(data, names), converter);\n        };\n    };\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; group;\n}());\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Ceasar\u0026apos;s answer is good, but works only for inner properties of the elements inside the array (length in case of string).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;this implementation works more like: \u0026lt;a href=\u0026quot;https://lodash.com/docs/4.17.4#groupBy\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;this link\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; groupBy = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;arr, f\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; arr.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;out, val\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; by = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt; f === \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;function\u0026apos;\u0026lt;/span\u0026gt; ? \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;f\u0026lt;/span\u0026gt;(val) : val[f];\n        (out[by] = out[by] || []).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;push\u0026lt;/span\u0026gt;(val);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; out;\n    }, {});\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;hope this helps...\u0026lt;/p\u0026gt;\n    "],"id":309,"title":"Most efficient method to groupby on an array of objects","content":"\n                \n\u0026lt;p\u0026gt;What is the most efficient way to groupby objects in an array?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For example, given this array of objects:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;[ \n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;5\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;10\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;15\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;20\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;25\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;30\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;35\u0026quot;\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Task\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Task 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;40\u0026quot;\u0026lt;/span\u0026gt; }\n]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;I’m displaying this information in a table. I’d like to groupby different methods, but I want to sum the values.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I’m using Underscore.js for its groupby function, which is helpful, but doesn’t do the whole trick, because I don’t want them “split up” but “merged”, more like the SQL \u0026lt;code\u0026gt;group by\u0026lt;/code\u0026gt; method.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;What I’m looking for would be able to total specific values (if requested).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So if I did groupby \u0026lt;code\u0026gt;Phase\u0026lt;/code\u0026gt;, I’d want to receive:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;[\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;130\u0026lt;/span\u0026gt; }\n]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And if I did groupy \u0026lt;code\u0026gt;Phase\u0026lt;/code\u0026gt; / \u0026lt;code\u0026gt;Step\u0026lt;/code\u0026gt;, I’d receive:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;[\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;15\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;35\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;55\u0026lt;/span\u0026gt; },\n    { \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Phase\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Phase 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Step\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Step 2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;75\u0026lt;/span\u0026gt; }\n]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Is there a helpful script for this, or should I stick to using Underscore.js, and then looping through the resulting object to do the totals myself?\u0026lt;/p\u0026gt;\n    ","slug":"most-efficient-method-to-groupby-on-an-array-of-objects-1657387580538","postType":"QUESTION","createdAt":"2022-07-09T17:26:20.000Z","updatedAt":"2022-07-09T17:26:20.000Z","tags":[{"id":1834,"name":"underscore.js","slug":"underscore.js","createdAt":"2022-07-09T17:26:20.000Z","updatedAt":"2022-07-09T17:26:20.000Z","Questions_Tags":{"questionId":309,"tagId":1834}}],"relatedQuestions":[{"title":"Most efficient method to groupby on an array of objects","slug":"most-efficient-method-to-groupby-on-an-array-of-objects-1657387580538","tags":[{"name":"underscore.js","Questions_Tags":{"questionId":309,"tagId":1834}}]}]},"randomQuestions":[{"title":"How do JavaScript closures work?","slug":"how-do-javascript-closures-work-1657384418555"},{"title":"Scanner is skipping nextLine() after using next() or nextFoo()?","slug":"scanner-is-skipping-nextline()-after-using-next()-or-nextfoo()-1657384379697"},{"title":"How can I validate an email address in JavaScript?","slug":"how-can-i-validate-an-email-address-in-javascript-1657385475959"},{"title":"Loop through an array in JavaScript","slug":"loop-through-an-array-in-javascript-1657387821551"},{"title":"MySQL pivot row into dynamic number of columns","slug":"mysql-pivot-row-into-dynamic-number-of-columns-1657387981930"},{"title":"Reference — What does this symbol mean in PHP?","slug":"reference-what-does-this-symbol-mean-in-php-1657384561666"},{"title":"Using fflush(stdin)","slug":"using-fflush(stdin)-1657387602771"},{"title":"How can I combine two strings together in PHP?","slug":"how-can-i-combine-two-strings-together-in-php-1657388279401"},{"title":"What is object slicing?","slug":"what-is-object-slicing-1657384506425"},{"title":"\"Cross origin requests are only supported for HTTP.\" error when loading a local file","slug":"\"cross-origin-requests-are-only-supported-for-http.\"-error-when-loading-a-local-file-1657387942403"},{"title":"How do I clone a list so that it doesn't change unexpectedly after assignment?","slug":"how-do-i-clone-a-list-so-that-it-doesn't-change-unexpectedly-after-assignment-1657384423195"},{"title":"Get the values from the \"GET\" parameters (JavaScript) [duplicate]","slug":"get-the-values-from-the-\"get\"-parameters-(javascript)-duplicate-1657387656693"},{"title":"Why do regex constructors need to be double escaped?","slug":"why-do-regex-constructors-need-to-be-double-escaped-1657388004942"},{"title":"What does a \"Cannot find symbol\" or \"Cannot resolve symbol\" error mean?","slug":"what-does-a-\"cannot-find-symbol\"-or-\"cannot-resolve-symbol\"-error-mean-1657384492160"},{"title":"How do I merge two dictionaries in a single expression?","slug":"how-do-i-merge-two-dictionaries-in-a-single-expression-1657387593160"},{"title":"getContactsFromFirebase() method return an empty list","slug":"getcontactsfromfirebase()-method-return-an-empty-list-1657388433928"},{"title":"How can I get query string values in JavaScript?","slug":"how-can-i-get-query-string-values-in-javascript-1657384443631"},{"title":"How to create a MySQL hierarchical recursive query?","slug":"how-to-create-a-mysql-hierarchical-recursive-query-1657387662163"},{"title":"Why does a RegExp with global flag give wrong results?","slug":"why-does-a-regexp-with-global-flag-give-wrong-results-1657387788550"},{"title":"How to reshape data from long to wide format","slug":"how-to-reshape-data-from-long-to-wide-format-1657384486421"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"most-efficient-method-to-groupby-on-an-array-of-objects-1657387580538"},"buildId":"BnkbnjkWYxefPXjTJLVVv","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>