{"pageProps":{"data":{"answer":["\n&lt;p&gt;Using &lt;code&gt;aggregate&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;aggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Frequency&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;x&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n  Category  x\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;    First &lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   Second  &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;    Third &lt;span class=&quot;hljs-number&quot;&gt;34&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;In the example above, multiple dimensions can be specified in the &lt;code&gt;list&lt;/code&gt;. Multiple aggregated metrics of the same data type can be incorporated via &lt;code&gt;cbind&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;aggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;cbind&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Frequency&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Metric2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Metric3&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; ...\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;(embedding @thelatemail comment), &lt;code&gt;aggregate&lt;/code&gt; has a formula interface too&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;aggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Frequency &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; Category&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Or if you want to aggregate multiple columns, you could use the &lt;code&gt;.&lt;/code&gt; notation (works for one column too)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;aggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;. &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; Category&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;or &lt;code&gt;tapply&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;tapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Frequency&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n First Second  Third \n    &lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;34&lt;/span&gt; \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;Using this data:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;x &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;factor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Second&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n                                      &lt;span class=&quot;hljs-string&quot;&gt;&quot;Third&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Third&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Second&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n                    Frequency&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can also use the &lt;strong&gt;dplyr&lt;/strong&gt; package for that purpose:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nx &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  summarise&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Frequency &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Frequency&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;#Source: local data frame [3 x 2]&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#  Category Frequency&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#1    First        30&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#2   Second         5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#3    Third        34&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Or, for &lt;strong&gt;multiple summary columns&lt;/strong&gt; (works with one column too):&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;x &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  summarise&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;across&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;everything&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Here are some more examples of how to summarise data by group using dplyr functions using the built-in dataset &lt;code&gt;mtcars&lt;/code&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# several summary columns with arbitrary names&lt;/span&gt;\nmtcars &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;cyl&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; gear&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;                            &lt;span class=&quot;hljs-comment&quot;&gt;# multiple group columns&lt;/span&gt;\n  summarise&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;max_hp &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;hp&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; mean_mpg &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; mean&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;mpg&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# multiple summary columns&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# summarise all columns except grouping columns using &quot;sum&quot; &lt;/span&gt;\nmtcars &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;cyl&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  summarise&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;across&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;everything&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# summarise all columns except grouping columns using &quot;sum&quot; and &quot;mean&quot;&lt;/span&gt;\nmtcars &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;cyl&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  summarise&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;across&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;everything&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;mean &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; mean&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# multiple grouping columns&lt;/span&gt;\nmtcars &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;cyl&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; gear&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  summarise&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;across&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;everything&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;mean &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; mean&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# summarise specific variables, not all&lt;/span&gt;\nmtcars &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;cyl&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; gear&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  summarise&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;across&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;qsec&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; mpg&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; wt&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;mean &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; mean&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# summarise specific variables (numeric columns except grouping columns)&lt;/span&gt;\nmtcars &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;gear&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  summarise&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;across&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;where&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;is.numeric&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;mean &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; mean&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;For more information, including the &lt;code&gt;%&amp;gt;%&lt;/code&gt; operator, see the &lt;a href=&quot;https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr.html&quot; rel=&quot;noreferrer&quot;&gt;introduction to dplyr&lt;/a&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;The answer provided by rcs works and is simple. However, if you are handling larger datasets and need a performance boost there is a faster alternative:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndata &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Second&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Third&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Third&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Second&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n                  Frequency&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndata&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Frequency&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; Category&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#    Category V1&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1:    First 30&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2:   Second  5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 3:    Third 34&lt;/span&gt;\nsystem.time&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Frequency&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; Category&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# user    system   elapsed &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 0.008     0.001     0.009 &lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Let&apos;s compare that to the same thing using data.frame and the above above:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;data &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Second&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Third&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Third&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Second&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n                  Frequency&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nsystem.time&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;aggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Frequency&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;data&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# user    system   elapsed &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 0.008     0.000     0.015 &lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And if you want to keep the column this is the syntax:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;data&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Frequency&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Frequency&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;by&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#    Category Frequency&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1:    First        30&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2:   Second         5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 3:    Third        34&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The difference will become more noticeable with larger datasets, as the code below demonstrates:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;data &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Second&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Third&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n                  Frequency&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;rnorm&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nsystem.time&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt; data&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Frequency&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;by&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# user    system   elapsed &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 0.055     0.004     0.059 &lt;/span&gt;\ndata &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Second&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Third&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n                  Frequency&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;rnorm&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nsystem.time&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt; aggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Frequency&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;data&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# user    system   elapsed &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 0.287     0.010     0.296 &lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;For multiple aggregations, you can combine &lt;code&gt;lapply&lt;/code&gt; and &lt;code&gt;.SD&lt;/code&gt; as follows&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;data&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;.SD&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; Category&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#    Category Frequency&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1:    First        30&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2:   Second         5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 3:    Third        34&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can also use the &lt;b&gt;by()&lt;/b&gt; function:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;x2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Frequency&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndo.call&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;rbind&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;as.list&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Those other packages (plyr, reshape) have the benefit of returning a data.frame, but it&apos;s worth being familiar with by() since it&apos;s a base function.&lt;/p&gt;\n    ","\n&lt;p&gt;Several years later, just to add another simple base R solution that isn&apos;t present here for some reason- &lt;code&gt;xtabs&lt;/code&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;xtabs&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Frequency &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; Category&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# Category&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# First Second  Third &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#    30      5     34 &lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Or if you want a &lt;code&gt;data.frame&lt;/code&gt; back&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;as.data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;xtabs&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Frequency &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; Category&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#   Category Freq&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1    First   30&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2   Second    5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 3    Third   34&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nddply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;tbl&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; .&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; summarise&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Frequency&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If &lt;code&gt;x&lt;/code&gt; is a dataframe with your data, then the following will do what you want:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;require&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;reshape&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nrecast&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; Category &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; .&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; fun.aggregate&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;While I have recently become a convert to &lt;code&gt;dplyr&lt;/code&gt; for most of these types of operations, the &lt;code&gt;sqldf&lt;/code&gt; package is still really nice (and IMHO more readable) for some things. &lt;/p&gt;\n\n&lt;p&gt;Here is an example of how this question can be answered with &lt;code&gt;sqldf&lt;/code&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;x &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;factor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Second&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n                                  &lt;span class=&quot;hljs-string&quot;&gt;&quot;Third&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Third&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Second&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n                Frequency&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\nsqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;select \n          Category\n          ,sum(Frequency) as Frequency \n       from x \n       group by \n          Category&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;##   Category Frequency&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 1    First        30&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 2   Second         5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 3    Third        34&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Just to add a third option:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;require&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;doBy&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nsummaryBy&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Frequency&lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;yourdataframe&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;EDIT: this is a very old answer. Now I would recommend the use of &lt;code&gt;group_by&lt;/code&gt; and &lt;code&gt;summarise&lt;/code&gt; from &lt;code&gt;dplyr&lt;/code&gt;, as in @docendo answer.&lt;/p&gt;\n    ","\n&lt;p&gt;Another solution that returns sums by groups in a matrix or a data frame and is short and fast:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;rowsum&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Frequency&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I find &lt;a href=&quot;https://stat.ethz.ch/R-manual/R-patched/library/stats/html/ave.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;ave&lt;/code&gt;&lt;/a&gt; very helpful (and efficient) when you need to apply different aggregation functions on different columns (and you must/want to stick on base R) :&lt;/p&gt;\n\n&lt;p&gt;e.g.&lt;/p&gt;\n\n&lt;p&gt;Given this input :&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;DF &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt;                \ndata.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Categ1&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;factor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;B&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;B&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;B&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n           Categ2&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;factor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;X&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Y&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;X&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;X&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;X&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Y&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Y&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n           Samples&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n           Freq&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;55&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;65&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; DF\n  Categ1 Categ2 Samples Freq\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;      A      X       &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;      A      Y       &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;      B      X       &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;45&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;      B      X       &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;55&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;      A      X       &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;80&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;      B      Y       &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;65&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;      A      Y       &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;50&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;we want to group by &lt;code&gt;Categ1&lt;/code&gt; and &lt;code&gt;Categ2&lt;/code&gt; and compute the sum of &lt;code&gt;Samples&lt;/code&gt; and mean of &lt;code&gt;Freq&lt;/code&gt;.&lt;br&gt;\nHere&apos;s a possible solution using &lt;code&gt;ave&lt;/code&gt; :&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# create a copy of DF (only the grouping columns)&lt;/span&gt;\nDF2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; DF&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Categ1&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Categ2&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# add sum of Samples by Categ1,Categ2 to DF2 &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# (ave repeats the sum of the group for each row in the same group)&lt;/span&gt;\nDF2&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;GroupTotSamples &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; ave&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Samples&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;DF2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;FUN&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# add mean of Freq by Categ1,Categ2 to DF2 &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# (ave repeats the mean of the group for each row in the same group)&lt;/span&gt;\nDF2&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;GroupAvgFreq &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; ave&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Freq&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;DF2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;FUN&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;mean&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# remove the duplicates (keep only one row for each group)&lt;/span&gt;\nDF2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; DF2&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;!&lt;/span&gt;duplicated&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Result : &lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; DF2\n  Categ1 Categ2 GroupTotSamples GroupAvgFreq\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;      A      X               &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;           &lt;span class=&quot;hljs-number&quot;&gt;45&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;      A      Y               &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;           &lt;span class=&quot;hljs-number&quot;&gt;40&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;      B      X               &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;           &lt;span class=&quot;hljs-number&quot;&gt;50&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;      B      Y               &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;           &lt;span class=&quot;hljs-number&quot;&gt;65&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You could use the function &lt;code&gt;group.sum&lt;/code&gt; from &lt;strong&gt;package &lt;em&gt;Rfast&lt;/em&gt;&lt;/strong&gt;.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;Category &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; Rfast&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;as_integer&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;result.sort&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;# convert character to numeric. R&apos;s as.numeric produce NAs.&lt;/span&gt;\nresult &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; Rfast&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;group.sum&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Frequency&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; Rfast&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;Sort&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;unique&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 30 5 34&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;&lt;em&gt;Rfast&lt;/em&gt;&lt;/strong&gt; has many group functions and &lt;code&gt;group.sum&lt;/code&gt; is one of them.&lt;/p&gt;\n    ","\n&lt;p&gt;Since &lt;code&gt;dplyr 1.0.0&lt;/code&gt;, the &lt;code&gt;across()&lt;/code&gt; function could be used:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;df &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n summarise&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;across&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Frequency&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n  Category Frequency\n  &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;chr&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;        &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;int&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; First           &lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; Second           &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; Third           &lt;span class=&quot;hljs-number&quot;&gt;34&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If interested in multiple variables:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;df &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n summarise&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;across&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Frequency&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; Frequency2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n  Category Frequency Frequency2\n  &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;chr&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;        &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;int&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;      &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;int&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; First           &lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;55&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; Second           &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;29&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; Third           &lt;span class=&quot;hljs-number&quot;&gt;34&lt;/span&gt;        &lt;span class=&quot;hljs-number&quot;&gt;190&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And the selection of variables using select helpers:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;df &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n summarise&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;across&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;starts_with&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Freq&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n  Category Frequency Frequency2 Frequency3\n  &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;chr&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;        &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;int&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;      &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;int&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;      &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;dbl&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; First           &lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;55&lt;/span&gt;        &lt;span class=&quot;hljs-number&quot;&gt;110&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; Second           &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;29&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;58&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; Third           &lt;span class=&quot;hljs-number&quot;&gt;34&lt;/span&gt;        &lt;span class=&quot;hljs-number&quot;&gt;190&lt;/span&gt;        &lt;span class=&quot;hljs-number&quot;&gt;380&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Sample data:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;df &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; read.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;text &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Category Frequency Frequency2 Frequency3\n                 1    First        10         10         20\n                 2    First        15         30         60\n                 3    First         5         15         30\n                 4   Second         2          8         16\n                 5    Third        14         70        140\n                 6    Third        20        120        240\n                 7   Second         3         21         42&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n                 header &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n                 stringsAsFactors &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;using &lt;code&gt;cast&lt;/code&gt; instead of &lt;code&gt;recast&lt;/code&gt; (note &lt;code&gt;&apos;Frequency&apos;&lt;/code&gt; is now &lt;code&gt;&apos;value&apos;&lt;/code&gt;)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;df  &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Second&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Third&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Third&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Second&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n                  &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; value &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\ninstall.packages&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;reshape&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\nresult&lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt;cast&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; Category &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; . &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;fun.aggregate&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;to get:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;Category &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nFirst     &lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;\nSecond    &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\nThird     &lt;span class=&quot;hljs-number&quot;&gt;34&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;tidyverse&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\nx &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Category&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;First&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;First&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;First&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;Second&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;Third&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;Third&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;Second&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n           Frequency &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\ncount&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; Category&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; wt &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; Frequency&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;A good way to &lt;em&gt;sum a variable by group&lt;/em&gt; is&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;rowsum&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;numericToBeSummedUp&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; groups&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;from &lt;em&gt;base&lt;/em&gt;. Here only &lt;code&gt;collapse::fsum&lt;/code&gt; and &lt;code&gt;Rfast::group.sum&lt;/code&gt; have been faster.&lt;/p&gt;\n&lt;p&gt;Regarding &lt;em&gt;speed&lt;/em&gt; and &lt;em&gt;memory consumption&lt;/em&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;collapse&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;fsum&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;numericToBeSummedUp&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; groups&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;was the best in the given example which could be speed up when using a grouped data frame.&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;GDF &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; collapse&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;fgroup_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; g&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;#Create a grouped data.frame with group g&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#GDF &amp;lt;- collapse::gby(DF, g)      #Alternative&lt;/span&gt;\n\ncollapse&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;fsum&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;GDF&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;               &lt;span class=&quot;hljs-comment&quot;&gt;#Calculate sum per group&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Which comes close to the timings when the dataset was split in subdatasets per group.&lt;/p&gt;\n&lt;p&gt;A benchmark on different methods shows that for summing up a single column &lt;code&gt;collapse::fsum&lt;/code&gt; was two times faster than &lt;code&gt;Rfast::group.sum&lt;/code&gt; and 7 times faster than &lt;code&gt;rowsum&lt;/code&gt;. They were followed by &lt;code&gt;tapply&lt;/code&gt;, &lt;code&gt;data.table&lt;/code&gt;, &lt;code&gt;by&lt;/code&gt; and &lt;code&gt;dplyr&lt;/code&gt;. &lt;code&gt;xtabs&lt;/code&gt; and &lt;code&gt;aggregate&lt;/code&gt; are the slowest.&lt;/p&gt;\n&lt;p&gt;Aggregating two columns &lt;code&gt;collapse::fsum&lt;/code&gt; is again the fastest, 3 times faster than &lt;code&gt;Rfast::group.sum&lt;/code&gt; and 5 times faster then &lt;code&gt;rowsum&lt;/code&gt;. They are followed by &lt;code&gt;data.table&lt;/code&gt;, &lt;code&gt;tapply&lt;/code&gt;, &lt;code&gt;by&lt;/code&gt; and &lt;code&gt;dplyr&lt;/code&gt;. Again &lt;code&gt;xtabs&lt;/code&gt; and &lt;code&gt;aggregate&lt;/code&gt; are the slowest.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;Benchmark&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;set.seed&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;42&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nn &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; 1e5\nDF &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;g &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; as.factor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;letters&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; n&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n              &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; rnorm&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; rnorm&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;magrittr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Some methods allow to do tasks which might help to speed up the aggregation.&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;DT &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.table&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndata.table&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;setkey&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DT&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; g&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\nDFG &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; collapse&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;gby&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; g&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nDFG1 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; collapse&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;gby&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;g&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; g&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Optimized dataset for this aggregation task&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# This will also consume time!&lt;/span&gt;\nDFS &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;split&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; DF&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;g&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; as.matrix&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nDFS1 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;split&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; DF&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;g&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; as.matrix&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Summing up one column.&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;bench&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;mark&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;check &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;aggregate&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; aggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; DF&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;g&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;tapply&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; tapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;g&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;dplyr&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; DF &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; dplyr&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; dplyr&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;summarise&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;data.table&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; data.table&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; g&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;data.table2&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; DT&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; g&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;by&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;g&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;xtabs&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; xtabs&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; g&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; DF&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;rowsum&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; rowsum&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;g&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Rfast&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; Rfast&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;group.sum&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;g&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;base Split&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DFS1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; colSums&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;base Split Rfast&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DFS1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; Rfast&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;colsums&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;collapse&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; collapse&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;fsum&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;g&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;collapse2&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; collapse&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;fsum&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DFG1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#   expression            min   median `itr/sec` mem_alloc `gc/sec` n_itr  n_gc&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#   &amp;lt;bch:expr&amp;gt;       &amp;lt;bch:tm&amp;gt; &amp;lt;bch:tm&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;bch:byt&amp;gt;    &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt; &amp;lt;dbl&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1 aggregate         20.43ms  21.88ms      45.7   16.07MB    59.4     10    13&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2 tapply             1.24ms   1.39ms     687.     1.53MB    30.1    228    10&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 3 dplyr              3.28ms   4.81ms     209.     2.42MB    13.1     96     6&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 4 data.table         1.59ms   2.47ms     410.     4.69MB    87.7    145    31&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 5 data.table2        1.52ms   1.93ms     514.     2.38MB    40.5    190    15&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 6 by                 2.15ms   2.31ms     396.     2.29MB    26.7    148    10&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 7 xtabs              7.78ms   8.91ms     111.    10.54MB    50.0     31    14&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 8 rowsum           951.36s   1.07ms     830.     1.15MB    24.1    378    11&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 9 Rfast            431.06s 434.53s    2268.     2.74KB     0     1134     0&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#10 base Split       213.42s 219.66s    4342.       256B    12.4   2105     6&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#11 base Split Rfast  76.88s  81.48s   10923.    65.05KB    16.7   5232     8&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#12 collapse         121.03s 122.92s    7965.       256B     2.01  3961     1&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#13 collapse2         85.97s  88.67s   10749.       256B     4.03  5328     2&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Summing up two columns&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;bench&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;mark&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;check &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;aggregate&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; aggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; DF&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;g&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;tapply&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; list2DF&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; tapply&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;g&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;dplyr&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; DF &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; dplyr&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; dplyr&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;summarise&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;data.table&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; data.table&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;.&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; g&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;data.table2&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; DT&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;.&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; g&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;by&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;g&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;xtabs&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; xtabs&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;cbind&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; g&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; DF&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;rowsum&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; rowsum&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;g&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Rfast&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; list2DF&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; Rfast&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;group.sum&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;g&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;base Split&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DFS&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; colSums&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;base Split Rfast&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DFS&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; Rfast&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;colsums&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;collapse&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; collapse&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;fsum&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DF&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; DF&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;g&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n          &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;collapse2&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; collapse&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;fsum&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;DFG&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n            &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#   expression            min   median `itr/sec` mem_alloc `gc/sec` n_itr  n_gc&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#   &amp;lt;bch:expr&amp;gt;       &amp;lt;bch:tm&amp;gt; &amp;lt;bch:tm&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;bch:byt&amp;gt;    &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt; &amp;lt;dbl&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1 aggregate         25.87ms  26.36ms      37.7   20.89MB   132.       4    14&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2 tapply             2.65ms   3.23ms     312.     3.06MB    22.5     97     7&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 3 dplyr              4.27ms   6.02ms     164.     3.19MB    13.3     74     6&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 4 data.table         2.33ms   3.19ms     309.     4.72MB    57.0    114    21&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 5 data.table2        2.22ms   2.81ms     355.     2.41MB    19.8    161     9&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 6 by                 4.45ms   5.23ms     190.     4.59MB    22.5     59     7&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 7 xtabs             10.71ms  13.14ms      76.1    19.7MB   145.      11    21&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 8 rowsum             1.02ms   1.07ms     850.     1.15MB    23.8    393    11&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 9 Rfast            841.57s 846.88s    1150.     5.48KB     0      575     0&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#10 base Split       360.24s 368.28s    2652.       256B     8.16  1300     4&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#11 base Split Rfast 113.95s 119.81s    7540.    65.05KB    10.3   3661     5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#12 collapse         201.31s 204.83s    4724.       512B     2.01  2350     1&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#13 collapse2        156.95s 161.79s    5408.       512B     2.02  2683     1&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    "],"comment":["\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;The fastest way in base R is &lt;code&gt;rowsum&lt;/code&gt;.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/3060509/michael-m&quot; title=&quot;546 reputation&quot; class=&quot;comment-user&quot;&gt;Michael M&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment94924778_1660124&quot;&gt;&lt;span title=&quot;2019-01-04 18:58:22Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jan 4, 2019 at 18:58&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@AndrewMcKinlay, R uses the tilde to define symbolic formulae, for statistics and other functions. It can be interpreted as &lt;i&gt;&quot;model Frequency by Category&quot;&lt;/i&gt; or &lt;i&gt;&quot;Frequency depending on Category&quot;&lt;/i&gt;. Not all languages use a special operator to define a symbolic function, as done in R here. Perhaps with that &quot;natural-language interpretation&quot; of the tilde operator, it becomes more meaningful (and even intuitive). I personally find this symbolic formula representation better than some of the more verbose alternatives.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/3358272/r2evans&quot; title=&quot;109,968 reputation&quot; class=&quot;comment-user&quot;&gt;r2evans&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment69630389_1661144&quot;&gt;&lt;span title=&quot;2016-12-19 04:35:12Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Dec 19, 2016 at 4:35&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Being new to R (and asking the same sorts of questions as the OP), I would benefit from some more detail of the syntax behind each alternative. For instance, if I have a larger source table and want to subselect just two dimensions plus summed metrics, can I adapt any of these methods? Hard to tell.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/6232529/dodecaphone&quot; title=&quot;192 reputation&quot; class=&quot;comment-user&quot;&gt;Dodecaphone&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment92961975_1661144&quot;&gt;&lt;span title=&quot;2018-10-28 10:42:06Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Oct 28, 2018 at 10:42&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Is there anyway of maintaining an ID column? Say the categories are ordered and the ID column is &lt;code&gt;1:nrow(df)&lt;/code&gt;, is it possible to keep the starting position of each category after aggregating?  So the ID column would end up as, for example, 1, 3, 4, 7 after collapsing with aggregate. In my case I like &lt;code&gt;aggregate&lt;/code&gt; because it works over many columns automatically.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/10142537/qasena&quot; title=&quot;523 reputation&quot; class=&quot;comment-user&quot;&gt;QAsena&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment110640998_1661144&quot;&gt;&lt;span title=&quot;2020-06-24 20:32:03Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 24, 2020 at 20:32&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;How fast is it when compared to the data.table and aggregate alternatives presented in other answers?&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/2482776/asieira&quot; title=&quot;3,303 reputation&quot; class=&quot;comment-user&quot;&gt;asieira&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment44597994_27266488&quot;&gt;&lt;span title=&quot;2015-01-23 14:35:58Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jan 23, 2015 at 14:35&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@asieira, Which is fastest and how big the difference (or if the difference is noticeable) is will always depend on your data size. Typically, for large data sets, for example some GB, data.table will most likely be fastest. On smaller data size, data.table and dplyr are often close, also depending on the number of groups. Both data,table and dplyr will be quite a lot faster than base functions, however (can well be 100-1000 times faster for some operations). Also see &lt;a href=&quot;http://stackoverflow.com/questions/21435339/data-table-vs-dplyr-can-one-do-something-well-the-other-cant-or-does-poorly&quot;&gt;here&lt;/a&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/3521006/talat&quot; title=&quot;66,433 reputation&quot; class=&quot;comment-user&quot;&gt;talat&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment44598600_27266488&quot;&gt;&lt;span title=&quot;2015-01-23 14:50:59Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jan 23, 2015 at 14:50&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;What does the &quot;funs&quot; refer to in the second example?&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/9910708/lauren-marietta&quot; title=&quot;1,565 reputation&quot; class=&quot;comment-user&quot;&gt;lauren.marietta&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment102949265_27266488&quot;&gt;&lt;span title=&quot;2019-10-08 19:02:26Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Oct 8, 2019 at 19:02&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@lauren.marietta you can specify the function(s) you want to apply as summary inside the &lt;code&gt;funs()&lt;/code&gt; argument of &lt;code&gt;summarise_all&lt;/code&gt; and its related functions (&lt;code&gt;summarise_at&lt;/code&gt;, &lt;code&gt;summarise_if&lt;/code&gt;)&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/3521006/talat&quot; title=&quot;66,433 reputation&quot; class=&quot;comment-user&quot;&gt;talat&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment102969305_27266488&quot;&gt;&lt;span title=&quot;2019-10-09 11:52:17Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Oct 9, 2019 at 11:52&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;In case, the column name has spaces. It might not work. Using back ticks would help. Ref. &lt;a href=&quot;https://stackoverflow.com/questions/22842232/dplyr-nonstandard-column-names-white-space-punctuation-starts-with-numbers&quot; title=&quot;dplyr nonstandard column names white space punctuation starts with numbers&quot;&gt;stackoverflow.com/questions/22842232/&lt;/a&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/131476/user131476&quot; title=&quot;422 reputation&quot; class=&quot;comment-user&quot;&gt;user131476&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment114296106_27266488&quot;&gt;&lt;span title=&quot;2020-11-02 07:57:22Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Nov 2, 2020 at 7:57&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;+1 But 0.296 vs 0.059 isn&apos;t particularly impressive. The data size needs to be much bigger than 300k rows, and with more than 3 groups, for data.table to shine. We&apos;ll try and support more than 2 billion rows soon for example, since some data.table users have 250GB of RAM and GNU R now supports length &amp;gt; 2^31.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/403310/matt-dowle&quot; title=&quot;57,612 reputation&quot; class=&quot;comment-user&quot;&gt;Matt Dowle&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment27542136_18686783&quot;&gt;&lt;span title=&quot;2013-09-09 10:05:06Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Sep 9, 2013 at 10:05&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 3 times&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;True. Turns out I don&apos;t have all that RAM though, and was simply trying to provide some evidence of data.table&apos;s superior performance. I&apos;m sure the difference would be even larger with more data.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/2482776/asieira&quot; title=&quot;3,303 reputation&quot; class=&quot;comment-user&quot;&gt;asieira&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment29016084_18686783&quot;&gt;&lt;span title=&quot;2013-10-23 23:22:16Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Oct 23, 2013 at 23:22&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;I had 7 mil observations dplyr took .3 seconds and aggregate() took 22 seconds to complete the operation. I was going to post it on this topic and you beat me to it!&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/4256839/zazu&quot; title=&quot;334 reputation&quot; class=&quot;comment-user&quot;&gt;zazu&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment55195730_18686783&quot;&gt;&lt;span title=&quot;2015-11-14 19:10:11Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Nov 14, 2015 at 19:10&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;There is a even shorter way to write this &lt;code&gt;data[, sum(Frequency), by = Category]&lt;/code&gt;. You could use &lt;code&gt;.N&lt;/code&gt; which substitutes the &lt;code&gt;sum()&lt;/code&gt; function. &lt;code&gt;data[, .N, by = Category]&lt;/code&gt;. Here is a useful cheatsheet: &lt;a href=&quot;https://s3.amazonaws.com/assets.datacamp.com/img/blog/data+table+cheat+sheet.pdf&quot; rel=&quot;nofollow noreferrer&quot;&gt;s3.amazonaws.com/assets.datacamp.com/img/blog/&lt;/a&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/3935035/stophface&quot; title=&quot;8,705 reputation&quot; class=&quot;comment-user&quot;&gt;Stophface&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment71928527_18686783&quot;&gt;&lt;span title=&quot;2017-02-22 11:47:22Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Feb 22, 2017 at 11:47&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Using .N would be equivalent to sum(Frequency) only if all the values in the Frequency column were equal to 1, because .N counts the number of rows in each aggregated set (.SD). And that is not the case here.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/2482776/asieira&quot; title=&quot;3,303 reputation&quot; class=&quot;comment-user&quot;&gt;asieira&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment72201687_18686783&quot;&gt;&lt;span title=&quot;2017-03-01 13:26:41Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Mar 1, 2017 at 13:26&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Nicely, and indeed fast.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/6574038/jay-sf&quot; title=&quot;47,572 reputation&quot; class=&quot;comment-user&quot;&gt;jay.sf&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment108880376_61478862&quot;&gt;&lt;span title=&quot;2020-05-01 23:28:41Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;May 1, 2020 at 23:28&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;I bumped up &lt;code&gt;n&lt;/code&gt; to &lt;code&gt;1e7&lt;/code&gt; and re-ran the benchmark for the top performers. Mostly the same order, &lt;code&gt;rowsum&lt;/code&gt; is unbeatable, with &lt;code&gt;data.table2&lt;/code&gt; in second and &lt;code&gt;dplyr&lt;/code&gt; not far behind. On data that big, &lt;code&gt;dplyr&lt;/code&gt; actually beats &lt;code&gt;data.table&lt;/code&gt; with the class conversion in the benchmark.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/903061/gregor-thomas&quot; title=&quot;120,241 reputation&quot; class=&quot;comment-user&quot;&gt;Gregor Thomas&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment128131385_72532415&quot;&gt;&lt;span title=&quot;2022-06-07 16:08:21Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 7 at 16:08&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;&lt;code&gt;collapse::fsum&lt;/code&gt; is also fast, at least on larger data with more groups. &lt;code&gt;set.seed(42)&lt;/code&gt;; &lt;code&gt;n &amp;lt;- 1e7&lt;/code&gt;; &lt;code&gt;DF &amp;lt;- data.frame(g = as.factor(sample(1e4, n, TRUE)), x = rnorm(n), y = rnorm(n))&lt;/code&gt;; &lt;code&gt;system.time(group.sum(DF$x, DF$g))&lt;/code&gt;; &lt;code&gt;system.time(fsum(DF$x, DF$g))&lt;/code&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1851712/henrik&quot; title=&quot;61,543 reputation&quot; class=&quot;comment-user&quot;&gt;Henrik&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment128136377_72532415&quot;&gt;&lt;span title=&quot;2022-06-07 20:32:49Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 7 at 20:32&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;For several variables: &lt;code&gt;gr = GRP(DF, ~ g)&lt;/code&gt;; &lt;code&gt;fsum(DF, gr)&lt;/code&gt;.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1851712/henrik&quot; title=&quot;61,543 reputation&quot; class=&quot;comment-user&quot;&gt;Henrik&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment128137125_72532415&quot;&gt;&lt;span title=&quot;2022-06-07 21:14:51Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 7 at 21:14&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Thanks for the comment! I have added &lt;code&gt;collapse::fsum&lt;/code&gt; which is currently the fastest.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/10488504/gki&quot; title=&quot;28,878 reputation&quot; class=&quot;comment-user&quot;&gt;GKi&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment128141337_72532415&quot;&gt;&lt;span title=&quot;2022-06-08 04:21:16Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 8 at 4:21&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        "],"id":166,"title":"How to sum a variable by group","content":"\n                \n&lt;p&gt;I have a data frame with two columns. First column contains categories such as &quot;First&quot;, &quot;Second&quot;, &quot;Third&quot;, and the second column has numbers that represent the number of times I saw the specific groups from &quot;Category&quot;.&lt;/p&gt;\n\n&lt;p&gt;For example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;Category     Frequency\nFirst        &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;\nFirst        &lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;\nFirst        &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\nSecond       &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\nThird        &lt;span class=&quot;hljs-number&quot;&gt;14&lt;/span&gt;\nThird        &lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;\nSecond       &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I want to sort the data by Category and sum all the Frequencies:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;Category     Frequency\nFirst        &lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;\nSecond       &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\nThird        &lt;span class=&quot;hljs-number&quot;&gt;34&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;How would I do this in R?&lt;/p&gt;\n    ","slug":"how-to-sum-a-variable-by-group-1657384838148","postType":"QUESTION","createdAt":"2022-07-09T16:40:38.000Z","updatedAt":"2022-07-09T16:40:38.000Z","tags":[{"id":609,"name":"aggregate","slug":"aggregate","createdAt":"2022-07-09T16:40:38.000Z","updatedAt":"2022-07-09T16:40:38.000Z","Questions_Tags":{"questionId":166,"tagId":609}}]}},"__N_SSG":true}