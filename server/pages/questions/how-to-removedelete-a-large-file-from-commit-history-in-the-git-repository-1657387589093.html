<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/2eccd4d47c856f2b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2eccd4d47c856f2b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-20edbe0b078add93.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/613-1e0aa2b2023820bb.js" defer=""></script><script src="/_next/static/chunks/495-bb1d5b202c02d7f2.js" defer=""></script><script src="/_next/static/chunks/471-84c36aa98dd4107c.js" defer=""></script><script src="/_next/static/chunks/81-096e453de8a27667.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-e3d1b60e109d3ba1.js" defer=""></script><script src="/_next/static/4Y8KGE-c2lolBeBmcum_I/_buildManifest.js" defer=""></script><script src="/_next/static/4Y8KGE-c2lolBeBmcum_I/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.5">.hFcsiD code{padding:5px;color:hsl(210deg 8% 15%);background-color:hsl(210deg 8% 90%);border-radius:3px;}/*!sc*/
data-styled.g5[id="sc-6e32c308-0"]{content:"hFcsiD,"}/*!sc*/
.ljvTUN .comment-item .comment-body .d-inline-flex.ai-center{text-align:right;}/*!sc*/
.ljvTUN .comment-item .comment-body .comment-date{float:right;}/*!sc*/
data-styled.g6[id="sc-6e32c308-1"]{content:"ljvTUN,"}/*!sc*/
</style></head><body><div id="__next"><div class="sc-9099c029-0 cIPEih"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="https://flowbite.com/docs/images/logo.svg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo"/><span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Hunter</span></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-to-removedelete-a-large-file-from-commit-history-in-the-git-repository-1657387589093#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="sc-c5440139-0 figLul question my-5"><div class="sc-6e32c308-0 hFcsiD flex question-header items-center justify-center"><div class="rounded-xl border p-5 shadow-md w-9/12 bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-to-removedelete-a-large-file-from-commit-history-in-the-git-repository-1657387589093">How to remove/delete a large file from commit history in the Git repository?</a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/git-rewrite-history">git-rewrite-history</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/version-control">version-control</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/git-rebase">git-rebase</a></div></div><div class="question-content mt-5">
                
<p>I accidentally dropped a DVD-rip into a website project, then carelessly <code>git commit -a -m ...</code>, and, zap, the repo was bloated by 2.2 gigs. Next time I made some edits, deleted the video file, and committed everything, but the compressed file is still there in the repository, in history.</p>
<p>I know I can start branches from those commits and rebase one branch onto another. But what should I do to merge the 2 commits so that the big file doesn't show in the history and is cleaned in the garbage collection procedure?</p>
    </div></div></div><div class="sc-6e32c308-1 ljvTUN flex text-xs pl-10 flex-col comment items-center justify-center"><h4 class="text-left mt-10 text-lg font-semibold">Comments</h4><div class="comment-item w-9/12 border-t divide-y-8">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">This article should help you <a href="http://help.github.com/removing-sensitive-data/" rel="nofollow noreferrer">help.github.com/removing-sensitive-data</a></span>
                
              <div class="d-inline-flex ai-center">
&nbsp;<a href="/users/219217/mbo" title="29,259 reputation" class="comment-user">MBO</a>
                </div>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="#comment18728403_2100907"><span title="2010-01-20 11:23:07Z, License: CC BY-SA 2.5" class="relativetime-clean">Jan 20, 2010 at 11:23</span></a></span>
            </div>
        </div><span class="divide-x-8 "></span><div class="comment-item w-9/12 border-t divide-y-8">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">Related: <a href="http://stackoverflow.com/questions/307828/completely-remove-unwanted-file-from-git-repository-history">Completely remove file from all Git repository commit history</a>.</span>
                
              <div class="d-inline-flex ai-center">
&nbsp;<span class="comment-user">user456814</span>
                </div>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="#comment34860561_2100907"><span title="2014-04-04 00:34:58Z, License: CC BY-SA 3.0" class="relativetime-clean">Apr 4, 2014 at 0:34</span></a></span>
            </div>
        </div><span class="divide-x-8 "></span><div class="comment-item w-9/12 border-t divide-y-8">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">Note that if your large file is in a subdir you'll need to specify the full relative path.</span>
                
              <div class="d-inline-flex ai-center">
&nbsp;<a href="/users/650492/johan" title="73,200 reputation" class="comment-user">Johan</a>
                </div>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="#comment51132831_2100907"><span title="2015-07-23 14:36:58Z, License: CC BY-SA 3.0" class="relativetime-clean">Jul 23, 2015 at 14:36</span></a></span>
            </div>
        </div><span class="divide-x-8 "></span><button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">See more</button></div><div class="sc-6e32c308-2 bFXWFO"><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Use the <a href="https://rtyley.github.io/bfg-repo-cleaner/" rel="noreferrer">BFG Repo-Cleaner</a>, a simpler, faster alternative to <code>git-filter-branch</code> specifically designed for removing unwanted files from Git history.</p>

<p>Carefully follow the <a href="https://rtyley.github.io/bfg-repo-cleaner/#usage" rel="noreferrer">usage instructions</a>, the core part is just this:</p>

<pre><code>$ java -jar bfg.jar --strip-blobs-bigger-than 100M my-repo.git
</code></pre>

<p>Any files over 100MB in size (that aren't in your <em>latest</em> commit) will be removed from your Git repository's history. You can then use <code>git gc</code> to clean away the dead data:</p>

<pre><code>$ git gc --prune=now --aggressive
</code></pre>

<p>The BFG is typically at least <a href="https://docs.google.com/spreadsheet/ccc?key=0AsR1d5Zpes8HdER3VGU1a3dOcmVHMmtzT2dsS2xNenc#gid=0" rel="noreferrer">10-50x</a> faster than running <code>git-filter-branch</code>, and generally easier to use.</p>

<p><em>Full disclosure: I'm the author of the BFG Repo-Cleaner.</em></p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>What you want to do is highly disruptive if you have published history to other developers. See <a href="https://www.kernel.org/pub/software/scm/git/docs/git-rebase.html#_recovering_from_upstream_rebase" rel="noreferrer">Recovering From Upstream Rebase in the <code>git rebase</code> documentation</a> for the necessary steps after repairing your history.</p>
<p>You have at least two options: <a href="https://git-scm.com/docs/git-filter-branch" rel="noreferrer"><code>git filter-branch</code></a> and an <a href="https://git-scm.com/docs/git-rebase#Documentation/git-rebase.txt---interactive" rel="noreferrer">interactive rebase</a>, both explained below.</p>
<h2>Using <code>git filter-branch</code></h2>
<p>I had a similar problem with bulky binary test data from a Subversion import and wrote about <a href="http://blog.gbacon.com/2009/08/git-shrinking-subversion-import.html" rel="noreferrer">removing data from a git repository</a>.</p>
<p>Say your git history is:</p>
<pre><code>$ git lola --name-status
* f772d66 (HEAD, master) Login page
| A     login.html
* cb14efd Remove DVD-rip
| D     oops.iso
* ce36c98 Careless
| A     oops.iso
| A     other.html
* 5af4522 Admin page
| A     admin.html
* e738b63 Index
  A     index.html
</code></pre>
<p>Note that <a href="http://blog.kfish.org/2010/04/git-lola.html" rel="noreferrer"><code>git lola</code></a> is a non-standard but highly useful alias. With the <code>--name-status</code> switch, we can see tree modifications associated with each commit.</p>
<p>In the Careless commit (whose SHA1 object name is ce36c98) the file <code>oops.iso</code> is the DVD-rip added by accident and removed in the next commit, cb14efd. Using the technique described in the aforementioned blog post, the command to execute is:</p>
<pre class="lang-bash s-code-block"><code class="hljs language-bash">git filter-branch --prune-empty -d /dev/shm/scratch \
  --index-filter <span class="hljs-string">"git rm --cached -f --ignore-unmatch oops.iso"</span> \
  --tag-name-filter <span class="hljs-built_in">cat</span> -- --all
</code></pre>
<p>Options:</p>
<ul>
<li><code>--prune-empty</code> removes commits that become empty (<em>i.e.</em>, do not change the tree) as a result of the filter operation. In the typical case, this option produces a cleaner history.</li>
<li><code>-d</code> names a temporary directory that does not yet exist to use for building the filtered history. If you are running on a modern Linux distribution, specifying a <a href="https://superuser.com/q/45342/20872">tree in <code>/dev/shm</code> will result in faster execution</a>.</li>
<li><code>--index-filter</code> is the main event and runs against the index at each step in the history. You want to remove <code>oops.iso</code> wherever it is found, but it isnt present in all commits. The command <code>git rm --cached -f --ignore-unmatch oops.iso</code> deletes the DVD-rip when it is present and does not fail otherwise.</li>
<li><code>--tag-name-filter</code> describes how to rewrite tag names. A filter of <code>cat</code> is the identity operation. Your repository, like the sample above, may not have any tags, but I included this option for full generality.</li>
<li><code>--</code> specifies the end of options to <code>git filter-branch</code></li>
<li><code>--all</code> following <code>--</code> is shorthand for all refs. Your repository, like the sample above, may have only one ref (master), but I included this option for full generality.</li>
</ul>
<p>After some churning, the history is now:</p>
<pre><code>$ git lola --name-status
* 8e0a11c (HEAD, master) Login page
| A     login.html
* e45ac59 Careless
| A     other.html
|
| * f772d66 (refs/original/refs/heads/master) Login page
| | A   login.html
| * cb14efd Remove DVD-rip
| | D   oops.iso
| * ce36c98 Careless
|/  A   oops.iso
|   A   other.html
|
* 5af4522 Admin page
| A     admin.html
* e738b63 Index
  A     index.html
</code></pre>
<p>Notice that the new Careless commit adds only <code>other.html</code> and that the Remove DVD-rip commit is no longer on the master branch. The branch labeled <code>refs/original/refs/heads/master</code> contains your original commits in case you made a mistake. To remove it, follow the steps in <a href="https://www.kernel.org/pub/software/scm/git/docs/git-filter-branch.html#_checklist_for_shrinking_a_repository" rel="noreferrer">Checklist for Shrinking a Repository.</a></p>
<pre><code>$ git update-ref -d refs/original/refs/heads/master
$ git reflog expire --expire=now --all
$ git gc --prune=now
</code></pre>
<p>For a simpler alternative, clone the repository to discard the unwanted bits.</p>
<pre><code>$ cd ~/src
$ mv repo repo.old
$ git clone file:///home/user/src/repo.old repo
</code></pre>
<p>Using a <code>file:///...</code> clone URL copies objects rather than creating hardlinks only.</p>
<p>Now your history is:</p>
<pre><code>$ git lola --name-status
* 8e0a11c (HEAD, master) Login page
| A     login.html
* e45ac59 Careless
| A     other.html
* 5af4522 Admin page
| A     admin.html
* e738b63 Index
  A     index.html
</code></pre>
<p>The SHA1 object names for the first two commits (Index and Admin page) stayed the same because the filter operation did not modify those commits. Careless lost <code>oops.iso</code> and Login page got a new parent, so their SHA1s <em>did</em> change.</p>
<h2>Interactive rebase</h2>
<p>With a history of:</p>
<pre><code>$ git lola --name-status
* f772d66 (HEAD, master) Login page
| A     login.html
* cb14efd Remove DVD-rip
| D     oops.iso
* ce36c98 Careless
| A     oops.iso
| A     other.html
* 5af4522 Admin page
| A     admin.html
* e738b63 Index
  A     index.html
</code></pre>
<p>you want to remove <code>oops.iso</code> from Careless as though you never added it, and then Remove DVD-rip is useless to you. Thus, our plan going into an interactive rebase is to keep Admin page, edit Careless, and discard Remove DVD-rip.</p>
<p>Running <code>$ git rebase -i 5af4522</code> starts an editor with the following contents.</p>
<pre><code>pick ce36c98 Careless
pick cb14efd Remove DVD-rip
pick f772d66 Login page

# Rebase 5af4522..f772d66 onto 5af4522
#
# Commands:
#  p, pick = use commit
#  r, reword = use commit, but edit the commit message
#  e, edit = use commit, but stop for amending
#  s, squash = use commit, but meld into previous commit
#  f, fixup = like "squash", but discard this commit's log message
#  x, exec = run command (the rest of the line) using shell
#
# If you remove a line here THAT COMMIT WILL BE LOST.
# However, if you remove everything, the rebase will be aborted.
#
</code></pre>
<p>Executing our plan, we modify it to</p>
<pre><code>edit ce36c98 Careless
pick f772d66 Login page

# Rebase 5af4522..f772d66 onto 5af4522
# ...
</code></pre>
<p>That is, we delete the line with Remove DVD-rip and change the operation on Careless to be <code>edit</code> rather than <code>pick</code>.</p>
<p>Save-quitting the editor drops us at a command prompt with the following message.</p>
<pre><code>Stopped at ce36c98... Careless
You can amend the commit now, with

        git commit --amend

Once you are satisfied with your changes, run

        git rebase --continue
</code></pre>
<p>As the message tells us, we are on the Careless commit we want to edit, so we run two commands.</p>
<pre><code>$ git rm --cached oops.iso
$ git commit --amend -C HEAD
$ git rebase --continue
</code></pre>
<p>The first removes the offending file from the index. The second modifies or amends Careless to be the updated index and <code>-C HEAD</code> instructs git to reuse the old commit message. Finally, <code>git rebase --continue</code> goes ahead with the rest of the rebase operation.</p>
<p>This gives a history of:</p>
<pre><code>$ git lola --name-status
* 93174be (HEAD, master) Login page
| A     login.html
* a570198 Careless
| A     other.html
* 5af4522 Admin page
| A     admin.html
* e738b63 Index
  A     index.html
</code></pre>
<p>which is what you want.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Why not use this simple but powerful command?</p>

<pre><code>git filter-branch --tree-filter 'rm -f DVD-rip' HEAD
</code></pre>

<p>The <code>--tree-filter</code> option runs the specified command after each checkout of the project and then recommits the results. In this case, you remove a file called DVD-rip from every snapshot, whether it exists or not. </p>

<p>If you know which commit introduced the huge file (say 35dsa2), you can replace HEAD with 35dsa2..HEAD to avoid rewriting too much history, thus avoiding diverging commits if you haven't pushed yet. This comment courtesy of @alpha_989 seems too important to leave out here.</p>

<p>See <a href="https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History#The-Nuclear-Option:-filter-branch" rel="noreferrer">this link</a>.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>(The best answer I've seen to this problem is: <a href="https://stackoverflow.com/a/42544963/714112">https://stackoverflow.com/a/42544963/714112</a> , copied here since this thread appears high in Google search rankings but that other one doesn't)</p>

<h1> A blazingly fast shell one-liner </h1>

<p>This shell script displays all blob objects in the repository, sorted from smallest to largest.</p>

<p>For my sample repo, it ran about <strong>100 times faster</strong> than the other ones found here.<br>
On my trusty Athlon II X4 system, it handles the <em>Linux Kernel repository</em> with its 5,622,155 objects in <em>just over a minute</em>.</p>

<h2>The Base Script</h2>

<pre class="lang-sh s-code-block"><code class="hljs language-bash">git rev-list --objects --all \
| git cat-file --batch-check=<span class="hljs-string">'%(objecttype) %(objectname) %(objectsize) %(rest)'</span> \
| awk <span class="hljs-string">'/^blob/ {print substr($0,6)}'</span> \
| <span class="hljs-built_in">sort</span> --numeric-sort --key=2 \
| <span class="hljs-built_in">cut</span> --complement --characters=13-40 \
| <span class="hljs-built_in">numfmt</span> --field=2 --to=iec-i --suffix=B --padding=7 --round=nearest
</code></pre>

<p>When you run above code, you will get nice <strong>human-readable output</strong> like this:</p>

<pre><code>...
0d99bb931299  530KiB path/to/some-image.jpg
2ba44098e28f   12MiB path/to/hires-image.png
bd1741ddce0d   63MiB path/to/some-video-1080p.mp4
</code></pre>

<h2> Fast File Removal </h2>

<p>Suppose you then want to remove the files <code>a</code> and <code>b</code> from every commit reachable from <code>HEAD</code>, you can use this command:</p>

<pre class="lang-sh s-code-block"><code class="hljs language-bash">git filter-branch --index-filter <span class="hljs-string">'git rm --cached --ignore-unmatch a b'</span> HEAD
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>After trying virtually every answer in SO, I finally found this gem that quickly removed and deleted the large files in my repository and allowed me to sync again: <a href="http://www.zyxware.com/articles/4027/how-to-delete-files-permanently-from-your-local-and-remote-git-repositories" rel="noreferrer">http://www.zyxware.com/articles/4027/how-to-delete-files-permanently-from-your-local-and-remote-git-repositories</a></p>

<p>CD to your local working folder and run the following command:</p>

<pre><code>git filter-branch -f --index-filter "git rm -rf --cached --ignore-unmatch FOLDERNAME" -- --all
</code></pre>

<p>replace FOLDERNAME with the file or folder you wish to remove from the given git repository.</p>

<p>Once this is done run the following commands to clean up the local repository:</p>

<pre><code>rm -rf .git/refs/original/
git reflog expire --expire=now --all
git gc --prune=now
git gc --aggressive --prune=now
</code></pre>

<p>Now push all the changes to the remote repository:</p>

<pre><code>git push --all --force
</code></pre>

<p>This will clean up the remote repository.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h1>100 times faster than git filter-branch and simpler</h1>
<p>There are very good answers in this thread, but meanwhile many of them are outdated. Using <code>git-filter-branch</code> is no longer recommended, because it is difficult to use and awfully slow on big repositories.</p>
<p><code>git-filter-repo</code> is much faster and simpler to use.</p>
<p><code>git-filter-repo</code> is a Python script, available at github: <a href="https://github.com/newren/git-filter-repo" rel="noreferrer">https://github.com/newren/git-filter-repo</a> . When installed it looks like a regular git command and can be called by <code>git filter-repo</code>.</p>
<p>You need only one file: the Python3 script git-filter-repo. Copy it to a path that is included in the PATH variable. On Windows you may have to change the first line of the script (refer INSTALL.md). You need Python3 installed installed on your system, but this is not a big deal.</p>
<p>First you can run</p>
<pre><code>git filter-repo --analyze
</code></pre>
<p>This helps you to determine what to do next.</p>
<p>You can delete your DVD-rip file everywhere:</p>
<pre><code>git filter-repo --invert-paths --path-match DVD-rip
 
</code></pre>
<p>Filter-repo is really fast. A task that took around 9 hours on my computer by filter-branch, was completed in 4 minutes by filter-repo. You can do many more nice things with filter-repo. Refer to the documentation for that.</p>
<p><strong>Warning:</strong> Do this on a copy of your repository. Many actions of filter-repo cannot be undone. filter-repo will change the commit hashes of all modified commits (of course) and all their descendants down to the last commits!</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>These commands worked in my case:</p>

<pre><code>git filter-branch --force --index-filter 'git rm --cached -r --ignore-unmatch oops.iso' --prune-empty --tag-name-filter cat -- --all
rm -rf .git/refs/original/
git reflog expire --expire=now --all
git gc --prune=now
git gc --aggressive --prune=now
</code></pre>

<p>It is little different from the above versions.</p>

<p>For those who need to push this to github/bitbucket (I only tested this with bitbucket):</p>

<pre><code># WARNING!!!
# this will rewrite completely your bitbucket refs
# will delete all branches that you didn't have in your local

git push --all --prune --force

# Once you pushed, all your teammates need to clone repository again
# git pull will not work
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>According to GitHub <a href="https://docs.github.com/en/github/authenticating-to-github/removing-sensitive-data-from-a-repository#using-filter-branch" rel="noreferrer">Documentation</a>, just follow these steps:</p>
<ol>
<li>Get rid of the large file</li>
</ol>
<p><em>Option 1: You don't want to keep the large file:</em></p>
<pre class="lang-sh s-code-block"><code class="hljs language-bash"><span class="hljs-built_in">rm</span> path/to/your/large/file        <span class="hljs-comment"># delete the large file</span>
</code></pre>
<p><em>Option 2: You want to keep the large file into an untracked directory</em></p>
<pre class="lang-sh s-code-block"><code class="hljs language-bash"><span class="hljs-built_in">mkdir</span> large_files                       <span class="hljs-comment"># create directory large_files</span>
<span class="hljs-built_in">touch</span> .gitignore                        <span class="hljs-comment"># create .gitignore file if needed</span>
<span class="hljs-string">'/large_files/'</span> &gt;&gt; .gitignore           <span class="hljs-comment"># untrack directory large_files</span>
<span class="hljs-built_in">mv</span> path/to/your/large/file large_files/ <span class="hljs-comment"># move the large file into the untracked directory</span>
</code></pre>
<ol start="2">
<li>Save your changes</li>
</ol>
<pre class="lang-sh s-code-block"><code class="hljs language-bash">git add path/to/your/large/file   <span class="hljs-comment"># add the deletion to the index</span>
git commit -m <span class="hljs-string">'delete large file'</span> <span class="hljs-comment"># commit the deletion</span>
</code></pre>
<ol start="3">
<li>Remove the large file from all commits</li>
</ol>
<pre class="lang-sh s-code-block"><code class="hljs language-bash">git filter-branch --force --index-filter \
  <span class="hljs-string">"git rm --cached --ignore-unmatch path/to/your/large/file"</span> \
  --prune-empty --tag-name-filter <span class="hljs-built_in">cat</span> -- --all
git push &lt;remote&gt; &lt;branch&gt;
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I ran into this with a bitbucket account, where I had accidentally stored ginormous *.jpa backups of my site. </p>

<p><code>git filter-branch --prune-empty --index-filter 'git rm -rf --cached --ignore-unmatch MY-BIG-DIRECTORY-OR-FILE' --tag-name-filter cat -- --all</code></p>

<p>Relpace <code>MY-BIG-DIRECTORY</code> with the folder in question to completely rewrite your history (<em>including tags</em>). </p>

<p>source: <a href="https://web.archive.org/web/20170727144429/http://naleid.com:80/blog/2012/01/17/finding-and-purging-big-files-from-git-history/" rel="noreferrer">https://web.archive.org/web/20170727144429/http://naleid.com:80/blog/2012/01/17/finding-and-purging-big-files-from-git-history/</a></p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Just note that this commands can be very destructive. If more people are working on the repo they'll all have to pull the new tree. The three middle commands are not necessary if your goal is NOT to reduce the size. Because the filter branch creates a backup of the removed file and it can stay there for a long time. </p>

<pre><code>$ git filter-branch --index-filter "git rm -rf --cached --ignore-unmatch YOURFILENAME" HEAD
$ rm -rf .git/refs/original/ 
$ git reflog expire --all 
$ git gc --aggressive --prune
$ git push origin master --force
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 11</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><code>git filter-branch --tree-filter 'rm -f path/to/file' HEAD</code> 
worked pretty well for me, although I ran into the same problem as described <a href="https://stackoverflow.com/q/6403601/97443">here</a>, which I solved by following <a href="https://stackoverflow.com/a/6404368/97443">this suggestion</a>.</p>

<p>The pro-git book has an entire chapter on <a href="http://git-scm.com/book/en/Git-Tools-Rewriting-History" rel="nofollow noreferrer">rewriting history</a> - have a look at the <a href="http://git-scm.com/book/en/Git-Tools-Rewriting-History#The-Nuclear-Option:-filter-branch" rel="nofollow noreferrer"><code>filter-branch</code>/Removing a File from Every Commit</a> section.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 12</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you know your commit was recent instead of going through the entire tree do the following:
<code>
git filter-branch --tree-filter 'rm LARGE_FILE.zip' HEAD~10..HEAD
</code></p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 13</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This will remove it from your history</p>

<pre><code>git filter-branch --force --index-filter 'git rm -r --cached --ignore-unmatch bigfile.txt' --prune-empty --tag-name-filter cat -- --all
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 14</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Use <a href="http://gitextensions.github.io/" rel="noreferrer">Git Extensions</a>, it's a UI tool. It has a plugin named "Find large files" which finds lage files in repositories and allow removing them permenently.</p>

<p>Don't use 'git filter-branch' before using this tool, since it won't be able to find files removed by 'filter-branch' (Altough 'filter-branch' does not remove files completely from the repository pack files).</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 15</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I basically did what was on this answer:
<a href="https://stackoverflow.com/a/11032521/1286423">https://stackoverflow.com/a/11032521/1286423</a></p>

<p>(for history, I'll copy-paste it here)</p>

<pre><code>$ git filter-branch --index-filter "git rm -rf --cached --ignore-unmatch YOURFILENAME" HEAD
$ rm -rf .git/refs/original/ 
$ git reflog expire --all 
$ git gc --aggressive --prune
$ git push origin master --force
</code></pre>

<p>It didn't work, because I like to rename and move things a lot. So some big file were in folders that have been renamed, and I think the gc couldn't delete the reference to those files because of reference in <code>tree</code> objects pointing to those file.
My ultimate solution to really kill it was to:</p>

<pre><code># First, apply what's in the answer linked in the front
# and before doing the gc --prune --aggressive, do:

# Go back at the origin of the repository
git checkout -b newinit &lt;sha1 of first commit&gt;
# Create a parallel initial commit
git commit --amend
# go back on the master branch that has big file
# still referenced in history, even though 
# we thought we removed them.
git checkout master
# rebase on the newinit created earlier. By reapply patches,
# it will really forget about the references to hidden big files.
git rebase newinit

# Do the previous part (checkout + rebase) for each branch
# still connected to the original initial commit, 
# so we remove all the references.

# Remove the .git/logs folder, also containing references
# to commits that could make git gc not remove them.
rm -rf .git/logs/

# Then you can do a garbage collection,
# and the hidden files really will get gc'ed
git gc --prune --aggressive
</code></pre>

<p>My repo (the <code>.git</code>) changed from 32MB to 388KB, that even filter-branch couldn't clean.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 16</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><code>git filter-branch</code> is a powerful command which you can use it to delete a huge file from the commits history. The file will stay for a while and Git will remove it in the next garbage collection.
Below is the full process from <a href="https://www.gloomycorner.com/deleting-files-from-git-commit-history/" rel="nofollow noreferrer">deleteing files from commit history</a>. For safety, below process runs the commands on a new branch first. If the result is what you needed, then reset it back to the branch you actually want to change.</p>

<pre><code># Do it in a new testing branch
$ git checkout -b test

# Remove file-name from every commit on the new branch
# --index-filter, rewrite index without checking out
# --cached, remove it from index but not include working tree
# --ignore-unmatch, ignore if files to be removed are absent in a commit
# HEAD, execute the specified command for each commit reached from HEAD by parent link
$ git filter-branch --index-filter 'git rm --cached --ignore-unmatch file-name' HEAD

# The output is OK, reset it to the prior branch master
$ git checkout master
$ git reset --soft test

# Remove test branch
$ git branch -d test

# Push it with force
$ git push --force origin master
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 17</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can do this using the <code>branch filter</code> command:</p>

<p><code>git filter-branch --tree-filter 'rm -rf path/to/your/file' HEAD</code></p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 18</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>When you run into this problem, <code>git rm</code> will not suffice, as git remembers that the file existed once in our history, and thus will keep a reference to it.</p>

<p>To make things worse, rebasing is not easy either, because any references to the blob will prevent git garbage collector from cleaning up the space. This includes remote references and reflog references.</p>

<p>I put together <code>git forget-blob</code>, a little script that tries removing all these references, and then uses git filter-branch to rewrite every commit in the branch.</p>

<p>Once your blob is completely unreferenced, <code>git gc</code> will get rid of it</p>

<p>The usage is pretty simple <code>git forget-blob file-to-forget</code>. You can get more info here</p>

<p><a href="https://ownyourbits.com/2017/01/18/completely-remove-a-file-from-a-git-repository-with-git-forget-blob/" rel="nofollow noreferrer">https://ownyourbits.com/2017/01/18/completely-remove-a-file-from-a-git-repository-with-git-forget-blob/</a></p>

<p>I put this together thanks to the answers from Stack Overflow and some blog entries. Credits to them!</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 19</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Other than <code>git filter-branch</code> (slow but pure git solution) and <a href="https://rtyley.github.io/bfg-repo-cleaner/" rel="nofollow noreferrer">BFG</a> (easier and very performant), there is also another tool to filter with good performance:</p>

<p><a href="https://github.com/xoofx/git-rocket-filter" rel="nofollow noreferrer">https://github.com/xoofx/git-rocket-filter</a></p>

<p>From its description:</p>

<p>The purpose of git-rocket-filter is similar to the command <code>git-filter-branch</code> while providing the following unique features:</p>

<ul>
<li>Fast rewriting of commits and trees (by an order of x10 to x100).</li>
<li>Built-in support for both white-listing with --keep (keeps files or directories) and black-listing with --remove options.</li>
<li>Use of .gitignore like pattern for tree-filtering</li>
<li>Fast and easy C# Scripting for both commit filtering and tree filtering</li>
<li>Support for scripting in tree-filtering per file/directory pattern</li>
<li>Automatically prune empty/unchanged commit, including merge commits</li>
</ul>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 20</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This works perfectly for me : in git extensions :</p>
<p>right click on the selected commit :</p>
<p>reset current branch to here :</p>
<p>hard reset ;</p>
<p>It's surprising nobody else is able to give this simple answer.</p>
<p><a href="https://i.stack.imgur.com/atZ6T.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/atZ6T.png" alt="reset current branch to here"></a></p>
<p><a href="https://i.stack.imgur.com/tDqKF.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/tDqKF.png" alt="hard reset"></a></p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 21</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre><code>git reset --soft HEAD~1
</code></pre>
<p>It will keep the changes but remove the commit then you can re-commit those changes.</p>
    </div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;Use the \u0026lt;a href=\u0026quot;https://rtyley.github.io/bfg-repo-cleaner/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;BFG Repo-Cleaner\u0026lt;/a\u0026gt;, a simpler, faster alternative to \u0026lt;code\u0026gt;git-filter-branch\u0026lt;/code\u0026gt; specifically designed for removing unwanted files from Git history.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Carefully follow the \u0026lt;a href=\u0026quot;https://rtyley.github.io/bfg-repo-cleaner/#usage\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;usage instructions\u0026lt;/a\u0026gt;, the core part is just this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ java -jar bfg.jar --strip-blobs-bigger-than 100M my-repo.git\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Any files over 100MB in size (that aren\u0026apos;t in your \u0026lt;em\u0026gt;latest\u0026lt;/em\u0026gt; commit) will be removed from your Git repository\u0026apos;s history. You can then use \u0026lt;code\u0026gt;git gc\u0026lt;/code\u0026gt; to clean away the dead data:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ git gc --prune=now --aggressive\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The BFG is typically at least \u0026lt;a href=\u0026quot;https://docs.google.com/spreadsheet/ccc?key=0AsR1d5Zpes8HdER3VGU1a3dOcmVHMmtzT2dsS2xNenc#gid=0\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;10-50x\u0026lt;/a\u0026gt; faster than running \u0026lt;code\u0026gt;git-filter-branch\u0026lt;/code\u0026gt;, and generally easier to use.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Full disclosure: I\u0026apos;m the author of the BFG Repo-Cleaner.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;What you want to do is highly disruptive if you have published history to other developers. See \u0026lt;a href=\u0026quot;https://www.kernel.org/pub/software/scm/git/docs/git-rebase.html#_recovering_from_upstream_rebase\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Recovering From Upstream Rebase in the \u0026lt;code\u0026gt;git rebase\u0026lt;/code\u0026gt; documentation\u0026lt;/a\u0026gt; for the necessary steps after repairing your history.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You have at least two options: \u0026lt;a href=\u0026quot;https://git-scm.com/docs/git-filter-branch\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;git filter-branch\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; and an \u0026lt;a href=\u0026quot;https://git-scm.com/docs/git-rebase#Documentation/git-rebase.txt---interactive\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;interactive rebase\u0026lt;/a\u0026gt;, both explained below.\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;Using \u0026lt;code\u0026gt;git filter-branch\u0026lt;/code\u0026gt;\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;I had a similar problem with bulky binary test data from a Subversion import and wrote about \u0026lt;a href=\u0026quot;http://blog.gbacon.com/2009/08/git-shrinking-subversion-import.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;removing data from a git repository\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Say your git history is:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ git lola --name-status\n* f772d66 (HEAD, master) Login page\n| A     login.html\n* cb14efd Remove DVD-rip\n| D     oops.iso\n* ce36c98 Careless\n| A     oops.iso\n| A     other.html\n* 5af4522 Admin page\n| A     admin.html\n* e738b63 Index\n  A     index.html\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Note that \u0026lt;a href=\u0026quot;http://blog.kfish.org/2010/04/git-lola.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;git lola\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; is a non-standard but highly useful alias. With the \u0026lt;code\u0026gt;--name-status\u0026lt;/code\u0026gt; switch, we can see tree modifications associated with each commit.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;In the Careless commit (whose SHA1 object name is ce36c98) the file \u0026lt;code\u0026gt;oops.iso\u0026lt;/code\u0026gt; is the DVD-rip added by accident and removed in the next commit, cb14efd. Using the technique described in the aforementioned blog post, the command to execute is:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;git filter-branch --prune-empty -d /dev/shm/scratch \\\n  --index-filter \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;git rm --cached -f --ignore-unmatch oops.iso\u0026quot;\u0026lt;/span\u0026gt; \\\n  --tag-name-filter \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;cat\u0026lt;/span\u0026gt; -- --all\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Options:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;--prune-empty\u0026lt;/code\u0026gt; removes commits that become empty (\u0026lt;em\u0026gt;i.e.\u0026lt;/em\u0026gt;, do not change the tree) as a result of the filter operation. In the typical case, this option produces a cleaner history.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;-d\u0026lt;/code\u0026gt; names a temporary directory that does not yet exist to use for building the filtered history. If you are running on a modern Linux distribution, specifying a \u0026lt;a href=\u0026quot;https://superuser.com/q/45342/20872\u0026quot;\u0026gt;tree in \u0026lt;code\u0026gt;/dev/shm\u0026lt;/code\u0026gt; will result in faster execution\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;--index-filter\u0026lt;/code\u0026gt; is the main event and runs against the index at each step in the history. You want to remove \u0026lt;code\u0026gt;oops.iso\u0026lt;/code\u0026gt; wherever it is found, but it isnt present in all commits. The command \u0026lt;code\u0026gt;git rm --cached -f --ignore-unmatch oops.iso\u0026lt;/code\u0026gt; deletes the DVD-rip when it is present and does not fail otherwise.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;--tag-name-filter\u0026lt;/code\u0026gt; describes how to rewrite tag names. A filter of \u0026lt;code\u0026gt;cat\u0026lt;/code\u0026gt; is the identity operation. Your repository, like the sample above, may not have any tags, but I included this option for full generality.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;--\u0026lt;/code\u0026gt; specifies the end of options to \u0026lt;code\u0026gt;git filter-branch\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;--all\u0026lt;/code\u0026gt; following \u0026lt;code\u0026gt;--\u0026lt;/code\u0026gt; is shorthand for all refs. Your repository, like the sample above, may have only one ref (master), but I included this option for full generality.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;After some churning, the history is now:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ git lola --name-status\n* 8e0a11c (HEAD, master) Login page\n| A     login.html\n* e45ac59 Careless\n| A     other.html\n|\n| * f772d66 (refs/original/refs/heads/master) Login page\n| | A   login.html\n| * cb14efd Remove DVD-rip\n| | D   oops.iso\n| * ce36c98 Careless\n|/  A   oops.iso\n|   A   other.html\n|\n* 5af4522 Admin page\n| A     admin.html\n* e738b63 Index\n  A     index.html\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Notice that the new Careless commit adds only \u0026lt;code\u0026gt;other.html\u0026lt;/code\u0026gt; and that the Remove DVD-rip commit is no longer on the master branch. The branch labeled \u0026lt;code\u0026gt;refs/original/refs/heads/master\u0026lt;/code\u0026gt; contains your original commits in case you made a mistake. To remove it, follow the steps in \u0026lt;a href=\u0026quot;https://www.kernel.org/pub/software/scm/git/docs/git-filter-branch.html#_checklist_for_shrinking_a_repository\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Checklist for Shrinking a Repository.\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ git update-ref -d refs/original/refs/heads/master\n$ git reflog expire --expire=now --all\n$ git gc --prune=now\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;For a simpler alternative, clone the repository to discard the unwanted bits.\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ cd ~/src\n$ mv repo repo.old\n$ git clone file:///home/user/src/repo.old repo\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Using a \u0026lt;code\u0026gt;file:///...\u0026lt;/code\u0026gt; clone URL copies objects rather than creating hardlinks only.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Now your history is:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ git lola --name-status\n* 8e0a11c (HEAD, master) Login page\n| A     login.html\n* e45ac59 Careless\n| A     other.html\n* 5af4522 Admin page\n| A     admin.html\n* e738b63 Index\n  A     index.html\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The SHA1 object names for the first two commits (Index and Admin page) stayed the same because the filter operation did not modify those commits. Careless lost \u0026lt;code\u0026gt;oops.iso\u0026lt;/code\u0026gt; and Login page got a new parent, so their SHA1s \u0026lt;em\u0026gt;did\u0026lt;/em\u0026gt; change.\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;Interactive rebase\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;With a history of:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ git lola --name-status\n* f772d66 (HEAD, master) Login page\n| A     login.html\n* cb14efd Remove DVD-rip\n| D     oops.iso\n* ce36c98 Careless\n| A     oops.iso\n| A     other.html\n* 5af4522 Admin page\n| A     admin.html\n* e738b63 Index\n  A     index.html\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;you want to remove \u0026lt;code\u0026gt;oops.iso\u0026lt;/code\u0026gt; from Careless as though you never added it, and then Remove DVD-rip is useless to you. Thus, our plan going into an interactive rebase is to keep Admin page, edit Careless, and discard Remove DVD-rip.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Running \u0026lt;code\u0026gt;$ git rebase -i 5af4522\u0026lt;/code\u0026gt; starts an editor with the following contents.\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;pick ce36c98 Careless\npick cb14efd Remove DVD-rip\npick f772d66 Login page\n\n# Rebase 5af4522..f772d66 onto 5af4522\n#\n# Commands:\n#  p, pick = use commit\n#  r, reword = use commit, but edit the commit message\n#  e, edit = use commit, but stop for amending\n#  s, squash = use commit, but meld into previous commit\n#  f, fixup = like \u0026quot;squash\u0026quot;, but discard this commit\u0026apos;s log message\n#  x, exec = run command (the rest of the line) using shell\n#\n# If you remove a line here THAT COMMIT WILL BE LOST.\n# However, if you remove everything, the rebase will be aborted.\n#\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Executing our plan, we modify it to\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;edit ce36c98 Careless\npick f772d66 Login page\n\n# Rebase 5af4522..f772d66 onto 5af4522\n# ...\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;That is, we delete the line with Remove DVD-rip and change the operation on Careless to be \u0026lt;code\u0026gt;edit\u0026lt;/code\u0026gt; rather than \u0026lt;code\u0026gt;pick\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Save-quitting the editor drops us at a command prompt with the following message.\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;Stopped at ce36c98... Careless\nYou can amend the commit now, with\n\n        git commit --amend\n\nOnce you are satisfied with your changes, run\n\n        git rebase --continue\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;As the message tells us, we are on the Careless commit we want to edit, so we run two commands.\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ git rm --cached oops.iso\n$ git commit --amend -C HEAD\n$ git rebase --continue\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The first removes the offending file from the index. The second modifies or amends Careless to be the updated index and \u0026lt;code\u0026gt;-C HEAD\u0026lt;/code\u0026gt; instructs git to reuse the old commit message. Finally, \u0026lt;code\u0026gt;git rebase --continue\u0026lt;/code\u0026gt; goes ahead with the rest of the rebase operation.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This gives a history of:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ git lola --name-status\n* 93174be (HEAD, master) Login page\n| A     login.html\n* a570198 Careless\n| A     other.html\n* 5af4522 Admin page\n| A     admin.html\n* e738b63 Index\n  A     index.html\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;which is what you want.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Why not use this simple but powerful command?\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git filter-branch --tree-filter \u0026apos;rm -f DVD-rip\u0026apos; HEAD\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The \u0026lt;code\u0026gt;--tree-filter\u0026lt;/code\u0026gt; option runs the specified command after each checkout of the project and then recommits the results. In this case, you remove a file called DVD-rip from every snapshot, whether it exists or not. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you know which commit introduced the huge file (say 35dsa2), you can replace HEAD with 35dsa2..HEAD to avoid rewriting too much history, thus avoiding diverging commits if you haven\u0026apos;t pushed yet. This comment courtesy of @alpha_989 seems too important to leave out here.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;See \u0026lt;a href=\u0026quot;https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History#The-Nuclear-Option:-filter-branch\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;this link\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;(The best answer I\u0026apos;ve seen to this problem is: \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/42544963/714112\u0026quot;\u0026gt;https://stackoverflow.com/a/42544963/714112\u0026lt;/a\u0026gt; , copied here since this thread appears high in Google search rankings but that other one doesn\u0026apos;t)\u0026lt;/p\u0026gt;\n\n\u0026lt;h1\u0026gt; A blazingly fast shell one-liner \u0026lt;/h1\u0026gt;\n\n\u0026lt;p\u0026gt;This shell script displays all blob objects in the repository, sorted from smallest to largest.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For my sample repo, it ran about \u0026lt;strong\u0026gt;100 times faster\u0026lt;/strong\u0026gt; than the other ones found here.\u0026lt;br\u0026gt;\nOn my trusty Athlon II X4 system, it handles the \u0026lt;em\u0026gt;Linux Kernel repository\u0026lt;/em\u0026gt; with its 5,622,155 objects in \u0026lt;em\u0026gt;just over a minute\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;The Base Script\u0026lt;/h2\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sh s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;git rev-list --objects --all \\\n| git cat-file --batch-check=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;%(objecttype) %(objectname) %(objectsize) %(rest)\u0026apos;\u0026lt;/span\u0026gt; \\\n| awk \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/^blob/ {print substr($0,6)}\u0026apos;\u0026lt;/span\u0026gt; \\\n| \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sort\u0026lt;/span\u0026gt; --numeric-sort --key=2 \\\n| \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;cut\u0026lt;/span\u0026gt; --complement --characters=13-40 \\\n| \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;numfmt\u0026lt;/span\u0026gt; --field=2 --to=iec-i --suffix=B --padding=7 --round=nearest\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;When you run above code, you will get nice \u0026lt;strong\u0026gt;human-readable output\u0026lt;/strong\u0026gt; like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;...\n0d99bb931299  530KiB path/to/some-image.jpg\n2ba44098e28f   12MiB path/to/hires-image.png\nbd1741ddce0d   63MiB path/to/some-video-1080p.mp4\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h2\u0026gt; Fast File Removal \u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;Suppose you then want to remove the files \u0026lt;code\u0026gt;a\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;b\u0026lt;/code\u0026gt; from every commit reachable from \u0026lt;code\u0026gt;HEAD\u0026lt;/code\u0026gt;, you can use this command:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sh s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;git filter-branch --index-filter \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;git rm --cached --ignore-unmatch a b\u0026apos;\u0026lt;/span\u0026gt; HEAD\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;After trying virtually every answer in SO, I finally found this gem that quickly removed and deleted the large files in my repository and allowed me to sync again: \u0026lt;a href=\u0026quot;http://www.zyxware.com/articles/4027/how-to-delete-files-permanently-from-your-local-and-remote-git-repositories\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://www.zyxware.com/articles/4027/how-to-delete-files-permanently-from-your-local-and-remote-git-repositories\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;CD to your local working folder and run the following command:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git filter-branch -f --index-filter \u0026quot;git rm -rf --cached --ignore-unmatch FOLDERNAME\u0026quot; -- --all\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;replace FOLDERNAME with the file or folder you wish to remove from the given git repository.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Once this is done run the following commands to clean up the local repository:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;rm -rf .git/refs/original/\ngit reflog expire --expire=now --all\ngit gc --prune=now\ngit gc --aggressive --prune=now\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Now push all the changes to the remote repository:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git push --all --force\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This will clean up the remote repository.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h1\u0026gt;100 times faster than git filter-branch and simpler\u0026lt;/h1\u0026gt;\n\u0026lt;p\u0026gt;There are very good answers in this thread, but meanwhile many of them are outdated. Using \u0026lt;code\u0026gt;git-filter-branch\u0026lt;/code\u0026gt; is no longer recommended, because it is difficult to use and awfully slow on big repositories.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;git-filter-repo\u0026lt;/code\u0026gt; is much faster and simpler to use.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;git-filter-repo\u0026lt;/code\u0026gt; is a Python script, available at github: \u0026lt;a href=\u0026quot;https://github.com/newren/git-filter-repo\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://github.com/newren/git-filter-repo\u0026lt;/a\u0026gt; . When installed it looks like a regular git command and can be called by \u0026lt;code\u0026gt;git filter-repo\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You need only one file: the Python3 script git-filter-repo. Copy it to a path that is included in the PATH variable. On Windows you may have to change the first line of the script (refer INSTALL.md). You need Python3 installed installed on your system, but this is not a big deal.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;First you can run\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git filter-repo --analyze\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This helps you to determine what to do next.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You can delete your DVD-rip file everywhere:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git filter-repo --invert-paths --path-match DVD-rip\n \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Filter-repo is really fast. A task that took around 9 hours on my computer by filter-branch, was completed in 4 minutes by filter-repo. You can do many more nice things with filter-repo. Refer to the documentation for that.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Warning:\u0026lt;/strong\u0026gt; Do this on a copy of your repository. Many actions of filter-repo cannot be undone. filter-repo will change the commit hashes of all modified commits (of course) and all their descendants down to the last commits!\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;These commands worked in my case:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git filter-branch --force --index-filter \u0026apos;git rm --cached -r --ignore-unmatch oops.iso\u0026apos; --prune-empty --tag-name-filter cat -- --all\nrm -rf .git/refs/original/\ngit reflog expire --expire=now --all\ngit gc --prune=now\ngit gc --aggressive --prune=now\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;It is little different from the above versions.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For those who need to push this to github/bitbucket (I only tested this with bitbucket):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;# WARNING!!!\n# this will rewrite completely your bitbucket refs\n# will delete all branches that you didn\u0026apos;t have in your local\n\ngit push --all --prune --force\n\n# Once you pushed, all your teammates need to clone repository again\n# git pull will not work\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;According to GitHub \u0026lt;a href=\u0026quot;https://docs.github.com/en/github/authenticating-to-github/removing-sensitive-data-from-a-repository#using-filter-branch\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Documentation\u0026lt;/a\u0026gt;, just follow these steps:\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Get rid of the large file\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Option 1: You don\u0026apos;t want to keep the large file:\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sh s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;rm\u0026lt;/span\u0026gt; path/to/your/large/file        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# delete the large file\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Option 2: You want to keep the large file into an untracked directory\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sh s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;mkdir\u0026lt;/span\u0026gt; large_files                       \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# create directory large_files\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;touch\u0026lt;/span\u0026gt; .gitignore                        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# create .gitignore file if needed\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/large_files/\u0026apos;\u0026lt;/span\u0026gt; \u0026amp;gt;\u0026amp;gt; .gitignore           \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# untrack directory large_files\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;mv\u0026lt;/span\u0026gt; path/to/your/large/file large_files/ \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# move the large file into the untracked directory\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;ol start=\u0026quot;2\u0026quot;\u0026gt;\n\u0026lt;li\u0026gt;Save your changes\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sh s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;git add path/to/your/large/file   \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# add the deletion to the index\u0026lt;/span\u0026gt;\ngit commit -m \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;delete large file\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# commit the deletion\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;ol start=\u0026quot;3\u0026quot;\u0026gt;\n\u0026lt;li\u0026gt;Remove the large file from all commits\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sh s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;git filter-branch --force --index-filter \\\n  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;git rm --cached --ignore-unmatch path/to/your/large/file\u0026quot;\u0026lt;/span\u0026gt; \\\n  --prune-empty --tag-name-filter \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;cat\u0026lt;/span\u0026gt; -- --all\ngit push \u0026amp;lt;remote\u0026amp;gt; \u0026amp;lt;branch\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I ran into this with a bitbucket account, where I had accidentally stored ginormous *.jpa backups of my site. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;git filter-branch --prune-empty --index-filter \u0026apos;git rm -rf --cached --ignore-unmatch MY-BIG-DIRECTORY-OR-FILE\u0026apos; --tag-name-filter cat -- --all\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Relpace \u0026lt;code\u0026gt;MY-BIG-DIRECTORY\u0026lt;/code\u0026gt; with the folder in question to completely rewrite your history (\u0026lt;em\u0026gt;including tags\u0026lt;/em\u0026gt;). \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;source: \u0026lt;a href=\u0026quot;https://web.archive.org/web/20170727144429/http://naleid.com:80/blog/2012/01/17/finding-and-purging-big-files-from-git-history/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://web.archive.org/web/20170727144429/http://naleid.com:80/blog/2012/01/17/finding-and-purging-big-files-from-git-history/\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Just note that this commands can be very destructive. If more people are working on the repo they\u0026apos;ll all have to pull the new tree. The three middle commands are not necessary if your goal is NOT to reduce the size. Because the filter branch creates a backup of the removed file and it can stay there for a long time. \u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ git filter-branch --index-filter \u0026quot;git rm -rf --cached --ignore-unmatch YOURFILENAME\u0026quot; HEAD\n$ rm -rf .git/refs/original/ \n$ git reflog expire --all \n$ git gc --aggressive --prune\n$ git push origin master --force\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;git filter-branch --tree-filter \u0026apos;rm -f path/to/file\u0026apos; HEAD\u0026lt;/code\u0026gt; \nworked pretty well for me, although I ran into the same problem as described \u0026lt;a href=\u0026quot;https://stackoverflow.com/q/6403601/97443\u0026quot;\u0026gt;here\u0026lt;/a\u0026gt;, which I solved by following \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/6404368/97443\u0026quot;\u0026gt;this suggestion\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The pro-git book has an entire chapter on \u0026lt;a href=\u0026quot;http://git-scm.com/book/en/Git-Tools-Rewriting-History\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;rewriting history\u0026lt;/a\u0026gt; - have a look at the \u0026lt;a href=\u0026quot;http://git-scm.com/book/en/Git-Tools-Rewriting-History#The-Nuclear-Option:-filter-branch\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;filter-branch\u0026lt;/code\u0026gt;/Removing a File from Every Commit\u0026lt;/a\u0026gt; section.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you know your commit was recent instead of going through the entire tree do the following:\n\u0026lt;code\u0026gt;\ngit filter-branch --tree-filter \u0026apos;rm LARGE_FILE.zip\u0026apos; HEAD~10..HEAD\n\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This will remove it from your history\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git filter-branch --force --index-filter \u0026apos;git rm -r --cached --ignore-unmatch bigfile.txt\u0026apos; --prune-empty --tag-name-filter cat -- --all\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Use \u0026lt;a href=\u0026quot;http://gitextensions.github.io/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Git Extensions\u0026lt;/a\u0026gt;, it\u0026apos;s a UI tool. It has a plugin named \u0026quot;Find large files\u0026quot; which finds lage files in repositories and allow removing them permenently.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Don\u0026apos;t use \u0026apos;git filter-branch\u0026apos; before using this tool, since it won\u0026apos;t be able to find files removed by \u0026apos;filter-branch\u0026apos; (Altough \u0026apos;filter-branch\u0026apos; does not remove files completely from the repository pack files).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I basically did what was on this answer:\n\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/11032521/1286423\u0026quot;\u0026gt;https://stackoverflow.com/a/11032521/1286423\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;(for history, I\u0026apos;ll copy-paste it here)\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ git filter-branch --index-filter \u0026quot;git rm -rf --cached --ignore-unmatch YOURFILENAME\u0026quot; HEAD\n$ rm -rf .git/refs/original/ \n$ git reflog expire --all \n$ git gc --aggressive --prune\n$ git push origin master --force\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;It didn\u0026apos;t work, because I like to rename and move things a lot. So some big file were in folders that have been renamed, and I think the gc couldn\u0026apos;t delete the reference to those files because of reference in \u0026lt;code\u0026gt;tree\u0026lt;/code\u0026gt; objects pointing to those file.\nMy ultimate solution to really kill it was to:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;# First, apply what\u0026apos;s in the answer linked in the front\n# and before doing the gc --prune --aggressive, do:\n\n# Go back at the origin of the repository\ngit checkout -b newinit \u0026amp;lt;sha1 of first commit\u0026amp;gt;\n# Create a parallel initial commit\ngit commit --amend\n# go back on the master branch that has big file\n# still referenced in history, even though \n# we thought we removed them.\ngit checkout master\n# rebase on the newinit created earlier. By reapply patches,\n# it will really forget about the references to hidden big files.\ngit rebase newinit\n\n# Do the previous part (checkout + rebase) for each branch\n# still connected to the original initial commit, \n# so we remove all the references.\n\n# Remove the .git/logs folder, also containing references\n# to commits that could make git gc not remove them.\nrm -rf .git/logs/\n\n# Then you can do a garbage collection,\n# and the hidden files really will get gc\u0026apos;ed\ngit gc --prune --aggressive\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;My repo (the \u0026lt;code\u0026gt;.git\u0026lt;/code\u0026gt;) changed from 32MB to 388KB, that even filter-branch couldn\u0026apos;t clean.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;git filter-branch\u0026lt;/code\u0026gt; is a powerful command which you can use it to delete a huge file from the commits history. The file will stay for a while and Git will remove it in the next garbage collection.\nBelow is the full process from \u0026lt;a href=\u0026quot;https://www.gloomycorner.com/deleting-files-from-git-commit-history/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;deleteing files from commit history\u0026lt;/a\u0026gt;. For safety, below process runs the commands on a new branch first. If the result is what you needed, then reset it back to the branch you actually want to change.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;# Do it in a new testing branch\n$ git checkout -b test\n\n# Remove file-name from every commit on the new branch\n# --index-filter, rewrite index without checking out\n# --cached, remove it from index but not include working tree\n# --ignore-unmatch, ignore if files to be removed are absent in a commit\n# HEAD, execute the specified command for each commit reached from HEAD by parent link\n$ git filter-branch --index-filter \u0026apos;git rm --cached --ignore-unmatch file-name\u0026apos; HEAD\n\n# The output is OK, reset it to the prior branch master\n$ git checkout master\n$ git reset --soft test\n\n# Remove test branch\n$ git branch -d test\n\n# Push it with force\n$ git push --force origin master\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can do this using the \u0026lt;code\u0026gt;branch filter\u0026lt;/code\u0026gt; command:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;git filter-branch --tree-filter \u0026apos;rm -rf path/to/your/file\u0026apos; HEAD\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;When you run into this problem, \u0026lt;code\u0026gt;git rm\u0026lt;/code\u0026gt; will not suffice, as git remembers that the file existed once in our history, and thus will keep a reference to it.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To make things worse, rebasing is not easy either, because any references to the blob will prevent git garbage collector from cleaning up the space. This includes remote references and reflog references.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I put together \u0026lt;code\u0026gt;git forget-blob\u0026lt;/code\u0026gt;, a little script that tries removing all these references, and then uses git filter-branch to rewrite every commit in the branch.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Once your blob is completely unreferenced, \u0026lt;code\u0026gt;git gc\u0026lt;/code\u0026gt; will get rid of it\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The usage is pretty simple \u0026lt;code\u0026gt;git forget-blob file-to-forget\u0026lt;/code\u0026gt;. You can get more info here\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://ownyourbits.com/2017/01/18/completely-remove-a-file-from-a-git-repository-with-git-forget-blob/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://ownyourbits.com/2017/01/18/completely-remove-a-file-from-a-git-repository-with-git-forget-blob/\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I put this together thanks to the answers from Stack Overflow and some blog entries. Credits to them!\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Other than \u0026lt;code\u0026gt;git filter-branch\u0026lt;/code\u0026gt; (slow but pure git solution) and \u0026lt;a href=\u0026quot;https://rtyley.github.io/bfg-repo-cleaner/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;BFG\u0026lt;/a\u0026gt; (easier and very performant), there is also another tool to filter with good performance:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://github.com/xoofx/git-rocket-filter\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://github.com/xoofx/git-rocket-filter\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;From its description:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The purpose of git-rocket-filter is similar to the command \u0026lt;code\u0026gt;git-filter-branch\u0026lt;/code\u0026gt; while providing the following unique features:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Fast rewriting of commits and trees (by an order of x10 to x100).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Built-in support for both white-listing with --keep (keeps files or directories) and black-listing with --remove options.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Use of .gitignore like pattern for tree-filtering\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Fast and easy C# Scripting for both commit filtering and tree filtering\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Support for scripting in tree-filtering per file/directory pattern\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Automatically prune empty/unchanged commit, including merge commits\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This works perfectly for me : in git extensions :\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;right click on the selected commit :\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;reset current branch to here :\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;hard reset ;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;It\u0026apos;s surprising nobody else is able to give this simple answer.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/atZ6T.png\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/atZ6T.png\u0026quot; alt=\u0026quot;reset current branch to here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/tDqKF.png\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/tDqKF.png\u0026quot; alt=\u0026quot;hard reset\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --soft HEAD~1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;It will keep the changes but remove the commit then you can re-commit those changes.\u0026lt;/p\u0026gt;\n    "],"comment":["\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;This article should help you \u0026lt;a href=\u0026quot;http://help.github.com/removing-sensitive-data/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;help.github.com/removing-sensitive-data\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/219217/mbo\u0026quot; title=\u0026quot;29,259 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;MBO\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment18728403_2100907\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2010-01-20 11:23:07Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jan 20, 2010 at 11:23\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Related: \u0026lt;a href=\u0026quot;http://stackoverflow.com/questions/307828/completely-remove-unwanted-file-from-git-repository-history\u0026quot;\u0026gt;Completely remove file from all Git repository commit history\u0026lt;/a\u0026gt;.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;span class=\u0026quot;comment-user\u0026quot;\u0026gt;user456814\u0026lt;/span\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment34860561_2100907\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2014-04-04 00:34:58Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Apr 4, 2014 at 0:34\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Note that if your large file is in a subdir you\u0026apos;ll need to specify the full relative path.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/650492/johan\u0026quot; title=\u0026quot;73,200 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Johan\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment51132831_2100907\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2015-07-23 14:36:58Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 23, 2015 at 14:36\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Also related \u0026lt;a href=\u0026quot;https://help.github.com/en/articles/removing-files-from-a-repositorys-history\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;help.github.com/en/articles/\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/9205413/frederj\u0026quot; title=\u0026quot;1,323 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;frederj\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment99270113_2100907\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2019-05-27 19:43:44Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;May 27, 2019 at 19:43\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Please have also a look at my answer which uses \u0026lt;code\u0026gt;git filter-repo\u0026lt;/code\u0026gt;. You should not longer use \u0026lt;code\u0026gt;git filter-branch\u0026lt;/code\u0026gt; as it is very slow and often difficult to use. \u0026lt;code\u0026gt;git filter-repo\u0026lt;/code\u0026gt; is around 100 times faster.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/10533011/donat\u0026quot; title=\u0026quot;3,309 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Donat\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment109901206_2100907\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-06-01 19:50:18Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jun 1, 2020 at 19:50\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@tony It\u0026apos;s worth repeating the entire cloning \u0026amp;amp; clearing procedure to see if the message asking you to pull re-occurs, but it\u0026apos;s almost certainly because your remote server is configured to reject non-fast-forward updates (ie, it\u0026apos;s configured to stop you from losing history - which is exactly what you want to do). You need to get that setting changed on the remote, or failing that, push the updated repo history to a brand new blank repo.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/438886/roberto-tyley\u0026quot; title=\u0026quot;23,295 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Roberto Tyley\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment33300826_17890278\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2014-02-23 23:09:58Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Feb 23, 2014 at 23:09\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@RobertoTyley Thanks. I have tried it 3 different times and all resulted with the same message. So I\u0026apos;m also thinking that you\u0026apos;re right about the remote server being configured to reject the non-fast-forward updates. I\u0026apos;ll consider just pushing the updated repo to a brand new repo. Thank you!\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/671837/tony\u0026quot; title=\u0026quot;923 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Tony\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment33301230_17890278\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2014-02-23 23:30:39Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Feb 23, 2014 at 23:30\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@RobertoTyley Perfect, you save my time, thanks very much. By the way, maybe should do \u0026lt;code\u0026gt;git push --force\u0026lt;/code\u0026gt; after your steps, otherwise the remote repo still not changed.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/2722270/li2\u0026quot; title=\u0026quot;1,722 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;li2\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment51092390_17890278\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2015-07-22 16:16:04Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 22, 2015 at 16:16\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 2 times\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;+1 to adding \u0026lt;code\u0026gt;git push  --force\u0026lt;/code\u0026gt;.  Also worth noting:  force pushes may not be allowed by the remote (gitlab.com doesn\u0026apos;t, by default.  Had to \u0026quot;unprotect\u0026quot; the branch).\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1054322/matrixmanatyrservice\u0026quot; title=\u0026quot;6,703 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;MatrixManAtYrService\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment52871995_17890278\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2015-09-10 15:51:50Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Sep 10, 2015 at 15:51\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Instead of \u0026lt;code\u0026gt;--strip-blobs-bigger-than 100M\u0026lt;/code\u0026gt; you can also use \u0026lt;code\u0026gt;-b 100M\u0026lt;/code\u0026gt; according to help.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/614241/kon-psych\u0026quot; title=\u0026quot;596 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;kon psych\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment59136554_17890278\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2016-03-01 18:47:02Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Mar 1, 2016 at 18:47\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Why i can\u0026apos;t push when using git filter-branch, failed to push some refs to \u0026apos;git@bitbucket.org:product/myproject.git\u0026apos; To prevent you from losing history, non-fast-forward updates were rejected Merge the remote changes before pushing again.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/707187/agung-prasetyo\u0026quot; title=\u0026quot;4,208 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Agung Prasetyo\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment20531675_2158271\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-02-04 10:49:36Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Feb 4, 2013 at 10:49\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Add the \u0026lt;code\u0026gt;-f\u0026lt;/code\u0026gt; (or \u0026lt;code\u0026gt;--force\u0026lt;/code\u0026gt;) option to your \u0026lt;code\u0026gt;git push\u0026lt;/code\u0026gt; command: Usually, the command refuses to update a remote ref that is not an ancestor of the local ref used to overwrite it. This flag disables the check. This can cause the remote repository to lose commits; use it with care.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/123109/greg-bacon\u0026quot; title=\u0026quot;128,585 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Greg Bacon\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment20553879_2158271\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-02-04 23:47:04Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Feb 4, 2013 at 23:47\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;This is a wonderfully thorough answer explaining the use of git-filter-branch to remove unwanted large files from history, but it\u0026apos;s worth noting that since Greg wrote his answer, The BFG Repo-Cleaner has been released, which is often faster and easier to use - see my answer for details.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/438886/roberto-tyley\u0026quot; title=\u0026quot;23,295 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Roberto Tyley\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment31816052_2158271\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2014-01-15 15:09:46Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jan 15, 2014 at 15:09\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;After I do either of the procedures above, the remote repository (on GitHub) does NOT delete the large file. Only the local does. I force push and nada.  What am I missing?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1286760/4z4t4r\u0026quot; title=\u0026quot;2,192 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;4Z4T4R\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment36306301_2158271\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2014-05-13 21:11:47Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;May 13, 2014 at 21:11\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;this also works on dirs. \u0026lt;code\u0026gt;... \u0026quot;git rm --cached -rf --ignore-unmatch path/to/dir\u0026quot;...\u0026lt;/code\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/563420/rynop\u0026quot; title=\u0026quot;45,948 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;rynop\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment39634896_2158271\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2014-08-20 16:08:36Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Aug 20, 2014 at 16:08\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Much better than bfg. I was unable to clean file from a git with bfg, but this command helped\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/3027445/podarok\u0026quot; title=\u0026quot;517 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;podarok\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment63719168_30274113\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2016-07-01 11:56:40Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 1, 2016 at 11:56\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;This is great. Just a note for others that you\u0026apos;ll have to do this per branch if the large file is in multiple branches.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1240134/james\u0026quot; title=\u0026quot;1,930 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;James\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment65410192_30274113\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2016-08-19 01:38:24Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Aug 19, 2016 at 1:38\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;This worked for me on a local commit that I couldn\u0026apos;t upload to GitHub. And it seemed simpler than the other solutions.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1493699/richard-g\u0026quot; title=\u0026quot;4,609 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Richard G\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment71232003_30274113\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2017-02-03 16:32:49Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Feb 3, 2017 at 16:32\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;If you know the \u0026lt;code\u0026gt;commit\u0026lt;/code\u0026gt; where you put the file in (say \u0026lt;code\u0026gt;35dsa2\u0026lt;/code\u0026gt;), you can replace \u0026lt;code\u0026gt;HEAD\u0026lt;/code\u0026gt; with \u0026lt;code\u0026gt;35dsa2..HEAD\u0026lt;/code\u0026gt;. \u0026lt;code\u0026gt;tree-filter\u0026lt;/code\u0026gt; is much slower than \u0026lt;code\u0026gt;index-filter\u0026lt;/code\u0026gt; that way it wont try to checkout all the commits and rewrite them. if you use HEAD, it will try to do that.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/4752883/alpha-989\u0026quot; title=\u0026quot;4,491 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;alpha_989\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment83729246_30274113\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-01-21 20:10:59Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jan 21, 2018 at 20:10\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;After running the above command, you then have to run \u0026lt;code\u0026gt;git push --all --force\u0026lt;/code\u0026gt; to get remote\u0026apos;s history to match the amended version you have now created locally (@stevec)\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/115237/noel-evans\u0026quot; title=\u0026quot;7,547 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Noel Evans\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment110387570_30274113\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-06-16 19:05:54Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jun 16, 2020 at 19:05\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;If your repo has any tags, you likely also want to add the flag \u0026lt;code\u0026gt;--tag-name-filter cat\u0026lt;/code\u0026gt; to re-tag the new corresponding commits as they are rewritten, i.e., \u0026lt;code\u0026gt;git filter-branch --index-filter \u0026apos;git rm --cached --ignore-unmatch a b\u0026apos; --tag-name-filter cat HEAD\u0026lt;/code\u0026gt; (see \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/5574694/345236\u0026quot;\u0026gt;this related answer\u0026lt;/a\u0026gt;)\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/345236/naitsirhc\u0026quot; title=\u0026quot;4,534 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;naitsirhc\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment84352244_46615578\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-02-08 03:25:57Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Feb 8, 2018 at 3:25\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 2 times\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Mac instructions and some other info appear in the original linked post\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/395180/nruth\u0026quot; title=\u0026quot;1,115 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;nruth\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment85240339_46615578\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-03-05 18:55:44Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Mar 5, 2018 at 18:55\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;\u0026lt;code\u0026gt;git filter-branch --index-filter \u0026apos;git rm --cached --ignore-unmatch \u0026amp;lt;filename\u0026amp;gt;\u0026apos; HEAD\u0026lt;/code\u0026gt; workorder right of the bat\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/3767229/eleijonmarck\u0026quot; title=\u0026quot;4,132 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;eleijonmarck\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment86339999_46615578\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-04-05 06:00:58Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Apr 5, 2018 at 6:00\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;my favourite answer. a slight tweak to use on mac os (using gnu commands) \u0026lt;code\u0026gt;git rev-list --objects --all \\ | git cat-file --batch-check=\u0026apos;%(objecttype) %(objectname) %(objectsize) %(rest)\u0026apos; \\ | awk \u0026apos;/^blob/ {print substr($0,6)}\u0026apos; \\ | sort --numeric-sort --key=2 \\ | gnumfmt --field=2 --to=iec-i --suffix=B --padding=7 --round=nearest\u0026lt;/code\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1168848/florian-oswald\u0026quot; title=\u0026quot;4,904 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Florian Oswald\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment98101039_46615578\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2019-04-16 14:08:21Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Apr 16, 2019 at 14:08\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Thank you,  however for Mac OSX + zsh it did not work,  and I modified it to a simpler version :    \u0026amp;lt;code\u0026amp;gt; git rev-list --objects --all git cat-file --batch-check=\u0026apos;%(objecttype) %(objectname) %(objectsize) %(rest)\u0026apos; awk \u0026apos;/^blob/ {print substr($0,6)}\u0026apos; sort --numeric-sort --key=2\u0026amp;lt;/code\u0026amp;gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/470307/vasili-pascal\u0026quot; title=\u0026quot;2,776 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Vasili Pascal\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment103456379_46615578\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2019-10-26 09:21:08Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 26, 2019 at 9:21\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 5 times\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Worked like a charm for me.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/4816590/ramon-vasconcelos\u0026quot; title=\u0026quot;1,468 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Ramon Vasconcelos\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment86717597_43640996\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-04-16 07:17:57Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Apr 16, 2018 at 7:17\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;This worked for me as well. Gets rid of a specific folder (in my case, one that contained files too large or a Github repo) on the repository, but keeps it on the local file system in case it exists.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/2455710/skizzo\u0026quot; title=\u0026quot;373 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;skizzo\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment89442833_43640996\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-07-08 12:13:14Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 8, 2018 at 12:13\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Worked for me! no history is left which is potentially confusing (if someone where to clone right now), make sure you have a plan to update any broken links, dependencies, etc\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/3844056/ruoho-ruotsi\u0026quot; title=\u0026quot;1,215 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;ruoho ruotsi\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment99889899_43640996\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2019-06-19 05:11:25Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jun 19, 2019 at 5:11\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I tried the \u0026lt;code\u0026gt;filter-branch\u0026lt;/code\u0026gt; methods described in the other answers, but they didn\u0026apos;t work. After filtering, I still got file size too big error when pushing to GitHub. This solution worked, most likely because it removed the big file from ALL occurrences in ALL branches.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/9723036/fanchen-bao\u0026quot; title=\u0026quot;1,973 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Fanchen Bao\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment111727154_43640996\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-07-30 22:43:09Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 30, 2020 at 22:43\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I guess it\u0026apos;s only me that didn\u0026apos;t realize this command will also nuke the file from the project itself, not just the git repo. Certainly worked though!\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/863264/karl\u0026quot; title=\u0026quot;1,702 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Karl\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment123710438_43640996\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2021-11-16 02:38:46Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Nov 16, 2021 at 2:38\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;How do I submit the applied changes (on my local repository) to a remote repository? Or this is not possible, and I should clone the amended repo to a new one?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/336558/diman82\u0026quot; title=\u0026quot;582 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;diman82\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment116682861_61602985\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2021-02-01 15:15:57Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Feb 1, 2021 at 15:15\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@diman82: Best would be to make a new empty repository, set the remote repository from your cloned repo to that and push. This is common to all these answers here: You will get many new commit hashes. This is unavoidable because the commit hashes guarantee for the content and the history of a repo. The alternative way is dangerous, you could make a force push and then run gc to get rid of the files. But do not do this unless you have tested very well and you are aware of all the consequences !\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/10533011/donat\u0026quot; title=\u0026quot;3,309 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Donat\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment116689479_61602985\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2021-02-01 19:17:15Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Feb 1, 2021 at 19:17\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I\u0026apos;ve already pushed (with --force option), worked well (to a cloned repository, as a precaution).\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/336558/diman82\u0026quot; title=\u0026quot;582 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;diman82\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment116739511_61602985\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2021-02-03 12:19:35Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Feb 3, 2021 at 12:19\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;\u0026lt;code\u0026gt;git filter-repo --strip-blobs-bigger-than 10M\u0026lt;/code\u0026gt; worked much better on my end\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1120210/lucas\u0026quot; title=\u0026quot;116 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Lucas\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment120810493_61602985\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2021-07-13 06:19:29Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 13, 2021 at 6:19\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;This worked well for me. filter-repo has good documentation for more advanced cases but in mine, I just needed to get rid of big file I accidentally committed. In my case, it worked fine to duplicate the project dir, run the command in the new version, re-add the remote and push (no strictly fresh clone).\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/3234482/alex-l\u0026quot; title=\u0026quot;430 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Alex L\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment127850302_61602985\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2022-05-24 22:25:07Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;May 24 at 22:25\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;How is it different from above, why is it better?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1240268/andy-hayden\u0026quot; title=\u0026quot;331,675 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Andy Hayden\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment24745635_17100265\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-06-14 09:08:44Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jun 14, 2013 at 9:08\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;For some reason mkljun version is not reduced git space in my case, I already had removed the files from index by using \u0026lt;code\u0026gt;git rm --cached files\u0026lt;/code\u0026gt;. The Greg Bacon\u0026apos;s proposition is more complete, and quite the same to this mine, but he missed the --force index for cases when you are using filter-branch for multiple times, and he wrote so much info, that my version is like resume of it.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/2215679/kostanos\u0026quot; title=\u0026quot;8,634 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Kostanos\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment24755253_17100265\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-06-14 14:09:31Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jun 14, 2013 at 14:09\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;This really helped but I needed to use the \u0026lt;code\u0026gt;-f\u0026lt;/code\u0026gt; option not just \u0026lt;code\u0026gt;-rf\u0026lt;/code\u0026gt; here \u0026lt;code\u0026gt;git rm --cached -rf --ignore-unmatch oops.iso\u0026lt;/code\u0026gt; instead of \u0026lt;code\u0026gt;git rm --cached -r --ignore-unmatch oops.iso\u0026lt;/code\u0026gt; as per @lfender6445 below\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/992999/drstevok\u0026quot; title=\u0026quot;705 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;drstevok\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment67607217_17100265\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2016-10-21 06:18:56Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 21, 2016 at 6:18\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;can you elaborate on how the \u0026quot;remove the large file from all commits\u0026quot; step worked, that was amazing!\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/315523/clayg\u0026quot; title=\u0026quot;327 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;clayg\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment115121078_63830907\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-12-02 21:51:11Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Dec 2, 2020 at 21:51\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Thanks @clayg. I don\u0026apos;t understand deeply the \u0026lt;code\u0026gt;git filter-branch\u0026lt;/code\u0026gt; command, as I wrote, I just followed the GitHub documentation. What I know is that this command browses through your \u0026lt;code\u0026gt;.git\u0026lt;/code\u0026gt; folder and find all tracks of the given file and removes it from the history.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/4845941/kevin-r\u0026quot; title=\u0026quot;1,275 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Kevin R.\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment115758610_63830907\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-12-28 10:10:48Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Dec 28, 2020 at 10:10\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@KevinR. you have to force push, isnt it?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/2195440/exploring\u0026quot; title=\u0026quot;3,255 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Exploring\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment127312410_63830907\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2022-04-29 01:54:48Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Apr 29 at 1:54\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;This response helped me, except the script in the answer has a slight issue and it doesn\u0026apos;t search in all branches form me. But the command in the link did it perfectly.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/16073/ali-b\u0026quot; title=\u0026quot;546 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Ali B\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment52700990_25595545\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2015-09-05 20:20:13Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Sep 5, 2015 at 20:20\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Add \u0026lt;code\u0026gt;-f\u0026lt;/code\u0026gt; after \u0026lt;code\u0026gt;git filter-branch\u0026lt;/code\u0026gt;, if need to overwrite previous backup\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/5772735/sheldon\u0026quot; title=\u0026quot;449 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Sheldon\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment128003589_25595545\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2022-06-01 09:32:38Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jun 1 at 9:32\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Do NOT run these commands unless you want to create immense pain for yourself. It deleted a lot of my original source code files. I assumed it would purge some large files from my commit history in GIT (as per the original question), however, I think this command is designed to permanently purge files from your original source code tree (big difference!). My system: Windows, VS2012, Git Source Control Provider.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/107409/contango\u0026quot; title=\u0026quot;71,497 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Contango\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment17654365_11032521\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2012-10-22 11:16:29Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 22, 2012 at 11:16\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I used this command: \u0026lt;code\u0026gt;git filter-branch --force --index-filter \u0026apos;git rm --cached -r --ignore-unmatch oops.iso\u0026apos; --prune-empty --tag-name-filter cat -- --all\u0026lt;/code\u0026gt; instead of first one from your code\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/2215679/kostanos\u0026quot; title=\u0026quot;8,634 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Kostanos\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment24737822_11032521\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-06-14 02:31:59Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jun 14, 2013 at 2:31\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 2 times\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@mkljun, please at least remove \u0026quot;git push origin master --force\u0026quot;! First of all it is not related to the original question - author didn\u0026apos;t ask how to edit commits and push changes to some repository. And second - this is dangerous, you really can delete a lot of files and push changes to remote repository without first check what was deleted is not a good idea.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/589119/ezh\u0026quot; title=\u0026quot;475 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Ezh\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment121716912_11032521\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2021-08-21 10:27:51Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Aug 21, 2021 at 10:27\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;This works in my case. I run this on your master branch.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/5835121/smplyjr\u0026quot; title=\u0026quot;704 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;SMPLYJR\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment106685935_59736349\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-02-20 01:14:31Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Feb 20, 2020 at 1:14\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;This method is waaay too slow for large repositories.  It took over an hour to list the large files.  Then when I go to delete files, after an hour it is only 1/3 of the way through processing the first file I want to delete.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/192221/kristianp\u0026quot; title=\u0026quot;5,099 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;kristianp\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment80067742_41408667\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2017-10-04 04:19:42Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 4, 2017 at 4:19\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Yes, its slow, but does the work... Do you know anything quicker?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/2546759/nir\u0026quot; title=\u0026quot;1,638 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Nir\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment80179900_41408667\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2017-10-06 21:03:09Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 6, 2017 at 21:03\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Haven\u0026apos;t used it, but BFG Repo-Cleaner, as per another answer on this page.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/192221/kristianp\u0026quot; title=\u0026quot;5,099 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;kristianp\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment80226940_41408667\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2017-10-09 04:42:45Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 9, 2017 at 4:42\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;you should get this in homebrew\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/988565/cameron-e\u0026quot; title=\u0026quot;1,800 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Cameron E\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment74953681_41806272\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2017-05-14 07:54:33Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;May 14, 2017 at 7:54\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Worked for me but me mindful this deletes everything after that point\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/11277108/jossy\u0026quot; title=\u0026quot;292 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Jossy\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment111377300_62592234\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-07-19 16:22:30Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 19, 2020 at 16:22\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;No-one gave this answer because it does not answer the question. He wants a specific file removed from the history. Your answer nukes everything in the repo after a certain point.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/36790/jason-kelley\u0026quot; title=\u0026quot;575 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Jason Kelley\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment118664265_62592234\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2021-04-16 22:51:52Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Apr 16, 2021 at 22:51\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;this is a joke right?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/3091630/williem\u0026quot; title=\u0026quot;1,111 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Williem\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment128782130_62592234\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2022-07-08 14:11:33Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;yesterday\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        "],"id":310,"title":"How to remove/delete a large file from commit history in the Git repository?","content":"\n                \n\u0026lt;p\u0026gt;I accidentally dropped a DVD-rip into a website project, then carelessly \u0026lt;code\u0026gt;git commit -a -m ...\u0026lt;/code\u0026gt;, and, zap, the repo was bloated by 2.2 gigs. Next time I made some edits, deleted the video file, and committed everything, but the compressed file is still there in the repository, in history.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I know I can start branches from those commits and rebase one branch onto another. But what should I do to merge the 2 commits so that the big file doesn\u0026apos;t show in the history and is cleaned in the garbage collection procedure?\u0026lt;/p\u0026gt;\n    ","slug":"how-to-removedelete-a-large-file-from-commit-history-in-the-git-repository-1657387589093","postType":"QUESTION","createdAt":"2022-07-09T17:26:29.000Z","updatedAt":"2022-07-09T17:26:29.000Z","tags":[{"id":1835,"name":"git-rewrite-history","slug":"git-rewrite-history","createdAt":"2022-07-09T17:26:29.000Z","updatedAt":"2022-07-09T17:26:29.000Z","Questions_Tags":{"questionId":310,"tagId":1835}},{"id":1837,"name":"version-control","slug":"version-control","createdAt":"2022-07-09T17:26:29.000Z","updatedAt":"2022-07-09T17:26:29.000Z","Questions_Tags":{"questionId":310,"tagId":1837}},{"id":1838,"name":"git-rebase","slug":"git-rebase","createdAt":"2022-07-09T17:26:29.000Z","updatedAt":"2022-07-09T17:26:29.000Z","Questions_Tags":{"questionId":310,"tagId":1838}}]}},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-to-removedelete-a-large-file-from-commit-history-in-the-git-repository-1657387589093"},"buildId":"4Y8KGE-c2lolBeBmcum_I","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>