<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/2eccd4d47c856f2b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2eccd4d47c856f2b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-20edbe0b078add93.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/613-1e0aa2b2023820bb.js" defer=""></script><script src="/_next/static/chunks/495-bb1d5b202c02d7f2.js" defer=""></script><script src="/_next/static/chunks/471-84c36aa98dd4107c.js" defer=""></script><script src="/_next/static/chunks/81-301f760ac8107464.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-76d2c3e2d98bb08b.js" defer=""></script><script src="/_next/static/B9ZMQqRLGvIP-RcWN9dT2/_buildManifest.js" defer=""></script><script src="/_next/static/B9ZMQqRLGvIP-RcWN9dT2/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.5">.eZIPKL code{padding:5px;color:hsl(210deg 8% 15%);background-color:hsl(210deg 8% 90%);border-radius:3px;}/*!sc*/
data-styled.g5[id="sc-c4b0431a-0"]{content:"eZIPKL,"}/*!sc*/
</style></head><body><div id="__next"><div class="sc-9099c029-0 cIPEih"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="https://flowbite.com/docs/images/logo.svg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo"/><span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Hunter</span></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/what-are-the-rules-about-using-an-underscore-in-a-c%2B%2B-identifier-1657384557197#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="sc-c5440139-0 figLul question my-5"><div class="sc-c4b0431a-0 eZIPKL flex question-header items-center justify-center"><div class="rounded-xl border p-5 shadow-md w-9/12 bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/what-are-the-rules-about-using-an-underscore-in-a-c++-identifier-1657384557197">What are the rules about using an underscore in a C++ identifier?</a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/naming-conventions">naming-conventions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/standards">standards</a></div></div><div class="question-content mt-5">
                
<p>It's common in C++ to name member variables with some kind of prefix to denote the fact that they're member variables, rather than local variables or parameters. If you've come from an MFC background, you'll probably use <code>m_foo</code>. I've also seen <code>myFoo</code> occasionally.</p>

<p>C# (or possibly just .NET) seems to recommend using just an underscore, as in <code>_foo</code>. Is this allowed by the C++ standard?</p>
    </div></div></div><div class="sc-c4b0431a-2 cRqwQe"><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The rules (which did not change in C++11):</p>

<ul>
<li>Reserved in any scope, including for use as <a href="https://stackoverflow.com/questions/4297933/c-implementation#4297974">implementation</a> macros:

<ul>
<li>identifiers beginning with an underscore followed immediately by an uppercase letter</li>
<li>identifiers containing adjacent underscores (or "double underscore")</li>
</ul></li>
<li>Reserved in the global namespace:

<ul>
<li>identifiers beginning with an underscore</li>
</ul></li>
<li>Also, everything in the <code>std</code> namespace is reserved. (You are allowed to add template specializations, though.) </li>
</ul>

<p>From the 2003 C++ Standard:</p>

<blockquote>
  <h3>17.4.3.1.2 Global names [lib.global.names]</h3>
  
  <p>Certain sets of names and function signatures are always reserved to the implementation:</p>
  
  <ul>
  <li>Each name that contains a double underscore (<code>__</code>) or begins with an underscore followed by an uppercase letter (2.11) is reserved to the implementation for any use.</li>
  <li>Each name that begins with an underscore is reserved to the implementation for use as a name in the global namespace.<sup>165</sup></li>
  </ul>
  
  <p><sup>165)</sup> Such names are also reserved in namespace <code>::std</code> (17.4.3.1). </p>
</blockquote>

<p>Because C++ is based on the C standard (1.1/2, C++03) and C99 is a normative reference (1.2/1, C++03) these also apply, from the 1999 C Standard:</p>

<blockquote>
  <h3>7.1.3 Reserved identifiers</h3>
  
  <p>Each header declares or defines all identifiers listed in its associated subclause, and
  optionally declares or defines identifiers listed in its associated future library directions subclause and identifiers which are always reserved either for any use or for use as file scope identifiers.</p>
  
  <ul>
  <li>All identifiers that begin with an underscore and either an uppercase letter or another
  underscore are always reserved for any use.</li>
  <li>All identifiers that begin with an underscore are always reserved for use as identifiers
  with file scope in both the ordinary and tag name spaces.</li>
  <li>Each macro name in any of the following subclauses (including the future library
  directions) is reserved for use as specified if any of its associated headers is included;
  unless explicitly stated otherwise (see 7.1.4).</li>
  <li>All identifiers with external linkage in any of the following subclauses (including the
  future library directions) are always reserved for use as identifiers with external
  linkage.<sup>154</sup></li>
  <li>Each identifier with file scope listed in any of the following subclauses (including the
  future library directions) is reserved for use as a macro name and as an identifier with
  file scope in the same name space if any of its associated headers is included.</li>
  </ul>
  
  <p>No other identifiers are reserved. If the program declares or defines an identifier in a
  context in which it is reserved (other than as allowed by 7.1.4), or defines a reserved
  identifier as a macro name, the behavior is undefined.</p>
  
  <p>If the program removes (with <code>#undef</code>) any macro definition of an identifier in the first
  group listed above, the behavior is undefined.</p>
  
  <p><sup>154)</sup> The list of reserved identifiers with external linkage includes <code>errno</code>, <code>math_errhandling</code>, <code>setjmp</code>, and <code>va_end</code>.</p>
</blockquote>

<p>Other restrictions might apply. For example, the POSIX standard reserves a lot of identifiers that are likely to show up in normal code:</p>

<ul>
<li>Names beginning with a capital <code>E</code> followed a digit or uppercase letter:

<ul>
<li>may be used for additional error code names.</li>
</ul></li>
<li>Names that begin with either <code>is</code> or <code>to</code> followed by a lowercase letter

<ul>
<li>may be used for additional character testing and conversion functions.</li>
</ul></li>
<li>Names that begin with <code>LC_</code> followed by an uppercase letter

<ul>
<li>may be used for additional macros specifying locale attributes.</li>
</ul></li>
<li>Names of all existing mathematics functions suffixed with <code>f</code> or <code>l</code> are reserved

<ul>
<li>for corresponding functions that operate on float and long double arguments, respectively.</li>
</ul></li>
<li>Names that begin with <code>SIG</code> followed by an uppercase letter are reserved

<ul>
<li>for additional signal names.</li>
</ul></li>
<li>Names that begin with <code>SIG_</code> followed by an uppercase letter are reserved

<ul>
<li>for additional signal actions.</li>
</ul></li>
<li>Names beginning with <code>str</code>, <code>mem</code>, or <code>wcs</code> followed by a lowercase letter are reserved

<ul>
<li>for additional string and array functions.</li>
</ul></li>
<li>Names beginning with <code>PRI</code> or <code>SCN</code> followed by any lowercase letter or <code>X</code> are reserved

<ul>
<li>for additional format specifier macros</li>
</ul></li>
<li>Names that end with <code>_t</code> are reserved

<ul>
<li>for additional type names.</li>
</ul></li>
</ul>

<p>While using these names for your own purposes right now might not cause a problem, they do raise the possibility of conflict with future versions of that standard.</p>

<hr>

<p>Personally I just don't start identifiers with underscores. New addition to my rule: Don't use double underscores anywhere, which is easy as I rarely use underscore.</p>

<p>After doing research on this article I no longer end my identifiers with <code>_t</code>
as this is reserved by the POSIX standard.</p>

<p>The rule about any identifier ending with <code>_t</code> surprised me a lot. I think that is a POSIX standard (not sure yet) looking for clarification and official chapter and verse. This is from the <a href="http://www.gnu.org/software/libtool/manual/libc/Reserved-Names.html" rel="noreferrer">GNU libtool manual</a>, listing reserved names.</p>

<p>CesarB provided the following link to the <a href="http://www.opengroup.org/onlinepubs/009695399/functions/xsh_chap02_02.html" rel="noreferrer">POSIX 2004</a> reserved symbols and notes 'that many other reserved prefixes and suffixes ... can be found there'.  The
<a href="http://www.opengroup.org/onlinepubs/9699919799/functions/V2_chap02.html" rel="noreferrer">POSIX 2008</a> reserved symbols are defined here.  The restrictions are somewhat more nuanced than those above.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The rules to avoid collision of names are both in the C++ standard (see Stroustrup book) and mentioned by C++ gurus (Sutter, etc.).</p>

<h2>Personal rule</h2>

<p>Because I did not want to deal with cases, and wanted a simple rule, I have designed a <strong>personal</strong> one that is both simple and correct:</p>

<p><b>
When naming a symbol, you will avoid collision with compiler/OS/standard libraries if you:</b></p><b>

</b><ul><b>
<li>never start a symbol with an underscore</li>
</b><li><b>never name a symbol with two consecutive underscores inside.
</b></li>
</ul>

<p>Of course, putting your code in an unique namespace helps to avoid collision, too (but won't protect against evil macros)</p>

<h2>Some examples</h2>

<p>(I use macros because they are the more code-polluting of C/C++ symbols, but it could be anything from variable name to class name)</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _WRONG</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> __WRONG_AGAIN</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> RIGHT_</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> WRONG__WRONG</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> RIGHT_RIGHT</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> RIGHT_x_RIGHT</span>
</code></pre>

<h2>Extracts from C++0x draft</h2>

<p>From the <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2011/n3242.pdf" rel="noreferrer">n3242.pdf</a> file (I expect the final standard text to be similar):</p>

<blockquote>
  <p><b>17.6.3.3.2 Global names [global.names]</b></p>
  
  <p>Certain sets of names and function signatures are always reserved to the implementation:</p>
  
  <p> Each name that contains a double underscore _ _ or begins with an underscore followed by an uppercase letter (2.12) is reserved to the implementation for any use.</p>
  
  <p> Each name that begins with an underscore is reserved to the implementation for use as a name in the global namespace.</p>
</blockquote>

<p>But also:</p>

<blockquote>
  <p><b>17.6.3.3.5 User-defined literal suffixes [usrlit.suffix]</b></p>
  
  <p>Literal suffix identifiers that do not start with an underscore are reserved for future standardization.</p>
</blockquote>

<p>This last clause is confusing, unless you consider that a name starting with one underscore and followed by a lowercase letter would be Ok if <i>not</i> defined in the global namespace...</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>From <a href="http://msdn.microsoft.com/en-us/library/565w213d.aspx" rel="noreferrer">MSDN</a>:</p>

<blockquote>
  <p>Use of two sequential underscore characters ( __ ) at the beginning of an identifier, or a single leading underscore followed by a capital letter, is reserved for C++ implementations in all scopes. You should avoid using one leading underscore followed by a lowercase letter for names with file scope because of possible conflicts with current or future reserved identifiers.</p>
</blockquote>

<p>This means that you can use a single underscore as a member variable prefix, as long as it's followed by a lower-case letter.</p>

<p>This is apparently taken from section 17.4.3.1.2 of the C++ standard, but I can't find an original source for the full standard online.</p>

<p>See also <a href="https://stackoverflow.com/questions/224397/why-do-people-use-double-underscore-so-much-in-c">this question</a>.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>As for the other part of the question, it's common to put the underscore at the <em>end</em> of the variable name to not clash with anything internal.</p>

<p>I do this even inside classes and namespaces because I then only have to remember one rule (compared to "at the end of the name in global scope, and the beginning of the name everywhere else").</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Yes, underscores may be used anywhere in an identifier. I believe the rules are: any of a-z, A-Z, _ in the first character and those +0-9 for the following characters.</p>

<p>Underscore prefixes are common in C code -- a single underscore means "private", and double underscores are usually reserved for use by the compiler.</p>
    </div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;The rules (which did not change in C++11):\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Reserved in any scope, including for use as \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/4297933/c-implementation#4297974\u0026quot;\u0026gt;implementation\u0026lt;/a\u0026gt; macros:\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;identifiers beginning with an underscore followed immediately by an uppercase letter\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;identifiers containing adjacent underscores (or \u0026quot;double underscore\u0026quot;)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Reserved in the global namespace:\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;identifiers beginning with an underscore\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Also, everything in the \u0026lt;code\u0026gt;std\u0026lt;/code\u0026gt; namespace is reserved. (You are allowed to add template specializations, though.) \u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;From the 2003 C++ Standard:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;h3\u0026gt;17.4.3.1.2 Global names [lib.global.names]\u0026lt;/h3\u0026gt;\n  \n  \u0026lt;p\u0026gt;Certain sets of names and function signatures are always reserved to the implementation:\u0026lt;/p\u0026gt;\n  \n  \u0026lt;ul\u0026gt;\n  \u0026lt;li\u0026gt;Each name that contains a double underscore (\u0026lt;code\u0026gt;__\u0026lt;/code\u0026gt;) or begins with an underscore followed by an uppercase letter (2.11) is reserved to the implementation for any use.\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;Each name that begins with an underscore is reserved to the implementation for use as a name in the global namespace.\u0026lt;sup\u0026gt;165\u0026lt;/sup\u0026gt;\u0026lt;/li\u0026gt;\n  \u0026lt;/ul\u0026gt;\n  \n  \u0026lt;p\u0026gt;\u0026lt;sup\u0026gt;165)\u0026lt;/sup\u0026gt; Such names are also reserved in namespace \u0026lt;code\u0026gt;::std\u0026lt;/code\u0026gt; (17.4.3.1). \u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;Because C++ is based on the C standard (1.1/2, C++03) and C99 is a normative reference (1.2/1, C++03) these also apply, from the 1999 C Standard:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;h3\u0026gt;7.1.3 Reserved identifiers\u0026lt;/h3\u0026gt;\n  \n  \u0026lt;p\u0026gt;Each header declares or defines all identifiers listed in its associated subclause, and\n  optionally declares or defines identifiers listed in its associated future library directions subclause and identifiers which are always reserved either for any use or for use as file scope identifiers.\u0026lt;/p\u0026gt;\n  \n  \u0026lt;ul\u0026gt;\n  \u0026lt;li\u0026gt;All identifiers that begin with an underscore and either an uppercase letter or another\n  underscore are always reserved for any use.\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;All identifiers that begin with an underscore are always reserved for use as identifiers\n  with file scope in both the ordinary and tag name spaces.\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;Each macro name in any of the following subclauses (including the future library\n  directions) is reserved for use as specified if any of its associated headers is included;\n  unless explicitly stated otherwise (see 7.1.4).\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;All identifiers with external linkage in any of the following subclauses (including the\n  future library directions) are always reserved for use as identifiers with external\n  linkage.\u0026lt;sup\u0026gt;154\u0026lt;/sup\u0026gt;\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;Each identifier with file scope listed in any of the following subclauses (including the\n  future library directions) is reserved for use as a macro name and as an identifier with\n  file scope in the same name space if any of its associated headers is included.\u0026lt;/li\u0026gt;\n  \u0026lt;/ul\u0026gt;\n  \n  \u0026lt;p\u0026gt;No other identifiers are reserved. If the program declares or defines an identifier in a\n  context in which it is reserved (other than as allowed by 7.1.4), or defines a reserved\n  identifier as a macro name, the behavior is undefined.\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;If the program removes (with \u0026lt;code\u0026gt;#undef\u0026lt;/code\u0026gt;) any macro definition of an identifier in the first\n  group listed above, the behavior is undefined.\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;\u0026lt;sup\u0026gt;154)\u0026lt;/sup\u0026gt; The list of reserved identifiers with external linkage includes \u0026lt;code\u0026gt;errno\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;math_errhandling\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;setjmp\u0026lt;/code\u0026gt;, and \u0026lt;code\u0026gt;va_end\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;Other restrictions might apply. For example, the POSIX standard reserves a lot of identifiers that are likely to show up in normal code:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Names beginning with a capital \u0026lt;code\u0026gt;E\u0026lt;/code\u0026gt; followed a digit or uppercase letter:\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;may be used for additional error code names.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Names that begin with either \u0026lt;code\u0026gt;is\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;to\u0026lt;/code\u0026gt; followed by a lowercase letter\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;may be used for additional character testing and conversion functions.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Names that begin with \u0026lt;code\u0026gt;LC_\u0026lt;/code\u0026gt; followed by an uppercase letter\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;may be used for additional macros specifying locale attributes.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Names of all existing mathematics functions suffixed with \u0026lt;code\u0026gt;f\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;l\u0026lt;/code\u0026gt; are reserved\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;for corresponding functions that operate on float and long double arguments, respectively.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Names that begin with \u0026lt;code\u0026gt;SIG\u0026lt;/code\u0026gt; followed by an uppercase letter are reserved\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;for additional signal names.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Names that begin with \u0026lt;code\u0026gt;SIG_\u0026lt;/code\u0026gt; followed by an uppercase letter are reserved\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;for additional signal actions.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Names beginning with \u0026lt;code\u0026gt;str\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;mem\u0026lt;/code\u0026gt;, or \u0026lt;code\u0026gt;wcs\u0026lt;/code\u0026gt; followed by a lowercase letter are reserved\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;for additional string and array functions.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Names beginning with \u0026lt;code\u0026gt;PRI\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;SCN\u0026lt;/code\u0026gt; followed by any lowercase letter or \u0026lt;code\u0026gt;X\u0026lt;/code\u0026gt; are reserved\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;for additional format specifier macros\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Names that end with \u0026lt;code\u0026gt;_t\u0026lt;/code\u0026gt; are reserved\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;for additional type names.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;While using these names for your own purposes right now might not cause a problem, they do raise the possibility of conflict with future versions of that standard.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;Personally I just don\u0026apos;t start identifiers with underscores. New addition to my rule: Don\u0026apos;t use double underscores anywhere, which is easy as I rarely use underscore.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;After doing research on this article I no longer end my identifiers with \u0026lt;code\u0026gt;_t\u0026lt;/code\u0026gt;\nas this is reserved by the POSIX standard.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The rule about any identifier ending with \u0026lt;code\u0026gt;_t\u0026lt;/code\u0026gt; surprised me a lot. I think that is a POSIX standard (not sure yet) looking for clarification and official chapter and verse. This is from the \u0026lt;a href=\u0026quot;http://www.gnu.org/software/libtool/manual/libc/Reserved-Names.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;GNU libtool manual\u0026lt;/a\u0026gt;, listing reserved names.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;CesarB provided the following link to the \u0026lt;a href=\u0026quot;http://www.opengroup.org/onlinepubs/009695399/functions/xsh_chap02_02.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;POSIX 2004\u0026lt;/a\u0026gt; reserved symbols and notes \u0026apos;that many other reserved prefixes and suffixes ... can be found there\u0026apos;.  The\n\u0026lt;a href=\u0026quot;http://www.opengroup.org/onlinepubs/9699919799/functions/V2_chap02.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;POSIX 2008\u0026lt;/a\u0026gt; reserved symbols are defined here.  The restrictions are somewhat more nuanced than those above.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The rules to avoid collision of names are both in the C++ standard (see Stroustrup book) and mentioned by C++ gurus (Sutter, etc.).\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;Personal rule\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;Because I did not want to deal with cases, and wanted a simple rule, I have designed a \u0026lt;strong\u0026gt;personal\u0026lt;/strong\u0026gt; one that is both simple and correct:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;b\u0026gt;\nWhen naming a symbol, you will avoid collision with compiler/OS/standard libraries if you:\u0026lt;/b\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;b\u0026gt;\n\n\u0026lt;/b\u0026gt;\u0026lt;ul\u0026gt;\u0026lt;b\u0026gt;\n\u0026lt;li\u0026gt;never start a symbol with an underscore\u0026lt;/li\u0026gt;\n\u0026lt;/b\u0026gt;\u0026lt;li\u0026gt;\u0026lt;b\u0026gt;never name a symbol with two consecutive underscores inside.\n\u0026lt;/b\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Of course, putting your code in an unique namespace helps to avoid collision, too (but won\u0026apos;t protect against evil macros)\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;Some examples\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;(I use macros because they are the more code-polluting of C/C++ symbols, but it could be anything from variable name to class name)\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; _WRONG\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; __WRONG_AGAIN\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; RIGHT_\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; WRONG__WRONG\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; RIGHT_RIGHT\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; RIGHT_x_RIGHT\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h2\u0026gt;Extracts from C++0x draft\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;From the \u0026lt;a href=\u0026quot;http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2011/n3242.pdf\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;n3242.pdf\u0026lt;/a\u0026gt; file (I expect the final standard text to be similar):\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;\u0026lt;b\u0026gt;17.6.3.3.2 Global names [global.names]\u0026lt;/b\u0026gt;\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;Certain sets of names and function signatures are always reserved to the implementation:\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt; Each name that contains a double underscore _ _ or begins with an underscore followed by an uppercase letter (2.12) is reserved to the implementation for any use.\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt; Each name that begins with an underscore is reserved to the implementation for use as a name in the global namespace.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;But also:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;\u0026lt;b\u0026gt;17.6.3.3.5 User-defined literal suffixes [usrlit.suffix]\u0026lt;/b\u0026gt;\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;Literal suffix identifiers that do not start with an underscore are reserved for future standardization.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;This last clause is confusing, unless you consider that a name starting with one underscore and followed by a lowercase letter would be Ok if \u0026lt;i\u0026gt;not\u0026lt;/i\u0026gt; defined in the global namespace...\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;From \u0026lt;a href=\u0026quot;http://msdn.microsoft.com/en-us/library/565w213d.aspx\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;MSDN\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Use of two sequential underscore characters ( __ ) at the beginning of an identifier, or a single leading underscore followed by a capital letter, is reserved for C++ implementations in all scopes. You should avoid using one leading underscore followed by a lowercase letter for names with file scope because of possible conflicts with current or future reserved identifiers.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;This means that you can use a single underscore as a member variable prefix, as long as it\u0026apos;s followed by a lower-case letter.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This is apparently taken from section 17.4.3.1.2 of the C++ standard, but I can\u0026apos;t find an original source for the full standard online.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;See also \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/224397/why-do-people-use-double-underscore-so-much-in-c\u0026quot;\u0026gt;this question\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;As for the other part of the question, it\u0026apos;s common to put the underscore at the \u0026lt;em\u0026gt;end\u0026lt;/em\u0026gt; of the variable name to not clash with anything internal.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I do this even inside classes and namespaces because I then only have to remember one rule (compared to \u0026quot;at the end of the name in global scope, and the beginning of the name everywhere else\u0026quot;).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Yes, underscores may be used anywhere in an identifier. I believe the rules are: any of a-z, A-Z, _ in the first character and those +0-9 for the following characters.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Underscore prefixes are common in C code -- a single underscore means \u0026quot;private\u0026quot;, and double underscores are usually reserved for use by the compiler.\u0026lt;/p\u0026gt;\n    "],"id":89,"title":"What are the rules about using an underscore in a C++ identifier?","content":"\n                \n\u0026lt;p\u0026gt;It\u0026apos;s common in C++ to name member variables with some kind of prefix to denote the fact that they\u0026apos;re member variables, rather than local variables or parameters. If you\u0026apos;ve come from an MFC background, you\u0026apos;ll probably use \u0026lt;code\u0026gt;m_foo\u0026lt;/code\u0026gt;. I\u0026apos;ve also seen \u0026lt;code\u0026gt;myFoo\u0026lt;/code\u0026gt; occasionally.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;C# (or possibly just .NET) seems to recommend using just an underscore, as in \u0026lt;code\u0026gt;_foo\u0026lt;/code\u0026gt;. Is this allowed by the C++ standard?\u0026lt;/p\u0026gt;\n    ","slug":"what-are-the-rules-about-using-an-underscore-in-a-c++-identifier-1657384557197","postType":"QUESTION","createdAt":"2022-07-09T16:35:57.000Z","updatedAt":"2022-07-09T16:35:57.000Z","tags":[{"id":324,"name":"naming-conventions","slug":"naming-conventions","createdAt":"2022-07-09T16:35:57.000Z","updatedAt":"2022-07-09T16:35:57.000Z","Questions_Tags":{"questionId":89,"tagId":324}},{"id":325,"name":"standards","slug":"standards","createdAt":"2022-07-09T16:35:57.000Z","updatedAt":"2022-07-09T16:35:57.000Z","Questions_Tags":{"questionId":89,"tagId":325}}]}},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"what-are-the-rules-about-using-an-underscore-in-a-c++-identifier-1657384557197"},"buildId":"B9ZMQqRLGvIP-RcWN9dT2","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>