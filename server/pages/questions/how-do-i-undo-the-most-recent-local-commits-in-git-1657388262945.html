<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/2eccd4d47c856f2b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2eccd4d47c856f2b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-20edbe0b078add93.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/613-1e0aa2b2023820bb.js" defer=""></script><script src="/_next/static/chunks/495-bb1d5b202c02d7f2.js" defer=""></script><script src="/_next/static/chunks/471-84c36aa98dd4107c.js" defer=""></script><script src="/_next/static/chunks/81-096e453de8a27667.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-e3d1b60e109d3ba1.js" defer=""></script><script src="/_next/static/4Y8KGE-c2lolBeBmcum_I/_buildManifest.js" defer=""></script><script src="/_next/static/4Y8KGE-c2lolBeBmcum_I/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.5">.hFcsiD code{padding:5px;color:hsl(210deg 8% 15%);background-color:hsl(210deg 8% 90%);border-radius:3px;}/*!sc*/
data-styled.g5[id="sc-6e32c308-0"]{content:"hFcsiD,"}/*!sc*/
.ljvTUN .comment-item .comment-body .d-inline-flex.ai-center{text-align:right;}/*!sc*/
.ljvTUN .comment-item .comment-body .comment-date{float:right;}/*!sc*/
data-styled.g6[id="sc-6e32c308-1"]{content:"ljvTUN,"}/*!sc*/
</style></head><body><div id="__next"><div class="sc-9099c029-0 cIPEih"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="https://flowbite.com/docs/images/logo.svg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo"/><span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Hunter</span></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-do-i-undo-the-most-recent-local-commits-in-git-1657388262945#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="sc-c5440139-0 figLul question my-5"><div class="sc-6e32c308-0 hFcsiD flex question-header items-center justify-center"><div class="rounded-xl border p-5 shadow-md w-9/12 bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-do-i-undo-the-most-recent-local-commits-in-git-1657388262945">How do I undo the most recent local commits in Git?</a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/undo">undo</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/git-commit">git-commit</a></div></div><div class="question-content mt-5">
                
<p>I accidentally committed the wrong files to <a href="https://en.wikipedia.org/wiki/Git" rel="noreferrer">Git</a>, but didn't push the commit to the server yet. How do I undo those commits from the <em>local</em> repository?</p>
    </div></div></div><div class="sc-6e32c308-1 ljvTUN flex text-xs pl-10 flex-col comment items-center justify-center"><h4 class="text-left mt-10 text-lg font-semibold">Comments</h4><div class="comment-item w-9/12 border-t divide-y-8">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">You know what git needs? <code>git undo</code>, that's it. Then the reputation git has for handling mistakes made by us mere mortals disappears. Implement by pushing the current state on a git stack before executing any <code>git</code> command. It would affect performance, so it would be best to add a config flag as to whether to enable it.</span>
                
              <div class="d-inline-flex ai-center">
&nbsp;<a href="/users/1476792/yimin-rong" title="1,708 reputation" class="comment-user">Yimin Rong</a>
                </div>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="#comment85751313_927358"><span title="2018-03-20 01:45:28Z, License: CC BY-SA 3.0" class="relativetime-clean">Mar 20, 2018 at 1:45</span></a></span>
            </div>
        </div><span class="divide-x-8 "></span><div class="comment-item w-9/12 border-t divide-y-8">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">@YiminRong That can be done with Git's <code>alias</code> feature: <a href="https://git-scm.com/book/en/v2/Git-Basics-Git-Aliases" rel="nofollow noreferrer">git-scm.com/book/en/v2/Git-Basics-Git-Aliases</a></span>
                
              <div class="d-inline-flex ai-center">
&nbsp;<a href="/users/6782707/edric" title="21,740 reputation" class="comment-user">Edric</a>
                </div>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="#comment92266288_927358"><span title="2018-10-05 14:50:08Z, License: CC BY-SA 4.0" class="relativetime-clean">Oct 5, 2018 at 14:50</span></a></span>
            </div>
        </div><span class="divide-x-8 "></span><div class="comment-item w-9/12 border-t divide-y-8">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">For VsCode users , just type ctrl +shift +G and then click on three dot ,ie , more options and then click on undo Last Commit</span>
                
              <div class="d-inline-flex ai-center">
&nbsp;<a href="/users/9717508/ashad" title="343 reputation" class="comment-user">ashad</a>
                </div>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="#comment97845110_927358"><span title="2019-04-08 12:15:40Z, License: CC BY-SA 4.0" class="relativetime-clean">Apr 8, 2019 at 12:15</span></a></span>
            </div>
        </div><span class="divide-x-8 "></span><button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">See more</button></div><div class="sc-6e32c308-2 bFXWFO"><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h1>Undo a commit &amp; redo</h1>
<pre class="lang-sh s-code-block"><code class="hljs language-bash">$ git commit -m <span class="hljs-string">"Something terribly misguided"</span> <span class="hljs-comment"># (0: Your Accident)</span>
$ git reset HEAD~                              <span class="hljs-comment"># (1)</span>
[ edit files as necessary ]                    <span class="hljs-comment"># (2)</span>
$ git add .                                    <span class="hljs-comment"># (3)</span>
$ git commit -c ORIG_HEAD                      <span class="hljs-comment"># (4)</span>
</code></pre>
<ol>
<li><a href="https://git-scm.com/docs/git-reset" rel="noreferrer"><code>git reset</code></a> is the command responsible for the <strong>undo</strong>. It will undo your last commit while <strong>leaving your working tree (the state of your files on disk) untouched.</strong> You'll need to add them again before you can commit them again).</li>
<li>Make corrections to <a href="https://git-scm.com/book/en/v2/Git-Tools-Reset-Demystified#_the_working_directory" rel="noreferrer">working tree</a> files.</li>
<li><a href="https://git-scm.com/docs/git-add" rel="noreferrer"><code>git add</code></a> anything that you want to include in your new commit.</li>
<li>Commit the changes, reusing the old commit message. <code>reset</code> copied the old head to <code>.git/ORIG_HEAD</code>; <a href="https://git-scm.com/docs/git-commit#Documentation/git-commit.txt--cltcommitgt" rel="noreferrer"><code>commit</code> with <code>-c ORIG_HEAD</code></a> will open an editor, which initially contains the log message from the old commit and allows you to edit it. If you do not need to edit the message, you could use the <a href="https://git-scm.com/docs/git-commit#Documentation/git-commit.txt--Cltcommitgt" rel="noreferrer"><code>-C</code></a> option.</li>
</ol>
<p><strong>Alternatively, to edit the previous commit (or just its commit message)</strong>, <a href="https://stackoverflow.com/q/179123/1146608"><code>commit --amend</code></a> will add changes within the current index to the previous commit.</p>
<p><strong>To remove (not revert) a commit that has been pushed to the server</strong>, rewriting history with <code>git push origin main --force[-with-lease]</code> is necessary. <a href="https://stackoverflow.com/q/52823692/4096791">It's <em>almost always</em> a bad idea to use <code>--force</code>; prefer <code>--force-with-lease</code></a> instead, and as noted in <a href="https://git-scm.com/docs" rel="noreferrer">the git manual</a>:</p>
<blockquote>
<p>You should understand the implications of rewriting history if you [rewrite history] has already been published.</p>
</blockquote>
<hr>
<h2>Further Reading</h2>
<p><a href="https://stackoverflow.com/questions/34519665/how-to-move-head-back-to-a-previous-location-detached-head/34519716#34519716">You can use <code>git reflog</code> to determine the SHA-1</a> for the commit to which you wish to revert. Once you have this value, use the sequence of commands as explained above.</p>
<hr>
<p><code>HEAD~</code> is the same as <code>HEAD~1</code>. The article <a href="https://stackoverflow.com/a/46350644/5175709">What is the HEAD in git?</a> is helpful if you want to uncommit multiple commits.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Undoing a commit is a little scary if you don't know how it works.  But it's actually amazingly easy if you do understand. I'll show you the 4 different ways you can undo a commit.</p>
<p>Say you have this, where C is your HEAD and (F) is the state of your files.</p>
<pre><code>   (F)
A-B-C
    
  master
</code></pre>
<h3>Option 1: <code>git reset --hard</code></h3>
<p>You want to <strong>destroy commit C and also throw away any uncommitted changes</strong>.  You do this:</p>
<pre><code>git reset --hard HEAD~1
</code></pre>
<p>The result is:</p>
<pre><code> (F)
A-B
  
master
</code></pre>
<p>Now B is the HEAD.  Because you used <code>--hard</code>, your files are reset to their state at commit B.</p>
<h3>Option 2: <code>git reset</code></h3>
<p>Maybe commit C wasn't a disaster, but just a bit off.  You want to <strong>undo the commit but keep your changes</strong> for a bit of editing before you do a better commit.  Starting again from here, with C as your HEAD:</p>
<pre><code>   (F)
A-B-C
    
  master
</code></pre>
<p>Do this, leaving off the <code>--hard</code>:</p>
<pre><code>git reset HEAD~1
</code></pre>
<p>In this case the result is:</p>
<pre><code>   (F)
A-B-C
  
master
</code></pre>
<p>In both cases, HEAD is just a pointer to the latest commit.  When you do a <code>git reset HEAD~1</code>, you tell Git to move the HEAD pointer back one commit.  But (unless you use <code>--hard</code>) you leave your files as they were.  So now <code>git status</code> shows the changes you had checked into C.  You haven't lost a thing!</p>
<h3>Option 3: <code>git reset --soft</code></h3>
<p>For the lightest touch, you can even <strong>undo your commit but leave your files and your <a href="https://git.wiki.kernel.org/index.php/WhatIsTheIndex" rel="noreferrer">index</a></strong>:</p>
<pre><code>git reset --soft HEAD~1
</code></pre>
<p>This not only leaves your files alone, it even leaves your <em>index</em> alone.  When you do <code>git status</code>, you'll see that the same files are in the index as before.  In fact, right after this command, you could do <code>git commit</code> and you'd be redoing the same commit you just had.</p>
<h3>Option 4: you did <code>git reset --hard</code> and need to get that code back</h3>
<p>One more thing: Suppose you <strong>destroy a commit</strong> as in the first example, <strong>but then discover you needed it after all</strong>?  Tough luck, right?</p>
<p>Nope, there's <em>still</em> a way to get it back.  Type this</p>
<pre><code>git reflog
</code></pre>
<p>and you'll see a list of (partial) commit <a href="https://en.wikipedia.org/wiki/SHA-1#Data_integrity" rel="noreferrer">shas</a> (that is, hashes) that you've moved around in.  Find the commit you destroyed, and do this:</p>
<pre><code>git checkout -b someNewBranchName shaYouDestroyed
</code></pre>
<p>You've now resurrected that commit.  Commits don't actually get destroyed in Git for some 90 days, so you can usually go back and rescue one you didn't mean to get rid of.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>There are two ways to "undo" your last commit, depending on whether or not you have already made your commit public (pushed to your remote repository):</p>
<h2>How to undo a local commit</h2>
<p>Let's say I committed locally, but now I want to remove that commit.</p>
<pre><code>git log
    commit 101: bad commit    # Latest commit. This would be called 'HEAD'.
    commit 100: good commit   # Second to last commit. This is the one we want.
</code></pre>
<p>To restore everything back to the way it was prior to the last commit, we need to <code>reset</code> to the commit before <code>HEAD</code>:</p>
<pre><code>git reset --soft HEAD^     # Use --soft if you want to keep your changes
git reset --hard HEAD^     # Use --hard if you don't care about keeping the changes you made
</code></pre>
<p>Now <code>git log</code> will show that our last commit has been removed.</p>
<h2>How to undo a public commit</h2>
<p>If you have already made your commits public, you will want to create a new commit which will "revert" the changes you made in your previous commit (current HEAD).</p>
<pre><code>git revert HEAD
</code></pre>
<p>Your changes will now be reverted and ready for you to commit:</p>
<pre><code>git commit -m 'restoring the file I removed by accident'
git log
    commit 102: restoring the file I removed by accident
    commit 101: removing a file we don't need
    commit 100: adding a file that we need
</code></pre>
<p>For more information, check out <em><a href="https://git-scm.com/book/en/v2/Git-Basics-Undoing-Things" rel="noreferrer">Git Basics - Undoing Things</a></em>.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Add/remove files to get things the way you want:</p>

<pre><code>git rm classdir
git add sourcedir
</code></pre>

<p>Then amend the commit:</p>

<pre><code>git commit --amend
</code></pre>

<p>The previous, erroneous commit will be edited to reflect the new index state - in other words, it'll be like you never made the mistake in the first place.</p>

<p>Note that you should only do this if you haven't pushed yet. If you have pushed, then you'll just have to commit a fix normally.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-bash s-code-block"><code class="hljs language-bash">git <span class="hljs-built_in">rm</span> yourfiles/*.class
git commit -a -m <span class="hljs-string">"deleted all class files in folder 'yourfiles'"</span>
</code></pre>

<p>or</p>

<pre><code>git reset --hard HEAD~1
</code></pre>

<p><strong>Warning: The above command will permanently remove the modifications to the <code>.java</code> files (and any other files) that you wanted to commit.</strong></p>

<p>The <code>hard reset</code> to <code>HEAD-1</code> will set your working copy to the state of the commit before your wrong commit.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2 id="to-change-the-last-commit-ayg9">To change the last commit</h2>
<p>Replace the files in the index:</p>
<pre><code>git rm --cached *.class
git add *.java
</code></pre>
<p>Then, if it's a private branch, <strong>amend</strong> the commit:</p>
<pre><code>git commit --amend
</code></pre>
<p>Or, if it's a shared branch, make a new commit:</p>
<pre><code>git commit -m 'Replace .class files with .java files'
</code></pre>
<br>
<p><em>(<strong>To change a previous commit</strong>, use the awesome <a href="https://stackoverflow.com/a/28421811/405550">interactive rebase</a>.)</em></p>
<hr>
<p>ProTip: Add <code>*.class</code> to a <a href="https://help.github.com/articles/ignoring-files" rel="noreferrer">gitignore</a> to stop this happening again.</p>
<hr>
<h2 id="to-revert-a-commit-rotb">To revert a commit</h2>
<p>Amending a commit is the ideal solution if you need to change the last commit, but a more general solution is <code>reset</code>.</p>
<p>You can reset Git to any commit with:</p>
<pre><code>git reset @~N
</code></pre>
<p>Where <code>N</code> is the number of commits before <code>HEAD</code>, and <code>@~</code> resets to the previous commit.</p>
<p>Instead of amending the commit, you could use:</p>
<pre><code>git reset @~
git add *.java
git commit -m "Add .java files"
</code></pre>
<p>Check out <code>git help reset</code>, specifically the sections on <code>--soft</code> <code>--mixed</code> and <code>--hard</code>, for a better understanding of what this does.</p>
<h2 id="reflog-hdrm">Reflog</h2>
<p>If you mess up, you can always use the reflog to find dropped commits:</p>
<pre><code>$ git reset @~
$ git reflog
c4f708b HEAD@{0}: reset: moving to @~
2c52489 HEAD@{1}: commit: added some .class files
$ git reset 2c52489
... and you're back where you started
</code></pre>
<br>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Use <code>git revert &lt;commit-id&gt;</code>.</p>

<p>To get the commit ID, just use <code>git log</code>.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you are planning to undo a local commit entirely, whatever you change you did on the commit, and if you don't worry anything about that, just do the following command.</p>
<pre><code>git reset --hard HEAD^1
</code></pre>
<p>(This command will ignore your entire commit and your changes will be lost completely from your local working tree). If you want to undo your commit, but you want your changes in the staging area (before commit just like after <code>git add</code>) then do the following command.</p>
<pre><code>git reset --soft HEAD^1
</code></pre>
<p>Now your committed files come into the staging area. Suppose if you want to upstage the files, because you need to edit some wrong content, then do the following command</p>
<pre><code>git reset HEAD
</code></pre>
<p>Now committed files to come from the staged area into the unstaged area. Now files are ready to edit, so whatever you change, you want to go edit and added it and make a fresh/new commit.</p>
<p><a href="http://madhan-tech-updates.blogspot.in/2013/01/how-to-undo-your-local-git-commit.html" rel="noreferrer">More (link broken)</a> (<a href="https://web.archive.org/web/20170410191943/http://madhan-tech-updates.blogspot.in/2013/01/how-to-undo-your-local-git-commit.html" rel="noreferrer">Archived version</a>)</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you have <a href="https://github.com/visionmedia/git-extras" rel="noreferrer">Git Extras</a> installed, you can run <code>git undo</code> to undo the latest commit. <code>git undo 3</code> will undo the last three commits.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I wanted to undo the latest five commits in our shared repository. I looked up the revision id that I wanted to rollback to. Then I typed in the following.</p>

<pre><code>prompt&gt; git reset --hard 5a7404742c85
HEAD is now at 5a74047 Added one more page to catalogue
prompt&gt; git push origin master --force
Total 0 (delta 0), reused 0 (delta 0)
remote: bb/acl: neoneye is allowed. accepted payload.
To git@bitbucket.org:thecompany/prometheus.git
 + 09a6480...5a74047 master -&gt; master (forced update)
prompt&gt;
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 11</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I prefer to use <code>git rebase -i</code> for this job, because a nice list pops up where I can choose the commits to get rid of. It might not be as direct as some other answers here, but it just <em>feels right</em>.</p>

<p>Choose how many commits you want to list, then invoke like this (to enlist last three)</p>

<pre><code>git rebase -i HEAD~3
</code></pre>

<p>Sample list</p>

<pre><code>pick aa28ba7 Sanity check for RtmpSrv port
pick c26c541 RtmpSrv version option
pick 58d6909 Better URL decoding support
</code></pre>

<p>Then Git will remove commits for any line that you remove.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 12</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>How to fix the previous local commit</h2>

<p>Use git-gui (or similar) to perform a <code>git commit --amend</code>. From the GUI you can add or remove individual files from the commit. You can also modify the commit message. </p>

<h2>How to undo the previous local commit</h2>

<p>Just reset your branch to the previous location (for example, using <code>gitk</code> or <code>git rebase</code>). Then reapply your changes from a saved copy. After garbage collection in your local repository, it will be like the unwanted commit never happened. To do all of that in a single command, use <code>git reset HEAD~1</code>.</p>

<p><strong>Word of warning</strong>: <em>Careless use of <code>git reset</code> is a good way to get your working copy into a confusing state. I recommend that Git novices avoid this if they can.</em></p>

<h2>How to undo a public commit</h2>

<p>Perform a <a href="https://stackoverflow.com/a/1624724/86967">reverse cherry pick</a> (<a href="http://git-scm.com/docs/git-revert.html" rel="noreferrer">git-revert</a>) to undo the changes.</p>

<p>If you haven't yet pulled other changes onto your branch, you can simply do...</p>

<pre><code>git revert --no-edit HEAD
</code></pre>

<p>Then push your updated branch to the shared repository.</p>

<p><em>The commit history will show both commits, separately</em>.</p>

<hr>

<h2>Advanced: Correction of the <em>private</em> branch in public repository</h2>

<h3><em>This can be dangerous -- be sure you have a local copy of the branch to repush.</em></h3>

<p><em>Also note: You don't want to do this if someone else may be working on the branch.</em></p>

<pre><code>git push --delete (branch_name) ## remove public version of branch
</code></pre>

<p>Clean up your branch locally then repush...</p>

<pre><code>git push origin (branch_name)
</code></pre>

<p><em>In the normal case, you probably needn't worry about your private-branch commit history being pristine.  Just push a followup commit (see 'How to undo a public commit' above), and later, do a <a href="https://stackoverflow.com/a/22417539/86967">squash-merge</a> to hide the history.</em></p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 13</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you want to permanently undo it and you have cloned some repository.</p>
<p>The commit id can be seen by:</p>
<pre><code>git log 
</code></pre>
<p>Then you can do like:</p>
<pre><code>git reset --hard &lt;commit_id&gt;

git push origin &lt;branch_name&gt; -f
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 14</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you have committed junk but not pushed,</p>

<pre><code>git reset --soft HEAD~1
</code></pre>

<blockquote>
  <p><strong>HEAD~1</strong> is a shorthand for the commit before head. Alternatively you can refer to the <strong>SHA-1</strong> of the hash if you want to reset to. <em>--soft</em> option will delete the commit but it will leave all your changed files "Changes to be committed", as git status would put it.</p>
  
  <p>If you want to get rid of any changes to tracked files in the working tree since the commit before head use "<strong>--hard</strong>" instead.</p>
</blockquote>

<p>OR</p>

<blockquote>
  <p>If you already pushed and someone pulled which is usually my case, you can't use <em>git reset</em>. You can however do a <em>git revert</em>,</p>
</blockquote>

<pre><code>git revert HEAD
</code></pre>

<blockquote>
  <p>This will create a new commit that reverses everything introduced by the accidental commit.</p>
</blockquote>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 15</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>On <a href="https://www.atlassian.com/software/sourcetree/overview">SourceTree</a> (GUI for GitHub), you may right-click the commit and do a 'Reverse Commit'. This should undo your changes.</p>

<p>On the terminal:</p>

<p>You may alternatively use:</p>

<pre><code>git revert
</code></pre>

<p>Or:</p>

<pre class="lang-bash s-code-block"><code class="hljs language-bash">git reset --soft HEAD^ <span class="hljs-comment"># Use --soft if you want to keep your changes.</span>
git reset --hard HEAD^ <span class="hljs-comment"># Use --hard if you don't care about keeping your changes.</span>
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 16</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>A single command:</p>

<pre class="lang-bash s-code-block"><code class="hljs language-bash">git reset --soft <span class="hljs-string">'HEAD^'</span> 
</code></pre>

<p>It works great to undo the last local commit!</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 17</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Just reset it doing the command below using <code>git</code>:</p>

<pre><code>git reset --soft HEAD~1
</code></pre>

<p><strong>Explain:</strong> what <code>git reset</code> does, it's basically <code>reset</code> to any commit you'd like to go back to, then if you combine it with <code>--soft</code> key, it will go back, but keep the  changes in your file(s), so you get back to the stage which the file was just added, <code>HEAD</code> is the head of the branch and if you combine with <code>~1</code> (in this case you also use <code>HEAD^</code>), it will go back only one commit which what you want...</p>

<p>I create the steps in the image below in more details for you, including all steps that may happens in real situations and committing the code:</p>

<p><a href="https://i.stack.imgur.com/7zrzb.jpg" rel="noreferrer"><img src="https://i.stack.imgur.com/7zrzb.jpg" alt="How to undo the last commits in Git?"></a></p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 18</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>"Reset the working tree to the last commit"</p>
<pre><code>git reset --hard HEAD^ 
</code></pre>
<p>"Clean unknown files from the working tree"</p>
<pre><code>git clean    
</code></pre>
<p>see - <a href="https://web.archive.org/web/20210515091636/http://jonas.nitro.dk/git/quick-reference.html" rel="noreferrer">Git Quick Reference</a></p>
<p>NOTE: <strong>This command will delete your previous commit</strong>, so use with caution! <code>git reset --hard</code> is safer.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 19</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>How to undo the last Git commit?</strong></p>

<p>To restore everything back to the way it was prior to the last commit, we need to reset to the commit before HEAD.</p>

<ol>
<li><p>If you don't want to keep your changes that you made:</p>

<pre><code>git reset --hard HEAD^
</code></pre></li>
<li><p>If you want to keep your changes:</p>

<pre><code>git reset --soft HEAD^
</code></pre></li>
</ol>

<p>Now check your git log. It will show that our last commit has been removed.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 20</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Use reflog to find a correct state</p>

<pre><code>git reflog
</code></pre>

<p><img src="https://i.stack.imgur.com/c7e7D.png" alt="reflog before">
<em>REFLOG BEFORE RESET</em></p>

<p>Select the correct reflog (f3cb6e2 in my case) and type </p>

<pre><code>git reset --hard f3cb6e2
</code></pre>

<p>After that the repo HEAD will be reset to that HEADid
<img src="https://i.stack.imgur.com/GdnDT.png" alt="reset effect">
<em>LOG AFTER RESET</em></p>

<p>Finally the reflog looks like the picture below</p>

<p><img src="https://i.stack.imgur.com/Fhhub.png" alt="reflog after">
<em>REFLOG FINAL</em></p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 21</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>First run: </p>

<pre><code>git reflog
</code></pre>

<p>It will show you all the possible actions you have performed on your repository, for example, commit, merge, pull, etc.</p>

<p>Then do:</p>

<pre><code>git reset --hard ActionIdFromRefLog
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 22</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>Undo last commit:</h2>

<p><code>git reset --soft HEAD^</code> or <code>git reset --soft HEAD~</code></p>

<p>This will undo the last commit.</p>

<p>Here <code>--soft</code> means reset into staging.</p>

<p><code>HEAD~</code> or <code>HEAD^</code> means to move to commit before HEAD.</p>

<hr>

<h2>Replace last commit to new commit:</h2>

<pre><code>git commit --amend -m "message"
</code></pre>

<p>It will replace the last commit with the new commit.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 23</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Another way:</p>

<p>Checkout the branch you want to revert, then reset your local working copy back to the commit that you want to be the latest one on the remote server (everything after it will go bye-bye). To do this, in SourceTree I right-clicked on the and selected "Reset BRANCHNAME to this commit".</p>

<p>Then navigate to your repository's local directory and run this command:</p>

<pre><code>git -c diff.mnemonicprefix=false -c core.quotepath=false push -v -f --tags REPOSITORY_NAME BRANCHNAME:BRANCHNAME
</code></pre>

<p>This will erase all commits after the current one in your local repository but only for that one branch.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 24</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Type <code>git log</code> and find the last commit hash code and then enter:</p>

<pre><code>git reset &lt;the previous co&gt;
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 25</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In my case I accidentally committed some files I did not want to. So I did the following and it worked:</p>

<pre><code>git reset --soft HEAD^
git rm --cached [files you do not need]
git add [files you need]
git commit -c ORIG_HEAD
</code></pre>

<p>Verify the results with gitk or git log --stat</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 26</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Simple, run this in your command line:</p>

<pre><code>git reset --soft HEAD~ 
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 27</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>There are two main scenarios</p>

<p><strong>You haven't pushed the commit yet</strong></p>

<p>If the problem was extra files you commited (and you don't want those on repository), you can remove them using <code>git rm</code> and then commiting with <code>--amend</code></p>

<pre><code>git rm &lt;pathToFile&gt;
</code></pre>

<p>You can also remove entire directories with <code>-r</code>, or even combine with other <a href="http://en.wikipedia.org/wiki/Bash_%28Unix_shell%29">Bash</a> commands</p>

<pre><code>git rm -r &lt;pathToDirectory&gt;
git rm $(find -name '*.class')
</code></pre>

<p>After removing the files, you can commit, with <strong>--amend</strong> option</p>

<pre><code>git commit --amend -C HEAD # the -C option is to use the same commit message
</code></pre>

<p>This will rewrite your recent local commit removing the extra files, so, these files will never be sent on push and also will be removed from your local .git repository by GC.</p>

<p><strong>You already pushed the commit</strong></p>

<p>You can apply the same solution of the other scenario and then doing <code>git push</code> with the <code>-f</code> option, but it is <strong>not recommended</strong> since it overwrites the remote history with a divergent change (it can mess your repository).</p>

<p>Instead, you have to do the commit without <code>--amend</code> (remember this about -amend`: That option rewrites the history on the last commit).</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 28</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h3>For a local commit</h3>

<pre><code>git reset --soft HEAD~1
</code></pre>

<p>or if you do not remember exactly in which commit it is, you might use</p>

<pre><code>git rm --cached &lt;file&gt;
</code></pre>

<h3>For a pushed commit</h3>

<p>The proper way of removing files from the repository history is using <code>git filter-branch</code>. That is,</p>

<pre class="lang-bash s-code-block"><code class="hljs language-bash">git filter-branch --index-filter <span class="hljs-string">'git rm --cached &lt;file&gt;'</span> HEAD
</code></pre>

<p>But I recomnend you use this command with care. Read more at <em><a href="https://www.kernel.org/pub/software/scm/git/docs/git-filter-branch.html">git-filter-branch(1) Manual Page</a></em>.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 29</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>To reset to the previous revision, permanently deleting all uncommitted changes: </p>

<pre><code>git reset --hard HEAD~1
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 30</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>There are many ways to do it:</p>

<p>Git command to undo the last commit/ previous commits:</p>

<p><strong>Warning:</strong> Do Not use --hard if you do not know what you are doing.
--hard is too <strong>dangerous</strong>, and it might <strong>delete your files.</strong></p>

<p><strong>Basic command to revert the commit in Git is:</strong></p>

<pre><code>$ git reset --hard &lt;COMMIT -ID&gt;
</code></pre>

<p>or</p>

<pre><code>$ git reset --hard HEAD~&lt;n&gt;
</code></pre>

<p><strong>COMMIT-ID</strong>: ID for the commit</p>

<p><strong>n:</strong>  is number of last commits you want to revert</p>

<p>You can get the commit id as shown below:</p>

<pre><code>$ **git log --oneline**

d81d3f1 function to subtract two numbers

be20eb8 function to add two numbers

bedgfgg function to mulitply two numbers
</code></pre>

<p>where <strong>d81d3f1</strong> and <strong>be20eb8</strong> are commit id.</p>

<p><strong>Now let's see some cases:</strong></p>

<p><em>Suppose you want to revert the last commit 'd81d3f1'.  Here are two options:</em></p>

<pre><code>$ git reset --hard d81d3f1
</code></pre>

<p>or</p>

<pre><code>$ git reset --hard HEAD~1
</code></pre>

<p><em>Suppose you want to revert the commit 'be20eb8':</em></p>

<pre><code>$ git reset --hard be20eb8
</code></pre>

<p>For more detailed information you can refer and try out some other commands too for resetting head to a specified state:</p>

<pre><code>$ git reset --help
</code></pre>
    </div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;h1\u0026gt;Undo a commit \u0026amp;amp; redo\u0026lt;/h1\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sh s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;$ git commit -m \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Something terribly misguided\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# (0: Your Accident)\u0026lt;/span\u0026gt;\n$ git reset HEAD~                              \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# (1)\u0026lt;/span\u0026gt;\n[ edit files as necessary ]                    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# (2)\u0026lt;/span\u0026gt;\n$ git add .                                    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# (3)\u0026lt;/span\u0026gt;\n$ git commit -c ORIG_HEAD                      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# (4)\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://git-scm.com/docs/git-reset\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;git reset\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; is the command responsible for the \u0026lt;strong\u0026gt;undo\u0026lt;/strong\u0026gt;. It will undo your last commit while \u0026lt;strong\u0026gt;leaving your working tree (the state of your files on disk) untouched.\u0026lt;/strong\u0026gt; You\u0026apos;ll need to add them again before you can commit them again).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Make corrections to \u0026lt;a href=\u0026quot;https://git-scm.com/book/en/v2/Git-Tools-Reset-Demystified#_the_working_directory\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;working tree\u0026lt;/a\u0026gt; files.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://git-scm.com/docs/git-add\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;git add\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; anything that you want to include in your new commit.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Commit the changes, reusing the old commit message. \u0026lt;code\u0026gt;reset\u0026lt;/code\u0026gt; copied the old head to \u0026lt;code\u0026gt;.git/ORIG_HEAD\u0026lt;/code\u0026gt;; \u0026lt;a href=\u0026quot;https://git-scm.com/docs/git-commit#Documentation/git-commit.txt--cltcommitgt\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;commit\u0026lt;/code\u0026gt; with \u0026lt;code\u0026gt;-c ORIG_HEAD\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; will open an editor, which initially contains the log message from the old commit and allows you to edit it. If you do not need to edit the message, you could use the \u0026lt;a href=\u0026quot;https://git-scm.com/docs/git-commit#Documentation/git-commit.txt--Cltcommitgt\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;-C\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; option.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Alternatively, to edit the previous commit (or just its commit message)\u0026lt;/strong\u0026gt;, \u0026lt;a href=\u0026quot;https://stackoverflow.com/q/179123/1146608\u0026quot;\u0026gt;\u0026lt;code\u0026gt;commit --amend\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; will add changes within the current index to the previous commit.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;To remove (not revert) a commit that has been pushed to the server\u0026lt;/strong\u0026gt;, rewriting history with \u0026lt;code\u0026gt;git push origin main --force[-with-lease]\u0026lt;/code\u0026gt; is necessary. \u0026lt;a href=\u0026quot;https://stackoverflow.com/q/52823692/4096791\u0026quot;\u0026gt;It\u0026apos;s \u0026lt;em\u0026gt;almost always\u0026lt;/em\u0026gt; a bad idea to use \u0026lt;code\u0026gt;--force\u0026lt;/code\u0026gt;; prefer \u0026lt;code\u0026gt;--force-with-lease\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; instead, and as noted in \u0026lt;a href=\u0026quot;https://git-scm.com/docs\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;the git manual\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;You should understand the implications of rewriting history if you [rewrite history] has already been published.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;h2\u0026gt;Further Reading\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/34519665/how-to-move-head-back-to-a-previous-location-detached-head/34519716#34519716\u0026quot;\u0026gt;You can use \u0026lt;code\u0026gt;git reflog\u0026lt;/code\u0026gt; to determine the SHA-1\u0026lt;/a\u0026gt; for the commit to which you wish to revert. Once you have this value, use the sequence of commands as explained above.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;HEAD~\u0026lt;/code\u0026gt; is the same as \u0026lt;code\u0026gt;HEAD~1\u0026lt;/code\u0026gt;. The article \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/46350644/5175709\u0026quot;\u0026gt;What is the HEAD in git?\u0026lt;/a\u0026gt; is helpful if you want to uncommit multiple commits.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Undoing a commit is a little scary if you don\u0026apos;t know how it works.  But it\u0026apos;s actually amazingly easy if you do understand. I\u0026apos;ll show you the 4 different ways you can undo a commit.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Say you have this, where C is your HEAD and (F) is the state of your files.\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;   (F)\nA-B-C\n    \n  master\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h3\u0026gt;Option 1: \u0026lt;code\u0026gt;git reset --hard\u0026lt;/code\u0026gt;\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;You want to \u0026lt;strong\u0026gt;destroy commit C and also throw away any uncommitted changes\u0026lt;/strong\u0026gt;.  You do this:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --hard HEAD~1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The result is:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; (F)\nA-B\n  \nmaster\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Now B is the HEAD.  Because you used \u0026lt;code\u0026gt;--hard\u0026lt;/code\u0026gt;, your files are reset to their state at commit B.\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;Option 2: \u0026lt;code\u0026gt;git reset\u0026lt;/code\u0026gt;\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;Maybe commit C wasn\u0026apos;t a disaster, but just a bit off.  You want to \u0026lt;strong\u0026gt;undo the commit but keep your changes\u0026lt;/strong\u0026gt; for a bit of editing before you do a better commit.  Starting again from here, with C as your HEAD:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;   (F)\nA-B-C\n    \n  master\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Do this, leaving off the \u0026lt;code\u0026gt;--hard\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset HEAD~1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;In this case the result is:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;   (F)\nA-B-C\n  \nmaster\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;In both cases, HEAD is just a pointer to the latest commit.  When you do a \u0026lt;code\u0026gt;git reset HEAD~1\u0026lt;/code\u0026gt;, you tell Git to move the HEAD pointer back one commit.  But (unless you use \u0026lt;code\u0026gt;--hard\u0026lt;/code\u0026gt;) you leave your files as they were.  So now \u0026lt;code\u0026gt;git status\u0026lt;/code\u0026gt; shows the changes you had checked into C.  You haven\u0026apos;t lost a thing!\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;Option 3: \u0026lt;code\u0026gt;git reset --soft\u0026lt;/code\u0026gt;\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;For the lightest touch, you can even \u0026lt;strong\u0026gt;undo your commit but leave your files and your \u0026lt;a href=\u0026quot;https://git.wiki.kernel.org/index.php/WhatIsTheIndex\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;index\u0026lt;/a\u0026gt;\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --soft HEAD~1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This not only leaves your files alone, it even leaves your \u0026lt;em\u0026gt;index\u0026lt;/em\u0026gt; alone.  When you do \u0026lt;code\u0026gt;git status\u0026lt;/code\u0026gt;, you\u0026apos;ll see that the same files are in the index as before.  In fact, right after this command, you could do \u0026lt;code\u0026gt;git commit\u0026lt;/code\u0026gt; and you\u0026apos;d be redoing the same commit you just had.\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;Option 4: you did \u0026lt;code\u0026gt;git reset --hard\u0026lt;/code\u0026gt; and need to get that code back\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;One more thing: Suppose you \u0026lt;strong\u0026gt;destroy a commit\u0026lt;/strong\u0026gt; as in the first example, \u0026lt;strong\u0026gt;but then discover you needed it after all\u0026lt;/strong\u0026gt;?  Tough luck, right?\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Nope, there\u0026apos;s \u0026lt;em\u0026gt;still\u0026lt;/em\u0026gt; a way to get it back.  Type this\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reflog\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;and you\u0026apos;ll see a list of (partial) commit \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/SHA-1#Data_integrity\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;shas\u0026lt;/a\u0026gt; (that is, hashes) that you\u0026apos;ve moved around in.  Find the commit you destroyed, and do this:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git checkout -b someNewBranchName shaYouDestroyed\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;You\u0026apos;ve now resurrected that commit.  Commits don\u0026apos;t actually get destroyed in Git for some 90 days, so you can usually go back and rescue one you didn\u0026apos;t mean to get rid of.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;There are two ways to \u0026quot;undo\u0026quot; your last commit, depending on whether or not you have already made your commit public (pushed to your remote repository):\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;How to undo a local commit\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;Let\u0026apos;s say I committed locally, but now I want to remove that commit.\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git log\n    commit 101: bad commit    # Latest commit. This would be called \u0026apos;HEAD\u0026apos;.\n    commit 100: good commit   # Second to last commit. This is the one we want.\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;To restore everything back to the way it was prior to the last commit, we need to \u0026lt;code\u0026gt;reset\u0026lt;/code\u0026gt; to the commit before \u0026lt;code\u0026gt;HEAD\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --soft HEAD^     # Use --soft if you want to keep your changes\ngit reset --hard HEAD^     # Use --hard if you don\u0026apos;t care about keeping the changes you made\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Now \u0026lt;code\u0026gt;git log\u0026lt;/code\u0026gt; will show that our last commit has been removed.\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;How to undo a public commit\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;If you have already made your commits public, you will want to create a new commit which will \u0026quot;revert\u0026quot; the changes you made in your previous commit (current HEAD).\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git revert HEAD\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Your changes will now be reverted and ready for you to commit:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git commit -m \u0026apos;restoring the file I removed by accident\u0026apos;\ngit log\n    commit 102: restoring the file I removed by accident\n    commit 101: removing a file we don\u0026apos;t need\n    commit 100: adding a file that we need\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;For more information, check out \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://git-scm.com/book/en/v2/Git-Basics-Undoing-Things\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Git Basics - Undoing Things\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Add/remove files to get things the way you want:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git rm classdir\ngit add sourcedir\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Then amend the commit:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git commit --amend\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The previous, erroneous commit will be edited to reflect the new index state - in other words, it\u0026apos;ll be like you never made the mistake in the first place.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Note that you should only do this if you haven\u0026apos;t pushed yet. If you have pushed, then you\u0026apos;ll just have to commit a fix normally.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;git \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;rm\u0026lt;/span\u0026gt; yourfiles/*.class\ngit commit -a -m \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;deleted all class files in folder \u0026apos;yourfiles\u0026apos;\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;or\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --hard HEAD~1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Warning: The above command will permanently remove the modifications to the \u0026lt;code\u0026gt;.java\u0026lt;/code\u0026gt; files (and any other files) that you wanted to commit.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The \u0026lt;code\u0026gt;hard reset\u0026lt;/code\u0026gt; to \u0026lt;code\u0026gt;HEAD-1\u0026lt;/code\u0026gt; will set your working copy to the state of the commit before your wrong commit.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h2 id=\u0026quot;to-change-the-last-commit-ayg9\u0026quot;\u0026gt;To change the last commit\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;Replace the files in the index:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git rm --cached *.class\ngit add *.java\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Then, if it\u0026apos;s a private branch, \u0026lt;strong\u0026gt;amend\u0026lt;/strong\u0026gt; the commit:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git commit --amend\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Or, if it\u0026apos;s a shared branch, make a new commit:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git commit -m \u0026apos;Replace .class files with .java files\u0026apos;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;br\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;(\u0026lt;strong\u0026gt;To change a previous commit\u0026lt;/strong\u0026gt;, use the awesome \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/28421811/405550\u0026quot;\u0026gt;interactive rebase\u0026lt;/a\u0026gt;.)\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;ProTip: Add \u0026lt;code\u0026gt;*.class\u0026lt;/code\u0026gt; to a \u0026lt;a href=\u0026quot;https://help.github.com/articles/ignoring-files\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;gitignore\u0026lt;/a\u0026gt; to stop this happening again.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;h2 id=\u0026quot;to-revert-a-commit-rotb\u0026quot;\u0026gt;To revert a commit\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;Amending a commit is the ideal solution if you need to change the last commit, but a more general solution is \u0026lt;code\u0026gt;reset\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You can reset Git to any commit with:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset @~N\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Where \u0026lt;code\u0026gt;N\u0026lt;/code\u0026gt; is the number of commits before \u0026lt;code\u0026gt;HEAD\u0026lt;/code\u0026gt;, and \u0026lt;code\u0026gt;@~\u0026lt;/code\u0026gt; resets to the previous commit.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Instead of amending the commit, you could use:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset @~\ngit add *.java\ngit commit -m \u0026quot;Add .java files\u0026quot;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Check out \u0026lt;code\u0026gt;git help reset\u0026lt;/code\u0026gt;, specifically the sections on \u0026lt;code\u0026gt;--soft\u0026lt;/code\u0026gt; \u0026lt;code\u0026gt;--mixed\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;--hard\u0026lt;/code\u0026gt;, for a better understanding of what this does.\u0026lt;/p\u0026gt;\n\u0026lt;h2 id=\u0026quot;reflog-hdrm\u0026quot;\u0026gt;Reflog\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;If you mess up, you can always use the reflog to find dropped commits:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ git reset @~\n$ git reflog\nc4f708b HEAD@{0}: reset: moving to @~\n2c52489 HEAD@{1}: commit: added some .class files\n$ git reset 2c52489\n... and you\u0026apos;re back where you started\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;br\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Use \u0026lt;code\u0026gt;git revert \u0026amp;lt;commit-id\u0026amp;gt;\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To get the commit ID, just use \u0026lt;code\u0026gt;git log\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you are planning to undo a local commit entirely, whatever you change you did on the commit, and if you don\u0026apos;t worry anything about that, just do the following command.\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --hard HEAD^1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;(This command will ignore your entire commit and your changes will be lost completely from your local working tree). If you want to undo your commit, but you want your changes in the staging area (before commit just like after \u0026lt;code\u0026gt;git add\u0026lt;/code\u0026gt;) then do the following command.\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --soft HEAD^1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Now your committed files come into the staging area. Suppose if you want to upstage the files, because you need to edit some wrong content, then do the following command\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset HEAD\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Now committed files to come from the staged area into the unstaged area. Now files are ready to edit, so whatever you change, you want to go edit and added it and make a fresh/new commit.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://madhan-tech-updates.blogspot.in/2013/01/how-to-undo-your-local-git-commit.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;More (link broken)\u0026lt;/a\u0026gt; (\u0026lt;a href=\u0026quot;https://web.archive.org/web/20170410191943/http://madhan-tech-updates.blogspot.in/2013/01/how-to-undo-your-local-git-commit.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Archived version\u0026lt;/a\u0026gt;)\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you have \u0026lt;a href=\u0026quot;https://github.com/visionmedia/git-extras\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Git Extras\u0026lt;/a\u0026gt; installed, you can run \u0026lt;code\u0026gt;git undo\u0026lt;/code\u0026gt; to undo the latest commit. \u0026lt;code\u0026gt;git undo 3\u0026lt;/code\u0026gt; will undo the last three commits.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I wanted to undo the latest five commits in our shared repository. I looked up the revision id that I wanted to rollback to. Then I typed in the following.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;prompt\u0026amp;gt; git reset --hard 5a7404742c85\nHEAD is now at 5a74047 Added one more page to catalogue\nprompt\u0026amp;gt; git push origin master --force\nTotal 0 (delta 0), reused 0 (delta 0)\nremote: bb/acl: neoneye is allowed. accepted payload.\nTo git@bitbucket.org:thecompany/prometheus.git\n + 09a6480...5a74047 master -\u0026amp;gt; master (forced update)\nprompt\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I prefer to use \u0026lt;code\u0026gt;git rebase -i\u0026lt;/code\u0026gt; for this job, because a nice list pops up where I can choose the commits to get rid of. It might not be as direct as some other answers here, but it just \u0026lt;em\u0026gt;feels right\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Choose how many commits you want to list, then invoke like this (to enlist last three)\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git rebase -i HEAD~3\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Sample list\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;pick aa28ba7 Sanity check for RtmpSrv port\npick c26c541 RtmpSrv version option\npick 58d6909 Better URL decoding support\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Then Git will remove commits for any line that you remove.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;How to fix the previous local commit\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;Use git-gui (or similar) to perform a \u0026lt;code\u0026gt;git commit --amend\u0026lt;/code\u0026gt;. From the GUI you can add or remove individual files from the commit. You can also modify the commit message. \u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;How to undo the previous local commit\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;Just reset your branch to the previous location (for example, using \u0026lt;code\u0026gt;gitk\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;git rebase\u0026lt;/code\u0026gt;). Then reapply your changes from a saved copy. After garbage collection in your local repository, it will be like the unwanted commit never happened. To do all of that in a single command, use \u0026lt;code\u0026gt;git reset HEAD~1\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Word of warning\u0026lt;/strong\u0026gt;: \u0026lt;em\u0026gt;Careless use of \u0026lt;code\u0026gt;git reset\u0026lt;/code\u0026gt; is a good way to get your working copy into a confusing state. I recommend that Git novices avoid this if they can.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;How to undo a public commit\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;Perform a \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/1624724/86967\u0026quot;\u0026gt;reverse cherry pick\u0026lt;/a\u0026gt; (\u0026lt;a href=\u0026quot;http://git-scm.com/docs/git-revert.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;git-revert\u0026lt;/a\u0026gt;) to undo the changes.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you haven\u0026apos;t yet pulled other changes onto your branch, you can simply do...\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git revert --no-edit HEAD\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Then push your updated branch to the shared repository.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;The commit history will show both commits, separately\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;h2\u0026gt;Advanced: Correction of the \u0026lt;em\u0026gt;private\u0026lt;/em\u0026gt; branch in public repository\u0026lt;/h2\u0026gt;\n\n\u0026lt;h3\u0026gt;\u0026lt;em\u0026gt;This can be dangerous -- be sure you have a local copy of the branch to repush.\u0026lt;/em\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Also note: You don\u0026apos;t want to do this if someone else may be working on the branch.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git push --delete (branch_name) ## remove public version of branch\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Clean up your branch locally then repush...\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git push origin (branch_name)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;In the normal case, you probably needn\u0026apos;t worry about your private-branch commit history being pristine.  Just push a followup commit (see \u0026apos;How to undo a public commit\u0026apos; above), and later, do a \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/22417539/86967\u0026quot;\u0026gt;squash-merge\u0026lt;/a\u0026gt; to hide the history.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you want to permanently undo it and you have cloned some repository.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The commit id can be seen by:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git log \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Then you can do like:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --hard \u0026amp;lt;commit_id\u0026amp;gt;\n\ngit push origin \u0026amp;lt;branch_name\u0026amp;gt; -f\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you have committed junk but not pushed,\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --soft HEAD~1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;HEAD~1\u0026lt;/strong\u0026gt; is a shorthand for the commit before head. Alternatively you can refer to the \u0026lt;strong\u0026gt;SHA-1\u0026lt;/strong\u0026gt; of the hash if you want to reset to. \u0026lt;em\u0026gt;--soft\u0026lt;/em\u0026gt; option will delete the commit but it will leave all your changed files \u0026quot;Changes to be committed\u0026quot;, as git status would put it.\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;If you want to get rid of any changes to tracked files in the working tree since the commit before head use \u0026quot;\u0026lt;strong\u0026gt;--hard\u0026lt;/strong\u0026gt;\u0026quot; instead.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;OR\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;If you already pushed and someone pulled which is usually my case, you can\u0026apos;t use \u0026lt;em\u0026gt;git reset\u0026lt;/em\u0026gt;. You can however do a \u0026lt;em\u0026gt;git revert\u0026lt;/em\u0026gt;,\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git revert HEAD\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;This will create a new commit that reverses everything introduced by the accidental commit.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n    ","\n\u0026lt;p\u0026gt;On \u0026lt;a href=\u0026quot;https://www.atlassian.com/software/sourcetree/overview\u0026quot;\u0026gt;SourceTree\u0026lt;/a\u0026gt; (GUI for GitHub), you may right-click the commit and do a \u0026apos;Reverse Commit\u0026apos;. This should undo your changes.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;On the terminal:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You may alternatively use:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git revert\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Or:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;git reset --soft HEAD^ \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Use --soft if you want to keep your changes.\u0026lt;/span\u0026gt;\ngit reset --hard HEAD^ \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Use --hard if you don\u0026apos;t care about keeping your changes.\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;A single command:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;git reset --soft \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;HEAD^\u0026apos;\u0026lt;/span\u0026gt; \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;It works great to undo the last local commit!\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Just reset it doing the command below using \u0026lt;code\u0026gt;git\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --soft HEAD~1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Explain:\u0026lt;/strong\u0026gt; what \u0026lt;code\u0026gt;git reset\u0026lt;/code\u0026gt; does, it\u0026apos;s basically \u0026lt;code\u0026gt;reset\u0026lt;/code\u0026gt; to any commit you\u0026apos;d like to go back to, then if you combine it with \u0026lt;code\u0026gt;--soft\u0026lt;/code\u0026gt; key, it will go back, but keep the  changes in your file(s), so you get back to the stage which the file was just added, \u0026lt;code\u0026gt;HEAD\u0026lt;/code\u0026gt; is the head of the branch and if you combine with \u0026lt;code\u0026gt;~1\u0026lt;/code\u0026gt; (in this case you also use \u0026lt;code\u0026gt;HEAD^\u0026lt;/code\u0026gt;), it will go back only one commit which what you want...\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I create the steps in the image below in more details for you, including all steps that may happens in real situations and committing the code:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/7zrzb.jpg\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/7zrzb.jpg\u0026quot; alt=\u0026quot;How to undo the last commits in Git?\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026quot;Reset the working tree to the last commit\u0026quot;\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --hard HEAD^ \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026quot;Clean unknown files from the working tree\u0026quot;\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git clean    \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;see - \u0026lt;a href=\u0026quot;https://web.archive.org/web/20210515091636/http://jonas.nitro.dk/git/quick-reference.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Git Quick Reference\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;NOTE: \u0026lt;strong\u0026gt;This command will delete your previous commit\u0026lt;/strong\u0026gt;, so use with caution! \u0026lt;code\u0026gt;git reset --hard\u0026lt;/code\u0026gt; is safer.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;How to undo the last Git commit?\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To restore everything back to the way it was prior to the last commit, we need to reset to the commit before HEAD.\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;If you don\u0026apos;t want to keep your changes that you made:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --hard HEAD^\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;If you want to keep your changes:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --soft HEAD^\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;Now check your git log. It will show that our last commit has been removed.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Use reflog to find a correct state\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reflog\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/c7e7D.png\u0026quot; alt=\u0026quot;reflog before\u0026quot;\u0026gt;\n\u0026lt;em\u0026gt;REFLOG BEFORE RESET\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Select the correct reflog (f3cb6e2 in my case) and type \u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --hard f3cb6e2\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;After that the repo HEAD will be reset to that HEADid\n\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/GdnDT.png\u0026quot; alt=\u0026quot;reset effect\u0026quot;\u0026gt;\n\u0026lt;em\u0026gt;LOG AFTER RESET\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Finally the reflog looks like the picture below\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/Fhhub.png\u0026quot; alt=\u0026quot;reflog after\u0026quot;\u0026gt;\n\u0026lt;em\u0026gt;REFLOG FINAL\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;First run: \u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reflog\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;It will show you all the possible actions you have performed on your repository, for example, commit, merge, pull, etc.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Then do:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --hard ActionIdFromRefLog\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;Undo last commit:\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;git reset --soft HEAD^\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;git reset --soft HEAD~\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This will undo the last commit.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Here \u0026lt;code\u0026gt;--soft\u0026lt;/code\u0026gt; means reset into staging.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;HEAD~\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;HEAD^\u0026lt;/code\u0026gt; means to move to commit before HEAD.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;h2\u0026gt;Replace last commit to new commit:\u0026lt;/h2\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git commit --amend -m \u0026quot;message\u0026quot;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;It will replace the last commit with the new commit.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Another way:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Checkout the branch you want to revert, then reset your local working copy back to the commit that you want to be the latest one on the remote server (everything after it will go bye-bye). To do this, in SourceTree I right-clicked on the and selected \u0026quot;Reset BRANCHNAME to this commit\u0026quot;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Then navigate to your repository\u0026apos;s local directory and run this command:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git -c diff.mnemonicprefix=false -c core.quotepath=false push -v -f --tags REPOSITORY_NAME BRANCHNAME:BRANCHNAME\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This will erase all commits after the current one in your local repository but only for that one branch.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Type \u0026lt;code\u0026gt;git log\u0026lt;/code\u0026gt; and find the last commit hash code and then enter:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset \u0026amp;lt;the previous co\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In my case I accidentally committed some files I did not want to. So I did the following and it worked:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --soft HEAD^\ngit rm --cached [files you do not need]\ngit add [files you need]\ngit commit -c ORIG_HEAD\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Verify the results with gitk or git log --stat\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Simple, run this in your command line:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --soft HEAD~ \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;There are two main scenarios\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;You haven\u0026apos;t pushed the commit yet\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If the problem was extra files you commited (and you don\u0026apos;t want those on repository), you can remove them using \u0026lt;code\u0026gt;git rm\u0026lt;/code\u0026gt; and then commiting with \u0026lt;code\u0026gt;--amend\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git rm \u0026amp;lt;pathToFile\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You can also remove entire directories with \u0026lt;code\u0026gt;-r\u0026lt;/code\u0026gt;, or even combine with other \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Bash_%28Unix_shell%29\u0026quot;\u0026gt;Bash\u0026lt;/a\u0026gt; commands\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git rm -r \u0026amp;lt;pathToDirectory\u0026amp;gt;\ngit rm $(find -name \u0026apos;*.class\u0026apos;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;After removing the files, you can commit, with \u0026lt;strong\u0026gt;--amend\u0026lt;/strong\u0026gt; option\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git commit --amend -C HEAD # the -C option is to use the same commit message\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This will rewrite your recent local commit removing the extra files, so, these files will never be sent on push and also will be removed from your local .git repository by GC.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;You already pushed the commit\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You can apply the same solution of the other scenario and then doing \u0026lt;code\u0026gt;git push\u0026lt;/code\u0026gt; with the \u0026lt;code\u0026gt;-f\u0026lt;/code\u0026gt; option, but it is \u0026lt;strong\u0026gt;not recommended\u0026lt;/strong\u0026gt; since it overwrites the remote history with a divergent change (it can mess your repository).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Instead, you have to do the commit without \u0026lt;code\u0026gt;--amend\u0026lt;/code\u0026gt; (remember this about -amend`: That option rewrites the history on the last commit).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h3\u0026gt;For a local commit\u0026lt;/h3\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --soft HEAD~1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;or if you do not remember exactly in which commit it is, you might use\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git rm --cached \u0026amp;lt;file\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h3\u0026gt;For a pushed commit\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;The proper way of removing files from the repository history is using \u0026lt;code\u0026gt;git filter-branch\u0026lt;/code\u0026gt;. That is,\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;git filter-branch --index-filter \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;git rm --cached \u0026amp;lt;file\u0026amp;gt;\u0026apos;\u0026lt;/span\u0026gt; HEAD\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;But I recomnend you use this command with care. Read more at \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://www.kernel.org/pub/software/scm/git/docs/git-filter-branch.html\u0026quot;\u0026gt;git-filter-branch(1) Manual Page\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;To reset to the previous revision, permanently deleting all uncommitted changes: \u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git reset --hard HEAD~1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;There are many ways to do it:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Git command to undo the last commit/ previous commits:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Warning:\u0026lt;/strong\u0026gt; Do Not use --hard if you do not know what you are doing.\n--hard is too \u0026lt;strong\u0026gt;dangerous\u0026lt;/strong\u0026gt;, and it might \u0026lt;strong\u0026gt;delete your files.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Basic command to revert the commit in Git is:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ git reset --hard \u0026amp;lt;COMMIT -ID\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;or\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ git reset --hard HEAD~\u0026amp;lt;n\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;COMMIT-ID\u0026lt;/strong\u0026gt;: ID for the commit\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;n:\u0026lt;/strong\u0026gt;  is number of last commits you want to revert\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You can get the commit id as shown below:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ **git log --oneline**\n\nd81d3f1 function to subtract two numbers\n\nbe20eb8 function to add two numbers\n\nbedgfgg function to mulitply two numbers\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;where \u0026lt;strong\u0026gt;d81d3f1\u0026lt;/strong\u0026gt; and \u0026lt;strong\u0026gt;be20eb8\u0026lt;/strong\u0026gt; are commit id.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Now let\u0026apos;s see some cases:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Suppose you want to revert the last commit \u0026apos;d81d3f1\u0026apos;.  Here are two options:\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ git reset --hard d81d3f1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;or\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ git reset --hard HEAD~1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Suppose you want to revert the commit \u0026apos;be20eb8\u0026apos;:\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ git reset --hard be20eb8\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;For more detailed information you can refer and try out some other commands too for resetting head to a specified state:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;$ git reset --help\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"comment":["\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;You know what git needs? \u0026lt;code\u0026gt;git undo\u0026lt;/code\u0026gt;, that\u0026apos;s it. Then the reputation git has for handling mistakes made by us mere mortals disappears. Implement by pushing the current state on a git stack before executing any \u0026lt;code\u0026gt;git\u0026lt;/code\u0026gt; command. It would affect performance, so it would be best to add a config flag as to whether to enable it.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1476792/yimin-rong\u0026quot; title=\u0026quot;1,708 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Yimin Rong\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment85751313_927358\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-03-20 01:45:28Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Mar 20, 2018 at 1:45\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@YiminRong That can be done with Git\u0026apos;s \u0026lt;code\u0026gt;alias\u0026lt;/code\u0026gt; feature: \u0026lt;a href=\u0026quot;https://git-scm.com/book/en/v2/Git-Basics-Git-Aliases\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;git-scm.com/book/en/v2/Git-Basics-Git-Aliases\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/6782707/edric\u0026quot; title=\u0026quot;21,740 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Edric\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment92266288_927358\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-10-05 14:50:08Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 5, 2018 at 14:50\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;For VsCode users , just type ctrl +shift +G and then click on three dot ,ie , more options and then click on undo Last Commit\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/9717508/ashad\u0026quot; title=\u0026quot;343 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;ashad\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment97845110_927358\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2019-04-08 12:15:40Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Apr 8, 2019 at 12:15\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@YiminRong Undo \u0026lt;i\u0026gt;what\u0026lt;/i\u0026gt; exactly? There are dozens of very different functional cases where \u0026quot;undoing\u0026quot; means something \u0026lt;b\u0026gt;completely\u0026lt;/b\u0026gt; different. I\u0026apos;d bet adding a new fancy \u0026quot;magic wand\u0026quot; would only confuse things more.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1057485/romain-valeri\u0026quot; title=\u0026quot;17,398 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Romain Valeri\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment107629225_927358\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-03-24 14:27:03Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Mar 24, 2020 at 14:27\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 2 times\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@YiminRong Not buying it. People would still fumble and undo things not to be undone. But more importantly, \u0026lt;code\u0026gt;git reflog\u0026lt;/code\u0026gt; is already close to what you describe, but gives the user more control on what\u0026apos;s to be (un)done. But please, no, \u0026quot;undo\u0026quot; does not work the same everywhere, and people would \u0026lt;i\u0026gt;expect\u0026lt;/i\u0026gt; many different things for the feature to achieve. Undo last commit? Undo last action? If last action was a push, undo how exactly, (reset and push) or (revert and push)?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1057485/romain-valeri\u0026quot; title=\u0026quot;17,398 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Romain Valeri\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment107658442_927358\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-03-25 13:23:33Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Mar 25, 2020 at 13:23\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;And if the commit was to the wrong branch, you may \u0026lt;code\u0026gt;git checkout theRightBranch\u0026lt;/code\u0026gt; with all the changes stages. As I just had to do.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/10259/frank-shearar\u0026quot; title=\u0026quot;16,839 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Frank Shearar\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment4110794_927386\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2010-10-05 15:44:20Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 5, 2010 at 15:44\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;If you\u0026apos;re working in DOS, instead of \u0026lt;code\u0026gt;git reset --soft HEAD^\u0026lt;/code\u0026gt; you\u0026apos;ll need to use \u0026lt;code\u0026gt;git reset --soft HEAD~1\u0026lt;/code\u0026gt;.  The ^ is a continuation character in DOS so it won\u0026apos;t work properly.  Also, \u0026lt;code\u0026gt;--soft\u0026lt;/code\u0026gt; is the default, so you can omit it if you like and just say \u0026lt;code\u0026gt;git reset HEAD~1\u0026lt;/code\u0026gt;.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/5486/ryan-lundy\u0026quot; title=\u0026quot;196,822 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Ryan Lundy\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment6443962_927386\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2011-04-13 14:15:10Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Apr 13, 2011 at 14:15\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;zsh users might get: \u0026lt;code\u0026gt;zsh: no matches found: HEAD^\u0026lt;/code\u0026gt; - you need to escape ^ i.e. \u0026lt;code\u0026gt;git reset --soft HEAD\\^\u0026lt;/code\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/166128/tnajdek\u0026quot; title=\u0026quot;542 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;tnajdek\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment21084878_927386\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-02-21 17:47:56Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Feb 21, 2013 at 17:47\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 3 times\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;The answer is not correct if, say by accident, \u0026lt;code\u0026gt;git commit -a\u0026lt;/code\u0026gt; was issued when the \u0026lt;code\u0026gt;-a\u0026lt;/code\u0026gt; should have been left out.  In which case, it\u0026apos;s better no leave out the \u0026lt;code\u0026gt;--soft\u0026lt;/code\u0026gt; (which will result in \u0026lt;code\u0026gt;--mixed\u0026lt;/code\u0026gt; which is the default) and then you can restage the changes you meant to commit.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1028259/dmansfield\u0026quot; title=\u0026quot;1,058 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;dmansfield\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment38004724_927386\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2014-07-02 21:19:30Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 2, 2014 at 21:19\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I\u0026apos;ve googled \u0026amp;amp; hit this page about 50 times, and I always chuckle at the first line of code \u0026lt;code\u0026gt;git commit -m \u0026quot;Something terribly misguided\u0026quot;\u0026lt;/code\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/5163194/100pic\u0026quot; title=\u0026quot;377 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;100pic\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment101627173_927386\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2019-08-21 04:25:55Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Aug 21, 2019 at 4:25\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;BEWARE! This might not do what you expect if your erroneous commit was a (fast-forward) merge! If your head is on a merge commit (ex: merged branch feature into master), \u0026lt;code\u0026gt;git reset --hard~1\u0026lt;/code\u0026gt; will point the master branch to the last commit inside the feature branch. In this case the specific commit ID should be used instead of the relative command.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/655582/chris-kerekes\u0026quot; title=\u0026quot;1,118 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Chris Kerekes\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment21048262_6866485\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-02-20 18:46:35Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Feb 20, 2013 at 18:46\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Consider noting that the number in \u0026lt;code\u0026gt;HEAD~1\u0026lt;/code\u0026gt; can be substituted to any positive integer, e.g. \u0026lt;code\u0026gt;HEAD~3\u0026lt;/code\u0026gt;. It may seem obvious, but beginners (like me) are very careful when running git commands, so they may not want to risk messing something up by testing this stuff themselves.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/425275/%c5%a0ime-vidas\u0026quot; title=\u0026quot;174,638 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Šime Vidas\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment26693726_6866485\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-08-13 14:37:26Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Aug 13, 2013 at 14:37\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Missing a crucial point: If the said commit was previously \u0026apos;pushed\u0026apos; to the remote, any \u0026apos;undo\u0026apos; operation, no matter how simple, will cause enormous pain and suffering to the rest of the users who have this commit in their local copy, when they do a \u0026apos;git pull\u0026apos; in the future.  So, if the commit was already \u0026apos;pushed\u0026apos;, do this instead:      git revert \u0026amp;lt;bad-commit-sha1-id\u0026amp;gt;     git push origin :\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/175169/fractalspace\u0026quot; title=\u0026quot;5,223 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;FractalSpace\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment29556901_6866485\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-11-08 23:43:18Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Nov 8, 2013 at 23:43\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@FractalSpace, it won\u0026apos;t cause \u0026quot;enormous pain and suffering.\u0026quot;  I\u0026apos;ve done a few force pushes when using Git with a team.  All it takes is communication.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/5486/ryan-lundy\u0026quot; title=\u0026quot;196,822 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Ryan Lundy\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment29557201_6866485\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-11-09 00:00:10Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Nov 9, 2013 at 0:00\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@Kyralessa In my workplace, messing up entire team\u0026apos;s workflow and then telling them how to fix sh*t is not called \u0026apos;communication\u0026apos;. git history re-write is a destructive operation that results in trashing of parts of the repo. Insisting on its use, while clear and safe alternatives are available is simply irresponsible.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/175169/fractalspace\u0026quot; title=\u0026quot;5,223 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;FractalSpace\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment29559369_6866485\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-11-09 03:02:51Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Nov 9, 2013 at 3:02\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I found this answer the clearest. \u0026lt;code\u0026gt;git revert HEAD^\u0026lt;/code\u0026gt; is not the previous, is the previous of the previous. I did : \u0026lt;code\u0026gt;git revert HEAD\u0026lt;/code\u0026gt; and then push again and it worked :)\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/149008/nacho4d\u0026quot; title=\u0026quot;41,775 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;nacho4d\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment7916341_6376039\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2011-07-14 08:32:53Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 14, 2011 at 8:32\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 2 times\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;If Git asks you \u0026quot;More?\u0026quot; when you try these commands, use the alternate syntax on this answer: \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/14204318/823470\u0026quot;\u0026gt;stackoverflow.com/a/14204318/823470\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/823470/tar\u0026quot; title=\u0026quot;1,511 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;tar\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment107119451_6376039\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-03-05 15:50:09Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Mar 5, 2020 at 15:50\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;\u0026lt;code\u0026gt;revert\u0026lt;/code\u0026gt; deleted some files I add added to my repo. Use it with caution!\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/7389293/carloswm85\u0026quot; title=\u0026quot;752 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;carloswm85\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment121246002_6376039\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2021-07-31 22:25:00Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 31, 2021 at 22:25\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;whats the difference between git reset --soft HEAD~1 and reset --soft HEAD^?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/4312720/jorge-tovar\u0026quot; title=\u0026quot;457 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Jorge Tovar\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment124518958_6376039\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2021-12-21 20:23:41Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Dec 21, 2021 at 20:23\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Maybe I just didn\u0026apos;t see it, but the last \u0026lt;a href=\u0026quot;https://git-scm.com/book/en/v2/Git-Basics-Undoing-Things\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;link\u0026lt;/a\u0026gt; you provided doesn\u0026apos;t seem to cover this specific question. (I know you said it was additional information, I\u0026apos;m just wondering whether I missed something.)\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/16751401/nerdontour\u0026quot; title=\u0026quot;428 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;NerdOnTour\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment124974088_6376039\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2022-01-13 09:01:53Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jan 13 at 9:01\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 2 times\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;FYI: This removes all my files and I lost changes.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/3031010/egorlitvinenko\u0026quot; title=\u0026quot;2,706 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;egorlitvinenko\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment109339551_927397\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-05-15 10:03:11Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;May 15, 2020 at 10:03\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;UPD: However, I\u0026apos;ve restored it using reflog. But the receipt did not work for the initial commit.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/3031010/egorlitvinenko\u0026quot; title=\u0026quot;2,706 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;egorlitvinenko\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment109341955_927397\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-05-15 11:25:56Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;May 15, 2020 at 11:25\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Use \u0026lt;code\u0026gt;git rm --cached\u0026lt;/code\u0026gt; to keep the files in the filesystem and only delete them from the git index!\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/4288004/xuiqzy\u0026quot; title=\u0026quot;168 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;xuiqzy\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment109462491_927397\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-05-19 10:00:55Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;May 19, 2020 at 10:00\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;\u0026quot; git --amend --no-edit \u0026quot; will commit your last changes to the commit before them.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/4444742/alex\u0026quot; title=\u0026quot;415 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;alex\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment126598732_927397\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2022-03-26 22:22:20Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Mar 26 at 22:22\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;\u0026lt;code\u0026gt;git commit -a -m \u0026quot;\u0026quot;\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;git commit -am \u0026quot;\u0026quot;\u0026lt;/code\u0026gt; naturally! :]\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1469208/trejder\u0026quot; title=\u0026quot;16,588 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;trejder\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment37635032_927378\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2014-06-21 16:31:59Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jun 21, 2014 at 16:31\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Another \u0026apos;shortcut\u0026apos; use of stash; if you want to unstage everything (undo git add), just \u0026lt;code\u0026gt;git stash\u0026lt;/code\u0026gt;, then \u0026lt;code\u0026gt;git stash pop\u0026lt;/code\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/2555263/seanriordan08\u0026quot; title=\u0026quot;296 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;seanriordan08\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment56081980_927378\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2015-12-08 22:30:29Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Dec 8, 2015 at 22:30\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Gosh... this answer should be deleted. \u0026lt;code\u0026gt;git reset --hard HEAD-1\u0026lt;/code\u0026gt; is incredibly dangerous - it\u0026apos;s not just \u0026quot;undoing the commit\u0026quot;, it also delete all of your changes, which is not what OP asked for. I unfortunately applied this answer (which StackOverflow for no reason shows first than the accepted one with 26k upvotes), and now will struggle to recover all of my changes.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1654526/jack\u0026quot; title=\u0026quot;1,401 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Jack\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment128127149_927378\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2022-06-07 13:19:25Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jun 7 at 13:19\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;For those reading in future - please note that \u0026lt;code\u0026gt;git revert\u0026lt;/code\u0026gt; is a separate command - which basically \u0026apos;resets\u0026apos; a single commimt.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/4880924/benkoshy\u0026quot; title=\u0026quot;30,143 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;BenKoshy\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment90441122_3377569\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-08-08 07:11:00Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Aug 8, 2018 at 7:11\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;What does that mean, cherry pick the commit? In my case, I was on the wrong branch when I edited a file. I committed it then realized I was in the wrong branch. Using \u0026quot;git reset --soft HEAD~1\u0026quot; got me back to just before the commit, but now if I checkout the correct branch, how do I undo the changes to the file in wrong branch but instead make them (in the same named file) in the correct branch?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/943022/astronomerdave\u0026quot; title=\u0026quot;500 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;astronomerdave\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment44262353_10757800\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2015-01-13 22:05:57Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jan 13, 2015 at 22:05\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I just utilized \u0026lt;code\u0026gt;git revert commit-id\u0026lt;/code\u0026gt; worked like a charm.  Of course then you will need to push your changes.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/3502119/casey-robinson\u0026quot; title=\u0026quot;3,249 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Casey Robinson\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment57732857_10757800\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2016-01-25 21:07:16Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jan 25, 2016 at 21:07\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I believe that would be \u0026lt;code\u0026gt;git cherry-pick \u0026amp;lt;\u0026amp;lt;erroneous-commit-sha\u0026amp;gt;\u0026amp;gt;\u0026lt;/code\u0026gt; @astronomerdave. From, Mr. Almost-2-Years-Late-to-the-Party.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1803879/tom-howard\u0026quot; title=\u0026quot;4,214 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Tom Howard\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment67592334_10757800\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2016-10-20 18:19:50Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 20, 2016 at 18:19\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@Kris: Instead of cherry-pick use rebase. Because it is advanced cherry-picking\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/4632019/eugen-konkov\u0026quot; title=\u0026quot;18,745 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Eugen Konkov\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment93361410_10757800\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-11-10 09:38:58Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Nov 10, 2018 at 9:38\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I\u0026apos;d use revert only if I\u0026apos;ve already pushed my commit. Otherwise, reset is a better option. Don\u0026apos;t forget that revert creates a new commit, and usually this is not the goal.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1615183/hola-soy-edu-feliz-navidad\u0026quot; title=\u0026quot;6,240 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Hola Soy Edu Feliz Navidad\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment106285588_10757800\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-02-06 12:40:43Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Feb 6, 2020 at 12:40\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@SMR, In your example, all are pointing into current HEAD only. HEAD^ = HEAD^1. As well as HEAD^1 = HEAD~1.  When you use HEAD~2, there is a difference between ~ and ^ symbols. If you use ~2 means the first parent of the first parent, or the grandparent.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1996609/madhan-ayyasamy\u0026quot; title=\u0026quot;14,730 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Madhan Ayyasamy\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment56283123_14620228\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2015-12-14 15:34:11Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Dec 14, 2015 at 15:34\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;git reset --hard HEAD^1 gives me this error \u0026quot;fatal: ambiguous argument \u0026apos;HEAD1\u0026apos;: unknown revision or path not in the working tree.\u0026quot;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/474798/rob-mosher\u0026quot; title=\u0026quot;343 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Rob Mosher\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment115586311_14620228\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-12-20 10:55:17Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Dec 20, 2020 at 10:55\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Rewriting history on a shared repository is generally a very bad idea.  I assume you know what you\u0026apos;re doing, I just hope future readers do too.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/425313/brad-koch\u0026quot; title=\u0026quot;17,958 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Brad Koch\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment18924301_10044540\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2012-12-07 16:02:12Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Dec 7, 2012 at 16:02\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Yes rollback is dangerous. Make sure that your working copy is in the desired state before you push. When pushing then the unwanted commits gets deleted permanently.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/78336/neoneye\u0026quot; title=\u0026quot;47,743 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;neoneye\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment18944655_10044540\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2012-12-08 14:14:43Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Dec 8, 2012 at 14:14\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;\u0026quot;Just like in the real world, if you want to rewrite history, you need a conspiracy: everybody has to be \u0026apos;in\u0026apos; on the conspiracy (at least everybody who knows about the history, i.e. everybody who has ever pulled from the branch).\u0026quot; Source: \u0026lt;a href=\u0026quot;http://stackoverflow.com/a/2046748/334451\u0026quot;\u0026gt;stackoverflow.com/a/2046748/334451\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/334451/mikko-rantalainen\u0026quot; title=\u0026quot;11,741 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Mikko Rantalainen\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment26496284_10044540\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-08-07 10:10:25Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Aug 7, 2013 at 10:10\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;\u0026lt;code\u0026gt;gitk --all $(git reflog | cut -c1-7)\u0026amp;amp;\u0026lt;/code\u0026gt; may be helpful for finding the previous revision if you want to undo an \u0026apos;--amend\u0026apos; commit.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/86967/brent-bradburn\u0026quot; title=\u0026quot;47,117 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Brent Bradburn\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment41533928_16175525\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2014-10-18 23:38:11Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 18, 2014 at 23:38\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;It should be noted that if you\u0026apos;re attempting to remove secret information before pushing to a shared repository, doing a revert won\u0026apos;t help you, because the information will still be in the history in the previous commit.  If you want to ensure the change is never visible to others you need to use \u0026lt;code\u0026gt;git reset\u0026lt;/code\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/85306/jherico\u0026quot; title=\u0026quot;27,557 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Jherico\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment52649525_16175525\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2015-09-04 04:52:01Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Sep 4, 2015 at 4:52\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Correcting a private branch in  remote repository can also be done by simply \u0026lt;code\u0026gt;git push origin (branch_name) --force\u0026lt;/code\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/86967/brent-bradburn\u0026quot; title=\u0026quot;47,117 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Brent Bradburn\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment91393111_16175525\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-09-07 12:09:38Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Sep 7, 2018 at 12:09\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;What if you do not use \u0026quot;\u0026amp;lt;commit_id\u0026amp;gt;\u0026quot; and simply use \u0026quot;git reset --hard\u0026quot;? I typically just want to get rid of my latest updates that I have not committed yet and got back to the latest commit I made, and I always use \u0026quot;git reset --hard\u0026quot;.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/4242086/jaime-montoya\u0026quot; title=\u0026quot;6,048 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Jaime Montoya\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment79872792_16609755\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2017-09-27 23:30:18Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Sep 27, 2017 at 23:30\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@JaimeMontoya To undo latest changes you can use \u0026lt;code\u0026gt;git reset --hard\u0026lt;/code\u0026gt; , but if you have to hard remove last \u0026quot;n\u0026quot; commits you specify a SHA\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/2349141/poorva\u0026quot; title=\u0026quot;1,666 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;poorva\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment79895034_16609755\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2017-09-28 13:10:31Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Sep 28, 2017 at 13:10\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I\u0026apos;m in the 2nd case, but when I do \u0026quot;git revert HEAD\u0026quot; it says \u0026quot;error: Commit [ID] is a merge but no -m option was given.  fatal: revert failed\u0026quot;.  Any suggestions?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/892487/metaforge\u0026quot; title=\u0026quot;881 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;metaforge\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment42343566_25638420\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2014-11-12 19:36:02Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Nov 12, 2014 at 19:36\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Probably worth mentioning that instead of \u0026lt;code\u0026gt;HEAD~1\u0026lt;/code\u0026gt; you could use the actual hash as displayed by \u0026lt;code\u0026gt;git log --stat\u0026lt;/code\u0026gt; or by \u0026lt;code\u0026gt;git reflog\u0026lt;/code\u0026gt; - useful when you need to \u0026apos;undo\u0026apos; more than one commit.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/191246/ccpizza\u0026quot; title=\u0026quot;25,793 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;ccpizza\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment43133073_25638420\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2014-12-07 00:38:49Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Dec 7, 2014 at 0:38\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I needed to write git reset --soft \u0026quot;HEAD^\u0026quot; with double quotes, because I write it from Windows command prompt.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/957286/ena\u0026quot; title=\u0026quot;3,261 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Ena\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment35557657_22199804\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2014-04-23 09:13:35Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Apr 23, 2014 at 9:13\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;What does \u0026lt;code\u0026gt;git reset --hard\u0026lt;/code\u0026gt; do differently?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1191147/hashim-aziz\u0026quot; title=\u0026quot;2,653 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Hashim Aziz\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment127310183_19159566\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2022-04-28 22:01:25Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Apr 28 at 22:01\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Maybe you could at a note/warning that his command will throw away the commit \u0026lt;b\u0026gt;and the changes in the working directory\u0026lt;/b\u0026gt; without asking any further.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/455269/cr7pt0gr4ph7\u0026quot; title=\u0026quot;1,224 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;cr7pt0gr4ph7\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment42733563_25553225\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2014-11-24 22:35:29Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Nov 24, 2014 at 22:35\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 2 times\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;If you happen to do this by accident, not all is lost, though. See \u0026lt;a href=\u0026quot;http://stackoverflow.com/questions/10099258/how-can-i-recover-a-lost-commit-in-git\u0026quot; title=\u0026quot;how can i recover a lost commit in git\u0026quot;\u0026gt;stackoverflow.com/questions/10099258/\u0026lt;/a\u0026gt;, \u0026lt;a href=\u0026quot;http://stackoverflow.com/questions/15479501/git-commit-lost-after-reset-hard-not-found-by-fsck-not-in-reflog\u0026quot; title=\u0026quot;git commit lost after reset hard not found by fsck not in reflog\u0026quot;\u0026gt;stackoverflow.com/questions/15479501/\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;http://stackoverflow.com/questions/7374069/undo-git-reset-hard/7376959\u0026quot; title=\u0026quot;undo git reset hard\u0026quot;\u0026gt;stackoverflow.com/questions/7374069/undo-git-reset-hard/7376959\u0026lt;/a\u0026gt;.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/455269/cr7pt0gr4ph7\u0026quot; title=\u0026quot;1,224 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;cr7pt0gr4ph7\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment42733703_25553225\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2014-11-24 22:40:57Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Nov 24, 2014 at 22:40\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Use \u0026lt;code\u0026gt;--soft\u0026lt;/code\u0026gt; to keep your changes as \u0026lt;code\u0026gt;uncommitted changes\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;--hard\u0026lt;/code\u0026gt; to nuke the commit completely and revert back by one. Remember to do such operations only on changes, that are not pushed yet.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/936957/yunus-nedim-mehel\u0026quot; title=\u0026quot;11,779 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Yunus Nedim Mehel\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment46131721_25553225\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2015-03-09 09:11:06Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Mar 9, 2015 at 9:11\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@Zaz: You are right; maybe I should have clarified that. Only files/changes that have been either added to index (/staged) or have been committed can possibly be recovered. Uncommitted, unstaged changes \u0026lt;i\u0026gt;are\u0026lt;/i\u0026gt;, as you said, completely thrown away by \u0026lt;code\u0026gt;git reset --hard\u0026lt;/code\u0026gt;.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/455269/cr7pt0gr4ph7\u0026quot; title=\u0026quot;1,224 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;cr7pt0gr4ph7\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment66277381_25553225\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2016-09-13 21:17:10Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Sep 13, 2016 at 21:17\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;As a sidenote: Everytime a file is staged, \u0026lt;code\u0026gt;git\u0026lt;/code\u0026gt; stores its contents in its object database. The stored contents are only removed when garbage collection is executed. It is therefore possible to recover the last staged version of a file that was not currently staged when \u0026lt;code\u0026gt;git reset --hard\u0026lt;/code\u0026gt; was executed (see the posts linked above for more information).\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/455269/cr7pt0gr4ph7\u0026quot; title=\u0026quot;1,224 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;cr7pt0gr4ph7\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment66277535_25553225\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2016-09-13 21:22:52Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Sep 13, 2016 at 21:22\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 2 times\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;\u0026lt;code\u0026gt;git reset --hard HEAD~1\u0026lt;/code\u0026gt; is \u0026lt;b\u0026gt;too dangerous\u0026lt;/b\u0026gt;! This will not just \u0026apos;cancel last commit\u0026apos;, but will revert repo completely back to the previous commit. So you will LOOSE all changes committed in the last commit!\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1720476/arnis-juraga\u0026quot; title=\u0026quot;993 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Arnis Juraga\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment72950715_35472255\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2017-03-21 12:09:47Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Mar 21, 2017 at 12:09\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 2 times\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;You right, to undo this you can use \u0026lt;code\u0026gt;git push -f \u0026amp;lt;remote\u0026amp;gt; HEAD@{1}:\u0026amp;lt;branch\u0026amp;gt;\u0026lt;/code\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/3621912/benny\u0026quot; title=\u0026quot;1,888 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Benny\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment74227215_35472255\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2017-04-24 13:07:03Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Apr 24, 2017 at 13:07\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Unfortunately, I use --hard, and my files are deleted! I did not check the comment first because it is collapsed. Do not use --hard if you do not know what you are doing!\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/6710360/anonymous\u0026quot; title=\u0026quot;1,152 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;anonymous\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment90786456_35472255\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-08-19 13:53:17Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Aug 19, 2018 at 13:53\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        "],"id":520,"title":"How do I undo the most recent local commits in Git?","content":"\n                \n\u0026lt;p\u0026gt;I accidentally committed the wrong files to \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Git\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Git\u0026lt;/a\u0026gt;, but didn\u0026apos;t push the commit to the server yet. How do I undo those commits from the \u0026lt;em\u0026gt;local\u0026lt;/em\u0026gt; repository?\u0026lt;/p\u0026gt;\n    ","slug":"how-do-i-undo-the-most-recent-local-commits-in-git-1657388262945","postType":"QUESTION","createdAt":"2022-07-09T17:37:42.000Z","updatedAt":"2022-07-09T17:37:42.000Z","tags":[{"id":2569,"name":"undo","slug":"undo","createdAt":"2022-07-09T17:37:43.000Z","updatedAt":"2022-07-09T17:37:43.000Z","Questions_Tags":{"questionId":520,"tagId":2569}},{"id":2570,"name":"git-commit","slug":"git-commit","createdAt":"2022-07-09T17:37:43.000Z","updatedAt":"2022-07-09T17:37:43.000Z","Questions_Tags":{"questionId":520,"tagId":2570}}]}},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-do-i-undo-the-most-recent-local-commits-in-git-1657388262945"},"buildId":"4Y8KGE-c2lolBeBmcum_I","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>