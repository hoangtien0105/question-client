<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>Reference: mod_rewrite, URL rewriting and &quot;pretty links&quot; explained | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="&quot;Pretty links&quot; is an often requested topic, but it is rarely fully explained. mod_rewrite is one way to make &quot;pretty links&quot;, but it&#x27;s complex and its syntax is very terse, hard to grok, and the documentation assumes a certain level of proficiency in HTTP. Can someone explain in simple terms how &quot;pretty links&quot; work and how mod_rewrite can be used to create them?

Other common names, aliases, terms for clean URLs: RESTful URLs, user-friendly URLs, SEO-friendly URLs, slugging, and MVC URLs (probably a misnomer)
    "/><meta property="og:title" content="Reference: mod_rewrite, URL rewriting and &quot;pretty links&quot; explained | Solutions Checker"/><meta property="og:description" content="&quot;Pretty links&quot; is an often requested topic, but it is rarely fully explained. mod_rewrite is one way to make &quot;pretty links&quot;, but it&#x27;s complex and its syntax is very terse, hard to grok, and the documentation assumes a certain level of proficiency in HTTP. Can someone explain in simple terms how &quot;pretty links&quot; work and how mod_rewrite can be used to create them?

Other common names, aliases, terms for clean URLs: RESTful URLs, user-friendly URLs, SEO-friendly URLs, slugging, and MVC URLs (probably a misnomer)
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"Reference: mod_rewrite, URL rewriting and &quot;pretty links&quot; explained","text":"&quot;Pretty links&quot; is an often requested topic, but it is rarely fully explained. mod_rewrite is one way to make &quot;pretty links&quot;, but it&apos;s complex and its syntax is very terse, hard to grok, and the documentation assumes a certain level of proficiency in HTTP. Can someone explain in simple terms how &quot;pretty links&quot; work and how mod_rewrite can be used to create them?\n\nOther common names, aliases, terms for clean URLs: RESTful URLs, user-friendly URLs, SEO-friendly URLs, slugging, and MVC URLs (probably a misnomer)\n    ","answerCount":5,"upVoteCount":500,"suggestedAnswer":[{"text":"To understand what mod_rewrite does you first need to understand how a web server works. A web server responds to HTTP requests. An HTTP request at its most basic level looks like this:\n\nGET /foo/bar.html HTTP/1.1\n\n\nThis is the simple request of a browser to a web server requesting the URL /foo/bar.html from it. It is important to stress that it does not request a file, it requests just some arbitrary URL. The request may also look like this:\n\nGET /foo/bar?baz=42 HTTP/1.1\n\n\nThis is just as valid a request for a URL, and it has more obviously nothing to do with files.\n\nThe web server is an application listening on a port, accepting HTTP requests coming in on that port and returning a response. A web server is entirely free to respond to any request in any way it sees fit/in any way you have configured it to respond. This response is not a file, it&apos;s an HTTP response which may or may not have anything to do with physical files on any disk. A web server doesn&apos;t have to be Apache, there are many other web servers which are all just programs which run persistently and are attached to a port which respond to HTTP requests. You can write one yourself. This paragraph was intended to divorce you from any notion that URLs directly equal files, which is really important to understand. :)\n\nThe default configuration of most web servers is to look for a file that matches the URL on the hard disk. If the document root of the server is set to, say, /var/www, it may look whether the file /var/www/foo/bar.html exists and serve it if so. If the file ends in &quot;.php&quot; it will invoke the PHP interpreter and then return the result. All this association is completely configurable; a file doesn&apos;t have to end in &quot;.php&quot; for the web server to run it through the PHP interpreter, and the URL doesn&apos;t have to match any particular file on disk for something to happen.\n\nmod_rewrite is a way to rewrite the internal request handling. When the web server receives a request for the URL /foo/bar, you can rewrite that URL into something else before the web server will look for a file on disk to match it. Simple example:\n\nRewriteEngine On\nRewriteRule   /foo/bar /foo/baz\n\n\nThis rule says whenever a request matches &quot;/foo/bar&quot;, rewrite it to &quot;/foo/baz&quot;. The request will then be handled as if /foo/baz had been requested instead. This can be used for various effects, for example:\n\nRewriteRule (.*) $1.html\n\n\nThis rule matches anything (.*) and captures it ((..)), then rewrites it to append &quot;.html&quot;. In other words, if /foo/bar was the requested URL, it will be handled as if /foo/bar.html had been requested. See http://regular-expressions.info for more information about regular expression matching, capturing and replacements.\n\nAnother often encountered rule is this:\n\nRewriteRule (.*) index.php?url=$1\n\n\nThis, again, matches anything and rewrites it to the file index.php with the originally requested URL appended in the url query parameter. I.e., for any and all requests coming in, the file index.php is executed and this file will have access to the original request in $_GET[&apos;url&apos;], so it can do anything it wants with it.\n\nPrimarily you put these rewrite rules into your web server configuration file. Apache also allows* you to put them into a file called .htaccess within your document root (i.e. next to your .php files).\n\n* If allowed by the primary Apache configuration file; it&apos;s optional, but often enabled.\n\nWhat mod_rewrite does not do\n\nmod_rewrite does not magically make all your URLs &quot;pretty&quot;. This is a common misunderstanding. If you have this link in your web site:\n\n&lt;a href=&quot;/my/ugly/link.php?is=not&amp;amp;very=pretty&quot;&gt;\n\n\nthere&apos;s nothing mod_rewrite can do to make that pretty. In order to make this a pretty link, you have to:\n\n\nChange the link to a pretty link:\n\n&lt;a href=&quot;/my/pretty/link&quot;&gt;\n\nUse mod_rewrite on the server to handle the request to the URL /my/pretty/link using any one of the methods described above.\n\n\n(One could use mod_substitute in conjunction to transform outgoing HTML pages and their contained links. Though this is usally more effort than just updating your HTML resources.)\n\nThere&apos;s a lot mod_rewrite can do and very complex matching rules you can create, including chaining several rewrites, proxying requests to a completely different service or machine, returning specific HTTP status codes as responses, redirecting requests etc. It&apos;s very powerful and can be used to great good if you understand the fundamental HTTP request-response mechanism. It does not automatically make your links pretty.\n\nSee the official documentation for all the possible flags and options.\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"To expand on deceze&apos;s answer, I wanted to provide a few examples and explanation of some other mod_rewrite functionality.\n\nAll of the below examples assume that you have already included RewriteEngine On in your .htaccess file.\n\nRewrite Example\n\nLets take this example:\n\nRewriteRule ^blog/([0-9]+)/([A-Za-z0-9-\\+]+)/?$ /blog/index.php?id=$1&amp;title=$2 [NC,L,QSA]\n\n\nThe rule is split into 4 sections:\n\n\nRewriteRule - starts the rewrite rule\n^blog/([0-9]+)/([A-Za-z0-9-\\+]+)/?$ - This is called the pattern, however I&apos;ll just refer to it as the left hand side of the rule - what you want to rewrite from\nblog/index.php?id=$1&amp;title=$2 - called the substitution, or right hand side of a rewrite rule - what you want to rewrite to\n[NC,L,QSA] are flags for the rewrite rule, separated by a comma, which I will explain more on later\n\n\nThe above rewrite would allow you to link to something like /blog/1/foo/ and it would actually load /blog/index.php?id=1&amp;title=foo.\n\nLeft hand side of the rule\n\n\n^ indicates the start of the page name - so it will rewrite example.com/blog/... but not example.com/foo/blog/...\nEach set of () parentheses represents a regular expression that we can capture as a variable in the right hand side of the rule. In this example:\n\n\nThe first set of brackets - ([0-9]+) - matches a string with a minimum of 1 character in length and with only numeric values (i.e. 0-9). This can be referenced with $1 in the right hand side of the rule\nThe second set of parentheses matches a string with a minimum of 1 character in length, containing only alphanumeric characters (A-Z, a-z, or 0-9) or - or + (note + is escaped with a backslash as without escaping it this will execute as a regex repetition character). This can be referenced with $2 in the right hand side of the rule\n\n? means that the preceding character is optional, so in this case both /blog/1/foo/ and /blog/1/foo would rewrite to the same place\n$ indicates this is the end of the string we want to match\n\n\nFlags\n\nThese are options that are added in square brackets at the end of your rewrite rule to specify certain conditions. Again, there are a lot of different flags which you can read up on in the documentation, but I&apos;ll go through some of the more common flags:\n\nNC\n\n\nThe no case flag means that the rewrite rule is case insensitive, so for the example rule above this would mean that both /blog/1/foo/ and /BLOG/1/foo/ (or any variation of this) would be matched.\n\nL\n\n\nThe last flag indicates that this is the last rule that should be processed. This means that if and only if this rule matches, no further rules will be evaluated in the current rewrite processing run. If the rule does not match, all other rules will be tried in order as usual. If you do not set the L flag, all following rules will be applied to the rewritten URL afterwards.\n\nEND\n\n\nSince Apache 2.4 you can also use the [END] flag. A matching rule with it will completely terminate further alias/rewrite processing. (Whereas the [L] flag can oftentimes trigger a second round, for example when rewriting into or out of subdirectories.)\n\nQSA\n\n\nThe query string append flag allows us to pass in extra variables to the specified URL which will get added to the original get parameters. For our example this means that something like /blog/1/foo/?comments=15 would load /blog/index.php?id=1&amp;title=foo&amp;comments=15\n\nR\n\n\nThis flag isn&apos;t one I used in the example above, but is one I thought is worth mentioning. This allows you to specify a http redirect, with the option to include a status code (e.g. R=301). For example if you wanted to do a 301 redirect on /myblog/ to /blog/ you would simply write a rule something like this:\n\nRewriteRule ^/myblog/(*.)$ /blog/$1 [R=301,QSA,L]\n\n\nRewrite Conditions\n\nRewrite conditions make rewrites even more powerful, allowing you to specify rewrites for more specific situations. There are a lot of conditions which you can read about in the documentation, but I&apos;ll touch on a few common examples and explain them:\n\n# if the host doesn&apos;t start with www. then add it and redirect\nRewriteCond %{HTTP_HOST} !^www\\.\nRewriteRule ^ http://www.%{HTTP_HOST}%{REQUEST_URI} [L,R=301]\n\n\nThis is a very common practice, which will prepend your domain with www. (if it isn&apos;t there already) and execute a 301 redirect. For example, loading up http://example.com/blog/ it would redirect you to http://www.example.com/blog/\n\n# if it cant find the image, try find the image on another domain\nRewriteCond %{REQUEST_URI} \\.(jpg|jpeg|gif|png)$ [NC]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule (.*)$ http://www.example.com/$1 [L]\n\n\nThis is slightly less common, but is a good example of a rule that doesn&apos;t execute if the filename is a directory or file that exists on the server.\n\n\n%{REQUEST_URI} \\.(jpg|jpeg|gif|png)$ [NC] will only execute the rewrite for files with a file extension of jpg, jpeg, gif or png (case insensitive). \n%{REQUEST_FILENAME} !-f will check to see if the file exists on the current server, and only execute the rewrite if it doesn&apos;t\n%{REQUEST_FILENAME} !-d will check to see if the file exists on the current server, and only execute the rewrite if it doesn&apos;t\nThe rewrite will attempt to load the same file on another domain\n\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"References\n\nStack Overflow has many other great resources to get started:\n\n\nServerfault: Everything you ever wanted to know about mod_rewrite\n(Keep in mind to remove the slash in ^/ pattern prefixes for .htaccess usage.)\n\nDo&apos;s and Dont&apos;s in Hidden features of mod_rewrite.\nLook through our most popular mod-rewrite questions and answers.\nApache redirecting and remapping guide.\nAskApache ultimate .htaccess guide\nAnd the mod-rewrite tag wiki references.\n\n\nAnd newcomer-friendly regex overviews even:\n\n\nOur regex tag wiki for a syntax compendium.\nAnd the short Apache regex summary.\nElse regexp.info for easy-to-understand basics.\n\n\nOft-used placeholders\n\n\n.* matches anything, even an empty string. You don&apos;t want to use this pattern everywhere, but often in the last fallback rule.\n[^/]+ is more often used for path segments. It matches anything but the forward slash.\n\\d+ only matches numeric strings.\n\\w+ matches alphanumeric characters. It&apos;s basically shorthand for [A-Za-z0-9_].\n[\\w\\-]+ for &quot;slug&quot;-style path segments, using letters, numbers, dash - and _\n[\\w\\-.,]+ adds periods and commas. Prefer an escaped \\- dash in [] charclasses.\n\\. denotes a literal period. Otherwise . outside of [] is placeholder for any symbol.\n\n\nEach of these placeholders is usually wrapped in () parentheses as capture group. And the whole pattern often in ^$ start + end markers. Quoting &quot;patterns&quot; is optional.\n\nRewriteRules\n\nThe following examples are PHP-centric and a bit more incremental, easier to adapt for similar cases.\nThey&apos;re just summaries, often link to more variations or detailed Q&amp;As.\n\n\n\n\nStatic mapping   /contact, /about\n\nShortening a few page names to internal file schemes is most simple:\n\n RewriteRule ^contact$  templ/contact.html\n RewriteRule ^about$    about.php\n\nNumeric identifiers   /object/123\n\nIntroducing shortcuts like http://example.com/article/531 to existing PHP scripts is also easy. The numeric placeholder can just be remapped to a $_GET parameter:\n\n RewriteRule ^article/(\\d+)$    article-show.php?id=$1\n #                      \n\nSlug-style placeholders   /article/with-some-title-slug\n\nYou can easily extend that rule to allow for /article/title-string placeholders:\n\n RewriteRule ^article/([\\w-]+)$    article-show.php?title=$1\n #                       \n\n\nNote that your script must be able (or be adapted) to map those titles back to database-ids. RewriteRules alone can&apos;t create or guess information out of thin air.\nSlugs with numeric prefixes   /readable/123-plus-title\n\nTherefore you&apos;ll often see mixed /article/529-title-slug paths used in practice:\n\n RewriteRule ^article/(\\d+)-([\\w-]+)$    article.php?id=$1&amp;title=$2\n #                      \n\n\nNow you could just skip passing the title=$2 anyway, because your script will typically rely on the database-id anyway. The -title-slug has become arbitrary URL decoration.\nUniformity with alternative lists   /foo/ /bar/ /baz/\n\nIf you have similar rules for multiple virtual page paths, then you can match and compact them with | alternative lists. And again just reassign them to internal GET parameters:\n\n #                               \n RewriteRule ^(blog|post|user)/(\\w+)$  disp.php?type=$1&amp;id=$2\n #               \n\n\nYou can split them out into individual RewriteRules should this get too complex.\nDispatching related URLs to different backends   /date/SWITCH/backend\n\nA more practical use of alternative lists are mapping request paths to distinct scripts. For example to provide uniform URLs for an older and a newer web application based on dates:\n\n #                   \n #                                    \n RewriteRule ^blog/(2009|2010|2011)/([\\d-]+)/?$ old/blog.php?date=$2\n RewriteRule ^blog/(\\d+)/([\\d-]+)/?$  modern/blog/index.php?start=$2\n #                          \n\n\nThis simply remaps 2009-2011 posts onto one script, and all other years implicitly to another handler.\nNote the more specific rule coming first. Each script might use different GET params.\nOther delimiters than just / path slashes   /user-123-name\n\nYou&apos;re most commonly seeing RewriteRules to simulate a virtual directory structure. But you&apos;re not forced to be uncreative. You can as well use - hyphens for segmenting or structure.\n\n RewriteRule ^user-(\\d+)$    show.php?what=user&amp;id=$1\n #                   \n # This could use `(\\w+)` alternatively for user names instead of ids.\n\n\nFor the also common /wiki:section:Page_Name scheme:\n\n RewriteRule ^wiki:(\\w+):(\\w+)$  wiki.php?sect=$1&amp;page=$2 \n #                          \n #                         \n\n\nOccasionally it&apos;s suitable to alternate between /-delimiters and : or . in the same rule even. Or have two RewriteRules again to map variants onto different scripts.\nOptional trailing / slash   /dir = /dir/\n\nWhen opting for directory-style paths, you can make it reachable with and without a final /\n\n RewriteRule ^blog/([\\w-]+)/?$  blog/show.php?id=$1\n #                         \n\n\nNow this handles both http://example.com/blog/123 and /blog/123/. And the /?$ approach is easy to append onto any other RewriteRule.\nFlexible segments for virtual paths    .*/.*/.*/.*\n\nMost rules you&apos;ll encounter map a constrained set of // resource path segments to individual GET parameters. Some scripts handle a variable number of options however.\nThe Apache regexp engine doesn&apos;t allow optionalizing an arbitrary number of them. But you can easily expand it into a rule block yourself:\n\n Rewriterule ^(\\w+)/?$                in.php?a=$1\n Rewriterule ^(\\w+)/(\\w+)/?$          in.php?a=$1&amp;b=$2\n Rewriterule ^(\\w+)/(\\w+)/(\\w+)/?$    in.php?a=$1&amp;b=$2&amp;c=$3\n #              \n\n\nIf you need up to five path segments, then copy this scheme along into five rules. You can of course use a more specific [^/]+ placeholder each.\nHere the ordering isn&apos;t as important, as neither overlaps. So having the most frequently used paths first is okay.\n\nAlternatively you can utilize PHPs array parameters via ?p[]=$1&amp;p[]=$2&amp;p[]=3 query string here - if your script merely prefers them pre-split.\n(Though it&apos;s more common to just use a catch-all rule, and let the script itself expand the segments out of the REQUEST_URI.)\n\nSee also: How do I transform my URL path segments into query string key-value pairs?\nOptional segments    prefix/opt?/.*\n\nA common variation is to have optional prefixes within a rule. This usually makes sense if you have static strings or more constrained placeholders around:\n\n  RewriteRule ^(\\w+)(?:/([^/]+))?/(\\w+)$  ?main=$1&amp;opt=$2&amp;suffix=$3\n\n\nNow the more complex pattern (?:/([^/])+)? there simply wraps a non-capturing (?:) group, and makes it optional )?. The contained\nplaceholder ([^/]+) would be substitution pattern $2, but be empty if there&apos;s no middle // path.\nCapture the remainder   /prefix/123-capture//*/whatever\n\nAs said before, you don&apos;t often want too generic rewrite patterns. It does however make sense to combine static and specific comparisons with a .* sometimes.\n\n RewriteRule ^(specific)/prefix/(\\d+)(/.*)?$  speci.php?id=$2&amp;otherparams=$2\n\n\nThis optionalized any /// trailing path segments. Which then of course requires the handling script to split them up, and variabl-ify extracted parameters\nitself (which is what Web-&quot;MVC&quot; frameworks do).\nTrailing file &quot;extensions&quot;   /old/path.HTML\n\nURLs don&apos;t really have file extensions. Which is what this entire reference is about (= URLs are virtual locators, not necessarily a direct filesystem image).\nHowever if you had a 1:1 file mapping before, you can craft simpler rules:\n\n RewriteRule  ^styles/([\\w\\.\\-]+)\\.css$  sass-cache.php?old_fn_base=$1\n RewriteRule  ^images/([\\w\\.\\-]+)\\.gif$  png-converter.php?load_from=$2\n\n\nOther common uses are remapping obsolete .html paths to newer .php handlers, or just aliasing directory names only for individual (actual/real) files.\nPing-Pong (redirects and rewrites in unison)   /ugly.html  /pretty\n\nSo at some point you&apos;re rewriting your HTML pages to carry only pretty links, as outlined by deceze.\nMeanwhile you&apos;ll still receive requests for the old paths, sometimes even from bookmarks. As workaround, you can ping-pong browsers to display/establish\nthe new URLs.\n\nThis common trick involves sending a 30x/Location redirect whenever an incoming URL follows the obsolete/ugly naming scheme.\nBrowsers will then rerequest the new/pretty URL, which afterwards is rewritten (just internally) to the original or new location.\n\n # redirect browser for old/ugly incoming paths\n RewriteRule ^old/teams\\.html$ /teams [R=301,QSA,END]\n\n # internally remap already-pretty incoming request\n RewriteRule ^teams$ teams.php        [QSA,END]\n\n\nNote how this example just uses [END] instead of [L] to safely alternate. For older Apache 2.2 versions you can use other workarounds, besides also remapping\nquery string parameters for example:\nRedirect ugly to pretty URL, remap  back to the ugly path, without infinite loops\nSpaces  in patterns  /this+that+\n\nIt&apos;s not that pretty in browser address bars, but you can use spaces in URLs. For rewrite patterns use backslash-escaped \\ spaces.\nElse just &quot;-quote the whole pattern or substitution:\n\n RewriteRule  &quot;^this [\\w ]+/(.*)$&quot;  &quot;index.php?id=$1&quot;  [L]\n\n\nClients serialize URLs with + or %20 for spaces. Yet in RewriteRules they&apos;re interpreted with literal characters for all relative path segments.\n\n\nFrequent duplicates:\n\n\nCatch-all for a central dispatcher / front-controller script\n\n RewriteCond %{REQUEST_URI} !-f\n RewriteCond %{REQUEST_URI} !-d\n RewriteRule ^.*$     index.php   [L]\n\n\nWhich is often used by PHP frameworks or WebCMS / portal scripts. The actual path splitting then is handled in PHP using $_SERVER[&quot;REQUEST_URI&quot;]. So conceptionally it&apos;s pretty much the opposite of URL handling &quot;per mod_rewrite&quot;. (Just use FallBackResource instead.)\nRemove www. from hostname\n\nNote that this doesn&apos;t copy a query string along, etc.\n\n #                               \n RewriteCond %{HTTP_HOST} ^www\\.(.+)$ [NC]   \n RewriteRule ^(.*)$ http://%1/$1 [R=301,L]  \n #                        \n #             \n\n\nSee also:\n· URL rewriting for different protocols in .htaccess\n· Generic htaccess redirect www to non-www\n· .htaccess - how to force &quot;www.&quot; in a generic way?\n\nNote that RewriteCond/RewriteRule combos can be more complex, with matches (%1 and $1) interacting in both directions even:\n\n\nApache manual - mod_rewrite intro, Copyright 2015 The Apache Software Foundation, AL-2.0\nRedirect to HTTPS://\n\n RewriteCond %{SERVER_PORT} 80\n RewriteRule ^(.*)$ https://example.com/$1 [R,L]\n\n\nSee also: https://wiki.apache.org/httpd/RewriteHTTPToHTTPS\n&quot;Removing&quot; the PHP extension\n\n RewriteCond %{REQUEST_FILENAME}.php -f\n RewriteRule ^(.+)$  $1.php  [L]  # or [END]\n\n\nSee also: Removing the .php extension with mod_rewrite\nAliasing old .html paths to .php scripts\n\nSee: http://httpd.apache.org/docs/2.4/rewrite/remapping.html#backward-compatibility\nRewrite from URL like &quot;/page&quot; to a script such as &quot;/index.php/page&quot;\n\nSee mod_rewrite, php and the .htaccess file\nRedirect subdomain to a folder\n\nSee How can i get my htaccess to work (subdomains)?\n\n\nPrevalent .htaccess pitfalls\n\nNow take this with a grain of salt. Not every advise can be generalized to all contexts.\nThis is just a simple summary of well-known and a few unobvious stumbling blocks:\n\n\nEnable mod_rewrite and .htaccess\n\nTo actually use RewriteRules in per-directory configuration files you must:\n\n\nCheck that your server has AllowOverride All enabled. Otherwise your per-directory .htaccess directives will go ignored, and RewriteRules won&apos;t work.\nObviously have mod_rewrite enabled in your httpd.conf modules section.\nPrepend each list of rules with RewriteEngine On still. While mod_rewrite is implicitly active in &lt;VirtualHost&gt; and &lt;Directory&gt; sections,\nthe per-directory .htaccess files need it individually summoned. \n\nThe leading slash ^/ won&apos;t match\n\nYou shouldn&apos;t start your .htaccess RewriteRule patterns with ^/ normally:\n\n RewriteRule ^/article/\\d+$  \n              \n\n\nThis is often seen in old tutorials. And it used to be correct for ancient Apache 1.x versions. Nowadays request paths are conveniently fully directory-relative in .htaccess RewriteRules. Just leave the leading / out.\n\n· Note that the leading slash is still correct in &lt;VirtualHost&gt; sections though. Which is why you often see it ^/? optionalized for rule parity.\n· Or when using a RewriteCond %{REQUEST_URI} you&apos;d still match for a leading /.\n· See also Webmaster.SE: When is the leading slash (/) needed in mod_rewrite patterns?\n&lt;IfModule *&gt; wrappers begone!\n\nYou&apos;ve probably seen this in many examples:\n\n&lt;IfModule mod_rewrite.c&gt;\n   Rewrite \n&lt;/IfModule&gt;\n\n\n\nIt does make sense in &lt;VirtualHost&gt; sections - if it was combined with another fallback option, such as ScriptAliasMatch. (But nobody ever does that).  \nAnd it&apos;s commonly distributed for default .htaccess rulesets with many open source projects. There it&apos;s just meant as fallback, and keeps &quot;ugly&quot; URLs work as default.\n\n\nHowever you don&apos;t want that usually in your own .htaccess files. \n\n\nFirstly, mod_rewrite does not randomly disengage. (If it did, you&apos;d have bigger problems). \nWere it really be disabled, your RewriteRules still wouldn&apos;t work anyway.\nIt&apos;s meant to prevent HTTP 500 errors. What it usually accomplishes is gracing your users with HTTP 404 errors instead. (Not so much more user-friendly if you think about it.)\nPractically it just suppresses the more useful log entries, or server notification mails. You&apos;d be none the wiser as to why your RewriteRules never work.\n\n\n\n  What seems enticing as generalized safeguard, often turns out to be an obstacle in practice.\n\nDon&apos;t use RewriteBase unless needed\n\nMany copy+paste examples contain a RewriteBase / directive. Which happens to be the implicit default anyway. So you don&apos;t actually need this. It&apos;s a workaround for fancy VirtualHost rewriting schemes, and misguessed DOCUMENT_ROOT paths for some shared hosters.\n\nIt makes sense to use with individual web applications in deeper subdirectories. It can shorten RewriteRule patterns in such cases. Generally it&apos;s best to prefer relative path specifiers in per-directory rule sets.\n\nSee also How does RewriteBase work in .htaccess\nDisable MultiViews when virtual paths overlap\n\nURL rewriting is primarily used for supporting virtual incoming paths. Commonly you just have one dispatcher script (index.php) or a few individual handlers (articles.php, blog.php, wiki.php, ). The latter might clash with similar virtual RewriteRule paths.\n\nA request for /article/123 for example could map to article.php with a /123 PATH_INFO implicitly. You&apos;d either have to guard your rules then with the commonplace RewriteCond !-f+!-d, and/or disable PATH_INFO support, or perhaps just disable Options -MultiViews.\n\nWhich is not to say you always have to. Content-Negotiation is just an automatism to virtual resources.\nOrdering is important\n\nSee Everything you ever wanted to know about mod_rewrite\nif you haven&apos;t already. Combining multiple RewriteRules often leads to interaction. This isn&apos;t something to prevent habitually per [L] flag, but a scheme you&apos;ll embrace once versed.\nYou can re-re-rewrite virtual paths from one rule to another, until it reaches an actual target handler.\n\nStill you&apos;d often want to have the most specific rules (fixed string /forum/ patterns, or more restrictive placeholders [^/.]+) in the early rules.\nGeneric slurp-all rules (.*) are better left to the later ones. (An exception is a RewriteCond -f/-d guard as primary block.)\nStylesheets and images stop working\n\nWhen you introduce virtual directory structures /blog/article/123 this impacts relative resource references in HTML (such as &lt;img src=mouse.png&gt;).\nWhich can be solved by:\n\n\nOnly using server-absolute references href=&quot;/old.html&quot; or src=&quot;/logo.png&quot;\nOften simply by adding &lt;base href=&quot;/index&quot;&gt; into your HTML &lt;head&gt; section.\nThis implicitly rebinds relative references to what they were before.\n\n\nYou could alternatively craft further RewriteRules to rebind .css or .png paths to their original locations.\nBut that&apos;s both unneeded, or incurs extra redirects and hampers caching.\n\nSee also: CSS, JS and images do not display with pretty url\nRewriteConds just mask one RewriteRule\n\nA common misinterpetation is that a RewriteCond blocks multiple RewriteRules (because they&apos;re visually arranged together):\n\n RewriteCond %{SERVER_NAME} localhost\n RewriteRule ^secret  admin/tools.php\n RewriteRule ^hidden  sqladmin.cgi\n\n\nWhich it doesn&apos;t per default. You can chain them using the [S=2] flag. Else you&apos;ll have to repeat them. While sometimes you can craft an &quot;inverted&quot; primary rule to [END] the rewrite processing early.\nQUERY_STRING exempt from RewriteRules\n\nYou can&apos;t match RewriteRule index.php\\?x=y, because mod_rewrite compares just against relative paths per default. You can match them separately however via:\n\n RewriteCond %{QUERY_STRING} \\b(?:param)=([^&amp;]+)(?:&amp;|$)\n RewriteRule ^add/(.+)$  add/%1/$1  # \n\n\nSee also How can I match query string variables with mod_rewrite?\n.htaccess vs. &lt;VirtualHost&gt;\n\nIf you&apos;re using RewriteRules in a per-directory config file, then worrying about regex performance is pointless. Apache retains\ncompiled PCRE patterns longer than a PHP process with a common routing framework. For high-traffic sites you should however consider\nmoving rulesets into the vhost server configuration, once they&apos;ve been battle-tested.\n\nIn this case, prefer the optionalized ^/? directory separator prefix. This allows to move RewriteRules freely between PerDir and server\nconfig files.\nWhenever something doesn&apos;t work\n\nFret not. \n\n\nCompare access.log and error.log\n\nOften you can figure out how a RewriteRule misbehaves just from looking at your error.log and access.log.\nCorrelate access times to see which request path originally came in, and which path/file Apache couldn&apos;t resolve to (error 404/500).\n\nThis doesn&apos;t tell you which RewriteRule is the culprit. But inaccessible final paths like /docroot/21-.itle?index.php may give away where to inspect further.\nOtherwise disable rules until you get some predictable paths.\nEnable the RewriteLog\n\nSee Apache RewriteLog docs. For debugging you can enable it in the vhost sections:\n\n# Apache 2.2\nRewriteLogLevel 5\nRewriteLog /tmp/rewrite.log\n\n# Apache 2.4\nLogLevel alert rewrite:trace5\n#ErrorLog /tmp/rewrite.log\n\n\nThat yields a detailed summary of how incoming request paths get modified by each rule:\n\n[..] applying pattern &apos;^test_.*$&apos; to uri &apos;index.php&apos;\n[..] strip per-dir prefix: /srv/www/vhosts/hc-profi/index.php -&gt; index.php\n[..] applying pattern &apos;^index\\.php$&apos; to uri &apos;index.php&apos;\n\n\nWhich helps to narrow down overly generic rules and regex mishaps.\n\nSee also:\n· .htaccess not working (mod_rewrite)\n· Tips for debugging .htaccess rewrite rules\nBefore asking your own question\n\nAs you might know, Stack Overflow is very suitable for asking questions on mod_rewrite. Make them on-topic\nby including prior research and attempts (avoid redundant answers), demonstrate basic regex understanding, and:\n\n\nInclude full examples of input URLs, falsly rewritten target paths, your real directory structure.\nThe complete RewriteRule set, but also single out the presumed defective one.\nApache and PHP versions, OS type, filesystem, DOCUMENT_ROOT, and PHPs $_SERVER environment if it&apos;s about a parameter mismatch.\nAn excerpt from your access.log and error.log to verify what the existing rules resolved to. Better yet, a rewrite.log summary.\n\n\nThis nets quicker and more exact answers, and makes them more useful to others.\n\nComment your .htaccess\n\nIf you copy examples from somewhere, take care to include a # comment and origin link. While it&apos;s merely bad manners to omit attribution,\nit often really hurts maintenance later. Document any code or tutorial source. In particular while unversed you should be\nall the more interested in not treating them like magic blackboxes.\nIt&apos;s not &quot;SEO&quot;-URLs\n\nDisclaimer: Just a pet peeve. You often hear pretty URL rewriting schemes referred to as &quot;SEO&quot; links or something. While this is useful for googling examples, it&apos;s a dated misnomer.\n\nNone of the modern search engines are really disturbed by .html and .php in path segments, or ?id=123 query strings for that matter. Search engines of old, such as AltaVista, did avoid crawling websites with potentially ambigious access paths. Modern crawlers are often even craving for deep web resources.\n\nWhat &quot;pretty&quot; URLs should conceptionally be used for is making websites user-friendly.\n\n\nHaving readable and obvious resource schemes.\nEnsuring URLs are long-lived (AKA permalinks).\nProviding discoverability through /common/tree/nesting.\n\n\nHowever don&apos;t sacrifice unique requirements for conformism.\n\n\n\n\nTools\n\nThere are various online tools to generate RewriteRules for most GET-parameterish URLs:\n\n\nhttp://www.generateit.net/mod-rewrite/index.php\nhttp://www.ipdistance.com/mod_rewrite.php\nhttp://webtools.live2support.com/misc_rewrite.php\n\n\nMostly just output [^/]+ generic placeholders, but likely suffices for trivial sites.\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"Alternatives to mod_rewrite\n\nMany basic virtual URL schemes can be achieved without using RewriteRules. Apache allows PHP scripts to be invoked without .php extension, and with a virtual PATH_INFO argument.\n\n\nUse the PATH_INFO, Luke\n\nNowadays AcceptPathInfo On is often enabled by default. Which basically allows .php and other resource URLs to carry a virtual argument:\n\nhttp://example.com/script.php/virtual/path\n\n\nNow this /virtual/path shows up in PHP as $_SERVER[&quot;PATH_INFO&quot;] where you can handle any extra arguments however you like.\n\nThis isn&apos;t as convenient as having Apache separate input path segments into $1, $2, $3 and passing them as distinct $_GET variables to PHP. It&apos;s merely emulating &quot;pretty URLs&quot; with less configuration effort.\nEnable MultiViews to hide the .php extension\n\nThe simplest option to also eschew .php &quot;file extensions&quot; in URLs is enabling:\n\nOptions +MultiViews\n\n\nThis has Apache select article.php for HTTP requests on /article due to the matching basename. And this works well together with the aforementioned PATH_INFO feature. So you can just use URLs like http://example.com/article/virtual/title. Which makes sense if you have a traditional web application with multiple PHP invocation points/scripts.\n\nNote that MultiViews has a different/broader purpose though. It incurs a very minor performance penalty, because Apache always looks for other files with matching basenames. It&apos;s actually meant for Content-Negotiation, so browsers receive the best alternative among available resources (such as article.en.php, article.fr.php, article.jp.mp4).\nSetType or SetHandler for extensionless .php scripts\n\nA more directed approach to avoid carrying around .php suffixes in URLs is configuring the PHP handler for other file schemes. The simplest option is overriding the default MIME/handler type via .htaccess:\n\nDefaultType application/x-httpd-php\n\n\nThis way you could just rename your article.php script to just article (without extension), but still have it processed as PHP script.\n\nNow this can have some security and performance implications, because all extensionless files would be piped through PHP now. Therefore you can alternatively set this behaviour for individual files only:\n\n&lt;Files article&gt;\n  SetHandler application/x-httpd-php\n  # or SetType \n&lt;/Files&gt;\n\n\nThis is somewhat dependent on your server setup and the used PHP SAPI. Common alternatives include ForceType application/x-httpd-php or AddHandler php5-script.\n\n\n  Again take note that such settings propagate from one .htaccess to subfolders. You always should disable script execution (SetHandler None and Options -Exec or php_flag engine off etc.) for static resources, and upload/ directories etc.\n\nOther Apache rewriting schemes\n\nAmong its many options, Apache provides mod_alias features - which sometimes work just as well as mod_rewrites RewriteRules. Note that most of those must be set up in a &lt;VirtualHost&gt; section however, not in per-directory .htaccess config files.\n\n\nScriptAliasMatch is primarily for CGI scripts, but also ought to works for PHP. It allows regexps just like any RewriteRule. In fact it&apos;s perhaps the most robust option to configurate a catch-all front controller.\nAnd a plain Alias helps with a few simple rewriting schemes as well.\nEven a plain ErrorDocument directive could be used to let a PHP script handle virtual paths. Note that this is a kludgy workaround however, prohibits anything but GET requests, and floods the error.log by definition.\n\n\nSee http://httpd.apache.org/docs/2.2/urlmapping.html for further tips.\n\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"A frequent question about URL rewriting goes something like this:\n\nI currently have URLs that look like this:\n\nhttp://example.com/my-blog/entry.php?id=42\nhttp://example.com/my-blog/entry.php?id=123\n\nI made them pretty like this:\n\nhttp://example.com/my-blog/42--i-found-the-answer\nhttp://example.com/my-blog/123--count-on-me\n\nBy using this in my .htaccess file:\nRewriteRule my-blog/(\\d+)--i-found-the-answer my-blog/entry.php?id=$1 \n\nBut I want them to look like this:\n\nhttp://example.com/my-blog/i-found-the-answer\nhttp://example.com/my-blog/count-on-me\n\nHow can I change my .htaccess file to make that work?\n\n\nThe simple answer is that you can&apos;t.\nRewrite rules don&apos;t make ugly URLs pretty, they make pretty URLs ugly\nWhenever you type in a URL in a web browser, or follow a link, or display a page that references an image, etc, the browser makes a request for a particular URL. That request ends up at a web server, and the web server gives a response.\nA rewrite rule is simply a rule that says &quot;when the browser requests a URL that looks like X, give them the same response as if they&apos;d requested Y&quot;.\nWhen we make rules to handle &quot;pretty URLs&quot;, the request is the pretty URL, and the response is based on the internal ugly URL. It can&apos;t go the other way around, because we&apos;re writing the rule on the server, and all the server sees is the request the browser sent it.\nYou can&apos;t use information that you don&apos;t have\nGiven this basic model of what a rewrite rule does, imagine you were giving the instructions to a human. You could say:\n\nIf you see a number in the request, like the &quot;42&quot; in &quot;http://example.com/my-blog/42--i-found-the-answer&quot;, put that number on the end of &quot;my-blog/entry.php?id=&quot;\n\nBut if the information isn&apos;t there in the request, your instructions won&apos;t make any sense:\n\nIf the request has &quot;my-blog&quot; in it, like &quot;http://example.com/my-blog/i-found-the-answer&quot;, put the right number on the end of &quot;my-blog/entry.php?id=&quot;\n\nThe person reading those instructions is going to say &quot;Sorry, how do I know what the right number is?&quot;\nRedirects: &quot;This URL is currently out of office...&quot;\nSometimes, you see rules that are the other way around, like this:\nRewriteRule my-blog/entry.php?id=(\\d+) my-blog/$1--i-found-the-answer [R]\n\nThis rule does match an ugly URL on the left, and produce a pretty URL on the right. So surely we could write it without the ID at the beginning of the pretty part?\nRewriteRule my-blog/entry.php?id=(\\d+) my-blog/i-found-the-answer [R]\n\nThe important difference is the [R] flag, which means that this rule is actually a redirect - instead of &quot;serve the response from this URL&quot;, it means &quot;tell the browser to load this URL instead&quot;.\nYou can think of this like one of those automated e-mail replies, saying &quot;Sorry, Joe Bloggs is currently on holiday; please send your message to Jane Smith instead.&quot; In the same way, the redirect above tells the browser &quot;Sorry, there&apos;s no content for http://example.com/my-blog/entry.php?id=42; please request http://example.com/my-blog/42--i-found-the-answer instead.\nThe important point of this analogy is that the above message wouldn&apos;t be much use if there wasn&apos;t actually anyone called Jane Smith working there, or if they had no idea how to answer the questions Joe Bloggs normally dealt with. Similarly, a redirect is no use if the URL you tell the browser to request doesn&apos;t actually do anything useful. Once the browser follows the redirect, it&apos;s going to make a new request, and when the server receives the new request, it still won&apos;t know what the ID number is.\nBut some sites do it, so it must be possible!\nA web server only has the information present in the request, but how it uses that information is up to you.\nFor instance, rather than looking up a blog post by ID, you could store its URL directly in the database, then write some code to do the matching directly in PHP, Python, node.js, etc. Or you could have the same URL show different content based on the language the user has set in their browser, or based on a cookie, etc.\nAnother thing you can do is use a form (or API request) with a method of POST rather than GET. That means additional information is sent in the &quot;body&quot; of the request, separate from the URL. It still has to be sent, but it&apos;s not as obvious in the browser, won&apos;t be included in bookmarks, etc.\nBut you can&apos;t write a single line in a .htaccess file that performs miracles.\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08d1a634dea6705e.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/150-12e9794e898cd5f3.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/108-87de33c23337ff53.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-928c5d1eb8fb0bba.js" defer=""></script><script src="/_next/static/BnkbnjkWYxefPXjTJLVVv/_buildManifest.js" defer=""></script><script src="/_next/static/BnkbnjkWYxefPXjTJLVVv/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/reference%3A-mod_rewrite-url-rewriting-and-%22pretty-links%22-explained-1657384905504#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/reference:-mod_rewrite-url-rewriting-and-%22pretty-links%22-explained-1657384905504"><h1>Reference: mod_rewrite, URL rewriting and &quot;pretty links&quot; explained</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/.htaccess">.htaccess</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/mod-rewrite">mod-rewrite</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/friendly-url">friendly-url</a></div></div><div class="question-content mt-5">
                
<p>"Pretty links" is an often requested topic, but it is rarely fully explained. <a href="https://en.wikipedia.org/wiki/URL_redirection#Apache_HTTP_Server_mod_rewrite" rel="noreferrer">mod_rewrite</a> is one way to make "pretty links", but it's complex and its syntax is very terse, hard to grok, and the documentation assumes a certain level of proficiency in HTTP. Can someone explain in simple terms how "pretty links" work and how mod_rewrite can be used to create them?</p>

<p>Other common names, aliases, terms for clean URLs: <a href="http://en.wikipedia.org/wiki/Representational_state_transfer#RESTful_web_services" rel="noreferrer">RESTful</a> URLs, user-friendly URLs, <a href="http://en.wikipedia.org/wiki/Search_engine_optimization" rel="noreferrer">SEO</a>-friendly URLs, <a href="https://en.wikipedia.org/wiki/Clean_URL#Slug" rel="noreferrer">slugging</a>, and MVC URLs (probably a misnomer)</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/.htaccess">.htaccess</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/mod-rewrite">mod-rewrite</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/friendly-url">friendly-url</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>To understand what mod_rewrite does you first need to understand how a web server works. A web server responds to <a href="http://en.wikipedia.org/wiki/Http" rel="noreferrer"><em>HTTP requests</em></a>. An HTTP request at its most basic level looks like this:</p>

<pre><code>GET /foo/bar.html HTTP/1.1
</code></pre>

<p>This is the simple request of a browser to a web server requesting the <em>URL</em> <code>/foo/bar.html</code> from it. It is important to stress that it does not request a <em>file</em>, it requests just some arbitrary URL. The request may also look like this:</p>

<pre><code>GET /foo/bar?baz=42 HTTP/1.1
</code></pre>

<p>This is just as valid a request for a URL, and it has more obviously nothing to do with files.</p>

<p>The web server is an application listening on a port, accepting HTTP requests coming in on that port and returning a response. A web server is entirely free to respond to any request in any way it sees fit/in any way you have configured it to respond. This response is not a file, it's an <em>HTTP response</em> which may or may not have anything to do with physical files on any disk. A web server doesn't have to be Apache, there are many other web servers which are all just programs which run persistently and are attached to a port which respond to HTTP requests. You can write one yourself. This paragraph was intended to divorce you from any notion that URLs directly equal files, which is really important to understand. :)</p>

<p>The default configuration of most web servers is to look for a file that matches the URL on the hard disk. If the <em>document root</em> of the server is set to, say, <code>/var/www</code>, it may look whether the file <code>/var/www/foo/bar.html</code> exists and serve it if so. If the file ends in ".php" it will invoke the PHP interpreter and <em>then</em> return the result. All this association is completely configurable; a file doesn't have to end in ".php" for the web server to run it through the PHP interpreter, and the URL doesn't have to match any particular file on disk for something to happen.</p>

<p>mod_rewrite is a way to <em>rewrite</em> the internal request handling. When the web server receives a request for the URL <code>/foo/bar</code>, you can <em>rewrite</em> that URL into something else before the web server will look for a file on disk to match it. Simple example:</p>

<pre><code>RewriteEngine On
RewriteRule   /foo/bar /foo/baz
</code></pre>

<p>This rule says <em>whenever a request matches "/foo/bar", rewrite it to "/foo/baz".</em> The request will then be handled as if <code>/foo/baz</code> had been requested instead. This can be used for various effects, for example:</p>

<pre><code>RewriteRule (.*) $1.html
</code></pre>

<p>This rule matches anything (<code>.*</code>) and <em>captures</em> it (<code>(..)</code>), then rewrites it to append ".html". In other words, if <code>/foo/bar</code> was the requested URL, it will be handled as if <code>/foo/bar.html</code> had been requested. See <a href="http://regular-expressions.info" rel="noreferrer">http://regular-expressions.info</a> for more information about regular expression matching, capturing and replacements.</p>

<p>Another often encountered rule is this:</p>

<pre><code>RewriteRule (.*) index.php?url=$1
</code></pre>

<p>This, again, matches anything and rewrites it to the file index.php with the originally requested URL appended in the <code>url</code> query parameter. I.e., for any and all requests coming in, the file index.php is executed and this file will have access to the original request in <code>$_GET['url']</code>, so it can do anything it wants with it.</p>

<p>Primarily you put these rewrite rules into your <em>web server configuration file</em>. Apache also allows* you to put them into a file called <code>.htaccess</code> within your document root (i.e. next to your .php files).</p>

<p><sub>* <em>If</em> allowed by the primary Apache configuration file; it's optional, but often enabled.</sub></p>

<h1>What mod_rewrite does <em>not</em> do</h1>

<p>mod_rewrite does not magically make all your URLs "pretty". This is a common misunderstanding. If you have this link in your web site:</p>

<pre><code>&lt;a href="/my/ugly/link.php?is=not&amp;amp;very=pretty"&gt;
</code></pre>

<p>there's nothing mod_rewrite can do to make that pretty. In order to make this a pretty link, you have to:</p>

<ol>
<li><p>Change the link to a pretty link:</p>

<pre><code>&lt;a href="/my/pretty/link"&gt;
</code></pre></li>
<li><p>Use mod_rewrite on the server to handle the request to the URL <code>/my/pretty/link</code> using any one of the methods described above.</p></li>
</ol>

<p><em>(One could use <a href="http://httpd.apache.org/docs/current/mod/mod_substitute.html" rel="noreferrer"><code>mod_substitute</code></a> in conjunction to transform outgoing HTML pages and their contained links. Though this is usally more effort than just updating your HTML resources.)</em></p>

<p>There's a lot mod_rewrite can do and very complex matching rules you can create, including chaining several rewrites, proxying requests to a completely different service or machine, returning specific HTTP status codes as responses, redirecting requests etc. It's very powerful and can be used to great good if you understand the fundamental HTTP request-response mechanism. It does <em>not</em> automatically make your links pretty.</p>

<p>See the <a href="http://httpd.apache.org/docs/current/mod/mod_rewrite.html" rel="noreferrer">official documentation</a> for all the possible flags and options.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/.htaccess">.htaccess</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/mod-rewrite">mod-rewrite</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/friendly-url">friendly-url</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>To expand on <a href="https://stackoverflow.com/a/20563773/1011145">deceze's answer</a>, I wanted to provide a few examples and explanation of some other mod_rewrite functionality.</p>

<p>All of the below examples assume that you have already included <code>RewriteEngine On</code> in your <code>.htaccess</code> file.</p>

<h1>Rewrite Example</h1>

<p>Lets take this example:</p>

<pre><code>RewriteRule ^blog/([0-9]+)/([A-Za-z0-9-\+]+)/?$ /blog/index.php?id=$1&amp;title=$2 [NC,L,QSA]
</code></pre>

<p>The rule is split into 4 sections:</p>

<ol>
<li><code>RewriteRule</code> - starts the rewrite rule</li>
<li><code>^blog/([0-9]+)/([A-Za-z0-9-\+]+)/?$</code> - This is called the pattern, however I'll just refer to it as the left hand side of the rule - what you want to rewrite from</li>
<li><code>blog/index.php?id=$1&amp;title=$2</code> - called the substitution, or right hand side of a rewrite rule - what you want to rewrite to</li>
<li><code>[NC,L,QSA]</code> are flags for the rewrite rule, separated by a comma, which I will explain more on later</li>
</ol>

<p>The above rewrite would allow you to link to something like <code>/blog/1/foo/</code> and it would actually load <code>/blog/index.php?id=1&amp;title=foo</code>.</p>

<h2>Left hand side of the rule</h2>

<ul>
<li><code>^</code> indicates the start of the page name - so it will rewrite <code>example.com/blog/...</code> but not <code>example.com/foo/blog/...</code></li>
<li>Each set of <code>()</code> parentheses represents a regular expression that we can capture as a variable in the right hand side of the rule. In this example:

<ul>
<li>The first set of brackets - <code>([0-9]+)</code> - matches a string with a minimum of 1 character in length and with only numeric values (i.e. 0-9). This can be referenced with <code>$1</code> in the right hand side of the rule</li>
<li>The second set of parentheses matches a string with a minimum of 1 character in length, containing only alphanumeric characters (A-Z, a-z, or 0-9) or <code>-</code> or <code>+</code> (note <code>+</code> is escaped with a backslash as without escaping it this will execute as a <a href="http://www.regular-expressions.info/repeat.html" rel="noreferrer">regex repetition character</a>). This can be referenced with <code>$2</code> in the right hand side of the rule</li>
</ul></li>
<li><code>?</code> means that the preceding character is optional, so in this case both <code>/blog/1/foo/</code> and <code>/blog/1/foo</code> would rewrite to the same place</li>
<li><code>$</code> indicates this is the end of the string we want to match</li>
</ul>

<h2>Flags</h2>

<p>These are options that are added in square brackets at the end of your rewrite rule to specify certain conditions. Again, there are a lot of different flags which you can read up on in <a href="http://httpd.apache.org/docs/2.2/rewrite/flags.html" rel="noreferrer">the documentation</a>, but I'll go through some of the more common flags:</p>

<pre><code>NC
</code></pre>

<p>The no case flag means that the rewrite rule is case insensitive, so for the example rule above this would mean that both <code>/blog/1/foo/</code> and <code>/BLOG/1/foo/</code> (or any variation of this) would be matched.</p>

<pre><code>L
</code></pre>

<p>The last flag indicates that this is the last rule that should be processed. This means that if and only if this rule matches, no further rules will be evaluated in the current rewrite processing run. If the rule does not match, all other rules will be tried in order as usual. If you do not set the <code>L</code> flag, all following rules will be applied to the <em>rewritten</em> URL afterwards.</p>

<pre><code>END
</code></pre>

<p>Since Apache 2.4 you can also use the <code>[END]</code> flag. A matching rule with it will <em>completely</em> terminate further alias/rewrite processing. (Whereas the <code>[L]</code> flag can oftentimes trigger a second round, for example when rewriting into or out of subdirectories.)</p>

<pre><code>QSA
</code></pre>

<p>The query string append flag allows us to pass in extra variables to the specified URL which will get added to the original get parameters. For our example this means that something like <code>/blog/1/foo/?comments=15</code> would load <code>/blog/index.php?id=1&amp;title=foo&amp;comments=15</code></p>

<pre><code>R
</code></pre>

<p>This flag isn't one I used in the example above, but is one I thought is worth mentioning. This allows you to specify a http redirect, with the option to include a status code (e.g. <code>R=301</code>). For example if you wanted to do a 301 redirect on /myblog/ to /blog/ you would simply write a rule something like this:</p>

<pre><code>RewriteRule ^/myblog/(*.)$ /blog/$1 [R=301,QSA,L]
</code></pre>

<h1>Rewrite Conditions</h1>

<p><a href="http://httpd.apache.org/docs/2.2/mod/mod_rewrite.html#rewritecond" rel="noreferrer">Rewrite conditions</a> make rewrites even more powerful, allowing you to specify rewrites for more specific situations. There are a lot of conditions which you can read about in <a href="http://httpd.apache.org/docs/2.2/mod/mod_rewrite.html#rewritecond" rel="noreferrer">the documentation</a>, but I'll touch on a few common examples and explain them:</p>

<pre><code># if the host doesn't start with www. then add it and redirect
RewriteCond %{HTTP_HOST} !^www\.
RewriteRule ^ http://www.%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</code></pre>

<p>This is a very common practice, which will prepend your domain with <code>www.</code> (if it isn't there already) and execute a 301 redirect. For example, loading up <code>http://example.com/blog/</code> it would redirect you to <code>http://www.example.com/blog/</code></p>

<pre><code># if it cant find the image, try find the image on another domain
RewriteCond %{REQUEST_URI} \.(jpg|jpeg|gif|png)$ [NC]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule (.*)$ http://www.example.com/$1 [L]
</code></pre>

<p>This is slightly less common, but is a good example of a rule that doesn't execute if the filename is a directory or file that exists on the server.</p>

<ul>
<li><code>%{REQUEST_URI} \.(jpg|jpeg|gif|png)$ [NC]</code> will only execute the rewrite for files with a file extension of jpg, jpeg, gif or png (case insensitive). </li>
<li><code>%{REQUEST_FILENAME} !-f</code> will check to see if the file exists on the current server, and only execute the rewrite if it doesn't</li>
<li><code>%{REQUEST_FILENAME} !-d</code> will check to see if the file exists on the current server, and only execute the rewrite if it doesn't</li>
<li>The rewrite will attempt to load the same file on another domain</li>
</ul>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/.htaccess">.htaccess</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/mod-rewrite">mod-rewrite</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/friendly-url">friendly-url</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h3>References</h3>

<p>Stack Overflow has <em>many</em> other great resources to get started:</p>

<ul>
<li><a href="https://serverfault.com/questions/214512/redirect-change-urls-or-redirect-http-to-https-in-apache-everything-you-ever">Serverfault: <strong>Everything you ever wanted to know about mod_rewrite</strong></a><br>
<sup>(Keep in mind to remove the slash in <code>^/</code> pattern prefixes for <code>.htaccess</code> usage.)</sup>
</li>
<li>Do's and Dont's in <a href="https://stackoverflow.com/questions/286004/hidden-features-of-mod-rewrite">Hidden features of mod_rewrite</a>.</li>
<li>Look through our <a href="https://stackoverflow.com/questions/tagged/mod-rewrite?sort=frequent">most popular mod-rewrite</a> questions and answers.</li>
<li>Apache <a href="http://httpd.apache.org/docs/2.4/rewrite/remapping.html" rel="noreferrer">redirecting and remapping</a> guide.</li>
<li>AskApache <a href="http://www.askapache.com/htaccess/htaccess.html" rel="noreferrer">ultimate .htaccess guide</a></li>
<li>And the <a href="/questions/tagged/mod-rewrite" class="post-tag" title="show questions tagged 'mod-rewrite'" rel="tag">mod-rewrite</a> <a href="https://stackoverflow.com/tags/mod-rewrite/info">tag wiki references</a>.</li>
</ul>

<p>And newcomer-friendly regex overviews even:</p>

<ul>
<li>Our <a href="/questions/tagged/regex" class="post-tag" title="show questions tagged 'regex'" rel="tag">regex</a> <a href="https://stackoverflow.com/tags/regex/info">tag wiki</a> for a syntax compendium.</li>
<li>And the short <a href="http://httpd.apache.org/docs/2.4/rewrite/intro.html#regex" rel="noreferrer">Apache regex summary</a>.</li>
<li>Else <a href="http://www.regular-expressions.info/quickstart.html" rel="noreferrer">regexp.info</a> for easy-to-understand basics.</li>
</ul>

<h2>Oft-used placeholders</h2>

<ul>
<li><code>.*</code> matches anything, even an empty string. You don't want to use this pattern everywhere, but often in the last fallback rule.</li>
<li><code>[^/]+</code> is more often used for path segments. It matches anything but the forward slash.</li>
<li><code>\d+</code> only matches numeric strings.</li>
<li><code>\w+</code> matches alphanumeric characters. It's basically shorthand for <code>[A-Za-z0-9_]</code>.</li>
<li><code>[\w\-]+</code> for "slug"-style path segments, using letters, numbers, dash <code>-</code> <em>and</em> <code>_</code></li>
<li><code>[\w\-.,]+</code> adds periods and commas. Prefer an escaped <code>\-</code> dash in <code>[]</code> charclasses.</li>
<li><code>\.</code> denotes a literal period. Otherwise <code>.</code> outside of <code>[]</code> is placeholder for any symbol.</li>
</ul>

<p>Each of these placeholders is usually wrapped in <code>()</code> parentheses as capture group. And the whole pattern often in <code>^$</code> start + end markers. Quoting "patterns" is optional.</p>

<h1>RewriteRules</h1>

<p>The following examples are PHP-centric and a bit more incremental, easier to adapt for similar cases.
They're just summaries, often link to more variations or detailed Q&amp;As.</p>



<ul>
<li><h3>Static mapping <br>  <kbd><code>/contact</code></kbd>, <kbd><code>/about</code></kbd></h3>

<p>Shortening a few page names to internal file schemes is most simple:</p>

<pre><code> RewriteRule ^contact$  templ/contact.html
 RewriteRule ^about$    about.php
</code></pre></li>
<li><h3>Numeric identifiers <br>  <kbd><code>/object/123</code></kbd></h3>

<p>Introducing shortcuts like <code>http://example.com/article/531</code> to existing PHP scripts is also easy. The numeric placeholder can just be remapped to a <code>$_GET</code> parameter:</p>

<pre><code> RewriteRule ^article/(\d+)$    article-show.php?id=$1
 #                      
</code></pre></li>
<li><h3>Slug-style placeholders <br>  <kbd><code>/article/with-some-title-slug</code></kbd></h3>

<p>You can easily extend that rule to allow for <code>/article/title-string</code> placeholders:</p>

<pre><code> RewriteRule ^article/([\w-]+)$    article-show.php?title=$1
 #                       
</code></pre>

<p>Note that <em>your script</em> <strong>must</strong> be able (or be adapted) to map those titles back to database-ids. RewriteRules alone can't create or guess information out of thin air.</p></li>
<li><h3>Slugs with numeric prefixes <br>  <kbd><code>/readable/123-plus-title</code></kbd></h3>

<p>Therefore you'll often see mixed <code>/article/529-title-slug</code> paths used in practice:</p>

<pre><code> RewriteRule ^article/(\d+)-([\w-]+)$    article.php?id=$1&amp;title=$2
 #                      
</code></pre>

<p>Now you could just skip passing the <code>title=$2</code> anyway, because your script will typically rely on the database-id anyway. The <code>-title-slug</code> has become arbitrary URL decoration.</p></li>
<li><h3>Uniformity with alternative lists <br>  <kbd><code>/foo/</code></kbd> <kbd><code>/bar/</code></kbd> <kbd><code>/baz/</code></kbd></h3>

<p>If you have similar rules for multiple virtual page paths, then you can match and compact them with <code>|</code> alternative lists. And again just reassign them to internal GET parameters:</p>

<pre><code> #                               
 RewriteRule ^(blog|post|user)/(\w+)$  disp.php?type=$1&amp;id=$2
 #               
</code></pre>

<p>You can split them out into individual <code>RewriteRule</code>s should this get too complex.</p></li>
<li><h3>Dispatching related URLs to different backends <br>  <kbd><code>/date/SWITCH/backend</code></kbd></h3>

<p>A more practical use of alternative lists are mapping request paths to distinct scripts. For example to provide uniform URLs for an older and a newer web application based on dates:</p>

<pre><code> #                   
 #                                    
 RewriteRule ^blog/(2009|2010|2011)/([\d-]+)/?$ old/blog.php?date=$2
 RewriteRule ^blog/(\d+)/([\d-]+)/?$  modern/blog/index.php?start=$2
 #                          
</code></pre>

<p>This simply remaps 2009-2011 posts onto one script, and all other years implicitly to another handler.
Note the <em>more specific rule coming first</em>. Each script might use different GET params.</p></li>
<li><h3>Other delimiters than just <code>/</code> path slashes <br>  <kbd><code>/user-123-name</code></kbd></h3>

<p>You're most commonly seeing RewriteRules to simulate a virtual directory structure. But you're not forced to be uncreative. You can as well use <code>-</code> hyphens for segmenting or structure.</p>

<pre><code> RewriteRule ^user-(\d+)$    show.php?what=user&amp;id=$1
 #                   
 # This could use `(\w+)` alternatively for user names instead of ids.
</code></pre>

<p>For the also common <kbd><code>/wiki:section:Page_Name</code></kbd> scheme:</p>

<pre><code> RewriteRule ^wiki:(\w+):(\w+)$  wiki.php?sect=$1&amp;page=$2 
 #                          
 #                         
</code></pre>

<p>Occasionally it's suitable to alternate between <code>/</code>-delimiters and <code>:</code> or <code>.</code> in the same rule even. Or have two RewriteRules again to map variants onto different scripts.</p></li>
<li><h3>Optional trailing <code>/</code> slash <br>  <kbd><code>/dir</code></kbd> = <kbd><code>/dir/</code></kbd></h3>

<p>When opting for directory-style paths, you can make it reachable with and without a final <kbd>/</kbd></p>

<pre><code> RewriteRule ^blog/([\w-]+)/?$  blog/show.php?id=$1
 #                         
</code></pre>

<p>Now this handles both <code>http://example.com/blog/123</code> and <code>/blog/123/</code>. And the <kbd><code>/?$</code></kbd> approach is easy to append onto any other RewriteRule.</p></li>
<li><h3>Flexible segments for virtual paths  <br>  <kbd><code>.*/.*/.*/.*</code></kbd></h3>

<p>Most rules you'll encounter map a constrained set of <code>//</code> resource path segments to individual GET parameters. Some scripts <a href="https://stackoverflow.com/q/3655893">handle a variable number of options</a> however.
The Apache regexp engine doesn't allow optionalizing an arbitrary number of them. But you can easily expand it into a rule block yourself:</p>

<pre><code> Rewriterule ^(\w+)/?$                in.php?a=$1
 Rewriterule ^(\w+)/(\w+)/?$          in.php?a=$1&amp;b=$2
 Rewriterule ^(\w+)/(\w+)/(\w+)/?$    in.php?a=$1&amp;b=$2&amp;c=$3
 #              
</code></pre>

<p>If you need up to five path segments, then copy this scheme along into five rules. You can of course use a more specific <code>[^/]+</code> placeholder each.
Here the ordering isn't as important, as neither overlaps. So having the most frequently used paths first is okay.</p>

<p>Alternatively you can utilize PHPs array parameters via <code>?p[]=$1&amp;p[]=$2&amp;p[]=3</code> query string here - if your script merely prefers them pre-split.
(Though it's more common to just use a catch-all rule, and let the script itself expand the segments out of the REQUEST_URI.)</p>

<p>See also: <a href="https://stackoverflow.com/questions/3655893">How do I transform my URL path segments into query string key-value pairs?</a></p></li>
<li><h3>Optional segments  <br>  <kbd><code>prefix/opt?/.*</code></kbd></h3>

<p>A common variation is to have optional prefixes <em>within</em> a rule. This usually makes sense if you have static strings or more constrained placeholders around:</p>

<pre><code>  RewriteRule ^(\w+)(?:/([^/]+))?/(\w+)$  ?main=$1&amp;opt=$2&amp;suffix=$3
</code></pre>

<p>Now the more complex pattern <code>(?:/([^/])+)?</code> there simply wraps a <em>non-capturing</em> <code>(?:)</code> group, and makes it optional <code>)?</code>. The contained
placeholder <code>([^/]+)</code> would be substitution pattern <code>$2</code>, but be empty if there's no middle <code>//</code> path.</p></li>
<li><h3>Capture the remainder <br>  <kbd><code>/prefix/123-capture//*/whatever</code></kbd></h3>

<p>As said before, you don't often want too generic rewrite patterns. It does however make sense to combine static and specific comparisons with a <code>.*</code> sometimes.</p>

<pre><code> RewriteRule ^(specific)/prefix/(\d+)(/.*)?$  speci.php?id=$2&amp;otherparams=$2
</code></pre>

<p>This optionalized any <code>///</code> trailing path segments. Which then of course requires the handling script to split them up, and <em>variabl-ify</em> extracted parameters
itself (which is what <em>Web-"MVC"</em> frameworks do).</p></li>
<li><h3>Trailing file "extensions" <br>  <kbd><code>/old/path.HTML</code></kbd></h3>

<p>URLs don't really have file extensions. Which is what this entire reference is about (= URLs are virtual locators, not necessarily a direct filesystem image).
However if you had a 1:1 file mapping before, you <em>can</em> craft simpler rules:</p>

<pre><code> RewriteRule  ^styles/([\w\.\-]+)\.css$  sass-cache.php?old_fn_base=$1
 RewriteRule  ^images/([\w\.\-]+)\.gif$  png-converter.php?load_from=$2
</code></pre>

<p>Other common uses are remapping obsolete <code>.html</code> paths to newer <code>.php</code> handlers, or just aliasing directory names only for individual (actual/real) files.</p></li>
<li><h3>Ping-Pong (redirects and rewrites in unison) <br>  <kbd><code>/ugly.html</code></kbd>  <kbd><code>/pretty</code></kbd></h3>

<p>So at some point you're rewriting your HTML pages to carry only pretty links, as <a href="https://stackoverflow.com/a/20563773#~What+mod_rewrite+does+not+do">outlined by deceze</a>.
Meanwhile you'll still receive requests for the <em>old</em> paths, sometimes even from bookmarks. As <em>workaround</em>, you can ping-pong browsers to display/establish
the new URLs.</p>

<p>This common trick involves sending a 30x/Location <em>redirect</em> whenever an incoming URL follows the obsolete/ugly naming scheme.
Browsers will then <em>rerequest</em> the new/pretty URL, which afterwards is rewritten (just internally) to the original or new location.</p>

<pre><code> # redirect browser for old/ugly incoming paths
 RewriteRule ^old/teams\.html$ /teams [R=301,QSA,END]

 # internally remap already-pretty incoming request
 RewriteRule ^teams$ teams.php        [QSA,END]
</code></pre>

<p>Note how this example just uses <code>[END]</code> instead of <code>[L]</code> to safely alternate. For older Apache 2.2 versions you can use other workarounds, besides also remapping
query string parameters for example:
<a href="https://stackoverflow.com/questions/11629896/mod-rewrite-redirect-url-with-query-string-to-pretty-url">Redirect ugly to pretty URL, remap  back to the ugly path, without infinite loops</a></p></li>
<li><h3>Spaces <kbd></kbd> in patterns <br> <kbd><code>/this+that+</code></kbd></h3>

<p>It's not <em>that pretty</em> in browser address bars, but you can use spaces in URLs. For rewrite patterns use backslash-escaped <code>\</code> spaces.
Else just <code>"</code>-quote the whole pattern or substitution:</p>

<pre><code> RewriteRule  "^this [\w ]+/(.*)$"  "index.php?id=$1"  [L]
</code></pre>

<p>Clients serialize URLs with <code>+</code> or <code>%20</code> for spaces. Yet in RewriteRules they're interpreted with literal characters for all relative path segments.</p></li>
</ul>

<p><em>Frequent duplicates:</em></p>

<ul>
<li><h3>Catch-all for a <a href="https://stackoverflow.com/questions/8595964/redirect-all-traffic-to-index-php-using-mod-rewrite">central dispatcher</a> / front-controller script</h3>

<pre><code> RewriteCond %{REQUEST_URI} !-f
 RewriteCond %{REQUEST_URI} !-d
 RewriteRule ^.*$     index.php   [L]
</code></pre>

<p>Which is often used by PHP frameworks or WebCMS / portal scripts. The actual path splitting then is handled in PHP using <code>$_SERVER["REQUEST_URI"]</code>. So conceptionally it's pretty much the opposite of URL handling "per mod_rewrite". (Just use <a href="https://httpd.apache.org/docs/2.4/rewrite/remapping.html#fallback-resource" rel="noreferrer"><code>FallBackResource</code></a> instead.)</p></li>
<li><h3>Remove <code>www.</code> from hostname</h3>

<p>Note that this doesn't copy a query string along, etc.</p>

<pre><code> #                               
 RewriteCond %{HTTP_HOST} ^www\.(.+)$ [NC]   
 RewriteRule ^(.*)$ http://%1/$1 [R=301,L]  
 #                        
 #             
</code></pre>

<p>See also:<br>
· <a href="https://stackoverflow.com/questions/3634101/url-rewriting-for-different-protocols-in-htaccess">URL rewriting for different protocols in .htaccess</a><br>
· <a href="https://stackoverflow.com/questions/234723/generic-htaccess-redirect-www-to-non-www">Generic htaccess redirect www to non-www</a><br>
· <a href="https://stackoverflow.com/questions/4916222/htaccess-how-to-force-www-in-a-generic-way">.htaccess - how to force "www." in a generic way?</a></p>

<p>Note that RewriteCond/RewriteRule combos can be more complex, with matches (<code>%1</code> and <code>$1</code>) interacting in both directions even:</p>

<p><img src="https://httpd.apache.org/docs/2.4/images/rewrite_backreferences.png" alt="References %1 and $2, %3 between RewriteRule and RewriteCond"><br>
<sup><a href="http://httpd.apache.org/docs/2.4/rewrite/intro.html" rel="noreferrer">Apache manual - mod_rewrite intro</a>, Copyright 2015 The Apache Software Foundation, AL-2.0</sup></p></li>
<li><h3>Redirect to <code>HTTPS://</code></h3>

<pre><code> RewriteCond %{SERVER_PORT} 80
 RewriteRule ^(.*)$ https://example.com/$1 [R,L]
</code></pre>

<p>See also: <a href="https://wiki.apache.org/httpd/RewriteHTTPToHTTPS" rel="noreferrer">https://wiki.apache.org/httpd/RewriteHTTPToHTTPS</a></p></li>
<li><h3>"Removing" the PHP extension</h3>

<pre><code> RewriteCond %{REQUEST_FILENAME}.php -f
 RewriteRule ^(.+)$  $1.php  [L]  # or [END]
</code></pre>

<p>See also: <a href="https://stackoverflow.com/questions/4908122/removing-the-php-extension-with-mod-rewrite">Removing the .php extension with mod_rewrite</a></p></li>
<li><h3>Aliasing old .html paths to .php scripts</h3>

<p>See: <a href="http://httpd.apache.org/docs/2.4/rewrite/remapping.html#backward-compatibility" rel="noreferrer">http://httpd.apache.org/docs/2.4/rewrite/remapping.html#backward-compatibility</a></p></li>
<li><h3>Rewrite from URL like "/page" to a script such as "/index.php/page"</h3>

<p>See <a href="https://stackoverflow.com/q/265898">mod_rewrite, php and the .htaccess file</a></p></li>
<li><h3>Redirect subdomain to a folder</h3>

<p>See <a href="https://stackoverflow.com/questions/2978907/how-can-i-get-my-htaccess-to-work-subdomains">How can i get my htaccess to work (subdomains)?</a></p></li>
</ul>

<h1>Prevalent <code>.htaccess</code> pitfalls</h1>

<p>Now take this with a grain of salt. Not every advise can be generalized to all contexts.
This is just a simple summary of well-known and a few unobvious stumbling blocks:</p>

<ul>
<li><h3>Enable <code>mod_rewrite</code> and <code>.htaccess</code></h3>

<p>To actually use RewriteRules in per-directory configuration files you must:</p>

<ul>
<li><p>Check that your server has <a href="https://stackoverflow.com/questions/9234289/verify-if-htaccess-file-is-running"><code>AllowOverride All</code> enabled</a>. Otherwise your per-directory <code>.htaccess</code> directives will go ignored, and RewriteRules won't work.</p></li>
<li><p>Obviously <a href="https://stackoverflow.com/questions/869092/how-to-enable-mod-rewrite-for-apache-2-2">have <code>mod_rewrite</code> enabled</a> in your <code>httpd.conf</code> modules section.</p></li>
<li><p>Prepend each list of rules with <code>RewriteEngine On</code> still. While mod_rewrite is implicitly active in <code>&lt;VirtualHost&gt;</code> and <code>&lt;Directory&gt;</code> sections,
the per-directory <code>.htaccess</code> files need it individually summoned. </p></li>
</ul></li>
<li><h3>The leading slash <code>^/</code> won't match</h3>

<p>You shouldn't start your <code>.htaccess</code> RewriteRule patterns with <code>^/</code> normally:</p>

<pre><code> RewriteRule ^/article/\d+$  
              
</code></pre>

<p>This is often seen in old tutorials. And it used to be correct for ancient Apache 1.x versions. Nowadays request paths are conveniently <em>fully <strong>directory-relative</strong></em> in <code>.htaccess</code> RewriteRules. Just leave the leading <code>/</code> out.</p>

<p>· Note that the leading slash is still correct in <code>&lt;VirtualHost&gt;</code> sections though. Which is why you often see it <code>^/?</code> optionalized for rule parity.<br>
· Or when using a <code>RewriteCond %{REQUEST_URI}</code> you'd still match for a leading <code>/</code>.<br>
· See also <a href="https://webmasters.stackexchange.com/questions/27118/when-is-the-leading-slash-needed-in-mod-rewrite-patterns">Webmaster.SE: When is the leading slash (/) needed in mod_rewrite patterns?</a></p></li>
<li><h3><code>&lt;IfModule *&gt;</code> wrappers begone!</h3>

<p>You've probably seen this in many examples:</p>

<pre><code>&lt;IfModule mod_rewrite.c&gt;
   Rewrite 
&lt;/IfModule&gt;
</code></pre>

<ul>
<li>It <em>does</em> make sense in <code>&lt;VirtualHost&gt;</code> sections - if it was combined with another fallback option, such as ScriptAliasMatch. (But nobody ever does that).  </li>
<li>And it's commonly distributed for default <code>.htaccess</code> rulesets with many open source projects. There it's just meant as fallback, and keeps "ugly" URLs work as default.</li>
</ul>

<p>However you <strong>don't want</strong> that usually in your own <code>.htaccess</code> files. </p>

<ul>
<li>Firstly, mod_rewrite does not randomly disengage. (If it did, you'd have bigger problems). </li>
<li>Were it really be disabled, your RewriteRules still wouldn't work anyway.</li>
<li>It's meant to prevent HTTP <code>500</code> errors. What it usually accomplishes is gracing your users with HTTP <code>404</code> errors instead. (Not <em>so much</em> more user-friendly if you think about it.)</li>
<li>Practically it just suppresses the more useful log entries, or server notification mails. You'd be <strong>none the wiser</strong> as to why your RewriteRules never work.</li>
</ul>

<blockquote>
  <p>What seems enticing as generalized safeguard, often turns out to be an obstacle in practice.</p>
</blockquote></li>
<li><h3>Don't use <code>RewriteBase</code> unless needed</h3>

<p>Many copy+paste examples contain a <code>RewriteBase /</code> directive. Which happens to be the implicit default anyway. So you don't actually need this. It's a workaround for fancy VirtualHost rewriting schemes, and misguessed DOCUMENT_ROOT paths for some shared hosters.</p>

<p>It makes sense to use with individual web applications in deeper subdirectories. It can shorten RewriteRule patterns in such cases. Generally it's best to prefer relative path specifiers in per-directory rule sets.</p>

<p>See also <a href="https://stackoverflow.com/questions/704102/how-does-rewritebase-work-in-htaccess">How does RewriteBase work in .htaccess</a></p></li>
<li><h3>Disable <code>MultiViews</code> when virtual paths overlap</h3>

<p>URL rewriting is primarily used for supporting <em>virtual</em> incoming paths. Commonly you just have one dispatcher script (<code>index.php</code>) or a few individual handlers (<code>articles.php</code>, <code>blog.php</code>, <code>wiki.php</code>, ). The latter <a href="https://stackoverflow.com/a/1298917">might clash</a> with similar virtual RewriteRule paths.</p>

<p>A request for <code>/article/123</code> for example could map to <code>article.php</code> with a <code>/123</code> PATH_INFO implicitly. You'd either have to guard your rules then with the commonplace <code>RewriteCond</code> <code>!-f</code>+<code>!-d</code>, and/or disable PATH_INFO support, or perhaps just disable <code>Options -MultiViews</code>.</p>

<p>Which is not to say you always <em>have to</em>. Content-Negotiation is just an automatism to virtual resources.</p></li>
<li><h3>Ordering is important</h3>

<p>See <a href="https://serverfault.com/questions/214512/redirect-change-urls-or-redirect-http-to-https-in-apache-everything-you-ever">Everything you ever wanted to know about mod_rewrite</a>
if you haven't already. Combining multiple RewriteRules often leads to interaction. This isn't something to prevent habitually per <code>[L]</code> flag, but a scheme you'll embrace once versed.
You <strong>can <em>re-re-re</em>write</strong> virtual paths from one rule to another, until it reaches an actual target handler.</p>

<p>Still you'd <em>often</em> want to have the most specific rules (fixed string <code>/forum/</code> patterns, or more restrictive placeholders <code>[^/.]+</code>) in the <em>early</em> rules.
Generic slurp-all rules (<code>.*</code>) are better left to the <em>later</em> ones. (An exception is a <code>RewriteCond -f/-d</code> guard as primary block.)</p></li>
<li><h3>Stylesheets and images stop working</h3>

<p>When you introduce virtual directory structures <code>/blog/article/123</code> this impacts relative resource references in HTML (such as <code>&lt;img src=mouse.png&gt;</code>).
Which can be solved by:</p>

<ul>
<li>Only using server-absolute references <code>href="/old.html"</code> or <code>src="/logo.png"</code></li>
<li>Often simply by adding <code>&lt;base href="/index"&gt;</code> into your HTML <code>&lt;head&gt;</code> section.
This implicitly rebinds relative references to what they were before.</li>
</ul>

<p>You could alternatively craft further RewriteRules to rebind <code>.css</code> or <code>.png</code> paths to their original locations.
But that's both unneeded, or incurs extra redirects and hampers caching.</p>

<p>See also: <a href="https://stackoverflow.com/questions/27744603/css-js-and-images-do-not-display-with-pretty-url">CSS, JS and images do not display with pretty url</a></p></li>
<li><h3>RewriteConds just mask one RewriteRule</h3>

<p>A common misinterpetation is that a RewriteCond blocks multiple RewriteRules (because they're visually arranged together):</p>

<pre><code> RewriteCond %{SERVER_NAME} localhost
 RewriteRule ^secret  admin/tools.php
 RewriteRule ^hidden  sqladmin.cgi
</code></pre>

<p>Which it doesn't per default. You can <a href="https://stackoverflow.com/questions/7218164/multiple-rewriterules-for-single-rewritecond-in-htaccess">chain them</a> using the <code>[S=2]</code> flag. Else you'll have to repeat them. While sometimes you can craft an "inverted" primary rule to [END] the rewrite processing early.</p></li>
<li><h3>QUERY_STRING exempt from RewriteRules</h3>

<p>You can't match <code>RewriteRule index.php\?x=y</code>, because mod_rewrite compares just against relative paths per default. You can match them separately however via:</p>

<pre><code> RewriteCond %{QUERY_STRING} \b(?:param)=([^&amp;]+)(?:&amp;|$)
 RewriteRule ^add/(.+)$  add/%1/$1  # 
</code></pre>

<p>See also <a href="https://stackoverflow.com/questions/2252238/how-can-i-match-query-string-variables-with-mod-rewrite">How can I match query string variables with mod_rewrite?</a></p></li>
<li><h3><code>.htaccess</code> vs. <code>&lt;VirtualHost&gt;</code></h3>

<p>If you're using RewriteRules in a per-directory config file, then worrying about regex performance is pointless. Apache retains
compiled PCRE patterns longer than a PHP process with a common routing framework. For high-traffic sites you should however consider
moving rulesets into the vhost server configuration, once they've been battle-tested.</p>

<p>In this case, prefer the optionalized <code>^/?</code> directory separator prefix. This allows to move RewriteRules freely between PerDir and server
config files.</p></li>
<li><h3>Whenever something <em>doesn't work</em></h3>

<p>Fret not. </p>

<ul>
<li><p><strong>Compare <code>access.log</code> and <code>error.log</code></strong></p>

<p>Often you can figure out how a RewriteRule misbehaves just from looking at your <code>error.log</code> and <code>access.log</code>.
Correlate access times to see which request path originally came in, and which path/file Apache couldn't resolve to (error 404/500).</p>

<p>This doesn't tell you which RewriteRule is the culprit. But inaccessible final paths like <code>/docroot/21-.itle?index.php</code> may give away where to inspect further.
Otherwise disable rules until you get some predictable paths.</p></li>
<li><p><strong>Enable the RewriteLog</strong></p>

<p>See <a href="https://wiki.apache.org/httpd/RewriteLog" rel="noreferrer">Apache RewriteLog</a> docs. For debugging you can enable it in the vhost sections:</p>

<pre><code># Apache 2.2
RewriteLogLevel 5
RewriteLog /tmp/rewrite.log

# Apache 2.4
LogLevel alert rewrite:trace5
#ErrorLog /tmp/rewrite.log
</code></pre>

<p>That yields a detailed summary of how incoming request paths get modified by each rule:</p>

<pre><code>[..] applying pattern '^test_.*$' to uri 'index.php'
[..] strip per-dir prefix: /srv/www/vhosts/hc-profi/index.php -&gt; index.php
[..] applying pattern '^index\.php$' to uri 'index.php'
</code></pre>

<p>Which helps to narrow down overly generic rules and regex mishaps.</p>

<p>See also:<br>
· <a href="https://stackoverflow.com/questions/945047/htaccess-not-working-mod-rewrite">.htaccess not working (mod_rewrite)</a><br>
· <a href="https://stackoverflow.com/questions/9153262/tips-for-debugging-htaccess-rewrite-rules">Tips for debugging .htaccess rewrite rules</a></p></li>
<li><p><strong>Before asking your own question</strong></p>

<p>As you might know, Stack Overflow is very suitable for asking questions on mod_rewrite. Make them <a href="https://stackoverflow.com/help/on-topic">on-topic</a>
by including prior research and attempts (avoid redundant answers), demonstrate basic <a href="/questions/tagged/regex" class="post-tag" title="show questions tagged 'regex'" rel="tag">regex</a> understanding, and:</p>

<ul>
<li>Include <em>full</em> examples of input URLs, falsly rewritten target paths, your real directory structure.</li>
<li>The complete RewriteRule set, but <em>also</em> single out the presumed defective one.</li>
<li>Apache and PHP versions, OS type, filesystem, DOCUMENT_ROOT, and PHPs <code>$_SERVER</code> environment if it's about a parameter mismatch.</li>
<li>An excerpt from your <code>access.log</code> and <code>error.log</code> to verify what the existing rules resolved to. Better yet, a <code>rewrite.log</code> summary.</li>
</ul>

<p>This nets quicker and more exact answers, and makes them more useful to others.</p></li>
</ul></li>
<li><h3>Comment your <code>.htaccess</code></h3>

<p>If you copy examples from somewhere, take care to include a <code># comment and origin link</code>. While it's merely bad manners to omit attribution,
it often really hurts maintenance later. Document any code or tutorial source. In particular while unversed you should be
all the more interested in not treating them like magic blackboxes.</p></li>
<li><h3>It's not "SEO"-URLs</h3>

<p><em>Disclaimer: Just a pet peeve.</em> You often hear pretty URL rewriting schemes referred to as "SEO" links or something. While this is useful for googling examples, it's a dated misnomer.</p>

<p>None of the modern search engines are really disturbed by <code>.html</code> and <code>.php</code> in path segments, or <code>?id=123</code> query strings for that matter. Search engines of old, such as AltaVista, <em>did</em> avoid crawling websites with potentially ambigious access paths. Modern crawlers are often even craving for deep web resources.</p>

<p>What "pretty" URLs should conceptionally be used for is making websites <strong><em>user-friendly</em></strong>.</p>

<ol>
<li>Having readable and obvious resource schemes.</li>
<li>Ensuring URLs are long-lived (AKA <a href="https://en.wikipedia.org/wiki/Permalink" rel="noreferrer">permalinks</a>).</li>
<li>Providing discoverability through <code>/common/tree/nesting</code>.</li>
</ol>

<p>However don't sacrifice unique requirements for conformism.</p></li>
</ul>



<h3>Tools</h3>

<p>There are various online tools to generate RewriteRules for most GET-parameterish URLs:</p>

<ul>
<li><a href="http://www.generateit.net/mod-rewrite/index.php" rel="noreferrer">http://www.generateit.net/mod-rewrite/index.php</a></li>
<li><a href="http://www.ipdistance.com/mod_rewrite.php" rel="noreferrer">http://www.ipdistance.com/mod_rewrite.php</a></li>
<li><a href="http://webtools.live2support.com/misc_rewrite.php" rel="noreferrer">http://webtools.live2support.com/misc_rewrite.php</a></li>
</ul>

<p>Mostly just output <code>[^/]+</code> generic placeholders, but likely suffices for trivial sites.</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/.htaccess">.htaccess</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/mod-rewrite">mod-rewrite</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/friendly-url">friendly-url</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>Alternatives to mod_rewrite</h2>

<p>Many basic virtual URL schemes can be achieved without using RewriteRules. Apache allows PHP scripts to be invoked without <code>.php</code> extension, and with a virtual <code>PATH_INFO</code> argument.</p>

<ol>
<li><h3>Use the <a href="https://stackoverflow.com/questions/2261951/what-exactly-is-path-info-in-php">PATH_INFO</a>, Luke</h3>

<p>Nowadays <a href="http://httpd.apache.org/docs/2.4/en/mod/core.html#acceptpathinfo" rel="noreferrer"><code>AcceptPathInfo On</code></a> is often enabled by default. Which basically allows <code>.php</code> and other resource URLs to carry a virtual argument:</p>

<pre><code>http://example.com/script.php/virtual/path
</code></pre>

<p>Now this <code>/virtual/path</code> shows up in PHP as <a href="https://secure.php.net/manual/en/reserved.variables.server.php#~PATH_INFO" rel="noreferrer"><code>$_SERVER["PATH_INFO"]</code></a> where you can handle any extra arguments however you like.</p>

<p>This isn't as convenient as having Apache separate input path segments into <code>$1</code>, <code>$2</code>, <code>$3</code> and passing them as distinct <code>$_GET</code> variables to PHP. It's merely emulating "pretty URLs" with less configuration effort.</p></li>
<li><h3>Enable <a href="http://httpd.apache.org/docs/2.4/mod/mod_negotiation.html" rel="noreferrer">MultiViews</a> to hide the <code>.php</code> extension</h3>

<p>The simplest option to also eschew <code>.php</code> "file extensions" in URLs is enabling:</p>

<pre><code>Options +MultiViews
</code></pre>

<p>This has Apache select <code>article.php</code> for HTTP requests on <code>/article</code> due to the matching basename. And this works well together with the aforementioned PATH_INFO feature. So you can just use URLs like <code>http://example.com/article/virtual/title</code>. Which makes sense if you have a traditional web application with multiple PHP invocation points/scripts.</p>

<p>Note that MultiViews has a different/broader purpose though. It incurs a <em>very minor</em> performance penalty, because Apache always looks for other files with matching basenames. It's actually meant for <a href="https://en.wikipedia.org/wiki/Content_negotiation" rel="noreferrer">Content-Negotiation</a>, so browsers receive the best alternative among available resources (such as <code>article.en.php</code>, <code>article.fr.php</code>, <code>article.jp.mp4</code>).</p></li>
<li><h3>SetType or SetHandler for extensionless <code>.php</code> scripts</h3>

<p>A more directed approach to avoid carrying around <code>.php</code> suffixes in URLs is <a href="http://php.net/manual/en/security.hiding.php" rel="noreferrer">configuring the PHP handler</a> for other file schemes. The simplest option is overriding the default MIME/handler type via <code>.htaccess</code>:</p>

<pre><code>DefaultType application/x-httpd-php
</code></pre>

<p>This way you could just rename your <code>article.php</code> script to just <code>article</code> (without extension), but still have it processed as PHP script.</p>

<p>Now this can have some security and performance implications, because all extensionless files would be piped through PHP now. Therefore you can alternatively set this behaviour for individual files only:</p>

<pre><code>&lt;Files article&gt;
  SetHandler application/x-httpd-php
  # or SetType 
&lt;/Files&gt;
</code></pre>

<p>This is somewhat dependent on your server setup and the used PHP SAPI. Common alternatives include <code>ForceType application/x-httpd-php</code> or <code>AddHandler php5-script</code>.</p>

<blockquote>
  <p>Again take note that such settings propagate from one <code>.htaccess</code> to subfolders. You always should disable script execution (<code>SetHandler None</code> and <code>Options -Exec</code> or <code>php_flag engine off</code> etc.) for static resources, and upload/ directories etc.</p>
</blockquote></li>
<li><h3>Other Apache rewriting schemes</h3>

<p>Among its many options, Apache provides <code>mod_alias</code> features - which sometimes work just as well as <code>mod_rewrite</code>s RewriteRules. Note that most of those must be set up in a <code>&lt;VirtualHost&gt;</code> section however, not in per-directory <code>.htaccess</code> config files.</p>

<ul>
<li><p><a href="http://httpd.apache.org/docs/2.2/mod/mod_alias.html#scriptaliasmatch" rel="noreferrer"><code>ScriptAliasMatch</code></a> is primarily for CGI scripts, but also ought to works for PHP. It allows regexps just like any <code>RewriteRule</code>. In fact it's perhaps the most robust option to configurate a catch-all front controller.</p></li>
<li><p>And a plain <a href="http://httpd.apache.org/docs/2.2/mod/mod_alias.html#alias" rel="noreferrer"><code>Alias</code></a> helps with a few simple rewriting schemes as well.</p></li>
<li><p>Even a plain <a href="http://httpd.apache.org/docs/2.2/mod/core.html#errordocument" rel="noreferrer"><code>ErrorDocument</code></a> directive could be used to let a PHP script handle virtual paths. Note that this is a kludgy workaround however, prohibits anything but GET requests, and floods the error.log by definition.</p></li>
</ul>

<p>See <a href="http://httpd.apache.org/docs/2.2/urlmapping.html" rel="noreferrer">http://httpd.apache.org/docs/2.2/urlmapping.html</a> for further tips.</p></li>
</ol>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/.htaccess">.htaccess</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/mod-rewrite">mod-rewrite</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/friendly-url">friendly-url</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>A frequent question about URL rewriting goes something like this:</p>
<blockquote>
<p>I currently have URLs that look like this:</p>
<ul>
<li><a href="http://example.com/my-blog/entry.php?id=42" rel="nofollow noreferrer">http://example.com/my-blog/entry.php?id=42</a></li>
<li><a href="http://example.com/my-blog/entry.php?id=123" rel="nofollow noreferrer">http://example.com/my-blog/entry.php?id=123</a></li>
</ul>
<p>I made them pretty like this:</p>
<ul>
<li><a href="http://example.com/my-blog/42--i-found-the-answer" rel="nofollow noreferrer">http://example.com/my-blog/42--i-found-the-answer</a></li>
<li><a href="http://example.com/my-blog/123--count-on-me" rel="nofollow noreferrer">http://example.com/my-blog/123--count-on-me</a></li>
</ul>
<p>By using this in my .htaccess file:</p>
<pre><code>RewriteRule my-blog/(\d+)--i-found-the-answer my-blog/entry.php?id=$1 
</code></pre>
<p>But I want them to look like this:</p>
<ul>
<li><a href="http://example.com/my-blog/i-found-the-answer" rel="nofollow noreferrer">http://example.com/my-blog/i-found-the-answer</a></li>
<li><a href="http://example.com/my-blog/count-on-me" rel="nofollow noreferrer">http://example.com/my-blog/count-on-me</a></li>
</ul>
<p>How can I change my .htaccess file to make that work?</p>
</blockquote>
<hr>
<p>The simple answer is that you can't.</p>
<h2>Rewrite rules don't make ugly URLs pretty, they make pretty URLs ugly</h2>
<p>Whenever you type in a URL in a web browser, or follow a link, or display a page that references an image, etc, the browser makes a <strong>request</strong> for a particular URL. That request ends up at a web server, and the web server gives a <strong>response</strong>.</p>
<p>A <em>rewrite rule</em> is simply a rule that says "when the browser <strong>requests</strong> a URL that looks like X, give them the same <strong>response</strong> as if they'd requested Y".</p>
<p>When we make rules to handle "pretty URLs", the <strong>request</strong> is the <strong>pretty URL</strong>, and the <strong>response</strong> is based on the internal <strong>ugly URL</strong>. It can't go the other way around, because we're writing the rule on the server, and all the server sees is the request the browser sent it.</p>
<h2>You can't use information that you don't have</h2>
<p>Given this basic model of what a rewrite rule does, imagine you were giving the instructions to a human. You could say:</p>
<ul>
<li>If you see a number in the request, like the "42" in "http://example.com/my-blog/42--i-found-the-answer", put that number on the end of "my-blog/entry.php?id="</li>
</ul>
<p>But if the information isn't there in the request, your instructions won't make any sense:</p>
<ul>
<li>If the request has "my-blog" in it, like "http://example.com/my-blog/i-found-the-answer", put the right number on the end of "my-blog/entry.php?id="</li>
</ul>
<p>The person reading those instructions is going to say "Sorry, how do I know what the right number is?"</p>
<h2>Redirects: "This URL is currently out of office..."</h2>
<p>Sometimes, you see rules that are <em>the other way around</em>, like this:</p>
<pre><code>RewriteRule my-blog/entry.php?id=(\d+) my-blog/$1--i-found-the-answer [R]
</code></pre>
<p>This rule <em>does</em> match an ugly URL on the left, and produce a pretty URL on the right. So surely we could write it without the ID at the beginning of the pretty part?</p>
<pre><code>RewriteRule my-blog/entry.php?id=(\d+) my-blog/i-found-the-answer [R]
</code></pre>
<p>The important difference is the <code>[R]</code> flag, which means that this rule is actually a <strong>redirect</strong> - instead of "serve the response from this URL", it means "tell the browser to load this URL instead".</p>
<p>You can think of this like one of those automated e-mail replies, saying "Sorry, Joe Bloggs is currently on holiday; please send your message to Jane Smith instead." In the same way, the redirect above tells the browser "Sorry, there's no content for <code>http://example.com/my-blog/entry.php?id=42</code>; please request <code>http://example.com/my-blog/42--i-found-the-answer</code> instead.</p>
<p>The important point of this analogy is that the above message wouldn't be much use if there wasn't actually anyone called Jane Smith working there, or if they had no idea how to answer the questions Joe Bloggs normally dealt with. Similarly, a <strong>redirect</strong> is no use if the URL you tell the browser to request doesn't actually do anything useful. Once the browser follows the redirect, it's going to make a <strong>new request</strong>, and when the server receives the new request, it still won't know what the ID number is.</p>
<h2>But some sites do it, so it must be possible!</h2>
<p>A web server only has the information present in the request, but <em>how</em> it uses that information is up to you.</p>
<p>For instance, rather than looking up a blog post by ID, you could store its URL directly in the database, then write some code to do the matching directly in PHP, Python, node.js, etc. Or you could have the same URL show different content based on the language the user has set in their browser, or based on a cookie, etc.</p>
<p>Another thing you can do is use a form (or API request) with a method of POST rather than GET. That means additional information is sent in the "body" of the request, separate from the URL. It still has to be <em>sent</em>, but it's not as obvious in the browser, won't be included in bookmarks, etc.</p>
<p>But you can't write a single line in a .htaccess file that performs miracles.</p>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/using-asyncawait-with-a-foreach-loop-1657384512667">Using async/await with a forEach loop</a><a href="/questions/how-do-i-set-clear-and-toggle-a-single-bit-1657388227052">How do I set, clear, and toggle a single bit?</a><a href="/questions/what-is-this-weird-colon-member-(%22-:-%22)-syntax-in-the-constructor-1657387264047">What is this weird colon-member (&quot; : &quot;) syntax in the constructor?</a><a href="/questions/php-mail-function-doesn&#x27;t-complete-sending-of-e-mail-1657384307499">PHP mail function doesn&#x27;t complete sending of e-mail</a><a href="/questions/what-is-the-meaning-of-single-and-double-underscore-before-an-object-name-1657387926929">What is the meaning of single and double underscore before an object name?</a><a href="/questions/when-to-use-virtual-destructors-1657388152135">When to use virtual destructors?</a><a href="/questions/resolve-build-errors-due-to-circular-dependency-amongst-classes-1657384903462">Resolve build errors due to circular dependency amongst classes</a><a href="/questions/what-is-__init__.py-for-1657388415243">What is __init__.py for?</a><a href="/questions/why-is-using-%22for...in%22-for-array-iteration-a-bad-idea-1657384653458">Why is using &quot;for...in&quot; for array iteration a bad idea?</a><a href="/questions/how-do-i-profile-a-python-script-1657388346692">How do I profile a Python script?</a><a href="/questions/how-to-include-a-php-variable-inside-a-mysql-statement-1657387669365">How to include a PHP variable inside a MySQL statement</a><a href="/questions/what-is-the-javascript-version-of-sleep()-1657387391406">What is the JavaScript version of sleep()?</a><a href="/questions/storing-images-in-db-yea-or-nay-1657387248067">Storing Images in DB - Yea or Nay?</a><a href="/questions/how-can-i-get-useful-error-messages-in-php-1657384609065">How can I get useful error messages in PHP?</a><a href="/questions/how-do-i-expire-a-php-session-after-30-minutes-1657387990658">How do I expire a PHP session after 30 minutes?</a><a href="/questions/how-do-you-convert-a-byte-array-to-a-hexadecimal-string-and-vice-versa-1657388010428">How do you convert a byte array to a hexadecimal string, and vice versa?</a><a href="/questions/daylight-saving-time-and-time-zone-best-practices-closed-1657387973687">Daylight saving time and time zone best practices [closed]</a><a href="/questions/why-can-templates-only-be-implemented-in-the-header-file-1657384341933">Why can templates only be implemented in the header file?</a><a href="/questions/make-container-shrink-to-fit-child-elements-as-they-wrap-1657388134549">Make container shrink-to-fit child elements as they wrap</a><a href="/questions/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors-1657384750732">What is a stack trace, and how can I use it to debug my application errors?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;To understand what mod_rewrite does you first need to understand how a web server works. A web server responds to \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Http\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;em\u0026gt;HTTP requests\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt;. An HTTP request at its most basic level looks like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;GET /foo/bar.html HTTP/1.1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This is the simple request of a browser to a web server requesting the \u0026lt;em\u0026gt;URL\u0026lt;/em\u0026gt; \u0026lt;code\u0026gt;/foo/bar.html\u0026lt;/code\u0026gt; from it. It is important to stress that it does not request a \u0026lt;em\u0026gt;file\u0026lt;/em\u0026gt;, it requests just some arbitrary URL. The request may also look like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;GET /foo/bar?baz=42 HTTP/1.1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This is just as valid a request for a URL, and it has more obviously nothing to do with files.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The web server is an application listening on a port, accepting HTTP requests coming in on that port and returning a response. A web server is entirely free to respond to any request in any way it sees fit/in any way you have configured it to respond. This response is not a file, it\u0026apos;s an \u0026lt;em\u0026gt;HTTP response\u0026lt;/em\u0026gt; which may or may not have anything to do with physical files on any disk. A web server doesn\u0026apos;t have to be Apache, there are many other web servers which are all just programs which run persistently and are attached to a port which respond to HTTP requests. You can write one yourself. This paragraph was intended to divorce you from any notion that URLs directly equal files, which is really important to understand. :)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The default configuration of most web servers is to look for a file that matches the URL on the hard disk. If the \u0026lt;em\u0026gt;document root\u0026lt;/em\u0026gt; of the server is set to, say, \u0026lt;code\u0026gt;/var/www\u0026lt;/code\u0026gt;, it may look whether the file \u0026lt;code\u0026gt;/var/www/foo/bar.html\u0026lt;/code\u0026gt; exists and serve it if so. If the file ends in \u0026quot;.php\u0026quot; it will invoke the PHP interpreter and \u0026lt;em\u0026gt;then\u0026lt;/em\u0026gt; return the result. All this association is completely configurable; a file doesn\u0026apos;t have to end in \u0026quot;.php\u0026quot; for the web server to run it through the PHP interpreter, and the URL doesn\u0026apos;t have to match any particular file on disk for something to happen.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;mod_rewrite is a way to \u0026lt;em\u0026gt;rewrite\u0026lt;/em\u0026gt; the internal request handling. When the web server receives a request for the URL \u0026lt;code\u0026gt;/foo/bar\u0026lt;/code\u0026gt;, you can \u0026lt;em\u0026gt;rewrite\u0026lt;/em\u0026gt; that URL into something else before the web server will look for a file on disk to match it. Simple example:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;RewriteEngine On\nRewriteRule   /foo/bar /foo/baz\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This rule says \u0026lt;em\u0026gt;whenever a request matches \u0026quot;/foo/bar\u0026quot;, rewrite it to \u0026quot;/foo/baz\u0026quot;.\u0026lt;/em\u0026gt; The request will then be handled as if \u0026lt;code\u0026gt;/foo/baz\u0026lt;/code\u0026gt; had been requested instead. This can be used for various effects, for example:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;RewriteRule (.*) $1.html\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This rule matches anything (\u0026lt;code\u0026gt;.*\u0026lt;/code\u0026gt;) and \u0026lt;em\u0026gt;captures\u0026lt;/em\u0026gt; it (\u0026lt;code\u0026gt;(..)\u0026lt;/code\u0026gt;), then rewrites it to append \u0026quot;.html\u0026quot;. In other words, if \u0026lt;code\u0026gt;/foo/bar\u0026lt;/code\u0026gt; was the requested URL, it will be handled as if \u0026lt;code\u0026gt;/foo/bar.html\u0026lt;/code\u0026gt; had been requested. See \u0026lt;a href=\u0026quot;http://regular-expressions.info\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://regular-expressions.info\u0026lt;/a\u0026gt; for more information about regular expression matching, capturing and replacements.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Another often encountered rule is this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;RewriteRule (.*) index.php?url=$1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This, again, matches anything and rewrites it to the file index.php with the originally requested URL appended in the \u0026lt;code\u0026gt;url\u0026lt;/code\u0026gt; query parameter. I.e., for any and all requests coming in, the file index.php is executed and this file will have access to the original request in \u0026lt;code\u0026gt;$_GET[\u0026apos;url\u0026apos;]\u0026lt;/code\u0026gt;, so it can do anything it wants with it.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Primarily you put these rewrite rules into your \u0026lt;em\u0026gt;web server configuration file\u0026lt;/em\u0026gt;. Apache also allows* you to put them into a file called \u0026lt;code\u0026gt;.htaccess\u0026lt;/code\u0026gt; within your document root (i.e. next to your .php files).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;sub\u0026gt;* \u0026lt;em\u0026gt;If\u0026lt;/em\u0026gt; allowed by the primary Apache configuration file; it\u0026apos;s optional, but often enabled.\u0026lt;/sub\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;h1\u0026gt;What mod_rewrite does \u0026lt;em\u0026gt;not\u0026lt;/em\u0026gt; do\u0026lt;/h1\u0026gt;\n\n\u0026lt;p\u0026gt;mod_rewrite does not magically make all your URLs \u0026quot;pretty\u0026quot;. This is a common misunderstanding. If you have this link in your web site:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;\u0026amp;lt;a href=\u0026quot;/my/ugly/link.php?is=not\u0026amp;amp;amp;very=pretty\u0026quot;\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;there\u0026apos;s nothing mod_rewrite can do to make that pretty. In order to make this a pretty link, you have to:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Change the link to a pretty link:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;\u0026amp;lt;a href=\u0026quot;/my/pretty/link\u0026quot;\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Use mod_rewrite on the server to handle the request to the URL \u0026lt;code\u0026gt;/my/pretty/link\u0026lt;/code\u0026gt; using any one of the methods described above.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;(One could use \u0026lt;a href=\u0026quot;http://httpd.apache.org/docs/current/mod/mod_substitute.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;mod_substitute\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; in conjunction to transform outgoing HTML pages and their contained links. Though this is usally more effort than just updating your HTML resources.)\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;There\u0026apos;s a lot mod_rewrite can do and very complex matching rules you can create, including chaining several rewrites, proxying requests to a completely different service or machine, returning specific HTTP status codes as responses, redirecting requests etc. It\u0026apos;s very powerful and can be used to great good if you understand the fundamental HTTP request-response mechanism. It does \u0026lt;em\u0026gt;not\u0026lt;/em\u0026gt; automatically make your links pretty.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;See the \u0026lt;a href=\u0026quot;http://httpd.apache.org/docs/current/mod/mod_rewrite.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;official documentation\u0026lt;/a\u0026gt; for all the possible flags and options.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;To expand on \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/20563773/1011145\u0026quot;\u0026gt;deceze\u0026apos;s answer\u0026lt;/a\u0026gt;, I wanted to provide a few examples and explanation of some other mod_rewrite functionality.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;All of the below examples assume that you have already included \u0026lt;code\u0026gt;RewriteEngine On\u0026lt;/code\u0026gt; in your \u0026lt;code\u0026gt;.htaccess\u0026lt;/code\u0026gt; file.\u0026lt;/p\u0026gt;\n\n\u0026lt;h1\u0026gt;Rewrite Example\u0026lt;/h1\u0026gt;\n\n\u0026lt;p\u0026gt;Lets take this example:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;RewriteRule ^blog/([0-9]+)/([A-Za-z0-9-\\+]+)/?$ /blog/index.php?id=$1\u0026amp;amp;title=$2 [NC,L,QSA]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The rule is split into 4 sections:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;RewriteRule\u0026lt;/code\u0026gt; - starts the rewrite rule\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;^blog/([0-9]+)/([A-Za-z0-9-\\+]+)/?$\u0026lt;/code\u0026gt; - This is called the pattern, however I\u0026apos;ll just refer to it as the left hand side of the rule - what you want to rewrite from\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;blog/index.php?id=$1\u0026amp;amp;title=$2\u0026lt;/code\u0026gt; - called the substitution, or right hand side of a rewrite rule - what you want to rewrite to\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;[NC,L,QSA]\u0026lt;/code\u0026gt; are flags for the rewrite rule, separated by a comma, which I will explain more on later\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;The above rewrite would allow you to link to something like \u0026lt;code\u0026gt;/blog/1/foo/\u0026lt;/code\u0026gt; and it would actually load \u0026lt;code\u0026gt;/blog/index.php?id=1\u0026amp;amp;title=foo\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;Left hand side of the rule\u0026lt;/h2\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;^\u0026lt;/code\u0026gt; indicates the start of the page name - so it will rewrite \u0026lt;code\u0026gt;example.com/blog/...\u0026lt;/code\u0026gt; but not \u0026lt;code\u0026gt;example.com/foo/blog/...\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Each set of \u0026lt;code\u0026gt;()\u0026lt;/code\u0026gt; parentheses represents a regular expression that we can capture as a variable in the right hand side of the rule. In this example:\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;The first set of brackets - \u0026lt;code\u0026gt;([0-9]+)\u0026lt;/code\u0026gt; - matches a string with a minimum of 1 character in length and with only numeric values (i.e. 0-9). This can be referenced with \u0026lt;code\u0026gt;$1\u0026lt;/code\u0026gt; in the right hand side of the rule\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The second set of parentheses matches a string with a minimum of 1 character in length, containing only alphanumeric characters (A-Z, a-z, or 0-9) or \u0026lt;code\u0026gt;-\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;+\u0026lt;/code\u0026gt; (note \u0026lt;code\u0026gt;+\u0026lt;/code\u0026gt; is escaped with a backslash as without escaping it this will execute as a \u0026lt;a href=\u0026quot;http://www.regular-expressions.info/repeat.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;regex repetition character\u0026lt;/a\u0026gt;). This can be referenced with \u0026lt;code\u0026gt;$2\u0026lt;/code\u0026gt; in the right hand side of the rule\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; means that the preceding character is optional, so in this case both \u0026lt;code\u0026gt;/blog/1/foo/\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;/blog/1/foo\u0026lt;/code\u0026gt; would rewrite to the same place\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;$\u0026lt;/code\u0026gt; indicates this is the end of the string we want to match\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;h2\u0026gt;Flags\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;These are options that are added in square brackets at the end of your rewrite rule to specify certain conditions. Again, there are a lot of different flags which you can read up on in \u0026lt;a href=\u0026quot;http://httpd.apache.org/docs/2.2/rewrite/flags.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;the documentation\u0026lt;/a\u0026gt;, but I\u0026apos;ll go through some of the more common flags:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;NC\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The no case flag means that the rewrite rule is case insensitive, so for the example rule above this would mean that both \u0026lt;code\u0026gt;/blog/1/foo/\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;/BLOG/1/foo/\u0026lt;/code\u0026gt; (or any variation of this) would be matched.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;L\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The last flag indicates that this is the last rule that should be processed. This means that if and only if this rule matches, no further rules will be evaluated in the current rewrite processing run. If the rule does not match, all other rules will be tried in order as usual. If you do not set the \u0026lt;code\u0026gt;L\u0026lt;/code\u0026gt; flag, all following rules will be applied to the \u0026lt;em\u0026gt;rewritten\u0026lt;/em\u0026gt; URL afterwards.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;END\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Since Apache 2.4 you can also use the \u0026lt;code\u0026gt;[END]\u0026lt;/code\u0026gt; flag. A matching rule with it will \u0026lt;em\u0026gt;completely\u0026lt;/em\u0026gt; terminate further alias/rewrite processing. (Whereas the \u0026lt;code\u0026gt;[L]\u0026lt;/code\u0026gt; flag can oftentimes trigger a second round, for example when rewriting into or out of subdirectories.)\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;QSA\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The query string append flag allows us to pass in extra variables to the specified URL which will get added to the original get parameters. For our example this means that something like \u0026lt;code\u0026gt;/blog/1/foo/?comments=15\u0026lt;/code\u0026gt; would load \u0026lt;code\u0026gt;/blog/index.php?id=1\u0026amp;amp;title=foo\u0026amp;amp;comments=15\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;R\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This flag isn\u0026apos;t one I used in the example above, but is one I thought is worth mentioning. This allows you to specify a http redirect, with the option to include a status code (e.g. \u0026lt;code\u0026gt;R=301\u0026lt;/code\u0026gt;). For example if you wanted to do a 301 redirect on /myblog/ to /blog/ you would simply write a rule something like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;RewriteRule ^/myblog/(*.)$ /blog/$1 [R=301,QSA,L]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h1\u0026gt;Rewrite Conditions\u0026lt;/h1\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://httpd.apache.org/docs/2.2/mod/mod_rewrite.html#rewritecond\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Rewrite conditions\u0026lt;/a\u0026gt; make rewrites even more powerful, allowing you to specify rewrites for more specific situations. There are a lot of conditions which you can read about in \u0026lt;a href=\u0026quot;http://httpd.apache.org/docs/2.2/mod/mod_rewrite.html#rewritecond\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;the documentation\u0026lt;/a\u0026gt;, but I\u0026apos;ll touch on a few common examples and explain them:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;# if the host doesn\u0026apos;t start with www. then add it and redirect\nRewriteCond %{HTTP_HOST} !^www\\.\nRewriteRule ^ http://www.%{HTTP_HOST}%{REQUEST_URI} [L,R=301]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This is a very common practice, which will prepend your domain with \u0026lt;code\u0026gt;www.\u0026lt;/code\u0026gt; (if it isn\u0026apos;t there already) and execute a 301 redirect. For example, loading up \u0026lt;code\u0026gt;http://example.com/blog/\u0026lt;/code\u0026gt; it would redirect you to \u0026lt;code\u0026gt;http://www.example.com/blog/\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;# if it cant find the image, try find the image on another domain\nRewriteCond %{REQUEST_URI} \\.(jpg|jpeg|gif|png)$ [NC]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule (.*)$ http://www.example.com/$1 [L]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This is slightly less common, but is a good example of a rule that doesn\u0026apos;t execute if the filename is a directory or file that exists on the server.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;%{REQUEST_URI} \\.(jpg|jpeg|gif|png)$ [NC]\u0026lt;/code\u0026gt; will only execute the rewrite for files with a file extension of jpg, jpeg, gif or png (case insensitive). \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;%{REQUEST_FILENAME} !-f\u0026lt;/code\u0026gt; will check to see if the file exists on the current server, and only execute the rewrite if it doesn\u0026apos;t\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;%{REQUEST_FILENAME} !-d\u0026lt;/code\u0026gt; will check to see if the file exists on the current server, and only execute the rewrite if it doesn\u0026apos;t\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The rewrite will attempt to load the same file on another domain\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;h3\u0026gt;References\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Stack Overflow has \u0026lt;em\u0026gt;many\u0026lt;/em\u0026gt; other great resources to get started:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://serverfault.com/questions/214512/redirect-change-urls-or-redirect-http-to-https-in-apache-everything-you-ever\u0026quot;\u0026gt;Serverfault: \u0026lt;strong\u0026gt;Everything you ever wanted to know about mod_rewrite\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;br\u0026gt;\n\u0026lt;sup\u0026gt;(Keep in mind to remove the slash in \u0026lt;code\u0026gt;^/\u0026lt;/code\u0026gt; pattern prefixes for \u0026lt;code\u0026gt;.htaccess\u0026lt;/code\u0026gt; usage.)\u0026lt;/sup\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Do\u0026apos;s and Dont\u0026apos;s in \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/286004/hidden-features-of-mod-rewrite\u0026quot;\u0026gt;Hidden features of mod_rewrite\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Look through our \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/tagged/mod-rewrite?sort=frequent\u0026quot;\u0026gt;most popular mod-rewrite\u0026lt;/a\u0026gt; questions and answers.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Apache \u0026lt;a href=\u0026quot;http://httpd.apache.org/docs/2.4/rewrite/remapping.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;redirecting and remapping\u0026lt;/a\u0026gt; guide.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;AskApache \u0026lt;a href=\u0026quot;http://www.askapache.com/htaccess/htaccess.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;ultimate .htaccess guide\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;And the \u0026lt;a href=\u0026quot;/questions/tagged/mod-rewrite\u0026quot; class=\u0026quot;post-tag\u0026quot; title=\u0026quot;show questions tagged \u0026apos;mod-rewrite\u0026apos;\u0026quot; rel=\u0026quot;tag\u0026quot;\u0026gt;mod-rewrite\u0026lt;/a\u0026gt; \u0026lt;a href=\u0026quot;https://stackoverflow.com/tags/mod-rewrite/info\u0026quot;\u0026gt;tag wiki references\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;And newcomer-friendly regex overviews even:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Our \u0026lt;a href=\u0026quot;/questions/tagged/regex\u0026quot; class=\u0026quot;post-tag\u0026quot; title=\u0026quot;show questions tagged \u0026apos;regex\u0026apos;\u0026quot; rel=\u0026quot;tag\u0026quot;\u0026gt;regex\u0026lt;/a\u0026gt; \u0026lt;a href=\u0026quot;https://stackoverflow.com/tags/regex/info\u0026quot;\u0026gt;tag wiki\u0026lt;/a\u0026gt; for a syntax compendium.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;And the short \u0026lt;a href=\u0026quot;http://httpd.apache.org/docs/2.4/rewrite/intro.html#regex\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Apache regex summary\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Else \u0026lt;a href=\u0026quot;http://www.regular-expressions.info/quickstart.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;regexp.info\u0026lt;/a\u0026gt; for easy-to-understand basics.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;h2\u0026gt;Oft-used placeholders\u0026lt;/h2\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;.*\u0026lt;/code\u0026gt; matches anything, even an empty string. You don\u0026apos;t want to use this pattern everywhere, but often in the last fallback rule.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;[^/]+\u0026lt;/code\u0026gt; is more often used for path segments. It matches anything but the forward slash.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;\\d+\u0026lt;/code\u0026gt; only matches numeric strings.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;\\w+\u0026lt;/code\u0026gt; matches alphanumeric characters. It\u0026apos;s basically shorthand for \u0026lt;code\u0026gt;[A-Za-z0-9_]\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;[\\w\\-]+\u0026lt;/code\u0026gt; for \u0026quot;slug\u0026quot;-style path segments, using letters, numbers, dash \u0026lt;code\u0026gt;-\u0026lt;/code\u0026gt; \u0026lt;em\u0026gt;and\u0026lt;/em\u0026gt; \u0026lt;code\u0026gt;_\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;[\\w\\-.,]+\u0026lt;/code\u0026gt; adds periods and commas. Prefer an escaped \u0026lt;code\u0026gt;\\-\u0026lt;/code\u0026gt; dash in \u0026lt;code\u0026gt;[]\u0026lt;/code\u0026gt; charclasses.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;\\.\u0026lt;/code\u0026gt; denotes a literal period. Otherwise \u0026lt;code\u0026gt;.\u0026lt;/code\u0026gt; outside of \u0026lt;code\u0026gt;[]\u0026lt;/code\u0026gt; is placeholder for any symbol.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Each of these placeholders is usually wrapped in \u0026lt;code\u0026gt;()\u0026lt;/code\u0026gt; parentheses as capture group. And the whole pattern often in \u0026lt;code\u0026gt;^$\u0026lt;/code\u0026gt; start + end markers. Quoting \u0026quot;patterns\u0026quot; is optional.\u0026lt;/p\u0026gt;\n\n\u0026lt;h1\u0026gt;RewriteRules\u0026lt;/h1\u0026gt;\n\n\u0026lt;p\u0026gt;The following examples are PHP-centric and a bit more incremental, easier to adapt for similar cases.\nThey\u0026apos;re just summaries, often link to more variations or detailed Q\u0026amp;amp;As.\u0026lt;/p\u0026gt;\n\n\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Static mapping \u0026lt;br\u0026gt;  \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/contact\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt;, \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/about\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Shortening a few page names to internal file schemes is most simple:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; RewriteRule ^contact$  templ/contact.html\n RewriteRule ^about$    about.php\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Numeric identifiers \u0026lt;br\u0026gt;  \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/object/123\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Introducing shortcuts like \u0026lt;code\u0026gt;http://example.com/article/531\u0026lt;/code\u0026gt; to existing PHP scripts is also easy. The numeric placeholder can just be remapped to a \u0026lt;code\u0026gt;$_GET\u0026lt;/code\u0026gt; parameter:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; RewriteRule ^article/(\\d+)$    article-show.php?id=$1\n #                      \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Slug-style placeholders \u0026lt;br\u0026gt;  \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/article/with-some-title-slug\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;You can easily extend that rule to allow for \u0026lt;code\u0026gt;/article/title-string\u0026lt;/code\u0026gt; placeholders:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; RewriteRule ^article/([\\w-]+)$    article-show.php?title=$1\n #                       \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Note that \u0026lt;em\u0026gt;your script\u0026lt;/em\u0026gt; \u0026lt;strong\u0026gt;must\u0026lt;/strong\u0026gt; be able (or be adapted) to map those titles back to database-ids. RewriteRules alone can\u0026apos;t create or guess information out of thin air.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Slugs with numeric prefixes \u0026lt;br\u0026gt;  \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/readable/123-plus-title\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Therefore you\u0026apos;ll often see mixed \u0026lt;code\u0026gt;/article/529-title-slug\u0026lt;/code\u0026gt; paths used in practice:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; RewriteRule ^article/(\\d+)-([\\w-]+)$    article.php?id=$1\u0026amp;amp;title=$2\n #                      \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Now you could just skip passing the \u0026lt;code\u0026gt;title=$2\u0026lt;/code\u0026gt; anyway, because your script will typically rely on the database-id anyway. The \u0026lt;code\u0026gt;-title-slug\u0026lt;/code\u0026gt; has become arbitrary URL decoration.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Uniformity with alternative lists \u0026lt;br\u0026gt;  \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/foo/\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt; \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/bar/\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt; \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/baz/\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;If you have similar rules for multiple virtual page paths, then you can match and compact them with \u0026lt;code\u0026gt;|\u0026lt;/code\u0026gt; alternative lists. And again just reassign them to internal GET parameters:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; #                               \n RewriteRule ^(blog|post|user)/(\\w+)$  disp.php?type=$1\u0026amp;amp;id=$2\n #               \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You can split them out into individual \u0026lt;code\u0026gt;RewriteRule\u0026lt;/code\u0026gt;s should this get too complex.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Dispatching related URLs to different backends \u0026lt;br\u0026gt;  \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/date/SWITCH/backend\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;A more practical use of alternative lists are mapping request paths to distinct scripts. For example to provide uniform URLs for an older and a newer web application based on dates:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; #                   \n #                                    \n RewriteRule ^blog/(2009|2010|2011)/([\\d-]+)/?$ old/blog.php?date=$2\n RewriteRule ^blog/(\\d+)/([\\d-]+)/?$  modern/blog/index.php?start=$2\n #                          \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This simply remaps 2009-2011 posts onto one script, and all other years implicitly to another handler.\nNote the \u0026lt;em\u0026gt;more specific rule coming first\u0026lt;/em\u0026gt;. Each script might use different GET params.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Other delimiters than just \u0026lt;code\u0026gt;/\u0026lt;/code\u0026gt; path slashes \u0026lt;br\u0026gt;  \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/user-123-name\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;You\u0026apos;re most commonly seeing RewriteRules to simulate a virtual directory structure. But you\u0026apos;re not forced to be uncreative. You can as well use \u0026lt;code\u0026gt;-\u0026lt;/code\u0026gt; hyphens for segmenting or structure.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; RewriteRule ^user-(\\d+)$    show.php?what=user\u0026amp;amp;id=$1\n #                   \n # This could use `(\\w+)` alternatively for user names instead of ids.\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;For the also common \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/wiki:section:Page_Name\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt; scheme:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; RewriteRule ^wiki:(\\w+):(\\w+)$  wiki.php?sect=$1\u0026amp;amp;page=$2 \n #                          \n #                         \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Occasionally it\u0026apos;s suitable to alternate between \u0026lt;code\u0026gt;/\u0026lt;/code\u0026gt;-delimiters and \u0026lt;code\u0026gt;:\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;.\u0026lt;/code\u0026gt; in the same rule even. Or have two RewriteRules again to map variants onto different scripts.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Optional trailing \u0026lt;code\u0026gt;/\u0026lt;/code\u0026gt; slash \u0026lt;br\u0026gt;  \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/dir\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt; = \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/dir/\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;When opting for directory-style paths, you can make it reachable with and without a final \u0026lt;kbd\u0026gt;/\u0026lt;/kbd\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; RewriteRule ^blog/([\\w-]+)/?$  blog/show.php?id=$1\n #                         \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Now this handles both \u0026lt;code\u0026gt;http://example.com/blog/123\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;/blog/123/\u0026lt;/code\u0026gt;. And the \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/?$\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt; approach is easy to append onto any other RewriteRule.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Flexible segments for virtual paths  \u0026lt;br\u0026gt;  \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;.*/.*/.*/.*\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Most rules you\u0026apos;ll encounter map a constrained set of \u0026lt;code\u0026gt;//\u0026lt;/code\u0026gt; resource path segments to individual GET parameters. Some scripts \u0026lt;a href=\u0026quot;https://stackoverflow.com/q/3655893\u0026quot;\u0026gt;handle a variable number of options\u0026lt;/a\u0026gt; however.\nThe Apache regexp engine doesn\u0026apos;t allow optionalizing an arbitrary number of them. But you can easily expand it into a rule block yourself:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; Rewriterule ^(\\w+)/?$                in.php?a=$1\n Rewriterule ^(\\w+)/(\\w+)/?$          in.php?a=$1\u0026amp;amp;b=$2\n Rewriterule ^(\\w+)/(\\w+)/(\\w+)/?$    in.php?a=$1\u0026amp;amp;b=$2\u0026amp;amp;c=$3\n #              \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;If you need up to five path segments, then copy this scheme along into five rules. You can of course use a more specific \u0026lt;code\u0026gt;[^/]+\u0026lt;/code\u0026gt; placeholder each.\nHere the ordering isn\u0026apos;t as important, as neither overlaps. So having the most frequently used paths first is okay.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Alternatively you can utilize PHPs array parameters via \u0026lt;code\u0026gt;?p[]=$1\u0026amp;amp;p[]=$2\u0026amp;amp;p[]=3\u0026lt;/code\u0026gt; query string here - if your script merely prefers them pre-split.\n(Though it\u0026apos;s more common to just use a catch-all rule, and let the script itself expand the segments out of the REQUEST_URI.)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;See also: \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/3655893\u0026quot;\u0026gt;How do I transform my URL path segments into query string key-value pairs?\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Optional segments  \u0026lt;br\u0026gt;  \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;prefix/opt?/.*\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;A common variation is to have optional prefixes \u0026lt;em\u0026gt;within\u0026lt;/em\u0026gt; a rule. This usually makes sense if you have static strings or more constrained placeholders around:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;  RewriteRule ^(\\w+)(?:/([^/]+))?/(\\w+)$  ?main=$1\u0026amp;amp;opt=$2\u0026amp;amp;suffix=$3\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Now the more complex pattern \u0026lt;code\u0026gt;(?:/([^/])+)?\u0026lt;/code\u0026gt; there simply wraps a \u0026lt;em\u0026gt;non-capturing\u0026lt;/em\u0026gt; \u0026lt;code\u0026gt;(?:)\u0026lt;/code\u0026gt; group, and makes it optional \u0026lt;code\u0026gt;)?\u0026lt;/code\u0026gt;. The contained\nplaceholder \u0026lt;code\u0026gt;([^/]+)\u0026lt;/code\u0026gt; would be substitution pattern \u0026lt;code\u0026gt;$2\u0026lt;/code\u0026gt;, but be empty if there\u0026apos;s no middle \u0026lt;code\u0026gt;//\u0026lt;/code\u0026gt; path.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Capture the remainder \u0026lt;br\u0026gt;  \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/prefix/123-capture//*/whatever\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;As said before, you don\u0026apos;t often want too generic rewrite patterns. It does however make sense to combine static and specific comparisons with a \u0026lt;code\u0026gt;.*\u0026lt;/code\u0026gt; sometimes.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; RewriteRule ^(specific)/prefix/(\\d+)(/.*)?$  speci.php?id=$2\u0026amp;amp;otherparams=$2\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This optionalized any \u0026lt;code\u0026gt;///\u0026lt;/code\u0026gt; trailing path segments. Which then of course requires the handling script to split them up, and \u0026lt;em\u0026gt;variabl-ify\u0026lt;/em\u0026gt; extracted parameters\nitself (which is what \u0026lt;em\u0026gt;Web-\u0026quot;MVC\u0026quot;\u0026lt;/em\u0026gt; frameworks do).\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Trailing file \u0026quot;extensions\u0026quot; \u0026lt;br\u0026gt;  \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/old/path.HTML\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;URLs don\u0026apos;t really have file extensions. Which is what this entire reference is about (= URLs are virtual locators, not necessarily a direct filesystem image).\nHowever if you had a 1:1 file mapping before, you \u0026lt;em\u0026gt;can\u0026lt;/em\u0026gt; craft simpler rules:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; RewriteRule  ^styles/([\\w\\.\\-]+)\\.css$  sass-cache.php?old_fn_base=$1\n RewriteRule  ^images/([\\w\\.\\-]+)\\.gif$  png-converter.php?load_from=$2\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Other common uses are remapping obsolete \u0026lt;code\u0026gt;.html\u0026lt;/code\u0026gt; paths to newer \u0026lt;code\u0026gt;.php\u0026lt;/code\u0026gt; handlers, or just aliasing directory names only for individual (actual/real) files.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Ping-Pong (redirects and rewrites in unison) \u0026lt;br\u0026gt;  \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/ugly.html\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt;  \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/pretty\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;So at some point you\u0026apos;re rewriting your HTML pages to carry only pretty links, as \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/20563773#~What+mod_rewrite+does+not+do\u0026quot;\u0026gt;outlined by deceze\u0026lt;/a\u0026gt;.\nMeanwhile you\u0026apos;ll still receive requests for the \u0026lt;em\u0026gt;old\u0026lt;/em\u0026gt; paths, sometimes even from bookmarks. As \u0026lt;em\u0026gt;workaround\u0026lt;/em\u0026gt;, you can ping-pong browsers to display/establish\nthe new URLs.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This common trick involves sending a 30x/Location \u0026lt;em\u0026gt;redirect\u0026lt;/em\u0026gt; whenever an incoming URL follows the obsolete/ugly naming scheme.\nBrowsers will then \u0026lt;em\u0026gt;rerequest\u0026lt;/em\u0026gt; the new/pretty URL, which afterwards is rewritten (just internally) to the original or new location.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; # redirect browser for old/ugly incoming paths\n RewriteRule ^old/teams\\.html$ /teams [R=301,QSA,END]\n\n # internally remap already-pretty incoming request\n RewriteRule ^teams$ teams.php        [QSA,END]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Note how this example just uses \u0026lt;code\u0026gt;[END]\u0026lt;/code\u0026gt; instead of \u0026lt;code\u0026gt;[L]\u0026lt;/code\u0026gt; to safely alternate. For older Apache 2.2 versions you can use other workarounds, besides also remapping\nquery string parameters for example:\n\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/11629896/mod-rewrite-redirect-url-with-query-string-to-pretty-url\u0026quot;\u0026gt;Redirect ugly to pretty URL, remap  back to the ugly path, without infinite loops\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Spaces \u0026lt;kbd\u0026gt;\u0026lt;/kbd\u0026gt; in patterns \u0026lt;br\u0026gt; \u0026lt;kbd\u0026gt;\u0026lt;code\u0026gt;/this+that+\u0026lt;/code\u0026gt;\u0026lt;/kbd\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;It\u0026apos;s not \u0026lt;em\u0026gt;that pretty\u0026lt;/em\u0026gt; in browser address bars, but you can use spaces in URLs. For rewrite patterns use backslash-escaped \u0026lt;code\u0026gt;\\\u0026lt;/code\u0026gt; spaces.\nElse just \u0026lt;code\u0026gt;\u0026quot;\u0026lt;/code\u0026gt;-quote the whole pattern or substitution:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; RewriteRule  \u0026quot;^this [\\w ]+/(.*)$\u0026quot;  \u0026quot;index.php?id=$1\u0026quot;  [L]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Clients serialize URLs with \u0026lt;code\u0026gt;+\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;%20\u0026lt;/code\u0026gt; for spaces. Yet in RewriteRules they\u0026apos;re interpreted with literal characters for all relative path segments.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Frequent duplicates:\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Catch-all for a \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/8595964/redirect-all-traffic-to-index-php-using-mod-rewrite\u0026quot;\u0026gt;central dispatcher\u0026lt;/a\u0026gt; / front-controller script\u0026lt;/h3\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; RewriteCond %{REQUEST_URI} !-f\n RewriteCond %{REQUEST_URI} !-d\n RewriteRule ^.*$     index.php   [L]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Which is often used by PHP frameworks or WebCMS / portal scripts. The actual path splitting then is handled in PHP using \u0026lt;code\u0026gt;$_SERVER[\u0026quot;REQUEST_URI\u0026quot;]\u0026lt;/code\u0026gt;. So conceptionally it\u0026apos;s pretty much the opposite of URL handling \u0026quot;per mod_rewrite\u0026quot;. (Just use \u0026lt;a href=\u0026quot;https://httpd.apache.org/docs/2.4/rewrite/remapping.html#fallback-resource\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;FallBackResource\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; instead.)\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Remove \u0026lt;code\u0026gt;www.\u0026lt;/code\u0026gt; from hostname\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Note that this doesn\u0026apos;t copy a query string along, etc.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; #                               \n RewriteCond %{HTTP_HOST} ^www\\.(.+)$ [NC]   \n RewriteRule ^(.*)$ http://%1/$1 [R=301,L]  \n #                        \n #             \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;See also:\u0026lt;br\u0026gt;\n· \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/3634101/url-rewriting-for-different-protocols-in-htaccess\u0026quot;\u0026gt;URL rewriting for different protocols in .htaccess\u0026lt;/a\u0026gt;\u0026lt;br\u0026gt;\n· \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/234723/generic-htaccess-redirect-www-to-non-www\u0026quot;\u0026gt;Generic htaccess redirect www to non-www\u0026lt;/a\u0026gt;\u0026lt;br\u0026gt;\n· \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/4916222/htaccess-how-to-force-www-in-a-generic-way\u0026quot;\u0026gt;.htaccess - how to force \u0026quot;www.\u0026quot; in a generic way?\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Note that RewriteCond/RewriteRule combos can be more complex, with matches (\u0026lt;code\u0026gt;%1\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;$1\u0026lt;/code\u0026gt;) interacting in both directions even:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://httpd.apache.org/docs/2.4/images/rewrite_backreferences.png\u0026quot; alt=\u0026quot;References %1 and $2, %3 between RewriteRule and RewriteCond\u0026quot;\u0026gt;\u0026lt;br\u0026gt;\n\u0026lt;sup\u0026gt;\u0026lt;a href=\u0026quot;http://httpd.apache.org/docs/2.4/rewrite/intro.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Apache manual - mod_rewrite intro\u0026lt;/a\u0026gt;, Copyright 2015 The Apache Software Foundation, AL-2.0\u0026lt;/sup\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Redirect to \u0026lt;code\u0026gt;HTTPS://\u0026lt;/code\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; RewriteCond %{SERVER_PORT} 80\n RewriteRule ^(.*)$ https://example.com/$1 [R,L]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;See also: \u0026lt;a href=\u0026quot;https://wiki.apache.org/httpd/RewriteHTTPToHTTPS\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://wiki.apache.org/httpd/RewriteHTTPToHTTPS\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;\u0026quot;Removing\u0026quot; the PHP extension\u0026lt;/h3\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; RewriteCond %{REQUEST_FILENAME}.php -f\n RewriteRule ^(.+)$  $1.php  [L]  # or [END]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;See also: \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/4908122/removing-the-php-extension-with-mod-rewrite\u0026quot;\u0026gt;Removing the .php extension with mod_rewrite\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Aliasing old .html paths to .php scripts\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;See: \u0026lt;a href=\u0026quot;http://httpd.apache.org/docs/2.4/rewrite/remapping.html#backward-compatibility\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://httpd.apache.org/docs/2.4/rewrite/remapping.html#backward-compatibility\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Rewrite from URL like \u0026quot;/page\u0026quot; to a script such as \u0026quot;/index.php/page\u0026quot;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;See \u0026lt;a href=\u0026quot;https://stackoverflow.com/q/265898\u0026quot;\u0026gt;mod_rewrite, php and the .htaccess file\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Redirect subdomain to a folder\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;See \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/2978907/how-can-i-get-my-htaccess-to-work-subdomains\u0026quot;\u0026gt;How can i get my htaccess to work (subdomains)?\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;h1\u0026gt;Prevalent \u0026lt;code\u0026gt;.htaccess\u0026lt;/code\u0026gt; pitfalls\u0026lt;/h1\u0026gt;\n\n\u0026lt;p\u0026gt;Now take this with a grain of salt. Not every advise can be generalized to all contexts.\nThis is just a simple summary of well-known and a few unobvious stumbling blocks:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Enable \u0026lt;code\u0026gt;mod_rewrite\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;.htaccess\u0026lt;/code\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;To actually use RewriteRules in per-directory configuration files you must:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Check that your server has \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/9234289/verify-if-htaccess-file-is-running\u0026quot;\u0026gt;\u0026lt;code\u0026gt;AllowOverride All\u0026lt;/code\u0026gt; enabled\u0026lt;/a\u0026gt;. Otherwise your per-directory \u0026lt;code\u0026gt;.htaccess\u0026lt;/code\u0026gt; directives will go ignored, and RewriteRules won\u0026apos;t work.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Obviously \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/869092/how-to-enable-mod-rewrite-for-apache-2-2\u0026quot;\u0026gt;have \u0026lt;code\u0026gt;mod_rewrite\u0026lt;/code\u0026gt; enabled\u0026lt;/a\u0026gt; in your \u0026lt;code\u0026gt;httpd.conf\u0026lt;/code\u0026gt; modules section.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Prepend each list of rules with \u0026lt;code\u0026gt;RewriteEngine On\u0026lt;/code\u0026gt; still. While mod_rewrite is implicitly active in \u0026lt;code\u0026gt;\u0026amp;lt;VirtualHost\u0026amp;gt;\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;\u0026amp;lt;Directory\u0026amp;gt;\u0026lt;/code\u0026gt; sections,\nthe per-directory \u0026lt;code\u0026gt;.htaccess\u0026lt;/code\u0026gt; files need it individually summoned. \u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;The leading slash \u0026lt;code\u0026gt;^/\u0026lt;/code\u0026gt; won\u0026apos;t match\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;You shouldn\u0026apos;t start your \u0026lt;code\u0026gt;.htaccess\u0026lt;/code\u0026gt; RewriteRule patterns with \u0026lt;code\u0026gt;^/\u0026lt;/code\u0026gt; normally:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; RewriteRule ^/article/\\d+$  \n              \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This is often seen in old tutorials. And it used to be correct for ancient Apache 1.x versions. Nowadays request paths are conveniently \u0026lt;em\u0026gt;fully \u0026lt;strong\u0026gt;directory-relative\u0026lt;/strong\u0026gt;\u0026lt;/em\u0026gt; in \u0026lt;code\u0026gt;.htaccess\u0026lt;/code\u0026gt; RewriteRules. Just leave the leading \u0026lt;code\u0026gt;/\u0026lt;/code\u0026gt; out.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;· Note that the leading slash is still correct in \u0026lt;code\u0026gt;\u0026amp;lt;VirtualHost\u0026amp;gt;\u0026lt;/code\u0026gt; sections though. Which is why you often see it \u0026lt;code\u0026gt;^/?\u0026lt;/code\u0026gt; optionalized for rule parity.\u0026lt;br\u0026gt;\n· Or when using a \u0026lt;code\u0026gt;RewriteCond %{REQUEST_URI}\u0026lt;/code\u0026gt; you\u0026apos;d still match for a leading \u0026lt;code\u0026gt;/\u0026lt;/code\u0026gt;.\u0026lt;br\u0026gt;\n· See also \u0026lt;a href=\u0026quot;https://webmasters.stackexchange.com/questions/27118/when-is-the-leading-slash-needed-in-mod-rewrite-patterns\u0026quot;\u0026gt;Webmaster.SE: When is the leading slash (/) needed in mod_rewrite patterns?\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;\u0026lt;code\u0026gt;\u0026amp;lt;IfModule *\u0026amp;gt;\u0026lt;/code\u0026gt; wrappers begone!\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;You\u0026apos;ve probably seen this in many examples:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;\u0026amp;lt;IfModule mod_rewrite.c\u0026amp;gt;\n   Rewrite \n\u0026amp;lt;/IfModule\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;It \u0026lt;em\u0026gt;does\u0026lt;/em\u0026gt; make sense in \u0026lt;code\u0026gt;\u0026amp;lt;VirtualHost\u0026amp;gt;\u0026lt;/code\u0026gt; sections - if it was combined with another fallback option, such as ScriptAliasMatch. (But nobody ever does that).  \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;And it\u0026apos;s commonly distributed for default \u0026lt;code\u0026gt;.htaccess\u0026lt;/code\u0026gt; rulesets with many open source projects. There it\u0026apos;s just meant as fallback, and keeps \u0026quot;ugly\u0026quot; URLs work as default.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;However you \u0026lt;strong\u0026gt;don\u0026apos;t want\u0026lt;/strong\u0026gt; that usually in your own \u0026lt;code\u0026gt;.htaccess\u0026lt;/code\u0026gt; files. \u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Firstly, mod_rewrite does not randomly disengage. (If it did, you\u0026apos;d have bigger problems). \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Were it really be disabled, your RewriteRules still wouldn\u0026apos;t work anyway.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;It\u0026apos;s meant to prevent HTTP \u0026lt;code\u0026gt;500\u0026lt;/code\u0026gt; errors. What it usually accomplishes is gracing your users with HTTP \u0026lt;code\u0026gt;404\u0026lt;/code\u0026gt; errors instead. (Not \u0026lt;em\u0026gt;so much\u0026lt;/em\u0026gt; more user-friendly if you think about it.)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Practically it just suppresses the more useful log entries, or server notification mails. You\u0026apos;d be \u0026lt;strong\u0026gt;none the wiser\u0026lt;/strong\u0026gt; as to why your RewriteRules never work.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;What seems enticing as generalized safeguard, often turns out to be an obstacle in practice.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Don\u0026apos;t use \u0026lt;code\u0026gt;RewriteBase\u0026lt;/code\u0026gt; unless needed\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Many copy+paste examples contain a \u0026lt;code\u0026gt;RewriteBase /\u0026lt;/code\u0026gt; directive. Which happens to be the implicit default anyway. So you don\u0026apos;t actually need this. It\u0026apos;s a workaround for fancy VirtualHost rewriting schemes, and misguessed DOCUMENT_ROOT paths for some shared hosters.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It makes sense to use with individual web applications in deeper subdirectories. It can shorten RewriteRule patterns in such cases. Generally it\u0026apos;s best to prefer relative path specifiers in per-directory rule sets.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;See also \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/704102/how-does-rewritebase-work-in-htaccess\u0026quot;\u0026gt;How does RewriteBase work in .htaccess\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Disable \u0026lt;code\u0026gt;MultiViews\u0026lt;/code\u0026gt; when virtual paths overlap\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;URL rewriting is primarily used for supporting \u0026lt;em\u0026gt;virtual\u0026lt;/em\u0026gt; incoming paths. Commonly you just have one dispatcher script (\u0026lt;code\u0026gt;index.php\u0026lt;/code\u0026gt;) or a few individual handlers (\u0026lt;code\u0026gt;articles.php\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;blog.php\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;wiki.php\u0026lt;/code\u0026gt;, ). The latter \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/1298917\u0026quot;\u0026gt;might clash\u0026lt;/a\u0026gt; with similar virtual RewriteRule paths.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;A request for \u0026lt;code\u0026gt;/article/123\u0026lt;/code\u0026gt; for example could map to \u0026lt;code\u0026gt;article.php\u0026lt;/code\u0026gt; with a \u0026lt;code\u0026gt;/123\u0026lt;/code\u0026gt; PATH_INFO implicitly. You\u0026apos;d either have to guard your rules then with the commonplace \u0026lt;code\u0026gt;RewriteCond\u0026lt;/code\u0026gt; \u0026lt;code\u0026gt;!-f\u0026lt;/code\u0026gt;+\u0026lt;code\u0026gt;!-d\u0026lt;/code\u0026gt;, and/or disable PATH_INFO support, or perhaps just disable \u0026lt;code\u0026gt;Options -MultiViews\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Which is not to say you always \u0026lt;em\u0026gt;have to\u0026lt;/em\u0026gt;. Content-Negotiation is just an automatism to virtual resources.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Ordering is important\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;See \u0026lt;a href=\u0026quot;https://serverfault.com/questions/214512/redirect-change-urls-or-redirect-http-to-https-in-apache-everything-you-ever\u0026quot;\u0026gt;Everything you ever wanted to know about mod_rewrite\u0026lt;/a\u0026gt;\nif you haven\u0026apos;t already. Combining multiple RewriteRules often leads to interaction. This isn\u0026apos;t something to prevent habitually per \u0026lt;code\u0026gt;[L]\u0026lt;/code\u0026gt; flag, but a scheme you\u0026apos;ll embrace once versed.\nYou \u0026lt;strong\u0026gt;can \u0026lt;em\u0026gt;re-re-re\u0026lt;/em\u0026gt;write\u0026lt;/strong\u0026gt; virtual paths from one rule to another, until it reaches an actual target handler.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Still you\u0026apos;d \u0026lt;em\u0026gt;often\u0026lt;/em\u0026gt; want to have the most specific rules (fixed string \u0026lt;code\u0026gt;/forum/\u0026lt;/code\u0026gt; patterns, or more restrictive placeholders \u0026lt;code\u0026gt;[^/.]+\u0026lt;/code\u0026gt;) in the \u0026lt;em\u0026gt;early\u0026lt;/em\u0026gt; rules.\nGeneric slurp-all rules (\u0026lt;code\u0026gt;.*\u0026lt;/code\u0026gt;) are better left to the \u0026lt;em\u0026gt;later\u0026lt;/em\u0026gt; ones. (An exception is a \u0026lt;code\u0026gt;RewriteCond -f/-d\u0026lt;/code\u0026gt; guard as primary block.)\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Stylesheets and images stop working\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;When you introduce virtual directory structures \u0026lt;code\u0026gt;/blog/article/123\u0026lt;/code\u0026gt; this impacts relative resource references in HTML (such as \u0026lt;code\u0026gt;\u0026amp;lt;img src=mouse.png\u0026amp;gt;\u0026lt;/code\u0026gt;).\nWhich can be solved by:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Only using server-absolute references \u0026lt;code\u0026gt;href=\u0026quot;/old.html\u0026quot;\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;src=\u0026quot;/logo.png\u0026quot;\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Often simply by adding \u0026lt;code\u0026gt;\u0026amp;lt;base href=\u0026quot;/index\u0026quot;\u0026amp;gt;\u0026lt;/code\u0026gt; into your HTML \u0026lt;code\u0026gt;\u0026amp;lt;head\u0026amp;gt;\u0026lt;/code\u0026gt; section.\nThis implicitly rebinds relative references to what they were before.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;You could alternatively craft further RewriteRules to rebind \u0026lt;code\u0026gt;.css\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;.png\u0026lt;/code\u0026gt; paths to their original locations.\nBut that\u0026apos;s both unneeded, or incurs extra redirects and hampers caching.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;See also: \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/27744603/css-js-and-images-do-not-display-with-pretty-url\u0026quot;\u0026gt;CSS, JS and images do not display with pretty url\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;RewriteConds just mask one RewriteRule\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;A common misinterpetation is that a RewriteCond blocks multiple RewriteRules (because they\u0026apos;re visually arranged together):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; RewriteCond %{SERVER_NAME} localhost\n RewriteRule ^secret  admin/tools.php\n RewriteRule ^hidden  sqladmin.cgi\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Which it doesn\u0026apos;t per default. You can \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/7218164/multiple-rewriterules-for-single-rewritecond-in-htaccess\u0026quot;\u0026gt;chain them\u0026lt;/a\u0026gt; using the \u0026lt;code\u0026gt;[S=2]\u0026lt;/code\u0026gt; flag. Else you\u0026apos;ll have to repeat them. While sometimes you can craft an \u0026quot;inverted\u0026quot; primary rule to [END] the rewrite processing early.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;QUERY_STRING exempt from RewriteRules\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;You can\u0026apos;t match \u0026lt;code\u0026gt;RewriteRule index.php\\?x=y\u0026lt;/code\u0026gt;, because mod_rewrite compares just against relative paths per default. You can match them separately however via:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; RewriteCond %{QUERY_STRING} \\b(?:param)=([^\u0026amp;amp;]+)(?:\u0026amp;amp;|$)\n RewriteRule ^add/(.+)$  add/%1/$1  # \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;See also \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/2252238/how-can-i-match-query-string-variables-with-mod-rewrite\u0026quot;\u0026gt;How can I match query string variables with mod_rewrite?\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;\u0026lt;code\u0026gt;.htaccess\u0026lt;/code\u0026gt; vs. \u0026lt;code\u0026gt;\u0026amp;lt;VirtualHost\u0026amp;gt;\u0026lt;/code\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;If you\u0026apos;re using RewriteRules in a per-directory config file, then worrying about regex performance is pointless. Apache retains\ncompiled PCRE patterns longer than a PHP process with a common routing framework. For high-traffic sites you should however consider\nmoving rulesets into the vhost server configuration, once they\u0026apos;ve been battle-tested.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In this case, prefer the optionalized \u0026lt;code\u0026gt;^/?\u0026lt;/code\u0026gt; directory separator prefix. This allows to move RewriteRules freely between PerDir and server\nconfig files.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Whenever something \u0026lt;em\u0026gt;doesn\u0026apos;t work\u0026lt;/em\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Fret not. \u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Compare \u0026lt;code\u0026gt;access.log\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;error.log\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Often you can figure out how a RewriteRule misbehaves just from looking at your \u0026lt;code\u0026gt;error.log\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;access.log\u0026lt;/code\u0026gt;.\nCorrelate access times to see which request path originally came in, and which path/file Apache couldn\u0026apos;t resolve to (error 404/500).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This doesn\u0026apos;t tell you which RewriteRule is the culprit. But inaccessible final paths like \u0026lt;code\u0026gt;/docroot/21-.itle?index.php\u0026lt;/code\u0026gt; may give away where to inspect further.\nOtherwise disable rules until you get some predictable paths.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Enable the RewriteLog\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;See \u0026lt;a href=\u0026quot;https://wiki.apache.org/httpd/RewriteLog\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Apache RewriteLog\u0026lt;/a\u0026gt; docs. For debugging you can enable it in the vhost sections:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;# Apache 2.2\nRewriteLogLevel 5\nRewriteLog /tmp/rewrite.log\n\n# Apache 2.4\nLogLevel alert rewrite:trace5\n#ErrorLog /tmp/rewrite.log\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;That yields a detailed summary of how incoming request paths get modified by each rule:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;[..] applying pattern \u0026apos;^test_.*$\u0026apos; to uri \u0026apos;index.php\u0026apos;\n[..] strip per-dir prefix: /srv/www/vhosts/hc-profi/index.php -\u0026amp;gt; index.php\n[..] applying pattern \u0026apos;^index\\.php$\u0026apos; to uri \u0026apos;index.php\u0026apos;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Which helps to narrow down overly generic rules and regex mishaps.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;See also:\u0026lt;br\u0026gt;\n· \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/945047/htaccess-not-working-mod-rewrite\u0026quot;\u0026gt;.htaccess not working (mod_rewrite)\u0026lt;/a\u0026gt;\u0026lt;br\u0026gt;\n· \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/9153262/tips-for-debugging-htaccess-rewrite-rules\u0026quot;\u0026gt;Tips for debugging .htaccess rewrite rules\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Before asking your own question\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;As you might know, Stack Overflow is very suitable for asking questions on mod_rewrite. Make them \u0026lt;a href=\u0026quot;https://stackoverflow.com/help/on-topic\u0026quot;\u0026gt;on-topic\u0026lt;/a\u0026gt;\nby including prior research and attempts (avoid redundant answers), demonstrate basic \u0026lt;a href=\u0026quot;/questions/tagged/regex\u0026quot; class=\u0026quot;post-tag\u0026quot; title=\u0026quot;show questions tagged \u0026apos;regex\u0026apos;\u0026quot; rel=\u0026quot;tag\u0026quot;\u0026gt;regex\u0026lt;/a\u0026gt; understanding, and:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Include \u0026lt;em\u0026gt;full\u0026lt;/em\u0026gt; examples of input URLs, falsly rewritten target paths, your real directory structure.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The complete RewriteRule set, but \u0026lt;em\u0026gt;also\u0026lt;/em\u0026gt; single out the presumed defective one.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Apache and PHP versions, OS type, filesystem, DOCUMENT_ROOT, and PHPs \u0026lt;code\u0026gt;$_SERVER\u0026lt;/code\u0026gt; environment if it\u0026apos;s about a parameter mismatch.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;An excerpt from your \u0026lt;code\u0026gt;access.log\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;error.log\u0026lt;/code\u0026gt; to verify what the existing rules resolved to. Better yet, a \u0026lt;code\u0026gt;rewrite.log\u0026lt;/code\u0026gt; summary.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;This nets quicker and more exact answers, and makes them more useful to others.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Comment your \u0026lt;code\u0026gt;.htaccess\u0026lt;/code\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;If you copy examples from somewhere, take care to include a \u0026lt;code\u0026gt;# comment and origin link\u0026lt;/code\u0026gt;. While it\u0026apos;s merely bad manners to omit attribution,\nit often really hurts maintenance later. Document any code or tutorial source. In particular while unversed you should be\nall the more interested in not treating them like magic blackboxes.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;It\u0026apos;s not \u0026quot;SEO\u0026quot;-URLs\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Disclaimer: Just a pet peeve.\u0026lt;/em\u0026gt; You often hear pretty URL rewriting schemes referred to as \u0026quot;SEO\u0026quot; links or something. While this is useful for googling examples, it\u0026apos;s a dated misnomer.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;None of the modern search engines are really disturbed by \u0026lt;code\u0026gt;.html\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;.php\u0026lt;/code\u0026gt; in path segments, or \u0026lt;code\u0026gt;?id=123\u0026lt;/code\u0026gt; query strings for that matter. Search engines of old, such as AltaVista, \u0026lt;em\u0026gt;did\u0026lt;/em\u0026gt; avoid crawling websites with potentially ambigious access paths. Modern crawlers are often even craving for deep web resources.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;What \u0026quot;pretty\u0026quot; URLs should conceptionally be used for is making websites \u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;user-friendly\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Having readable and obvious resource schemes.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Ensuring URLs are long-lived (AKA \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Permalink\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;permalinks\u0026lt;/a\u0026gt;).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Providing discoverability through \u0026lt;code\u0026gt;/common/tree/nesting\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;However don\u0026apos;t sacrifice unique requirements for conformism.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\n\n\u0026lt;h3\u0026gt;Tools\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;There are various online tools to generate RewriteRules for most GET-parameterish URLs:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://www.generateit.net/mod-rewrite/index.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://www.generateit.net/mod-rewrite/index.php\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://www.ipdistance.com/mod_rewrite.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://www.ipdistance.com/mod_rewrite.php\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://webtools.live2support.com/misc_rewrite.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://webtools.live2support.com/misc_rewrite.php\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Mostly just output \u0026lt;code\u0026gt;[^/]+\u0026lt;/code\u0026gt; generic placeholders, but likely suffices for trivial sites.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;Alternatives to mod_rewrite\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;Many basic virtual URL schemes can be achieved without using RewriteRules. Apache allows PHP scripts to be invoked without \u0026lt;code\u0026gt;.php\u0026lt;/code\u0026gt; extension, and with a virtual \u0026lt;code\u0026gt;PATH_INFO\u0026lt;/code\u0026gt; argument.\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Use the \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/2261951/what-exactly-is-path-info-in-php\u0026quot;\u0026gt;PATH_INFO\u0026lt;/a\u0026gt;, Luke\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Nowadays \u0026lt;a href=\u0026quot;http://httpd.apache.org/docs/2.4/en/mod/core.html#acceptpathinfo\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;AcceptPathInfo On\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; is often enabled by default. Which basically allows \u0026lt;code\u0026gt;.php\u0026lt;/code\u0026gt; and other resource URLs to carry a virtual argument:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;http://example.com/script.php/virtual/path\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Now this \u0026lt;code\u0026gt;/virtual/path\u0026lt;/code\u0026gt; shows up in PHP as \u0026lt;a href=\u0026quot;https://secure.php.net/manual/en/reserved.variables.server.php#~PATH_INFO\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;$_SERVER[\u0026quot;PATH_INFO\u0026quot;]\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; where you can handle any extra arguments however you like.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This isn\u0026apos;t as convenient as having Apache separate input path segments into \u0026lt;code\u0026gt;$1\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;$2\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;$3\u0026lt;/code\u0026gt; and passing them as distinct \u0026lt;code\u0026gt;$_GET\u0026lt;/code\u0026gt; variables to PHP. It\u0026apos;s merely emulating \u0026quot;pretty URLs\u0026quot; with less configuration effort.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Enable \u0026lt;a href=\u0026quot;http://httpd.apache.org/docs/2.4/mod/mod_negotiation.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;MultiViews\u0026lt;/a\u0026gt; to hide the \u0026lt;code\u0026gt;.php\u0026lt;/code\u0026gt; extension\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;The simplest option to also eschew \u0026lt;code\u0026gt;.php\u0026lt;/code\u0026gt; \u0026quot;file extensions\u0026quot; in URLs is enabling:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;Options +MultiViews\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This has Apache select \u0026lt;code\u0026gt;article.php\u0026lt;/code\u0026gt; for HTTP requests on \u0026lt;code\u0026gt;/article\u0026lt;/code\u0026gt; due to the matching basename. And this works well together with the aforementioned PATH_INFO feature. So you can just use URLs like \u0026lt;code\u0026gt;http://example.com/article/virtual/title\u0026lt;/code\u0026gt;. Which makes sense if you have a traditional web application with multiple PHP invocation points/scripts.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Note that MultiViews has a different/broader purpose though. It incurs a \u0026lt;em\u0026gt;very minor\u0026lt;/em\u0026gt; performance penalty, because Apache always looks for other files with matching basenames. It\u0026apos;s actually meant for \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Content_negotiation\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Content-Negotiation\u0026lt;/a\u0026gt;, so browsers receive the best alternative among available resources (such as \u0026lt;code\u0026gt;article.en.php\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;article.fr.php\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;article.jp.mp4\u0026lt;/code\u0026gt;).\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;SetType or SetHandler for extensionless \u0026lt;code\u0026gt;.php\u0026lt;/code\u0026gt; scripts\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;A more directed approach to avoid carrying around \u0026lt;code\u0026gt;.php\u0026lt;/code\u0026gt; suffixes in URLs is \u0026lt;a href=\u0026quot;http://php.net/manual/en/security.hiding.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;configuring the PHP handler\u0026lt;/a\u0026gt; for other file schemes. The simplest option is overriding the default MIME/handler type via \u0026lt;code\u0026gt;.htaccess\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;DefaultType application/x-httpd-php\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This way you could just rename your \u0026lt;code\u0026gt;article.php\u0026lt;/code\u0026gt; script to just \u0026lt;code\u0026gt;article\u0026lt;/code\u0026gt; (without extension), but still have it processed as PHP script.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Now this can have some security and performance implications, because all extensionless files would be piped through PHP now. Therefore you can alternatively set this behaviour for individual files only:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;\u0026amp;lt;Files article\u0026amp;gt;\n  SetHandler application/x-httpd-php\n  # or SetType \n\u0026amp;lt;/Files\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This is somewhat dependent on your server setup and the used PHP SAPI. Common alternatives include \u0026lt;code\u0026gt;ForceType application/x-httpd-php\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;AddHandler php5-script\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Again take note that such settings propagate from one \u0026lt;code\u0026gt;.htaccess\u0026lt;/code\u0026gt; to subfolders. You always should disable script execution (\u0026lt;code\u0026gt;SetHandler None\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;Options -Exec\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;php_flag engine off\u0026lt;/code\u0026gt; etc.) for static resources, and upload/ directories etc.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;h3\u0026gt;Other Apache rewriting schemes\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Among its many options, Apache provides \u0026lt;code\u0026gt;mod_alias\u0026lt;/code\u0026gt; features - which sometimes work just as well as \u0026lt;code\u0026gt;mod_rewrite\u0026lt;/code\u0026gt;s RewriteRules. Note that most of those must be set up in a \u0026lt;code\u0026gt;\u0026amp;lt;VirtualHost\u0026amp;gt;\u0026lt;/code\u0026gt; section however, not in per-directory \u0026lt;code\u0026gt;.htaccess\u0026lt;/code\u0026gt; config files.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://httpd.apache.org/docs/2.2/mod/mod_alias.html#scriptaliasmatch\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;ScriptAliasMatch\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; is primarily for CGI scripts, but also ought to works for PHP. It allows regexps just like any \u0026lt;code\u0026gt;RewriteRule\u0026lt;/code\u0026gt;. In fact it\u0026apos;s perhaps the most robust option to configurate a catch-all front controller.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;And a plain \u0026lt;a href=\u0026quot;http://httpd.apache.org/docs/2.2/mod/mod_alias.html#alias\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;Alias\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; helps with a few simple rewriting schemes as well.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Even a plain \u0026lt;a href=\u0026quot;http://httpd.apache.org/docs/2.2/mod/core.html#errordocument\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;ErrorDocument\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; directive could be used to let a PHP script handle virtual paths. Note that this is a kludgy workaround however, prohibits anything but GET requests, and floods the error.log by definition.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;See \u0026lt;a href=\u0026quot;http://httpd.apache.org/docs/2.2/urlmapping.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://httpd.apache.org/docs/2.2/urlmapping.html\u0026lt;/a\u0026gt; for further tips.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;A frequent question about URL rewriting goes something like this:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;I currently have URLs that look like this:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://example.com/my-blog/entry.php?id=42\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;http://example.com/my-blog/entry.php?id=42\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://example.com/my-blog/entry.php?id=123\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;http://example.com/my-blog/entry.php?id=123\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;I made them pretty like this:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://example.com/my-blog/42--i-found-the-answer\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;http://example.com/my-blog/42--i-found-the-answer\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://example.com/my-blog/123--count-on-me\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;http://example.com/my-blog/123--count-on-me\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;By using this in my .htaccess file:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;RewriteRule my-blog/(\\d+)--i-found-the-answer my-blog/entry.php?id=$1 \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;But I want them to look like this:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://example.com/my-blog/i-found-the-answer\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;http://example.com/my-blog/i-found-the-answer\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://example.com/my-blog/count-on-me\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;http://example.com/my-blog/count-on-me\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;How can I change my .htaccess file to make that work?\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;The simple answer is that you can\u0026apos;t.\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;Rewrite rules don\u0026apos;t make ugly URLs pretty, they make pretty URLs ugly\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;Whenever you type in a URL in a web browser, or follow a link, or display a page that references an image, etc, the browser makes a \u0026lt;strong\u0026gt;request\u0026lt;/strong\u0026gt; for a particular URL. That request ends up at a web server, and the web server gives a \u0026lt;strong\u0026gt;response\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;A \u0026lt;em\u0026gt;rewrite rule\u0026lt;/em\u0026gt; is simply a rule that says \u0026quot;when the browser \u0026lt;strong\u0026gt;requests\u0026lt;/strong\u0026gt; a URL that looks like X, give them the same \u0026lt;strong\u0026gt;response\u0026lt;/strong\u0026gt; as if they\u0026apos;d requested Y\u0026quot;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;When we make rules to handle \u0026quot;pretty URLs\u0026quot;, the \u0026lt;strong\u0026gt;request\u0026lt;/strong\u0026gt; is the \u0026lt;strong\u0026gt;pretty URL\u0026lt;/strong\u0026gt;, and the \u0026lt;strong\u0026gt;response\u0026lt;/strong\u0026gt; is based on the internal \u0026lt;strong\u0026gt;ugly URL\u0026lt;/strong\u0026gt;. It can\u0026apos;t go the other way around, because we\u0026apos;re writing the rule on the server, and all the server sees is the request the browser sent it.\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;You can\u0026apos;t use information that you don\u0026apos;t have\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;Given this basic model of what a rewrite rule does, imagine you were giving the instructions to a human. You could say:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;If you see a number in the request, like the \u0026quot;42\u0026quot; in \u0026quot;http://example.com/my-blog/42--i-found-the-answer\u0026quot;, put that number on the end of \u0026quot;my-blog/entry.php?id=\u0026quot;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;But if the information isn\u0026apos;t there in the request, your instructions won\u0026apos;t make any sense:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;If the request has \u0026quot;my-blog\u0026quot; in it, like \u0026quot;http://example.com/my-blog/i-found-the-answer\u0026quot;, put the right number on the end of \u0026quot;my-blog/entry.php?id=\u0026quot;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;The person reading those instructions is going to say \u0026quot;Sorry, how do I know what the right number is?\u0026quot;\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;Redirects: \u0026quot;This URL is currently out of office...\u0026quot;\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;Sometimes, you see rules that are \u0026lt;em\u0026gt;the other way around\u0026lt;/em\u0026gt;, like this:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;RewriteRule my-blog/entry.php?id=(\\d+) my-blog/$1--i-found-the-answer [R]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This rule \u0026lt;em\u0026gt;does\u0026lt;/em\u0026gt; match an ugly URL on the left, and produce a pretty URL on the right. So surely we could write it without the ID at the beginning of the pretty part?\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;RewriteRule my-blog/entry.php?id=(\\d+) my-blog/i-found-the-answer [R]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The important difference is the \u0026lt;code\u0026gt;[R]\u0026lt;/code\u0026gt; flag, which means that this rule is actually a \u0026lt;strong\u0026gt;redirect\u0026lt;/strong\u0026gt; - instead of \u0026quot;serve the response from this URL\u0026quot;, it means \u0026quot;tell the browser to load this URL instead\u0026quot;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You can think of this like one of those automated e-mail replies, saying \u0026quot;Sorry, Joe Bloggs is currently on holiday; please send your message to Jane Smith instead.\u0026quot; In the same way, the redirect above tells the browser \u0026quot;Sorry, there\u0026apos;s no content for \u0026lt;code\u0026gt;http://example.com/my-blog/entry.php?id=42\u0026lt;/code\u0026gt;; please request \u0026lt;code\u0026gt;http://example.com/my-blog/42--i-found-the-answer\u0026lt;/code\u0026gt; instead.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The important point of this analogy is that the above message wouldn\u0026apos;t be much use if there wasn\u0026apos;t actually anyone called Jane Smith working there, or if they had no idea how to answer the questions Joe Bloggs normally dealt with. Similarly, a \u0026lt;strong\u0026gt;redirect\u0026lt;/strong\u0026gt; is no use if the URL you tell the browser to request doesn\u0026apos;t actually do anything useful. Once the browser follows the redirect, it\u0026apos;s going to make a \u0026lt;strong\u0026gt;new request\u0026lt;/strong\u0026gt;, and when the server receives the new request, it still won\u0026apos;t know what the ID number is.\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;But some sites do it, so it must be possible!\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;A web server only has the information present in the request, but \u0026lt;em\u0026gt;how\u0026lt;/em\u0026gt; it uses that information is up to you.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For instance, rather than looking up a blog post by ID, you could store its URL directly in the database, then write some code to do the matching directly in PHP, Python, node.js, etc. Or you could have the same URL show different content based on the language the user has set in their browser, or based on a cookie, etc.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Another thing you can do is use a form (or API request) with a method of POST rather than GET. That means additional information is sent in the \u0026quot;body\u0026quot; of the request, separate from the URL. It still has to be \u0026lt;em\u0026gt;sent\u0026lt;/em\u0026gt;, but it\u0026apos;s not as obvious in the browser, won\u0026apos;t be included in bookmarks, etc.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;But you can\u0026apos;t write a single line in a .htaccess file that performs miracles.\u0026lt;/p\u0026gt;\n    "],"id":190,"title":"Reference: mod_rewrite, URL rewriting and \"pretty links\" explained","content":"\n                \n\u0026lt;p\u0026gt;\u0026quot;Pretty links\u0026quot; is an often requested topic, but it is rarely fully explained. \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/URL_redirection#Apache_HTTP_Server_mod_rewrite\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;mod_rewrite\u0026lt;/a\u0026gt; is one way to make \u0026quot;pretty links\u0026quot;, but it\u0026apos;s complex and its syntax is very terse, hard to grok, and the documentation assumes a certain level of proficiency in HTTP. Can someone explain in simple terms how \u0026quot;pretty links\u0026quot; work and how mod_rewrite can be used to create them?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Other common names, aliases, terms for clean URLs: \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Representational_state_transfer#RESTful_web_services\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;RESTful\u0026lt;/a\u0026gt; URLs, user-friendly URLs, \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Search_engine_optimization\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;SEO\u0026lt;/a\u0026gt;-friendly URLs, \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Clean_URL#Slug\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;slugging\u0026lt;/a\u0026gt;, and MVC URLs (probably a misnomer)\u0026lt;/p\u0026gt;\n    ","slug":"reference:-mod_rewrite-url-rewriting-and-\"pretty-links\"-explained-1657384905504","postType":"QUESTION","createdAt":"2022-07-09T16:41:45.000Z","updatedAt":"2022-07-09T16:41:45.000Z","tags":[{"id":697,"name":".htaccess","slug":".htaccess","createdAt":"2022-07-09T16:41:45.000Z","updatedAt":"2022-07-09T16:41:45.000Z","Questions_Tags":{"questionId":190,"tagId":697}},{"id":698,"name":"mod-rewrite","slug":"mod-rewrite","createdAt":"2022-07-09T16:41:45.000Z","updatedAt":"2022-07-09T16:41:45.000Z","Questions_Tags":{"questionId":190,"tagId":698}},{"id":699,"name":"friendly-url","slug":"friendly-url","createdAt":"2022-07-09T16:41:45.000Z","updatedAt":"2022-07-09T16:41:45.000Z","Questions_Tags":{"questionId":190,"tagId":699}}],"relatedQuestions":[{"title":"Reference: mod_rewrite, URL rewriting and \"pretty links\" explained","slug":"reference:-mod_rewrite-url-rewriting-and-\"pretty-links\"-explained-1657384905504","tags":[{"name":".htaccess","Questions_Tags":{"questionId":190,"tagId":697}},{"name":"mod-rewrite","Questions_Tags":{"questionId":190,"tagId":698}},{"name":"friendly-url","Questions_Tags":{"questionId":190,"tagId":699}}]}]},"randomQuestions":[{"title":"Using async/await with a forEach loop","slug":"using-asyncawait-with-a-foreach-loop-1657384512667"},{"title":"How do I set, clear, and toggle a single bit?","slug":"how-do-i-set-clear-and-toggle-a-single-bit-1657388227052"},{"title":"What is this weird colon-member (\" : \") syntax in the constructor?","slug":"what-is-this-weird-colon-member-(\"-:-\")-syntax-in-the-constructor-1657387264047"},{"title":"PHP mail function doesn't complete sending of e-mail","slug":"php-mail-function-doesn't-complete-sending-of-e-mail-1657384307499"},{"title":"What is the meaning of single and double underscore before an object name?","slug":"what-is-the-meaning-of-single-and-double-underscore-before-an-object-name-1657387926929"},{"title":"When to use virtual destructors?","slug":"when-to-use-virtual-destructors-1657388152135"},{"title":"Resolve build errors due to circular dependency amongst classes","slug":"resolve-build-errors-due-to-circular-dependency-amongst-classes-1657384903462"},{"title":"What is __init__.py for?","slug":"what-is-__init__.py-for-1657388415243"},{"title":"Why is using \"for...in\" for array iteration a bad idea?","slug":"why-is-using-\"for...in\"-for-array-iteration-a-bad-idea-1657384653458"},{"title":"How do I profile a Python script?","slug":"how-do-i-profile-a-python-script-1657388346692"},{"title":"How to include a PHP variable inside a MySQL statement","slug":"how-to-include-a-php-variable-inside-a-mysql-statement-1657387669365"},{"title":"What is the JavaScript version of sleep()?","slug":"what-is-the-javascript-version-of-sleep()-1657387391406"},{"title":"Storing Images in DB - Yea or Nay?","slug":"storing-images-in-db-yea-or-nay-1657387248067"},{"title":"How can I get useful error messages in PHP?","slug":"how-can-i-get-useful-error-messages-in-php-1657384609065"},{"title":"How do I expire a PHP session after 30 minutes?","slug":"how-do-i-expire-a-php-session-after-30-minutes-1657387990658"},{"title":"How do you convert a byte array to a hexadecimal string, and vice versa?","slug":"how-do-you-convert-a-byte-array-to-a-hexadecimal-string-and-vice-versa-1657388010428"},{"title":"Daylight saving time and time zone best practices [closed]","slug":"daylight-saving-time-and-time-zone-best-practices-closed-1657387973687"},{"title":"Why can templates only be implemented in the header file?","slug":"why-can-templates-only-be-implemented-in-the-header-file-1657384341933"},{"title":"Make container shrink-to-fit child elements as they wrap","slug":"make-container-shrink-to-fit-child-elements-as-they-wrap-1657388134549"},{"title":"What is a stack trace, and how can I use it to debug my application errors?","slug":"what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors-1657384750732"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"reference:-mod_rewrite-url-rewriting-and-\"pretty-links\"-explained-1657384905504"},"buildId":"BnkbnjkWYxefPXjTJLVVv","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>