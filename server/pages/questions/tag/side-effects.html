<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/2eccd4d47c856f2b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2eccd4d47c856f2b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-20edbe0b078add93.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/613-1e0aa2b2023820bb.js" defer=""></script><script src="/_next/static/chunks/495-bb1d5b202c02d7f2.js" defer=""></script><script src="/_next/static/chunks/81-301f760ac8107464.js" defer=""></script><script src="/_next/static/chunks/pages/questions/tag/%5Bslug%5D-6802ea06aeddcbec.js" defer=""></script><script src="/_next/static/B9ZMQqRLGvIP-RcWN9dT2/_buildManifest.js" defer=""></script><script src="/_next/static/B9ZMQqRLGvIP-RcWN9dT2/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.5"></style></head><body><div id="__next"><div class="sc-9099c029-0 cIPEih"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="https://flowbite.com/docs/images/logo.svg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo"/><span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Hunter</span></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/tag/side-effects#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="sc-c5440139-0 figLul question my-5"><div class="flex items-center justify-center"><div class="rounded-xl border p-5 shadow-md w-9/12 bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/why-are-global-variables-evil-closed-1657388260006">Why are global variables evil? [closed]</a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/side-effects">side-effects</a></div></div><div class="mt-4 mb-6" style="height:100px;overflow:auto"><h4 class="font-semibold">Solution 1:</h4><div class="text-sm bg-green-100 text-neutral-600">
<p>This has nothing to do with Python; global variables are bad in any programming language.</p>

<p><strong>However, global constants</strong> are not conceptually the same as <strong>global variables</strong>; global constants are perfectly harmless. In Python the distinction between the two is purely by convention: <code>CONSTANTS_ARE_CAPITALIZED</code> and <code>globals_are_not</code>.</p>

<p>The reason global variables are bad is that they enable functions to have hidden (non-obvious, surprising, hard to detect, hard to diagnose) side effects, leading to an increase in complexity, potentially leading to <a href="https://en.wikipedia.org/wiki/Spaghetti_code" rel="noreferrer">Spaghetti code</a>.</p>

<p>However, sane use of global state is acceptable (as is local state and mutability) even in functional programming, either for algorithm optimization, reduced complexity, caching and memoization, or the practicality of porting structures originating in a predominantly imperative codebase.</p>

<p>All in all, your question can be answered in many ways, so your best bet is to just google "why are global variables bad". Some examples:</p>

<ul>
<li><a href="http://c2.com/cgi/wiki?GlobalVariablesAreBad" rel="noreferrer">Global Variables Are Bad - Wiki Wiki Web</a></li>
<li><a href="https://softwareengineering.stackexchange.com/questions/148108/why-is-global-state-so-evil">Why is Global State so Evil? - Software Engineering Stack Exchange</a></li>
<li><a href="https://stackoverflow.com/questions/484635/are-global-variables-bad">Are global variables bad?</a></li>
</ul>

<p>If you want to go deeper and find out why side effects are all about, and many other enlightening things, you should learn Functional Programming:</p>

<ul>
<li><a href="https://en.wikipedia.org/wiki/Side_effect_(computer_science)" rel="noreferrer">Side effect (computer science) - Wikipedia</a></li>
<li><a href="https://softwareengineering.stackexchange.com/questions/15269/why-are-side-effects-considered-evil-in-functional-programming">Why are side-effects considered evil in functional programming? - Software Engineering Stack Exchange</a></li>
<li><a href="https://en.wikipedia.org/wiki/Functional_programming" rel="noreferrer">Functional programming - Wikipedia</a></li>
</ul>
    </div></div><div><div class="flex items-center justify-between text-slate-500"><div class="flex space-x-4 md:space-x-8"><div class="flex cursor-pointer items-center transition hover:text-slate-600"><svg xmlns="http://www.w3.org/2000/svg" class="mr-1.5 h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"></path></svg><span>4</span></div></div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"count":1,"rows":[{"answer":["\n\u0026lt;p\u0026gt;This has nothing to do with Python; global variables are bad in any programming language.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;However, global constants\u0026lt;/strong\u0026gt; are not conceptually the same as \u0026lt;strong\u0026gt;global variables\u0026lt;/strong\u0026gt;; global constants are perfectly harmless. In Python the distinction between the two is purely by convention: \u0026lt;code\u0026gt;CONSTANTS_ARE_CAPITALIZED\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;globals_are_not\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The reason global variables are bad is that they enable functions to have hidden (non-obvious, surprising, hard to detect, hard to diagnose) side effects, leading to an increase in complexity, potentially leading to \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Spaghetti_code\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Spaghetti code\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;However, sane use of global state is acceptable (as is local state and mutability) even in functional programming, either for algorithm optimization, reduced complexity, caching and memoization, or the practicality of porting structures originating in a predominantly imperative codebase.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;All in all, your question can be answered in many ways, so your best bet is to just google \u0026quot;why are global variables bad\u0026quot;. Some examples:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://c2.com/cgi/wiki?GlobalVariablesAreBad\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Global Variables Are Bad - Wiki Wiki Web\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://softwareengineering.stackexchange.com/questions/148108/why-is-global-state-so-evil\u0026quot;\u0026gt;Why is Global State so Evil? - Software Engineering Stack Exchange\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/484635/are-global-variables-bad\u0026quot;\u0026gt;Are global variables bad?\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;If you want to go deeper and find out why side effects are all about, and many other enlightening things, you should learn Functional Programming:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Side_effect_(computer_science)\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Side effect (computer science) - Wikipedia\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://softwareengineering.stackexchange.com/questions/15269/why-are-side-effects-considered-evil-in-functional-programming\u0026quot;\u0026gt;Why are side-effects considered evil in functional programming? - Software Engineering Stack Exchange\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Functional_programming\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Functional programming - Wikipedia\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Yes, \u0026lt;em\u0026gt;in theory\u0026lt;/em\u0026gt;, globals (and \u0026quot;state\u0026quot; in general) are evil. In practice, if you look into your python\u0026apos;s packages directory you\u0026apos;ll find that most modules there start with a bunch of global declarations. Obviously, people have no problem with them.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Specifically to python, globals\u0026apos; visibility is limited to a module, therefore there are no \u0026quot;true\u0026quot; globals that affect the whole program - that makes them a way less harmful. Another point: there are no \u0026lt;code\u0026gt;const\u0026lt;/code\u0026gt;, so when you need a constant you have to use a global.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In my practice, if I happen to modify a global in a function, I always declare it with \u0026lt;code\u0026gt;global\u0026lt;/code\u0026gt;, even if there technically no need for that, as in:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;cache = {}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;args\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;global\u0026lt;/span\u0026gt; cache\n\n    cache[args] = ...\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This makes globals\u0026apos; manipulations easier to track down.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;A personal opinion on the topic is that having global variables being used in a function logic means that some other code can alter the logic and the expected output of that function which will make debugging very hard (especially in big projects) and will make testing harder as well.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Furthermore, if you consider other people reading your code (open-source community, colleagues etc) they will have a hard time trying to understand where the global variable is being set, where has been changed and what to expect from this global variable as opposed to an isolated function that its functionality can be determined by reading the function definition itself.\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;(Probably) Violating Pure Function definition\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;I believe that a clean and (nearly) bug-free code should have functions that are as pure as possible (see \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Pure_function\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;pure functions\u0026lt;/a\u0026gt;). A pure function is the one that has the following conditions:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;The function \u0026lt;strong\u0026gt;always evaluates the same result value given the same argument value(s)\u0026lt;/strong\u0026gt;. The function result value cannot depend on any hidden information or state that may change while program execution proceeds or between different executions of the program, nor can it depend on any external input from I/O devices (usuallysee below).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Evaluation of the result \u0026lt;strong\u0026gt;does not cause any semantically observable side effect or output\u0026lt;/strong\u0026gt;, such as mutation of mutable objects or output to I/O devices.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;Having global variables is violating at least one of the above if not both as an external code can probably cause unexpected results.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Another clear definition of pure functions: \u0026quot;Pure function is a function that takes \u0026lt;strong\u0026gt;all of its inputs as explicit arguments\u0026lt;/strong\u0026gt; and produces \u0026lt;strong\u0026gt;all of its outputs as explicit results\u0026lt;/strong\u0026gt;.\u0026quot; \u0026lt;a href=\u0026quot;http://www.cs.nott.ac.uk/~pszgmh/pih.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[1]\u0026lt;/a\u0026gt;. Having global variables violates the idea of pure functions since an input and maybe one of the outputs (the global variable) is not explicitly being given or returned.\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;(Probably) Violating Unit testing F.I.R.S.T principle\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;Further on that, if you consider unit-testing and the F.I.R.S.T principle (\u0026lt;strong\u0026gt;F\u0026lt;/strong\u0026gt;ast tests, \u0026lt;strong\u0026gt;I\u0026lt;/strong\u0026gt;ndependent tests, \u0026lt;strong\u0026gt;R\u0026lt;/strong\u0026gt;epeatable, \u0026lt;strong\u0026gt;S\u0026lt;/strong\u0026gt;elf-Validating and \u0026lt;strong\u0026gt;T\u0026lt;/strong\u0026gt;imely) will probably violate the Independent tests principle (which means that tests don\u0026apos;t depend on each other). \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Having a global variable (not always) but in most of the cases (at least of what I have seen so far) is to prepare and pass results to other functions. This violates this principle as well. If the global variable has been used in that way (i.e the global variable used in function X has to be set in a function Y first) it means that to unit test function X you have to run test/run function Y first.\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;Globals as constants\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;On the other hand and as other people have already mentioned, if the global variable is used as a \u0026quot;constant\u0026quot; variable can be slightly better since the language does not support constants. However, I always prefer working with classes and having the \u0026quot;constants\u0026quot; as a class member and not use a global variable at all. If you have a code that two different classes require to share a global variable then you probably need to refactor your solution and make your classes independent.  \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I don\u0026apos;t believe that globals shouldn\u0026apos;t be used. But if they are used the authors should consider some principles (the ones mentioned above perhaps and other software engineering principles and good practices) for a cleaner and nearly bug-free code.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;They are essential, the screen being a good example. However, in a multithreaded environment or with many developers involved, in practice often the question arises: who did (erraneously) set or clear it? Depending on the architecture, analysis can be costly and be required often. While reading the global var can be ok, writing to it must be controlled, for example by a single thread or threadsafe class. Hence, global vars arise the fear of high development costs possible by the consequences for which themselves are considered evil. Therefore in general, it\u0026apos;s good practice to keep the number of global vars low.\u0026lt;/p\u0026gt;\n    "],"id":519,"title":"Why are global variables evil? [closed]","slug":"why-are-global-variables-evil-closed-1657388260006","postType":"QUESTION","createdAt":"2022-07-09T17:37:40.000Z","updatedAt":"2022-07-09T17:37:40.000Z","tags":[{"id":2566,"name":"side-effects","slug":"side-effects","createdAt":"2022-07-09T17:37:40.000Z","updatedAt":"2022-07-09T17:37:40.000Z","Questions_Tags":{"questionId":519,"tagId":2566}}]}]}},"__N_SSG":true},"page":"/questions/tag/[slug]","query":{"slug":"side-effects"},"buildId":"B9ZMQqRLGvIP-RcWN9dT2","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>