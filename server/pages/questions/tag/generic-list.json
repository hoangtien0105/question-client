{"pageProps":{"data":{"count":1,"rows":[{"answer":["\n&lt;p&gt;Shuffle any &lt;code&gt;(I)List&lt;/code&gt; with an extension method based on the &lt;a href=&quot;http://en.wikipedia.org/wiki/Fisher-Yates_shuffle&quot; rel=&quot;noreferrer&quot;&gt;Fisher-Yates shuffle&lt;/a&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; Random rng = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random();  \n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Shuffle&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; IList&amp;lt;T&amp;gt; list&lt;/span&gt;)&lt;/span&gt;  \n{  \n    &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; n = list.Count;  \n    &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (n &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) {  \n        n--;  \n        &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; k = rng.Next(n + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);  \n        T &lt;span class=&quot;hljs-keyword&quot;&gt;value&lt;/span&gt; = list[k];  \n        list[k] = list[n];  \n        list[n] = &lt;span class=&quot;hljs-keyword&quot;&gt;value&lt;/span&gt;;  \n    }  \n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Usage:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;List&amp;lt;Product&amp;gt; products = GetProducts();\nproducts.Shuffle();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The code above uses the much criticised System.Random method to select swap candidates. It&apos;s fast but not as random as it should be. If you need a better quality of randomness in your shuffles use the random number generator in System.Security.Cryptography like so:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;using&lt;/span&gt; System.Security.Cryptography;\n...\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Shuffle&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; IList&amp;lt;T&amp;gt; list&lt;/span&gt;)&lt;/span&gt;\n{\n    RNGCryptoServiceProvider provider = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; RNGCryptoServiceProvider();\n    &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; n = list.Count;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (n &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n    {\n        &lt;span class=&quot;hljs-built_in&quot;&gt;byte&lt;/span&gt;[] box = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;byte&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;];\n        &lt;span class=&quot;hljs-keyword&quot;&gt;do&lt;/span&gt; provider.GetBytes(box);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (!(box[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] &amp;lt; n * (Byte.MaxValue / n)));\n        &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; k = (box[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] % n);\n        n--;\n        T &lt;span class=&quot;hljs-keyword&quot;&gt;value&lt;/span&gt; = list[k];\n        list[k] = list[n];\n        list[n] = &lt;span class=&quot;hljs-keyword&quot;&gt;value&lt;/span&gt;;\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;A simple comparison is available &lt;a href=&quot;https://web.archive.org/web/20150801085341/http://blog.thijssen.ch/2010/02/when-random-is-too-consistent.html&quot; rel=&quot;noreferrer&quot;&gt;at this blog&lt;/a&gt; (WayBack Machine).&lt;/p&gt;\n\n&lt;p&gt;Edit: Since writing this answer a couple years back, many people have commented or written to me, to point out the big silly flaw in my comparison. They are of course right. There&apos;s nothing wrong with System.Random if it&apos;s used in the way it was intended. In my first example above, I instantiate the rng variable inside of the Shuffle method, which is asking for trouble if the method is going to be called repeatedly. Below is a fixed, full example based on a really useful comment received today from @weston here on SO.&lt;/p&gt;\n\n&lt;p&gt;Program.cs:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;using&lt;/span&gt; System;\n&lt;span class=&quot;hljs-keyword&quot;&gt;using&lt;/span&gt; System.Collections.Generic;\n&lt;span class=&quot;hljs-keyword&quot;&gt;using&lt;/span&gt; System.Threading;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;SimpleLottery&lt;/span&gt;\n{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Program&lt;/span&gt;\n  {\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Main&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt;[] args&lt;/span&gt;)&lt;/span&gt;\n    {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; numbers = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt;&amp;gt;(Enumerable.Range(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;75&lt;/span&gt;));\n      numbers.Shuffle();\n      Console.WriteLine(&lt;span class=&quot;hljs-string&quot;&gt;&quot;The winning numbers are: {0}&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt;.Join(&lt;span class=&quot;hljs-string&quot;&gt;&quot;,  &quot;&lt;/span&gt;, numbers.GetRange(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;)));\n    }\n  }\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;ThreadSafeRandom&lt;/span&gt;\n  {\n      [&lt;span class=&quot;hljs-meta&quot;&gt;ThreadStatic&lt;/span&gt;] &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; Random Local;\n\n      &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; Random ThisThreadsRandom\n      {\n          &lt;span class=&quot;hljs-keyword&quot;&gt;get&lt;/span&gt; { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; Local ?? (Local = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random(&lt;span class=&quot;hljs-keyword&quot;&gt;unchecked&lt;/span&gt;(Environment.TickCount * &lt;span class=&quot;hljs-number&quot;&gt;31&lt;/span&gt; + Thread.CurrentThread.ManagedThreadId))); }\n      }\n  }\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;MyExtensions&lt;/span&gt;\n  {\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Shuffle&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; IList&amp;lt;T&amp;gt; list&lt;/span&gt;)&lt;/span&gt;\n    {\n      &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; n = list.Count;\n      &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (n &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n      {\n        n--;\n        &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; k = ThreadSafeRandom.ThisThreadsRandom.Next(n + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n        T &lt;span class=&quot;hljs-keyword&quot;&gt;value&lt;/span&gt; = list[k];\n        list[k] = list[n];\n        list[n] = &lt;span class=&quot;hljs-keyword&quot;&gt;value&lt;/span&gt;;\n      }\n    }\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If we only need to shuffle items in a completely random order (just to mix the items in a list), I prefer this simple yet effective code that orders items by guid...&lt;/p&gt;\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; shuffledcards = cards.OrderBy(a =&amp;gt; Guid.NewGuid()).ToList();\n&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;p&gt;As people have pointed out in the comments, GUIDs are not guaranteed to be random, so we should be using a real random number generator instead:&lt;/p&gt;\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; Random rng = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random();\n...\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; shuffledcards = cards.OrderBy(a =&amp;gt; rng.Next()).ToList();\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I&apos;m bit surprised by all the clunky versions of this simple algorithm here. Fisher-Yates (or Knuth shuffle) is bit tricky but very compact. Why is it tricky? Because your need to pay attention to whether your random number generator &lt;code&gt;r(a,b)&lt;/code&gt; returns value where &lt;code&gt;b&lt;/code&gt; is inclusive or exclusive. I&apos;ve also edited &lt;a href=&quot;https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle#The_modern_algorithm&quot; rel=&quot;noreferrer&quot;&gt;Wikipedia description&lt;/a&gt; so people don&apos;t blindly follow pseudocode there and create hard to detect bugs. For .Net, &lt;code&gt;Random.Next(a,b)&lt;/code&gt; returns number exclusive of &lt;code&gt;b&lt;/code&gt; so without further ado, here&apos;s how it can be implemented in C#/.Net:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Shuffle&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; IList&amp;lt;T&amp;gt; list, Random rnd&lt;/span&gt;)&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i=list.Count; i &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i--)\n        list.Swap(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, rnd.Next(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, i));\n}\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Swap&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; IList&amp;lt;T&amp;gt; list, &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; i, &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; j&lt;/span&gt;)&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; temp = list[i];\n    list[i] = list[j];\n    list[j] = temp;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://dotnetfiddle.net/f7aG0o#&quot; rel=&quot;noreferrer&quot;&gt;Try this code&lt;/a&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;Extension method for IEnumerable:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;IEnumerable&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;Randomize&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; IEnumerable&amp;lt;T&amp;gt; source&lt;/span&gt;)&lt;/span&gt;\n{\n    Random rnd = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; source.OrderBy&amp;lt;T, &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt;&amp;gt;((item) =&amp;gt; rnd.Next());\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Idea is get anonymous object with item and random order and then reorder items by this order and return value:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; result = items.Select(x =&amp;gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; { &lt;span class=&quot;hljs-keyword&quot;&gt;value&lt;/span&gt; = x, order = rnd.Next() })\n            .OrderBy(x =&amp;gt; x.order).Select(x =&amp;gt; x.&lt;span class=&quot;hljs-keyword&quot;&gt;value&lt;/span&gt;).ToList()\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;Randomize&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;List&amp;lt;T&amp;gt; list&lt;/span&gt;)&lt;/span&gt;\n    {\n        List&amp;lt;T&amp;gt; randomizedList = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;T&amp;gt;();\n        Random rnd = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random();\n        &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (list.Count &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n        {\n            &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; index = rnd.Next(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, list.Count); &lt;span class=&quot;hljs-comment&quot;&gt;//pick a random item from the master list&lt;/span&gt;\n            randomizedList.Add(list[index]); &lt;span class=&quot;hljs-comment&quot;&gt;//place it at the end of the randomized list&lt;/span&gt;\n            list.RemoveAt(index);\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; randomizedList;\n    }\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;EDIT&lt;/strong&gt;\nThe &lt;code&gt;RemoveAt&lt;/code&gt; is a weakness in my previous version. This solution overcomes that.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;IEnumerable&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;Shuffle&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; IEnumerable&amp;lt;T&amp;gt; source,\n        Random generator = &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;&lt;/span&gt;)&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (generator == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;)\n    {\n        generator = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random();\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; elements = source.ToArray();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = elements.Length - &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;; i &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i--)\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; swapIndex = generator.Next(i + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; elements[swapIndex];\n        elements[swapIndex] = elements[i];\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Note the optional &lt;code&gt;Random generator&lt;/code&gt;, if the base framework implementation of &lt;code&gt;Random&lt;/code&gt; is not thread-safe or cryptographically strong enough for your needs, you can inject your implementation into the operation.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/a/24648788/659190&quot;&gt;A suitable implementation for a thread-safe cryptographically strong &lt;code&gt;Random&lt;/code&gt; implementation can be found in this answer.&lt;/a&gt;&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;&lt;s&gt;Here&apos;s an idea, extend IList in a (hopefully) efficient way.&lt;/s&gt;&lt;/p&gt;&lt;s&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;IEnumerable&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;Shuffle&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; IList&amp;lt;T&amp;gt; list&lt;/span&gt;)&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; choices = Enumerable.Range(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, list.Count).ToList();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; rng = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; n = choices.Count; n &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;; n--)\n    {\n        &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; k = rng.Next(n);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; list[choices[k]];\n        choices.RemoveAt(k);\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; list[choices[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]];\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/s&gt;&lt;p&gt;&lt;s&gt;&lt;/s&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;This is my preferred method of a shuffle when it&apos;s desirable to not modify the original. It&apos;s a variant of the &lt;a href=&quot;https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle#The_.22inside-out.22_algorithm&quot; rel=&quot;noreferrer&quot;&gt;FisherYates &quot;inside-out&quot; algorithm&lt;/a&gt; that works on any enumerable sequence (the length of &lt;code&gt;source&lt;/code&gt; does not need to be known from start).&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;IList&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;NextList&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; Random r, IEnumerable&amp;lt;T&amp;gt; source&lt;/span&gt;)&lt;/span&gt;\n{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; list = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;T&amp;gt;();\n  &lt;span class=&quot;hljs-keyword&quot;&gt;foreach&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; item &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; source)\n  {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = r.Next(list.Count + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (i == list.Count)\n    {\n      list.Add(item);\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;\n    {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; temp = list[i];\n      list[i] = item;\n      list.Add(temp);\n    }\n  }\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; list;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This algorithm can also be implemented by allocating a range from &lt;code&gt;0&lt;/code&gt; to &lt;code&gt;length - 1&lt;/code&gt; and randomly exhausting the indices by swapping the randomly chosen index with the last index until all indices have been chosen exactly once. This above code accomplishes the exact same thing but without the additional allocation. Which is pretty neat.&lt;/p&gt;\n\n&lt;p&gt;With regards to the &lt;code&gt;Random&lt;/code&gt; class it&apos;s a general purpose number generator (and If I was running a lottery I&apos;d consider using something different). It also relies on a time based seed value by default. A small alleviation of the problem is to seed the &lt;code&gt;Random&lt;/code&gt; class with the &lt;code&gt;RNGCryptoServiceProvider&lt;/code&gt; or you could use the &lt;code&gt;RNGCryptoServiceProvider&lt;/code&gt; in a method similar to this (see below) to generate uniformly chosen random double floating point values but running a lottery pretty much requires understanding randomness and the nature of the randomness source.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; bytes = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;byte&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;];\n_secureRng.GetBytes(bytes);\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; v = BitConverter.ToUInt64(bytes, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (&lt;span class=&quot;hljs-built_in&quot;&gt;double&lt;/span&gt;)v / ((&lt;span class=&quot;hljs-built_in&quot;&gt;double&lt;/span&gt;)&lt;span class=&quot;hljs-built_in&quot;&gt;ulong&lt;/span&gt;.MaxValue + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The point of generating a random double (between 0 and 1 exclusively) is to use to scale to an integer solution. If you need to pick something from a list based on a random double &lt;code&gt;x&lt;/code&gt; that&apos;s always going to be &lt;code&gt;0 &amp;lt;= x &amp;amp;&amp;amp; x &amp;lt; 1&lt;/code&gt; is straight forward.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; list[(&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt;)(x * list.Count)];\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Enjoy!&lt;/p&gt;\n    ","\n&lt;p&gt;If you don&apos;t mind using two &lt;code&gt;Lists&lt;/code&gt;, then this is probably the easiest way to do it, but probably not the most efficient or unpredictable one: &lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;List&amp;lt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt;&amp;gt; xList = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt;&amp;gt;() { &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; };\nList&amp;lt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt;&amp;gt; deck = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt;&amp;gt;();\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;foreach&lt;/span&gt; (&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; xInt &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; xList)\n    deck.Insert(random.Next(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, deck.Count + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;), xInt);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I usually use:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; list = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;T&amp;gt; ();\nfillList (list);\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; randomizedList = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;T&amp;gt; ();\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; rnd = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random ();\n&lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (list.Count != &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; index = rnd.Next (&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, list.Count);\n    randomizedList.Add (list [index]);\n    list.RemoveAt (index);\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If you have a fixed number (75), you could create an array with 75 elements, then enumerate your list, moving the elements to randomized positions in the array.  You can generate the mapping of list number to array index using the &lt;a href=&quot;http://en.wikipedia.org/wiki/Knuth_shuffle&quot; rel=&quot;nofollow noreferrer&quot; title=&quot;Fisher-Yates shuffle&quot;&gt;Fisher-Yates shuffle&lt;/a&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;You can achieve that be using this simple extension method&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;IEnumerableExtensions&lt;/span&gt;\n{\n\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;IEnumerable&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;t&lt;/span&gt;&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;Randomize&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;t&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; IEnumerable&amp;lt;t&amp;gt; target&lt;/span&gt;)&lt;/span&gt;\n    {\n        Random r = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random();\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; target.OrderBy(x=&amp;gt;(r.Next()));\n    }        \n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and you can use it by doing the following&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// use this on any collection that implements IEnumerable!&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// List, Array, HashSet, Collection, etc&lt;/span&gt;\n\nList&amp;lt;&lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt;&amp;gt; myList = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;&lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt;&amp;gt; { &lt;span class=&quot;hljs-string&quot;&gt;&quot;hello&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;random&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;world&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;foo&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;bar&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;bat&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;baz&quot;&lt;/span&gt; };\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;foreach&lt;/span&gt; (&lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt; s &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; myList.Randomize())\n{\n    Console.WriteLine(s);\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Just wanted to suggest a variant using an &lt;code&gt;IComparer&amp;lt;T&amp;gt;&lt;/code&gt; and &lt;code&gt;List.Sort()&lt;/code&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;RandomIntComparer&lt;/span&gt; : &lt;span class=&quot;hljs-title&quot;&gt;IComparer&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;int&lt;/span&gt;&amp;gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;readonly&lt;/span&gt; Random _random = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random();\n    \n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Compare&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; x, &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; y&lt;/span&gt;)&lt;/span&gt;\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; _random.Next(&lt;span class=&quot;hljs-number&quot;&gt;-1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;);\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Usage:&lt;/p&gt;\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;list.Sort(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; RandomIntComparer());\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I have found an interesting solution online.&lt;/p&gt;\n\n&lt;p&gt;Courtesy: &lt;a href=&quot;https://improveandrepeat.com/2018/08/a-simple-way-to-shuffle-your-lists-in-c/&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://improveandrepeat.com/2018/08/a-simple-way-to-shuffle-your-lists-in-c/&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;var shuffled = myList.OrderBy(x =&amp;gt; Guid.NewGuid()).ToList();&lt;/p&gt;\n    ","\n&lt;p&gt;One can use the Shuffle extension methond from morelinq package, it works on IEnumerables&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;install-package morelinq&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;using&lt;/span&gt; MoreLinq;\n...    \n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; randomized = list.Shuffle();\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;A simple modification of the &lt;a href=&quot;https://stackoverflow.com/a/1262619/&quot;&gt;accepted answer&lt;/a&gt; that returns a new list instead of working in-place, and accepts the more general &lt;code&gt;IEnumerable&amp;lt;T&amp;gt;&lt;/code&gt; as many other Linq methods do.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; Random rng = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random();\n\n&lt;span class=&quot;hljs-comment&quot;&gt;&lt;span class=&quot;hljs-doctag&quot;&gt;///&lt;/span&gt; &lt;span class=&quot;hljs-doctag&quot;&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;&lt;span class=&quot;hljs-doctag&quot;&gt;///&lt;/span&gt; Returns a new list where the elements are randomly shuffled.&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;&lt;span class=&quot;hljs-doctag&quot;&gt;///&lt;/span&gt; Based on the Fisher-Yates shuffle, which has O(n) complexity.&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;&lt;span class=&quot;hljs-doctag&quot;&gt;///&lt;/span&gt; &lt;span class=&quot;hljs-doctag&quot;&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;IEnumerable&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;Shuffle&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; IEnumerable&amp;lt;T&amp;gt; list&lt;/span&gt;)&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; source = list.ToList();\n    &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; n = source.Count;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; shuffled = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;T&amp;gt;(n);\n    shuffled.AddRange(source);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (n &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) {\n        n--;\n        &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; k = rng.Next(n + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n        T &lt;span class=&quot;hljs-keyword&quot;&gt;value&lt;/span&gt; = shuffled[k];\n        shuffled[k] = shuffled[n];\n        shuffled[n] = &lt;span class=&quot;hljs-keyword&quot;&gt;value&lt;/span&gt;;\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; shuffled;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;    List&amp;lt;T&amp;gt; OriginalList = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;T&amp;gt;();\n    List&amp;lt;T&amp;gt; TempList = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;T&amp;gt;();\n    Random random = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random();\n    &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; length = OriginalList.Count;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; TempIndex = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (length &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) {\n        TempIndex = random.Next(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, length);  &lt;span class=&quot;hljs-comment&quot;&gt;// get random value between 0 and original length&lt;/span&gt;\n        TempList.Add(OriginalList[TempIndex]); &lt;span class=&quot;hljs-comment&quot;&gt;// add to temp list&lt;/span&gt;\n        OriginalList.RemoveAt(TempIndex); &lt;span class=&quot;hljs-comment&quot;&gt;// remove from original list&lt;/span&gt;\n        length = OriginalList.Count;  &lt;span class=&quot;hljs-comment&quot;&gt;// get new list &amp;lt;T&amp;gt; length.&lt;/span&gt;\n    }\n\n    OriginalList = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;T&amp;gt;();\n    OriginalList = TempList; &lt;span class=&quot;hljs-comment&quot;&gt;// copy all items from temp list to original list.&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Here is an implementation of the Fisher-Yates shuffle that allows specification of the number of elements to return; hence, it is not necessary to first sort the whole collection before taking your desired number of elements.&lt;/p&gt;\n&lt;p&gt;The sequence of swapping elements is reversed from default; and proceeds from the first element to the last element, so that retrieving a subset of the collection yields the same (partial) sequence as shuffling the whole collection:&lt;/p&gt;\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;collection.TakeRandom(&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;).SequenceEqual(collection.Shuffle().Take(&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;)); &lt;span class=&quot;hljs-comment&quot;&gt;// true&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This algorithm is based on Durstenfeld&apos;s (modern) version of the &lt;a href=&quot;https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle#The_modern_algorithm&quot; rel=&quot;nofollow noreferrer&quot;&gt;Fisher-Yates shuffle&lt;/a&gt; on Wikipedia.&lt;/p&gt;\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;IList&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;TakeRandom&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; IEnumerable&amp;lt;T&amp;gt; collection, &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; count, Random random&lt;/span&gt;)&lt;/span&gt; =&amp;gt; shuffle(collection, count, random);\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;IList&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;Shuffle&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; IEnumerable&amp;lt;T&amp;gt; collection, Random random&lt;/span&gt;)&lt;/span&gt; =&amp;gt; shuffle(collection, &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;, random);\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;IList&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;shuffle&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;IEnumerable&amp;lt;T&amp;gt; collection, &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt;? take, Random random&lt;/span&gt;)&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a = collection.ToArray();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; n = a.Length;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (take &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; || take &amp;gt; n) &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; ArgumentException(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Invalid number of elements to return.&quot;&lt;/span&gt;);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; end = take ?? n;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; end; i++)\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; j = random.Next(i, n);\n        (a[i], a[j]) = (a[j], a[i]);\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (take.HasValue) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; ArraySegment&amp;lt;T&amp;gt;(a, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, take.Value);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; a;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can make the Fisher-Yates shuffle more terse and expressive by using tuples for the swap.&lt;/p&gt;\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;readonly&lt;/span&gt; Random random = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random();\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Shuffle&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; IList&amp;lt;T&amp;gt; list&lt;/span&gt;)&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; n = list.Count;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (n &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n    {\n        n--;\n        &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; k = random.Next(n + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n        (list[k], list[n]) = (list[n], list[k]);\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Here&apos;s an efficient Shuffler that returns a byte array of shuffled values. It never shuffles more than is needed. It can be restarted from where it previously left off. My actual implementation (not shown) is a MEF component that allows a user specified replacement shuffler.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;byte&lt;/span&gt;[] &lt;span class=&quot;hljs-title&quot;&gt;Shuffle&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;byte&lt;/span&gt;[] array, &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; start, &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; count&lt;/span&gt;)&lt;/span&gt;\n    {\n        &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; n = array.Length - start;\n        &lt;span class=&quot;hljs-built_in&quot;&gt;byte&lt;/span&gt;[] shuffled = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;byte&lt;/span&gt;[count];\n        &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; count; i++, start++)\n        {\n            &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; k = UniformRandomGenerator.Next(n--) + start;\n            shuffled[i] = array[k];\n            array[k] = array[start];\n            array[start] = shuffled[i];\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; shuffled;\n    }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;`&lt;/p&gt;\n    ","\n&lt;p&gt;Your question is how to &lt;strong&gt;randomize&lt;/strong&gt; a list. This means:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;All unique combinations should be possible of happening&lt;/li&gt;\n&lt;li&gt;All unique combinations should occur with the same distribution (AKA being non-biased).&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;A large number of the answers posted for this question do NOT satisfy the two requirements above for being &quot;random&quot;.&lt;/p&gt;\n&lt;p&gt;Here&apos;s a compact, non-biased pseudo-random function following the Fisher-Yates shuffle method.&lt;/p&gt;\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Shuffle&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; IList&amp;lt;T&amp;gt; list, Random rnd&lt;/span&gt;)&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = list.Count&lt;span class=&quot;hljs-number&quot;&gt;-1&lt;/span&gt;; i &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i--)\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; randomIndex = rnd.Next(i + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;//maxValue (i + 1) is EXCLUSIVE&lt;/span&gt;\n        list.Swap(i, randomIndex); \n    }\n}\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Swap&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; IList&amp;lt;T&amp;gt; list, &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; indexA, &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; indexB&lt;/span&gt;)&lt;/span&gt;\n{\n   &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; temp = list[indexA];\n   list[indexA] = list[indexB];\n   list[indexB] = temp;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;We can use an extension method for List and use a thread-safe random generator combination.&lt;/p&gt;\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;ListExtensions&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Shuffle&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; IList&amp;lt;T&amp;gt; list&lt;/span&gt;)&lt;/span&gt;\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (list == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; ArgumentNullException(&lt;span class=&quot;hljs-keyword&quot;&gt;nameof&lt;/span&gt;(list));\n        &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; n = list.Count;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (n &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n        {\n            n--;\n            &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; k = ThreadSafeRandom.Next(n + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n            (list[n], list[k]) = (list[k], list[n]);\n        }\n    }\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;internal&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;ThreadSafeRandom&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;readonly&lt;/span&gt; Random _global = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;readonly&lt;/span&gt; ThreadLocal&amp;lt;Random&amp;gt; _local = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; ThreadLocal&amp;lt;Random&amp;gt;(() =&amp;gt;\n    {\n        &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; seed;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;lock&lt;/span&gt; (_global)\n        {\n            seed = _global.Next();\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random(seed);\n    });\n\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Next&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; maxValue&lt;/span&gt;)&lt;/span&gt;\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; _local.Value.Next(maxValue);\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;I&apos;ve packaged this on &lt;a href=&quot;https://www.nuget.org/packages/ListShuffle&quot; rel=&quot;nofollow noreferrer&quot;&gt;NuGet&lt;/a&gt; with the source code available on &lt;a href=&quot;https://github.com/MarkCiliaVincenti/ListShuffle&quot; rel=&quot;nofollow noreferrer&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;Here&apos;s a thread-safe way to do this:&lt;/p&gt;\n\n\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;EnumerableExtension&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; Random globalRng = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random();\n\n    [&lt;span class=&quot;hljs-meta&quot;&gt;ThreadStatic&lt;/span&gt;]\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; Random _rng;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; Random rng \n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;get&lt;/span&gt;\n        {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (_rng == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;)\n            {\n                &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; seed;\n                &lt;span class=&quot;hljs-keyword&quot;&gt;lock&lt;/span&gt; (globalRng)\n                {\n                    seed = globalRng.Next();\n                }\n                _rng = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random(seed);\n             }\n             &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; _rng;\n         }\n    }\n\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;IEnumerable&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;Shuffle&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;T&lt;/span&gt;&amp;gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; IEnumerable&amp;lt;T&amp;gt; items&lt;/span&gt;)&lt;/span&gt;\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; items.OrderBy (i =&amp;gt; rng.Next());\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Deck&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;IEnumerable&amp;lt;Card&amp;gt; initialCards&lt;/span&gt;)&lt;/span&gt; \n    {\n    cards = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;Card&amp;gt;(initialCards);\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Shuffle&lt;/span&gt;() \n     }&lt;/span&gt;\n    {\n        List&amp;lt;Card&amp;gt; NewCards = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;Card&amp;gt;();\n        &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (cards.Count &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) \n        {\n            &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; CardToMove = random.Next(cards.Count);\n            NewCards.Add(cards[CardToMove]);\n            cards.RemoveAt(CardToMove);\n        }\n        cards = NewCards;\n    }\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; IEnumerable&amp;lt;&lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt;&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;GetCardNames&lt;/span&gt;()&lt;/span&gt; \n\n{\n    &lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt;[] CardNames = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt;[cards.Count];\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; cards.Count; i++)\n    CardNames[i] = cards[i].Name;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; CardNames;\n}\n\nDeck deck1;\nDeck deck2;\nRandom random = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random();\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Form1&lt;/span&gt;()&lt;/span&gt; \n{\n\nInitializeComponent();\nResetDeck(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\nResetDeck(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;);\nRedrawDeck(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n RedrawDeck(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;);\n\n}\n\n\n\n &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;ResetDeck&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; deckNumber&lt;/span&gt;)&lt;/span&gt; \n    {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (deckNumber == &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) \n{\n      &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; numberOfCards = random.Next(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;);\n      deck1 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Deck(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Card[] { });\n      &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; numberOfCards; i++)\n           deck1.Add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Card((Suits)random.Next(&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;),(Values)random.Next(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;14&lt;/span&gt;)));\n       deck1.Sort();\n}\n\n\n   &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;\n    deck2 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Deck();\n }\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;reset1_Click&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;object&lt;/span&gt; sender, EventArgs e&lt;/span&gt;)&lt;/span&gt; {\nResetDeck(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\nRedrawDeck(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n\n}\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;shuffle1_Click&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;object&lt;/span&gt; sender, EventArgs e&lt;/span&gt;)&lt;/span&gt; \n{\n    deck1.Shuffle();\n    RedrawDeck(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n\n}\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;moveToDeck1_Click&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;object&lt;/span&gt; sender, EventArgs e&lt;/span&gt;)&lt;/span&gt; \n{\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (listBox2.SelectedIndex &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (deck2.Count &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) {\n    deck1.Add(deck2.Deal(listBox2.SelectedIndex));\n\n}\n\n    RedrawDeck(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n    RedrawDeck(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;);\n\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; List&amp;lt;GameObject&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;ShuffleList&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;List&amp;lt;GameObject&amp;gt; ActualList&lt;/span&gt;)&lt;/span&gt; {\n\n\n    List&amp;lt;GameObject&amp;gt; newList = ActualList;\n    List&amp;lt;GameObject&amp;gt; outList = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;GameObject&amp;gt;();\n\n    &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; count = newList.Count;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (newList.Count &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) {\n\n        &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; rando = Random.Range(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, newList.Count);\n\n        outList.Add(newList[rando]);\n\n        newList.RemoveAt(rando);\n\n     \n\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (outList);\n\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;usage :&lt;/p&gt;\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;List&amp;lt;GameObject&amp;gt; GetShuffle = ShuffleList(ActualList);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Old post for sure, but I just use a GUID.  &lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;Items = Items.OrderBy(o =&amp;gt; Guid.NewGuid().ToString()).ToList();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;A GUID is always unique, and since it is regenerated every time the result changes each time.  &lt;/p&gt;\n    ","\n&lt;p&gt;A very simple approach to this kind of problem is to use a number of random element swap in the list.&lt;/p&gt;\n\n&lt;p&gt;In pseudo-code this would look like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;do&lt;/span&gt; \n    r1 = randomPositionInList()\n    r2 = randomPositionInList()\n    swap elements at index r1 &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; index r2 \n&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; a certain number of times\n&lt;/code&gt;&lt;/pre&gt;\n    "],"comment":["\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;There is an open issue to integrate this functionality to .NET: &lt;a href=&quot;https://github.com/dotnet/corefx/issues/461&quot; rel=&quot;nofollow noreferrer&quot;&gt;github.com/dotnet/corefx/issues/461&lt;/a&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1902354/natan&quot; title=&quot;4,496 reputation&quot; class=&quot;comment-user&quot;&gt;Natan&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment46085757_273313&quot;&gt;&lt;span title=&quot;2015-03-07 10:19:56Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Mar 7, 2015 at 10:19&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;You may be interested in &lt;a href=&quot;https://github.com/madelson/MedallionUtilities/tree/master/MedallionRandom#shuffling&quot; rel=&quot;nofollow noreferrer&quot;&gt;this NuGet package&lt;/a&gt;, which contains extension methods for shuffling IList&amp;lt;T&amp;gt; and IEnumerable&amp;lt;T&amp;gt; using the Fisher-Yates algorithm mentioned below&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1142970/chasemedallion&quot; title=&quot;20,121 reputation&quot; class=&quot;comment-user&quot;&gt;ChaseMedallion&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment61723589_273313&quot;&gt;&lt;span title=&quot;2016-05-07 14:44:49Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;May 7, 2016 at 14:44&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@Natan they closed the issue because someone &quot;worked on many projects and developed many libraries and never had a need in such a method&quot; that pissed me off. Now we have to investigate ourselves, search for the best implementations, waste time to simply reinvent the wheel.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/5806893/vitalii-isaenko&quot; title=&quot;831 reputation&quot; class=&quot;comment-user&quot;&gt;Vitalii Isaenko&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment100639081_273313&quot;&gt;&lt;span title=&quot;2019-07-16 11:56:54Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jul 16, 2019 at 11:56&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Am I seeing this right? Not a single valid functional answer after 10 years ? Maybe we need another bounty for a solution which addresses the amount of entropy needed, to shuffle a list with 75 numbers $log2(75!) = 364$ and how we can get this. One would need to reseed even a cryptographically secure RNG with 256 bits of entropy at least once during a fisher-yates shuffle.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/3070062/falco&quot; title=&quot;3,137 reputation&quot; class=&quot;comment-user&quot;&gt;Falco&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment101119077_273313&quot;&gt;&lt;span title=&quot;2019-08-01 16:39:55Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Aug 1, 2019 at 16:39&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;And if the usual coder cannot solve this problem, have we all been playing the same 0.01% of possible solitaire games forever?&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/3070062/falco&quot; title=&quot;3,137 reputation&quot; class=&quot;comment-user&quot;&gt;Falco&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment101119124_273313&quot;&gt;&lt;span title=&quot;2019-08-01 16:41:48Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Aug 1, 2019 at 16:41&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;What if list.Count is &amp;gt; Byte.MaxValue? If n = 1000, then 255 / 1000 = 0, so the do loop will be an infinite loop since box[0] &amp;lt; 0 is always false.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/14982/andrews&quot; title=&quot;3,366 reputation&quot; class=&quot;comment-user&quot;&gt;AndrewS&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment7307937_1262619&quot;&gt;&lt;span title=&quot;2011-06-07 10:47:51Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 7, 2011 at 10:47&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;I would like to point out, that the comparison is flawed. Using &amp;lt;code&amp;gt;new Random()&amp;lt;/code&amp;gt; in a loop is the problem, not the randomness of &amp;lt;code&amp;gt;Random&amp;lt;/code&amp;gt; &lt;a href=&quot;http://stackoverflow.com/questions/3053807/random-number-in-a-loop/3053811#3053811&quot;&gt;Explanation&lt;/a&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/66674/sven&quot; title=&quot;2,947 reputation&quot; class=&quot;comment-user&quot;&gt;Sven&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment9217448_1262619&quot;&gt;&lt;span title=&quot;2011-09-29 13:43:52Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Sep 29, 2011 at 13:43&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;It is a good idea to pass an instance of Random to the Shuffle method rather than create it inside as if you are calling Shuffle lots of times in quick succession (e.g. shuffling lots of short lists), the lists will all be shuffled in the same way (e.g. first item always gets moved to position 3).&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/7532/mark-heath&quot; title=&quot;46,894 reputation&quot; class=&quot;comment-user&quot;&gt;Mark Heath&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment11557381_1262619&quot;&gt;&lt;span title=&quot;2012-02-07 22:43:18Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Feb 7, 2012 at 22:43&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Just making &lt;code&gt;Random rng = new Random();&lt;/code&gt; a &lt;code&gt;static&lt;/code&gt; would solve the problem in the comparison post. As each subsequent call would follow on from the previous calls last random result.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/360211/weston&quot; title=&quot;52,695 reputation&quot; class=&quot;comment-user&quot;&gt;weston&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment18654187_1262619&quot;&gt;&lt;span title=&quot;2012-11-28 13:58:48Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Nov 28, 2012 at 13:58&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;#2, it&apos;s not clear that the version with the Crypto generator works because the max range of a byte is 255, so any list larger than that will not shuffle correctly.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/155892/mark-sowul&quot; title=&quot;9,979 reputation&quot; class=&quot;comment-user&quot;&gt;Mark Sowul&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment23584437_1262619&quot;&gt;&lt;span title=&quot;2013-05-08 14:37:37Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;May 8, 2013 at 14:37&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;GUIDs are meant to be unique not random. Part of it is machine-based and another part time-based and only a small portion is random. &lt;a href=&quot;http://blogs.msdn.com/b/oldnewthing/archive/2008/06/27/8659071.aspx&quot; rel=&quot;nofollow noreferrer&quot;&gt;blogs.msdn.com/b/oldnewthing/archive/2008/06/27/8659071.aspx&lt;/a&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1160036/despertar&quot; title=&quot;20,629 reputation&quot; class=&quot;comment-user&quot;&gt;Despertar&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment23478760_4262134&quot;&gt;&lt;span title=&quot;2013-05-05 07:00:40Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;May 5, 2013 at 7:00&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;This is a nice elegant solution. If you want something other than a guid to generate randomness, just order by something else. Eg: &lt;code&gt;var shuffledcards = cards.OrderBy(a =&amp;gt; rng.Next());&lt;/code&gt; &lt;a href=&quot;https://compilr.com/grenade/sandbox/Program.cs&quot; rel=&quot;nofollow noreferrer&quot;&gt;compilr.com/grenade/sandbox/Program.cs&lt;/a&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/68115/grenade&quot; title=&quot;30,323 reputation&quot; class=&quot;comment-user&quot;&gt;grenade&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment24164056_4262134&quot;&gt;&lt;span title=&quot;2013-05-27 10:54:21Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;May 27, 2013 at 10:54&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Please no. This is wrong. &quot;ordering by random&quot; is totally NOT a shuffle: you introduce a bias and, worse, you risk to go in infinite loops&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/273593/vito-de-tullio&quot; title=&quot;2,531 reputation&quot; class=&quot;comment-user&quot;&gt;Vito De Tullio&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment26798178_4262134&quot;&gt;&lt;span title=&quot;2013-08-16 10:07:34Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Aug 16, 2013 at 10:07&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@VitoDeTullio: You are misremembering. You risk infinite loops when you provide a random &lt;i&gt;comparison function&lt;/i&gt;; a comparison function is required to produce a consistent &lt;i&gt;total order&lt;/i&gt;. A random &lt;i&gt;key&lt;/i&gt; is fine. This suggestion is wrong because &lt;i&gt;guids are not guaranteed to be random&lt;/i&gt;, not because the technique of sorting by a random key is wrong.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/88656/eric-lippert&quot; title=&quot;632,289 reputation&quot; class=&quot;comment-user&quot;&gt;Eric Lippert&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment27716629_4262134&quot;&gt;&lt;span title=&quot;2013-09-13 21:30:12Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Sep 13, 2013 at 21:30&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@Doug: &lt;code&gt;NewGuid&lt;/code&gt; only guarantees that it gives you a unique GUID. It makes no guarantees about randomness. If you&apos;re using a GUID for a purpose other than creating a &lt;i&gt;unique&lt;/i&gt; value, you&apos;re doing it wrong.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/88656/eric-lippert&quot; title=&quot;632,289 reputation&quot; class=&quot;comment-user&quot;&gt;Eric Lippert&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment27716648_4262134&quot;&gt;&lt;span title=&quot;2013-09-13 21:31:20Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Sep 13, 2013 at 21:31&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;This code does not work as expected. The last number is always &lt;code&gt;0&lt;/code&gt; or &lt;code&gt;list.Count-1&lt;/code&gt;.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/555336/oneiros&quot; title=&quot;4,235 reputation&quot; class=&quot;comment-user&quot;&gt;Oneiros&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment105332467_22668974&quot;&gt;&lt;span title=&quot;2020-01-03 17:52:21Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jan 3, 2020 at 17:52&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@ShitalShah The current code in your answer doesn&apos;t give correct results, because it&apos;s not a correct Fisher-Yates shuffle. It should be fixed, as well as the code in the link.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/2821510/trisibo&quot; title=&quot;1,015 reputation&quot; class=&quot;comment-user&quot;&gt;Trisibo&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment111199184_22668974&quot;&gt;&lt;span title=&quot;2020-07-13 18:37:38Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jul 13, 2020 at 18:37&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;This code is broken. If you used a list of strings for 3 letters, &quot;A&quot;, &quot;B&quot;, and &quot;C&quot;, CBA, and BCA would literally never occur using this function, because of this line:  &lt;code&gt;list.Swap(0, rnd.Next(0, i));&lt;/code&gt;  switching it to the following fixes it and makes it a working, non-biased pseudo-random function:  &lt;code&gt;list.Swap(i-1, rnd.Next(0, i));&lt;/code&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/9068304/garrison-becker&quot; title=&quot;481 reputation&quot; class=&quot;comment-user&quot;&gt;Garrison Becker&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment112002168_22668974&quot;&gt;&lt;span title=&quot;2020-08-10 12:21:55Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Aug 10, 2020 at 12:21&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;OP: &quot;Fischer-Yates is a bit tricky.&quot; Proceeds to make one of the many common implementation mistakes.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/202091/d0sboots&quot; title=&quot;661 reputation&quot; class=&quot;comment-user&quot;&gt;D0SBoots&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment125681643_22668974&quot;&gt;&lt;span title=&quot;2022-02-13 06:10:41Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Feb 13 at 6:10&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;There are two significant problems with this algorithm: -- &lt;code&gt;OrderBy&lt;/code&gt; uses a QuickSort variant to sort the items by their (ostensibly random) keys. QuickSort performance is &lt;i&gt;O(N log N)&lt;/i&gt;; in contrast, a Fisher-Yates shuffle is &lt;i&gt;O(N)&lt;/i&gt;. For a collection of 75 elements, this may not be a big deal, but the difference will become pronounced for larger collections.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1575257/john-beyer&quot; title=&quot;653 reputation&quot; class=&quot;comment-user&quot;&gt;John Beyer&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment25131868_3456788&quot;&gt;&lt;span title=&quot;2013-06-26 16:47:46Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 26, 2013 at 16:47&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;...  -- &lt;code&gt;Random.Next()&lt;/code&gt; may produce a reasonably pseudo-random distribution of values, but it does &lt;i&gt;not&lt;/i&gt; guarantee that the values will be unique. The probability of duplicate keys grows (non-linearly) with &lt;i&gt;N&lt;/i&gt; until it reaches certainty when &lt;i&gt;N&lt;/i&gt; reaches 2^32+1. The &lt;code&gt;OrderBy&lt;/code&gt; QuickSort is a &lt;i&gt;stable&lt;/i&gt; sort; thus, if multiple elements happen to get assigned the same pseudo-random index value, then their order in the output sequence will be the &lt;i&gt;same&lt;/i&gt; as in the input sequence; thus, a bias is introduced into the &quot;shuffle&quot;.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1575257/john-beyer&quot; title=&quot;653 reputation&quot; class=&quot;comment-user&quot;&gt;John Beyer&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment25132553_3456788&quot;&gt;&lt;span title=&quot;2013-06-26 17:06:48Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 26, 2013 at 17:06&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 2 times&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@JohnBeyer: There are far, far greater problems than that source of bias. There are only four billion possible seeds to Random, which is far, far less than the number of possible shuffles of a moderately sized set. Only a tiny fraction of the possible shuffles can be generated. That bias dwarfs the bias due to accidental collisions.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/88656/eric-lippert&quot; title=&quot;632,289 reputation&quot; class=&quot;comment-user&quot;&gt;Eric Lippert&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment27716711_3456788&quot;&gt;&lt;span title=&quot;2013-09-13 21:33:37Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Sep 13, 2013 at 21:33&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Another problem with Random is that, when two (or more) instances of Random get created shortly after one another, they might have the same seed (seed is taken from system clock and the clock resolution might be too big to register a change).&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/2123652/jahu&quot; title=&quot;5,197 reputation&quot; class=&quot;comment-user&quot;&gt;jahu&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment119365568_3456788&quot;&gt;&lt;span title=&quot;2021-05-14 10:16:07Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;May 14, 2021 at 10:16&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;What&apos;s the difference with directly ordering by rnd.Next() instead?&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1524913/jeromej&quot; title=&quot;8,852 reputation&quot; class=&quot;comment-user&quot;&gt;jeromej&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment123961684_51606335&quot;&gt;&lt;span title=&quot;2021-11-26 13:29:18Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Nov 26, 2021 at 13:29&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Is it normal for &lt;code&gt;Shuffle&lt;/code&gt; to be void?&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1082692/dohab&quot; title=&quot;384 reputation&quot; class=&quot;comment-user&quot;&gt;Dohab&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment128604715_71458345&quot;&gt;&lt;span title=&quot;2022-06-30 04:38:26Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 30 at 4:38&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Yes, @Dohab. Use the NuGet package I linked above. Basically you just call &lt;code&gt;myList.Shuffle();&lt;/code&gt; and it&apos;s shuffled. There&apos;s also a &lt;code&gt;.CryptoStrongShuffle();&lt;/code&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/9945524/mark-cilia-vincenti&quot; title=&quot;962 reputation&quot; class=&quot;comment-user&quot;&gt;Mark Cilia Vincenti&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment128608073_71458345&quot;&gt;&lt;span title=&quot;2022-06-30 08:07:03Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 30 at 8:07&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;This answer has already been given, and worse it is designed for uniqueness not randomness.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/6651/alex-angas&quot; title=&quot;57,880 reputation&quot; class=&quot;comment-user&quot;&gt;Alex Angas&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment56947516_29580185&quot;&gt;&lt;span title=&quot;2016-01-04 22:21:10Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jan 4, 2016 at 22:21&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;One problem with this approach is knowing when to stop. It also has a tendency to exaggerate any biases in the pseudo-random number generator.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/17826/mark-bessey&quot; title=&quot;19,339 reputation&quot; class=&quot;comment-user&quot;&gt;Mark Bessey&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment126800_273355&quot;&gt;&lt;span title=&quot;2008-11-07 19:58:17Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Nov 7, 2008 at 19:58&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Yes. Highly inefficient. There is no reason to use an approach like this when better, faster approaches exist that are just as simple.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/21365/peterallenwebb&quot; title=&quot;10,113 reputation&quot; class=&quot;comment-user&quot;&gt;PeterAllenWebb&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment126983_273355&quot;&gt;&lt;span title=&quot;2008-11-07 21:25:34Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Nov 7, 2008 at 21:25&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;not very efficient or effective... Running it N times would likely leave many elements in their original position.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/800619/nsjonas&quot; title=&quot;9,123 reputation&quot; class=&quot;comment-user&quot;&gt;NSjonas&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment18933217_273355&quot;&gt;&lt;span title=&quot;2012-12-07 21:46:51Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Dec 7, 2012 at 21:46&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        "],"id":492,"title":"Randomize a List<T>","content":"\n                \n&lt;p&gt;What is the best way to randomize the order of a generic list in C#? I&apos;ve got a finite set of 75 numbers in a list I would like to assign a random order to, in order to draw them for a lottery type application.&lt;/p&gt;\n    ","slug":"randomize-a-listlesstgreater-1657388172793","postType":"QUESTION","createdAt":"2022-07-09T17:36:12.000Z","updatedAt":"2022-07-09T17:36:12.000Z","tags":[{"id":2468,"name":"generic-list","slug":"generic-list","createdAt":"2022-07-09T17:36:12.000Z","updatedAt":"2022-07-09T17:36:12.000Z","Questions_Tags":{"questionId":492,"tagId":2468}}]}]}},"__N_SSG":true}