{"pageProps":{"data":{"count":1,"rows":[{"answer":["\n&lt;p&gt;Unfortunately there is no perfect way, unless you use &lt;code&gt;_proto_&lt;/code&gt; recursively and access all non-enumerable properties, but this works in Firefox only.&lt;/p&gt;\n\n&lt;p&gt;So the best I can do is to guess usage scenarios.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;h2&gt;&lt;strong&gt;1) Fast and limited.&lt;/strong&gt;&lt;/h2&gt;\n\n&lt;p&gt;Works when you have simple JSON-style objects without methods and DOM nodes inside:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;JSON&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;stringify&lt;/span&gt;(obj1) === &lt;span class=&quot;hljs-title class_&quot;&gt;JSON&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;stringify&lt;/span&gt;(obj2) \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The ORDER of the properties IS IMPORTANT, so this method will return false for following objects:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt; x = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;};\n y = {&lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;h2&gt;&lt;strong&gt;2) Slow and more generic.&lt;/strong&gt;&lt;/h2&gt;\n\n&lt;p&gt;Compares objects without digging into prototypes, then compares properties&apos; projections recursively, and also compares constructors.&lt;/p&gt;\n\n&lt;p&gt;This is almost correct algorithm:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;deepCompare&lt;/span&gt; () {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i, l, leftChain, rightChain;\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;compare2Objects&lt;/span&gt; (x, y) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; p;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// remember that NaN === NaN returns false&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// and isNaN(undefined) returns true&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-built_in&quot;&gt;isNaN&lt;/span&gt;(x) &amp;amp;&amp;amp; &lt;span class=&quot;hljs-built_in&quot;&gt;isNaN&lt;/span&gt;(y) &amp;amp;&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; x === &lt;span class=&quot;hljs-string&quot;&gt;&apos;number&apos;&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; y === &lt;span class=&quot;hljs-string&quot;&gt;&apos;number&apos;&lt;/span&gt;) {\n         &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n    }\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Compare primitives and functions.     &lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Check if both arguments link to the same object.&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Especially useful on the step where we compare prototypes&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (x === y) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n    }\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Works in case when functions are created in constructor.&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Comparing dates is a common scenario. Another built-ins?&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// We can even handle functions passed across iframes&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ((&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; x === &lt;span class=&quot;hljs-string&quot;&gt;&apos;function&apos;&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; y === &lt;span class=&quot;hljs-string&quot;&gt;&apos;function&apos;&lt;/span&gt;) ||\n       (x &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Date&lt;/span&gt; &amp;amp;&amp;amp; y &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Date&lt;/span&gt;) ||\n       (x &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RegExp&lt;/span&gt; &amp;amp;&amp;amp; y &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RegExp&lt;/span&gt;) ||\n       (x &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt; &amp;amp;&amp;amp; y &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt;) ||\n       (x &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt; &amp;amp;&amp;amp; y &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;)) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; x.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;() === y.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;();\n    }\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// At last checking prototypes as good as we can&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!(x &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt; &amp;amp;&amp;amp; y &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;)) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (x.&lt;span class=&quot;hljs-title function_&quot;&gt;isPrototypeOf&lt;/span&gt;(y) || y.&lt;span class=&quot;hljs-title function_&quot;&gt;isPrototypeOf&lt;/span&gt;(x)) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (x.&lt;span class=&quot;hljs-property&quot;&gt;constructor&lt;/span&gt; !== y.&lt;span class=&quot;hljs-property&quot;&gt;constructor&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (x.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt; !== y.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    }\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Check for infinitive linking loops&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (leftChain.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(x) &amp;gt; -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; || rightChain.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(y) &amp;gt; -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) {\n         &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    }\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Quick checking of one object being a subset of another.&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// todo: cache the structure of arguments[0] for performance&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (p &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; y) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (y.&lt;span class=&quot;hljs-title function_&quot;&gt;hasOwnProperty&lt;/span&gt;(p) !== x.&lt;span class=&quot;hljs-title function_&quot;&gt;hasOwnProperty&lt;/span&gt;(p)) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; y[p] !== &lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; x[p]) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        }\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (p &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; x) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (y.&lt;span class=&quot;hljs-title function_&quot;&gt;hasOwnProperty&lt;/span&gt;(p) !== x.&lt;span class=&quot;hljs-title function_&quot;&gt;hasOwnProperty&lt;/span&gt;(p)) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; y[p] !== &lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; x[p]) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        }\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;switch&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; (x[p])) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;object&apos;&lt;/span&gt;:\n            &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;function&apos;&lt;/span&gt;:\n\n                leftChain.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(x);\n                rightChain.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(y);\n\n                &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!compare2Objects (x[p], y[p])) {\n                    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n                }\n\n                leftChain.&lt;span class=&quot;hljs-title function_&quot;&gt;pop&lt;/span&gt;();\n                rightChain.&lt;span class=&quot;hljs-title function_&quot;&gt;pop&lt;/span&gt;();\n                &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n\n            &lt;span class=&quot;hljs-attr&quot;&gt;default&lt;/span&gt;:\n                &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (x[p] !== y[p]) {\n                    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n                }\n                &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n        }\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n  }\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;arguments&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;//Die silently? Don&apos;t know how to handle such case, please help...&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// throw &quot;Need two or more arguments to compare&quot;;&lt;/span&gt;\n  }\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (i = &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, l = &lt;span class=&quot;hljs-variable language_&quot;&gt;arguments&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i &amp;lt; l; i++) {\n\n      leftChain = []; &lt;span class=&quot;hljs-comment&quot;&gt;//Todo: this can be cached&lt;/span&gt;\n      rightChain = [];\n\n      &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;hljs-title function_&quot;&gt;compare2Objects&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;arguments&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;], &lt;span class=&quot;hljs-variable language_&quot;&gt;arguments&lt;/span&gt;[i])) {\n          &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n      }\n  }\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Known issues (well, they have very low priority, probably you&apos;ll never notice them):&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;objects with different prototype structure but same projection&lt;/li&gt;\n&lt;li&gt;functions may have identical text but refer to different closures&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Tests:&lt;/strong&gt; passes tests are from &lt;em&gt;&lt;a href=&quot;https://stackoverflow.com/a/16788517/139361&quot;&gt;How to determine equality for two JavaScript objects?&lt;/a&gt;&lt;/em&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;Here is my &lt;strong&gt;ES3&lt;/strong&gt; commented solution (gory details after the code):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;object_equals&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt; x, y &lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ( x === y ) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// if both x and y are null or undefined and exactly the same&lt;/span&gt;\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ( ! ( x &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt; ) || ! ( y &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt; ) ) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// if they are not strictly equal, they both need to be Objects&lt;/span&gt;\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ( x.&lt;span class=&quot;hljs-property&quot;&gt;constructor&lt;/span&gt; !== y.&lt;span class=&quot;hljs-property&quot;&gt;constructor&lt;/span&gt; ) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// they must have the exact same prototype chain, the closest we can do is&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// test there constructor.&lt;/span&gt;\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; ( &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; p &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; x ) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ( ! x.&lt;span class=&quot;hljs-title function_&quot;&gt;hasOwnProperty&lt;/span&gt;( p ) ) &lt;span class=&quot;hljs-keyword&quot;&gt;continue&lt;/span&gt;;\n      &lt;span class=&quot;hljs-comment&quot;&gt;// other properties were tested using x.constructor === y.constructor&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ( ! y.&lt;span class=&quot;hljs-title function_&quot;&gt;hasOwnProperty&lt;/span&gt;( p ) ) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n      &lt;span class=&quot;hljs-comment&quot;&gt;// allows to compare x[ p ] and y[ p ] when set to undefined&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ( x[ p ] === y[ p ] ) &lt;span class=&quot;hljs-keyword&quot;&gt;continue&lt;/span&gt;;\n      &lt;span class=&quot;hljs-comment&quot;&gt;// if they have the same strict value or identity then they are equal&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ( &lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;( x[ p ] ) !== &lt;span class=&quot;hljs-string&quot;&gt;&quot;object&quot;&lt;/span&gt; ) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n      &lt;span class=&quot;hljs-comment&quot;&gt;// Numbers, Strings, Functions, Booleans must be strictly equal&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ( ! &lt;span class=&quot;hljs-title function_&quot;&gt;object_equals&lt;/span&gt;( x[ p ],  y[ p ] ) ) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n      &lt;span class=&quot;hljs-comment&quot;&gt;// Objects and Arrays must be tested recursively&lt;/span&gt;\n  }\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; ( p &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; y )\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ( y.&lt;span class=&quot;hljs-title function_&quot;&gt;hasOwnProperty&lt;/span&gt;( p ) &amp;amp;&amp;amp; ! x.&lt;span class=&quot;hljs-title function_&quot;&gt;hasOwnProperty&lt;/span&gt;( p ) )\n      &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// allows x[ p ] to be set to undefined&lt;/span&gt;\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;In developing this solution, I took a particular look at corner cases, efficiency, yet trying to yield a simple solution that works, hopefully with some elegance. JavaScript allows both &lt;strong&gt;&lt;em&gt;null&lt;/em&gt;&lt;/strong&gt; and &lt;strong&gt;&lt;em&gt;undefined&lt;/em&gt;&lt;/strong&gt; properties and objects have &lt;strong&gt;&lt;em&gt;prototypes chains&lt;/em&gt;&lt;/strong&gt; that can lead to very different behaviors if not checked.&lt;/p&gt;\n\n&lt;p&gt;First I have chosen to not extend &lt;strong&gt;&lt;em&gt;Object.prototype&lt;/em&gt;&lt;/strong&gt;, mostly because &lt;strong&gt;&lt;em&gt;null&lt;/em&gt;&lt;/strong&gt; could not be one of the objects of the comparison and that I believe that &lt;strong&gt;&lt;em&gt;null&lt;/em&gt;&lt;/strong&gt; should be a valid object to compare with another. There are also other legitimate concerns noted by others regarding the extension of &lt;strong&gt;&lt;em&gt;Object.prototype&lt;/em&gt;&lt;/strong&gt; regarding possible side effects on other&apos;s code.&lt;/p&gt;\n\n&lt;p&gt;Special care must taken to deal the possibility that JavaScript allows object properties can be set to &lt;strong&gt;&lt;em&gt;undefined&lt;/em&gt;&lt;/strong&gt;, i.e. there exists properties which values are set to &lt;strong&gt;&lt;em&gt;undefined&lt;/em&gt;&lt;/strong&gt;. The above solution verifies that both objects have the same properties set to &lt;strong&gt;&lt;em&gt;undefined&lt;/em&gt;&lt;/strong&gt; to report equality. This can only be accomplished by checking the existence of properties using &lt;strong&gt;&lt;em&gt;Object.hasOwnProperty( property_name )&lt;/em&gt;&lt;/strong&gt;. Also note that &lt;strong&gt;&lt;em&gt;JSON.stringify()&lt;/em&gt;&lt;/strong&gt; removes properties that are set to &lt;strong&gt;&lt;em&gt;undefined&lt;/em&gt;&lt;/strong&gt;, and that therefore comparisons using this form will ignore properties set to the value &lt;strong&gt;&lt;em&gt;undefined&lt;/em&gt;&lt;/strong&gt;. &lt;/p&gt;\n\n&lt;p&gt;Functions should be considered equal only if they share the same reference, not just the same code, because this would not take into account these functions prototype. So comparing the code string does not work to guaranty that they have the same prototype object.&lt;/p&gt;\n\n&lt;p&gt;The two objects should have the same &lt;strong&gt;&lt;em&gt;prototype chain&lt;/em&gt;&lt;/strong&gt;, not just the same properties. This can only be tested cross-browser by comparing the &lt;strong&gt;&lt;em&gt;constructor&lt;/em&gt;&lt;/strong&gt; of both objects for strict equality. ECMAScript 5 would allow to test their actual prototype using &lt;strong&gt;&lt;em&gt;Object.getPrototypeOf()&lt;/em&gt;&lt;/strong&gt;. Some web browsers also offer a &lt;strong&gt;__proto__&lt;/strong&gt; property that does the same thing. A possible improvement of the above code would allow to use one of these methods whenever available.&lt;/p&gt;\n\n&lt;p&gt;The use of strict comparisons is paramount here because &lt;strong&gt;&lt;em&gt;2&lt;/em&gt;&lt;/strong&gt; should not be considered equal to &lt;strong&gt;&lt;em&gt;&quot;2.0000&quot;&lt;/em&gt;&lt;/strong&gt;, nor &lt;strong&gt;&lt;em&gt;false&lt;/em&gt;&lt;/strong&gt; should be considered equal to &lt;strong&gt;&lt;em&gt;null&lt;/em&gt;&lt;/strong&gt;, &lt;strong&gt;&lt;em&gt;undefined&lt;/em&gt;&lt;/strong&gt;, or &lt;strong&gt;&lt;em&gt;0&lt;/em&gt;&lt;/strong&gt;.&lt;/p&gt;\n\n&lt;p&gt;Efficiency considerations lead me to compare for equality of properties as soon as possible. Then, only if that failed, look for the &lt;strong&gt;&lt;em&gt;typeof&lt;/em&gt;&lt;/strong&gt; these properties. The speed boost could be significant on large objects with lots of scalar properties.&lt;/p&gt;\n\n&lt;p&gt;No more that two loops are required, the first to check properties from the left object, the second to check properties from the right and verify only existence (not value), to catch these properties which are defined with the &lt;strong&gt;&lt;em&gt;undefined&lt;/em&gt;&lt;/strong&gt; value.&lt;/p&gt;\n\n&lt;p&gt;Overall this code handles most corner cases in only 16 lines of code (without comments).&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;&lt;strong&gt;Update (8/13/2015)&lt;/strong&gt;. I have implemented a better version, as the function &lt;a href=&quot;https://github.com/ReactiveSets/toubkal/blob/master/lib/util/value_equals.js&quot; rel=&quot;noreferrer&quot;&gt;value_equals()&lt;/a&gt; that is faster, handles properly corner cases such as NaN and 0 different than -0, optionally enforcing objects&apos; properties order and testing for cyclic references, backed by more than &lt;a href=&quot;https://github.com/ReactiveSets/toubkal/blob/master/test/src/value_equals.coffee&quot; rel=&quot;noreferrer&quot;&gt;100 automated tests&lt;/a&gt; as part of the &lt;a href=&quot;https://github.com/ReactiveSets/toubkal&quot; rel=&quot;noreferrer&quot;&gt;Toubkal&lt;/a&gt; project test suite.&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;  &lt;span class=&quot;hljs-title class_&quot;&gt;Utils&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;compareObjects&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;o1, o2&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; p &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; o1){\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(o1.&lt;span class=&quot;hljs-title function_&quot;&gt;hasOwnProperty&lt;/span&gt;(p)){\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(o1[p] !== o2[p]){\n                &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n            }\n        }\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; p &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; o2){\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(o2.&lt;span class=&quot;hljs-title function_&quot;&gt;hasOwnProperty&lt;/span&gt;(p)){\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(o1[p] !== o2[p]){\n                &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n            }\n        }\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Simple way to compare ONE-LEVEL only objects.&lt;/p&gt;\n    ","\n&lt;p&gt;Certainly not the only way - you could prototype a method (against Object here but I certainly wouldn&apos;t suggest using Object for live code) to replicate C#/Java style comparison methods.&lt;/p&gt;\n\n&lt;p&gt;Edit, since a general example seems to be expected:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;equals&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt;)\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(p &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;)\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;switch&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p]))\n        {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;object&apos;&lt;/span&gt;:\n                &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p].&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(x[p])) { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt; }; &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;function&apos;&lt;/span&gt;:\n                &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(x[p])==&lt;span class=&quot;hljs-string&quot;&gt;&apos;undefined&apos;&lt;/span&gt; || (p != &lt;span class=&quot;hljs-string&quot;&gt;&apos;equals&apos;&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p].&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;() != x[p].&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;())) { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;; }; &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n            &lt;span class=&quot;hljs-attr&quot;&gt;default&lt;/span&gt;:\n                &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p] != x[p]) { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;; }\n        }\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(p &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; x)\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p])==&lt;span class=&quot;hljs-string&quot;&gt;&apos;undefined&apos;&lt;/span&gt;) {&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;}\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Note that testing methods with toString() is &lt;em&gt;absolutely not good enough&lt;/em&gt; but a method which would be acceptable is very hard because of the problem of whitespace having meaning or not, never mind synonym methods and methods producing the same result with different implementations. &lt;em&gt;And&lt;/em&gt; the problems of prototyping against Object in general.&lt;/p&gt;\n    ","\n&lt;p&gt;The following algorithm will deal with self-referential data structures, numbers, strings, dates, and of course plain nested javascript objects:&lt;/p&gt;\n\n&lt;p&gt;Objects are considered equivalent when&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;They are exactly equal per &lt;code&gt;===&lt;/code&gt; (String and Number are unwrapped first to ensure &lt;code&gt;42&lt;/code&gt; is equivalent to &lt;code&gt;Number(42)&lt;/code&gt;)&lt;/li&gt;\n&lt;li&gt;or they are both dates and have the same &lt;code&gt;valueOf()&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;or they are both of the same type and not null and...\n&lt;ul&gt;\n&lt;li&gt;they are not objects and are equal per &lt;code&gt;==&lt;/code&gt; (catches numbers/strings/booleans)&lt;/li&gt;\n&lt;li&gt;or, ignoring properties with &lt;code&gt;undefined&lt;/code&gt; value they have the same properties all of which are considered recursively equivalent.&lt;/li&gt;\n&lt;/ul&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Functions&lt;/strong&gt; are not considered identical by function text.  This test is insufficient because functions may have differing closures.  Functions are only considered equal if &lt;code&gt;===&lt;/code&gt; says so (but you could easily extend that equivalent relation should you choose to do so).&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Infinite loops&lt;/strong&gt;, potentially caused by circular datastructures, are avoided.  When &lt;code&gt;areEquivalent&lt;/code&gt; attempts to disprove equality and recurses into an object&apos;s properties to do so, it keeps track of the objects for which this sub-comparison is needed.  If equality can be disproved, then some reachable property path differs between the objects, and then there must be a shortest such reachable path, and that shortest reachable path cannot contain cycles present in both paths; i.e. it is OK to assume equality when recursively comparing objects.  The assumption is stored in a property &lt;code&gt;areEquivalent_Eq_91_2_34&lt;/code&gt;, which is deleted after use, but if the object graph already contains such a property, behavior is undefined.  The use of such a marker property is necessary because javascript doesn&apos;t support dictionaries using arbitrary objects as keys.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;unwrapStringOrNumber&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;obj&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (obj &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt; || obj &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt; \n            ? obj.&lt;span class=&quot;hljs-title function_&quot;&gt;valueOf&lt;/span&gt;() \n            : obj);\n}\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;areEquivalent&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a, b&lt;/span&gt;) {\n    a = &lt;span class=&quot;hljs-title function_&quot;&gt;unwrapStringOrNumber&lt;/span&gt;(a);\n    b = &lt;span class=&quot;hljs-title function_&quot;&gt;unwrapStringOrNumber&lt;/span&gt;(b);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (a === b) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;//e.g. a and b both null&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (a === &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt; || b === &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt; || &lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; (a) !== &lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; (b)) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (a &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Date&lt;/span&gt;) \n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; b &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Date&lt;/span&gt; &amp;amp;&amp;amp; a.&lt;span class=&quot;hljs-title function_&quot;&gt;valueOf&lt;/span&gt;() === b.&lt;span class=&quot;hljs-title function_&quot;&gt;valueOf&lt;/span&gt;();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; (a) !== &lt;span class=&quot;hljs-string&quot;&gt;&quot;object&quot;&lt;/span&gt;) \n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; a == b; &lt;span class=&quot;hljs-comment&quot;&gt;//for boolean, number, string, xml&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; newA = (a.&lt;span class=&quot;hljs-property&quot;&gt;areEquivalent_Eq_91_2_34&lt;/span&gt; === &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;),\n        newB = (b.&lt;span class=&quot;hljs-property&quot;&gt;areEquivalent_Eq_91_2_34&lt;/span&gt; === &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;try&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (newA) a.&lt;span class=&quot;hljs-property&quot;&gt;areEquivalent_Eq_91_2_34&lt;/span&gt; = [];\n        &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (a.&lt;span class=&quot;hljs-property&quot;&gt;areEquivalent_Eq_91_2_34&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;some&lt;/span&gt;(\n            &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;other&lt;/span&gt;) { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; other === b; })) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (newB) b.&lt;span class=&quot;hljs-property&quot;&gt;areEquivalent_Eq_91_2_34&lt;/span&gt; = [];\n        &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (b.&lt;span class=&quot;hljs-property&quot;&gt;areEquivalent_Eq_91_2_34&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;some&lt;/span&gt;(\n            &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;other&lt;/span&gt;) { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; other === a; })) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n        a.&lt;span class=&quot;hljs-property&quot;&gt;areEquivalent_Eq_91_2_34&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(b);\n        b.&lt;span class=&quot;hljs-property&quot;&gt;areEquivalent_Eq_91_2_34&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(a);\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; tmp = {};\n        &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; prop &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; a) \n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(prop != &lt;span class=&quot;hljs-string&quot;&gt;&quot;areEquivalent_Eq_91_2_34&quot;&lt;/span&gt;) \n                tmp[prop] = &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; prop &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; b) \n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (prop != &lt;span class=&quot;hljs-string&quot;&gt;&quot;areEquivalent_Eq_91_2_34&quot;&lt;/span&gt;) \n                tmp[prop] = &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;;\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; prop &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; tmp) \n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;hljs-title function_&quot;&gt;areEquivalent&lt;/span&gt;(a[prop], b[prop]))\n                &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;finally&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (newA) &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt; a.&lt;span class=&quot;hljs-property&quot;&gt;areEquivalent_Eq_91_2_34&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (newB) &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt; b.&lt;span class=&quot;hljs-property&quot;&gt;areEquivalent_Eq_91_2_34&lt;/span&gt;;\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I wrote this piece of code for object comparison, and it seems to work. check the assertions:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;countProps&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;obj&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; count = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (k &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; obj) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (obj.&lt;span class=&quot;hljs-title function_&quot;&gt;hasOwnProperty&lt;/span&gt;(k)) {\n            count++;\n        }\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; count;\n};\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;v1, v2&lt;/span&gt;) {\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(v1) !== &lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(v2)) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(v1) === &lt;span class=&quot;hljs-string&quot;&gt;&quot;function&quot;&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; v1.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;() === v2.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;();\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (v1 &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt; &amp;amp;&amp;amp; v2 &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;countProps&lt;/span&gt;(v1) !== &lt;span class=&quot;hljs-title function_&quot;&gt;countProps&lt;/span&gt;(v2)) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; r = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (k &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; v1) {\n            r = &lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;(v1[k], v2[k]);\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!r) {\n                &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n            }\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; v1 === v2;\n    }\n}\n\nassert.&lt;span class=&quot;hljs-title function_&quot;&gt;isTrue&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;(&lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;,&lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;));\nassert.&lt;span class=&quot;hljs-title function_&quot;&gt;isFalse&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;(&lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;,&lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;));\n\nassert.&lt;span class=&quot;hljs-title function_&quot;&gt;isTrue&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;hi&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;hi&quot;&lt;/span&gt;));\nassert.&lt;span class=&quot;hljs-title function_&quot;&gt;isTrue&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;));\nassert.&lt;span class=&quot;hljs-title function_&quot;&gt;isFalse&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;));\n\nassert.&lt;span class=&quot;hljs-title function_&quot;&gt;isTrue&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;([],[]));\nassert.&lt;span class=&quot;hljs-title function_&quot;&gt;isTrue&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;],[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]));\nassert.&lt;span class=&quot;hljs-title function_&quot;&gt;isFalse&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;],[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]));\nassert.&lt;span class=&quot;hljs-title function_&quot;&gt;isFalse&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;],[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]));\n\nassert.&lt;span class=&quot;hljs-title function_&quot;&gt;isTrue&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;({},{}));\nassert.&lt;span class=&quot;hljs-title function_&quot;&gt;isTrue&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;({&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;},{&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;}));\nassert.&lt;span class=&quot;hljs-title function_&quot;&gt;isTrue&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;({&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;},{&lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;}));\nassert.&lt;span class=&quot;hljs-title function_&quot;&gt;isFalse&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;({&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;},{&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}));\n\nassert.&lt;span class=&quot;hljs-title function_&quot;&gt;isTrue&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;({&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;mhc&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;28&lt;/span&gt;}, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;arb&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;26&lt;/span&gt;}},{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;mhc&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;28&lt;/span&gt;}, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;arb&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;26&lt;/span&gt;}}));\nassert.&lt;span class=&quot;hljs-title function_&quot;&gt;isFalse&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;({&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;mhc&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;28&lt;/span&gt;}, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;arb&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;26&lt;/span&gt;}},{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;mhc&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;28&lt;/span&gt;}, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;arb&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;27&lt;/span&gt;}}));\n\nassert.&lt;span class=&quot;hljs-title function_&quot;&gt;isTrue&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; x;},&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; x;}));\nassert.&lt;span class=&quot;hljs-title function_&quot;&gt;isFalse&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;objectEquals&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; x;},&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;y&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; y+&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;;}));\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I have modified a bit the code above. for me &lt;em&gt;0 !== false&lt;/em&gt; and &lt;em&gt;null !== undefined&lt;/em&gt;. If you do not need such strict check remove one &quot;&lt;em&gt;=&lt;/em&gt;&quot; sign in &quot;&lt;em&gt;this[p] !== x[p]&lt;/em&gt;&quot; inside the code.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;equals&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; p &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p]) !== &lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(x[p])) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;((&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p]===&lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;) !== (x[p]===&lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;)) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;switch&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p])) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;undefined&apos;&lt;/span&gt;:\n                &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(x[p]) != &lt;span class=&quot;hljs-string&quot;&gt;&apos;undefined&apos;&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n                &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;object&apos;&lt;/span&gt;:\n                &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p]!==&lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; x[p]!==&lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; (&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p].&lt;span class=&quot;hljs-property&quot;&gt;constructor&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;() !== x[p].&lt;span class=&quot;hljs-property&quot;&gt;constructor&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;() || !&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p].&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(x[p]))) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n                &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;function&apos;&lt;/span&gt;:\n                &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (p != &lt;span class=&quot;hljs-string&quot;&gt;&apos;equals&apos;&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p].&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;() != x[p].&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;()) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n                &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n            &lt;span class=&quot;hljs-attr&quot;&gt;default&lt;/span&gt;:\n                &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p] !== x[p]) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        }\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Then I have tested it with next objects:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; b = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; c = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; d = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; e = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; f = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;], &lt;span class=&quot;hljs-attr&quot;&gt;f&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){ &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;f&lt;/span&gt; = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;b&lt;/span&gt;; }};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; g = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;], &lt;span class=&quot;hljs-attr&quot;&gt;f&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){ &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;f&lt;/span&gt; = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;b&lt;/span&gt;; }};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; h = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;], &lt;span class=&quot;hljs-attr&quot;&gt;f&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){ &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;a&lt;/span&gt; = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;b&lt;/span&gt;; }};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = {\n    &lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;c&lt;/span&gt;: {\n        &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;],\n        &lt;span class=&quot;hljs-attr&quot;&gt;f&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;a&lt;/span&gt; = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;b&lt;/span&gt;;\n        }\n    }\n};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; j = {\n    &lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;c&lt;/span&gt;: {\n        &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;],\n        &lt;span class=&quot;hljs-attr&quot;&gt;f&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;a&lt;/span&gt; = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;b&lt;/span&gt;;\n        }\n    }\n};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; k = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; l = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;a==b expected true; returned true&lt;/p&gt;\n\n&lt;p&gt;a==c expected false; returned false&lt;/p&gt;\n\n&lt;p&gt;c==d expected false; returned false&lt;/p&gt;\n\n&lt;p&gt;a==e expected false; returned false&lt;/p&gt;\n\n&lt;p&gt;f==g expected true; returned true&lt;/p&gt;\n\n&lt;p&gt;h==g expected false; returned false&lt;/p&gt;\n\n&lt;p&gt;i==j expected true; returned true&lt;/p&gt;\n\n&lt;p&gt;d==k expected false; returned false&lt;/p&gt;\n\n&lt;p&gt;k==l expected false; returned false&lt;/p&gt;\n    ","\n&lt;p&gt;Here is my version, pretty much stuff from this thread is integrated (same counts for the test cases):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;defineProperty&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;equals&quot;&lt;/span&gt;, {\n    &lt;span class=&quot;hljs-attr&quot;&gt;enumerable&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;obj&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; p;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt; === obj) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n        }\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;// some checks for native types first&lt;/span&gt;\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;// function and sring&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;) === &lt;span class=&quot;hljs-string&quot;&gt;&quot;function&quot;&lt;/span&gt; || &lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;) === &lt;span class=&quot;hljs-string&quot;&gt;&quot;string&quot;&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt;) { \n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;() === obj.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;();\n        }\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;// number&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt; || &lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;) === &lt;span class=&quot;hljs-string&quot;&gt;&quot;number&quot;&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (obj &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt; || &lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(obj) === &lt;span class=&quot;hljs-string&quot;&gt;&quot;number&quot;&lt;/span&gt;) {\n                &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;valueOf&lt;/span&gt;() === obj.&lt;span class=&quot;hljs-title function_&quot;&gt;valueOf&lt;/span&gt;();\n            }\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        }\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;// null.equals(null) and undefined.equals(undefined) do not inherit from the &lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Object.prototype so we can return false when they are passed as obj&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;) !== &lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(obj) || obj === &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt; || &lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(obj) === &lt;span class=&quot;hljs-string&quot;&gt;&quot;undefined&quot;&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        }\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;sort&lt;/span&gt; (o) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; result = {};\n\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; o !== &lt;span class=&quot;hljs-string&quot;&gt;&quot;object&quot;&lt;/span&gt;) {\n                &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; o;\n            }\n\n            &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;keys&lt;/span&gt;(o).&lt;span class=&quot;hljs-title function_&quot;&gt;sort&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;forEach&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;key&lt;/span&gt;) {\n                result[key] = &lt;span class=&quot;hljs-title function_&quot;&gt;sort&lt;/span&gt;(o[key]);\n            });\n\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; result;\n        }\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;) === &lt;span class=&quot;hljs-string&quot;&gt;&quot;object&quot;&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;isArray&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;)) { &lt;span class=&quot;hljs-comment&quot;&gt;// check on arrays&lt;/span&gt;\n                &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;JSON&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;stringify&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;) === &lt;span class=&quot;hljs-title class_&quot;&gt;JSON&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;stringify&lt;/span&gt;(obj);                \n            } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; { &lt;span class=&quot;hljs-comment&quot;&gt;// anyway objects&lt;/span&gt;\n                &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (p &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;) {\n                    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p]) !== &lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(obj[p])) {\n                        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n                    }\n                    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ((&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p] === &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;) !== (obj[p] === &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;)) {\n                        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n                    }\n                    &lt;span class=&quot;hljs-keyword&quot;&gt;switch&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p])) {\n                    &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;undefined&apos;&lt;/span&gt;:\n                        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;typeof&lt;/span&gt;(obj[p]) !== &lt;span class=&quot;hljs-string&quot;&gt;&apos;undefined&apos;&lt;/span&gt;) {\n                            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n                        }\n                        &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n                    &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;object&apos;&lt;/span&gt;:\n                        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p] !== &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt; \n                                &amp;amp;&amp;amp; obj[p] !== &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt; \n                                &amp;amp;&amp;amp; (&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p].&lt;span class=&quot;hljs-property&quot;&gt;constructor&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;() !== obj[p].&lt;span class=&quot;hljs-property&quot;&gt;constructor&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;() \n                                        || !&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p].&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(obj[p]))) {\n                            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n                        }\n                        &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n                    &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;function&apos;&lt;/span&gt;:\n                        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p].&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;() !== obj[p].&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;()) {\n                            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n                        }\n                        &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n                    &lt;span class=&quot;hljs-attr&quot;&gt;default&lt;/span&gt;:\n                        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[p] !== obj[p]) {\n                            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n                        }\n                    }\n                };\n\n            }\n        }\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;// at least check them with JSON&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;JSON&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;stringify&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;sort&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;)) === &lt;span class=&quot;hljs-title class_&quot;&gt;JSON&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;stringify&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;sort&lt;/span&gt;(obj));\n    }\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here is my TestCase:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;    &lt;span class=&quot;hljs-title function_&quot;&gt;assertFalse&lt;/span&gt;({}.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(&lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertFalse&lt;/span&gt;({}.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(&lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;));\n\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertTrue&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;String&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;hi&quot;&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;hi&quot;&lt;/span&gt;));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertTrue&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Number&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertFalse&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Number&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertFalse&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Number+String&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;1&quot;&lt;/span&gt;));\n\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertTrue&lt;/span&gt;([].&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;([]));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertTrue&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;].&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertFalse&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;].&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertFalse&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;].&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]));\n\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertTrue&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Date&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;2011-03-31&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Date&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;2011-03-31&quot;&lt;/span&gt;)));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertFalse&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Date&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;2011-03-31&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Date&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;1970-01-01&quot;&lt;/span&gt;)));\n\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertTrue&lt;/span&gt;({}.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;({}));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertTrue&lt;/span&gt;({&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;}.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;({&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;}));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertTrue&lt;/span&gt;({&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;}.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;({&lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;}));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertFalse&lt;/span&gt;({&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;}.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;({&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}));\n\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertTrue&lt;/span&gt;({&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;mhc&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;28&lt;/span&gt;}, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;arb&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;26&lt;/span&gt;}}.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;({&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;mhc&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;28&lt;/span&gt;}, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;arb&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;26&lt;/span&gt;}}));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertFalse&lt;/span&gt;({&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;mhc&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;28&lt;/span&gt;}, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;arb&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;26&lt;/span&gt;}}.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;({&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;mhc&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;28&lt;/span&gt;}, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;arb&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;27&lt;/span&gt;}}));\n\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertTrue&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Function&quot;&lt;/span&gt;, (&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; x;}).&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; x;}));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertFalse&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Function&quot;&lt;/span&gt;, (&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; x;}).&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;y&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; y+&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;;}));\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]};\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; b = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]};\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; c = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;};\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; d = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;};\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; e = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]};\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; f = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;], &lt;span class=&quot;hljs-attr&quot;&gt;f&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){ &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;f&lt;/span&gt; = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;b&lt;/span&gt;; }};\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; g = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;], &lt;span class=&quot;hljs-attr&quot;&gt;f&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){ &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;f&lt;/span&gt; = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;b&lt;/span&gt;; }};\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; h = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;:[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;], &lt;span class=&quot;hljs-attr&quot;&gt;f&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){ &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;a&lt;/span&gt; = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;b&lt;/span&gt;; }};\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = {\n        &lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;c&lt;/span&gt;: {\n            &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;],\n            &lt;span class=&quot;hljs-attr&quot;&gt;f&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n                &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;a&lt;/span&gt; = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;b&lt;/span&gt;;\n            }\n        }\n    };\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; j = {\n        &lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;c&lt;/span&gt;: {\n            &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;],\n            &lt;span class=&quot;hljs-attr&quot;&gt;f&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n                &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;a&lt;/span&gt; = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;b&lt;/span&gt;;\n            }\n        }\n    };\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; k = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;};\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; l = {&lt;span class=&quot;hljs-attr&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;b&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;};\n\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertTrue&lt;/span&gt;(a.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(b));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertFalse&lt;/span&gt;(a.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(c));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertFalse&lt;/span&gt;(c.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(d));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertFalse&lt;/span&gt;(a.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(e));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertTrue&lt;/span&gt;(f.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(g));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertFalse&lt;/span&gt;(h.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(g));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertTrue&lt;/span&gt;(i.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(j));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertFalse&lt;/span&gt;(d.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(k));\n    &lt;span class=&quot;hljs-title function_&quot;&gt;assertFalse&lt;/span&gt;(k.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(l));\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;if you want to check for methods explicitly you can use the method.toSource() or method.toString() methods.&lt;/p&gt;\n    ","\n&lt;p&gt;If you work without the JSON library, maybe this will help you out:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;equals&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;b&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; a) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; b[i] == &lt;span class=&quot;hljs-string&quot;&gt;&apos;undefined&apos;&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; b[i] == &lt;span class=&quot;hljs-string&quot;&gt;&apos;object&apos;&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(!b[i].&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(a[i])) {\n                &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n            }\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(b[i] != a[i]) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        }\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; b) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; a[i] == &lt;span class=&quot;hljs-string&quot;&gt;&apos;undefined&apos;&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; a[i] == &lt;span class=&quot;hljs-string&quot;&gt;&apos;object&apos;&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(!a[i].&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(b[i])) {\n                &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n            }\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(a[i] != b[i]) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        }\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a = {&lt;span class=&quot;hljs-attr&quot;&gt;foo&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;bar&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;bar&lt;/span&gt;: {&lt;span class=&quot;hljs-attr&quot;&gt;blub&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;bla&apos;&lt;/span&gt;}};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; b = {&lt;span class=&quot;hljs-attr&quot;&gt;foo&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;bar&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;bar&lt;/span&gt;: {&lt;span class=&quot;hljs-attr&quot;&gt;blub&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;blob&apos;&lt;/span&gt;}};\n&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(a.&lt;span class=&quot;hljs-title function_&quot;&gt;equals&lt;/span&gt;(b)); &lt;span class=&quot;hljs-comment&quot;&gt;// alert&apos;s a false&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    "],"comment":["\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;I tinkered a bit on the topic and devised a flexible solution to the problem &lt;a href=&quot;http://stamat.wordpress.com/2013/06/22/javascript-object-comparison/&quot; rel=&quot;nofollow noreferrer&quot;&gt;stamat.wordpress.com/2013/06/22/javascript-object-comparison&lt;/a&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1909864/stamat&quot; title=&quot;1,674 reputation&quot; class=&quot;comment-user&quot;&gt;stamat&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment25006853_1068834&quot;&gt;&lt;span title=&quot;2013-06-22 19:17:08Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 22, 2013 at 19:17&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;testing for (deep) equality is quite a difficult thing to get right. head over to &lt;a href=&quot;https://github.com/loveencounterflow/jseq&quot; rel=&quot;nofollow noreferrer&quot;&gt;github.com/loveencounterflow/jseq&lt;/a&gt; to see a test suite of popular &lt;code&gt;equal()&lt;/code&gt; implementations that already covers many edge cases. the discussion in the docs is also quite thorough.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/256361/flow&quot; title=&quot;3,536 reputation&quot; class=&quot;comment-user&quot;&gt;flow&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment37097083_1068834&quot;&gt;&lt;span title=&quot;2014-06-05 11:43:08Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 5, 2014 at 11:43&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Use lodash. It&apos;s &lt;code&gt;isEqual&lt;/code&gt; method does exactly what you want.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/214035/adam-fraser&quot; title=&quot;5,960 reputation&quot; class=&quot;comment-user&quot;&gt;Adam Fraser&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment50139457_1068834&quot;&gt;&lt;span title=&quot;2015-06-25 19:38:59Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 25, 2015 at 19:38&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;use &lt;a href=&quot;https://facebook.github.io/immutable-js/&quot; rel=&quot;nofollow noreferrer&quot;&gt;facebook.github.io/immutable-js&lt;/a&gt; and this operation will be super easy &amp;amp; fast&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1737158/lukas-liesis&quot; title=&quot;21,664 reputation&quot; class=&quot;comment-user&quot;&gt;Lukas Liesis&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment57033333_1068834&quot;&gt;&lt;span title=&quot;2016-01-06 22:06:13Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jan 6, 2016 at 22:06&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;using underscore, &lt;code&gt;_.isEqual( obj1 , obj2 )&lt;/code&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/4221420/sai-ram&quot; title=&quot;3,817 reputation&quot; class=&quot;comment-user&quot;&gt;Sai Ram&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment59217504_1068834&quot;&gt;&lt;span title=&quot;2016-03-03 13:11:51Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Mar 3, 2016 at 13:11&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;The check against &lt;code&gt;undefined&lt;/code&gt; will fail for when a property is defined but set to the &lt;code&gt;undefined&lt;/code&gt; value. Use the &lt;code&gt;in&lt;/code&gt; operator instead of &lt;code&gt;typeof&lt;/code&gt; to avoid this: &lt;code&gt;p in x&lt;/code&gt;. Also comparing functions by string value is highly unreliable. Apart from the usual reasons that function decomposition fails, it&apos;s also very common to have two functions with the same code but very different behaviour due to closures. eg. any function created by jQuery&apos;s &lt;code&gt;$.proxy&lt;/code&gt; or Prototype&apos;s &lt;code&gt;Function#bind&lt;/code&gt;. I&apos;d just stick with comparing function identity.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/18936/bobince&quot; title=&quot;515,904 reputation&quot; class=&quot;comment-user&quot;&gt;bobince&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment4017790_1144249&quot;&gt;&lt;span title=&quot;2010-09-24 23:22:09Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Sep 24, 2010 at 23:22&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 2 times&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;I think you should use &lt;i&gt;identical&lt;/i&gt; comparison operator: &lt;code&gt;===&lt;/code&gt;, cause &lt;code&gt;{ a: 5 }&lt;/code&gt; and &lt;code&gt;{ a: &quot;5.0&quot; }&lt;/code&gt; aren&apos;t equal, or are they?&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/252591/crozin&quot; title=&quot;43,046 reputation&quot; class=&quot;comment-user&quot;&gt;Crozin&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment4093658_1144249&quot;&gt;&lt;span title=&quot;2010-10-03 20:14:05Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Oct 3, 2010 at 20:14&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;You shouldn&apos;t extend Object.prototype if it can be avoided. It causes ugly problems such as breaking &lt;code&gt;for(var key in someObject)&lt;/code&gt; if there&apos;s no &lt;code&gt;if(!someObject.hasOwnProperty(key)) continue;&lt;/code&gt; inside that loop.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/298479/thiefmaster&quot; title=&quot;299,984 reputation&quot; class=&quot;comment-user&quot;&gt;ThiefMaster&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment7245271_1144249&quot;&gt;&lt;span title=&quot;2011-06-02 21:44:01Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 2, 2011 at 21:44&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;the function comparison is wrong: functions may have identical text but refer to different closures.  Better to just return &lt;code&gt;this[p] === x[p]&lt;/code&gt;.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/42921/eamon-nerbonne&quot; title=&quot;45,391 reputation&quot; class=&quot;comment-user&quot;&gt;Eamon Nerbonne&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment7506182_1144249&quot;&gt;&lt;span title=&quot;2011-06-19 12:37:26Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 19, 2011 at 12:37&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Regarding &lt;b&gt;1)&lt;/b&gt; &lt;i&gt;&quot;The ORDER of the properties IS IMPORTANT, so this method will return false for following objects:&quot;&lt;/i&gt; That&apos;s not necessarily true. That method &lt;b&gt;&lt;i&gt;may&lt;/i&gt;&lt;/b&gt; return &lt;code&gt;false&lt;/code&gt; for those object, or it may not. There&apos;s no guarantee either way. That&apos;s why we don&apos;t use &lt;code&gt;JSON.stringify&lt;/code&gt; comparison for Object comparison. There&apos;s no guarantees of order.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;span class=&quot;comment-user&quot;&gt;user2437417&lt;/span&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment25246316_1144249&quot;&gt;&lt;span title=&quot;2013-06-30 11:59:45Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 30, 2013 at 11:59&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;still working for complex nested objects, thank you&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/5623780/waxim-corp&quot; title=&quot;320 reputation&quot; class=&quot;comment-user&quot;&gt;Waxim Corp&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment126469190_6402977&quot;&gt;&lt;span title=&quot;2022-03-21 11:12:58Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Mar 21 at 11:12&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Put let befor k in for loop causing error&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/14004764/syed-mohib-uddin&quot; title=&quot;662 reputation&quot; class=&quot;comment-user&quot;&gt;Syed Mohib Uddin&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment124763372_3849480&quot;&gt;&lt;span title=&quot;2022-01-04 11:55:07Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jan 4 at 11:55&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;+1 for testing the constructor or sub objects. But why not testing that of the main object? And why not testing functions by reference instead of comparing strings using toString(), this is slow and unaccurate.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/228259/jean-vincent&quot; title=&quot;11,305 reputation&quot; class=&quot;comment-user&quot;&gt;Jean Vincent&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment7936312_2736070&quot;&gt;&lt;span title=&quot;2011-07-15 08:56:06Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jul 15, 2011 at 8:56&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;JSON.stringify() removes properties that are set to undefined, and that therefore comparisons using this form will ignore properties set to the value undefined: assertFalse([1,2,null].equals([1,2,undefined])).&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/228259/jean-vincent&quot; title=&quot;11,305 reputation&quot; class=&quot;comment-user&quot;&gt;Jean Vincent&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment15034465_5522917&quot;&gt;&lt;span title=&quot;2012-07-09 20:20:26Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jul 9, 2012 at 20:20&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;You are stringifying arrays, but array can have complex objects inside&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/139361/dan&quot; title=&quot;52,635 reputation&quot; class=&quot;comment-user&quot;&gt;Dan&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment25111743_5522917&quot;&gt;&lt;span title=&quot;2013-06-26 07:37:18Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 26, 2013 at 7:37&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Shouldn&apos;t this test assert false instead of true because one is an instance of Object and the other is a primative? assertTrue(&quot;Number&quot;, new Number(5).equals(5));&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/239171/pete-alvin&quot; title=&quot;4,446 reputation&quot; class=&quot;comment-user&quot;&gt;Pete Alvin&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment48285597_5522917&quot;&gt;&lt;span title=&quot;2015-05-06 19:51:01Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;May 6, 2015 at 19:51&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;really not good enough for the reasons I described&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/13018/annakata&quot; title=&quot;72,782 reputation&quot; class=&quot;comment-user&quot;&gt;annakata&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment882517_1069915&quot;&gt;&lt;span title=&quot;2009-07-01 16:31:15Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Jul 1, 2009 at 16:31&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;So you&apos;d spin through the elements of the object, and check what the types are, then use toSource() or toString() when you find a function?&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/61027/nosredna&quot; title=&quot;79,040 reputation&quot; class=&quot;comment-user&quot;&gt;Nosredna&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment883549_1069915&quot;&gt;&lt;span title=&quot;2009-07-01 19:38:52Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Jul 1, 2009 at 19:38&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Nosredna, yes. That would give you the actual text of the function.  annakata, I don&apos;t understand what&apos;s not good enough and what you are actually trying to do. Could you elaborate a bit?&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/67903/nicolas-r&quot; title=&quot;952 reputation&quot; class=&quot;comment-user&quot;&gt;Nicolas R&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment887962_1069915&quot;&gt;&lt;span title=&quot;2009-07-02 15:54:46Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Jul 2, 2009 at 15:54&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@snz3 - there&apos;s a serious problem with whitespace, dropped semi-colons and braces and similar syntax differences which may or may not have an impact, and are hard to determine without parsing i.e. decoupling from a raw string format. There&apos;s also the problem of fluctuating state and prototyping. Basically strings are not good enough at capturing the state of two objects.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/13018/annakata&quot; title=&quot;72,782 reputation&quot; class=&quot;comment-user&quot;&gt;annakata&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment975146_1069915&quot;&gt;&lt;span title=&quot;2009-07-20 21:55:39Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Jul 20, 2009 at 21:55&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Hello from 2021, &lt;code&gt;toSource&lt;/code&gt; is deprecated, don&apos;t use it&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/10563181/hazer-hazer&quot; title=&quot;136 reputation&quot; class=&quot;comment-user&quot;&gt;hazer_hazer&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment117892261_1069915&quot;&gt;&lt;span title=&quot;2021-03-18 13:00:36Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Mar 18, 2021 at 13:00&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;This is a bad idea. Modifying Object.prototype can have all sort of unforeseen consequences.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/376260/marcf&quot; title=&quot;3,039 reputation&quot; class=&quot;comment-user&quot;&gt;MarcF&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment49828209_2408334&quot;&gt;&lt;span title=&quot;2015-06-17 14:27:55Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 17, 2015 at 14:27&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;You cannot work without the JSON library, it is part of the Javascript standard library: &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects&quot; rel=&quot;nofollow noreferrer&quot;&gt;developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&lt;/a&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/4476186/gerard-simpson&quot; title=&quot;1,907 reputation&quot; class=&quot;comment-user&quot;&gt;Gerard Simpson&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment89683854_2408334&quot;&gt;&lt;span title=&quot;2018-07-16 06:34:02Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jul 16, 2018 at 6:34&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        "],"id":336,"title":"Object comparison in JavaScript [duplicate]","content":"\n                    &lt;div&gt;\n            &lt;aside class=&quot;s-notice s-notice__info post-notice js-post-notice mb16&quot; role=&quot;status&quot;&gt;\n        &lt;div class=&quot;d-flex fd-column fw-nowrap&quot;&gt;\n            &lt;div class=&quot;d-flex fw-nowrap&quot;&gt;\n                &lt;div class=&quot;flex--item wmn0 fl1 lh-lg&quot;&gt;\n                    &lt;div class=&quot;flex--item fl1 lh-lg&quot;&gt;\n                        &lt;b&gt;This question already has answers here&lt;/b&gt;:\n                        \n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n                    &lt;div class=&quot;flex--item mb0 mt4&quot;&gt;\n                        &lt;a href=&quot;/questions/201183/how-to-determine-equality-for-two-javascript-objects&quot; dir=&quot;ltr&quot;&gt;How to determine equality for two JavaScript objects?&lt;/a&gt;\n                            &lt;span class=&quot;question-originals-answer-count&quot;&gt;\n                                (81 answers)\n                            &lt;/span&gt;\n                    &lt;/div&gt;\n                &lt;div class=&quot;flex--item mb0 mt8&quot;&gt;Closed &lt;span title=&quot;2016-05-10 19:43:36Z&quot; class=&quot;relativetime&quot;&gt;6 years ago&lt;/span&gt;.&lt;/div&gt;\n        &lt;/div&gt;\n&lt;/aside&gt;\n\n    &lt;/div&gt;\n\n&lt;p&gt;What is the best way to compare objects in JavaScript?&lt;/p&gt;\n\n&lt;p&gt;Example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; user1 = {name : &lt;span class=&quot;hljs-string&quot;&gt;&quot;nerd&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;org&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;dev&quot;&lt;/span&gt;};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; user2 = {name : &lt;span class=&quot;hljs-string&quot;&gt;&quot;nerd&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;org&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;dev&quot;&lt;/span&gt;};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; eq = user1 == user2;\n&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(eq); &lt;span class=&quot;hljs-comment&quot;&gt;// gives false&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I know that &lt;strong&gt;two objects are equal if they refer to the exact same object&lt;/strong&gt;, but is there a way to check if they have the same attributes&apos; values?&lt;/p&gt;\n\n&lt;p&gt;The following way works for me, but is it the only possibility?&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; eq = &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;toJSON&lt;/span&gt;(user1) == &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;toJSON&lt;/span&gt;(user2);\n&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(eq); &lt;span class=&quot;hljs-comment&quot;&gt;// gives true&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","slug":"object-comparison-in-javascript-duplicate-1657387675463","postType":"QUESTION","createdAt":"2022-07-09T17:27:55.000Z","updatedAt":"2022-07-09T17:27:55.000Z","tags":[{"id":1926,"name":"object-comparison","slug":"object-comparison","createdAt":"2022-07-09T17:27:55.000Z","updatedAt":"2022-07-09T17:27:55.000Z","Questions_Tags":{"questionId":336,"tagId":1926}}]}]}},"__N_SSG":true}