<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/2eccd4d47c856f2b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2eccd4d47c856f2b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-20edbe0b078add93.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/613-1e0aa2b2023820bb.js" defer=""></script><script src="/_next/static/chunks/495-bb1d5b202c02d7f2.js" defer=""></script><script src="/_next/static/chunks/81-096e453de8a27667.js" defer=""></script><script src="/_next/static/chunks/pages/questions/tag/%5Bslug%5D-6802ea06aeddcbec.js" defer=""></script><script src="/_next/static/4Y8KGE-c2lolBeBmcum_I/_buildManifest.js" defer=""></script><script src="/_next/static/4Y8KGE-c2lolBeBmcum_I/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.5"></style></head><body><div id="__next"><div class="sc-9099c029-0 cIPEih"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="https://flowbite.com/docs/images/logo.svg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo"/><span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Hunter</span></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/tag/python-packaging#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="sc-c5440139-0 figLul question my-5"><div class="flex items-center justify-center"><div class="rounded-xl border p-5 shadow-md w-9/12 bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/relative-imports-for-the-billionth-time-1657387756383">Relative imports for the billionth time</a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/python-packaging">python-packaging</a></div></div><div class="mt-4 mb-6" style="height:100px;overflow:auto"><h4 class="font-semibold">Solution 1:</h4><div class="text-sm bg-green-100 text-neutral-600">
<p><strong>Script vs. Module</strong></p>
<p>Here's an explanation.  The short version is that there is a big difference between directly running a Python file, and importing that file from somewhere else.  <strong>Just knowing what directory a file is in does not determine what package Python thinks it is in.</strong>  That depends, additionally, on how you load the file into Python (by running or by importing).</p>
<p>There are two ways to load a Python file: as the top-level script, or as a
module.  A file is loaded as the top-level script if you execute it directly, for instance by typing <code>python myfile.py</code> on the command line.  It is loaded as a module when an <code>import</code> statement is encountered inside some other file.  There can only be one top-level script at a time; the top-level script is the Python file you ran to start things off.</p>
<p><strong>Naming</strong></p>
<p>When a file is loaded, it is given a name (which is stored in its <code>__name__</code> attribute).  If it was loaded as the top-level script, its name is <code>__main__</code>.  If it was loaded as a module, its name is the filename, preceded by the names of any packages/subpackages of which it is a part, separated by dots.</p>
<p>So for instance in your example:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">package/
    __init__.py
    subpackage1/
        __init__.py
        moduleX.py
    moduleA.py
</code></pre>
<p>if you imported <code>moduleX</code> (note: <em>imported</em>, not directly executed), its name would be <code>package.subpackage1.moduleX</code>.  If you imported <code>moduleA</code>, its name would be <code>package.moduleA</code>.  However, if you <em>directly run</em> <code>moduleX</code> from the command line, its name will instead be <code>__main__</code>, and if you directly run <code>moduleA</code> from the command line, its name will be <code>__main__</code>.  When a module is run as the top-level script, it loses its normal name and its name is instead <code>__main__</code>.</p>
<p><strong>Accessing a module NOT through its containing package</strong></p>
<p>There is an additional wrinkle: the module's name depends on whether it was imported "directly" from the directory it is in or imported via a package.  This only makes a difference if you run Python in a directory, and try to import a file in that same directory (or a subdirectory of it).  For instance, if you start the Python interpreter in the directory <code>package/subpackage1</code> and then do <code>import moduleX</code>, the name of <code>moduleX</code> will just be <code>moduleX</code>, and not <code>package.subpackage1.moduleX</code>.  This is because Python adds the current directory to its search path when the interpreter is entered interactively; if it finds the to-be-imported module in the current directory, it will not know that that directory is part of a package, and the package information will not become part of the module's name.</p>
<p>A special case is if you run the interpreter interactively (e.g., just type <code>python</code> and start entering Python code on the fly).  In this case, the name of that interactive session is <code>__main__</code>.</p>
<p>Now here is the crucial thing for your error message: <strong>if a module's name has no dots, it is not considered to be part of a package</strong>.  It doesn't matter where the file actually is on disk.  All that matters is what its name is, and its name depends on how you loaded it.</p>
<p>Now look at the quote you included in your question:</p>
<blockquote>
<p>Relative imports use a module's name attribute to determine that module's position in the package hierarchy. If the module's name does not contain any package information (e.g. it is set to 'main') then relative imports are resolved as if the module were a top-level module, regardless of where the module is actually located on the file system.</p>
</blockquote>
<p><strong>Relative imports...</strong></p>
<p>Relative imports use the module's <em>name</em> to determine where it is in a package.  When you use a relative import like <code>from .. import foo</code>, the dots indicate to step up some number of levels in the package hierarchy.  For instance, if your current module's name is <code>package.subpackage1.moduleX</code>, then <code>..moduleA</code> would mean <code>package.moduleA</code>.  For a <code>from .. import</code> to work, the module's name must have at least as many dots as there are in the <code>import</code> statement.</p>
<p><strong>... are only relative in a package</strong></p>
<p>However, if your module's name is <code>__main__</code>, it is not considered to be in a package.  Its name has no dots, and therefore you cannot use <code>from .. import</code> statements inside it.  If you try to do so, you will get the "relative-import in non-package" error.</p>
<p><strong>Scripts can't import relative</strong></p>
<p>What you probably did is you tried to run <code>moduleX</code> or the like from the command line.  When you did this, its name was set to <code>__main__</code>, which means that relative imports within it will fail, because its name does not reveal that it is in a package. Note that this will also happen if you run Python from the same directory where a module is, and then try to import that module, because, as described above, Python will find the module in the current directory "too early" without realizing it is part of a package.</p>
<p>Also remember that when you run the interactive interpreter, the "name" of that interactive session is always <code>__main__</code>.  Thus <strong>you cannot do relative imports directly from an interactive session</strong>.  Relative imports are only for use within module files.</p>
<p><strong>Two solutions:</strong></p>
<ol>
<li><p>If you really do want to run <code>moduleX</code> directly, but you still want it to be considered part of a package, you can do <code>python -m package.subpackage1.moduleX</code>.  The <code>-m</code> tells Python to load it as a module, not as the top-level script.</p>
</li>
<li><p>Or perhaps you don't actually want to <em>run</em> <code>moduleX</code>, you just want to run some other script, say <code>myfile.py</code>, that <em>uses</em> functions inside <code>moduleX</code>.  If that is the case, put <code>myfile.py</code> <em>somewhere else</em>  <em>not</em> inside the <code>package</code> directory  and run it.  If inside <code>myfile.py</code> you do things like <code>from package.moduleA import spam</code>, it will work fine.</p>
</li>
</ol>
<p><strong>Notes</strong></p>
<ul>
<li><p>For either of these solutions, the package directory (<code>package</code> in your example) must be accessible from the Python module search path (<code>sys.path</code>).  If it is not, you will not be able to use anything in the package reliably at all.</p>
</li>
<li><p>Since Python 2.6, the module's "name" for package-resolution purposes is determined not just by its <code>__name__</code> attributes but also by the <code>__package__</code> attribute.  That's why I'm avoiding using the explicit symbol <code>__name__</code> to refer to the module's "name".  Since Python 2.6 a module's "name" is effectively <code>__package__ + '.' + __name__</code>, or just <code>__name__</code> if <code>__package__</code> is <code>None</code>.)</p>
</li>
</ul>
    </div></div><div><div class="flex items-center justify-between text-slate-500"><div class="flex space-x-4 md:space-x-8"><div class="flex cursor-pointer items-center transition hover:text-slate-600"><svg xmlns="http://www.w3.org/2000/svg" class="mr-1.5 h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"></path></svg><span>4</span></div></div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"count":1,"rows":[{"answer":["\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Script vs. Module\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Here\u0026apos;s an explanation.  The short version is that there is a big difference between directly running a Python file, and importing that file from somewhere else.  \u0026lt;strong\u0026gt;Just knowing what directory a file is in does not determine what package Python thinks it is in.\u0026lt;/strong\u0026gt;  That depends, additionally, on how you load the file into Python (by running or by importing).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;There are two ways to load a Python file: as the top-level script, or as a\nmodule.  A file is loaded as the top-level script if you execute it directly, for instance by typing \u0026lt;code\u0026gt;python myfile.py\u0026lt;/code\u0026gt; on the command line.  It is loaded as a module when an \u0026lt;code\u0026gt;import\u0026lt;/code\u0026gt; statement is encountered inside some other file.  There can only be one top-level script at a time; the top-level script is the Python file you ran to start things off.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Naming\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;When a file is loaded, it is given a name (which is stored in its \u0026lt;code\u0026gt;__name__\u0026lt;/code\u0026gt; attribute).  If it was loaded as the top-level script, its name is \u0026lt;code\u0026gt;__main__\u0026lt;/code\u0026gt;.  If it was loaded as a module, its name is the filename, preceded by the names of any packages/subpackages of which it is a part, separated by dots.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;So for instance in your example:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;package/\n    __init__.py\n    subpackage1/\n        __init__.py\n        moduleX.py\n    moduleA.py\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;if you imported \u0026lt;code\u0026gt;moduleX\u0026lt;/code\u0026gt; (note: \u0026lt;em\u0026gt;imported\u0026lt;/em\u0026gt;, not directly executed), its name would be \u0026lt;code\u0026gt;package.subpackage1.moduleX\u0026lt;/code\u0026gt;.  If you imported \u0026lt;code\u0026gt;moduleA\u0026lt;/code\u0026gt;, its name would be \u0026lt;code\u0026gt;package.moduleA\u0026lt;/code\u0026gt;.  However, if you \u0026lt;em\u0026gt;directly run\u0026lt;/em\u0026gt; \u0026lt;code\u0026gt;moduleX\u0026lt;/code\u0026gt; from the command line, its name will instead be \u0026lt;code\u0026gt;__main__\u0026lt;/code\u0026gt;, and if you directly run \u0026lt;code\u0026gt;moduleA\u0026lt;/code\u0026gt; from the command line, its name will be \u0026lt;code\u0026gt;__main__\u0026lt;/code\u0026gt;.  When a module is run as the top-level script, it loses its normal name and its name is instead \u0026lt;code\u0026gt;__main__\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Accessing a module NOT through its containing package\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;There is an additional wrinkle: the module\u0026apos;s name depends on whether it was imported \u0026quot;directly\u0026quot; from the directory it is in or imported via a package.  This only makes a difference if you run Python in a directory, and try to import a file in that same directory (or a subdirectory of it).  For instance, if you start the Python interpreter in the directory \u0026lt;code\u0026gt;package/subpackage1\u0026lt;/code\u0026gt; and then do \u0026lt;code\u0026gt;import moduleX\u0026lt;/code\u0026gt;, the name of \u0026lt;code\u0026gt;moduleX\u0026lt;/code\u0026gt; will just be \u0026lt;code\u0026gt;moduleX\u0026lt;/code\u0026gt;, and not \u0026lt;code\u0026gt;package.subpackage1.moduleX\u0026lt;/code\u0026gt;.  This is because Python adds the current directory to its search path when the interpreter is entered interactively; if it finds the to-be-imported module in the current directory, it will not know that that directory is part of a package, and the package information will not become part of the module\u0026apos;s name.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;A special case is if you run the interpreter interactively (e.g., just type \u0026lt;code\u0026gt;python\u0026lt;/code\u0026gt; and start entering Python code on the fly).  In this case, the name of that interactive session is \u0026lt;code\u0026gt;__main__\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Now here is the crucial thing for your error message: \u0026lt;strong\u0026gt;if a module\u0026apos;s name has no dots, it is not considered to be part of a package\u0026lt;/strong\u0026gt;.  It doesn\u0026apos;t matter where the file actually is on disk.  All that matters is what its name is, and its name depends on how you loaded it.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Now look at the quote you included in your question:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;Relative imports use a module\u0026apos;s name attribute to determine that module\u0026apos;s position in the package hierarchy. If the module\u0026apos;s name does not contain any package information (e.g. it is set to \u0026apos;main\u0026apos;) then relative imports are resolved as if the module were a top-level module, regardless of where the module is actually located on the file system.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Relative imports...\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Relative imports use the module\u0026apos;s \u0026lt;em\u0026gt;name\u0026lt;/em\u0026gt; to determine where it is in a package.  When you use a relative import like \u0026lt;code\u0026gt;from .. import foo\u0026lt;/code\u0026gt;, the dots indicate to step up some number of levels in the package hierarchy.  For instance, if your current module\u0026apos;s name is \u0026lt;code\u0026gt;package.subpackage1.moduleX\u0026lt;/code\u0026gt;, then \u0026lt;code\u0026gt;..moduleA\u0026lt;/code\u0026gt; would mean \u0026lt;code\u0026gt;package.moduleA\u0026lt;/code\u0026gt;.  For a \u0026lt;code\u0026gt;from .. import\u0026lt;/code\u0026gt; to work, the module\u0026apos;s name must have at least as many dots as there are in the \u0026lt;code\u0026gt;import\u0026lt;/code\u0026gt; statement.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;... are only relative in a package\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;However, if your module\u0026apos;s name is \u0026lt;code\u0026gt;__main__\u0026lt;/code\u0026gt;, it is not considered to be in a package.  Its name has no dots, and therefore you cannot use \u0026lt;code\u0026gt;from .. import\u0026lt;/code\u0026gt; statements inside it.  If you try to do so, you will get the \u0026quot;relative-import in non-package\u0026quot; error.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Scripts can\u0026apos;t import relative\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;What you probably did is you tried to run \u0026lt;code\u0026gt;moduleX\u0026lt;/code\u0026gt; or the like from the command line.  When you did this, its name was set to \u0026lt;code\u0026gt;__main__\u0026lt;/code\u0026gt;, which means that relative imports within it will fail, because its name does not reveal that it is in a package. Note that this will also happen if you run Python from the same directory where a module is, and then try to import that module, because, as described above, Python will find the module in the current directory \u0026quot;too early\u0026quot; without realizing it is part of a package.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Also remember that when you run the interactive interpreter, the \u0026quot;name\u0026quot; of that interactive session is always \u0026lt;code\u0026gt;__main__\u0026lt;/code\u0026gt;.  Thus \u0026lt;strong\u0026gt;you cannot do relative imports directly from an interactive session\u0026lt;/strong\u0026gt;.  Relative imports are only for use within module files.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Two solutions:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;If you really do want to run \u0026lt;code\u0026gt;moduleX\u0026lt;/code\u0026gt; directly, but you still want it to be considered part of a package, you can do \u0026lt;code\u0026gt;python -m package.subpackage1.moduleX\u0026lt;/code\u0026gt;.  The \u0026lt;code\u0026gt;-m\u0026lt;/code\u0026gt; tells Python to load it as a module, not as the top-level script.\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Or perhaps you don\u0026apos;t actually want to \u0026lt;em\u0026gt;run\u0026lt;/em\u0026gt; \u0026lt;code\u0026gt;moduleX\u0026lt;/code\u0026gt;, you just want to run some other script, say \u0026lt;code\u0026gt;myfile.py\u0026lt;/code\u0026gt;, that \u0026lt;em\u0026gt;uses\u0026lt;/em\u0026gt; functions inside \u0026lt;code\u0026gt;moduleX\u0026lt;/code\u0026gt;.  If that is the case, put \u0026lt;code\u0026gt;myfile.py\u0026lt;/code\u0026gt; \u0026lt;em\u0026gt;somewhere else\u0026lt;/em\u0026gt;  \u0026lt;em\u0026gt;not\u0026lt;/em\u0026gt; inside the \u0026lt;code\u0026gt;package\u0026lt;/code\u0026gt; directory  and run it.  If inside \u0026lt;code\u0026gt;myfile.py\u0026lt;/code\u0026gt; you do things like \u0026lt;code\u0026gt;from package.moduleA import spam\u0026lt;/code\u0026gt;, it will work fine.\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Notes\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;For either of these solutions, the package directory (\u0026lt;code\u0026gt;package\u0026lt;/code\u0026gt; in your example) must be accessible from the Python module search path (\u0026lt;code\u0026gt;sys.path\u0026lt;/code\u0026gt;).  If it is not, you will not be able to use anything in the package reliably at all.\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Since Python 2.6, the module\u0026apos;s \u0026quot;name\u0026quot; for package-resolution purposes is determined not just by its \u0026lt;code\u0026gt;__name__\u0026lt;/code\u0026gt; attributes but also by the \u0026lt;code\u0026gt;__package__\u0026lt;/code\u0026gt; attribute.  That\u0026apos;s why I\u0026apos;m avoiding using the explicit symbol \u0026lt;code\u0026gt;__name__\u0026lt;/code\u0026gt; to refer to the module\u0026apos;s \u0026quot;name\u0026quot;.  Since Python 2.6 a module\u0026apos;s \u0026quot;name\u0026quot; is effectively \u0026lt;code\u0026gt;__package__ + \u0026apos;.\u0026apos; + __name__\u0026lt;/code\u0026gt;, or just \u0026lt;code\u0026gt;__name__\u0026lt;/code\u0026gt; if \u0026lt;code\u0026gt;__package__\u0026lt;/code\u0026gt; is \u0026lt;code\u0026gt;None\u0026lt;/code\u0026gt;.)\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This is really a problem within python. \u0026lt;strong\u0026gt;The origin of confusion is that people mistakenly takes the relative import as path relative which is not.\u0026lt;/strong\u0026gt; \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For example when you write in \u0026lt;em\u0026gt;faa.py\u0026lt;/em\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; .. \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; foo\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This has a meaning only if \u0026lt;em\u0026gt;faa.py\u0026lt;/em\u0026gt; was \u0026lt;em\u0026gt;identified and loaded\u0026lt;/em\u0026gt; by python, during execution, as a part of a package. In that case,the \u0026lt;strong\u0026gt;module\u0026apos;s name\u0026lt;/strong\u0026gt; \n for \u0026lt;em\u0026gt;faa.py\u0026lt;/em\u0026gt; would be for example \u0026lt;em\u0026gt;some_packagename.faa\u0026lt;/em\u0026gt;. If the file was loaded just because it is in the current directory, when python is run, then its name would not refer to any package and eventually relative import would fail. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;A simple solution to refer modules in the current directory, is to use this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; __package__ \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;or\u0026lt;/span\u0026gt; __package__ == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;:\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# uses current directory visibility\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; foo\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# uses current package visibility\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; foo\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;So after carping about this along with many others, I came across a note posted by \u0026lt;a href=\u0026quot;https://stackoverflow.com/users/5420054/dorian-b\u0026quot;\u0026gt;Dorian B\u0026lt;/a\u0026gt; in this \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/5286210/is-there-a-way-to-access-parent-modules-in-python\u0026quot;\u0026gt;article\u0026lt;/a\u0026gt; that solved the specific problem I was having where I would develop modules and classes for use with a web service, but I also want to be able to test them as I\u0026apos;m coding, using the debugger facilities in PyCharm. To run tests in a self-contained class, I would include the following at the end of my class file:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; __name__ == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__main__\u0026apos;\u0026lt;/span\u0026gt;:\n   \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# run test code here...\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;but if I wanted to import other classes or modules in the same folder, I would then have to change all my import statements from relative notation to local references (i.e. remove the dot (.))  But after reading Dorian\u0026apos;s suggestion, I tried his \u0026apos;one-liner\u0026apos; and it worked!  I can now test in PyCharm and leave my test code in place when I use the class in another class under test, or when I use it in my web service!\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# import any site-lib modules first, then...\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; sys\nparent_module = sys.modules[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;.join(__name__.split(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;)[:-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;]) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;or\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__main__\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; __name__ == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__main__\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;or\u0026lt;/span\u0026gt; parent_module.__name__ == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__main__\u0026apos;\u0026lt;/span\u0026gt;:\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; codex \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; Codex \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# these are in same folder as module under test!\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; dblogger \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; DbLogger\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; .codex \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; Codex\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; .dblogger \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; DbLogger\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The if statement checks to see if we\u0026apos;re running this module as \u0026lt;strong\u0026gt;main\u0026lt;/strong\u0026gt; or if it\u0026apos;s being used in another module that\u0026apos;s being tested as \u0026lt;strong\u0026gt;main\u0026lt;/strong\u0026gt;.  Perhaps this is obvious, but I offer this note here in case anyone else frustrated by the relative import issues above can make use of it.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;There are too much too long anwers in a foreign language. So I\u0026apos;ll try to make it short.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If you write \u0026lt;code\u0026gt;from . import module\u0026lt;/code\u0026gt;, opposite to  what you think, \u0026lt;code\u0026gt;module\u0026lt;/code\u0026gt; will not be imported from current directory, but from the top level of your package! If you run .py file as a script, it simply doesn\u0026apos;t know where the top level is and thus refuses to work.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If you start it like this \u0026lt;code\u0026gt;py -m package.module\u0026lt;/code\u0026gt; from the directory above \u0026lt;code\u0026gt;package\u0026lt;/code\u0026gt;, then python knows where the top level is. That\u0026apos;s very similar to java: \u0026lt;code\u0026gt;java -cp bin_directory package.class\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here\u0026apos;s a general recipe, modified to fit as an example, that I am using right now for dealing with Python libraries written as packages, that contain interdependent files, where I want to be able to test parts of them piecemeal.  Let\u0026apos;s call this \u0026lt;code\u0026gt;lib.foo\u0026lt;/code\u0026gt; and say that it needs access to \u0026lt;code\u0026gt;lib.fileA\u0026lt;/code\u0026gt; for functions \u0026lt;code\u0026gt;f1\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;f2\u0026lt;/code\u0026gt;, and \u0026lt;code\u0026gt;lib.fileB\u0026lt;/code\u0026gt; for class \u0026lt;code\u0026gt;Class3\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I have included a few \u0026lt;code\u0026gt;print\u0026lt;/code\u0026gt; calls to help illustrate how this works.  In practice you would want to remove them (and maybe also the \u0026lt;code\u0026gt;from __future__ import print_function\u0026lt;/code\u0026gt; line).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This particular example is too simple to show when we really need to insert an entry into \u0026lt;code\u0026gt;sys.path\u0026lt;/code\u0026gt;.  (See \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/38455936/1256452\u0026quot;\u0026gt;Lars\u0026apos; answer\u0026lt;/a\u0026gt; for a case where we \u0026lt;em\u0026gt;do\u0026lt;/em\u0026gt; need it, when we have two or more levels of package directories, and then we use \u0026lt;code\u0026gt;os.path.dirname(os.path.dirname(__file__))\u0026lt;/code\u0026gt;but it doesn\u0026apos;t really \u0026lt;em\u0026gt;hurt\u0026lt;/em\u0026gt; here either.)  It\u0026apos;s also safe enough to do this without the \u0026lt;code\u0026gt;if _i in sys.path\u0026lt;/code\u0026gt; test.  However, if each imported file inserts the same pathfor instance, if both \u0026lt;code\u0026gt;fileA\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;fileB\u0026lt;/code\u0026gt; want to import utilities from the packagethis clutters up \u0026lt;code\u0026gt;sys.path\u0026lt;/code\u0026gt; with the same path many times, so it\u0026apos;s nice to have the \u0026lt;code\u0026gt;if _i not in sys.path\u0026lt;/code\u0026gt; in the boilerplate.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; __future__ \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; print_function \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# only when showing how this works\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; __package__:\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Package named {!r}; __name__ is {!r}\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;format\u0026lt;/span\u0026gt;(__package__, __name__))\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; .fileA \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; f1, f2\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; .fileB \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; Class3\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Not a package; __name__ is {!r}\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;format\u0026lt;/span\u0026gt;(__name__))\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# these next steps should be used only with care and if needed\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# (remove the sys.path manipulation for simple cases!)\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os, sys\n    _i = os.path.dirname(os.path.abspath(__file__))\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; _i \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; sys.path:\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;inserting {!r} into sys.path\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;format\u0026lt;/span\u0026gt;(_i))\n        sys.path.insert(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, _i)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;{!r} is already in sys.path\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;format\u0026lt;/span\u0026gt;(_i))\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;del\u0026lt;/span\u0026gt; _i \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# clean up global name space\u0026lt;/span\u0026gt;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; fileA \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; f1, f2\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; fileB \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; Class3\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;... \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;all\u0026lt;/span\u0026gt; the code \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; usual ...\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; __name__ == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__main__\u0026apos;\u0026lt;/span\u0026gt;:\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; doctest, sys\n    ret = doctest.testmod()\n    sys.exit(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; ret.failed == \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The idea here is this (and note that these all function the same across python2.7 and python 3.x):\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;If run as \u0026lt;code\u0026gt;import lib\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;from lib import foo\u0026lt;/code\u0026gt; as a regular package import from ordinary code, \u0026lt;code\u0026gt;__package\u0026lt;/code\u0026gt; is \u0026lt;code\u0026gt;lib\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;__name__\u0026lt;/code\u0026gt; is \u0026lt;code\u0026gt;lib.foo\u0026lt;/code\u0026gt;.  We take the first code path, importing from \u0026lt;code\u0026gt;.fileA\u0026lt;/code\u0026gt;, etc.\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;If run as \u0026lt;code\u0026gt;python lib/foo.py\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;__package__\u0026lt;/code\u0026gt; will be None and \u0026lt;code\u0026gt;__name__\u0026lt;/code\u0026gt; will be \u0026lt;code\u0026gt;__main__\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;We take the second code path.  The \u0026lt;code\u0026gt;lib\u0026lt;/code\u0026gt; directory will already be in \u0026lt;code\u0026gt;sys.path\u0026lt;/code\u0026gt; so there is no need to add it.  We import from \u0026lt;code\u0026gt;fileA\u0026lt;/code\u0026gt;, etc.\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;If run within the \u0026lt;code\u0026gt;lib\u0026lt;/code\u0026gt; directory as \u0026lt;code\u0026gt;python foo.py\u0026lt;/code\u0026gt;, the behavior is the same as for case 2.\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;If run within the \u0026lt;code\u0026gt;lib\u0026lt;/code\u0026gt; directory as \u0026lt;code\u0026gt;python -m foo\u0026lt;/code\u0026gt;, the behavior is similar to cases 2 and 3.  However, the path to the \u0026lt;code\u0026gt;lib\u0026lt;/code\u0026gt; directory is not in \u0026lt;code\u0026gt;sys.path\u0026lt;/code\u0026gt;, so we add it before importing.  The same applies if we run Python and then \u0026lt;code\u0026gt;import foo\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;(Since \u0026lt;code\u0026gt;.\u0026lt;/code\u0026gt; \u0026lt;em\u0026gt;is\u0026lt;/em\u0026gt; in \u0026lt;code\u0026gt;sys.path\u0026lt;/code\u0026gt;, we don\u0026apos;t really need to add the absolute version of the path here.  This is where a deeper package nesting structure, where we want to do \u0026lt;code\u0026gt;from ..otherlib.fileC import ...\u0026lt;/code\u0026gt;, makes a difference.  If you\u0026apos;re not doing this, you can omit all the \u0026lt;code\u0026gt;sys.path\u0026lt;/code\u0026gt; manipulation entirely.)\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;h3\u0026gt;Notes\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;There is still a quirk.  If you run this whole thing from outside:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;$ python2 lib.foo\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;or:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;$ python3 lib.foo\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;the behavior depends on the contents of \u0026lt;code\u0026gt;lib/__init__.py\u0026lt;/code\u0026gt;.  If that exists and \u0026lt;em\u0026gt;is empty\u0026lt;/em\u0026gt;, all is well:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;Package named \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;lib\u0026apos;\u0026lt;/span\u0026gt;; __name__ \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__main__\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;But if \u0026lt;code\u0026gt;lib/__init__.py\u0026lt;/code\u0026gt; \u0026lt;em\u0026gt;itself\u0026lt;/em\u0026gt; imports \u0026lt;code\u0026gt;routine\u0026lt;/code\u0026gt; so that it can export \u0026lt;code\u0026gt;routine.name\u0026lt;/code\u0026gt; directly as \u0026lt;code\u0026gt;lib.name\u0026lt;/code\u0026gt;, you get:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;$ python2 lib.foo\nPackage named \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;lib\u0026apos;\u0026lt;/span\u0026gt;; __name__ \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;lib.foo\u0026apos;\u0026lt;/span\u0026gt;\nPackage named \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;lib\u0026apos;\u0026lt;/span\u0026gt;; __name__ \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__main__\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;That is, the module gets imported twice, once via the package and then again as \u0026lt;code\u0026gt;__main__\u0026lt;/code\u0026gt; so that it runs your \u0026lt;code\u0026gt;main\u0026lt;/code\u0026gt; code.  Python 3.6 and later warn about this:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;$ python3 lib.routine\nPackage named \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;lib\u0026apos;\u0026lt;/span\u0026gt;; __name__ \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;lib.foo\u0026apos;\u0026lt;/span\u0026gt;\n[...]/runpy.py:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;125\u0026lt;/span\u0026gt;: RuntimeWarning: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;lib.foo\u0026apos;\u0026lt;/span\u0026gt; found \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; sys.modules\nafter \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; of package \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;lib\u0026apos;\u0026lt;/span\u0026gt;, but prior to execution of \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;lib.foo\u0026apos;\u0026lt;/span\u0026gt;;\nthis may result \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; unpredictable behaviour\n  warn(RuntimeWarning(msg))\nPackage named \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;lib\u0026apos;\u0026lt;/span\u0026gt;; __name__ \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__main__\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The \u0026lt;em\u0026gt;warning\u0026lt;/em\u0026gt; is new, but the warned-about behavior is not.  It is part of what some call \u0026lt;a href=\u0026quot;http://python-notes.curiousefficiency.org/en/latest/python_concepts/import_traps.html#the-double-import-trap\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;the double import trap\u0026lt;/a\u0026gt;.  (For additional details see \u0026lt;a href=\u0026quot;https://bugs.python.org/issue27487\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;issue 27487\u0026lt;/a\u0026gt;.)  Nick Coghlan says:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;This next trap exists in all current versions of Python, including 3.3, and can be summed up in the following general guideline: \u0026quot;Never add a package directory, or any directory inside a package, directly to the Python path\u0026quot;.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;Note that while we violate that rule here, we do it \u0026lt;em\u0026gt;only\u0026lt;/em\u0026gt; when the file being loaded is \u0026lt;em\u0026gt;not\u0026lt;/em\u0026gt; being loaded as part of a package, and our modification is specifically designed to allow us to access other files in that package.  (And, as I noted, we probably shouldn\u0026apos;t do this at all for single level packages.)  If we wanted to be extra-clean, we might rewrite this as, e.g.:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os, sys\n    _i = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; _i \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; sys.path:\n        sys.path.insert(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, _i)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n        _i = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; sub.fileA \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; f1, f2\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; sub.fileB \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; Class3\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; _i:\n        sys.path.remove(_i)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;del\u0026lt;/span\u0026gt; _i\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;That is, we modify \u0026lt;code\u0026gt;sys.path\u0026lt;/code\u0026gt; long enough to achieve our imports, then put it back the way it was (deleting one copy of \u0026lt;code\u0026gt;_i\u0026lt;/code\u0026gt; if and only if we added one copy of \u0026lt;code\u0026gt;_i\u0026lt;/code\u0026gt;).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here is one solution that I would not recommend, but might be useful in some situations where modules were simply not generated:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; sys\nparent_dir_name = os.path.dirname(os.path.dirname(os.path.realpath(__file__)))\nsys.path.append(parent_dir_name + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/your_dir\u0026quot;\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; your_script\nyour_script.a_function()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;@BrenBarn\u0026apos;s answer says it all, but if you\u0026apos;re like me it might take a while to understand.  Here\u0026apos;s my case and how @BrenBarn\u0026apos;s answer applies to it, perhaps it will help you.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;The case\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;package/\n    __init__.py\n    subpackage1/\n        __init__.py\n        moduleX.py\n    moduleA.py\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Using our familiar example, and add to it that moduleX.py has a relative import to ..moduleA.  Given that I tried writing a test script in the subpackage1 directory that imported moduleX, but then got the dreaded error described by the OP.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Solution\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Move test script to the same level as package and import package.subpackage1.moduleX\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Explanation\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;As explained, relative imports are made relative to the current name.  When my test script imports moduleX from the same directory, then module name inside moduleX is moduleX.  When it encounters a relative import the interpreter can\u0026apos;t back up the package hierarchy because it\u0026apos;s already at the top\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;When I import moduleX from above, then name inside moduleX is package.subpackage1.moduleX and the relative import can be found\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I had a similar problem where I didn\u0026apos;t want to change the Python module search \npath and needed to load a module relatively \u0026lt;em\u0026gt;from a script\u0026lt;/em\u0026gt; (in spite of \u0026lt;em\u0026gt;\u0026quot;scripts can\u0026apos;t import relative with all\u0026quot;\u0026lt;/em\u0026gt; as BrenBarn explained nicely above).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So I used the following hack. Unfortunately, it relies on the \u0026lt;code\u0026gt;imp\u0026lt;/code\u0026gt; module that \nbecame deprecated since version 3.4 to be dropped in favour of \u0026lt;code\u0026gt;importlib\u0026lt;/code\u0026gt;.\n(Is this possible with \u0026lt;code\u0026gt;importlib\u0026lt;/code\u0026gt;, too? I don\u0026apos;t know.) Still, the hack works for now.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Example for accessing members of \u0026lt;code\u0026gt;moduleX\u0026lt;/code\u0026gt; in \u0026lt;code\u0026gt;subpackage1\u0026lt;/code\u0026gt; from a script residing in the \u0026lt;code\u0026gt;subpackage2\u0026lt;/code\u0026gt; folder:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#!/usr/bin/env python3\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; inspect\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; imp\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get_script_dir\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;follow_symlinks=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026quot;\n    Return directory of code defining this very function.\n    Should work from a module as well as from a script.\n    \u0026quot;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;\n    script_path = inspect.getabsfile(get_script_dir)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; follow_symlinks:\n        script_path = os.path.realpath(script_path)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; os.path.dirname(script_path)\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# loading the module (hack, relying on deprecated imp-module)\u0026lt;/span\u0026gt;\nPARENT_PATH = os.path.dirname(get_script_dir())\n(x_file, x_path, x_desc) = imp.find_module(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;moduleX\u0026apos;\u0026lt;/span\u0026gt;, [PARENT_PATH+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/\u0026apos;\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;subpackage1\u0026apos;\u0026lt;/span\u0026gt;])\nmodule_x = imp.load_module(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;subpackage1.moduleX\u0026apos;\u0026lt;/span\u0026gt;, x_file, x_path, x_desc)\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# importing a function and a value\u0026lt;/span\u0026gt;\nfunction = module_x.my_function\nVALUE = module_x.MY_CONST\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;A cleaner approach seems to be to modify the sys.path used for loading modules as mentioned by Federico.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#!/usr/bin/env python3\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; __name__ == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__main__\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;and\u0026lt;/span\u0026gt; __package__ \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;:\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; os \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; sys, path\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# __file__ should be defined in this case\u0026lt;/span\u0026gt;\n    PARENT_DIR = path.dirname(path.dirname(path.abspath(__file__)))\n   sys.path.append(PARENT_DIR)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; subpackage1.moduleX \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; *\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;__name__\u0026lt;/code\u0026gt; changes depending on whether the code in question is run in the global namespace or as part of an imported module.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If the code is not running in the global space, \u0026lt;code\u0026gt;__name__\u0026lt;/code\u0026gt; will be the name of the module. If it is running in global namespace -- for example, if you type it into a console, or run the module as a script using \u0026lt;code\u0026gt;python.exe yourscriptnamehere.py\u0026lt;/code\u0026gt; then \u0026lt;code\u0026gt;__name__\u0026lt;/code\u0026gt; becomes \u0026lt;code\u0026gt;\u0026quot;__main__\u0026quot;\u0026lt;/code\u0026gt;.  \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You\u0026apos;ll see a lot of python code with  \u0026lt;code\u0026gt;if __name__ == \u0026apos;__main__\u0026apos;\u0026lt;/code\u0026gt; is used to test whether the code is being run from the global namespace  that allows you to have a module that doubles as a script. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Did you try to do these imports from the console? \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Following up on what Lars has suggested I\u0026apos;ve wrapped this approach in an experimental, new import library: \u0026lt;a href=\u0026quot;https://github.com/ronny-rentner/ultraimport\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;ultraimport\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;It gives the programmer more control over imports and it allows file system based imports. Therefore, you can do relative imports from scripts. Parent package not necessary. ultraimports will always work, no matter how you run your code or what is your current working directory because ultraimport makes imports unambiguous. You don\u0026apos;t need to change sys.path and also you don\u0026apos;t need a try/except block to sometimes do relative imports and sometimes absolute.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You would then write in somefile.py something like:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; ultraimport\nfoo = ultraimport(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__dir__/foo.py\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;__dir__ is the directory of somefile.py, the caller of ultraimport(). foo.py would live in the same directory as somefile.py.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;One caveat when importing scripts like this is if they contain further relative imports. ultraimport has a builtin preprocessor to rewrite subsequent relative imports to ultraimports so they continue to work. Though, this is currently somewhat limited as original Python imports are ambiguous and there\u0026apos;s only so much you can do about it.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Relative imports use a module\u0026apos;s name attribute to determine that module\u0026apos;s position in the package hierarchy. If the module\u0026apos;s name does not contain any package information (e.g. it is set to \u0026apos;main\u0026apos;) then relative imports are resolved as if the module were a top level module, regardless of where the module is actually located on the file system.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;Wrote a little python package to PyPi that might help viewers of this question. The package acts as workaround if one wishes to be able to run python files containing imports containing upper level packages from within a package / project without being directly in the importing file\u0026apos;s directory. \u0026lt;a href=\u0026quot;https://pypi.org/project/import-anywhere/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://pypi.org/project/import-anywhere/\u0026lt;/a\u0026gt; \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In most cases when I see the \u0026lt;code\u0026gt;ValueError: attempted relative import beyond top-level package\u0026lt;/code\u0026gt; and pull my hair out, the solution is as follows:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You need to \u0026lt;strong\u0026gt;step one level higher\u0026lt;/strong\u0026gt; in the file hierarchy!\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#dir/package/module1/foo.py\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#dir/package/module2/bar.py\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; ..module1 \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; foo\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Importing \u0026lt;code\u0026gt;bar.py\u0026lt;/code\u0026gt; when interpreter is started in \u0026lt;code\u0026gt;dir/package/\u0026lt;/code\u0026gt; will result in error despite the import process never going beyond your current directory.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Importing \u0026lt;code\u0026gt;bar.py\u0026lt;/code\u0026gt; when interpreter is started in \u0026lt;code\u0026gt;dir/\u0026lt;/code\u0026gt; will succeed.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Similarly for unit tests:\n\u0026lt;code\u0026gt;python3 -m unittest discover --start-directory=.\u0026lt;/code\u0026gt; successfully works from \u0026lt;code\u0026gt;dir/\u0026lt;/code\u0026gt;, but not from \u0026lt;code\u0026gt;dir/package/\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n    "],"comment":["\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;How are you attempting to use the files you show?  What is the code you are running?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1427416/brenbarn\u0026quot; title=\u0026quot;229,339 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;BrenBarn\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment19567456_14132789\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-01-03 03:51:58Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jan 3, 2013 at 3:51\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;See my answer.  You still haven\u0026apos;t fully clarified what you\u0026apos;re doing, but if you\u0026apos;re trying to do \u0026lt;code\u0026gt;from .something import something\u0026lt;/code\u0026gt; in the interactive interpreter, that won\u0026apos;t work.  Relative imports can only be used within modules, not interactively.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1427416/brenbarn\u0026quot; title=\u0026quot;229,339 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;BrenBarn\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment19568180_14132789\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-01-03 04:47:08Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jan 3, 2013 at 4:47\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;The mere fact that \u0026quot;billions\u0026quot; of people -- ok 83,136 as of this comment -- are having enough difficulty with imports to search out this question;  we can only conclude that python imports are counter-intuitive for many, if not most programmers.  Guido, perhaps you should accept this and ask for a committee to redesign the import mechanism.  At a minimum, this syntax ought to work if x.py and z.py are in the same directory.  Namely if x.py has the statement, \u0026quot;from .z import MyZebraClass\u0026quot; x should import z EVEN if it\u0026apos;s being run as \u0026lt;b\u0026gt;main\u0026lt;/b\u0026gt;!  Why is that so hard?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/32584/steve-l\u0026quot; title=\u0026quot;1,393 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Steve L\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment91509486_14132789\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-09-11 16:53:57Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Sep 11, 2018 at 16:53\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;After reading through much of this thread, although not an answer to the question, \u0026quot;just use absolute imports\u0026quot; seems to be the solution...\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/3629691/codejockey\u0026quot; title=\u0026quot;1,812 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;CodeJockey\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment93666961_14132789\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-11-20 15:03:33Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Nov 20, 2018 at 15:03\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Related question: \u0026lt;a href=\u0026quot;https://stackoverflow.com/q/28400690/2142994\u0026quot;\u0026gt;Python3 correct way to import relative or absolute?\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/2142994/ani-menon\u0026quot; title=\u0026quot;25,460 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Ani Menon\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment110894518_14132789\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-07-03 05:14:04Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 3, 2020 at 5:14\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;This should be the answer to all Python relative imports questions. This should be in the docs, even.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/2274357/edsioufi\u0026quot; title=\u0026quot;8,237 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;edsioufi\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment36302412_14132912\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2014-05-13 19:19:43Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;May 13, 2014 at 19:19\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;See \u0026lt;a href=\u0026quot;https://www.python.org/dev/peps/pep-0366/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;python.org/dev/peps/pep-0366\u0026lt;/a\u0026gt; -- \u0026quot;Note that this boilerplate is sufficient only if the top level package is already accessible via sys.path . Additional code that manipulates sys.path would be needed in order for direct execution to work without the top level package already being importable.\u0026quot; -- this is the most disturbing bit to me since this \u0026quot;additional code\u0026quot; is actually quite long and can\u0026apos;t be stored elsewhere in package to run easily.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1293501/michael-scott-asato-cuthbert\u0026quot; title=\u0026quot;3,093 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Michael Scott Asato Cuthbert\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment52445880_14132912\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2015-08-29 08:04:58Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Aug 29, 2015 at 8:04\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I keep coming back to this post despite being a Python veteran. The main message for me is: Either fiddle around with \u0026lt;code\u0026gt;sys.path\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;__package__\u0026lt;/code\u0026gt; (which is rather ugly, see the other answers) or simply create a \u0026quot;main script\u0026quot; \u0026lt;code\u0026gt;main.py\u0026lt;/code\u0026gt; in the root directory of your project and put all modules to be imported in subdirectories. \u0026lt;code\u0026gt;main.py\u0026lt;/code\u0026gt; can then access all modules directly through their package names (= the names of the respective folders they\u0026apos;re in).\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/36253/balu\u0026quot; title=\u0026quot;3,250 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;balu\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment73176964_14132912\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2017-03-27 12:29:14Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Mar 27, 2017 at 12:29\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;This answer is currently off on a few important details regarding \u0026lt;code\u0026gt;__name__\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;sys.path\u0026lt;/code\u0026gt;. Specifically, with \u0026lt;code\u0026gt;python -m pkg.mod\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;__name__\u0026lt;/code\u0026gt; is set to \u0026lt;code\u0026gt;__main__\u0026lt;/code\u0026gt;, not \u0026lt;code\u0026gt;pkg.mod\u0026lt;/code\u0026gt;; relative imports are resolved using \u0026lt;a href=\u0026quot;https://www.python.org/dev/peps/pep-0366/#proposed-change\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;__package__\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; rather than \u0026lt;code\u0026gt;__name__\u0026lt;/code\u0026gt; in this case. Also, Python adds the script\u0026apos;s directory rather than the current directory to \u0026lt;code\u0026gt;sys.path\u0026lt;/code\u0026gt; when running \u0026lt;code\u0026gt;python path/to/script.py\u0026lt;/code\u0026gt;; it adds the current directory to \u0026lt;code\u0026gt;sys.path\u0026lt;/code\u0026gt; when running most other ways, including \u0026lt;code\u0026gt;python -m pkg.mod\u0026lt;/code\u0026gt;.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/2357112/user2357112\u0026quot; title=\u0026quot;236,891 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;user2357112\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment92273943_14132912\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-10-05 19:22:29Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 5, 2018 at 19:22\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Finally understand after hours of reading... Worth noting that code under \u0026lt;code\u0026gt;if __name__ == \u0026apos;__main__\u0026apos;\u0026lt;/code\u0026gt; will still run when using -m. See the comment from @user2357112\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1924082/adamf\u0026quot; title=\u0026quot;921 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;adamF\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment95451561_14132912\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2019-01-22 20:18:11Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jan 22, 2019 at 20:18\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 2 times\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;The correct solution is  \u0026lt;code\u0026gt;from __future__ import absolute_import\u0026lt;/code\u0026gt; and force the user to use your code correctly... so that you can always do \u0026lt;code\u0026gt;from . import foo\u0026lt;/code\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/8718773/giacomo-alzetta\u0026quot; title=\u0026quot;2,323 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Giacomo Alzetta\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment89695220_49480246\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-07-16 12:13:40Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 16, 2018 at 12:13\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;That actually solves it. But it is really nasty. Why is this not the default behavior?!\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/3578468/lo-tolmencre\u0026quot; title=\u0026quot;3,626 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;lo tolmencre\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment107967693_52657007\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-04-04 12:39:06Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Apr 4, 2020 at 12:39\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I have a similar issue -- tools that have to be packaged into the same folder to work as an add-on to another larger program. The main add-on interfaces with the larger program and works only when that larger program is running. For testing, I want to run the smaller utilities and let them call each other. It\u0026apos;s a nightmare. I\u0026apos;ve started just using chained \u0026lt;code\u0026gt;try\u0026lt;/code\u0026gt;/\u0026lt;code\u0026gt;except ImportError\u0026lt;/code\u0026gt; blocks and adding every possible way of importing something in there. It works, it\u0026apos;s short, but is so incredibly unpythonic it hurts every time.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/323906/brownbat\u0026quot; title=\u0026quot;256 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Brownbat\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment113796264_52657007\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-10-14 12:48:43Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 14, 2020 at 12:48\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;This is my exact use case, testing/debugging within PyCharm. The solution, for PyCharm users, is to setup one or more \u0026apos;Source Roots\u0026apos;. From the PyCharm docs   \u0026quot;PyCharm uses the source roots as the starting point for resolving imports.\u0026quot;  - \u0026lt;a href=\u0026quot;https://www.jetbrains.com/help/pycharm/configuring-project-structure.html\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;jetbrains.com/help/pycharm/configuring-project-structure.html\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/929289/brian-wylie\u0026quot; title=\u0026quot;1,907 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Brian Wylie\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment115878422_52657007\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2021-01-02 18:10:03Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jan 2, 2021 at 18:10\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;You said you use Pycharm. It manages imports by itself, and you have to manually copy them every time. Not good solution.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/2112218/smit-johnth\u0026quot; title=\u0026quot;1,734 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Smit Johnth\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment115965055_52657007\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2021-01-06 03:15:33Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jan 6, 2021 at 3:15\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;\u0026quot;Perhaps this is obvious\u0026quot; .. umm \u0026lt;i\u0026gt;that\u0026lt;/i\u0026gt; code is obvious?    I\u0026apos;m going to stash it away somewhere in any case - given I live and die by JetBrains tools..\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1056563/westcoastprojects\u0026quot; title=\u0026quot;53,646 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;WestCoastProjects\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment127395028_52657007\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2022-05-03 14:06:42Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;May 3 at 14:06\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;This is in @BrenBarn\u0026apos;s answer, but it\u0026apos;s the TL;DR of it. OP and anyone else looking for answers, this is it. Took me forever to find this elsewhere.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/9392211/levi-lesches\u0026quot; title=\u0026quot;1,276 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Levi Lesches\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment120089568_65589847\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2021-06-11 19:48:03Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jun 11, 2021 at 19:48\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;What is even more confusing is that when you install a package, absolute imports don\u0026apos;t work for me. i need to use from \u0026lt;code\u0026gt;.submodule import module\u0026lt;/code\u0026gt;. When i use \u0026lt;code\u0026gt;import submodule.module\u0026lt;/code\u0026gt;  or \u0026lt;code\u0026gt;from submodule import module\u0026lt;/code\u0026gt;, it can\u0026apos;t be found, even when the folder is right in the package folder.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/802494/spartan\u0026quot; title=\u0026quot;422 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Spartan\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment128352569_65589847\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2022-06-17 17:53:50Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jun 17 at 17:53\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Hoping you can guide me on this. In the following link, if you go to Case 3, it says solution 1 is not possible. Please can you check this and let me know. It will help me immensely. \u0026lt;a href=\u0026quot;https://chrisyeh96.github.io/2017/08/08/definitive-guide-python-imports.htm\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;chrisyeh96.github.io/2017/08/08/\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1779091/variable\u0026quot; title=\u0026quot;6,417 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;variable\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment103264611_57421753\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2019-10-19 14:41:34Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 19, 2019 at 14:41\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@variable there\u0026apos;s a typo in the link and I\u0026apos;m not allowed to edit. Looked at case 3 and didn\u0026apos;t follow exactly what you\u0026apos;re getting at. When I tried that example in python 2 there were no issues which makes me think I missed something. Maybe you should post a new question but need to provide a clearer example. Case 4 touches on what I\u0026apos;m talking about in my answer here: you can\u0026apos;t go up a directory for relative import UNLESS the interpreter starts in a parent directory\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/4228110/brad-dre\u0026quot; title=\u0026quot;2,947 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Brad Dre\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment103600925_57421753\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2019-10-31 16:54:29Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 31, 2019 at 16:54\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Thanks I\u0026apos;m referring to python 3 and here the question \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/58577767/python-m-switch-to-run-module-inside-package\u0026quot; title=\u0026quot;python m switch to run module inside package\u0026quot;\u0026gt;stackoverflow.com/questions/58577767/\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1779091/variable\u0026quot; title=\u0026quot;6,417 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;variable\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment103605205_57421753\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2019-10-31 19:39:24Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 31, 2019 at 19:39\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;That looks better... too bad it still requires you to embed the name of the parent directory in the file... maybe that can be improved with importlib. Maybe importlib can even be monkeypatched to make relative import \u0026quot;just work\u0026quot; for simple use cases. I\u0026apos;ll take a crack at it.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/139802/andrew-wagner\u0026quot; title=\u0026quot;20,347 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Andrew Wagner\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment72685348_38455936\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2017-03-14 12:11:23Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Mar 14, 2017 at 12:11\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I\u0026apos;m using python 2.7.14 though. Would something like this still work ?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/3474042/chumbichubago\u0026quot; title=\u0026quot;758 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;ChumbiChubaGo\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment84429378_38455936\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-02-09 22:38:35Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Feb 9, 2018 at 22:38\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I just tested both approaches on python 2.7.10 and they worked fine for me. If fact, you do not have the problem of a deprecated imp module in 2.7, so all the better.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/6321929/lars\u0026quot; title=\u0026quot;175 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Lars\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment84573626_38455936\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2018-02-14 11:32:24Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Feb 14, 2018 at 11:32\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Ah, so you mention -m.  That makes your module execute as a script - if you stick an if __name__ == \u0026apos;__main__\u0026apos; in there you should see that it is \u0026apos;__main__\u0026apos; because of the -m.  Try just importing your module into another module so it is not the top level... that should allow you to do the relative import\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1936075/theodox\u0026quot; title=\u0026quot;11,813 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;theodox\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment19567609_14132870\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-01-03 04:03:42Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jan 3, 2013 at 4:03\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 3 times\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I tried to do these imports from the console, with the active file being the correct module.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;span class=\u0026quot;comment-user\u0026quot;\u0026gt;user1881400\u0026lt;/span\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment19567883_14132870\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-01-03 04:24:00Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jan 3, 2013 at 4:24\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@Stopforgettingmyaccounts...: What do you mean the \u0026quot;active file\u0026quot;?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1427416/brenbarn\u0026quot; title=\u0026quot;229,339 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;BrenBarn\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment19567900_14132870\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-01-03 04:25:10Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jan 3, 2013 at 4:25\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I use Pyscripter.  I was in moduleX.py when I ran these imports: from .moduleY import spam \u0026lt;i\u0026gt;and\u0026lt;/i\u0026gt; from . import ModuleY.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;span class=\u0026quot;comment-user\u0026quot;\u0026gt;user1881400\u0026lt;/span\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment19568381_14132870\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-01-03 05:02:34Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jan 3, 2013 at 5:02\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Not import .moduleY followed by moduleY.spam()?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1936075/theodox\u0026quot; title=\u0026quot;11,813 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;theodox\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment19568749_14132870\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2013-01-03 05:29:35Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jan 3, 2013 at 5:29\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        "],"id":365,"title":"Relative imports for the billionth time","content":"\n                \n\u0026lt;p\u0026gt;I\u0026apos;ve been here:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://www.python.org/dev/peps/pep-0328/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://www.python.org/dev/peps/pep-0328/\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://docs.python.org/2/tutorial/modules.html#packages\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://docs.python.org/2/tutorial/modules.html#packages\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/10059002/python-packages-relative-imports\u0026quot;\u0026gt;Python packages: relative imports\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/9123062/python-relative-import-example-code-does-not-work\u0026quot;\u0026gt;python relative import example code does not work\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/8299270/ultimate-answer-to-relative-python-imports\u0026quot;\u0026gt;Relative imports in python 2.5\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/4175534/relative-imports-in-python\u0026quot;\u0026gt;Relative imports in Python\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/13233931/python-disabling-relative-import?rq=1\u0026quot;\u0026gt;Python: Disabling relative import\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;and plenty of URLs that I did not copy, some on SO, some on other sites, back when I thought I\u0026apos;d have the solution quickly.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The forever-recurring question is this: how do I solve this \u0026quot;Attempted relative import in non-package\u0026quot; message?\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;ImportError: attempted relative \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;with\u0026lt;/span\u0026gt; no known parent package\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;I built an exact replica of the package on pep-0328:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;package/\n    __init__.py\n    subpackage1/\n        __init__.py\n        moduleX.py\n        moduleY.py\n    subpackage2/\n        __init__.py\n        moduleZ.py\n    moduleA.py\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The imports were done from the console.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I did make functions named spam and eggs in their appropriate modules.  Naturally, it didn\u0026apos;t work.  The answer is apparently in the 4th URL I listed, but it\u0026apos;s all alumni to me. There was this response on one of the URLs I visited:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;Relative imports use a module\u0026apos;s name attribute to determine that module\u0026apos;s position in the package hierarchy. If the module\u0026apos;s name does not contain any package information (e.g. it is set to \u0026apos;main\u0026apos;) then relative imports are resolved as if the module were a top level module, regardless of where the module is actually located on the file system.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;The above response looks promising, but it\u0026apos;s all hieroglyphs to me.  So my question, how do I make Python not return to me \u0026quot;Attempted relative import in non-package\u0026quot;? has an answer that involves -m, supposedly.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Can somebody please tell me why Python gives that error message, what it means by \u0026quot;non-package\u0026quot;, why and how do you define a \u0026apos;package\u0026apos;, and \u0026lt;em\u0026gt;the precise answer put in terms easy enough for a kindergartener to understand\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n    ","slug":"relative-imports-for-the-billionth-time-1657387756383","postType":"QUESTION","createdAt":"2022-07-09T17:29:16.000Z","updatedAt":"2022-07-09T17:29:16.000Z","tags":[{"id":2023,"name":"python-packaging","slug":"python-packaging","createdAt":"2022-07-09T17:29:16.000Z","updatedAt":"2022-07-09T17:29:16.000Z","Questions_Tags":{"questionId":365,"tagId":2023}}]}]}},"__N_SSG":true},"page":"/questions/tag/[slug]","query":{"slug":"python-packaging"},"buildId":"4Y8KGE-c2lolBeBmcum_I","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>