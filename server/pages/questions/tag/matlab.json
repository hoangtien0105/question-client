{"pageProps":{"data":{"count":1,"rows":[{"answer":["\n&lt;p&gt;The problem you&apos;re having relates to how &lt;a href=&quot;https://www.mathworks.com/help/matlab/matlab_prog/floating-point-numbers.html&quot; rel=&quot;noreferrer&quot;&gt;floating-point numbers&lt;/a&gt; are represented on a computer. A more detailed discussion of floating-point representations appears towards the end of my answer (The &quot;Floating-point representation&quot; section). The &lt;strong&gt;TL;DR&lt;/strong&gt; version: because computers have finite amounts of memory, numbers can only be represented with finite precision. Thus, the accuracy of floating-point numbers is limited to a certain number of decimal places (about 16 significant digits for &lt;a href=&quot;https://en.wikipedia.org/wiki/Double-precision_floating-point_format&quot; rel=&quot;noreferrer&quot;&gt;double-precision values&lt;/a&gt;, the default used in MATLAB).&lt;/p&gt;\n\n&lt;h2&gt;Actual vs. displayed precision&lt;/h2&gt;\n\n&lt;p&gt;Now to address the specific example in the question... &lt;strong&gt;while &lt;code&gt;24.0000&lt;/code&gt; and &lt;code&gt;24.0000&lt;/code&gt; are &lt;em&gt;displayed&lt;/em&gt; in the same manner, it turns out that they actually differ by very small decimal amounts in this case. You don&apos;t see it because MATLAB &lt;a href=&quot;https://www.mathworks.com/help/matlab/ref/format.html&quot; rel=&quot;noreferrer&quot;&gt;only displays 4 significant digits by default&lt;/a&gt;, keeping the overall display neat and tidy.&lt;/strong&gt; If you want to see the full precision, you should either issue the &lt;code&gt;format long&lt;/code&gt; command or view a &lt;a href=&quot;https://www.mathworks.com/help/matlab/ref/num2hex.html&quot; rel=&quot;noreferrer&quot;&gt;hexadecimal representation&lt;/a&gt; of the number:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-matlab s-code-block&quot;&gt;&lt;code class=&quot;hljs language-matlab&quot;&gt;&amp;gt;&amp;gt; &lt;span class=&quot;hljs-built_in&quot;&gt;pi&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;ans&lt;/span&gt; =\n    &lt;span class=&quot;hljs-number&quot;&gt;3.1416&lt;/span&gt;\n&amp;gt;&amp;gt; format long\n&amp;gt;&amp;gt; &lt;span class=&quot;hljs-built_in&quot;&gt;pi&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;ans&lt;/span&gt; =\n   &lt;span class=&quot;hljs-number&quot;&gt;3.141592653589793&lt;/span&gt;\n&amp;gt;&amp;gt; num2hex(&lt;span class=&quot;hljs-built_in&quot;&gt;pi&lt;/span&gt;)\n&lt;span class=&quot;hljs-built_in&quot;&gt;ans&lt;/span&gt; =\n&lt;span class=&quot;hljs-number&quot;&gt;400921&lt;/span&gt;fb54442d18\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;Initialized values vs. computed values&lt;/h2&gt;\n\n&lt;p&gt;Since there are only a finite number of values that can be represented for a floating-point number, it&apos;s possible for a computation to result in a value that falls between two of these representations. In such a case, the result has to be rounded off to one of them. This introduces a small &lt;a href=&quot;https://en.wikipedia.org/wiki/Machine_epsilon&quot; rel=&quot;noreferrer&quot;&gt;machine-precision error&lt;/a&gt;. This also means that initializing a value directly or by some computation can give slightly different results. For example, the value &lt;code&gt;0.1&lt;/code&gt; doesn&apos;t have an &lt;em&gt;exact&lt;/em&gt; floating-point representation (i.e. it gets slightly rounded off), and so you end up with counter-intuitive results like this due to the way round-off errors accumulate:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-matlab s-code-block&quot;&gt;&lt;code class=&quot;hljs language-matlab&quot;&gt;&amp;gt;&amp;gt; a=sum([&lt;span class=&quot;hljs-number&quot;&gt;0.1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.1&lt;/span&gt;]);  &lt;span class=&quot;hljs-comment&quot;&gt;% Sum 10 0.1s&lt;/span&gt;\n&amp;gt;&amp;gt; b=&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;                                               &lt;span class=&quot;hljs-comment&quot;&gt;% Initialize to 1&lt;/span&gt;\n&amp;gt;&amp;gt; a == b\n&lt;span class=&quot;hljs-built_in&quot;&gt;ans&lt;/span&gt; =\n  logical\n   &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;                &lt;span class=&quot;hljs-comment&quot;&gt;% They are unequal!&lt;/span&gt;\n&amp;gt;&amp;gt; num2hex(a)       &lt;span class=&quot;hljs-comment&quot;&gt;% Let&apos;s check their hex representation to confirm&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;ans&lt;/span&gt; =\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;fefffffffffffff\n&amp;gt;&amp;gt; num2hex(b)\n&lt;span class=&quot;hljs-built_in&quot;&gt;ans&lt;/span&gt; =\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;ff0000000000000\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;How to correctly handle floating-point comparisons&lt;/h2&gt;\n\n&lt;p&gt;Since floating-point values can differ by very small amounts, any comparisons should be done by checking that the values are within some range (i.e. tolerance) of one another, as opposed to exactly equal to each other. For example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-matlab s-code-block&quot;&gt;&lt;code class=&quot;hljs language-matlab&quot;&gt;a = &lt;span class=&quot;hljs-number&quot;&gt;24&lt;/span&gt;;\nb = &lt;span class=&quot;hljs-number&quot;&gt;24.000001&lt;/span&gt;;\ntolerance = &lt;span class=&quot;hljs-number&quot;&gt;0.001&lt;/span&gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;abs&lt;/span&gt;(a-b) &amp;lt; tolerance, &lt;span class=&quot;hljs-built_in&quot;&gt;disp&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Equal!&apos;&lt;/span&gt;); &lt;span class=&quot;hljs-keyword&quot;&gt;end&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;will display &quot;Equal!&quot;.&lt;/p&gt;\n\n&lt;p&gt;You could then change your code to something like:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-matlab s-code-block&quot;&gt;&lt;code class=&quot;hljs language-matlab&quot;&gt;points = points((&lt;span class=&quot;hljs-built_in&quot;&gt;abs&lt;/span&gt;(points(:,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)-vertex1(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)) &amp;gt; tolerance) | ...\n                (&lt;span class=&quot;hljs-built_in&quot;&gt;abs&lt;/span&gt;(points(:,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;)-vertex1(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;)) &amp;gt; tolerance),:)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;h1&gt;Floating-point representation&lt;/h1&gt;\n\n&lt;p&gt;A good overview of floating-point numbers (and specifically the &lt;a href=&quot;https://en.wikipedia.org/wiki/IEEE_floating_point&quot; rel=&quot;noreferrer&quot;&gt;IEEE 754 standard for floating-point arithmetic&lt;/a&gt;) is &lt;a href=&quot;http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;em&gt;What Every Computer Scientist Should Know About Floating-Point Arithmetic&lt;/em&gt;&lt;/a&gt; by David Goldberg.&lt;/p&gt;\n\n&lt;p&gt;A binary floating-point number is actually represented by three integers: a sign bit &lt;code&gt;s&lt;/code&gt;, a significand (or coefficient/fraction) &lt;code&gt;b&lt;/code&gt;, and an exponent &lt;code&gt;e&lt;/code&gt;. &lt;a href=&quot;https://en.wikipedia.org/wiki/Double-precision_floating-point_format&quot; rel=&quot;noreferrer&quot;&gt;For double-precision floating-point format&lt;/a&gt;, each number is represented by 64 bits laid out in memory as follows:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/KTTPX.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/KTTPX.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;The real value can then be found with the following formula:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/nV0ly.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/nV0ly.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;This format allows for number representations in the range 10^-308 to 10^308. For MATLAB you can get these limits from &lt;a href=&quot;https://www.mathworks.com/help/matlab/ref/realmin.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;realmin&lt;/code&gt;&lt;/a&gt; and &lt;a href=&quot;https://www.mathworks.com/help/matlab/ref/realmax.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;realmax&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-matlab s-code-block&quot;&gt;&lt;code class=&quot;hljs language-matlab&quot;&gt;&amp;gt;&amp;gt; &lt;span class=&quot;hljs-built_in&quot;&gt;realmin&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;ans&lt;/span&gt; =\n    &lt;span class=&quot;hljs-number&quot;&gt;2.225073858507201e-308&lt;/span&gt;\n&amp;gt;&amp;gt; &lt;span class=&quot;hljs-built_in&quot;&gt;realmax&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;ans&lt;/span&gt; =\n    &lt;span class=&quot;hljs-number&quot;&gt;1.797693134862316e+308&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Since there are a finite number of bits used to represent a floating-point number, there are only so many finite numbers that can be represented within the above given range. Computations will often result in a value that doesn&apos;t exactly match one of these finite representations, so the values must be rounded off. These &lt;a href=&quot;https://en.wikipedia.org/wiki/Machine_epsilon&quot; rel=&quot;noreferrer&quot;&gt;machine-precision errors&lt;/a&gt; make themselves evident in different ways, as discussed in the above examples.&lt;/p&gt;\n\n&lt;p&gt;In order to better understand these round-off errors it&apos;s useful to look at the relative floating-point accuracy provided by the function &lt;a href=&quot;https://www.mathworks.com/help/matlab/ref/eps.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;eps&lt;/code&gt;&lt;/a&gt;, which quantifies the distance from a given number to the next largest floating-point representation:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-matlab s-code-block&quot;&gt;&lt;code class=&quot;hljs language-matlab&quot;&gt;&amp;gt;&amp;gt; &lt;span class=&quot;hljs-built_in&quot;&gt;eps&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n&lt;span class=&quot;hljs-built_in&quot;&gt;ans&lt;/span&gt; =\n     &lt;span class=&quot;hljs-number&quot;&gt;2.220446049250313e-16&lt;/span&gt;\n&amp;gt;&amp;gt; &lt;span class=&quot;hljs-built_in&quot;&gt;eps&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1000&lt;/span&gt;)\n&lt;span class=&quot;hljs-built_in&quot;&gt;ans&lt;/span&gt; =\n     &lt;span class=&quot;hljs-number&quot;&gt;1.136868377216160e-13&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Notice that the precision is &lt;em&gt;relative&lt;/em&gt; to the size of a given number being represented; larger numbers will have larger distances between floating-point representations, and will thus have fewer digits of precision following the decimal point. This can be an important consideration with some calculations. Consider the following example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-matlab s-code-block&quot;&gt;&lt;code class=&quot;hljs language-matlab&quot;&gt;&amp;gt;&amp;gt; format long              &lt;span class=&quot;hljs-comment&quot;&gt;% Display full precision&lt;/span&gt;\n&amp;gt;&amp;gt; x = &lt;span class=&quot;hljs-built_in&quot;&gt;rand&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;);         &lt;span class=&quot;hljs-comment&quot;&gt;% Get 10 random values between 0 and 1&lt;/span&gt;\n&amp;gt;&amp;gt; a = &lt;span class=&quot;hljs-built_in&quot;&gt;mean&lt;/span&gt;(x)              &lt;span class=&quot;hljs-comment&quot;&gt;% Take the mean&lt;/span&gt;\na =\n   &lt;span class=&quot;hljs-number&quot;&gt;0.587307428244141&lt;/span&gt;\n&amp;gt;&amp;gt; b = &lt;span class=&quot;hljs-built_in&quot;&gt;mean&lt;/span&gt;(x+&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;)&lt;span class=&quot;hljs-number&quot;&gt;-10000&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;% Take the mean at a different scale, then shift back&lt;/span&gt;\nb =\n   &lt;span class=&quot;hljs-number&quot;&gt;0.587307428244458&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Note that when we shift the values of &lt;code&gt;x&lt;/code&gt; from the range &lt;code&gt;[0 1]&lt;/code&gt; to the range &lt;code&gt;[10000 10001]&lt;/code&gt;, compute a mean, then subtract the mean offset for comparison, we get a value that differs for the last 3 significant digits. This illustrates how an offset or scaling of data can change the accuracy of calculations performed on it, which is something that has to be accounted for with certain problems.&lt;/p&gt;\n    ","\n&lt;p&gt;Look at this article: &lt;a href=&quot;http://www.lahey.com/float.htm&quot; rel=&quot;noreferrer&quot;&gt;The Perils of Floating Point&lt;/a&gt;. Though its examples are in FORTRAN it has sense for virtually any modern programming language, including MATLAB. Your problem (and solution for it) is described in &quot;Safe Comparisons&quot; section.&lt;/p&gt;\n    ","\n&lt;p&gt;type&lt;/p&gt;\n\n&lt;pre class=&quot;lang-matlab s-code-block&quot;&gt;&lt;code class=&quot;hljs language-matlab&quot;&gt;format long g\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This command will show the FULL value of the number. It&apos;s likely to be something like 24.00000021321 != 24.00000123124&lt;/p&gt;\n    ","\n&lt;p&gt;Try writing &lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;0.1 + 0.1 + 0.1 == 0.3. &lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Warning: You might be surprised about the result!&lt;/p&gt;\n    ","\n&lt;p&gt;Maybe the two numbers are really 24.0 and 24.000000001 but you&apos;re not seeing all the decimal places.&lt;/p&gt;\n    ","\n&lt;p&gt;Check out the &lt;a href=&quot;https://www.mathworks.com/help/matlab/ref/eps.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;Matlab EPS function&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;Matlab uses floating point math up to 16 digits of precision (only 5 are displayed).&lt;/p&gt;\n    "],"comment":["\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;This has also been addressed &lt;a href=&quot;http://stackoverflow.com/questions/590822/dealing-with-accuracy-problems-in-floating-point-numbers/591120#591120&quot;&gt;here&lt;/a&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/59303/chrisf&quot; title=&quot;131,466 reputation&quot; class=&quot;comment-user&quot;&gt;ChrisF&lt;/a&gt;\n&lt;span class=&quot;mod-flair &quot; title=&quot;Moderator&quot;&gt;&lt;/span&gt;                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment34264609_686439&quot;&gt;&lt;span title=&quot;2009-03-26 16:28:18Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Mar 26, 2009 at 16:28&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@Kamran: Sorry I didn&apos;t point out the perils of floating point comparison when you asked about comparing values in your other question. It didn&apos;t immediately occur to me you might run into that problem.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/52738/gnovice&quot; title=&quot;124,459 reputation&quot; class=&quot;comment-user&quot;&gt;gnovice&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment500151_686439&quot;&gt;&lt;span title=&quot;2009-03-26 16:43:00Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Mar 26, 2009 at 16:43&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;As a side note, compare &lt;code&gt;1.2 - 0.2 - 1 == 0&lt;/code&gt; and &lt;code&gt;1.2 - 1 - 0.2 == 0&lt;/code&gt;. Surprising, isn&apos;t it? When you&apos;re dealing with floating-point numbers, the order of operations matters.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/2541573/jub0bs&quot; title=&quot;54,649 reputation&quot; class=&quot;comment-user&quot;&gt;jub0bs&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment41314963_686439&quot;&gt;&lt;span title=&quot;2014-10-12 12:51:49Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Oct 12, 2014 at 12:51&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@Tick Tock: As the author of the question, I could not even understand the title you chose for my question. Also it did not reflect the fact that MATLAB does not show the entire floating point part of the number when you print out the variable.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/81306/kamran-bigdely&quot; title=&quot;7,346 reputation&quot; class=&quot;comment-user owner&quot;&gt;Kamran Bigdely&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment65407685_686439&quot;&gt;&lt;span title=&quot;2016-08-18 22:34:19Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Aug 18, 2016 at 22:34&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@m7913d, I see. but usually they put the &apos;duplicate&apos; label on the newer question. Please read the rules for duplicate label: &lt;a href=&quot;https://meta.stackexchange.com/questions/10841/how-should-duplicate-questions-be-handled&quot; title=&quot;how should duplicate questions be handled&quot;&gt;meta.stackexchange.com/questions/10841/&lt;/a&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/81306/kamran-bigdely&quot; title=&quot;7,346 reputation&quot; class=&quot;comment-user owner&quot;&gt;Kamran Bigdely&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment74619068_686439&quot;&gt;&lt;span title=&quot;2017-05-04 17:28:05Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;May 4, 2017 at 17:28&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 2 times&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;why can&apos;t I see that small decimal amount?&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/81306/kamran-bigdely&quot; title=&quot;7,346 reputation&quot; class=&quot;comment-user owner&quot;&gt;Kamran Bigdely&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment500019_686454&quot;&gt;&lt;span title=&quot;2009-03-26 16:18:00Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Mar 26, 2009 at 16:18&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;you can see it if you view the variable in the matrix view. Right click on variable -&amp;gt; &quot;View selection&quot; or something? I don&apos;t have MATLAB here, so I can&apos;t check.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/37257/atsjoo&quot; title=&quot;2,352 reputation&quot; class=&quot;comment-user&quot;&gt;atsjoo&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment500031_686454&quot;&gt;&lt;span title=&quot;2009-03-26 16:20:37Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Mar 26, 2009 at 16:20&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;You can also see small differences by typing &quot;format long&quot; at the command prompt.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/52738/gnovice&quot; title=&quot;124,459 reputation&quot; class=&quot;comment-user&quot;&gt;gnovice&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment500038_686454&quot;&gt;&lt;span title=&quot;2009-03-26 16:23:04Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Mar 26, 2009 at 16:23&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;you are right: format long points =    12.000000000000000  15.000000000000000   33.000000000000000  23.999999999999996   33.000000000000000  24.000000000000000&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/81306/kamran-bigdely&quot; title=&quot;7,346 reputation&quot; class=&quot;comment-user owner&quot;&gt;Kamran Bigdely&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment500981_686454&quot;&gt;&lt;span title=&quot;2009-03-26 20:02:22Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Mar 26, 2009 at 20:02&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;&quot;format hex&quot; can sometimes help even more than format long here.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/169781/sam-roberts&quot; title=&quot;23,752 reputation&quot; class=&quot;comment-user&quot;&gt;Sam Roberts&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment1375414_686454&quot;&gt;&lt;span title=&quot;2009-10-05 15:25:19Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Oct 5, 2009 at 15:25&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;I discovered it some time ago and was very impressed with it =) Now I always recommend it in similar situations.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/11732/rorick&quot; title=&quot;8,727 reputation&quot; class=&quot;comment-user&quot;&gt;Rorick&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment502526_686467&quot;&gt;&lt;span title=&quot;2009-03-27 08:26:14Z, License: CC BY-SA 2.5&quot; class=&quot;relativetime-clean&quot;&gt;Mar 27, 2009 at 8:26&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;&lt;a href=&quot;https://web.archive.org/web/20180712123630/http://www.lahey.com/float.htm&quot; rel=&quot;nofollow noreferrer&quot;&gt;Archived version&lt;/a&gt; of this excellent resource!&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/2980080/wizclown&quot; title=&quot;303 reputation&quot; class=&quot;comment-user&quot;&gt;wizclown&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment89588296_686467&quot;&gt;&lt;span title=&quot;2018-07-12 12:37:38Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jul 12, 2018 at 12:37&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;I tried it and it returns 0. But I don&apos;t see what it has to do, with the problem above. Can you pls explain it to me?&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/5306400/max&quot; title=&quot;1,431 reputation&quot; class=&quot;comment-user&quot;&gt;Max&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment53059286_8510105&quot;&gt;&lt;span title=&quot;2015-09-16 08:46:10Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Sep 16, 2015 at 8:46&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;This is because 0.1 comes with some floating point error, and when you add three such terms together, the errors do not necessarily add up to 0. The same issue is causing (floating) 24 to not be exactly equal to (another floating) 24.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/400119/derek&quot; title=&quot;636 reputation&quot; class=&quot;comment-user&quot;&gt;Derek&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment59259031_8510105&quot;&gt;&lt;span title=&quot;2016-03-04 11:14:59Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Mar 4, 2016 at 11:14&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        "],"id":545,"title":"Why is 24.0000 not equal to 24.0000 in MATLAB?","content":"\n                \n&lt;p&gt;I am writing a program where I need to delete duplicate points stored in a matrix. The problem is that when it comes to check whether those points are in the matrix, MATLAB can&apos;t recognize them in the matrix although they exist.&lt;/p&gt;\n\n&lt;p&gt;In the following code, &lt;code&gt;intersections&lt;/code&gt; function gets the intersection points:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-matlab s-code-block&quot;&gt;&lt;code class=&quot;hljs language-matlab&quot;&gt;[points(:,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;), points(:,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;)] = intersections(...\n    obj.modifiedVGVertices(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,:), obj.modifiedVGVertices(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,:), ...\n    [vertex1(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) vertex2(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)], [vertex1(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;) vertex2(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;)]);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The result:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-matlab s-code-block&quot;&gt;&lt;code class=&quot;hljs language-matlab&quot;&gt;&amp;gt;&amp;gt; points\npoints =\n   &lt;span class=&quot;hljs-number&quot;&gt;12.0000&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;15.0000&lt;/span&gt;\n   &lt;span class=&quot;hljs-number&quot;&gt;33.0000&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;24.0000&lt;/span&gt;\n   &lt;span class=&quot;hljs-number&quot;&gt;33.0000&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;24.0000&lt;/span&gt;\n\n&amp;gt;&amp;gt; vertex1\nvertex1 =\n    &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;\n    &lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;\n\n&amp;gt;&amp;gt; vertex2    \nvertex2 =\n    &lt;span class=&quot;hljs-number&quot;&gt;33&lt;/span&gt;\n    &lt;span class=&quot;hljs-number&quot;&gt;24&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Two points (&lt;code&gt;vertex1&lt;/code&gt; and &lt;code&gt;vertex2&lt;/code&gt;) should be eliminated from the result. It should be done by the below commands:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-matlab s-code-block&quot;&gt;&lt;code class=&quot;hljs language-matlab&quot;&gt;points = points((points(:,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) ~= vertex1(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)) | (points(:,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;) ~= vertex1(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;)), :);\npoints = points((points(:,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) ~= vertex2(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)) | (points(:,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;) ~= vertex2(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;)), :);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;After doing that, we have this unexpected outcome:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-matlab s-code-block&quot;&gt;&lt;code class=&quot;hljs language-matlab&quot;&gt;&amp;gt;&amp;gt; points\npoints =\n   &lt;span class=&quot;hljs-number&quot;&gt;33.0000&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;24.0000&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The outcome should be an empty matrix. As you can see, the first (or second?) pair of &lt;code&gt;[33.0000 24.0000]&lt;/code&gt; has been eliminated, but not the second one.&lt;/p&gt;\n\n&lt;p&gt;Then I checked these two expressions:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-matlab s-code-block&quot;&gt;&lt;code class=&quot;hljs language-matlab&quot;&gt;&amp;gt;&amp;gt; points(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) ~= vertex2(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n&lt;span class=&quot;hljs-built_in&quot;&gt;ans&lt;/span&gt; =\n     &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;\n&amp;gt;&amp;gt; points(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;) ~= vertex2(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;)\n&lt;span class=&quot;hljs-built_in&quot;&gt;ans&lt;/span&gt; =\n     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;hljs-comment&quot;&gt;% &amp;lt;-- It means 24.0000 is not equal to 24.0000?&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;What is the problem?&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;More surprisingly, I made a new script that has only these commands:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-matlab s-code-block&quot;&gt;&lt;code class=&quot;hljs language-matlab&quot;&gt;points = [&lt;span class=&quot;hljs-number&quot;&gt;12.0000&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;15.0000&lt;/span&gt;\n          &lt;span class=&quot;hljs-number&quot;&gt;33.0000&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;24.0000&lt;/span&gt;\n          &lt;span class=&quot;hljs-number&quot;&gt;33.0000&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;24.0000&lt;/span&gt;];\n\nvertex1 = [&lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt; ;  &lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;];\nvertex2 = [&lt;span class=&quot;hljs-number&quot;&gt;33&lt;/span&gt; ;  &lt;span class=&quot;hljs-number&quot;&gt;24&lt;/span&gt;];\n\npoints = points((points(:,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) ~= vertex1(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)) | (points(:,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;) ~= vertex1(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;)), :);\npoints = points((points(:,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) ~= vertex2(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)) | (points(:,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;) ~= vertex2(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;)), :);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The result as expected:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-matlab s-code-block&quot;&gt;&lt;code class=&quot;hljs language-matlab&quot;&gt;&amp;gt;&amp;gt; points\npoints =  \n   Empty matrix: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-by&lt;span class=&quot;hljs-number&quot;&gt;-2&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","slug":"why-is-24.0000-not-equal-to-24.0000-in-matlab-1657388376753","postType":"QUESTION","createdAt":"2022-07-09T17:39:36.000Z","updatedAt":"2022-07-09T17:39:36.000Z","tags":[{"id":2657,"name":"matlab","slug":"matlab","createdAt":"2022-07-09T17:39:36.000Z","updatedAt":"2022-07-09T17:39:36.000Z","Questions_Tags":{"questionId":545,"tagId":2657}}]}]}},"__N_SSG":true}