<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/2eccd4d47c856f2b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2eccd4d47c856f2b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-20edbe0b078add93.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/613-1e0aa2b2023820bb.js" defer=""></script><script src="/_next/static/chunks/495-bb1d5b202c02d7f2.js" defer=""></script><script src="/_next/static/chunks/81-096e453de8a27667.js" defer=""></script><script src="/_next/static/chunks/pages/questions/tag/%5Bslug%5D-6802ea06aeddcbec.js" defer=""></script><script src="/_next/static/4Y8KGE-c2lolBeBmcum_I/_buildManifest.js" defer=""></script><script src="/_next/static/4Y8KGE-c2lolBeBmcum_I/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.5"></style></head><body><div id="__next"><div class="sc-9099c029-0 cIPEih"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="https://flowbite.com/docs/images/logo.svg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo"/><span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Hunter</span></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/tag/blob#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="sc-c5440139-0 figLul question my-5"><div class="flex items-center justify-center"><div class="rounded-xl border p-5 shadow-md w-9/12 bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/storing-images-in-db-yea-or-nay-1657387248067">Storing Images in DB - Yea or Nay?</a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/blob">blob</a></div></div><div class="mt-4 mb-6" style="height:100px;overflow:auto"><h4 class="font-semibold">Solution 1:</h4><div class="text-sm bg-green-100 text-neutral-600">
<p>I'm in charge of some applications that manage many TB of images.  We've found that storing <strong>file paths</strong> in the database to be best.</p>

<p>There are a couple of issues:</p>

<ul>
<li>database storage is usually more expensive than file system storage</li>
<li>you can super-accelerate file system access with standard off the shelf products

<ul>
<li>for example, many web servers use the operating system's <strong>sendfile()</strong> system call to asynchronously send a file directly from the file system to the network interface. Images stored in a database don't benefit from this optimization.</li>
</ul></li>
<li>things like web servers, etc, need no special coding or processing to access images in the file system</li>
<li>databases win out where transactional integrity between the image and metadata are important.

<ul>
<li>it is more complex to manage integrity between db metadata and file system data</li>
<li>it is difficult (within the context of a web application) to guarantee data has been flushed to disk on the filesystem</li>
</ul></li>
</ul>
    </div></div><div><div class="flex items-center justify-between text-slate-500"><div class="flex space-x-4 md:space-x-8"><div class="flex cursor-pointer items-center transition hover:text-slate-600"><svg xmlns="http://www.w3.org/2000/svg" class="mr-1.5 h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"></path></svg><span>4</span></div></div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"count":1,"rows":[{"answer":["\n\u0026lt;p\u0026gt;I\u0026apos;m in charge of some applications that manage many TB of images.  We\u0026apos;ve found that storing \u0026lt;strong\u0026gt;file paths\u0026lt;/strong\u0026gt; in the database to be best.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;There are a couple of issues:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;database storage is usually more expensive than file system storage\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;you can super-accelerate file system access with standard off the shelf products\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;for example, many web servers use the operating system\u0026apos;s \u0026lt;strong\u0026gt;sendfile()\u0026lt;/strong\u0026gt; system call to asynchronously send a file directly from the file system to the network interface. Images stored in a database don\u0026apos;t benefit from this optimization.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;things like web servers, etc, need no special coding or processing to access images in the file system\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;databases win out where transactional integrity between the image and metadata are important.\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;it is more complex to manage integrity between db metadata and file system data\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;it is difficult (within the context of a web application) to guarantee data has been flushed to disk on the filesystem\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;As with most issues, it\u0026apos;s not as simple as it sounds. There are cases where it would make sense to store the images in the database. \u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;You are storing images that are\nchanging dynamically, say invoices and you wanted\nto get an invoice as it was on 1 Jan\n2007?\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The government wants you to maintain 6 years of history\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Images stored in the database do not require a different backup strategy. Images stored on filesystem do\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;It is easier to control access to the images if they are in a database. Idle admins can access any folder on disk. It takes a really determined admin to go snooping in a database to extract the images\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;On the other hand there are problems associated\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Require additional code to extract\nand stream the images \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Latency may be\n    slower than direct file access    \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Heavier load on the database server\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;File store.  Facebook engineers had a great talk about it.  One take away was to know the practical limit of files in a directory.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://perspectives.mvdirona.com/2008/06/30/FacebookNeedleInAHaystackEfficientStorageOfBillionsOfPhotos.aspx\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Needle in a Haystack: Efficient Storage of Billions of Photos\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This might be a bit of a long shot, but if you\u0026apos;re using (or planning on using) SQL Server 2008 I\u0026apos;d recommend having a look at the new \u0026lt;a href=\u0026quot;http://msdn.microsoft.com/en-us/library/bb933993(SQL.100).aspx\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;FileStream\u0026lt;/a\u0026gt; data type.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;FileStream solves most of the problems around storing the files in the DB:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;The Blobs are actually stored as files in a folder.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The Blobs can be accessed using \u0026lt;em\u0026gt;either\u0026lt;/em\u0026gt; a database connection \u0026lt;em\u0026gt;or\u0026lt;/em\u0026gt; over the filesystem.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Backups are integrated.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Migration \u0026quot;just works\u0026quot;.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;However SQL\u0026apos;s \u0026quot;Transparent Data Encryption\u0026quot; does not encrypt FileStream objects, so if that is a consideration, you may be better off just storing them as varbinary.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;From the MSDN Article:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Transact-SQL statements can insert, update, query, search, and back up FILESTREAM data. Win32 file system interfaces provide streaming access to the data.\u0026lt;br\u0026gt;\n  FILESTREAM uses the NT system cache for caching file data. This helps reduce any effect that FILESTREAM data might have on Database Engine performance. The SQL Server buffer pool is not used; therefore, this memory is available for query processing.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n    ","\n\u0026lt;p\u0026gt;File paths in the DB is \u0026lt;strong\u0026gt;definitely\u0026lt;/strong\u0026gt; the way to go - I\u0026apos;ve heard story after story from customers with TB of images that it became a nightmare trying to store any significant amount of images in a DB - the performance hit alone is too much.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In my experience, sometimes the simplest solution is to \u0026lt;strong\u0026gt;name the images according to the primary key\u0026lt;/strong\u0026gt;. So it\u0026apos;s easy to find the image that belongs to a particular record, and vice versa. But at the same time you\u0026apos;re not storing \u0026lt;em\u0026gt;anything\u0026lt;/em\u0026gt; about the image in the database.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The trick here is to not become a zealot. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;One thing to note here is that no one in the pro file system camp has listed a particular file system. Does this mean that everything from FAT16 to ZFS handily beats every database?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;No. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The truth is that many databases beat many files systems, even when we\u0026apos;re only talking about raw speed.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The correct course of action is to make the right decision for your precise scenario, and to do that, you\u0026apos;ll need some numbers and some use case estimates.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In places where you MUST guarantee referential integrity and ACID compliance, storing images in the database is required.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You cannot transactionaly guarantee that the image and the meta-data about that image stored in the database refer to the same file. In other words, it is impossible to guarantee that the file on the filesystem is only ever altered at the same time and in the same transaction as the metadata.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;As others have said SQL 2008 comes with a Filestream type that allows you to store a filename or identifier as a pointer in the db and automatically stores the image on your filesystem which is a great scenario.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you\u0026apos;re on an older database, then I\u0026apos;d say that if you\u0026apos;re storing it as blob data, then you\u0026apos;re really not going to get anything out of the database in the way of searching features, so it\u0026apos;s probably best to store an address on a filesystem, and store the image that way.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;That way you also save space on your filesystem, as you are only going to save the exact amount of space, or even compacted space on the filesystem.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Also, you could decide to save with some structure or elements that allow you to browse the raw images in your filesystem without any db hits, or transfer the files in bulk to another system, hard drive, S3 or another scenario - updating the location in your program, but keep the structure, again without much of a hit trying to bring the images out of your db when trying to increase storage.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Probably, it would also allow you to throw some caching element, based on commonly hit image urls into your web engine/program, so you\u0026apos;re saving yourself there as well.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Small static images (not more than a couple of megs) that are not frequently edited, should be stored in the database. This method has several benefits including easier portability (images are transferred with the database), easier backup/restore (images are backed up with the database) and better scalability (a file system folder with thousands of little thumbnail files sounds like a scalability nightmare to me).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Serving up images from a database is easy, just implement an http handler that serves the byte array returned from the DB server as a binary stream.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here\u0026apos;s an interesting white paper on the topic.  \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://research.microsoft.com/research/pubs/view.aspx?msr_tr_id=MSR-TR-2006-45\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;To BLOB or Not To BLOB: Large Object Storage in a Database or a Filesystem\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The answer is \u0026quot;It depends.\u0026quot;  Certainly it would depend upon the database server and its approach to blob storage.  It also depends on the type of data being stored in blobs, as well as how that data is to be accessed.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Smaller sized files can be efficiently stored and delivered using the database as the storage mechanism.  Larger files would probably be best stored using the file system, especially if they will be modified/updated often.  (blob fragmentation becomes an issue in regards to performance.)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Here\u0026apos;s an additional point to keep in mind.  One of the reasons supporting the use of a database to store the blobs is ACID compliance.  However, the approach that the testers used in the white paper, (Bulk Logged option of SQL Server,) which doubled SQL Server throughput, effectively changed the \u0026apos;D\u0026apos; in ACID to a \u0026apos;d,\u0026apos; as the blob data was not logged with the initial writes for the transaction.   Therefore, if full ACID compliance is an important requirement for your system, halve the SQL Server throughput figures for database writes when comparing file I/O to database blob I/O.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;One thing that I haven\u0026apos;t seen anyone mention yet but is definitely worth noting is that there are issues associated with storing large amounts of images in most filesystems too.  For example if you take the approach mentioned above and name each image file after the primary key, on most filesystems you will run into issues if you try to put all of the images in one big directory once you reach a very large number of images (e.g. in the hundreds of thousands or millions).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Once common solution to this is to hash them out into a balanced tree of subdirectories.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Something nobody has mentioned is that the DB guarantees atomic actions, transactional integrity and deals with concurrency. Even referentially integrity is out of the window with a filesystem - so how do you know your file names are really still correct?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you have your images in a file-system and someone is reading the file as you\u0026apos;re writing a new version or even deleting the file - what happens?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;We use blobs because they\u0026apos;re easier to manage (backup, replication, transfer) too. They work well for us.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The problem with storing only filepaths to images in a database is that the database\u0026apos;s integrity can no longer be forced.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If the actual image pointed to by the filepath becomes unavailable, the database unwittingly has an integrity error.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Given that the images are the actual data being sought after, and that they can be managed easier (the images won\u0026apos;t suddenly disappear) in one integrated database rather than having to interface with some kind of filesystem (if the filesystem is independently accessed, the images MIGHT suddenly \u0026quot;disappear\u0026quot;), I\u0026apos;d go for storing them directly as a BLOB or such.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;At a company where I used to work we stored 155 million images in an Oracle 8i (then 9i) database. 7.5TB worth.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Normally, I\u0026apos;m storngly against taking the most expensive and hardest to scale part of your infrastructure (the database) and putting all load into it. On the other hand: It greatly simplifies backup strategy, especially when you have multiple web servers and need to somehow keep the data synchronized.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Like most other things, It depends on the expected size and Budget.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;We have implemented a document imaging system that stores all it\u0026apos;s images in SQL2005 blob fields.  There are several hundred GB at the moment and we are seeing excellent response times and little or no performance degradation. In addition, fr regulatory compliance, we have a middleware layer that archives newly posted documents to an optical jukebox system which exposes them as a standard NTFS file system.  \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;We\u0026apos;ve been very pleased with the results, particularly with respect to:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Ease of Replication and Backup\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Ability to easily implement a document versioning system\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If this is web-based application then there could be advantages to storing the images on a third-party storage delivery network, such as Amazon\u0026apos;s S3 or the Nirvanix platform.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Assumption: Application is web enabled/web based\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I\u0026apos;m surprised no one has really mentioned this ... delegate it out to others who are specialists -\u0026amp;gt; \u0026lt;strong\u0026gt;use a 3rd party image/file hosting provider\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Store your files on a paid online service like\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://aws.amazon.com/s3/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Amazon S3\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://www.mosso.com/cloudfiles.jsp\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Moso Cloud Storage\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Another StackOverflow threads talking about this \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/792134/alternative-to-amazon-s3-for-the-data-center\u0026quot;\u0026gt;here\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/731526/amazon-s3-when-why\u0026quot;\u0026gt;This thread\u0026lt;/a\u0026gt; explains why you should use a 3rd party hosting provider. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It\u0026apos;s so worth it. They store it efficiently. No bandwith getting uploaded from your servers to client requests, etc.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you\u0026apos;re not on SQL Server 2008 and you have some solid reasons for putting specific image files in the database, then you could take the \u0026quot;both\u0026quot; approach and use the file system as a temporary cache and use the database as the master repository. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For example, your business logic can check if an image file exists on disc before serving it up, retrieving from the database when necessary. This buys you the capability of multiple web servers and fewer sync issues.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I\u0026apos;m not sure how much of a \u0026quot;real world\u0026quot; example this is, but I currently have an application out there that stores details for a trading card game, including the images for the cards. Granted the record count for the database is only 2851 records to date, but given the fact that certain cards have are released multiple times and have alternate artwork, it was actually more efficient sizewise to scan the \u0026quot;primary square\u0026quot; of the artwork and then dynamically generate the border and miscellaneous effects for the card when requested.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The original creator of this image library created a data access class that renders the image based on the request, and it does it quite fast for viewing and individual card.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This also eases deployment/updates when new cards are released, instead of zipping up an entire folder of images and sending those down the pipe and ensuring the proper folder structure is created, I simply update the database and have the user download it again. This currently sizes up to 56MB, which isn\u0026apos;t great, but I\u0026apos;m working on an incremental update feature for future releases. In addition, there is a \u0026quot;no images\u0026quot; version of the application that allows those over dial-up to get the application without the download delay.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This solution has worked great to date since the application itself is targeted as a single instance on the desktop. There is a web site where all of this data is archived for online access, but I would in no way use the same solution for this. I agree the file access would be preferable because it would scale better to the frequency and volume of requests being made for the images.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Hopefully this isn\u0026apos;t too much babble, but I saw the topic and wanted to provide some my insights from a relatively successful small/medium scale application.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;SQL Server 2008 offers a solution that has the best of both worlds : \u0026lt;a href=\u0026quot;http://msdn.microsoft.com/en-us/library/cc716724.aspx\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;The filestream data type\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Manage it like a regular table and have the performance of the file system.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;It depends on the number of images you are going to store and also their sizes. I have used databases to store images in the past and my experience has been fairly good. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;IMO, Pros of using database to store images are,\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;A. You don\u0026apos;t need FS structure to hold your images\u0026lt;br\u0026gt;\nB. Database indexes perform better than FS trees when more number of items are to be stored\u0026lt;br\u0026gt;\nC. Smartly tuned database perform good job at caching the query results\u0026lt;br\u0026gt;\nD. Backups are simple. It also works well if you have replication set up and content is delivered from a server near to user. In such cases, explicit synchronization is not required.\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If your images are going to be small (say \u0026amp;lt; 64k) and the storage engine of your db supports inline (in record) BLOBs, it improves performance further as no indirection is required (Locality of reference is achieved). \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Storing images may be a bad idea when you are dealing with small number of huge sized images. Another problem with storing images in db is that, metadata like creation, modification dates must handled by your application.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I have recently created a PHP/MySQL app which stores PDFs/Word files in a MySQL table (as big as 40MB per file so far).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Pros:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Uploaded files are replicated to backup server along with everything else, no separate backup strategy is needed (peace of mind).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Setting up the web server is slightly simpler because I don\u0026apos;t need to have an uploads/ folder and tell all my applications where it is.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;I get to use transactions for edits to improve data integrity - I don\u0026apos;t have to worry about orphaned and missing files\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Cons:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;mysqldump now takes a looooong time because there is 500MB of file data in one of the tables.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Overall not very memory/cpu efficient when compared to filesystem\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;I\u0026apos;d call my implementation a success, it takes care of backup requirements and simplifies the layout of the project. The performance is fine for the 20-30 people who use the app.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Im my experience I had to manage both situations: images stored in database and images on the file system with path stored in db.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The first solution, images in database, is somewhat \u0026quot;cleaner\u0026quot; as your data access layer will have to deal only with database objects; but this is good only when you have to deal with low numbers. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Obviously database access performance when you deal with binary large objects is degrading, and the database dimensions will grow a lot, causing again performance loss... and normally database space is much more expensive than file system space.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;On the other hand having large binary objects stored in file system will cause you to have backup plans that have to consider both database and file system, and this can be an issue for some systems. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Another reason to go for file system is when you have to share your images data (or sounds, video, whatever) with third party access: in this days I\u0026apos;m developing a web app that uses images that have to be accessed from \u0026quot;outside\u0026quot; my web farm in such a way that a database access to retrieve binary data is simply impossible. So sometimes there are also design considerations that will drive you to a choice.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Consider also, when making this choice, if you have to deal with permission and authentication when accessing binary objects: these requisites normally can be solved in an easier way when data are stored in db.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I once worked on an image processing application. We stored the uploaded images in a directory that was something like /images/[today\u0026apos;s date]/[id number]. But we also extracted the metadata (exif data) from the images and stored that in the database, along with a timestamp and such.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In a previous project i stored images on the filesystem, and that caused a lot of headaches with backups, replication, and the filesystem getting out of sync with the database.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In my latest project i\u0026apos;m storing images in the database, and caching them on the filesystem, and it works really well. I\u0026apos;ve had no problems so far.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Second the recommendation on file paths. I\u0026apos;ve worked on a couple of projects that needed to manage large-ish asset collections, and any attempts to store things directly in the DB resulted in pain and frustration long-term.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The only real \u0026quot;pro\u0026quot; I can think of regarding storing them in the DB is the potential for easy of individual image assets. If there are no file paths to use, and all images are streamed straight out of the DB, there\u0026apos;s no danger of a user finding files they shouldn\u0026apos;t have access to.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;That seems like it would be better solved with an intermediary script pulling data from a web-inaccessible file store, though. So the DB storage isn\u0026apos;t REALLY necessary.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The word on the street is that unless you are a database vendor trying to prove that your database can do it (like, let\u0026apos;s say Microsoft boasting about Terraserver storing a bajillion images in SQL Server) it\u0026apos;s not a very good idea. When the alternative - storing images on file servers and paths in the database is so much easier, why bother? Blob fields are kind of like the off-road capabilities of SUVs - most people don\u0026apos;t use them, those who do usually get in trouble, and then there are those who do, but only for the fun of it.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Storing an image in the database still means that the image data ends up somewhere in the file system but obscured so that you cannot access it directly. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;+ves:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;database integrity\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;its easy to manage since you don\u0026apos;t have to worry about keeping the filesystem in sync when an image is added or deleted\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;-ves:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;performance penalty -- a database lookup is usually slower that a filesystem lookup\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;you cannot edit the image directly (crop, resize)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Both methods are common and practiced. Have a look at the advantages and disadvantages. Either way, you\u0026apos;ll have to think about how to overcome the disadvantages. Storing in database usually means tweaking database parameters and implement some kind of caching. Using filesystem requires you to find some way of keeping filesystem+database in sync.\u0026lt;/p\u0026gt;\n    "],"comment":["\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Well, you can do both \u0026lt;a href=\u0026quot;http://imageresizing.net/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;with a transactional disk cache\u0026lt;/a\u0026gt;.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/166893/lilith-river\u0026quot; title=\u0026quot;16,334 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Lilith River\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment8460398_3748\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2011-08-15 21:16:28Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Aug 15, 2011 at 21:16\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;what off the shelf products are available for \u0026quot;super-accelerating\u0026quot; the file system?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1796/andrei-r%c3%aenea\u0026quot; title=\u0026quot;19,620 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Andrei RÃ®nea\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment56320_3751\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2008-10-04 10:53:05Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 4, 2008 at 10:53\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;While I only manage 3TB of files, I definitely agree. Databases are for structured data, not blobs.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/27727/derobert\u0026quot; title=\u0026quot;48,059 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;derobert\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment484981_3751\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2009-03-22 19:31:40Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Mar 22, 2009 at 19:31\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@derobert: quite so, if you will never use a data element in a query, as a condition or for a join, it probably doesn\u0026apos;t belong in the database. Then again, if you have a nice database function to query images for likeness...\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/46600/nils-weinander\u0026quot; title=\u0026quot;2,031 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Nils Weinander\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment685241_3751\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2009-05-18 14:34:01Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;May 18, 2009 at 14:34\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;what off the shelf products are available for \u0026quot;super-accelerating\u0026quot; the file system?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/134852/faceclean\u0026quot; title=\u0026quot;3,721 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;faceclean\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment1037055_3751\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2009-07-31 15:16:54Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 31, 2009 at 15:16\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Re: \u0026quot;super-accelerating\u0026quot; products: Most web servers can now take advantage of the sendfile() system call to deliver static files asynchronously to the client. It offloads to the operating system the task of moving the file from disk to the network interface. The OS can do this much more efficiently, operating in kernel space.  This, to me, seems like a big win for file system vs. db for storing/serving images.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/125052/alan-donnelly\u0026quot; title=\u0026quot;1,485 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Alan Donnelly\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment4583561_3751\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2010-11-20 17:07:44Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Nov 20, 2010 at 17:07\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Not having a seperate backup strategy can be a big deal when you are writing applications that are installed on premise (like SharePoint).  When you create a SharePoint backup everything is in the DB which makes it very easy.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/3957/eric-schoonover\u0026quot; title=\u0026quot;45,792 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Eric Schoonover\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment52985_22804\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2008-10-02 23:40:58Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 2, 2008 at 23:40\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Security by obscurity is not really an access control strategy!\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/15369/jon-cage\u0026quot; title=\u0026quot;35,078 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Jon Cage\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment66901_22804\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2008-10-09 10:46:25Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 9, 2008 at 10:46\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I don\u0026apos;t think he\u0026apos;s advocating security by obscurity - he\u0026apos;s saying that putting images in the DB adds another layer of security. (I think... @Conrad, don\u0026apos;t want to put words in your mouth)\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/7211/aj\u0026quot; title=\u0026quot;13,031 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;AJ.\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment4129854_22804\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2010-10-07 09:06:26Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 7, 2010 at 9:06\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I chose storing images in the database because of the single backup advantage (or more generally speaking, having all data in one place), but the problems you mention are true as well, which is why I cache the images on the filesystem. It\u0026apos;s the best of both worlds, and I\u0026apos;m surprised none of the top answers here mention it.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/85821/bart-van-heukelom\u0026quot; title=\u0026quot;42,136 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Bart van Heukelom\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment6722623_22804\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2011-05-01 21:04:10Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;May 1, 2011 at 21:04\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Are you, by chance, using \u0026lt;a href=\u0026quot;http://imageresizing.net\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;the ImageResizing.Net\u0026lt;/a\u0026gt; library to handle your SQL-\u0026amp;gt;disk image caching? It\u0026apos;s the most advanced, scalable, and robust disk cache you can get...\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/166893/lilith-river\u0026quot; title=\u0026quot;16,334 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Lilith River\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment8460346_22804\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2011-08-15 21:13:08Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Aug 15, 2011 at 21:13\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;ext3\u0026apos;s dir_index helps a lot.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/6475/seun-osewa\u0026quot; title=\u0026quot;4,865 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Seun Osewa\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment6782534_18530\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2011-05-05 08:41:38Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;May 5, 2011 at 8:41\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;+1 for FileStream.  It actually stores the blobs as files on disk, but manages them transactionally.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/57986/john-gietzen\u0026quot; title=\u0026quot;47,664 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;John Gietzen\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment8125699_3929\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2011-07-26 21:30:01Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 26, 2011 at 21:30\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Also, SQL server allows FileStream blobs to be access directly off of the disk, so that you can avoid tying up the DB connection\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/57986/john-gietzen\u0026quot; title=\u0026quot;47,664 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;John Gietzen\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment8125716_3929\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2011-07-26 21:30:59Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 26, 2011 at 21:30\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Still, added latency between the DB and the web server... And the web server will have to load it into memory to stream it to the client instead of being able to stream it from disk, unless you\u0026apos;re using disk caching.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/166893/lilith-river\u0026quot; title=\u0026quot;16,334 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Lilith River\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment8460376_3929\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2011-08-15 21:14:55Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Aug 15, 2011 at 21:14\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Very nice indeed. Your users can now easily increment your filename to access other files...\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/124021/marijn-huizendveld\u0026quot; title=\u0026quot;771 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Marijn Huizendveld\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment4296649_3772\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2010-10-24 17:53:14Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 24, 2010 at 17:53\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@Marijn: That\u0026apos;s only if you expose the images to the world.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/6475/seun-osewa\u0026quot; title=\u0026quot;4,865 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Seun Osewa\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment4649347_3772\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2010-11-26 14:15:08Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Nov 26, 2010 at 14:15\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;We did something very similar with our imaged documents (our primary key is a composite key of three items.), but we added the date and time the document was scanned so that we can have multiple versions in the same directory.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/825386/andrew-neely\u0026quot; title=\u0026quot;898 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Andrew Neely\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment8274553_3772\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2011-08-04 13:55:18Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Aug 4, 2011 at 13:55\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@Osewa, How\u0026apos;s that?  Yes, to directly access the file, the end user would need access to the folder. You could have a process to serve the file via FTP based upon request, and the security would be on par with SQL server.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/825386/andrew-neely\u0026quot; title=\u0026quot;898 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Andrew Neely\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment8274599_3772\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2011-08-04 13:56:38Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Aug 4, 2011 at 13:56\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I don\u0026apos;t see anyone claiming that a filesystem is faster than a DB 100% of the time (read Mark Harrison\u0026apos;s answer). That\u0026apos;s a bit of a strawman.  There are probably situations in which it\u0026apos;s preferable not to wear your seatbelt, but \u0026lt;i\u0026gt;generally speaking\u0026lt;/i\u0026gt;, wearing a seatbelt is a good idea.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/86015/calvin\u0026quot; title=\u0026quot;4,481 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Calvin\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment542360_36994\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2009-04-08 16:56:49Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Apr 8, 2009 at 16:56\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Actually, no, you can.  As long as image files are never deleted, changed or over-written once created, all image files are synced before attempting to commit transactions, there is no filesystem corruption, you can be sure that image files and metadata are in sync.  For some applications, those are too many ifs, I guess.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/6475/seun-osewa\u0026quot; title=\u0026quot;4,865 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Seun Osewa\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment4416241_567247\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2010-11-05 01:36:00Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Nov 5, 2010 at 1:36\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I would go even further and say that with a Journaling file system and some additional program logic, the ACID compliance can be achieved.  The steps would be write the db record, write the file.  If the file commits, commit the db transaction.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/825386/andrew-neely\u0026quot; title=\u0026quot;898 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Andrew Neely\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment8274685_567247\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2011-08-04 14:00:04Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Aug 4, 2011 at 14:00\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I would argue that the database is better for files that are frequently edited, since consistency can be a problem in that case.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/6475/seun-osewa\u0026quot; title=\u0026quot;4,865 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Seun Osewa\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment4416268_3836\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2010-11-05 01:40:54Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Nov 5, 2010 at 1:40\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;You would think so, but the issues are actually minor; I have an app with millions of files in a one directory, accessed by hundreds of users,  without a problem. It\u0026apos;s not smart, but it works. The biggest issue is if you use Explorer to browse the directory, you watch a flashlight forever.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/19797/sqlacid\u0026quot; title=\u0026quot;4,018 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;SqlACID\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment57477_18511\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2008-10-05 13:07:00Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 5, 2008 at 13:07\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;It\u0026apos;s better to use a filesystem that has no problem with large directories\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/6475/seun-osewa\u0026quot; title=\u0026quot;4,865 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Seun Osewa\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment107605_18511\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2008-10-29 03:46:31Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Oct 29, 2008 at 3:46\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I had an app with millions of files in one directory (server running RHEL 4) - to even list the directory contents (piping to a file) took days and created an output file 100\u0026apos;s of MB in size. Now they are in a database I have a single file that I can move or backup quite easily.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/36214/richard\u0026quot; title=\u0026quot;36,728 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Richard\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment816567_18511\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2009-06-17 15:24:16Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jun 17, 2009 at 15:24\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@Seun Osewa : every file system has limitations ... and if you know of one that has no problems storing millions of entries in the same directory, please let me know !\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/23704/guillaume\u0026quot; title=\u0026quot;17,898 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Guillaume\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment4407981_18511\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2010-11-04 12:51:04Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Nov 4, 2010 at 12:51\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@Seun Osewa : the database is up to 28GB now, with 5.4 M records. I ended up having to partition the database table so I have several files to back up that are approx 5GB in size.Moving the individual images onto Amazon S3 now so I only have to store the filename in the DB (and Amazon can do the backups)\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/36214/richard\u0026quot; title=\u0026quot;36,728 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Richard\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment4493814_18511\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2010-11-12 07:41:36Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Nov 12, 2010 at 7:41\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;What is the likelihood of having two simultanious updates to a particular image?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/52273/arafangion\u0026quot; title=\u0026quot;11,054 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Arafangion\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment544051_325160\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2009-04-09 01:43:41Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Apr 9, 2009 at 1:43\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;you don\u0026apos;t need simultaneous updates to have problems - it can be a read and a write. In our case this is almost guaranteed to happen.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/26334/draemon\u0026quot; title=\u0026quot;32,941 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Draemon\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment554168_325160\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2009-04-12 22:12:40Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Apr 12, 2009 at 22:12\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;Absolutely. Apparently the database is a lot bigger now. Having the data in a database means that replicating the database at different sites is a lot easier too.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/342/graham-reeds\u0026quot; title=\u0026quot;15,825 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;graham.reeds\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment451520_3818\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2009-03-12 12:06:12Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Mar 12, 2009 at 12:06\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I saw a demonstration of Oracle where the could actually mount a file system to the database, or something like that.  Do you know if this is what you did?  (Sorry, I am clueless with Oracle so maybe I am talking garbage.)\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/2961/stu-thompson\u0026quot; title=\u0026quot;37,778 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Stu Thompson\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment1015284_3818\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2009-07-28 08:33:21Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 28, 2009 at 8:33\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;I don\u0026apos;t think so - it was storing images in the database as a database. The database was aggressively tuned - I remember multiple discussions regarding the size of the images changing as fields were added and removed. Everything was boundary aligned.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/342/graham-reeds\u0026quot; title=\u0026quot;15,825 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;graham.reeds\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment1015650_3818\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2009-07-28 09:52:44Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 28, 2009 at 9:52\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;+1 This also allows you to store the original image, delivering the cached/optimised version while allowing the size/compression to be altered later\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/27355/deebster\u0026quot; title=\u0026quot;2,798 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Deebster\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment9217599_39588\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2011-09-29 13:51:31Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Sep 29, 2011 at 13:51\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;When dealing with replication, storing the images in the database is far superior IMO.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/257954/beep-beep\u0026quot; title=\u0026quot;18,452 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Beep beep\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment627229_18549\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2009-05-03 20:26:00Z, License: CC BY-SA 2.5\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;May 3, 2009 at 20:26\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        "],"id":211,"title":"Storing Images in DB - Yea or Nay?","content":"\n                    \u0026lt;div\u0026gt;\n            \u0026lt;aside class=\u0026quot;s-notice s-notice__info post-notice js-post-notice mb16\u0026quot; role=\u0026quot;status\u0026quot;\u0026gt;\n        \u0026lt;div class=\u0026quot;d-flex fd-column fw-nowrap\u0026quot;\u0026gt;\n            \u0026lt;div class=\u0026quot;d-flex fw-nowrap\u0026quot;\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item mr8\u0026quot;\u0026gt;\n                        \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;svg-icon iconLock\u0026quot; width=\u0026quot;18\u0026quot; height=\u0026quot;18\u0026quot; viewBox=\u0026quot;0 0 18 18\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;M16 9a2 2 0 0 0-2-2V6A5 5 0 0 0 4 6v1a2 2 0 0 0-2 2v6c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9Zm-7 5a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm3.1-7H5.9V6a3.1 3.1 0 0 1 6.2 0v1Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                \u0026lt;div class=\u0026quot;flex--item wmn0 fl1 lh-lg\u0026quot;\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item fl1 lh-lg\u0026quot;\u0026gt;\n                        \u0026lt;b\u0026gt;Locked\u0026lt;/b\u0026gt;. This question and its answers are \u0026lt;a href=\u0026quot;/help/locked-posts\u0026quot;\u0026gt;locked\u0026lt;/a\u0026gt; because the question is off-topic but has historical significance. It is not currently accepting new answers or interactions.\n                        \n                    \u0026lt;/div\u0026gt;\n                \u0026lt;/div\u0026gt;\n            \u0026lt;/div\u0026gt;\n        \u0026lt;/div\u0026gt;\n\u0026lt;/aside\u0026gt;\n\n    \u0026lt;/div\u0026gt;\n\n\u0026lt;p\u0026gt;So I\u0026apos;m using an app that stores images heavily in the DB. What\u0026apos;s your outlook on this? I\u0026apos;m more of a type to store the location in the filesystem, than store it directly in the DB.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;What do you think are the pros/cons?          \u0026lt;/p\u0026gt;\n    ","slug":"storing-images-in-db-yea-or-nay-1657387248067","postType":"QUESTION","createdAt":"2022-07-09T17:20:48.000Z","updatedAt":"2022-07-09T17:20:48.000Z","tags":[{"id":1477,"name":"blob","slug":"blob","createdAt":"2022-07-09T17:20:48.000Z","updatedAt":"2022-07-09T17:20:48.000Z","Questions_Tags":{"questionId":211,"tagId":1477}}]}]}},"__N_SSG":true},"page":"/questions/tag/[slug]","query":{"slug":"blob"},"buildId":"4Y8KGE-c2lolBeBmcum_I","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>