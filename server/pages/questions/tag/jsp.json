{"pageProps":{"data":{"count":1,"rows":[{"id":103,"title":"How can I avoid Java code in JSP files, using JSP 2?","slug":"how-can-i-avoid-java-code-in-jsp-files-using-jsp-2-1657384618866","postType":"QUESTION","createdAt":"2022-07-09T16:36:58.000Z","updatedAt":"2022-07-09T16:36:58.000Z","tags":[{"id":378,"name":"jsp","slug":"jsp","createdAt":"2022-07-09T16:36:59.000Z","updatedAt":"2022-07-09T16:36:59.000Z","Questions_Tags":{"questionId":103,"tagId":378}}]}]},"slug":"jsp","page":1,"answers":{"103":["\n&lt;p&gt;The use of &lt;em&gt;scriptlets&lt;/em&gt; (those &lt;code&gt;&amp;lt;% %&amp;gt;&lt;/code&gt; things) in &lt;a href=&quot;https://stackoverflow.com/tags/jsp/info&quot;&gt;JSP&lt;/a&gt; is indeed highly discouraged since the birth of &lt;em&gt;taglibs&lt;/em&gt; (like &lt;a href=&quot;https://stackoverflow.com/tags/jstl/info&quot;&gt;JSTL&lt;/a&gt;) and &lt;a href=&quot;https://stackoverflow.com/tags/el/info&quot;&gt;EL&lt;/a&gt; (&lt;a href=&quot;https://stackoverflow.com/tags/el/info&quot;&gt;Expression Language&lt;/a&gt;, those &lt;code&gt;${}&lt;/code&gt; things) way back in 2001.&lt;/p&gt;\n&lt;p&gt;The major disadvantages of &lt;em&gt;scriptlets&lt;/em&gt; are:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Reusability:&lt;/strong&gt; you can&apos;t reuse scriptlets.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Replaceability:&lt;/strong&gt; you can&apos;t make scriptlets abstract.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;OO-ability:&lt;/strong&gt; you can&apos;t make use of inheritance/composition.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Debuggability:&lt;/strong&gt; if scriptlet throws an exception halfway, all you get is a blank page.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Testability:&lt;/strong&gt; scriptlets are not unit-testable.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Maintainability:&lt;/strong&gt; per saldo more time is needed to maintain mingled/cluttered/duplicated code logic.&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;&lt;strike&gt;Sun&lt;/strike&gt; Oracle itself also recommends in the &lt;a href=&quot;https://www.oracle.com/technical-resources/articles/javase/code-convention.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;JSP coding conventions&lt;/a&gt; to avoid use of &lt;em&gt;scriptlets&lt;/em&gt; whenever the same functionality is possible by (tag) classes. Here are several cites of relevance:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;From JSP 1.2 Specification, it is highly recommended that the JSP Standard Tag Library  (JSTL) be used in your web application to help &lt;strong&gt;reduce the need for JSP scriptlets&lt;/strong&gt; in your pages. Pages that use JSTL are, in general, easier to read and maintain.&lt;/p&gt;\n&lt;p&gt;...&lt;/p&gt;\n&lt;p&gt;Where possible, &lt;strong&gt;avoid JSP scriptlets&lt;/strong&gt; whenever tag libraries provide equivalent functionality. This makes pages easier to read and maintain, helps to separate business logic from presentation logic, and will make your pages easier to evolve into JSP 2.0-style pages (JSP 2.0 Specification supports but de-emphasizes the use of scriptlets).&lt;/p&gt;\n&lt;p&gt;...&lt;/p&gt;\n&lt;p&gt;In the spirit of adopting the model-view-controller (MVC) design pattern to reduce coupling between the presentation tier from the business logic, &lt;strong&gt;JSP scriptlets should not be used&lt;/strong&gt; for writing business logic. Rather, JSP scriptlets are used if necessary to transform data (also called &quot;value objects&quot;) returned from processing the client&apos;s requests into a proper client-ready format. Even then, this would be better done with a front controller servlet or a custom tag.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;hr&gt;\n&lt;p&gt;&lt;strong&gt;How to replace &lt;em&gt;scriptlets&lt;/em&gt; entirely depends on the sole purpose of the code/logic. More than often this code is to be placed in a fullworthy Java class:&lt;/strong&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;If you want to invoke the &lt;strong&gt;same&lt;/strong&gt; Java code on &lt;em&gt;every&lt;/em&gt; request, less-or-more regardless of the requested page, e.g. checking if a user is logged in, then implement a &lt;a href=&quot;https://stackoverflow.com/tags/servlet-filters/info&quot;&gt;filter&lt;/a&gt; and write code accordingly in &lt;a href=&quot;https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/filter#doFilter-jakarta.servlet.ServletRequest-jakarta.servlet.ServletResponse-jakarta.servlet.FilterChain-&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code&gt;doFilter()&lt;/code&gt;&lt;/a&gt; method. E.g.:&lt;/p&gt;\n  &lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;doFilter&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(ServletRequest request, ServletResponse response, FilterChain chain)&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;throws&lt;/span&gt; ServletException, IOException {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (((HttpServletRequest) request).getSession().getAttribute(&lt;span class=&quot;hljs-string&quot;&gt;&quot;user&quot;&lt;/span&gt;) == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;) {\n          ((HttpServletResponse) response).sendRedirect(&lt;span class=&quot;hljs-string&quot;&gt;&quot;login&quot;&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// Not logged in, redirect to login page.&lt;/span&gt;\n      } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n          chain.doFilter(request, response); &lt;span class=&quot;hljs-comment&quot;&gt;// Logged in, just continue request.&lt;/span&gt;\n      }\n  }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;When mapped on an appropriate &lt;code&gt;&amp;lt;url-pattern&amp;gt;&lt;/code&gt; covering the JSP pages of interest, then you don&apos;t need to copypaste the same piece of code overall JSP pages.&lt;/p&gt;\n&lt;hr&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;If you want to invoke some Java code to &lt;strong&gt;process a GET request&lt;/strong&gt;, e.g. preloading some list from a database to display in some table, if necessary based on some query parameters, then implement a &lt;a href=&quot;https://stackoverflow.com/tags/servlets/info&quot;&gt;servlet&lt;/a&gt; and write code accordingly in &lt;a href=&quot;https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservlet#doGet-jakarta.servlet.http.HttpServletRequest-jakarta.servlet.http.HttpServletResponse-&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code&gt;doGet()&lt;/code&gt;&lt;/a&gt; method. E.g.:&lt;/p&gt;\n  &lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;  &lt;span class=&quot;hljs-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;doGet&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(HttpServletRequest request, HttpServletResponse response)&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;throws&lt;/span&gt; ServletException, IOException {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;try&lt;/span&gt; {\n          List&amp;lt;Product&amp;gt; products = productService.list(); &lt;span class=&quot;hljs-comment&quot;&gt;// Obtain all products.&lt;/span&gt;\n          request.setAttribute(&lt;span class=&quot;hljs-string&quot;&gt;&quot;products&quot;&lt;/span&gt;, products); &lt;span class=&quot;hljs-comment&quot;&gt;// Store products in request scope.&lt;/span&gt;\n          request.getRequestDispatcher(&lt;span class=&quot;hljs-string&quot;&gt;&quot;/WEB-INF/products.jsp&quot;&lt;/span&gt;).forward(request, response); &lt;span class=&quot;hljs-comment&quot;&gt;// Forward to JSP page to display them in a HTML table.&lt;/span&gt;\n      } &lt;span class=&quot;hljs-keyword&quot;&gt;catch&lt;/span&gt; (SQLException e) {\n          &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ServletException&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Retrieving products failed!&quot;&lt;/span&gt;, e);\n      }\n  }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This way dealing with exceptions is easier. The DB is not accessed in the midst of JSP rendering, but far before the JSP is been displayed. You still have the possibility to change the response whenever the DB access throws an exception. In the above example, the default error 500 page will be displayed which you can anyway customize by an &lt;code&gt;&amp;lt;error-page&amp;gt;&lt;/code&gt; in &lt;code&gt;web.xml&lt;/code&gt;.&lt;/p&gt;\n&lt;hr&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;If you want to invoke some Java code to &lt;strong&gt;process a POST request&lt;/strong&gt;, such as gathering data from a submitted HTML form and doing some business stuff with it (conversion, validation, saving in DB, etcetera), then implement a &lt;a href=&quot;https://stackoverflow.com/tags/servlets/info&quot;&gt;servlet&lt;/a&gt; and write code accordingly in &lt;a href=&quot;https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservlet#doPost-jakarta.servlet.http.HttpServletRequest-jakarta.servlet.http.HttpServletResponse-&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code&gt;doPost()&lt;/code&gt;&lt;/a&gt; method. E.g.:&lt;/p&gt;\n  &lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;  &lt;span class=&quot;hljs-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;doPost&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(HttpServletRequest request, HttpServletResponse response)&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;throws&lt;/span&gt; ServletException, IOException {\n      &lt;span class=&quot;hljs-type&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; request.getParameter(&lt;span class=&quot;hljs-string&quot;&gt;&quot;username&quot;&lt;/span&gt;);\n      &lt;span class=&quot;hljs-type&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;password&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; request.getParameter(&lt;span class=&quot;hljs-string&quot;&gt;&quot;password&quot;&lt;/span&gt;);\n      &lt;span class=&quot;hljs-type&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; userService.find(username, password);\n\n      &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (user != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;) {\n          request.getSession().setAttribute(&lt;span class=&quot;hljs-string&quot;&gt;&quot;user&quot;&lt;/span&gt;, user); &lt;span class=&quot;hljs-comment&quot;&gt;// Login user.&lt;/span&gt;\n          response.sendRedirect(&lt;span class=&quot;hljs-string&quot;&gt;&quot;home&quot;&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// Redirect to home page.&lt;/span&gt;\n      } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n          request.setAttribute(&lt;span class=&quot;hljs-string&quot;&gt;&quot;message&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;Unknown username/password. Please retry.&quot;&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// Store error message in request scope.&lt;/span&gt;\n          request.getRequestDispatcher(&lt;span class=&quot;hljs-string&quot;&gt;&quot;/WEB-INF/login.jsp&quot;&lt;/span&gt;).forward(request, response); &lt;span class=&quot;hljs-comment&quot;&gt;// Forward to JSP page to redisplay login form with error.&lt;/span&gt;\n      }\n  }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This way dealing with different result page destinations is easier: redisplaying the form with validation errors in case of an error (in this particular example you can redisplay it using &lt;code&gt;${message}&lt;/code&gt; in &lt;a href=&quot;https://stackoverflow.com/tags/el/info&quot;&gt;EL&lt;/a&gt;), or just taking to the desired target page in case of success.&lt;/p&gt;\n&lt;hr&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;If you want to invoke some Java code to &lt;strong&gt;control&lt;/strong&gt; the execution plan and/or the destination of the request and the response, then implement a &lt;a href=&quot;https://stackoverflow.com/tags/servlets/info&quot;&gt;servlet&lt;/a&gt; according to the &lt;a href=&quot;https://stackoverflow.com/questions/3541077/design-patterns-web-based-applications/3542297#3542297&quot;&gt;MVC&apos;s Front Controller Pattern&lt;/a&gt;. E.g.:&lt;/p&gt;\n  &lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;  &lt;span class=&quot;hljs-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(HttpServletRequest request, HttpServletResponse response)&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;throws&lt;/span&gt; ServletException, IOException {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;try&lt;/span&gt; {\n          &lt;span class=&quot;hljs-type&quot;&gt;Action&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;action&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; ActionFactory.getAction(request);\n          &lt;span class=&quot;hljs-type&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; action.execute(request, response);\n\n          &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (view.equals(request.getPathInfo().substring(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)) {\n              request.getRequestDispatcher(&lt;span class=&quot;hljs-string&quot;&gt;&quot;/WEB-INF/&quot;&lt;/span&gt; + view + &lt;span class=&quot;hljs-string&quot;&gt;&quot;.jsp&quot;&lt;/span&gt;).forward(request, response);\n          } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n              response.sendRedirect(view);\n          }\n      } &lt;span class=&quot;hljs-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {\n          &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ServletException&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Executing action failed.&quot;&lt;/span&gt;, e);\n      }\n  }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Or just adopt an MVC framework like &lt;a href=&quot;https://stackoverflow.com/tags/jsf/info&quot;&gt;JSF&lt;/a&gt;, &lt;a href=&quot;https://stackoverflow.com/tags/spring-mvc/info&quot;&gt;Spring MVC&lt;/a&gt;, &lt;a href=&quot;https://stackoverflow.com/tags/wicket/info&quot;&gt;Wicket&lt;/a&gt;, etc so that you end up with just a JSP/Facelets page and a JavaBean class without the need for a custom servlet.&lt;/p&gt;\n&lt;hr&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;If you want to invoke some Java code to &lt;strong&gt;control the flow&lt;/strong&gt; inside a JSP page, then you need to grab an (existing) flow control taglib like &lt;a href=&quot;https://jakarta.ee/specifications/tags/1.2/tagdocs/c/tld-summary.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;JSTL core&lt;/a&gt;. E.g. displaying &lt;code&gt;List&amp;lt;Product&amp;gt;&lt;/code&gt; in a table:&lt;/p&gt;\n  &lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;  &amp;lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&amp;gt;\n  ...\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;table&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;c:forEach&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;items&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;${products}&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;var&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;product&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n          &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n              &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;${product.name}&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n              &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;${product.description}&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n              &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;${product.price}&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n          &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;c:forEach&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;table&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;With XML-style tags which fit nicely among all that HTML, the code is better readable (and thus better maintainable) than a bunch of scriptlets with various opening and closing braces (&lt;em&gt;&quot;Where the heck does this closing brace belong to?&quot;&lt;/em&gt;). An easy aid is to configure your web application to throw an exception whenever &lt;em&gt;scriptlets&lt;/em&gt; are still been used by adding the following piece to &lt;code&gt;web.xml&lt;/code&gt;:&lt;/p&gt;\n  &lt;pre class=&quot;lang-xml s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;jsp-config&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;jsp-property-group&lt;/span&gt;&amp;gt;&lt;/span&gt;\n          &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;url-pattern&lt;/span&gt;&amp;gt;&lt;/span&gt;*.jsp&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;url-pattern&lt;/span&gt;&amp;gt;&lt;/span&gt;\n          &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;scripting-invalid&lt;/span&gt;&amp;gt;&lt;/span&gt;true&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;scripting-invalid&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;jsp-property-group&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;jsp-config&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;In &lt;a href=&quot;https://stackoverflow.com/tags/facelets/info&quot;&gt;Facelets&lt;/a&gt;, the successor of JSP, which is part of the Java EE provided MVC framework &lt;a href=&quot;https://stackoverflow.com/tags/jsf/info&quot;&gt;JSF&lt;/a&gt;, it is already &lt;strong&gt;not&lt;/strong&gt; possible to use &lt;em&gt;scriptlets&lt;/em&gt;. This way you&apos;re automatically forced to do things &quot;the right way&quot;.&lt;/p&gt;\n&lt;hr&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;If you want to invoke some Java code to &lt;strong&gt;access and display&lt;/strong&gt; &quot;backend&quot; data inside a JSP page, then you need to use EL (Expression Language), those &lt;code&gt;${}&lt;/code&gt; things. E.g. redisplaying submitted input values:&lt;/p&gt;\n  &lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;foo&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;${param.foo}&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The &lt;code&gt;${param.foo}&lt;/code&gt; displays the outcome of &lt;code&gt;request.getParameter(&quot;foo&quot;)&lt;/code&gt;.&lt;/p&gt;\n&lt;hr&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;If you want to invoke some &lt;strong&gt;utility&lt;/strong&gt; Java code directly in the JSP page (typically &lt;code&gt;public static&lt;/code&gt; methods), then you need to define them as EL functions. There&apos;s a standard &lt;a href=&quot;https://jakarta.ee/specifications/tags/1.2/tagdocs/fn/tld-summary.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;functions taglib&lt;/a&gt; in JSTL, but &lt;a href=&quot;https://stackoverflow.com/questions/6395621/how-to-call-a-static-method-in-jsp-el&quot;&gt;you can also easily create functions yourself&lt;/a&gt;. Here&apos;s an example how JSTL &lt;code&gt;fn:escapeXml&lt;/code&gt; is useful to prevent &lt;a href=&quot;https://en.wikipedia.org/wiki/Cross-site_scripting&quot; rel=&quot;nofollow noreferrer&quot;&gt;XSS attacks&lt;/a&gt;.&lt;/p&gt;\n  &lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;  &amp;lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; prefix=&quot;fn&quot; %&amp;gt;\n  ...\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;foo&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;${fn:escapeXml(param.foo)}&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Note that the XSS sensitivity is in no way specifically related to Java/JSP/JSTL/EL/whatever, this problem needs to be taken into account in &lt;strong&gt;every&lt;/strong&gt; web application you develop. The problem of &lt;em&gt;scriptlets&lt;/em&gt; is that it provides no way of builtin preventions, at least not using the standard Java API. JSP&apos;s successor Facelets has already implicit HTML escaping, so you don&apos;t need to worry about XSS holes in Facelets.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3&gt;See also:&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/2095397/what-is-the-difference-between-jsf-servlet-and-jsp/2097732#2097732&quot;&gt;What&apos;s the difference between JSP, Servlet and JSF?&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/3106452/java-servlet-instantiation-and-session-variables/3106909#3106909&quot;&gt;How does Servlet, ServletContext, HttpSession and HttpServletRequest/Response work?&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/5003142/jsp-using-mvc-and-jdbc&quot;&gt;Basic MVC example with JSP, Servlet and JDBC&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/3541077/design-patterns-web-based-applications/&quot;&gt;Design patterns in Java web applications&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://balusc.omnifaces.org/2010/01/hidden-features-of-jspservlet.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;Hidden features of JSP/Servlet&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;As a Safeguard: Disable Scriptlets For Good&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;As &lt;a href=&quot;https://stackoverflow.com/questions/2188706/how-to-avoid-using-scriptlets-in-my-jsp-page&quot;&gt;another question&lt;/a&gt; is discussing, you can and always should disable scriptlets in your &lt;code&gt;web.xml&lt;/code&gt; web application descriptor.&lt;/p&gt;\n\n&lt;p&gt;I would always do that in order to prevent any developer adding scriptlets, especially in bigger companies where you will lose overview sooner or later. The &lt;code&gt;web.xml&lt;/code&gt; settings look like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-xml s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;jsp-config&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;jsp-property-group&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;url-pattern&lt;/span&gt;&amp;gt;&lt;/span&gt;*.jsp&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;url-pattern&lt;/span&gt;&amp;gt;&lt;/span&gt;\n     &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;scripting-invalid&lt;/span&gt;&amp;gt;&lt;/span&gt;true&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;scripting-invalid&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;jsp-property-group&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;jsp-config&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;a href=&quot;https://jstl.java.net/&quot; rel=&quot;noreferrer&quot;&gt;JSTL&lt;/a&gt; offers tags for conditionals, loops, sets, gets, etc. For example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&amp;lt;c:&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; test=&lt;span class=&quot;hljs-string&quot;&gt;&quot;${someAttribute == &apos;something&apos;}&quot;&lt;/span&gt;&amp;gt;\n   ...\n&amp;lt;/c:&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;JSTL works with request attributes - they are most often set in the request by a Servlet, which &lt;em&gt;forwards&lt;/em&gt; to the JSP.&lt;/p&gt;\n    ","\n&lt;p&gt;You can use JSTL tags together with EL expressions to avoid intermixing Java and HTML code:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-jsp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&amp;lt;%@ page contentType=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text/html;charset=UTF-8&quot;&lt;/span&gt; language=&lt;span class=&quot;hljs-string&quot;&gt;&quot;java&quot;&lt;/span&gt; %&amp;gt;\n&amp;lt;%@ taglib uri=&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://java.sun.com/jsp/jstl/core&quot;&lt;/span&gt; prefix=&lt;span class=&quot;hljs-string&quot;&gt;&quot;c&quot;&lt;/span&gt; %&amp;gt;\n&amp;lt;%@ taglib uri=&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://java.sun.com/jsp/jstl/fmt&quot;&lt;/span&gt; prefix=&lt;span class=&quot;hljs-string&quot;&gt;&quot;fmt&quot;&lt;/span&gt; %&amp;gt;\n&amp;lt;html&amp;gt;\n    &amp;lt;head&amp;gt;\n    &amp;lt;/head&amp;gt;\n    &amp;lt;body&amp;gt;\n\n        &amp;lt;c:out value=&lt;span class=&quot;hljs-string&quot;&gt;&quot;${x + 1}&quot;&lt;/span&gt; /&amp;gt;\n        &amp;lt;c:out value=&lt;span class=&quot;hljs-string&quot;&gt;&quot;${param.name}&quot;&lt;/span&gt; /&amp;gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// and so on&lt;/span&gt;\n\n    &amp;lt;/body&amp;gt;\n&amp;lt;/html&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;There are also component-based frameworks, such as &lt;a href=&quot;https://en.wikipedia.org/wiki/Apache_Wicket&quot; rel=&quot;nofollow noreferrer&quot;&gt;Wicket&lt;/a&gt;, that generate a lot of the HTML for you.&lt;/p&gt;\n&lt;p&gt;The tags that end up in the HTML are extremely basic and there is virtually no logic that gets mixed in. The result is almost empty-like HTML pages with typical HTML elements. The downside is that there are a lot of components in the &lt;strong&gt;Wicket&lt;/strong&gt; API to learn and some things can be difficult to achieve under those constraints.&lt;/p&gt;\n    ","\n&lt;p&gt;In the MVC architectural pattern, JSPs represent the view layer. Embedding Java code in JSPs is considered a bad practice.&lt;/p&gt;\n&lt;p&gt;You can use &lt;a href=&quot;http://www.oracle.com/technetwork/java/index-jsp-135995.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;JSTL&lt;/a&gt;, &lt;a href=&quot;http://freemarker.sourceforge.net/&quot; rel=&quot;nofollow noreferrer&quot;&gt;freeMarker&lt;/a&gt;, and &lt;a href=&quot;http://velocity.apache.org/&quot; rel=&quot;nofollow noreferrer&quot;&gt;velocity&lt;/a&gt; with JSP as a &quot;template engine&quot;.&lt;/p&gt;\n&lt;p&gt;The data provider to those tags &lt;strong&gt;depends on frameworks&lt;/strong&gt; that you are dealing with. &lt;a href=&quot;https://en.wikipedia.org/wiki/Apache_Struts&quot; rel=&quot;nofollow noreferrer&quot;&gt;Struts&lt;/a&gt; 2 and &lt;a href=&quot;https://en.wikipedia.org/wiki/WebWork&quot; rel=&quot;nofollow noreferrer&quot;&gt;WebWork&lt;/a&gt; as an implementation for the MVC pattern uses &lt;a href=&quot;https://struts.apache.org/tag-developers/ognl&quot; rel=&quot;nofollow noreferrer&quot;&gt;OGNL&lt;/a&gt; &quot;very interesting technique to expose Beans properties to JSP&quot;.&lt;/p&gt;\n    ","\n&lt;p&gt;Experience has shown that JSP&apos;s have some shortcomings, one of them being hard to avoid mixing markup with actual code.&lt;/p&gt;\n\n&lt;p&gt;If you can, then consider using a specialized technology for what you need to do.  In Java EE 6 there is JSF 2.0, which provides a lot of nice features including gluing Java beans together with JSF pages through the &lt;code&gt;#{bean.method(argument)}&lt;/code&gt; approach.&lt;/p&gt;\n    ","\n&lt;p&gt;If you simply want to avoid the drawbacks of Java coding in JSP you can do so even with scriplets. Just follow some discipline to have minimal Java in JSP and almost no calculation and logic in the JSP page.&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&amp;lt;%@ page contentType=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text/html;charset=UTF-8&quot;&lt;/span&gt; language=&lt;span class=&quot;hljs-string&quot;&gt;&quot;java&quot;&lt;/span&gt; %&amp;gt;\n&amp;lt;% &lt;span class=&quot;hljs-comment&quot;&gt;// Instantiate a JSP controller&lt;/span&gt;\n&lt;span class=&quot;hljs-type&quot;&gt;MyController&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;clr&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;MyController&lt;/span&gt;(request, response);\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Process action, if any&lt;/span&gt;\nclr.process(request);\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Process page forwarding, if necessary&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Do all variable assignment here&lt;/span&gt;\n&lt;span class=&quot;hljs-type&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;showMe&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; clr.getShowMe();%&amp;gt;\n\n&amp;lt;html&amp;gt;\n    &amp;lt;head&amp;gt;\n    &amp;lt;/head&amp;gt;\n    &amp;lt;body&amp;gt;\n        &amp;lt;form name=&lt;span class=&quot;hljs-string&quot;&gt;&quot;frm1&quot;&lt;/span&gt;&amp;gt;\n            &amp;lt;p&amp;gt;&amp;lt;%= showMe %&amp;gt;\n            &amp;lt;p&amp;gt;&amp;lt;% &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(String str : clr.listOfStrings()) { %&amp;gt;\n            &amp;lt;p&amp;gt;&amp;lt;%= str %&amp;gt;&amp;lt;% } %&amp;gt;\n\n            &lt;span class=&quot;hljs-comment&quot;&gt;// And so on   &lt;/span&gt;\n        &amp;lt;/form&amp;gt;\n    &amp;lt;/body&amp;gt;\n&amp;lt;/html&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Learn to customize and write your own tags using JSTL&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;Note that EL is &lt;strong&gt;EviL&lt;/strong&gt; (runtime exceptions and refactoring).&lt;/p&gt;\n&lt;p&gt;Wicket may be evil too (performance and toilsome for small applications or simple view tier).&lt;/p&gt;\n&lt;h3&gt;Example from &lt;em&gt;java2s&lt;/em&gt;&lt;/h3&gt;\n&lt;p&gt;This must be added to the web application&apos;s web.xml&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&amp;lt;taglib&amp;gt;\n    &amp;lt;taglib-uri&amp;gt;/java2s&amp;lt;/taglib-uri&amp;gt;\n    &amp;lt;taglib-location&amp;gt;/WEB-INF/java2s.tld&amp;lt;/taglib-location&amp;gt;\n&amp;lt;/taglib&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Create file &lt;em&gt;java2s.tld&lt;/em&gt; in the &lt;em&gt;/WEB-INF/&lt;/em&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&amp;lt;!DOCTYPE taglib\n  PUBLIC &lt;span class=&quot;hljs-string&quot;&gt;&quot;-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN&quot;&lt;/span&gt;\n   &lt;span class=&quot;hljs-string&quot;&gt;&quot;http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd&quot;&lt;/span&gt;&amp;gt;\n\n&amp;lt;!-- A tab library descriptor --&amp;gt;\n&amp;lt;taglib xmlns=&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://java.sun.com/JSP/TagLibraryDescriptor&quot;&lt;/span&gt;&amp;gt;\n    &amp;lt;tlib-version&amp;gt;&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;&amp;lt;/tlib-version&amp;gt;\n    &amp;lt;jsp-version&amp;gt;&lt;span class=&quot;hljs-number&quot;&gt;1.2&lt;/span&gt;&amp;lt;/jsp-version&amp;gt;\n    &amp;lt;&lt;span class=&quot;hljs-type&quot;&gt;short&lt;/span&gt;-name&amp;gt;Java2s Simple Tags&amp;lt;/&lt;span class=&quot;hljs-type&quot;&gt;short&lt;/span&gt;-name&amp;gt;\n\n    &amp;lt;!-- This tag manipulates its body content by converting it to upper &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt;\n    --&amp;gt;\n    &amp;lt;tag&amp;gt;\n        &amp;lt;name&amp;gt;bodyContentTag&amp;lt;/name&amp;gt;\n        &amp;lt;tag-class&amp;gt;com.java2s.BodyContentTag&amp;lt;/tag-class&amp;gt;\n        &amp;lt;body-content&amp;gt;JSP&amp;lt;/body-content&amp;gt;\n        &amp;lt;attribute&amp;gt;\n          &amp;lt;name&amp;gt;howMany&amp;lt;/name&amp;gt;\n        &amp;lt;/attribute&amp;gt;\n    &amp;lt;/tag&amp;gt;\n&amp;lt;/taglib&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Compile the following code into &lt;em&gt;WEB-INF\\classes\\com\\java2s&lt;/em&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;package&lt;/span&gt; com.java2s;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; java.io.IOException;\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; javax.servlet.jsp.JspWriter;\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; javax.servlet.jsp.tagext.BodyContent;\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; javax.servlet.jsp.tagext.BodyTagSupport;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;BodyContentTag&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;BodyTagSupport&lt;/span&gt;{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; iterations, howMany;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;setHowMany&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; i)&lt;/span&gt;{\n        &lt;span class=&quot;hljs-built_in&quot;&gt;this&lt;/span&gt;.howMany = i;\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;setBodyContent&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(BodyContent bc)&lt;/span&gt;{\n        &lt;span class=&quot;hljs-built_in&quot;&gt;super&lt;/span&gt;.setBodyContent(bc);\n        System.out.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;BodyContent = &apos;&quot;&lt;/span&gt; + bc.getString() + &lt;span class=&quot;hljs-string&quot;&gt;&quot;&apos;&quot;&lt;/span&gt;);\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;doAfterBody&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;{\n        &lt;span class=&quot;hljs-keyword&quot;&gt;try&lt;/span&gt;{\n            &lt;span class=&quot;hljs-type&quot;&gt;BodyContent&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;bodyContent&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;super&lt;/span&gt;.getBodyContent();\n            &lt;span class=&quot;hljs-type&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;bodyString&lt;/span&gt;  &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; bodyContent.getString();\n            &lt;span class=&quot;hljs-type&quot;&gt;JspWriter&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; bodyContent.getEnclosingWriter();\n\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ( iterations % &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; == &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; )\n                out.print(bodyString.toLowerCase());\n            &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;\n                out.print(bodyString.toUpperCase());\n\n            iterations++;\n            bodyContent.clear(); &lt;span class=&quot;hljs-comment&quot;&gt;// empty buffer for next evaluation&lt;/span&gt;\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {\n            System.out.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Error in BodyContentTag.doAfterBody()&quot;&lt;/span&gt; + e.getMessage());\n            e.printStackTrace();\n        } &lt;span class=&quot;hljs-comment&quot;&gt;// End of catch&lt;/span&gt;\n\n        &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;retValue&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; SKIP_BODY;\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ( iterations &amp;lt; howMany )\n            retValue = EVAL_BODY_AGAIN;\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; retValue;\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Start the server and load the bodyContent.jsp file in the browser:&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&amp;lt;%@ taglib uri=&lt;span class=&quot;hljs-string&quot;&gt;&quot;/java2s&quot;&lt;/span&gt; prefix=&lt;span class=&quot;hljs-string&quot;&gt;&quot;java2s&quot;&lt;/span&gt; %&amp;gt;\n&amp;lt;html&amp;gt;\n    &amp;lt;head&amp;gt;\n        &amp;lt;title&amp;gt;A custom tag: body content&amp;lt;/title&amp;gt;\n    &amp;lt;/head&amp;gt;\n    &amp;lt;body&amp;gt;\n        This page uses a custom tag manipulates its body content.Here is its output:\n        &amp;lt;ol&amp;gt;\n            &amp;lt;java2s:bodyContentTag howMany=&lt;span class=&quot;hljs-string&quot;&gt;&quot;3&quot;&lt;/span&gt;&amp;gt;\n            &amp;lt;li&amp;gt;java2s.com&amp;lt;/li&amp;gt;\n            &amp;lt;/java2s:bodyContentTag&amp;gt;\n        &amp;lt;/ol&amp;gt;\n    &amp;lt;/body&amp;gt;\n&amp;lt;/html&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Apache_Wicket&quot; rel=&quot;nofollow noreferrer&quot;&gt;Wicket&lt;/a&gt; is also an alternative which completely separates Java from HTML, so a designer and programmer can work together and on different sets of code with little understanding of each other.&lt;/p&gt;\n&lt;p&gt;Look at Wicket.&lt;/p&gt;\n    ","\n&lt;p&gt;You raised a good question and although you got good answers, I would suggest that you get rid of JSP. It is outdated technology which eventually will die. Use a modern approach, like template engines. You will have very clear separation of business and presentation layers, and certainly no Java code in templates, so you can generate templates directly from web presentation editing software, in most cases leveraging WYSIWYG.&lt;/p&gt;\n\n&lt;p&gt;And certainly stay away of filters and pre and post processing, otherwise you may deal with support/debugging difficulties since you always do not know where the variable gets the value.&lt;/p&gt;\n    ","\n&lt;p&gt;In order to avoid Java code in JSP files, Java now provides tag libraries, like JSTL.&lt;/p&gt;\n&lt;p&gt;Also, Java has come up with &lt;a href=&quot;https://en.wikipedia.org/wiki/JavaServer_Faces&quot; rel=&quot;nofollow noreferrer&quot;&gt;JSF&lt;/a&gt; into which you can write all programming structures in the form of tags.&lt;/p&gt;\n    ","\n&lt;p&gt;No matter how much you try to avoid, when you work with other developers, some of them will still prefer scriptlet and then insert the evil code into the project. Therefore, setting up the project at the first sign is very important if you really want to reduce the scriptlet code. There are several techniques to get over this (including several frameworks that other mentioned). However, if you prefer the pure JSP way, then use the JSTL tag file. The nice thing about this is you can also set up master pages for your project, so the other pages can inherit the master pages&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Create a master page called base.tag under your WEB-INF/tags with the following content&lt;/strong&gt;&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&amp;lt;%&lt;span class=&quot;hljs-meta&quot;&gt;@tag&lt;/span&gt; description=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Overall Page template&quot;&lt;/span&gt; pageEncoding=&lt;span class=&quot;hljs-string&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;%&amp;gt;\n\n&amp;lt;%&lt;span class=&quot;hljs-meta&quot;&gt;@attribute&lt;/span&gt; name=&lt;span class=&quot;hljs-string&quot;&gt;&quot;title&quot;&lt;/span&gt; fragment=&lt;span class=&quot;hljs-string&quot;&gt;&quot;true&quot;&lt;/span&gt; %&amp;gt;\n\n&amp;lt;html&amp;gt;\n  &amp;lt;head&amp;gt;\n    &amp;lt;title&amp;gt;  \n       &amp;lt;jsp:invoke fragment=&lt;span class=&quot;hljs-string&quot;&gt;&quot;title&quot;&lt;/span&gt;&amp;gt;&amp;lt;/jsp:invoke&amp;gt;\n    &amp;lt;/title&amp;gt;\n\n  &amp;lt;/head&amp;gt;\n  &amp;lt;body&amp;gt;\n    &amp;lt;div id=&lt;span class=&quot;hljs-string&quot;&gt;&quot;page-header&quot;&lt;/span&gt;&amp;gt;\n       ....\n    &amp;lt;/div&amp;gt;\n    &amp;lt;div id=&lt;span class=&quot;hljs-string&quot;&gt;&quot;page-body&quot;&lt;/span&gt;&amp;gt;\n      &amp;lt;jsp:doBody/&amp;gt;\n    &amp;lt;/div&amp;gt;\n    &amp;lt;div id=&lt;span class=&quot;hljs-string&quot;&gt;&quot;page-footer&quot;&lt;/span&gt;&amp;gt;\n      .....\n    &amp;lt;/div&amp;gt;\n  &amp;lt;/body&amp;gt;\n&amp;lt;/html&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;On this mater page, I created a fragment called &quot;title&quot;, so that in the child page, I could insert more codes into this place of the master page. Also, the tag &lt;code&gt;&amp;lt;jsp:doBody/&amp;gt;&lt;/code&gt; will be replaced by the content of the child page &lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Create child page (child.jsp) in your WebContent folder:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;blockquote&gt;\n  \n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&amp;lt;%@ taglib prefix=&lt;span class=&quot;hljs-string&quot;&gt;&quot;t&quot;&lt;/span&gt; tagdir=&lt;span class=&quot;hljs-string&quot;&gt;&quot;/WEB-INF/tags&quot;&lt;/span&gt; %&amp;gt;\n\n&amp;lt;t:base&amp;gt;\n    &amp;lt;jsp:attribute name=&lt;span class=&quot;hljs-string&quot;&gt;&quot;title&quot;&lt;/span&gt;&amp;gt; \n        &amp;lt;bean:message key=&lt;span class=&quot;hljs-string&quot;&gt;&quot;hello.world&quot;&lt;/span&gt; /&amp;gt;\n    &amp;lt;/jsp:attribute&amp;gt;\n\n    &amp;lt;jsp:body&amp;gt;\n    [Put your content of the child here]\n    &amp;lt;/jsp:body&amp;gt;   \n&amp;lt;/t:base&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;code&gt;&amp;lt;t:base&amp;gt;&lt;/code&gt; is used to specify the master page you want to use (which is base.tag at this moment). All the content inside the tag &lt;code&gt;&amp;lt;jsp:body&amp;gt;&lt;/code&gt; here will replace the &lt;code&gt;&amp;lt;jsp:doBody/&amp;gt;&lt;/code&gt; on your master page. Your child page can also include any tag lib and you can use it normally like the other mentioned. However, if you use any scriptlet code here (&lt;code&gt;&amp;lt;%= request.getParameter(&quot;name&quot;) %&amp;gt;&lt;/code&gt; ...) and try to run this page, you will get a &lt;code&gt;JasperException because  Scripting elements ( &amp;amp;lt;%!, &amp;amp;lt;jsp:declaration, &amp;amp;lt;%=, &amp;amp;lt;jsp:expression, &amp;amp;lt;%, &amp;amp;lt;jsp:scriptlet ) are disallowed here&lt;/code&gt;. Therefore, there is no way other people can include the evil code into the jsp file&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Calling this page from your controller:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;You can easily call the child.jsp file from your controller. This also works nice with the struts framework&lt;/p&gt;\n    ","\n&lt;p&gt;Use JSTL tag libraries in JSP. That will work perfectly.&lt;/p&gt;\n    ","\n&lt;p&gt;Just use the JSTL tag and EL expression.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;If somebody is really against programming in more languages than one&lt;/strong&gt;, I suggest GWT. Theoretically, you can avoid all the JavaScript and HTML elements, because Google Toolkit transforms all the client and shared code to JavaScript. You won&apos;t have problem with them, so you have a webservice without coding in any other languages. You can even use some default CSS from somewhere as it is given by extensions (smartGWT or &lt;a href=&quot;https://en.wikipedia.org/wiki/Vaadin&quot; rel=&quot;nofollow noreferrer&quot;&gt;Vaadin&lt;/a&gt;). You don&apos;t need to learn dozens of annotations.&lt;/p&gt;\n&lt;p&gt;Of course, if you want, you can hack yourself into the depths of the code and inject JavaScript and enrich your HTML page, but really you can avoid it if you want, and the result will be good as it was written in any other frameworks. I it&apos;s say worth a try, and the basic GWT is well-documented.&lt;/p&gt;\n&lt;p&gt;And of course many fellow programmers hereby described or recommended several other solutions. GWT is for people who really don&apos;t want to deal with the web part or to minimize it.&lt;/p&gt;\n    ","\n&lt;p&gt;A neat idea from the Python world is &lt;em&gt;Template attribute languages&lt;/em&gt;; TAL was introduced by Zope (therefore a.k.a. &quot;Zope Page Templates&quot;, ZPT) and is a standard, with implementations in PHP, XSLT and Java as well (I have used the Python/Zope and PHP incarnations). In this class of templating languages, one of the above examples could look like this:&lt;/p&gt;\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;table&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;tal:repeat&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;product products&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;tal:content&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;product/name&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Example product&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;tal:content&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;product/description&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;A nice description&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;tal:content&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;product/price&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;1.23&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;table&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The code looks like ordinary HTML (or XHTML) plus some special attributes in an XML namespace; it can be viewed with a browser and safely be tweaked by a designer.&lt;/p&gt;\n&lt;p&gt;There is support for macros and for &lt;a href=&quot;https://en.wikipedia.org/wiki/Internationalization_and_localization&quot; rel=&quot;nofollow noreferrer&quot;&gt;internationalisation and localisation&lt;/a&gt; as well:&lt;/p&gt;\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h1&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;i18n:translate&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Our special offers&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;table&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;tal:repeat&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;product products&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;tal:content&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;product/name&quot;&lt;/span&gt;\n            &lt;span class=&quot;hljs-attr&quot;&gt;i18n:translate&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Example product&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;tal:content&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;product/description&quot;&lt;/span&gt;\n            &lt;span class=&quot;hljs-attr&quot;&gt;i18n:translate&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;A nice description&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;tal:content&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;product/price&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;1.23&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;table&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;If translations of the content are available, they are used.&lt;/p&gt;\n&lt;p&gt;I don&apos;t know very much about the &lt;a href=&quot;http://sourceforge.net/projects/javazpt/&quot; rel=&quot;nofollow noreferrer&quot;&gt;Java implementation&lt;/a&gt;, though.&lt;/p&gt;\n    ","\n&lt;p&gt;Using scriptlets in JSPs is not a good practice.&lt;/p&gt;\n\n&lt;p&gt;Instead, you can use:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;JSTL tags   &lt;/li&gt;\n&lt;li&gt;EL expressions&lt;/li&gt;\n&lt;li&gt;Custom Tags- you can define your own tags to use.&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;Please refer to: &lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;a href=&quot;http://docs.oracle.com/javaee/1.4/tutorial/doc/JSTL3.html&quot;&gt;http://docs.oracle.com/javaee/1.4/tutorial/doc/JSTL3.html&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://docs.oracle.com/javaee/1.4/tutorial/doc/JSPIntro7.html&quot;&gt;EL&lt;/a&gt; &lt;/li&gt;\n&lt;/ol&gt;\n    ","\n&lt;p&gt;Sure, replace &lt;code&gt;&amp;lt;%! counter++; %&amp;gt;&lt;/code&gt; by an event producer-consumer architecture, where the business layer is notified about the need to increment the counter, it reacts accordingly, and notifies the presenters so that they update the views. A number of database transactions are involved, since in future we will need to know the new and old value of the counter, who has incremented it and with what purpose in mind. Obviously serialization is involved, since the layers are entirely decoupled. You will be able to increment your counter over RMI, IIOP, SOAP. But only HTML is required, which you don&apos;t implement, since it is such a mundane case. Your new goal is to reach 250 increments a second on your new shiny E7, 64GB RAM server.&lt;/p&gt;\n\n&lt;p&gt;I have more than 20 years in programming, most of the projects fail before the sextet: Reusability Replaceability OO-ability Debuggability Testability Maintainability is even needed. Other projects, run by people who only cared about functionality, were extremely successful.  Also, stiff object structure, implemented too early in the project, makes the code unable to be adapted to the drastic changes in the specifications (aka agile).&lt;/p&gt;\n\n&lt;p&gt;So I consider as procrastination the activity of defining &quot;layers&quot; or redundant data structures either early in the project or when not specifically required. &amp;nbsp;&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Technically, JSP are all converted to Servlets during runtime&lt;/strong&gt;.&lt;/p&gt;\n&lt;p&gt;JSP was initially created for the purpose of the decoupling the business logic and the design logic, following the MVC pattern. So JSP is technically all Java code during runtime.&lt;/p&gt;\n&lt;p&gt;But to answer the question, &lt;em&gt;tag libraries&lt;/em&gt; are usually used for applying logic (removing Java code) to JSP pages.&lt;/p&gt;\n    ","\n&lt;p&gt;If we use the following things in a Java web application, Java code can be eliminated from the foreground of the JSP file.&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;Use the MVC architecture for a web application&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Use JSP Tags&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;a. Standard Tags&lt;/p&gt;\n&lt;p&gt;b. Custom Tags&lt;/p&gt;\n&lt;ol start=&quot;3&quot;&gt;\n&lt;li&gt;Expression Language&lt;/li&gt;\n&lt;/ol&gt;\n    ","\n&lt;p&gt;&lt;em&gt;&lt;strong&gt;How can I avoid Java code in JSP files?&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;\n&lt;p&gt;You can use tab library tags like &lt;strong&gt;JSTL&lt;/strong&gt; in addition to Expression Language (&lt;strong&gt;EL&lt;/strong&gt;). But EL does not work well with JSP. So it&apos;s is probably better to drop JSP completely and use &lt;strong&gt;Facelets&lt;/strong&gt;.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Facelets&lt;/strong&gt; is the first non JSP page declaration language designed for &lt;strong&gt;JSF (Java Server Faces)&lt;/strong&gt; which provided a simpler and more powerful programming model to JSF developers as compare to JSP. It resolves different issues occurs in JSP for web applications development.&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/osqxG.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/osqxG.png&quot; alt=&quot;Enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;http://javawebaction.blogspot.fr/2012/05/difference-between-jsp-and-facelets.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;Source&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Using Scriptlets is a very old way and &lt;em&gt;not&lt;/em&gt; recommended. If you want directly output something in your JSP pages, just use &lt;strong&gt;Expression Language (EL)&lt;/strong&gt;  along with &lt;strong&gt;JSTL&lt;/strong&gt;.&lt;/p&gt;\n&lt;p&gt;There are also other options, such as using a templating engine such as Velocity, Freemarker, Thymeleaf, etc. But using plain JSP with EL and JSTL serves my purpose most of the time and it also seems the simplest for a beginner.&lt;/p&gt;\n&lt;p&gt;Also, take note that it is not a best practice to do business logic in the view layer. You should perform your business logic in the &lt;em&gt;service&lt;/em&gt; layer,\nand pass the output result to your views through a &lt;em&gt;controller&lt;/em&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;Use a Backbone.js or AngularJS-like JavaScript framework for UI design\nand fetch the data using a REST API. This will remove the Java dependency from the UI completely.&lt;/p&gt;\n    ","\n&lt;p&gt;Nothing of that is used anymore, my friend. My advice is to decouple the view (CSS, HTML, JavaScript, etc.) from the server.&lt;/p&gt;\n&lt;p&gt;In my case, I do my systems handling the view with Angular and any data needed is brought from the server using REST services.&lt;/p&gt;\n&lt;p&gt;Believe me, this will change the way you design.&lt;/p&gt;\n    ","\n&lt;p&gt;JSP 2.0 has a feature called &lt;strong&gt;&quot;Tag Files&quot;&lt;/strong&gt;, and you can write tags without external Java code and &lt;code&gt;tld&lt;/code&gt;. You need to create a &lt;code&gt;.tag&lt;/code&gt; file and put it in &lt;code&gt;WEB-INF\\tags&lt;/code&gt;. You can even create a directory structure to package your tags.&lt;/p&gt;\n&lt;p&gt;For example:&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;/WEB-INF/tags/html/label.tag\n\n&amp;lt;%&lt;span class=&quot;hljs-meta&quot;&gt;@tag&lt;/span&gt; description=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Rensders a label with required css class&quot;&lt;/span&gt; pageEncoding=&lt;span class=&quot;hljs-string&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;%&amp;gt;\n&amp;lt;%&lt;span class=&quot;hljs-meta&quot;&gt;@attribute&lt;/span&gt; name=&lt;span class=&quot;hljs-string&quot;&gt;&quot;name&quot;&lt;/span&gt; required=&lt;span class=&quot;hljs-string&quot;&gt;&quot;true&quot;&lt;/span&gt; description=&lt;span class=&quot;hljs-string&quot;&gt;&quot;The label&quot;&lt;/span&gt;%&amp;gt;\n\n&amp;lt;label class=&lt;span class=&quot;hljs-string&quot;&gt;&quot;control-label control-default&quot;&lt;/span&gt;  id=&lt;span class=&quot;hljs-string&quot;&gt;&quot;${name}Label&quot;&lt;/span&gt;&amp;gt;${name}&amp;lt;/label&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Use it like&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&amp;lt;%@ taglib prefix=&lt;span class=&quot;hljs-string&quot;&gt;&quot;h&quot;&lt;/span&gt; tagdir=&lt;span class=&quot;hljs-string&quot;&gt;&quot;/WEB-INF/tags/html&quot;&lt;/span&gt;%&amp;gt;\n&amp;lt;h:label  name=&lt;span class=&quot;hljs-string&quot;&gt;&quot;customer name&quot;&lt;/span&gt; /&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Also, you can read the tag body easily:&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;/WEB-INF/tags/html/bold.tag\n&amp;lt;%&lt;span class=&quot;hljs-meta&quot;&gt;@tag&lt;/span&gt; description=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Bold tag&quot;&lt;/span&gt; pageEncoding=&lt;span class=&quot;hljs-string&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;%&amp;gt;\n&amp;lt;b&amp;gt;\n  &amp;lt;jsp:doBody/&amp;gt;\n&amp;lt;/b&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Use it:&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&amp;lt;%@ taglib prefix=&lt;span class=&quot;hljs-string&quot;&gt;&quot;h&quot;&lt;/span&gt; tagdir=&lt;span class=&quot;hljs-string&quot;&gt;&quot;/WEB-INF/tags/bold&quot;&lt;/span&gt;%&amp;gt;\n&amp;lt;h:bold&amp;gt;Make me bold&amp;lt;/h:bold&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The samples are very simple, but you can do lots of complicated tasks here. Please consider you can use other tags (for example: &lt;code&gt;JSTL&lt;/code&gt; which has controlling tags like &lt;code&gt;if/forEcah/chosen&lt;/code&gt; text manipulation like &lt;code&gt;format/contains/uppercase&lt;/code&gt; or even SQL tags &lt;code&gt;select/update&lt;/code&gt;), pass all kind parameters, for example &lt;code&gt;Hashmap&lt;/code&gt;, access &lt;code&gt;session&lt;/code&gt;, &lt;code&gt;request&lt;/code&gt;, ... in your tag file too.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Tag File&lt;/strong&gt; are so easy developed as you did not need to restart the server when changing them, like JSP files. This makes them easy for development.&lt;/p&gt;\n&lt;p&gt;Even if you use a framework like Struts 2, which have lots of good tags, you may find that having your own tags can reduce your code a lot. You can pass your tag parameters to struts and this way customize your framework tag.&lt;/p&gt;\n&lt;p&gt;You can use tags not only to avoid Java, but also minimize your HTML codes. I myself try to review HTML code and build tags a lot as soon as I see code duplicates start in my pages.&lt;/p&gt;\n&lt;p&gt;(Even if you end up using Java in your JSP code, which I hope not, you can encapsulate that code in a tag.)&lt;/p&gt;\n    ","\n&lt;ol&gt;\n&lt;li&gt;Make your values and parameters inside your servlet classes&lt;/li&gt;\n&lt;li&gt;Fetch those values and parameters within your JSP using JSTL/Taglib&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;The good thing about this approach is that your code is also HTML like\n  code!&lt;/p&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;As many answers says, use JSTL or create your own custom tags. &lt;a href=&quot;http://www.journaldev.com/2099/jsp-custom-tags-example-tutorial&quot; rel=&quot;nofollow noreferrer&quot;&gt;Here&lt;/a&gt; is a good explanation about creating custom tags.&lt;/p&gt;\n    ","\n&lt;p&gt;A lot of the answers here go the &quot;use a framework&quot; route. There&apos;s zero wrong with that. However I don&apos;t think it really answers your question, because frameworks may or may not use JSPs, nor are they designed in any way with removing java use in JSPs as a primary goal. &lt;br&gt;&lt;br&gt;\nThe only good answer to your question &quot;how do I avoid using Java in a JSP&quot; is: you can&apos;t. &lt;br&gt; &lt;br&gt;That&apos;s what JSPs are for - using Java to render HTML with dynamic data/logic.\nThe follow up question might be, how much java should I use in my JSPs.&lt;br&gt; Before we answer that question, you should also ponder, &quot;do I need to use JSPs to build web content using Java?&quot; The answer to that last one is, no. There are many alternatives to JSPs for developing web facing applications using Java. Struts for example does not force you to use JSPs - don&apos;t get me wrong, you can use them and many implementations do, but you don&apos;t absolutely have to. Struts doesn&apos;t even force you to use any HTML. A JSP doesn&apos;t either, but let&apos;s be honest, a JSP producing no HTML is kinda weird. Servlets, famously, allow you to serve any kind of content you like over HTTP dynamically. They are &lt;em&gt;the&lt;/em&gt; primary tech behind pretty much everything java web - JSPs are just HTML templates for servlets, really. &lt;br&gt;\nSo the answer to how much java you should put in a JSP is, &quot;as little as possible&quot;. I of course have java in my JSPs, but it consists exclusively of tag library definitions, session and client variables, and beans encapsulating server side objects. The &amp;lt;%%&amp;gt; tags in my HTML are almost exclusively property calls or variable expressions. Rare exceptions include ultra-specific calculations pertaining to a single page and unlikely to ever be reused; bugfixes stemming from page-specific issues only applying to one page; last minute concatenations and arithmetic stemming from unusual requirements limited in scope to a single page; and other similar cases. In a code set of 1.5 million lines, 3000 JSPs and 5000 classes, there are maybe 100 instances of such unique snippets. It would have been quite possible to make these changes in classes or tag library definitions, but it would have been inordinately complex due to the specificity of each case, taken longer to write and debug, and taken more time as a result to get to my users. It&apos;s a judgement call. But make no mistake, you cannot write JSPs of any meaning with &quot;no java&quot; nor would you want to. The capability is there for a reason.&lt;/p&gt;\n    ","\n&lt;p&gt;Java itself is a very nice language, but heavy usage in the enterprise environment made its standard solutions extremely (ridiculously) difficult. Examples: JSTL, JSF, Wicket, etc.&lt;/p&gt;\n&lt;p&gt;Here is a super lightweight approach to creating a backend in Java:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;don&apos;t use JSP (or any other template engine) at all;&lt;/li&gt;\n&lt;li&gt;use plain HTML templates;&lt;/li&gt;\n&lt;li&gt;use JSOUP to parse HTML templates into Document object;&lt;/li&gt;\n&lt;li&gt;modify Document object using its very intuitive jQuery like methods;&lt;/li&gt;\n&lt;li&gt;return Document.toString() as response to request.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;I use it for one of my side projects (hosted Digitalocean $5 droplet, Nginx, Tomcat) and it is very fast: according to Googlebot average response time is about 160 ms.&lt;/p&gt;\n    "]},"randomTags":[{"name":"gethashcode","slug":"gethashcode"},{"name":"chained-assignment","slug":"chained-assignment"},{"name":"ssl-certificate","slug":"ssl-certificate"},{"name":"vb.net","slug":"vb.net"},{"name":"python-packaging","slug":"python-packaging"},{"name":"invoke","slug":"invoke"},{"name":"arrayindexoutofboundsexception","slug":"arrayindexoutofboundsexception"},{"name":"sticky-footer","slug":"sticky-footer"},{"name":"dynamic-memory-allocation","slug":"dynamic-memory-allocation"},{"name":"preflight","slug":"preflight"},{"name":"xml","slug":"xml"},{"name":"matlab","slug":"matlab"},{"name":"android-sdk-tools","slug":"android-sdk-tools"},{"name":"this","slug":"this"},{"name":"react-hooks","slug":"react-hooks"},{"name":"facelets","slug":"facelets"},{"name":"tsql","slug":"tsql"},{"name":"precision","slug":"precision"},{"name":"cross-browser","slug":"cross-browser"},{"name":"email","slug":"email"}]},"__N_SSG":true}