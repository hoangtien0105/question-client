<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/2eccd4d47c856f2b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2eccd4d47c856f2b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-20edbe0b078add93.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/613-1e0aa2b2023820bb.js" defer=""></script><script src="/_next/static/chunks/495-bb1d5b202c02d7f2.js" defer=""></script><script src="/_next/static/chunks/81-096e453de8a27667.js" defer=""></script><script src="/_next/static/chunks/pages/questions/tag/%5Bslug%5D-6802ea06aeddcbec.js" defer=""></script><script src="/_next/static/4Y8KGE-c2lolBeBmcum_I/_buildManifest.js" defer=""></script><script src="/_next/static/4Y8KGE-c2lolBeBmcum_I/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.5"></style></head><body><div id="__next"><div class="sc-9099c029-0 cIPEih"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="https://flowbite.com/docs/images/logo.svg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo"/><span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Hunter</span></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/tag/mysqli#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="sc-c5440139-0 figLul question my-5"><div class="flex items-center justify-center"><div class="rounded-xl border p-5 shadow-md w-9/12 bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-to-deal-with-mysqli-problems-mysqli_fetch_array():-argument-1-must-be-of-type-mysqli_result-1657384360922">How to deal with mysqli problems? mysqli_fetch_array(): Argument #1 must be of type mysqli_result</a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/mysqli">mysqli</a></div></div><div class="mt-4 mb-6" style="height:100px;overflow:auto"><h4 class="font-semibold">Solution 1:</h4><div class="text-sm bg-green-100 text-neutral-600">
<h3>TL;DR</h3>
<ol>
<li>Always have <code>mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);</code> in your mysqli connection code <em>and always check the PHP errors</em>.</li>
<li>Always replace every PHP variable in the SQL query with a question mark, and execute the query using <a href="https://phpdelusions.net/mysqli_examples/prepared_select" rel="nofollow noreferrer"><strong>prepared statement</strong></a>. It will help to avoid syntax errors of all sorts.</li>
</ol>
<h3>Explanation</h3>
<p>Sometimes your MySQLi code produces an error like <code>mysqli_fetch_assoc() expects parameter 1 to be mysqli_result, boolean given...</code>, <code>Call to a member function bind_param()...</code> or similar. Or even without any error, but the query doesn't work all the same. It means that your query failed to execute.</p>
<p>Every time a query fails, MySQL has <strong>an error message that explains the reason</strong>. In the older PHP versions such errors weren't transferred to PHP, and all you'd get is a cryptic error message mentioned above. Hence it is very important to configure PHP and MySQLi to report MySQL errors to you. And once you get the error message, fixing it will be a piece of cake.</p>
<h3>How to get the error message in MySQLi</h3>
<p>First of all, always have this line before MySQLi connect in <strong>all</strong> your environments:</p>
<pre class="lang-php s-code-block"><code class="hljs language-php"><span class="hljs-title function_ invoke__">mysqli_report</span>(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);
</code></pre>
<p>After that, all MySQL errors will be transferred into PHP exceptions. An uncaught exception, in turn, makes a PHP fatal error. Thus, in case of a MySQL error, you'll get a conventional PHP error. That will instantly make you aware of the error cause. And the stack trace will lead you to the exact spot where the error occurred.</p>
<h3>How to get the error message from PHP</h3>
<p>Here is a gist of my article on <a href="https://phpdelusions.net/articles/error_reporting" rel="nofollow noreferrer">PHP error reporting</a>:
Reporting errors on a development and live servers must be different. On the development server it is convenient to have errors shown on-screen, but on a live server error messages must be logged instead, so you could find them in the error log later.</p>
<p>Therefore, you must set corresponding configuration options to the following values:</p>
<ul>
<li><p>On a development server</p>
</li>
<li><p><code>error_reporting</code> should be set to <code>E_ALL</code> value;</p>
</li>
<li><p><code>log_errors</code> should be set to 1 (it is convenient to have logs on a development PC too)</p>
</li>
<li><p><code>display_errors</code> should be set to 1</p>
</li>
<li><p>On a production server</p>
</li>
<li><p><code>error_reporting</code> should be set to <code>E_ALL</code> value;</p>
</li>
<li><p><code>log_errors</code> should be set to 1</p>
</li>
<li><p><code>display_errors</code> should be set to 0</p>
</li>
</ul>
<p>After that, when MySQL query fails, you will get a PHP error that explains the reason. On a live server, in order to get the error message, you'll have to check the error log.</p>
<h3>How to actually use it</h3>
<p><strong>Just remove any code that checks for the error manually</strong>, all those <code>or die()</code>, <code>if ($result)</code>, <code>try..catch</code> and such. Simply write your database interaction code right away:</p>
<pre class="lang-php s-code-block"><code class="hljs language-php"><span class="hljs-variable">$stmt</span> = <span class="hljs-variable language_">$this</span>-&gt;con-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-string">"INSERT INTO table(name, quantity) VALUES (?,?)"</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">bind_param</span>(<span class="hljs-string">"si"</span>, <span class="hljs-variable">$name</span>, <span class="hljs-variable">$quantity</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>();
</code></pre>
<p>Again, <strong>without any conditions around</strong>. If an error occurs, it will be treated like any other error in your code. For example, on a development PC it will just appear on-screen, while on a live site it will be logged for the programmer, whereas for the user's convenience you could use an error handler (but that's a different story which is off topic for MySQLi, but you may read about it in the article linked above).</p>
<h3>What to do with the error message you get</h3>
<p>First of all you have to locate the problem query. The error message contains <em>the file name and the line number</em> of the exact spot where the error occurred. For the simple code that's enough, but if your code is using functions or classes you may need to follow the <em>stack trace</em> to locate the problem query.</p>
<p>After getting the error message, you have to read and comprehend it. It sounds too obvious if not condescending, but learners often overlook the fact that the error message is not just an alarm signal, but it actually contains a <em>detailed explanation of the problem</em>. And all you need is to read the error message and fix the issue.</p>
<ul>
<li>Say, if it says that a particular table doesn't exist, you have to check spelling, typos, and letter case. Also you have to make sure that your PHP script connects to a correct database</li>
<li>Or, if it says there is an error in the SQL syntax, then you have to examine your SQL. And the problem spot is right <strong>before</strong> the query part cited in the error message.</li>
</ul>
<p>If you don't understand the error message, try to google it. And when browsing the results, stick to answers that <em>explain</em> the error rather than bluntly give the solution. A solution may not work in your particular case, but the explanation will help you to understand the problem and make you able to fix the issue by yourself.</p>
<p>You have to also <em>trust</em> the error message. If it says that number of tokens doesn't match the number of bound variables then it <em>is</em> so. The same goes for the absent tables or columns. Given the choice, whether it's your own mistake or the error message is wrong, always stick to the former. Again it sounds condescending, but hundreds of questions on this very site prove this advise extremely useful.</p>
<h3>A list of things you should never ever do in regard of error reporting</h3>
<ul>
<li>Never use an error suppression operator (<code>@</code>)! It makes a programmer  unable read the error message and therefore unable to fix the error</li>
<li>Do not use <code>die()</code> or <code>echo</code> or any other function to print the error message on the screen unconditionally. PHP can report errors by itself and do it the right way depends on the environment - so just leave it for PHP.</li>
<li>Do not add a condition to test the query result manually (like <code>if($result)</code>). With error exceptions enabled such condition will just be useless.</li>
<li>Do not use the <code>try..catch</code> operator for echoing the error message. This operator should be used to perform some error handling, like a transaction rollback. But never use it just to report errors - as we learned above, PHP can already do it, the right way.</li>
</ul>
<p><strong>P.S.</strong> <br>
Sometimes there is no error, but no results either. Then it means, <em>there is no data in the database to match your criteria</em>. In this case you have to admit this fact, even if you can swear the data and the criteria are all right. They are not. You have to check them again.</p>
<p>I've got an article that can help in this matter, <em><a href="https://phpdelusions.net/pdo/mcve" rel="nofollow noreferrer">How to debug database interactions</a></em>. Although it is written for PDO, the principle is the same. Just follow those instructions step by step and either have your problem solved or have an answerable question for Stack Overflow.</p>
    </div></div><div><div class="flex items-center justify-between text-slate-500"><div class="flex space-x-4 md:space-x-8"><div class="flex cursor-pointer items-center transition hover:text-slate-600"><svg xmlns="http://www.w3.org/2000/svg" class="mr-1.5 h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"></path></svg><span>4</span></div></div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"count":1,"rows":[{"answer":["\n\u0026lt;h3\u0026gt;TL;DR\u0026lt;/h3\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Always have \u0026lt;code\u0026gt;mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\u0026lt;/code\u0026gt; in your mysqli connection code \u0026lt;em\u0026gt;and always check the PHP errors\u0026lt;/em\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Always replace every PHP variable in the SQL query with a question mark, and execute the query using \u0026lt;a href=\u0026quot;https://phpdelusions.net/mysqli_examples/prepared_select\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;prepared statement\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt;. It will help to avoid syntax errors of all sorts.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;h3\u0026gt;Explanation\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;Sometimes your MySQLi code produces an error like \u0026lt;code\u0026gt;mysqli_fetch_assoc() expects parameter 1 to be mysqli_result, boolean given...\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;Call to a member function bind_param()...\u0026lt;/code\u0026gt; or similar. Or even without any error, but the query doesn\u0026apos;t work all the same. It means that your query failed to execute.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Every time a query fails, MySQL has \u0026lt;strong\u0026gt;an error message that explains the reason\u0026lt;/strong\u0026gt;. In the older PHP versions such errors weren\u0026apos;t transferred to PHP, and all you\u0026apos;d get is a cryptic error message mentioned above. Hence it is very important to configure PHP and MySQLi to report MySQL errors to you. And once you get the error message, fixing it will be a piece of cake.\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;How to get the error message in MySQLi\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;First of all, always have this line before MySQLi connect in \u0026lt;strong\u0026gt;all\u0026lt;/strong\u0026gt; your environments:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-php s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_report\u0026lt;/span\u0026gt;(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;After that, all MySQL errors will be transferred into PHP exceptions. An uncaught exception, in turn, makes a PHP fatal error. Thus, in case of a MySQL error, you\u0026apos;ll get a conventional PHP error. That will instantly make you aware of the error cause. And the stack trace will lead you to the exact spot where the error occurred.\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;How to get the error message from PHP\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;Here is a gist of my article on \u0026lt;a href=\u0026quot;https://phpdelusions.net/articles/error_reporting\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;PHP error reporting\u0026lt;/a\u0026gt;:\nReporting errors on a development and live servers must be different. On the development server it is convenient to have errors shown on-screen, but on a live server error messages must be logged instead, so you could find them in the error log later.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Therefore, you must set corresponding configuration options to the following values:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;On a development server\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;error_reporting\u0026lt;/code\u0026gt; should be set to \u0026lt;code\u0026gt;E_ALL\u0026lt;/code\u0026gt; value;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;log_errors\u0026lt;/code\u0026gt; should be set to 1 (it is convenient to have logs on a development PC too)\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;display_errors\u0026lt;/code\u0026gt; should be set to 1\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;On a production server\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;error_reporting\u0026lt;/code\u0026gt; should be set to \u0026lt;code\u0026gt;E_ALL\u0026lt;/code\u0026gt; value;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;log_errors\u0026lt;/code\u0026gt; should be set to 1\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;display_errors\u0026lt;/code\u0026gt; should be set to 0\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;After that, when MySQL query fails, you will get a PHP error that explains the reason. On a live server, in order to get the error message, you\u0026apos;ll have to check the error log.\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;How to actually use it\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Just remove any code that checks for the error manually\u0026lt;/strong\u0026gt;, all those \u0026lt;code\u0026gt;or die()\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;if ($result)\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;try..catch\u0026lt;/code\u0026gt; and such. Simply write your database interaction code right away:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-php s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;con-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;prepare\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;INSERT INTO table(name, quantity) VALUES (?,?)\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;bind_param\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;si\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$name\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$quantity\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Again, \u0026lt;strong\u0026gt;without any conditions around\u0026lt;/strong\u0026gt;. If an error occurs, it will be treated like any other error in your code. For example, on a development PC it will just appear on-screen, while on a live site it will be logged for the programmer, whereas for the user\u0026apos;s convenience you could use an error handler (but that\u0026apos;s a different story which is off topic for MySQLi, but you may read about it in the article linked above).\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;What to do with the error message you get\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;First of all you have to locate the problem query. The error message contains \u0026lt;em\u0026gt;the file name and the line number\u0026lt;/em\u0026gt; of the exact spot where the error occurred. For the simple code that\u0026apos;s enough, but if your code is using functions or classes you may need to follow the \u0026lt;em\u0026gt;stack trace\u0026lt;/em\u0026gt; to locate the problem query.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;After getting the error message, you have to read and comprehend it. It sounds too obvious if not condescending, but learners often overlook the fact that the error message is not just an alarm signal, but it actually contains a \u0026lt;em\u0026gt;detailed explanation of the problem\u0026lt;/em\u0026gt;. And all you need is to read the error message and fix the issue.\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Say, if it says that a particular table doesn\u0026apos;t exist, you have to check spelling, typos, and letter case. Also you have to make sure that your PHP script connects to a correct database\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Or, if it says there is an error in the SQL syntax, then you have to examine your SQL. And the problem spot is right \u0026lt;strong\u0026gt;before\u0026lt;/strong\u0026gt; the query part cited in the error message.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;If you don\u0026apos;t understand the error message, try to google it. And when browsing the results, stick to answers that \u0026lt;em\u0026gt;explain\u0026lt;/em\u0026gt; the error rather than bluntly give the solution. A solution may not work in your particular case, but the explanation will help you to understand the problem and make you able to fix the issue by yourself.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You have to also \u0026lt;em\u0026gt;trust\u0026lt;/em\u0026gt; the error message. If it says that number of tokens doesn\u0026apos;t match the number of bound variables then it \u0026lt;em\u0026gt;is\u0026lt;/em\u0026gt; so. The same goes for the absent tables or columns. Given the choice, whether it\u0026apos;s your own mistake or the error message is wrong, always stick to the former. Again it sounds condescending, but hundreds of questions on this very site prove this advise extremely useful.\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;A list of things you should never ever do in regard of error reporting\u0026lt;/h3\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Never use an error suppression operator (\u0026lt;code\u0026gt;@\u0026lt;/code\u0026gt;)! It makes a programmer  unable read the error message and therefore unable to fix the error\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Do not use \u0026lt;code\u0026gt;die()\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;echo\u0026lt;/code\u0026gt; or any other function to print the error message on the screen unconditionally. PHP can report errors by itself and do it the right way depends on the environment - so just leave it for PHP.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Do not add a condition to test the query result manually (like \u0026lt;code\u0026gt;if($result)\u0026lt;/code\u0026gt;). With error exceptions enabled such condition will just be useless.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Do not use the \u0026lt;code\u0026gt;try..catch\u0026lt;/code\u0026gt; operator for echoing the error message. This operator should be used to perform some error handling, like a transaction rollback. But never use it just to report errors - as we learned above, PHP can already do it, the right way.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;P.S.\u0026lt;/strong\u0026gt; \u0026lt;br\u0026gt;\nSometimes there is no error, but no results either. Then it means, \u0026lt;em\u0026gt;there is no data in the database to match your criteria\u0026lt;/em\u0026gt;. In this case you have to admit this fact, even if you can swear the data and the criteria are all right. They are not. You have to check them again.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I\u0026apos;ve got an article that can help in this matter, \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://phpdelusions.net/pdo/mcve\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;How to debug database interactions\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;. Although it is written for PDO, the principle is the same. Just follow those instructions step by step and either have your problem solved or have an answerable question for Stack Overflow.\u0026lt;/p\u0026gt;\n    "],"comment":["\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;It could be that your MySQL user is lacking the privileges to do a \u0026lt;code\u0026gt;SELECT\u0026lt;/code\u0026gt; query. Did you check that?\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/1438393/amal-murali\u0026quot; title=\u0026quot;73,345 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Amal Murali\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment34519896_22662488\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2014-03-26 13:30:30Z, License: CC BY-SA 3.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Mar 26, 2014 at 13:30\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@AdamWinter using @ is always wrong, and in this particular case is tenfold. Error messages to your program is the same as a pain to your body. It tells you that something is wrong, like your leg is broken. And you have to fix the leg not just take a painkiller and go on. SAME HERE. PHP tells you there is no variable that you expect. So you have to fix the form or whatever, to make this variable available. Not just write a code to circumvent an error.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/285587/your-common-sense\u0026quot; title=\u0026quot;155,064 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Your Common Sense\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment109677105_22662582\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-05-25 22:10:48Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;May 25, 2020 at 22:10\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;For the most part, I agree, however \u0026apos;Your Common Sense\u0026apos; i disagree with, \u0026quot;Not just write code to circumvent an error\u0026quot; what do you think a try...catch does, it circumvents the error to prevent the codebase exiting out in an uncontrolled manner, some errors you can\u0026apos;t fix in code E.G DB server has gone away, you just have to manage the error and circumvent the error to poduce a valid result.\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/493804/barkermn01\u0026quot; title=\u0026quot;6,525 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Barkermn01\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment112843657_22662582\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-09-09 14:44:16Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Sep 9, 2020 at 14:44\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;@Barkermn01 that\u0026apos;s a proper concern of yours but you are drawing wrong conclusions from it. Of course your application should produce a valid result (which, in case of a \u0026quot;Mysql has gone away\u0026quot; error should be a generic 500 error page). But you have to understand that such a valid result \u0026lt;i\u0026gt;is not a concern of your database  code\u0026lt;/i\u0026gt;. Your database related code should work with a database. Whereas showing the error page should be a concern of a different code. See here: \u0026lt;a href=\u0026quot;https://phpdelusions.net/articles/error_reporting\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;phpdelusions.net/articles/error_reporting\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/285587/your-common-sense\u0026quot; title=\u0026quot;155,064 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Your Common Sense\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment112843864_22662582\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-09-09 14:50:59Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Sep 9, 2020 at 14:50\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 1 time\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;i understand that it was just the stuff like \u0026apos; But never use it just to report errors\u0026apos; it sort of precludes fully objective codebases, E.G my MVC if my models encounter an error they need to handle the error then throw it back up so my controller where model usage is wrapped can deal with the error and presenting the error, in this case, my I\u0026apos;m using it\u0026apos;s an API so the error and all trace info is sent out the API call if it came from our Remote system (Origin Verification) as a lot of web stuff dose now PHP backend REACT or Angular Front end\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/493804/barkermn01\u0026quot; title=\u0026quot;6,525 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;Barkermn01\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment112857116_22662582\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2020-09-10 01:10:13Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Sep 10, 2020 at 1:10\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 3 times\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        ","\n            \u0026lt;div class=\u0026quot;comment-body js-comment-edit-hide\u0026quot;\u0026gt;\n                \n                \u0026lt;span class=\u0026quot;comment-copy\u0026quot;\u0026gt;\u0026lt;i\u0026gt;\u0026quot;Uncaught exception, in turn, makes a PHP fatal error\u0026quot;\u0026lt;/i\u0026gt; Is causing a fatal error a good idea on a PRODUCTION server (for mysql errors)? Aren\u0026apos;t there a few situations where the error indicates a problem that your script should deal with, and continue however it can; e.g. inform the user that you can\u0026apos;t give them that info right now, while alerting an operator to investigate? \u0026lt;b\u0026gt;EDIT\u0026lt;/b\u0026gt; I see, where needed you try..catch mysql errors (that you have converted to php errors).\u0026lt;/span\u0026gt;\n                \n              \u0026lt;div class=\u0026quot;d-inline-flex ai-center\u0026quot;\u0026gt;\n\u0026amp;nbsp;\u0026lt;a href=\u0026quot;/users/199364/toolmakersteve\u0026quot; title=\u0026quot;11,966 reputation\u0026quot; class=\u0026quot;comment-user\u0026quot;\u0026gt;ToolmakerSteve\u0026lt;/a\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;span class=\u0026quot;comment-date\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;comment-link\u0026quot; href=\u0026quot;#comment120758580_22662582\u0026quot;\u0026gt;\u0026lt;span title=\u0026quot;2021-07-10 12:32:01Z, License: CC BY-SA 4.0\u0026quot; class=\u0026quot;relativetime-clean\u0026quot;\u0026gt;Jul 10, 2021 at 12:32\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/span\u0026gt;\n                        \u0026lt;span title=\u0026quot;this comment was edited 5 times\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;va-text-bottom o50 svg-icon iconPencilSm\u0026quot; width=\u0026quot;14\u0026quot; height=\u0026quot;14\u0026quot; viewBox=\u0026quot;0 0 14 14\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/span\u0026gt;\n            \u0026lt;/div\u0026gt;\n        "],"id":37,"title":"How to deal with mysqli problems? mysqli_fetch_array(): Argument #1 must be of type mysqli_result","content":"\n                \n\u0026lt;p\u0026gt;In my local/development environment, the MySQLi query is performing OK. However, when I upload it on my web host environment, I get this error:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;Fatal error: Call to a member function bind_param() on a non-object in...\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;Here is the code:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-php s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;global\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$mysqli\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$mysqli\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;prepare\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SELECT id, description FROM tbl_page_answer_category WHERE cur_own_id = ?\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;bind_param\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;i\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$cur_id\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;();\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;bind_result\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$uid\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$desc\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;To check my query, I tried to execute the query via control panel \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/PhpMyAdmin\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;phpMyAdmin\u0026lt;/a\u0026gt; and the result is OK.\u0026lt;/p\u0026gt;\n    ","slug":"how-to-deal-with-mysqli-problems-mysqli_fetch_array():-argument-1-must-be-of-type-mysqli_result-1657384360922","postType":"QUESTION","createdAt":"2022-07-09T16:32:40.000Z","updatedAt":"2022-07-09T16:32:40.000Z","tags":[{"id":131,"name":"mysqli","slug":"mysqli","createdAt":"2022-07-09T16:32:40.000Z","updatedAt":"2022-07-09T16:32:40.000Z","Questions_Tags":{"questionId":37,"tagId":131}}]}]}},"__N_SSG":true},"page":"/questions/tag/[slug]","query":{"slug":"mysqli"},"buildId":"4Y8KGE-c2lolBeBmcum_I","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>