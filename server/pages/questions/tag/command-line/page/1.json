{"pageProps":{"data":{"count":1,"rows":[{"id":212,"title":"How do I set a variable to the output of a command in Bash?","slug":"how-do-i-set-a-variable-to-the-output-of-a-command-in-bash-1657387250909","postType":"QUESTION","createdAt":"2022-07-09T17:20:50.000Z","updatedAt":"2022-07-09T17:20:50.000Z","tags":[{"id":1480,"name":"command-line","slug":"command-line","createdAt":"2022-07-09T17:20:51.000Z","updatedAt":"2022-07-09T17:20:51.000Z","Questions_Tags":{"questionId":212,"tagId":1480}}]}]},"slug":"command-line","page":"1","answers":{"212":["\n&lt;p&gt;In addition to backticks &lt;code&gt;`command`&lt;/code&gt;, &lt;a href=&quot;http://www.gnu.org/software/bash/manual/bashref.html#Command-Substitution&quot; rel=&quot;noreferrer&quot;&gt;command substitution&lt;/a&gt; can be done with &lt;code&gt;$(command)&lt;/code&gt; or &lt;code&gt;&quot;$(command)&quot;&lt;/code&gt;, which I find easier to read, and allows for nesting.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;OUTPUT=$(&lt;span class=&quot;hljs-built_in&quot;&gt;ls&lt;/span&gt; -1)\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;${OUTPUT}&lt;/span&gt;&quot;&lt;/span&gt;\n\nMULTILINE=$(&lt;span class=&quot;hljs-built_in&quot;&gt;ls&lt;/span&gt; \\\n   -1)\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;${MULTILINE}&lt;/span&gt;&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Quoting (&lt;code&gt;&quot;&lt;/code&gt;) does matter to preserve &lt;strong&gt;multi-line variable values&lt;/strong&gt;; it is optional on the right-hand side of an assignment, as &lt;a href=&quot;https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html#Shell-Parameters&quot; rel=&quot;noreferrer&quot;&gt;word splitting is not performed&lt;/a&gt;, so &lt;code&gt;OUTPUT=$(ls -1)&lt;/code&gt; would work fine.&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-none s-code-block&quot;&gt;&lt;code&gt;$(sudo run command)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;p&gt;If you&apos;re going to use an apostrophe, you need &lt;code&gt;`&lt;/code&gt;, not &lt;code&gt;&apos;&lt;/code&gt;. This character is called &quot;backticks&quot; (or &quot;grave accent&quot;):&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#!/bin/bash&lt;/span&gt;\n\nVAR1=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$1&lt;/span&gt;&quot;&lt;/span&gt;\nVAR2=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$2&lt;/span&gt;&quot;&lt;/span&gt;\n\nMOREF=`sudo run &lt;span class=&quot;hljs-built_in&quot;&gt;command&lt;/span&gt; against &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$VAR1&lt;/span&gt;&quot;&lt;/span&gt; | grep name | &lt;span class=&quot;hljs-built_in&quot;&gt;cut&lt;/span&gt; -c7-`\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$MOREF&lt;/span&gt;&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;h2&gt;Some &lt;a href=&quot;http://en.wikipedia.org/wiki/Bash_%28Unix_shell%29&quot; rel=&quot;noreferrer&quot;&gt;Bash&lt;/a&gt; tricks I use to set variables from commands&lt;/h2&gt;\n&lt;p&gt;Sorry, there is a loong answer, but as &lt;a href=&quot;/questions/tagged/bash&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &apos;bash&apos;&quot; rel=&quot;tag&quot;&gt;bash&lt;/a&gt; is a &lt;a href=&quot;/questions/tagged/shell&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &apos;shell&apos;&quot; rel=&quot;tag&quot;&gt;shell&lt;/a&gt;, where the main goal is to run other &lt;a href=&quot;/questions/tagged/unix&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &apos;unix&apos;&quot; rel=&quot;tag&quot;&gt;unix&lt;/a&gt; commands and react on &lt;em&gt;result code&lt;/em&gt; and/or &lt;em&gt;output&lt;/em&gt;, ( commands are often piped &lt;em&gt;filter&lt;/em&gt;, etc... ).&lt;/p&gt;\n&lt;p&gt;Storing command output in variables is something basic and fundamental.&lt;/p&gt;\n&lt;p&gt;Therefore, depending on&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;compatibility (&lt;a href=&quot;/questions/tagged/posix&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &apos;posix&apos;&quot; rel=&quot;tag&quot;&gt;posix&lt;/a&gt;)&lt;/li&gt;\n&lt;li&gt;kind of output (filter(s))&lt;/li&gt;\n&lt;li&gt;number of variable to set (split or interpret)&lt;/li&gt;\n&lt;li&gt;execution time (monitoring)&lt;/li&gt;\n&lt;li&gt;error trapping&lt;/li&gt;\n&lt;li&gt;repeatability of request (see long running background process, further)&lt;/li&gt;\n&lt;li&gt;interactivity (considering user input while reading from another &lt;em&gt;input file descriptor&lt;/em&gt;)&lt;/li&gt;\n&lt;li&gt;do I miss something?&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2&gt;First simple, old (obsolet), and compatible way&lt;/h2&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;myPi=`&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;4*a(1)&apos;&lt;/span&gt; | bc -l`\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$myPi&lt;/span&gt; \n3.14159265358979323844\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;Compatible, second way&lt;/h3&gt;\n&lt;p&gt;As nesting could become heavy, parenthesis was implemented for this&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;myPi=$(bc -l &amp;lt;&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;4*a(1)&apos;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Using backticks in script is to be avoided today.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Nested sample:&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;SysStarted=$(&lt;span class=&quot;hljs-built_in&quot;&gt;date&lt;/span&gt; -d &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;$(ps ho lstart 1)&lt;/span&gt;&quot;&lt;/span&gt; +%s)\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$SysStarted&lt;/span&gt; \n1480656334\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;&lt;a href=&quot;/questions/tagged/bash&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &apos;bash&apos;&quot; rel=&quot;tag&quot;&gt;bash&lt;/a&gt; features&lt;/h2&gt;\n&lt;h3&gt;Reading more than one variable (with &lt;em&gt;Bashisms&lt;/em&gt;)&lt;/h3&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;df&lt;/span&gt; -k /\nFilesystem     1K-blocks   Used Available Use% Mounted on\n/dev/dm-0         999320 529020    401488  57% /\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;If I just want a &lt;em&gt;used&lt;/em&gt; value:&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;array=($(&lt;span class=&quot;hljs-built_in&quot;&gt;df&lt;/span&gt; -k /))\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;you could see an &lt;em&gt;array&lt;/em&gt; variable:&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -p array\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -a array=&lt;span class=&quot;hljs-string&quot;&gt;&apos;([0]=&quot;Filesystem&quot; [1]=&quot;1K-blocks&quot; [2]=&quot;Used&quot; [3]=&quot;Available&quot; [\n4]=&quot;Use%&quot; [5]=&quot;Mounted&quot; [6]=&quot;on&quot; [7]=&quot;/dev/dm-0&quot; [8]=&quot;999320&quot; [9]=&quot;529020&quot; [10]=\n&quot;401488&quot; [11]=&quot;57%&quot; [12]=&quot;/&quot;)&apos;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Then:&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;${array[9]}&lt;/span&gt;\n529020\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;But I often use this:&lt;/h3&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;{ &lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; -r _;&lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; -r filesystem size using avail prct mountpoint ; } &amp;lt; &amp;lt;(&lt;span class=&quot;hljs-built_in&quot;&gt;df&lt;/span&gt; -k /)\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$using&lt;/span&gt;\n529020\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;( The first &lt;code&gt;read _&lt;/code&gt; will just &lt;em&gt;drop&lt;/em&gt; header line. ) Here, in &lt;strong&gt;only one&lt;/strong&gt; command, you will &lt;strong&gt;populate 6 different&lt;/strong&gt; variables (shown by alphabetical order):&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -p avail filesystem mountpoint prct size using\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -- avail=&lt;span class=&quot;hljs-string&quot;&gt;&quot;401488&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -- filesystem=&lt;span class=&quot;hljs-string&quot;&gt;&quot;/dev/dm-0&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -- mountpoint=&lt;span class=&quot;hljs-string&quot;&gt;&quot;/&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -- prct=&lt;span class=&quot;hljs-string&quot;&gt;&quot;57%&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -- size=&lt;span class=&quot;hljs-string&quot;&gt;&quot;999320&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -- using=&lt;span class=&quot;hljs-string&quot;&gt;&quot;529020&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Or&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;{ &lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; -a &lt;span class=&quot;hljs-built_in&quot;&gt;head&lt;/span&gt;;varnames=(&lt;span class=&quot;hljs-variable&quot;&gt;${head[@]//[K1% -]}&lt;/span&gt;);varnames=(&lt;span class=&quot;hljs-variable&quot;&gt;${head[@]//[K1% -]}&lt;/span&gt;);\n  &lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;${varnames[@],,}&lt;/span&gt; ; } &amp;lt; &amp;lt;(LANG=C &lt;span class=&quot;hljs-built_in&quot;&gt;df&lt;/span&gt; -k /)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Then:&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -p varnames &lt;span class=&quot;hljs-variable&quot;&gt;${varnames[@],,}&lt;/span&gt; \n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -a varnames=([0]=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Filesystem&quot;&lt;/span&gt; [1]=&lt;span class=&quot;hljs-string&quot;&gt;&quot;blocks&quot;&lt;/span&gt; [2]=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Used&quot;&lt;/span&gt; [3]=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Available&quot;&lt;/span&gt; [4]=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Use&quot;&lt;/span&gt; [5]=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Mounted&quot;&lt;/span&gt; [6]=&lt;span class=&quot;hljs-string&quot;&gt;&quot;on&quot;&lt;/span&gt;)\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -- filesystem=&lt;span class=&quot;hljs-string&quot;&gt;&quot;/dev/dm-0&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -- blocks=&lt;span class=&quot;hljs-string&quot;&gt;&quot;999320&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -- used=&lt;span class=&quot;hljs-string&quot;&gt;&quot;529020&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -- available=&lt;span class=&quot;hljs-string&quot;&gt;&quot;401488&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -- use=&lt;span class=&quot;hljs-string&quot;&gt;&quot;57%&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -- mounted=&lt;span class=&quot;hljs-string&quot;&gt;&quot;/&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -- on=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Or even:&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;{ &lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; _ ; &lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; filesystem dsk[{6,2,9}] prct mountpoint ; } &amp;lt; &amp;lt;(&lt;span class=&quot;hljs-built_in&quot;&gt;df&lt;/span&gt; -k /)\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -p mountpoint dsk\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -- mountpoint=&lt;span class=&quot;hljs-string&quot;&gt;&quot;/&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -a dsk=([2]=&lt;span class=&quot;hljs-string&quot;&gt;&quot;529020&quot;&lt;/span&gt; [6]=&lt;span class=&quot;hljs-string&quot;&gt;&quot;999320&quot;&lt;/span&gt; [9]=&lt;span class=&quot;hljs-string&quot;&gt;&quot;401488&quot;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;(Note &lt;code&gt;Used&lt;/code&gt; and &lt;code&gt;Blocks&lt;/code&gt; is switched there: &lt;code&gt;read ... dsk[6] dsk[2] dsk[9] ...&lt;/code&gt;)&lt;/p&gt;\n&lt;p&gt;... will work with &lt;em&gt;associative arrays&lt;/em&gt; too: &lt;code&gt;read _ disk[total] disk[used] ...&lt;/code&gt;&lt;/p&gt;\n&lt;h2&gt;Dedicated &lt;em&gt;&lt;code&gt;fd&lt;/code&gt;&lt;/em&gt; using &lt;em&gt;unnamed fifo&lt;/em&gt;:&lt;/h2&gt;\n&lt;p&gt;There is an elegent way! In this sample, I will read &lt;code&gt;/etc/passwd&lt;/code&gt; file:&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;users&lt;/span&gt;=()\n&lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; IFS=: &lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; -u &lt;span class=&quot;hljs-variable&quot;&gt;$list&lt;/span&gt; user pass uid gid name home bin ;&lt;span class=&quot;hljs-keyword&quot;&gt;do&lt;/span&gt;\n    ((uid&amp;gt;=500)) &amp;amp;&amp;amp;\n        &lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt; -v &lt;span class=&quot;hljs-built_in&quot;&gt;users&lt;/span&gt;[uid] &lt;span class=&quot;hljs-string&quot;&gt;&quot;%11d %7d %-20s %s\\n&quot;&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$uid&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$gid&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$user&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$home&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;done&lt;/span&gt; {list}&amp;lt;/etc/passwd\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Using this way (&lt;code&gt;... read -u $list; ... {list}&amp;lt;inputfile&lt;/code&gt;) leave &lt;em&gt;&lt;code&gt;STDIN&lt;/code&gt;&lt;/em&gt; free for other purposes, like user interaction.&lt;/p&gt;\n&lt;p&gt;Then&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; -n &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;${users[@]}&lt;/span&gt;&quot;&lt;/span&gt;\n       1000    1000 user         /home/user\n...\n      65534   65534 nobody       /nonexistent\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;and&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;${!users[@]}&lt;/span&gt;\n1000 ... 65534\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; -n &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;${users[1000]}&lt;/span&gt;&quot;&lt;/span&gt;\n      1000    1000 user       /home/user\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This could be used with static files or even &lt;code&gt;/dev/tcp/xx.xx.xx.xx/yyy&lt;/code&gt; with &lt;code&gt;x&lt;/code&gt; for ip address or hostname and &lt;code&gt;y&lt;/code&gt; for port number or with the output of a command:&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;{\n    &lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; -u &lt;span class=&quot;hljs-variable&quot;&gt;$list&lt;/span&gt; -a &lt;span class=&quot;hljs-built_in&quot;&gt;head&lt;/span&gt;          &lt;span class=&quot;hljs-comment&quot;&gt;# read header in array `head`&lt;/span&gt;\n    varnames=(&lt;span class=&quot;hljs-variable&quot;&gt;${head[@]//[K1% -]}&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;# drop illegal chars for variable names&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; -u &lt;span class=&quot;hljs-variable&quot;&gt;$list&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;${varnames[@],,}&lt;/span&gt; ;&lt;span class=&quot;hljs-keyword&quot;&gt;do&lt;/span&gt;\n        ((pct=available*100/(available+used),pct&amp;lt;10)) &amp;amp;&amp;amp;\n            &lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;WARN: FS: %-20s on %-14s %3d &amp;lt;10 (Total: %11u, Use: %7s)\\n&quot;&lt;/span&gt; \\\n                &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;${filesystem#*/mapper/}&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$mounted&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$pct&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$blocks&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$use&lt;/span&gt;&quot;&lt;/span&gt;\n     &lt;span class=&quot;hljs-keyword&quot;&gt;done&lt;/span&gt;\n } {list}&amp;lt; &amp;lt;(LANG=C &lt;span class=&quot;hljs-built_in&quot;&gt;df&lt;/span&gt; -k)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;And of course with &lt;em&gt;inline documents&lt;/em&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; IFS=\\; &lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; -u &lt;span class=&quot;hljs-variable&quot;&gt;$list&lt;/span&gt; -a myvar ;&lt;span class=&quot;hljs-keyword&quot;&gt;do&lt;/span&gt;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;${myvar[2]}&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;done&lt;/span&gt; {list}&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;eof&quot;&lt;/span&gt;\nfoo;bar;baz\nalice;bob;charlie\n&lt;span class=&quot;hljs-variable&quot;&gt;$cherry&lt;/span&gt;;&lt;span class=&quot;hljs-variable&quot;&gt;$strawberry&lt;/span&gt;;&lt;span class=&quot;hljs-variable&quot;&gt;$memberberries&lt;/span&gt;\neof\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;Practical sample parsing CSV files:&lt;/h3&gt;\n&lt;p&gt;In &lt;a href=&quot;https://stackoverflow.com/a/69514496/1765658&quot;&gt;this answer to &lt;code&gt;How to parse a CSV file in Bash?&lt;/code&gt;&lt;/a&gt;, I read a file by using an &lt;em&gt;unnamed fifo&lt;/em&gt;, using &lt;code&gt;exec {FD}&amp;lt;&quot;$file&quot;&lt;/code&gt; syntax.\nAnd &lt;a href=&quot;https://f-hauri.ch/vrac/csvsample.sh.txt&quot; rel=&quot;noreferrer&quot;&gt;here is the same script, but using &lt;code&gt;CSV&lt;/code&gt; as inline document&lt;/a&gt;.&lt;/p&gt;\n&lt;h3&gt;Sample function for populating some variables:&lt;/h3&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#!/bin/bash&lt;/span&gt;\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; free=0 total=0 used=0 mpnt=&lt;span class=&quot;hljs-string&quot;&gt;&apos;??&apos;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-title&quot;&gt;getDiskStat&lt;/span&gt;&lt;/span&gt;() {\n    {\n        &lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; _\n        &lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; _ total used free _ mpnt\n    } &amp;lt; &amp;lt;(\n        &lt;span class=&quot;hljs-built_in&quot;&gt;df&lt;/span&gt; -k &lt;span class=&quot;hljs-variable&quot;&gt;${1:-/}&lt;/span&gt;\n    )\n}\n\ngetDiskStat &lt;span class=&quot;hljs-variable&quot;&gt;$1&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$mpnt&lt;/span&gt;: Tot:&lt;span class=&quot;hljs-variable&quot;&gt;$total&lt;/span&gt;, used: &lt;span class=&quot;hljs-variable&quot;&gt;$used&lt;/span&gt;, free: &lt;span class=&quot;hljs-variable&quot;&gt;$free&lt;/span&gt;.&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Nota: &lt;code&gt;declare&lt;/code&gt; line is not required, just for readability.&lt;/p&gt;\n&lt;h2&gt;About &lt;code&gt;sudo cmd | grep ... | cut ...&lt;/code&gt;&lt;/h2&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;shell=$(&lt;span class=&quot;hljs-built_in&quot;&gt;cat&lt;/span&gt; /etc/passwd | grep &lt;span class=&quot;hljs-variable&quot;&gt;$USER&lt;/span&gt; | &lt;span class=&quot;hljs-built_in&quot;&gt;cut&lt;/span&gt; -d : -f 7)\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$shell&lt;/span&gt;\n/bin/bash\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;(Please avoid useless &lt;code&gt;cat&lt;/code&gt;! So this is just one fork less:&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;shell=$(grep &lt;span class=&quot;hljs-variable&quot;&gt;$USER&lt;/span&gt; &amp;lt;/etc/passwd | &lt;span class=&quot;hljs-built_in&quot;&gt;cut&lt;/span&gt; -d : -f 7)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;All pipes (&lt;code&gt;|&lt;/code&gt;) implies forks. Where another process have to be run, accessing disk, libraries calls and so on.&lt;/p&gt;\n&lt;p&gt;So using &lt;code&gt;sed&lt;/code&gt; for sample, will limit subprocess to only one &lt;em&gt;fork&lt;/em&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;shell=$(sed &amp;lt;/etc/passwd &lt;span class=&quot;hljs-string&quot;&gt;&quot;s/^&lt;span class=&quot;hljs-variable&quot;&gt;$USER&lt;/span&gt;:.*://p;d&quot;&lt;/span&gt;)\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$shell&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;And with &lt;em&gt;Bashisms&lt;/em&gt;:&lt;/h2&gt;\n&lt;p&gt;But for many actions, mostly on small files, Bash could do the job itself:&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; IFS=: &lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; -a line ; &lt;span class=&quot;hljs-keyword&quot;&gt;do&lt;/span&gt;\n    [ &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$line&lt;/span&gt;&quot;&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$USER&lt;/span&gt;&quot;&lt;/span&gt; ] &amp;amp;&amp;amp; shell=&lt;span class=&quot;hljs-variable&quot;&gt;${line[6]}&lt;/span&gt;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;done&lt;/span&gt; &amp;lt;/etc/passwd\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$shell&lt;/span&gt;\n/bin/bash\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;or&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; IFS=: &lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; loginname encpass uid gid fullname home shell;&lt;span class=&quot;hljs-keyword&quot;&gt;do&lt;/span&gt;\n    [ &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$loginname&lt;/span&gt;&quot;&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$USER&lt;/span&gt;&quot;&lt;/span&gt; ] &amp;amp;&amp;amp; &lt;span class=&quot;hljs-built_in&quot;&gt;break&lt;/span&gt;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;done&lt;/span&gt; &amp;lt;/etc/passwd\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$shell&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$loginname&lt;/span&gt; ...\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;Going further about &lt;em&gt;variable splitting&lt;/em&gt;...&lt;/h3&gt;\n&lt;p&gt;Have a look at my answer to &lt;a href=&quot;https://stackoverflow.com/a/15988793/1765658&quot;&gt;&lt;em&gt;How do I split a string on a delimiter in Bash?&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;h2&gt;Alternative: reducing &lt;em&gt;forks&lt;/em&gt; by using &lt;em&gt;backgrounded long-running tasks&lt;/em&gt;&lt;/h2&gt;\n&lt;p&gt;In order to prevent multiple forks like&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;myPi=$(bc -l &amp;lt;&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;4*a(1)&apos;&lt;/span&gt;\nmyRay=12\nmyCirc=$(bc -l &amp;lt;&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&quot; 2 * &lt;span class=&quot;hljs-variable&quot;&gt;$myPi&lt;/span&gt; * &lt;span class=&quot;hljs-variable&quot;&gt;$myRay&lt;/span&gt; &quot;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;or&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;myStarted=$(&lt;span class=&quot;hljs-built_in&quot;&gt;date&lt;/span&gt; -d &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;$(ps ho lstart 1)&lt;/span&gt;&quot;&lt;/span&gt; +%s)\nmySessStart=$(&lt;span class=&quot;hljs-built_in&quot;&gt;date&lt;/span&gt; -d &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;$(ps ho lstart $$)&lt;/span&gt;&quot;&lt;/span&gt; +%s)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This work fine, but running many forks is heavy and slow.&lt;/p&gt;\n&lt;p&gt;And commands like &lt;code&gt;date&lt;/code&gt; and &lt;code&gt;bc&lt;/code&gt; could make many operations, &lt;em&gt;line by line&lt;/em&gt;!!&lt;/p&gt;\n&lt;p&gt;See:&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;bc -l &amp;lt;&amp;lt;&amp;lt;$&lt;span class=&quot;hljs-string&quot;&gt;&apos;3*4\\n5*6&apos;&lt;/span&gt;\n12\n30\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;date&lt;/span&gt; -f - +%s &amp;lt; &amp;lt;(ps ho lstart 1 $$)\n1516030449\n1517853288\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;So we could use a &lt;em&gt;&lt;strong&gt;long running background process&lt;/strong&gt;&lt;/em&gt; to make many jobs, without having to initiate a new &lt;em&gt;fork&lt;/em&gt; for each request.&lt;/p&gt;\n&lt;p&gt;You could have a look how reducing forks make &lt;a href=&quot;https://stackoverflow.com/a/67498861/1765658&quot;&gt;Mandelbrot bash&lt;/a&gt;, improve from more than eight hours to less than 5 seconds.&lt;/p&gt;\n&lt;p&gt;Under &lt;a href=&quot;/questions/tagged/bash&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &apos;bash&apos;&quot; rel=&quot;tag&quot;&gt;bash&lt;/a&gt;, there is a built-in function: &lt;code&gt;coproc&lt;/code&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;coproc bc -l\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; 4*3 &amp;gt;&amp;amp;&lt;span class=&quot;hljs-variable&quot;&gt;${COPROC[1]}&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; -u &lt;span class=&quot;hljs-variable&quot;&gt;$COPROC&lt;/span&gt; answer\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$answer&lt;/span&gt;\n12\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &amp;gt;&amp;amp;&lt;span class=&quot;hljs-variable&quot;&gt;${COPROC[1]}&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;pi=4*a(1)&apos;&lt;/span&gt;\nray=42.0\n&lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt; &amp;gt;&amp;amp;&lt;span class=&quot;hljs-variable&quot;&gt;${COPROC[1]}&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;2*pi*%s\\n&apos;&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$ray&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; -u &lt;span class=&quot;hljs-variable&quot;&gt;$COPROC&lt;/span&gt; answer\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$answer&lt;/span&gt;\n263.89378290154263202896\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt; &amp;gt;&amp;amp;&lt;span class=&quot;hljs-variable&quot;&gt;${COPROC[1]}&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;pi*%s^2\\n&apos;&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$ray&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; -u &lt;span class=&quot;hljs-variable&quot;&gt;$COPROC&lt;/span&gt; answer\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$answer&lt;/span&gt;\n5541.76944093239527260816\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;As &lt;code&gt;bc&lt;/code&gt; is ready, running in background and I/O are ready too, there is no delay, nothing to load, open, close, before or after operation. Only the operation himself! This become a lot quicker than having to fork to &lt;code&gt;bc&lt;/code&gt; for each operation!&lt;/p&gt;\n&lt;p&gt;Border effect: While &lt;code&gt;bc&lt;/code&gt; stay running, they will hold all registers, so some variables or functions could be defined at &lt;em&gt;initialisation&lt;/em&gt; step, as first write to &lt;code&gt;${COPROC[1]}&lt;/code&gt;, just after starting the task (via &lt;code&gt;coproc&lt;/code&gt;).&lt;/p&gt;\n&lt;h2&gt;Into a function &lt;code&gt;newConnector&lt;/code&gt;&lt;/h2&gt;\n&lt;p&gt;You may found my &lt;code&gt;newConnector&lt;/code&gt; function on &lt;a href=&quot;https://github.com/F-Hauri/Connector-bash/blob/master/shell_connector.bash&quot; rel=&quot;noreferrer&quot;&gt;GitHub.Com&lt;/a&gt; or on &lt;a href=&quot;https://f-hauri.ch/vrac/shell_connector.sh&quot; rel=&quot;noreferrer&quot;&gt;my own site&lt;/a&gt; (Note on GitHub: there are two files on my site. Function and demo are bundled into one unique file which could be sourced for use or just run for demo.)&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Sample:&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;source&lt;/span&gt; shell_connector.sh\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;tty&lt;/span&gt;\n/dev/pts/20\n\nps --&lt;span class=&quot;hljs-built_in&quot;&gt;tty&lt;/span&gt; pts/20 fw\n    PID TTY      STAT   TIME COMMAND\n  29019 pts/20   Ss     0:00 bash\n  30745 pts/20   R+     0:00  \\_ ps --&lt;span class=&quot;hljs-built_in&quot;&gt;tty&lt;/span&gt; pts/20 fw\n\nnewConnector /usr/bin/bc &lt;span class=&quot;hljs-string&quot;&gt;&quot;-l&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;3*4&apos;&lt;/span&gt; 12\n\nps --&lt;span class=&quot;hljs-built_in&quot;&gt;tty&lt;/span&gt; pts/20 fw\n    PID TTY      STAT   TIME COMMAND\n  29019 pts/20   Ss     0:00 bash\n  30944 pts/20   S      0:00  \\_ /usr/bin/bc -l\n  30952 pts/20   R+     0:00  \\_ ps --&lt;span class=&quot;hljs-built_in&quot;&gt;tty&lt;/span&gt; pts/20 fw\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -p PI\nbash: &lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt;: PI: not found\n\nmyBc &lt;span class=&quot;hljs-string&quot;&gt;&apos;4*a(1)&apos;&lt;/span&gt; PI\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -p PI\n&lt;span class=&quot;hljs-built_in&quot;&gt;declare&lt;/span&gt; -- PI=&lt;span class=&quot;hljs-string&quot;&gt;&quot;3.14159265358979323844&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The function &lt;code&gt;myBc&lt;/code&gt; lets you use the background task with simple syntax.&lt;/p&gt;\n&lt;p&gt;Then for date:&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;newConnector /bin/date &lt;span class=&quot;hljs-string&quot;&gt;&apos;-f - +%s&apos;&lt;/span&gt; @0 0\nmyDate &lt;span class=&quot;hljs-string&quot;&gt;&apos;2000-01-01&apos;&lt;/span&gt;\n  946681200\nmyDate &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;$(ps ho lstart 1)&lt;/span&gt;&quot;&lt;/span&gt; boottime\nmyDate now now\n&lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; utm idl &amp;lt;/proc/uptime\nmyBc &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$now&lt;/span&gt;-&lt;span class=&quot;hljs-variable&quot;&gt;$boottime&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;uptime&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;%s\\n&quot;&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;${utm%%.*}&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$uptime&lt;/span&gt;\n  42134906\n  42134906\n\nps --&lt;span class=&quot;hljs-built_in&quot;&gt;tty&lt;/span&gt; pts/20 fw\n    PID TTY      STAT   TIME COMMAND\n  29019 pts/20   Ss     0:00 bash\n  30944 pts/20   S      0:00  \\_ /usr/bin/bc -l\n  32615 pts/20   S      0:00  \\_ /bin/date -f - +%s\n   3162 pts/20   R+     0:00  \\_ ps --&lt;span class=&quot;hljs-built_in&quot;&gt;tty&lt;/span&gt; pts/20 fw\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;From there, if you want to end one of background processes, you just have to close its &lt;em&gt;&lt;code&gt;fd&lt;/code&gt;&lt;/em&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;eval&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;exec &lt;span class=&quot;hljs-variable&quot;&gt;$DATEOUT&lt;/span&gt;&amp;gt;&amp;amp;-&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;eval&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;exec &lt;span class=&quot;hljs-variable&quot;&gt;$DATEIN&lt;/span&gt;&amp;gt;&amp;amp;-&quot;&lt;/span&gt;\nps --&lt;span class=&quot;hljs-built_in&quot;&gt;tty&lt;/span&gt; pts/20 fw\n    PID TTY      STAT   TIME COMMAND\n   4936 pts/20   Ss     0:00 bash\n   5256 pts/20   S      0:00  \\_ /usr/bin/bc -l\n   6358 pts/20   R+     0:00  \\_ ps --&lt;span class=&quot;hljs-built_in&quot;&gt;tty&lt;/span&gt; pts/20 fw\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;which is not needed, because all &lt;em&gt;&lt;code&gt;fd&lt;/code&gt;&lt;/em&gt; close when the main process finishes.&lt;/p&gt;\n    ","\n&lt;p&gt;As they have already indicated to you, you should use `backticks`.&lt;/p&gt;\n&lt;p&gt;The alternative proposed &lt;code&gt;$(command)&lt;/code&gt; works as well, and it also easier to read, but note that it is valid only with Bash or KornShell (and shells derived from those),\nso if your scripts have to be really portable on various Unix systems, you should prefer the old backticks notation.&lt;/p&gt;\n    ","\n&lt;p&gt;I know three ways to do it:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;Functions are suitable for such tasks:**&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-title&quot;&gt;func&lt;/span&gt;&lt;/span&gt; (){\n    &lt;span class=&quot;hljs-built_in&quot;&gt;ls&lt;/span&gt; -l\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Invoke it by saying &lt;code&gt;func&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Also another suitable solution could be eval:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;var=&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls -l&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;eval&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$var&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;The third one is using variables directly:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;var=$(&lt;span class=&quot;hljs-built_in&quot;&gt;ls&lt;/span&gt; -l)\n\n    OR\n\nvar=`&lt;span class=&quot;hljs-built_in&quot;&gt;ls&lt;/span&gt; -l`\n&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;You can get the output of the third solution in a good way:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$var&lt;/span&gt;&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And also in a nasty way:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$var&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Just to be different:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;MOREF=$(sudo run &lt;span class=&quot;hljs-built_in&quot;&gt;command&lt;/span&gt; against &lt;span class=&quot;hljs-variable&quot;&gt;$VAR1&lt;/span&gt; | grep name | &lt;span class=&quot;hljs-built_in&quot;&gt;cut&lt;/span&gt; -c7-)\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;When setting a variable make sure you have &lt;em&gt;&lt;strong&gt;no spaces&lt;/strong&gt;&lt;/em&gt; before and/or after the &lt;code&gt;=&lt;/code&gt; sign. I literally spent an hour trying to figure this out, trying all kinds of solutions! This is &lt;em&gt;not&lt;/em&gt; cool.&lt;/p&gt;\n&lt;p&gt;&lt;em&gt;Correct:&lt;/em&gt;&lt;br&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;WTFF=`&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;stuff&quot;&lt;/span&gt;`\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Example: &lt;span class=&quot;hljs-variable&quot;&gt;$WTFF&lt;/span&gt;&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;em&gt;Will Fail&lt;/em&gt; with error &quot;stuff: not found&quot; or similar&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;WTFF= `&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;stuff&quot;&lt;/span&gt;`\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Example: &lt;span class=&quot;hljs-variable&quot;&gt;$WTFF&lt;/span&gt;&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If you want to do it with multiline/multiple command/s then you can do this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;output=$( bash &amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;EOF\n# Multiline/multiple command/s\nEOF&lt;/span&gt;\n)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Or:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;output=$(\n&lt;span class=&quot;hljs-comment&quot;&gt;# Multiline/multiple command/s&lt;/span&gt;\n)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#!/bin/bash&lt;/span&gt;\noutput=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;$( bash &amp;lt;&amp;lt;EOF\necho first\necho second\necho third\nEOF\n)&lt;/span&gt;&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$output&lt;/span&gt;&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Output:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;first\nsecond\nthird\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Using &lt;a href=&quot;http://www.gnu.org/software/bash/manual/html_node/Redirections.html#Here-Documents&quot; rel=&quot;nofollow noreferrer&quot;&gt;heredoc&lt;/a&gt;, you can simplify things pretty easily by breaking down your long single line code into a multiline one. Another example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;output=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;$( ssh -p $port $user@$domain &amp;lt;&amp;lt;EOF\n# Breakdown your long ssh command into multiline here.\nEOF\n)&lt;/span&gt;&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You need to use either&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;$(command-here)&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;or&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;`command-here`\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h3&gt;Example&lt;/h3&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#!/bin/bash&lt;/span&gt;\n\nVAR1=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$1&lt;/span&gt;&quot;&lt;/span&gt;\nVAR2=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$2&lt;/span&gt;&quot;&lt;/span&gt;\n\nMOREF=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;$(sudo run command against &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$VAR1&lt;/span&gt;&quot;&lt;/span&gt; | grep name | cut -c7-)&lt;/span&gt;&quot;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$MOREF&lt;/span&gt;&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If the command that you are trying to execute fails, it would write the output onto the error stream and would then be printed out to the console.&lt;/p&gt;\n\n&lt;p&gt;To avoid it, you must redirect the error stream:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;result=$(&lt;span class=&quot;hljs-built_in&quot;&gt;ls&lt;/span&gt; -l something_that_does_not_exist 2&amp;gt;&amp;amp;1)\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;This is another way and is good to use with some text editors that are unable to correctly highlight every intricate code you create:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;read&lt;/span&gt; -r -d &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt; str &amp;lt; &amp;lt;(&lt;span class=&quot;hljs-built_in&quot;&gt;cat&lt;/span&gt; somefile.txt)\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;${#str}&lt;/span&gt;&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$str&lt;/span&gt;&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can use backticks (also known as accent graves) or &lt;code&gt;$()&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Like:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;OUTPUT=$(x+2);\nOUTPUT=`x+2`;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Both have the same effect. But OUTPUT=$(x+2) is more readable and the latest one.&lt;/p&gt;\n    ","\n&lt;p&gt;Here are two more ways: &lt;/p&gt;\n\n&lt;p&gt;Please keep in mind that space is very important in Bash. So, if you want your command to run, use as is without introducing any more spaces.&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;The following assigns &lt;code&gt;harshil&lt;/code&gt; to &lt;code&gt;L&lt;/code&gt; and then prints it&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;L=$&lt;span class=&quot;hljs-string&quot;&gt;&quot;harshil&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$L&lt;/span&gt;&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;The following assigns the output of the command &lt;code&gt;tr&lt;/code&gt; to L2. &lt;code&gt;tr&lt;/code&gt; is being operated on another variable, L1.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;L2=$(&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$L1&lt;/span&gt;&quot;&lt;/span&gt; | &lt;span class=&quot;hljs-built_in&quot;&gt;tr&lt;/span&gt; [:upper:] [:lower:])\n&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;\n&lt;/ol&gt;\n    ","\n&lt;p&gt;Some may find this useful. \nInteger values in variable substitution, where the trick is using &lt;code&gt;$(())&lt;/code&gt; double brackets:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;N=3\nM=3\nCOUNT=&lt;span class=&quot;hljs-variable&quot;&gt;$N&lt;/span&gt;-1\nARR[0]=3\nARR[1]=2\nARR[2]=4\nARR[3]=1\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (( COUNT &amp;lt; &lt;span class=&quot;hljs-variable&quot;&gt;${#ARR[@]}&lt;/span&gt; ))\n&lt;span class=&quot;hljs-keyword&quot;&gt;do&lt;/span&gt;\n  ARR[&lt;span class=&quot;hljs-variable&quot;&gt;$COUNT&lt;/span&gt;]=$((ARR[COUNT]*M))\n  (( COUNT=&lt;span class=&quot;hljs-variable&quot;&gt;$COUNT&lt;/span&gt;+&lt;span class=&quot;hljs-variable&quot;&gt;$N&lt;/span&gt; ))\n&lt;span class=&quot;hljs-keyword&quot;&gt;done&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    "]},"randomTags":[{"name":"default-parameters","slug":"default-parameters"},{"name":"copy","slug":"copy"},{"name":"android-intent","slug":"android-intent"},{"name":"xml-parsing","slug":"xml-parsing"},{"name":"objective-c","slug":"objective-c"},{"name":"c#","slug":"c"},{"name":"dynamic-variables","slug":"dynamic-variables"},{"name":"css-selectors","slug":"css-selectors"},{"name":"servlets","slug":"servlets"},{"name":"certificate","slug":"certificate"},{"name":"apache","slug":"apache"},{"name":"arrays","slug":"arrays"},{"name":"post","slug":"post"},{"name":"interface","slug":"interface"},{"name":"operator-precedence","slug":"operator-precedence"},{"name":"std","slug":"std"},{"name":"copy-paste","slug":"copy-paste"},{"name":"error-checking","slug":"error-checking"},{"name":"flatten","slug":"flatten"},{"name":"random","slug":"random"}]},"__N_SSG":true}