{"pageProps":{"data":{"count":1,"rows":[{"answer":["\n&lt;p&gt;Yes, in your &lt;code&gt;formula&lt;/code&gt;, you can &lt;code&gt;cbind&lt;/code&gt; the numeric variables to be aggregated:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;aggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;cbind&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; year &lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt; month&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; data &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; na.rm &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n   year month         x1          x2\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;7.862002&lt;/span&gt;   &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7.469298&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2001&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;276.758209&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;474.384252&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;13.122369&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;128.122613&lt;/span&gt;\n...\n&lt;span class=&quot;hljs-number&quot;&gt;23&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;63.436507&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;449.794454&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;24&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2001&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;999.472226&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;922.726589&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;See &lt;code&gt;?aggregate&lt;/code&gt;, the &lt;code&gt;formula&lt;/code&gt; argument and the examples.&lt;/p&gt;\n    ","\n&lt;p&gt;With the &lt;code&gt;dplyr&lt;/code&gt; package, you can use &lt;code&gt;summarise_all&lt;/code&gt;, &lt;code&gt;summarise_at&lt;/code&gt; or &lt;code&gt;summarise_if&lt;/code&gt; functions to aggregate multiple variables simultaneously. For the example dataset you can do this as follows:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# summarising all non-grouping variables&lt;/span&gt;\ndf2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; df1 &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;year&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; month&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; summarise_all&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# summarising a specific set of non-grouping variables&lt;/span&gt;\ndf2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; df1 &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;year&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; month&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; summarise_at&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;vars&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndf2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; df1 &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;year&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; month&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; summarise_at&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;vars&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;date&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# summarising a specific set of non-grouping variables using select_helpers&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# see ?select_helpers for more options&lt;/span&gt;\ndf2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; df1 &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;year&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; month&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; summarise_at&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;vars&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;starts_with&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;x&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndf2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; df1 &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;year&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; month&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; summarise_at&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;vars&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;matches&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;.*[0-9]&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# summarising a specific set of non-grouping variables based on condition (class)&lt;/span&gt;\ndf2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; df1 &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;year&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; month&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; summarise_if&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;is.numeric&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The result of the latter two options:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;    year month        x1         x2\n   &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;dbl&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;dbl&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;     &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;dbl&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;      &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;dbl&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;73.58134&lt;/span&gt;  &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;92.78595&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;57.81334&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;152.36983&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;122.68758&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;153.55243&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;450.24980&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;285.56374&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;678.37867&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;384.42888&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;792.68696&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;530.28694&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;908.58795&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;452.31222&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;710.69928&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;719.35225&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;725.06079&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;914.93687&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;770.60304&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;863.39337&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# ... with 14 more rows&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Note: &lt;code&gt;summarise_each&lt;/code&gt; is deprecated in favor of &lt;code&gt;summarise_all&lt;/code&gt;, &lt;code&gt;summarise_at&lt;/code&gt; and &lt;code&gt;summarise_if&lt;/code&gt;.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;As mentioned in &lt;a href=&quot;https://stackoverflow.com/questions/9723208/aggregate-summarize-multiple-variables-per-group-i-e-sum-mean-etc/33168036#comment61936894_9723446&quot;&gt;my comment above&lt;/a&gt;, you can also use the &lt;code&gt;recast&lt;/code&gt; function from the &lt;code&gt;reshape2&lt;/code&gt;-package:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;reshape2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nrecast&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; year &lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt; month &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; variable&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; id.var &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;date&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;year&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;month&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;which will give you the same result.&lt;/p&gt;\n    ","\n&lt;p&gt;Using the &lt;code&gt;data.table&lt;/code&gt; package, which is fast (useful for larger datasets)&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://github.com/Rdatatable/data.table/wiki&quot; rel=&quot;noreferrer&quot;&gt;https://github.com/Rdatatable/data.table/wiki&lt;/a&gt; &lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndf2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; setDT&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;.SD&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;.&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;year&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; month&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; .SDcols&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;x1&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;x2&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\nsetDF&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;# convert back to dataframe&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Using the plyr package&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;require&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndf2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; ddply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;year&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;month&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; colSums&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;x1&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;x2&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Using summarize() from the Hmisc package \n(column headings are messy in my example though)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# need to detach plyr because plyr and Hmisc both have a summarize()&lt;/span&gt;\ndetach&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;package&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;plyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nrequire&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Hmisc&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndf2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; with&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; summarize&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt; cbind&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;llist&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;year&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; month&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;colSums&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Where is this &lt;code&gt;year()&lt;/code&gt; function from?&lt;/p&gt;\n\n&lt;p&gt;You could also use the &lt;code&gt;reshape2&lt;/code&gt; package for this task:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;require&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;reshape2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndf_melt &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; melt&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; id &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;date&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;year&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;month&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndcast&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df_melt&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; year &lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt; month &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; variable&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#  year month         x1           x2&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;80.83405&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;224.9540159&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;223.76331&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;288.2418017&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;188.83930&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;481.5601913&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;197.47797&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;473.7137420&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;259.07928&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;372.4563522&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Interestingly, base R &lt;code&gt;aggregate&lt;/code&gt;&apos;s &lt;code&gt;data.frame&lt;/code&gt; method is not showcased here, &lt;a href=&quot;https://stackoverflow.com/a/9723314/8876652&quot;&gt;above&lt;/a&gt; the formula interface is used, so for completeness:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;aggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n  x &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; df1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;x1&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;x2&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n  by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; df1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;year&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;month&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n  FUN &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; na.rm &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;More generic use of aggregate&apos;s data.frame method:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Since we are providing a&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;data.frame&lt;/code&gt; as &lt;code&gt;x&lt;/code&gt; and &lt;/li&gt;\n&lt;li&gt;a &lt;code&gt;list&lt;/code&gt; (&lt;code&gt;data.frame&lt;/code&gt; is also a &lt;code&gt;list&lt;/code&gt;) as &lt;code&gt;by&lt;/code&gt;, this is very useful if we need to use it in a dynamic manner, e.g. using other columns to be aggregated and to aggregate by is very simple&lt;/li&gt;\n&lt;li&gt;also with custom-made aggregation functions &lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;For example like so:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;colsToAggregate &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;x1&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\naggregateBy &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;year&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;month&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndummyaggfun &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; na.rm &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n  &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; na.rm &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; na.rm&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; mean &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; mean&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; na.rm &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; na.rm&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;\n\naggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;colsToAggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; df1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;aggregateBy&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; dummyaggfun&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;With the &lt;code&gt;dplyr&lt;/code&gt; version &amp;gt;= &lt;code&gt;1.0.0&lt;/code&gt;, we can also use &lt;code&gt;summarise&lt;/code&gt; to apply function on multiple columns with &lt;code&gt;across&lt;/code&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndf1 &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n    group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;year&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; month&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n    summarise&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;across&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;starts_with&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;x&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# A tibble: 24 x 4&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# Groups:   year [2]&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#    year month     x1     x2&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#   &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1  2000     1   11.7  52.9 &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2  2000     2  -74.1 126.  &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 3  2000     3 -132.  149.  &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 4  2000     4 -130.    4.12&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 5  2000     5  -91.6 -55.9 &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 6  2000     6  179.   73.7 &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 7  2000     7   95.0 409.  &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 8  2000     8  255.  283.  &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 9  2000     9  489.  331.  &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#10  2000    10  719.  305.  &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#  with 14 more rows&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;For a more flexible and faster approach to data aggregation, check out the &lt;code&gt;collap&lt;/code&gt; function in the &lt;em&gt;collapse&lt;/em&gt; R package available on CRAN:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collapse&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# Simple aggregation with one function&lt;/span&gt;\nhead&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collap&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x1 &lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt; x2 &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; year &lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt; month&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; fmean&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n  year month        x1        x2\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.217984&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;4.008534&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.117777&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;11.460301&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;5.552706&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;8.621904&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;4.238889&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;22.382953&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;3.124566&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;39.982799&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.415203&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;48.252283&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Customized: Aggregate columns with different functions&lt;/span&gt;\nhead&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collap&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x1 &lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt; x2 &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; year &lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt; month&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n      custom &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;fmean &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;x1&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;x2&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; fmedian &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;x2&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n  year month  fmean.x1  fmean.x2 fmedian.x2\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.217984&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;4.008534&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.266968&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.117777&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;11.460301&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;11.563387&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;5.552706&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;8.621904&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;8.506329&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;4.238889&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;22.382953&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;20.796205&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;3.124566&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;39.982799&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;39.919145&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.415203&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;48.252283&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;48.653926&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# You can also apply multiple functions to all columns&lt;/span&gt;\nhead&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collap&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x1 &lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt; x2 &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; year &lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt; month&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;fmean&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; fmin&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; fmax&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n  year month  fmean.x1    fmin.x1  fmax.x1  fmean.x2   fmin.x2  fmax.x2\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.217984&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4.2460775&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1.245649&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;4.008534&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.720181&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;10.47825&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.117777&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5.0081858&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3.330872&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;11.460301&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;9.111287&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;13.86184&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;5.552706&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;0.1193369&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;9.464760&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;8.621904&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;6.807443&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;11.54485&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;4.238889&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;0.8723805&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;8.627637&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;22.382953&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;11.515753&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;31.66365&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;3.124566&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.5985090&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;7.341478&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;39.982799&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;31.957653&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;46.13732&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.415203&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4.6072295&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2.655084&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;48.252283&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;42.809211&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;52.31309&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# When you do that, you can also return the data in a long format&lt;/span&gt;\nhead&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collap&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x1 &lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt; x2 &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; year &lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt; month&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;fmean&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; fmin&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; fmax&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;long&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n  Function year month        x1        x2\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;    fmean &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.217984&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;4.008534&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;    fmean &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.117777&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;11.460301&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;    fmean &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;5.552706&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;8.621904&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;    fmean &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;4.238889&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;22.382953&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;    fmean &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;3.124566&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;39.982799&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;    fmean &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.415203&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;48.252283&lt;/span&gt;\n\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;em&gt;Note&lt;/em&gt;: You can use base functions like &lt;code&gt;mean, max&lt;/code&gt; etc. with &lt;code&gt;collap&lt;/code&gt;, but &lt;code&gt;fmean, fmax&lt;/code&gt; etc. are C++ based grouped functions offered in the &lt;em&gt;collapse&lt;/em&gt; package which are significantly faster (i.e. the performance on large data aggregations is the same as &lt;em&gt;data.table&lt;/em&gt; while providing greater flexibility, and these fast grouped functions can also be used without &lt;code&gt;collap&lt;/code&gt;). &lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;Note2&lt;/em&gt;: &lt;code&gt;collap&lt;/code&gt; also supports flexible multitype data aggregation, which you can of course do using the &lt;code&gt;custom&lt;/code&gt; argument, but you can also apply functions to numeric and non-numeric columns in a semi-automated way: &lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# wlddev is a data set of World Bank Indicators provided in the collapse package&lt;/span&gt;\nhead&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;wlddev&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n      country iso3c       date year decade     region     income  OECD PCGDP LIFEEX GINI       ODA\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; Afghanistan   AFG &lt;span class=&quot;hljs-number&quot;&gt;1961&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1960&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1960&lt;/span&gt; South Asia Low income &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;    &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;32.292&lt;/span&gt;   &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;114440000&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; Afghanistan   AFG &lt;span class=&quot;hljs-number&quot;&gt;1962&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1961&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1960&lt;/span&gt; South Asia Low income &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;    &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;32.742&lt;/span&gt;   &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;233350000&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; Afghanistan   AFG &lt;span class=&quot;hljs-number&quot;&gt;1963&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1962&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1960&lt;/span&gt; South Asia Low income &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;    &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;33.185&lt;/span&gt;   &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;114880000&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; Afghanistan   AFG &lt;span class=&quot;hljs-number&quot;&gt;1964&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1963&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1960&lt;/span&gt; South Asia Low income &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;    &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;33.624&lt;/span&gt;   &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;236450000&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; Afghanistan   AFG &lt;span class=&quot;hljs-number&quot;&gt;1965&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1964&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1960&lt;/span&gt; South Asia Low income &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;    &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;34.060&lt;/span&gt;   &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;302480000&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt; Afghanistan   AFG &lt;span class=&quot;hljs-number&quot;&gt;1966&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1965&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1960&lt;/span&gt; South Asia Low income &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;    &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;34.495&lt;/span&gt;   &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;370250000&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# This aggregates the data, applying the mean to numeric and the statistical mode to categorical columns&lt;/span&gt;\nhead&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collap&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;wlddev&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; iso3c &lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt; decade&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; fmean&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; catFUN &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; fmode&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n  country iso3c       date   year decade                     region      income  OECD    PCGDP   LIFEEX GINI      ODA\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   Aruba   ABW &lt;span class=&quot;hljs-number&quot;&gt;1961&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1962.5&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1960&lt;/span&gt; Latin America &lt;span class=&quot;hljs-operator&quot;&gt;&amp;amp;&lt;/span&gt; Caribbean  High income &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;       &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;66.58583&lt;/span&gt;   &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;       &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   Aruba   ABW &lt;span class=&quot;hljs-number&quot;&gt;1967&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1970.0&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1970&lt;/span&gt; Latin America &lt;span class=&quot;hljs-operator&quot;&gt;&amp;amp;&lt;/span&gt; Caribbean  High income &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;       &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;69.14178&lt;/span&gt;   &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;       &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;   Aruba   ABW &lt;span class=&quot;hljs-number&quot;&gt;1976&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1980.0&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1980&lt;/span&gt; Latin America &lt;span class=&quot;hljs-operator&quot;&gt;&amp;amp;&lt;/span&gt; Caribbean  High income &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;       &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;72.17600&lt;/span&gt;   &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;33630000&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;   Aruba   ABW &lt;span class=&quot;hljs-number&quot;&gt;1987&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1990.0&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1990&lt;/span&gt; Latin America &lt;span class=&quot;hljs-operator&quot;&gt;&amp;amp;&lt;/span&gt; Caribbean  High income &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;23677.09&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;73.45356&lt;/span&gt;   &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;41563333&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;   Aruba   ABW &lt;span class=&quot;hljs-number&quot;&gt;1996&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000.0&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt; Latin America &lt;span class=&quot;hljs-operator&quot;&gt;&amp;amp;&lt;/span&gt; Caribbean  High income &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;26766.93&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;73.85773&lt;/span&gt;   &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;19857000&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;   Aruba   ABW &lt;span class=&quot;hljs-number&quot;&gt;2007&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2010.0&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2010&lt;/span&gt; Latin America &lt;span class=&quot;hljs-operator&quot;&gt;&amp;amp;&lt;/span&gt; Caribbean  High income &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;25238.80&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;75.01078&lt;/span&gt;   &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;       &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Note that by default (argument keep.col.order = TRUE) the column order is also preserved&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Below is another way to summarize multiple columns, especially useful when the function needs further arguments. You can select all columns via &lt;code&gt;everything()&lt;/code&gt; or a subset of columns like &lt;code&gt;any_of(c(&quot;a&quot;, &quot;b&quot;))&lt;/code&gt;.&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# toy data&lt;/span&gt;\ndf &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; tibble&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;a &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; replace &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n             b &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; replace &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n             &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; replace &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n             grp &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; replace &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndf\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt; # A tibble: 30 × 4&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;        a     b     c   grp&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;    &amp;lt;int&amp;gt; &amp;lt;int&amp;gt; &amp;lt;int&amp;gt; &amp;lt;int&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;  1     7     1     3     1&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;  2     7     4     4     2&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;  3     5     1     3     3&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;  4     7    NA     3     2&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;  5     7     2     5     2&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;  6     7     4     4     2&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;  7     7    NA     3     3&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;  8    NA     5     4     1&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;  9     5     1     1     2&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt; 10    NA     3     1     2&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt; #  with 20 more rows&lt;/span&gt;\ndf &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;grp&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n  summarise&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;across&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;everything&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n                   &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;mean &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt;mean&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;.&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; na.rm &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n                        q75 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt;quantile&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;.&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; probs &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;.75&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; na.rm &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt; # A tibble: 3 × 7&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;     grp a_mean a_q75 b_mean b_q75 c_mean c_q75&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;   &amp;lt;int&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt; 1     1   6.6      7   2.88  4.25   3        4&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt; 2     2   6.33     7   2.62  3.25   2.9      4&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt; 3     3   5.78     6   3.33  4      3.09     4&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Late to the party, but recently found another way to get the summary statistics.&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;library(psych)\ndescribe(data)&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;Will output: \nmean, min, max, standard deviation, n, standard error, kurtosis, skewness, median, and range for each variable. &lt;/p&gt;\n    "],"comment":["\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Is it possible for the cbind to use dynamic variables?&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/2608281/pdb&quot; title=&quot;1,475 reputation&quot; class=&quot;comment-user&quot;&gt;pdb&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment55145292_9723314&quot;&gt;&lt;span title=&quot;2015-11-13 05:29:28Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Nov 13, 2015 at 5:29&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;It&apos;s worth noting that when any of the variables that is in the cbind has an NA the row will be dropped for every variable in the cbind. This is not the behavior I was expecting.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/2608281/pdb&quot; title=&quot;1,475 reputation&quot; class=&quot;comment-user&quot;&gt;pdb&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment55146150_9723314&quot;&gt;&lt;span title=&quot;2015-11-13 06:19:09Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Nov 13, 2015 at 6:19&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;what if I instead of x1 and x2 I want to use all the remaining variables (other than year, month)&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/2324298/clock-slave&quot; title=&quot;7,047 reputation&quot; class=&quot;comment-user&quot;&gt;Clock Slave&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment59717526_9723314&quot;&gt;&lt;span title=&quot;2016-03-16 11:22:07Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Mar 16, 2016 at 11:22&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;@ClockSlave, then you need to just use &lt;code&gt;.&lt;/code&gt; on the LHS. &lt;code&gt;aggregate(. ~ year + month, df1, sum, na.rm = TRUE)&lt;/code&gt;. In this example, &lt;code&gt;sum&lt;/code&gt; for &quot;date&quot; doesn&apos;t make sense though....&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/1270695/a5c1d2h2i1m1n2o1r2t1&quot; title=&quot;185,006 reputation&quot; class=&quot;comment-user&quot;&gt;A5C1D2H2I1M1N2O1R2T1&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment59885582_9723314&quot;&gt;&lt;span title=&quot;2016-03-21 03:53:44Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Mar 21, 2016 at 3:53&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;What if I don&apos;t want two variables but two functions?. For example mean and sd.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/425895/skan&quot; title=&quot;7,034 reputation&quot; class=&quot;comment-user&quot;&gt;skan&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment60859319_9723314&quot;&gt;&lt;span title=&quot;2016-04-14 19:15:13Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;Apr 14, 2016 at 19:15&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;why not do this for data.table option: &lt;code&gt;dt[, .(x1.sum = sum(x1), x2.sum = sum(x2), by = c(year, month)&lt;/code&gt; ?&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/599911/bulat&quot; title=&quot;6,679 reputation&quot; class=&quot;comment-user&quot;&gt;Bulat&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment92505822_9729471&quot;&gt;&lt;span title=&quot;2018-10-13 12:00:09Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Oct 13, 2018 at 12:00&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;The &lt;code&gt;recast&lt;/code&gt; function (also from &lt;code&gt;reshape2&lt;/code&gt;) integrates the &lt;code&gt;melt&lt;/code&gt; and &lt;code&gt;dcast&lt;/code&gt; function in one go for tasks like this: &lt;code&gt;recast(df1, year + month ~ variable, sum, id.var = c(&quot;date&quot;, &quot;year&quot;, &quot;month&quot;))&lt;/code&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/2204410/jaap&quot; title=&quot;77,377 reputation&quot; class=&quot;comment-user&quot;&gt;Jaap&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment61936894_9723446&quot;&gt;&lt;span title=&quot;2016-05-13 06:17:18Z, License: CC BY-SA 3.0&quot; class=&quot;relativetime-clean&quot;&gt;May 13, 2016 at 6:17&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;First, this is a criminally underrated answer, thanks for it. Second, do you think there is possible to generate an &lt;code&gt;aggregate&lt;/code&gt; function that computes the &lt;code&gt;mean&lt;/code&gt; for a given set of variables and &lt;code&gt;sum&lt;/code&gt; for another set of variables? I am really curious about it, and it could save me a lot of time. Thx again.&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/10714156/%c3%81lvaro-a-guti%c3%a9rrez-vargas&quot; title=&quot;1,672 reputation&quot; class=&quot;comment-user&quot;&gt;Álvaro A. Gutiérrez-Vargas&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment115175505_53947228&quot;&gt;&lt;span title=&quot;2020-12-04 17:10:01Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Dec 4, 2020 at 17:10&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;that is now on CRAN :) - however, there seem to be performance issues with using across - (which I can confirm on my data), here a related thread &lt;a href=&quot;https://github.com/tidyverse/dplyr/issues/4953&quot; rel=&quot;nofollow noreferrer&quot;&gt;github.com/tidyverse/dplyr/issues/4953&lt;/a&gt;&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/7941188/tjebo&quot; title=&quot;17,518 reputation&quot; class=&quot;comment-user&quot;&gt;tjebo&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment113432330_59604416&quot;&gt;&lt;span title=&quot;2020-09-30 21:51:17Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Sep 30, 2020 at 21:51&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;The question is about doing aggregations &lt;i&gt;by group&lt;/i&gt;, but &lt;code&gt;describe&lt;/code&gt; doesn&apos;t do anything &lt;i&gt;by group&lt;/i&gt;...&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/903061/gregor-thomas&quot; title=&quot;120,241 reputation&quot; class=&quot;comment-user&quot;&gt;Gregor Thomas&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment99843039_51862597&quot;&gt;&lt;span title=&quot;2019-06-17 17:07:48Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 17, 2019 at 17:07&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;&lt;code&gt;describe.by(column, group = grouped_column)&lt;/code&gt; will group the values&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/9586245/britt&quot; title=&quot;79 reputation&quot; class=&quot;comment-user&quot;&gt;britt&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment99918964_51862597&quot;&gt;&lt;span title=&quot;2019-06-19 21:09:00Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 19, 2019 at 21:09&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        ","\n            &lt;div class=&quot;comment-body js-comment-edit-hide&quot;&gt;\n                \n                &lt;span class=&quot;comment-copy&quot;&gt;Well, put that in the answer then! Don&apos;t hide it in a comment!&lt;/span&gt;\n                \n              &lt;div class=&quot;d-inline-flex ai-center&quot;&gt;\n&amp;nbsp;&lt;a href=&quot;/users/903061/gregor-thomas&quot; title=&quot;120,241 reputation&quot; class=&quot;comment-user&quot;&gt;Gregor Thomas&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;span class=&quot;comment-date&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;comment-link&quot; href=&quot;#comment99922030_51862597&quot;&gt;&lt;span title=&quot;2019-06-20 00:55:53Z, License: CC BY-SA 4.0&quot; class=&quot;relativetime-clean&quot;&gt;Jun 20, 2019 at 0:55&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n                        &lt;span title=&quot;this comment was edited 1 time&quot;&gt;\n                            &lt;svg aria-hidden=&quot;true&quot; class=&quot;va-text-bottom o50 svg-icon iconPencilSm&quot; width=&quot;14&quot; height=&quot;14&quot; viewBox=&quot;0 0 14 14&quot;&gt;&lt;path d=&quot;m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0ZM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                        &lt;/span&gt;\n            &lt;/div&gt;\n        "],"id":367,"title":"Aggregate / summarize multiple variables per group (e.g. sum, mean)","content":"\n                \n&lt;p&gt;From a data frame, is there a easy way to aggregate (&lt;code&gt;sum&lt;/code&gt;, &lt;code&gt;mean&lt;/code&gt;, &lt;code&gt;max&lt;/code&gt; et c) multiple variables simultaneously?&lt;/p&gt;\n&lt;p&gt;Below are some sample data:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;lubridate&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndays &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;365&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\ndate &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; seq&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;as.Date&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;2000-01-01&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; days&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;day&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nyear &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; year&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;date&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nmonth &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; month&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;date&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nx1 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;cumsum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;rnorm&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;days&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.05&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; \nx2 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;cumsum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;rnorm&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;days&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.05&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndf1 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;date&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; year&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; month&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;I would like to simultaneously aggregate the &lt;code&gt;x1&lt;/code&gt; and &lt;code&gt;x2&lt;/code&gt; variables from the &lt;code&gt;df2&lt;/code&gt; data frame by year and month.  The following code aggregates the &lt;code&gt;x1&lt;/code&gt; variable, but is it also possible to simultaneously aggregate the &lt;code&gt;x2&lt;/code&gt; variable?&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;### aggregate variables by year month&lt;/span&gt;\ndf2&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;aggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x1 &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; year&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;month&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; na.rm&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nhead&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","slug":"aggregate-summarize-multiple-variables-per-group-(e.g.-sum-mean)-1657387764061","postType":"QUESTION","createdAt":"2022-07-09T17:29:24.000Z","updatedAt":"2022-07-09T17:29:24.000Z","tags":[{"id":2029,"name":"data.table","slug":"data.table","createdAt":"2022-07-09T17:29:24.000Z","updatedAt":"2022-07-09T17:29:24.000Z","Questions_Tags":{"questionId":367,"tagId":2029}}]}]}},"__N_SSG":true}