<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/2eccd4d47c856f2b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2eccd4d47c856f2b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-20edbe0b078add93.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/613-1e0aa2b2023820bb.js" defer=""></script><script src="/_next/static/chunks/495-bb1d5b202c02d7f2.js" defer=""></script><script src="/_next/static/chunks/81-301f760ac8107464.js" defer=""></script><script src="/_next/static/chunks/pages/questions/tag/%5Bslug%5D-6802ea06aeddcbec.js" defer=""></script><script src="/_next/static/B9ZMQqRLGvIP-RcWN9dT2/_buildManifest.js" defer=""></script><script src="/_next/static/B9ZMQqRLGvIP-RcWN9dT2/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.5"></style></head><body><div id="__next"><div class="sc-9099c029-0 cIPEih"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="https://flowbite.com/docs/images/logo.svg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo"/><span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Hunter</span></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/tag/directory#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="sc-c5440139-0 figLul question my-5"><div class="flex items-center justify-center"><div class="rounded-xl border p-5 shadow-md w-9/12 bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-do-i-list-all-files-of-a-directory-1657388340404">How do I list all files of a directory?</a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/directory">directory</a></div></div><div class="mt-4 mb-6" style="height:100px;overflow:auto"><h4 class="font-semibold">Solution 1:</h4><div class="text-sm bg-green-100 text-neutral-600">
<p><strong><a href="https://docs.python.org/2/library/os.html#os.listdir" rel="noreferrer" title="os.listdir"><code>os.listdir()</code></a></strong> returns everything inside a directory -- including both <strong>files</strong> and <strong>directories</strong>.</p>
<p><a href="https://docs.python.org/2/library/os.path.html#module-os.path" rel="noreferrer"><strong><code>os.path</code></strong></a>'s <code>isfile()</code> can be used to only list files:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">from</span> os <span class="hljs-keyword">import</span> listdir
<span class="hljs-keyword">from</span> os.path <span class="hljs-keyword">import</span> isfile, join
onlyfiles = [f <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> listdir(mypath) <span class="hljs-keyword">if</span> isfile(join(mypath, f))]
</code></pre>
<p>Alternatively, <strong><a href="https://docs.python.org/2/library/os.html#os.walk" rel="noreferrer" title="os.walk"><code>os.walk()</code></a></strong> <strong>yields two lists</strong> for each directory it visits -- one for <strong>files</strong> and one for <strong>dirs</strong>. If you only want the top directory you can break the first time it yields:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">from</span> os <span class="hljs-keyword">import</span> walk

f = []
<span class="hljs-keyword">for</span> (dirpath, dirnames, filenames) <span class="hljs-keyword">in</span> walk(mypath):
    f.extend(filenames)
    <span class="hljs-keyword">break</span>
</code></pre>
<p>or, shorter:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">from</span> os <span class="hljs-keyword">import</span> walk

filenames = <span class="hljs-built_in">next</span>(walk(mypath), (<span class="hljs-literal">None</span>, <span class="hljs-literal">None</span>, []))[<span class="hljs-number">2</span>]  <span class="hljs-comment"># [] if no file</span>
</code></pre>
    </div></div><div><div class="flex items-center justify-between text-slate-500"><div class="flex space-x-4 md:space-x-8"><div class="flex cursor-pointer items-center transition hover:text-slate-600"><svg xmlns="http://www.w3.org/2000/svg" class="mr-1.5 h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"></path></svg><span>4</span></div></div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"count":1,"rows":[{"answer":["\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;a href=\u0026quot;https://docs.python.org/2/library/os.html#os.listdir\u0026quot; rel=\u0026quot;noreferrer\u0026quot; title=\u0026quot;os.listdir\u0026quot;\u0026gt;\u0026lt;code\u0026gt;os.listdir()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/strong\u0026gt; returns everything inside a directory -- including both \u0026lt;strong\u0026gt;files\u0026lt;/strong\u0026gt; and \u0026lt;strong\u0026gt;directories\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://docs.python.org/2/library/os.path.html#module-os.path\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;os.path\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt;\u0026apos;s \u0026lt;code\u0026gt;isfile()\u0026lt;/code\u0026gt; can be used to only list files:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; os \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; listdir\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; os.path \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; isfile, join\nonlyfiles = [f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; listdir(mypath) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; isfile(join(mypath, f))]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Alternatively, \u0026lt;strong\u0026gt;\u0026lt;a href=\u0026quot;https://docs.python.org/2/library/os.html#os.walk\u0026quot; rel=\u0026quot;noreferrer\u0026quot; title=\u0026quot;os.walk\u0026quot;\u0026gt;\u0026lt;code\u0026gt;os.walk()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/strong\u0026gt; \u0026lt;strong\u0026gt;yields two lists\u0026lt;/strong\u0026gt; for each directory it visits -- one for \u0026lt;strong\u0026gt;files\u0026lt;/strong\u0026gt; and one for \u0026lt;strong\u0026gt;dirs\u0026lt;/strong\u0026gt;. If you only want the top directory you can break the first time it yields:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; os \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; walk\n\nf = []\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (dirpath, dirnames, filenames) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; walk(mypath):\n    f.extend(filenames)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;or, shorter:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; os \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; walk\n\nfilenames = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;(walk(mypath), (\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;, []))[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;]  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# [] if no file\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I prefer using the \u0026lt;a href=\u0026quot;https://docs.python.org/library/glob.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;glob\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; module, as it does pattern matching and expansion.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; glob\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(glob.glob(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/home/adam/*\u0026quot;\u0026lt;/span\u0026gt;))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;It does pattern matching intuitively\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; glob\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# All files and directories ending with .txt and that don\u0026apos;t begin with a dot:\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(glob.glob(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/home/adam/*.txt\u0026quot;\u0026lt;/span\u0026gt;)) \n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# All files and directories ending with .txt with depth of 2 folders, ignoring names beginning with a dot:\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(glob.glob(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/home/adam/*/*.txt\u0026quot;\u0026lt;/span\u0026gt;)) \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;It will return a list with the queried files and directories:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/home/adam/file1.txt\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/home/adam/file2.txt\u0026apos;\u0026lt;/span\u0026gt;, .... ]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Note that \u0026lt;code\u0026gt;glob\u0026lt;/code\u0026gt; ignores files and directories that begin with a dot \u0026lt;code\u0026gt;.\u0026lt;/code\u0026gt;, as those are considered hidden files and directories, unless the pattern is something like \u0026lt;code\u0026gt;.*\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Use \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/glob.html#glob.escape\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;glob.escape\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; to escape strings that are not meant to be patterns:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(glob.glob(glob.escape(directory_name) + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/*.txt\u0026quot;\u0026lt;/span\u0026gt;))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;list in the current directory\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;With \u0026lt;code\u0026gt;listdir\u0026lt;/code\u0026gt; in \u0026lt;code\u0026gt;os\u0026lt;/code\u0026gt; module you get the files and the folders in the current dir\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\narr = os.listdir()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Looking in a directory\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;arr = os.listdir(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;c:\\\\files\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;with \u0026lt;code\u0026gt;glob\u0026lt;/code\u0026gt; you can specify a type of file to list like this\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; glob\n\ntxtfiles = []\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; file \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; glob.glob(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;*.txt\u0026quot;\u0026lt;/span\u0026gt;):\n    txtfiles.append(file)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;or\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;mylist = [f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; glob.glob(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;*.txt\u0026quot;\u0026lt;/span\u0026gt;)]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;get the full path of only files in the current directory\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; os \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; listdir\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; os.path \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; isfile, join\n\ncwd = os.getcwd()\nonlyfiles = [os.path.join(cwd, f) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; os.listdir(cwd) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \nos.path.isfile(os.path.join(cwd, f))]\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(onlyfiles) \n\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;G:\\\\getfilesname\\\\getfilesname.py\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;G:\\\\getfilesname\\\\example.txt\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Getting the full path name with \u0026lt;code\u0026gt;os.path.abspath\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You get the full path in return\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n files_path = [os.path.abspath(x) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; x \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; os.listdir()]\n \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(files_path)\n \n [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;F:\\\\documenti\\applications.txt\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;F:\\\\documenti\\collections.txt\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Walk: going through sub directories\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;os.walk returns the root, the directories list and the files list, that is why I unpacked them in r, d, f in the for loop; it, then, looks for other files and directories in the subfolders of the root and so on until there are no subfolders.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Getting the current work directory (cwd)\u0026lt;/span\u0026gt;\nthisdir = os.getcwd()\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# r=root, d=directories, f = files\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; r, d, f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; os.walk(thisdir):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; file \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; f:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; file.endswith(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;.docx\u0026quot;\u0026lt;/span\u0026gt;):\n            \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(os.path.join(r, file))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;To go up in the directory tree\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Method 1\u0026lt;/span\u0026gt;\nx = os.listdir(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;..\u0026apos;\u0026lt;/span\u0026gt;)\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Method 2\u0026lt;/span\u0026gt;\nx= os.listdir(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Get files of a particular subdirectory with \u0026lt;code\u0026gt;os.listdir()\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\nx = os.listdir(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;./content\u0026quot;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;os.walk(\u0026apos;.\u0026apos;) - current directory\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n arr = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;(os.walk(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;))[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;]\n \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(arr)\n \n \u0026amp;gt;\u0026amp;gt;\u0026amp;gt; [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;5bs_Turismo1.pdf\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;5bs_Turismo1.pptx\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;esperienza.txt\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;next(os.walk(\u0026apos;.\u0026apos;)) and os.path.join(\u0026apos;dir\u0026apos;, \u0026apos;file\u0026apos;)\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n arr = []\n \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; d,r,f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;(os.walk(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;F:\\\\_python\u0026quot;\u0026lt;/span\u0026gt;)):\n     \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; file \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; f:\n         arr.append(os.path.join(r,file))\n\n \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; arr:\n     \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(files)\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;F:\\\\_python\\\\dict_class.py\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;F:\\\\_python\\\\programmi.txt\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;next... walk\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt; [os.path.join(r,file) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; r,d,f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;(os.walk(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;F:\\\\_python\u0026quot;\u0026lt;/span\u0026gt;)) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; file \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; f]\n \n \u0026amp;gt;\u0026amp;gt;\u0026amp;gt; [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;F:\\\\_python\\\\dict_class.py\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;F:\\\\_python\\\\programmi.txt\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;os.walk\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;x = [os.path.join(r,file) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; r,d,f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; os.walk(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;F:\\\\_python\u0026quot;\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; file \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; f]\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(x)\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;F:\\\\_python\\\\dict.py\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;F:\\\\_python\\\\progr.txt\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;F:\\\\_python\\\\readl.py\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;os.listdir() - get only txt files\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt; arr_txt = [x \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; x \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; os.listdir() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; x.endswith(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;.txt\u0026quot;\u0026lt;/span\u0026gt;)]\n \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Using \u0026lt;code\u0026gt;glob\u0026lt;/code\u0026gt; to get the full path of the files\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; path \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; path\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; glob \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; glob\n\nx = [path(f).abspath() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; glob(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;F:\\\\*.txt\u0026quot;\u0026lt;/span\u0026gt;)]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Using \u0026lt;code\u0026gt;os.path.isfile\u0026lt;/code\u0026gt; to avoid directories in the list\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os.path\nlistOfFiles = [f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; os.listdir() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; os.path.isfile(f)]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Using \u0026lt;code\u0026gt;pathlib\u0026lt;/code\u0026gt; from Python 3.4\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; pathlib\n\nflist = []\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; p \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; pathlib.Path(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;).iterdir():\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; p.is_file():\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(p)\n        flist.append(p)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;With \u0026lt;code\u0026gt;list comprehension\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;flist = [p \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; p \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; pathlib.Path(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;).iterdir() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; p.is_file()]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Use glob method in pathlib.Path()\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; pathlib\n\npy = pathlib.Path().glob(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;*.py\u0026quot;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Get all and only files with os.walk: checks only in the third element returned, i.e. the list of the files\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\nx = [i[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;] \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; i \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; os.walk(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;)]\ny=[]\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; t \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; x:\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; t:\n        y.append(f)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Get only files with next in a directory: returns only the file in the root folder\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n x = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;(os.walk(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;F://python\u0026apos;\u0026lt;/span\u0026gt;))[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Get only directories with next and walk in a directory, because in the [1] element there are the folders only\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;(os.walk(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;F://python\u0026apos;\u0026lt;/span\u0026gt;))[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;] \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# for the current dir use (\u0026apos;.\u0026apos;)\u0026lt;/span\u0026gt;\n \n \u0026amp;gt;\u0026amp;gt;\u0026amp;gt; [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;python3\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;others\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Get all the \u0026lt;code\u0026gt;subdir\u0026lt;/code\u0026gt; names with \u0026lt;code\u0026gt;walk\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; r,d,f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; os.walk(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;F:\\\\_python\u0026quot;\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; dirs \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; d:\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(dirs)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;os.scandir()\u0026lt;/code\u0026gt; from Python 3.5 and greater\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\nx = [f.name \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; os.scandir() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; f.is_file()]\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Another example with `scandir` (a little variation from docs.python.org)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# This one is more efficient than `os.listdir`.\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# In this case, it shows the files only in the current directory\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# where the script is executed.\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;with\u0026lt;/span\u0026gt; os.scandir() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; i:\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; entry \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; i:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; entry.is_file():\n            \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(entry.name)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\nos.listdir(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;somedirectory\u0026quot;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;will return a list of all files and directories in \u0026quot;somedirectory\u0026quot;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;A one-line solution to get \u0026lt;strong\u0026gt;only list of files\u0026lt;/strong\u0026gt; (no subdirectories):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;filenames = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;(os.walk(path))[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;or absolute pathnames:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;paths = [os.path.join(path, fn) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; fn \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;(os.walk(path))[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;]]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Getting Full File Paths From a Directory and All Its Subdirectories\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get_filepaths\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;directory\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026quot;\n    This function will generate the file names in a directory \n    tree by walking the tree either top-down or bottom-up. For each \n    directory in the tree rooted at directory top (including top itself), \n    it yields a 3-tuple (dirpath, dirnames, filenames).\n    \u0026quot;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;\n    file_paths = []  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# List which will store all of the full filepaths.\u0026lt;/span\u0026gt;\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Walk the tree.\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; root, directories, files \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; os.walk(directory):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; filename \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; files:\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Join the two strings in order to form the full filepath.\u0026lt;/span\u0026gt;\n            filepath = os.path.join(root, filename)\n            file_paths.append(filepath)  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Add it to the list.\u0026lt;/span\u0026gt;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; file_paths  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Self-explanatory.\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Run the above function and store its results in a variable.   \u0026lt;/span\u0026gt;\nfull_file_paths = get_filepaths(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/Users/johnny/Desktop/TEST\u0026quot;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;The path I provided in the above function contained 3 files two of them in the root directory, and another in a subfolder called \u0026quot;SUBFOLDER.\u0026quot;  You can now do things like:\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;print full_file_paths\u0026lt;/code\u0026gt; which will print the list:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;[\u0026apos;/Users/johnny/Desktop/TEST/file1.txt\u0026apos;, \u0026apos;/Users/johnny/Desktop/TEST/file2.txt\u0026apos;, \u0026apos;/Users/johnny/Desktop/TEST/SUBFOLDER/file3.dat\u0026apos;]\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;If you\u0026apos;d like, you can open and read the contents, or focus only on files with the extension \u0026quot;.dat\u0026quot; like in the code below:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; full_file_paths:\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; f.endswith(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;.dat\u0026quot;\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; f\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;/Users/johnny/Desktop/TEST/SUBFOLDER/file3.dat\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Since version 3.4 there are builtin \u0026lt;em\u0026gt;iterators\u0026lt;/em\u0026gt; for this which are a lot more efficient than \u0026lt;a href=\u0026quot;http://docs.python.org/3/library/os.html#os.listdir\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;os.listdir()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://docs.python.org/3/library/pathlib.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;pathlib\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;: \u0026lt;em\u0026gt;New in version 3.4.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; pathlib\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;[p \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; p \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; pathlib.Path(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;).iterdir() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; p.is_file()]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;According to \u0026lt;a href=\u0026quot;http://www.python.org/dev/peps/pep-0428/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;PEP 428\u0026lt;/a\u0026gt;, the aim of the \u0026lt;a href=\u0026quot;http://docs.python.org/3/library/pathlib.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;pathlib\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; library is to provide a simple hierarchy of classes to handle filesystem paths and the common operations users do over them.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://docs.python.org/3/library/os.html#os.scandir\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;os.scandir()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;: \u0026lt;em\u0026gt;New in version 3.5.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;[entry \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; entry \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; os.scandir(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; entry.is_file()]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Note that \u0026lt;a href=\u0026quot;http://docs.python.org/3/library/os.html#os.walk\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;os.walk()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; uses \u0026lt;a href=\u0026quot;http://docs.python.org/3/library/os.html#os.scandir\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;os.scandir()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; instead of \u0026lt;a href=\u0026quot;http://docs.python.org/3/library/os.html#os.listdir\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;os.listdir()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; from version 3.5, and its speed got increased by 2-20 times according to \u0026lt;a href=\u0026quot;http://www.python.org/dev/peps/pep-0471/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;PEP 471\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Let me also recommend reading ShadowRanger\u0026apos;s comment below.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;Preliminary notes\u0026lt;/h2\u0026gt;\n\n\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Although there\u0026apos;s a clear differentiation between \u0026lt;em\u0026gt;file\u0026lt;/em\u0026gt; and \u0026lt;em\u0026gt;directory\u0026lt;/em\u0026gt; terms in the question text, some may argue that directories are actually special files\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The statement: \u0026quot;\u0026lt;em\u0026gt;all files of a directory\u0026lt;/em\u0026gt;\u0026quot; can be interpreted in two ways:\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;All \u0026lt;strong\u0026gt;direct\u0026lt;/strong\u0026gt; (or level 1) descendants \u0026lt;strong\u0026gt;only\u0026lt;/strong\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;All descendants in the whole directory tree (including the ones in sub-directories)\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;When the question was asked, I imagine that \u0026lt;em\u0026gt;Python \u0026lt;strong\u0026gt;2\u0026lt;/strong\u0026gt;\u0026lt;/em\u0026gt;, was the \u0026lt;em\u0026gt;LTS\u0026lt;/em\u0026gt; version, however the code samples will be run by \u0026lt;em\u0026gt;Python \u0026lt;strong\u0026gt;3\u0026lt;/strong\u0026gt;(\u0026lt;strong\u0026gt;.5\u0026lt;/strong\u0026gt;)\u0026lt;/em\u0026gt; (I\u0026apos;ll keep them as \u0026lt;em\u0026gt;Python 2\u0026lt;/em\u0026gt; compliant as possible; also, any code belonging to \u0026lt;em\u0026gt;Python\u0026lt;/em\u0026gt; that I\u0026apos;m going to post, is from \u0026lt;strong\u0026gt;v3.5.4\u0026lt;/strong\u0026gt; - unless otherwise specified). That has consequences related to another keyword in the question: \u0026quot;\u0026lt;em\u0026gt;add them into a \u0026lt;strong\u0026gt;list\u0026lt;/strong\u0026gt;\u0026lt;/em\u0026gt;\u0026quot;:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;In pre \u0026lt;em\u0026gt;Python 2.2\u0026lt;/em\u0026gt; versions, sequences (iterables) were mostly represented by lists (tuples, sets, ...)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;In \u0026lt;em\u0026gt;Python 2.2\u0026lt;/em\u0026gt;, the concept of \u0026lt;strong\u0026gt;generator\u0026lt;/strong\u0026gt; (\u0026lt;a href=\u0026quot;https://wiki.python.org/moin/Generators\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[Python.Wiki]: Generators\u0026lt;/a\u0026gt;) - courtesy of \u0026lt;a href=\u0026quot;https://docs.python.org/3/reference/simple_stmts.html#the-yield-statement\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[Python 3]: The yield statement\u0026lt;/a\u0026gt;) - was introduced. As time passed, generator counterparts started to appear for functions that returned/worked with lists\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;In \u0026lt;em\u0026gt;Python 3\u0026lt;/em\u0026gt;, generator is the default behavior\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Not sure if returning a list is still mandatory (or a generator would do as well), but passing a generator to the \u0026lt;em\u0026gt;list\u0026lt;/em\u0026gt; constructor, will create a list out of it (and also consume it). The example below illustrates the differences on \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/functions.html#map\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[Python 3]: \u0026lt;strong\u0026gt;map\u0026lt;/strong\u0026gt;(\u0026lt;em\u0026gt;function, iterable, ...\u0026lt;/em\u0026gt;)\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; sys\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;sys.version\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2.7.10 (default, Mar  8 2016, 15:02:46) [MSC v.1600 64 bit (AMD64)]\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;m = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; x: x, [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;])  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Just a dummy lambda function\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;m, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;(m)\n([\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;], \u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;list\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;)\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;(m)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; sys\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;sys.version\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;3.5.4 (v3.5.4:3f56838, Aug  8 2017, 02:17:05) [MSC v.1900 64 bit (AMD64)]\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;m = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; x: x, [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;])\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;m, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;(m)\n(\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt; at \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x000001B4257342B0\u0026lt;/span\u0026gt;\u0026amp;gt;, \u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;map\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;)\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;(m)\nTraceback (most recent call last):\n  File \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026amp;lt;stdin\u0026amp;gt;\u0026quot;\u0026lt;/span\u0026gt;, line \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; \u0026amp;lt;module\u0026amp;gt;\nTypeError: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt; of \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;map\u0026apos;\u0026lt;/span\u0026gt; has no \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;()\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;lm0 = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;(m)  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Build a list from the generator\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;lm0, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;(lm0)\n([\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;], \u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;list\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;)\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;lm1 = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;(m)  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Build a list from the same generator\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;lm1, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;(lm1)  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Empty list now - generator already consumed\u0026lt;/span\u0026gt;\n([], \u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;list\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/blockquote\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;The examples will be based on a directory called \u0026lt;em\u0026gt;root_dir\u0026lt;/em\u0026gt; with the following structure (this example is for \u0026lt;em\u0026gt;Win\u0026lt;/em\u0026gt;, but I\u0026apos;m using the same tree on \u0026lt;em\u0026gt;Lnx\u0026lt;/em\u0026gt; as well):\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;E:\\Work\\Dev\\StackOverflow\\q003207219\u0026amp;gt;tree /f \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;root_dir\u0026quot;\u0026lt;/span\u0026gt;\nFolder PATH listing \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; volume Work\nVolume serial number \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; 00000029 \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3655\u0026lt;/span\u0026gt;:6FED\nE:\\WORK\\DEV\\STACKOVERFLOW\\Q003207219\\ROOT_DIR\n   file0\n   file1\n\n+---dir0\n   +---dir00\n         file000\n      \n      +---dir000\n              file0000\n   \n   +---dir01\n          file010\n          file011\n   \n   +---dir02\n       +---dir020\n           +---dir0200\n+---dir1\n       file10\n       file11\n       file12\n\n+---dir2\n      file20\n   \n   +---dir20\n           file200\n\n+---dir3\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/blockquote\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;Solutions\u0026lt;/h2\u0026gt;\n\n\u0026lt;h3\u0026gt;Programmatic approaches:\u0026lt;/h3\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://docs.python.org/3/library/os.html#os.listdir\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[Python 3]: os.\u0026lt;strong\u0026gt;listdir\u0026lt;/strong\u0026gt;(\u0026lt;em\u0026gt;path=\u0026apos;.\u0026apos;\u0026lt;/em\u0026gt;)\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Return a list containing the names of the entries in the directory given by path. The list is in arbitrary order, and does not include the special entries \u0026lt;code\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;\u0026apos;..\u0026apos;\u0026lt;/code\u0026gt; ...\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;root_dir = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;root_dir\u0026quot;\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Path relative to current dir (os.getcwd())\u0026lt;/span\u0026gt;\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;os.listdir(root_dir)  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# List all the items in root_dir\u0026lt;/span\u0026gt;\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir3\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file1\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;[item \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; item \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; os.listdir(root_dir) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; os.path.isfile(os.path.join(root_dir, item))]  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Filter items and only keep files (strip out directories)\u0026lt;/span\u0026gt;\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file1\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;A more elaborate example (\u0026lt;em\u0026gt;code_os_listdir.py\u0026lt;/em\u0026gt;):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; pprint \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; pformat\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_get_dir_content\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;path, include_folders, recursive\u0026lt;/span\u0026gt;):\n    entries = os.listdir(path)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; entry \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; entries:\n        entry_with_path = os.path.join(path, entry)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; os.path.isdir(entry_with_path):\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; include_folders:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;yield\u0026lt;/span\u0026gt; entry_with_path\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; recursive:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; sub_entry \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; _get_dir_content(entry_with_path, include_folders, recursive):\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;yield\u0026lt;/span\u0026gt; sub_entry\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;yield\u0026lt;/span\u0026gt; entry_with_path\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get_dir_content\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;path, include_folders=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;, recursive=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;, prepend_folder_name=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;):\n    path_len = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;(path) + \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;(os.path.sep)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; item \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; _get_dir_content(path, include_folders, recursive):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;yield\u0026lt;/span\u0026gt; item \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; prepend_folder_name \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; item[path_len:]\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_get_dir_content_old\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;path, include_folders, recursive\u0026lt;/span\u0026gt;):\n    entries = os.listdir(path)\n    ret = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;()\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; entry \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; entries:\n        entry_with_path = os.path.join(path, entry)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; os.path.isdir(entry_with_path):\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; include_folders:\n                ret.append(entry_with_path)\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; recursive:\n                ret.extend(_get_dir_content_old(entry_with_path, include_folders, recursive))\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n            ret.append(entry_with_path)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; ret\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get_dir_content_old\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;path, include_folders=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;, recursive=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;, prepend_folder_name=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;):\n    path_len = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;(path) + \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;(os.path.sep)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; [item \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; prepend_folder_name \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; item[path_len:] \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; item \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; _get_dir_content_old(path, include_folders, recursive)]\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;():\n    root_dir = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;root_dir\u0026quot;\u0026lt;/span\u0026gt;\n    ret0 = get_dir_content(root_dir, include_folders=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;, recursive=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;, prepend_folder_name=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;)\n    lret0 = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;(ret0)\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(ret0, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;(lret0), pformat(lret0))\n    ret1 = get_dir_content_old(root_dir, include_folders=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;, recursive=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;, prepend_folder_name=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;)\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;(ret1), pformat(ret1))\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; __name__ == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;__main__\u0026quot;\u0026lt;/span\u0026gt;:\n    main()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Notes\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;There are two implementations:\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;One that uses generators (of course here it seems useless, since I immediately convert the result to a list)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The classic one (function names ending in \u0026lt;strong\u0026gt;_old\u0026lt;/strong\u0026gt;)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Recursion is used (to get into subdirectories)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;For each implementation there are two functions:\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;One that starts with an \u0026lt;em\u0026gt;underscore\u0026lt;/em\u0026gt; (\u0026lt;strong\u0026gt;_\u0026lt;/strong\u0026gt;): \u0026quot;private\u0026quot; (should not be called directly) - that does all the work\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The public one (wrapper over previous): it just strips off the initial path (if required) from the returned entries. It\u0026apos;s an ugly implementation, but it\u0026apos;s the only idea that I could come with at this point\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;In terms of performance, generators are generally a little bit faster (considering both \u0026lt;em\u0026gt;creation\u0026lt;/em\u0026gt; and  \u0026lt;em\u0026gt;iteration\u0026lt;/em\u0026gt; times), but I didn\u0026apos;t test them in recursive functions, and also I am iterating inside the function over inner generators - don\u0026apos;t know how performance friendly is that\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Play with the arguments to get different results\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Output\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;(py35x64_test) E:\\Work\\Dev\\StackOverflow\\q003207219\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;e:\\Work\\Dev\\VEnvs\\py35x64_test\\Scripts\\python.exe\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;code_os_listdir.py\u0026quot;\u0026lt;/span\u0026gt;\n\u0026amp;lt;generator \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt; get_dir_content at \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x000001BDDBB3DF10\u0026lt;/span\u0026gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;22\u0026lt;/span\u0026gt; [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir0\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir0\\\\dir00\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir0\\\\dir00\\\\dir000\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir0\\\\dir00\\\\dir000\\\\file0000\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir0\\\\dir00\\\\file000\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir0\\\\dir01\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir0\\\\dir01\\\\file010\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir0\\\\dir01\\\\file011\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir0\\\\dir02\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir0\\\\dir02\\\\dir020\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir0\\\\dir02\\\\dir020\\\\dir0200\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir1\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir1\\\\file10\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir1\\\\file11\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir1\\\\file12\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir2\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir2\\\\dir20\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir2\\\\dir20\\\\file200\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir2\\\\file20\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir3\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\file0\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\file1\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11\u0026lt;/span\u0026gt; [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir0\\\\dir00\\\\dir000\\\\file0000\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir0\\\\dir00\\\\file000\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir0\\\\dir01\\\\file010\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir0\\\\dir01\\\\file011\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir1\\\\file10\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir1\\\\file11\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir1\\\\file12\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir2\\\\dir20\\\\file200\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir2\\\\file20\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file0\u0026apos;\u0026lt;/span\u0026gt;,\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file1\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/blockquote\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ol start=\u0026quot;2\u0026quot;\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://docs.python.org/3/library/os.html#os.scandir\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[Python 3]: os.\u0026lt;strong\u0026gt;scandir\u0026lt;/strong\u0026gt;(\u0026lt;em\u0026gt;path=\u0026apos;.\u0026apos;\u0026lt;/em\u0026gt;)\u0026lt;/a\u0026gt; (\u0026lt;em\u0026gt;Python \u0026lt;strong\u0026gt;3.5\u0026lt;/strong\u0026gt;\u0026lt;/em\u0026gt;+, backport: \u0026lt;a href=\u0026quot;https://pypi.org/project/scandir\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[PyPI]: scandir\u0026lt;/a\u0026gt;)\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Return an iterator of \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/os.html#os.DirEntry\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;os.DirEntry\u0026lt;/a\u0026gt; objects corresponding to the entries in the directory given by \u0026lt;em\u0026gt;path\u0026lt;/em\u0026gt;. The entries are yielded in arbitrary order, and the special entries \u0026lt;code\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;\u0026apos;..\u0026apos;\u0026lt;/code\u0026gt; are not included.\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;Using \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/os.html#os.scandir\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;scandir()\u0026lt;/a\u0026gt; instead of \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/os.html#os.listdir\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;listdir()\u0026lt;/a\u0026gt; can significantly increase the performance of code that also needs file type or file attribute information, because \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/os.html#os.DirEntry\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;os.DirEntry\u0026lt;/a\u0026gt; objects expose this information if the operating system provides it when scanning a directory. All \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/os.html#os.DirEntry\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;os.DirEntry\u0026lt;/a\u0026gt; methods may perform a system call, but \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/os.html#os.DirEntry.is_dir\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;is_dir()\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/os.html#os.DirEntry.is_file\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;is_file()\u0026lt;/a\u0026gt; usually only require a system call for symbolic links; \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/os.html#os.DirEntry.stat\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;os.DirEntry.stat()\u0026lt;/a\u0026gt; always requires a system call on Unix but only requires one for symbolic links on Windows.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;root_dir = os.path.join(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;.\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;root_dir\u0026quot;\u0026lt;/span\u0026gt;)  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Explicitly prepending current directory\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;root_dir\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\\\\root_dir\u0026apos;\u0026lt;/span\u0026gt;\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;scandir_iterator = os.scandir(root_dir)\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;scandir_iterator\n\u0026amp;lt;nt.ScandirIterator \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt; at \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x00000268CF4BC140\u0026lt;/span\u0026gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;[item.path \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; item \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; scandir_iterator]\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\\\\root_dir\\\\dir0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\\\\root_dir\\\\dir1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\\\\root_dir\\\\dir2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\\\\root_dir\\\\dir3\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\\\\root_dir\\\\file0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\\\\root_dir\\\\file1\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;[item.path \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; item \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; scandir_iterator]  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Will yield an empty list as it was consumed by previous iteration (automatically performed by the list comprehension)\u0026lt;/span\u0026gt;\n[]\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;scandir_iterator = os.scandir(root_dir)  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Reinitialize the generator\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; item \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; scandir_iterator :\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;... \u0026lt;/span\u0026gt;    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; os.path.isfile(item.path):\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;... \u0026lt;/span\u0026gt;            \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(item.name)\n...\nfile0\nfile1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Notes\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;It\u0026apos;s similar to \u0026lt;code\u0026gt;os.listdir\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;But it\u0026apos;s also more flexible (and offers more functionality), more \u0026lt;em\u0026gt;Python\u0026lt;/em\u0026gt;ic (and in some cases, faster)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ol start=\u0026quot;3\u0026quot;\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://docs.python.org/3/library/os.html#os.walk\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[Python 3]: os.\u0026lt;strong\u0026gt;walk\u0026lt;/strong\u0026gt;(\u0026lt;em\u0026gt;top, topdown=True, onerror=None, followlinks=False\u0026lt;/em\u0026gt;)\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Generate the file names in a directory tree by walking the tree either top-down or bottom-up. For each directory in the tree rooted at directory \u0026lt;em\u0026gt;top\u0026lt;/em\u0026gt; (including \u0026lt;em\u0026gt;top\u0026lt;/em\u0026gt; itself), it yields a 3-tuple (\u0026lt;code\u0026gt;dirpath\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;dirnames\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;filenames\u0026lt;/code\u0026gt;).\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;root_dir = os.path.join(os.getcwd(), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;root_dir\u0026quot;\u0026lt;/span\u0026gt;)  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Specify the full path\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;root_dir\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\u0026apos;\u0026lt;/span\u0026gt;\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;walk_generator = os.walk(root_dir)\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;root_dir_entry = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;(walk_generator)  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# First entry corresponds to the root dir (passed as an argument)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;root_dir_entry\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\u0026apos;\u0026lt;/span\u0026gt;, [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir3\u0026apos;\u0026lt;/span\u0026gt;], [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file1\u0026apos;\u0026lt;/span\u0026gt;])\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;root_dir_entry[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;] + root_dir_entry[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;]  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Display dirs and files (direct descendants) in a single list\u0026lt;/span\u0026gt;\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir3\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file1\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;[os.path.join(root_dir_entry[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;], item) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; item \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; root_dir_entry[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;] + root_dir_entry[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;]]  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Display all the entries in the previous list by their full path\u0026lt;/span\u0026gt;\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\\\\dir0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\\\\dir1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\\\\dir2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\\\\dir3\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\\\\file0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\\\\file1\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; entry \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; walk_generator:  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Display the rest of the elements (corresponding to every subdir)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;... \u0026lt;/span\u0026gt;    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(entry)\n...\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\\\\dir0\u0026apos;\u0026lt;/span\u0026gt;, [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir00\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir01\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir02\u0026apos;\u0026lt;/span\u0026gt;], [])\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\\\\dir0\\\\dir00\u0026apos;\u0026lt;/span\u0026gt;, [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir000\u0026apos;\u0026lt;/span\u0026gt;], [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file000\u0026apos;\u0026lt;/span\u0026gt;])\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\\\\dir0\\\\dir00\\\\dir000\u0026apos;\u0026lt;/span\u0026gt;, [], [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file0000\u0026apos;\u0026lt;/span\u0026gt;])\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\\\\dir0\\\\dir01\u0026apos;\u0026lt;/span\u0026gt;, [], [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file010\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file011\u0026apos;\u0026lt;/span\u0026gt;])\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\\\\dir0\\\\dir02\u0026apos;\u0026lt;/span\u0026gt;, [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir020\u0026apos;\u0026lt;/span\u0026gt;], [])\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\\\\dir0\\\\dir02\\\\dir020\u0026apos;\u0026lt;/span\u0026gt;, [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir0200\u0026apos;\u0026lt;/span\u0026gt;], [])\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\\\\dir0\\\\dir02\\\\dir020\\\\dir0200\u0026apos;\u0026lt;/span\u0026gt;, [], [])\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\\\\dir1\u0026apos;\u0026lt;/span\u0026gt;, [], [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file12\u0026apos;\u0026lt;/span\u0026gt;])\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\\\\dir2\u0026apos;\u0026lt;/span\u0026gt;, [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir20\u0026apos;\u0026lt;/span\u0026gt;], [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file20\u0026apos;\u0026lt;/span\u0026gt;])\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\\\\dir2\\\\dir20\u0026apos;\u0026lt;/span\u0026gt;, [], [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file200\u0026apos;\u0026lt;/span\u0026gt;])\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E:\\\\Work\\\\Dev\\\\StackOverflow\\\\q003207219\\\\root_dir\\\\dir3\u0026apos;\u0026lt;/span\u0026gt;, [], [])\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Notes\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Under the scenes, it uses \u0026lt;code\u0026gt;os.scandir\u0026lt;/code\u0026gt; (\u0026lt;code\u0026gt;os.listdir\u0026lt;/code\u0026gt; on older versions)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;It does the heavy lifting by recurring in subfolders\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ol start=\u0026quot;4\u0026quot;\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://docs.python.org/3/library/glob.html#glob.glob\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[Python 3]: glob.\u0026lt;strong\u0026gt;glob\u0026lt;/strong\u0026gt;(\u0026lt;em\u0026gt;pathname, *, recursive=False\u0026lt;/em\u0026gt;)\u0026lt;/a\u0026gt; (\u0026lt;a href=\u0026quot;https://docs.python.org/3/library/glob.html#glob.glob\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[Python 3]: glob.\u0026lt;strong\u0026gt;iglob\u0026lt;/strong\u0026gt;(\u0026lt;em\u0026gt;pathname, *, recursive=False\u0026lt;/em\u0026gt;)\u0026lt;/a\u0026gt;)\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Return a possibly-empty list of path names that match \u0026lt;em\u0026gt;pathname\u0026lt;/em\u0026gt;, which must be a string containing a path specification. \u0026lt;em\u0026gt;pathname\u0026lt;/em\u0026gt; can be either absolute (like \u0026lt;code\u0026gt;/usr/src/Python-1.5/Makefile\u0026lt;/code\u0026gt;) or relative (like \u0026lt;code\u0026gt;../../Tools/*/*.gif\u0026lt;/code\u0026gt;), and can contain shell-style wildcards. Broken symlinks are included in the results (as in the shell).\u0026lt;br\u0026gt;...\u0026lt;br\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;Changed in version 3.5\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt;: Support for recursive globs using \u0026lt;code\u0026gt;**\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; glob, os\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;wildcard_pattern = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;*\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;root_dir = os.path.join(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;root_dir\u0026quot;\u0026lt;/span\u0026gt;, wildcard_pattern)  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Match every file/dir name\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;root_dir\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\*\u0026apos;\u0026lt;/span\u0026gt;\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;glob_list = glob.glob(root_dir)\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;glob_list\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\dir3\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\file0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\file1\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;[item.replace(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;root_dir\u0026quot;\u0026lt;/span\u0026gt; + os.path.sep, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; item \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; glob_list]  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Strip the dir name and the path separator from begining\u0026lt;/span\u0026gt;\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir3\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file1\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; entry \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; glob.iglob(root_dir + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;*\u0026quot;\u0026lt;/span\u0026gt;, recursive=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;):\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;... \u0026lt;/span\u0026gt;    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(entry)\n...\nroot_dir\\\nroot_dir\\dir0\nroot_dir\\dir0\\dir00\nroot_dir\\dir0\\dir00\\dir000\nroot_dir\\dir0\\dir00\\dir000\\file0000\nroot_dir\\dir0\\dir00\\file000\nroot_dir\\dir0\\dir01\nroot_dir\\dir0\\dir01\\file010\nroot_dir\\dir0\\dir01\\file011\nroot_dir\\dir0\\dir02\nroot_dir\\dir0\\dir02\\dir020\nroot_dir\\dir0\\dir02\\dir020\\dir0200\nroot_dir\\dir1\nroot_dir\\dir1\\file10\nroot_dir\\dir1\\file11\nroot_dir\\dir1\\file12\nroot_dir\\dir2\nroot_dir\\dir2\\dir20\nroot_dir\\dir2\\dir20\\file200\nroot_dir\\dir2\\file20\nroot_dir\\dir3\nroot_dir\\file0\nroot_dir\\file1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Notes\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Uses \u0026lt;code\u0026gt;os.listdir\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;For large trees (especially if \u0026lt;em\u0026gt;recursive\u0026lt;/em\u0026gt; is on), \u0026lt;em\u0026gt;iglob\u0026lt;/em\u0026gt; is preferred\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Allows advanced filtering based on name (due to the wildcard)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ol start=\u0026quot;5\u0026quot;\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://docs.python.org/3/library/pathlib.html#pathlib.Path\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[Python 3]: class pathlib.\u0026lt;strong\u0026gt;Path\u0026lt;/strong\u0026gt;(\u0026lt;em\u0026gt;*pathsegments\u0026lt;/em\u0026gt;)\u0026lt;/a\u0026gt; (\u0026lt;em\u0026gt;Python \u0026lt;strong\u0026gt;3.4\u0026lt;/strong\u0026gt;\u0026lt;/em\u0026gt;+, backport: \u0026lt;a href=\u0026quot;https://pypi.org/project/pathlib2\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[PyPI]: pathlib2\u0026lt;/a\u0026gt;)\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; pathlib\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;root_dir = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;root_dir\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;root_dir_instance = pathlib.Path(root_dir)\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;root_dir_instance\nWindowsPath(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;root_dir_instance.name\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;root_dir_instance.is_dir()\n\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;[item.name \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; item \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; root_dir_instance.glob(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;*\u0026quot;\u0026lt;/span\u0026gt;)]  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Wildcard searching for all direct descendants\u0026lt;/span\u0026gt;\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir3\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file1\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;[os.path.join(item.parent.name, item.name) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; item \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; root_dir_instance.glob(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;*\u0026quot;\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; item.is_dir()]  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Display paths (including parent) for files only\u0026lt;/span\u0026gt;\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\file0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\file1\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Notes\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;This is \u0026lt;em\u0026gt;one\u0026lt;/em\u0026gt; way of achieving our goal\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;It\u0026apos;s the \u0026lt;em\u0026gt;OOP\u0026lt;/em\u0026gt; style of handling paths\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Offers lots of functionalities\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ol start=\u0026quot;6\u0026quot;\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://docs.python.org/2/library/dircache.html#dircache.listdir\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[Python 2]: dircache.listdir(path)\u0026lt;/a\u0026gt; (\u0026lt;em\u0026gt;Python \u0026lt;strong\u0026gt;2\u0026lt;/strong\u0026gt;\u0026lt;/em\u0026gt; only)\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;But, according to \u0026lt;a href=\u0026quot;https://github.com/python/cpython/blob/2.7/Lib/dircache.py\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[GitHub]: python/cpython - (2.7) cpython/Lib/dircache.py\u0026lt;/a\u0026gt;, it\u0026apos;s just a (thin) wrapper over \u0026lt;code\u0026gt;os.listdir\u0026lt;/code\u0026gt; with caching\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;listdir\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;path\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026quot;List directory contents, using cache.\u0026quot;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt;:\n        cached_mtime, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt; = cache[path]\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;del\u0026lt;/span\u0026gt; cache[path]\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;except\u0026lt;/span\u0026gt; KeyError:\n        cached_mtime, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt; = -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, []\n    mtime = os.stat(path).st_mtime\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; mtime != cached_mtime:\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt; = os.listdir(path)\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;.sort()\n    cache[path] = mtime, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ol start=\u0026quot;7\u0026quot;\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://man7.org/linux/man-pages/man3/opendir.3.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[man7]: OPENDIR(3)\u0026lt;/a\u0026gt; / \u0026lt;a href=\u0026quot;http://man7.org/linux/man-pages/man3/readdir.3.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[man7]: READDIR(3)\u0026lt;/a\u0026gt; / \u0026lt;a href=\u0026quot;http://man7.org/linux/man-pages/man3/closedir.3.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[man7]: CLOSEDIR(3)\u0026lt;/a\u0026gt; via \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/ctypes.html#module-ctypes\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[Python 3]: ctypes - A foreign function library for Python\u0026lt;/a\u0026gt; (\u0026lt;em\u0026gt;POSIX\u0026lt;/em\u0026gt; specific)\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://docs.python.org/3/library/ctypes.html#module-ctypes\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;ctypes\u0026lt;/a\u0026gt; is a foreign function library for Python. It provides C compatible data types, and allows calling functions in DLLs or shared libraries. It can be used to wrap these libraries in pure Python.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;code_ctypes.py\u0026lt;/em\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#!/usr/bin/env python3\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; sys\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; ctypes \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; Structure, \\\n    c_ulonglong, c_longlong, c_ushort, c_ubyte, c_char, c_int, \\\n    CDLL, POINTER, \\\n    create_string_buffer, get_errno, set_errno, cast\n\n\nDT_DIR = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\nDT_REG = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\n\nchar256 = c_char * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;256\u0026lt;/span\u0026gt;\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;LinuxDirent64\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_ inherited__\u0026quot;\u0026gt;Structure\u0026lt;/span\u0026gt;):\n    _fields_ = [\n        (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;d_ino\u0026quot;\u0026lt;/span\u0026gt;, c_ulonglong),\n        (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;d_off\u0026quot;\u0026lt;/span\u0026gt;, c_longlong),\n        (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;d_reclen\u0026quot;\u0026lt;/span\u0026gt;, c_ushort),\n        (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;d_type\u0026quot;\u0026lt;/span\u0026gt;, c_ubyte),\n        (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;d_name\u0026quot;\u0026lt;/span\u0026gt;, char256),\n    ]\n\nLinuxDirent64Ptr = POINTER(LinuxDirent64)\n\nlibc_dll = this_process = CDLL(\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;, use_errno=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# ALWAYS set argtypes and restype for functions, otherwise it\u0026apos;s UB!!!\u0026lt;/span\u0026gt;\nopendir = libc_dll.opendir\nreaddir = libc_dll.readdir\nclosedir = libc_dll.closedir\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get_dir_content\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;path\u0026lt;/span\u0026gt;):\n    ret = [path, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;(), \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;()]\n    dir_stream = opendir(create_string_buffer(path.encode()))\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (dir_stream == \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;opendir returned NULL (errno: {:d})\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;format\u0026lt;/span\u0026gt;(get_errno()))\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; ret\n    set_errno(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)\n    dirent_addr = readdir(dir_stream)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; dirent_addr:\n        dirent_ptr = cast(dirent_addr, LinuxDirent64Ptr)\n        dirent = dirent_ptr.contents\n        name = dirent.d_name.decode()\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; dirent.d_type \u0026amp;amp; DT_DIR:\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; name \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;.\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;..\u0026quot;\u0026lt;/span\u0026gt;):\n                ret[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;].append(name)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;elif\u0026lt;/span\u0026gt; dirent.d_type \u0026amp;amp; DT_REG:\n            ret[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;].append(name)\n        dirent_addr = readdir(dir_stream)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; get_errno():\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;readdir returned NULL (errno: {:d})\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;format\u0026lt;/span\u0026gt;(get_errno()))\n    closedir(dir_stream)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; ret\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;():\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;{:s} on {:s}\\n\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;format\u0026lt;/span\u0026gt;(sys.version, sys.platform))\n    root_dir = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;root_dir\u0026quot;\u0026lt;/span\u0026gt;\n    entries = get_dir_content(root_dir)\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(entries)\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; __name__ == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;__main__\u0026quot;\u0026lt;/span\u0026gt;:\n    main()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Notes\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;It loads the three functions from \u0026lt;em\u0026gt;libc\u0026lt;/em\u0026gt; (loaded in the current process) and calls them (for more details check \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/82831/how-do-i-check-whether-a-file-exists-using-python/44661513#44661513\u0026quot;\u0026gt;[SO]: How do I check whether a file exists without exceptions? (@CristiFati\u0026apos;s answer)\u0026lt;/a\u0026gt; - last notes from item \u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;#4.\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt;). That would place this approach very close to the \u0026lt;em\u0026gt;Python\u0026lt;/em\u0026gt; / \u0026lt;em\u0026gt;C\u0026lt;/em\u0026gt; edge\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;em\u0026gt;LinuxDirent64\u0026lt;/em\u0026gt; is the \u0026lt;em\u0026gt;ctypes\u0026lt;/em\u0026gt; representation of \u0026lt;em\u0026gt;struct dirent64\u0026lt;/em\u0026gt; from \u0026lt;a href=\u0026quot;http://man7.org/linux/man-pages/man0/dirent.h.0p.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[man7]: dirent.h(0P)\u0026lt;/a\u0026gt; (so are the \u0026lt;em\u0026gt;DT_\u0026lt;/em\u0026gt; constants) from my machine: \u0026lt;em\u0026gt;Ubtu 16 x64\u0026lt;/em\u0026gt; (\u0026lt;em\u0026gt;4.10.0-40-generic\u0026lt;/em\u0026gt; and \u0026lt;em\u0026gt;libc6-dev:amd64\u0026lt;/em\u0026gt;). On other flavors/versions, the struct definition might differ, and if so, the \u0026lt;em\u0026gt;ctypes\u0026lt;/em\u0026gt; alias should be updated, otherwise it will yield \u0026lt;strong\u0026gt;Undefined Behavior\u0026lt;/strong\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;It returns data in the \u0026lt;code\u0026gt;os.walk\u0026lt;/code\u0026gt;\u0026apos;s format. I didn\u0026apos;t bother to make it recursive, but starting from the existing code, that would be a fairly trivial task\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Everything is doable on \u0026lt;em\u0026gt;Win\u0026lt;/em\u0026gt; as well, the data (libraries, functions, structs, constants, ...) differ\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Output\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;[cfati@cfati-ubtu16x64-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;:~/Work/Dev/StackOverflow/q003207219]\u0026amp;gt; ./code_ctypes.py\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3.5\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.2\u0026lt;/span\u0026gt; (default, Nov \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2018\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;13\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;43\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt;)\n[GCC \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5.4\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20160609\u0026lt;/span\u0026gt;] on linux\n\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\u0026apos;\u0026lt;/span\u0026gt;, [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir3\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir0\u0026apos;\u0026lt;/span\u0026gt;], [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file0\u0026apos;\u0026lt;/span\u0026gt;]]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/blockquote\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ol start=\u0026quot;8\u0026quot;\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://docs.activestate.com/activepython/3.1/pywin32/win32file__FindFilesW_meth.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[ActiveState.Docs]: win32file.FindFilesW\u0026lt;/a\u0026gt; (\u0026lt;em\u0026gt;Win\u0026lt;/em\u0026gt; specific)\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Retrieves a list of matching filenames, using the Windows Unicode API. An interface to the API FindFirstFileW/FindNextFileW/Find close functions.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os, win32file, win32con\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;root_dir = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;root_dir\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;wildcard = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;*\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;root_dir_wildcard = os.path.join(root_dir, wildcard)\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;entry_list = win32file.FindFilesW(root_dir_wildcard)\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;(entry_list)  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Don\u0026apos;t display the whole content as it\u0026apos;s too long\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;[entry[-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;] \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; entry \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; entry_list]  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Only display the entry names\u0026lt;/span\u0026gt;\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;..\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir3\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file1\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;[entry[-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;] \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; entry \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; entry_list \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; entry[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;] \u0026amp;amp; win32con.FILE_ATTRIBUTE_DIRECTORY \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;and\u0026lt;/span\u0026gt; entry[-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;] \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;.\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;..\u0026quot;\u0026lt;/span\u0026gt;)]  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Filter entries and only display dir names (except self and parent)\u0026lt;/span\u0026gt;\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir3\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;[os.path.join(root_dir, entry[-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;]) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; entry \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; entry_list \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; entry[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;] \u0026amp;amp; (win32con.FILE_ATTRIBUTE_NORMAL | win32con.FILE_ATTRIBUTE_ARCHIVE)]  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Only display file \u0026quot;full\u0026quot; names\u0026lt;/span\u0026gt;\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\file0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;root_dir\\\\file1\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Notes\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;win32file.FindFilesW\u0026lt;/code\u0026gt; is part of \u0026lt;a href=\u0026quot;https://github.com/mhammond/pywin32\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[GitHub]: mhammond/pywin32 - Python for Windows (pywin32) Extensions\u0026lt;/a\u0026gt;, which is a \u0026lt;em\u0026gt;Python\u0026lt;/em\u0026gt; wrapper over \u0026lt;em\u0026gt;WINAPI\u0026lt;/em\u0026gt;s\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The documentation link is from \u0026lt;a href=\u0026quot;https://www.activestate.com\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;ActiveState\u0026lt;/a\u0026gt;, as I didn\u0026apos;t find any \u0026lt;em\u0026gt;PyWin32\u0026lt;/em\u0026gt; official documentation\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ol start=\u0026quot;9\u0026quot;\u0026gt;\n\u0026lt;li\u0026gt;Install some (other) third-party package that does the trick\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Most likely, will rely on one (or more) of the above (maybe with slight customizations)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Notes\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Code is meant to be portable (except places that target a specific area - which are marked) or cross:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;platform (\u0026lt;em\u0026gt;Nix\u0026lt;/em\u0026gt;, \u0026lt;em\u0026gt;Win\u0026lt;/em\u0026gt;, )\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;em\u0026gt;Python\u0026lt;/em\u0026gt; version (2, 3, )\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Multiple path styles (absolute, relatives) were used across the above variants, to illustrate the fact that the \u0026quot;tools\u0026quot; used are flexible in this direction\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;os.listdir\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;os.scandir\u0026lt;/code\u0026gt; use \u0026lt;em\u0026gt;opendir\u0026lt;/em\u0026gt; / \u0026lt;em\u0026gt;readdir\u0026lt;/em\u0026gt; / \u0026lt;em\u0026gt;closedir\u0026lt;/em\u0026gt; (\u0026lt;a href=\u0026quot;https://docs.microsoft.com/en-gb/windows/desktop/api/fileapi/nf-fileapi-findfirstfilew\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[MS.Docs]: FindFirstFileW function\u0026lt;/a\u0026gt; / \u0026lt;a href=\u0026quot;https://docs.microsoft.com/en-gb/windows/desktop/api/fileapi/nf-fileapi-findnextfilew\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[MS.Docs]: FindNextFileW function\u0026lt;/a\u0026gt; / \u0026lt;a href=\u0026quot;https://docs.microsoft.com/en-gb/windows/desktop/api/fileapi/nf-fileapi-findclose\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[MS.Docs]: FindClose function\u0026lt;/a\u0026gt;) (via \u0026lt;a href=\u0026quot;https://github.com/python/cpython/blob/master/Modules/posixmodule.c\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[GitHub]: python/cpython - (master) cpython/Modules/posixmodule.c\u0026lt;/a\u0026gt;)\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;win32file.FindFilesW\u0026lt;/code\u0026gt; uses those (\u0026lt;em\u0026gt;Win\u0026lt;/em\u0026gt; specific) functions as well (via \u0026lt;a href=\u0026quot;https://github.com/mhammond/pywin32/blob/master/win32/src/win32file.i\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;[GitHub]: mhammond/pywin32 - (master) pywin32/win32/src/win32file.i\u0026lt;/a\u0026gt;)\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;_get_dir_content\u0026lt;/em\u0026gt; (from point \u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;#1.\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt;) can be implemented using any of these approaches (some will require more work and some less)\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Some advanced filtering (instead of just file \u0026lt;em\u0026gt;vs.\u0026lt;/em\u0026gt; dir) could be done: e.g. the \u0026lt;em\u0026gt;include_folders\u0026lt;/em\u0026gt; argument could be replaced by another one (e.g. \u0026lt;em\u0026gt;filter_func\u0026lt;/em\u0026gt;) which would be a function that takes a path as an argument: \u0026lt;code\u0026gt;filter_func=lambda x: True\u0026lt;/code\u0026gt; (this doesn\u0026apos;t strip out anything) and inside \u0026lt;em\u0026gt;_get_dir_content\u0026lt;/em\u0026gt; something like: \u0026lt;code\u0026gt;if not filter_func(entry_with_path): continue\u0026lt;/code\u0026gt; (if the function fails for one entry, it will be skipped), but the more complex the code becomes, the longer it will take to execute\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Nota bene!\u0026lt;/strong\u0026gt; Since recursion is used, I must mention that I did some tests on my laptop (\u0026lt;em\u0026gt;Win 10 x64\u0026lt;/em\u0026gt;), totally unrelated to this problem, and when the recursion level was reaching values somewhere in the \u0026lt;em\u0026gt;(990 .. 1000)\u0026lt;/em\u0026gt; range (\u0026lt;em\u0026gt;recursionlimit\u0026lt;/em\u0026gt; - 1000 (default)), I got \u0026lt;em\u0026gt;StackOverflow\u0026lt;/em\u0026gt; :). If the directory tree exceeds that limit (I am not an \u0026lt;em\u0026gt;FS\u0026lt;/em\u0026gt; expert, so I don\u0026apos;t know if that is even possible), that could be a problem. \u0026lt;br\u0026gt;\nI must also mention that I didn\u0026apos;t try to increase \u0026lt;em\u0026gt;recursionlimit\u0026lt;/em\u0026gt; because I have no experience in the area (how much can I increase it before having to also increase the stack at \u0026lt;em\u0026gt;OS\u0026lt;/em\u0026gt; level), but in theory there will always be the possibility for failure, if the dir depth is larger than the highest possible \u0026lt;em\u0026gt;recursionlimit\u0026lt;/em\u0026gt; (on that machine)\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;The code samples are for demonstrative purposes only. That means that I didn\u0026apos;t take into account error handling (I don\u0026apos;t think there\u0026apos;s any \u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;try\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt; / \u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;except\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt; / \u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;else\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt; / \u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;finally\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt; block), so the code is not robust (the reason is: to keep it as simple and short as possible). For \u0026lt;em\u0026gt;production\u0026lt;/em\u0026gt;, error handling should be added as well\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;h3\u0026gt;Other approaches:\u0026lt;/h3\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Use \u0026lt;em\u0026gt;Python\u0026lt;/em\u0026gt; only as a wrapper\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Everything is done using another technology\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;That technology is invoked from \u0026lt;em\u0026gt;Python\u0026lt;/em\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;The most famous flavor that I know is what I call the \u0026lt;em\u0026gt;system administrator\u0026lt;/em\u0026gt; approach:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Use \u0026lt;em\u0026gt;Python\u0026lt;/em\u0026gt; (or any programming language for that matter) in order to execute \u0026lt;em\u0026gt;shell\u0026lt;/em\u0026gt; commands (and parse their outputs)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Some consider this a neat hack\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;I consider it more like a lame workaround (\u0026lt;em\u0026gt;gainarie\u0026lt;/em\u0026gt;), as the action per se is performed from \u0026lt;em\u0026gt;shell\u0026lt;/em\u0026gt; (\u0026lt;em\u0026gt;cmd\u0026lt;/em\u0026gt; in this case), and thus doesn\u0026apos;t have anything to do with \u0026lt;em\u0026gt;Python\u0026lt;/em\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Filtering (\u0026lt;code\u0026gt;grep\u0026lt;/code\u0026gt; / \u0026lt;code\u0026gt;findstr\u0026lt;/code\u0026gt;) or output formatting could be done on both sides, but I\u0026apos;m not going to insist on it. Also, I deliberately used \u0026lt;code\u0026gt;os.system\u0026lt;/code\u0026gt; instead of \u0026lt;code\u0026gt;subprocess.Popen\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;(py35x64_test) E:\\Work\\Dev\\StackOverflow\\q003207219\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;e:\\Work\\Dev\\VEnvs\\py35x64_test\\Scripts\\python.exe\u0026quot;\u0026lt;/span\u0026gt; -c \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;import os;os.system(\\\u0026quot;dir /b root_dir\\\u0026quot;)\u0026quot;\u0026lt;/span\u0026gt;\ndir0\ndir1\ndir2\ndir3\nfile0\nfile1\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/blockquote\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;In general this approach is to be avoided, since if some command output format slightly differs between \u0026lt;em\u0026gt;OS\u0026lt;/em\u0026gt; versions/flavors, the parsing code should be adapted as well; not to mention differences between locales).\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I really liked \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/3215392/901641\u0026quot;\u0026gt;adamk\u0026apos;s answer\u0026lt;/a\u0026gt;, suggesting that you use \u0026lt;code\u0026gt;glob()\u0026lt;/code\u0026gt;, from the module of the same name. This allows you to have pattern matching with \u0026lt;code\u0026gt;*\u0026lt;/code\u0026gt;s.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;But as other people pointed out in the comments, \u0026lt;code\u0026gt;glob()\u0026lt;/code\u0026gt; can get tripped up over inconsistent slash directions. To help with that, I suggest you use the \u0026lt;code\u0026gt;join()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;expanduser()\u0026lt;/code\u0026gt; functions in the \u0026lt;code\u0026gt;os.path\u0026lt;/code\u0026gt; module, and perhaps the \u0026lt;code\u0026gt;getcwd()\u0026lt;/code\u0026gt; function in the \u0026lt;code\u0026gt;os\u0026lt;/code\u0026gt; module, as well.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;As examples:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; glob \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; glob\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Return everything under C:\\Users\\admin that contains a folder called wlp.\u0026lt;/span\u0026gt;\nglob(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;C:\\Users\\admin\\*\\wlp\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The above is terrible - the path has been hardcoded and will only ever work on Windows between the drive name and the \u0026lt;code\u0026gt;\\\u0026lt;/code\u0026gt;s being hardcoded into the path.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; glob    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; glob\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; os.path \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; join\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Return everything under Users, admin, that contains a folder called wlp.\u0026lt;/span\u0026gt;\nglob(join(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Users\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;admin\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;wlp\u0026apos;\u0026lt;/span\u0026gt;))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The above works better, but it relies on the folder name \u0026lt;code\u0026gt;Users\u0026lt;/code\u0026gt; which is often found on Windows and not so often found on other OSs. It also relies on the user having a specific name, \u0026lt;code\u0026gt;admin\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; glob    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; glob\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; os.path \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; expanduser, join\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Return everything under the user directory that contains a folder called wlp.\u0026lt;/span\u0026gt;\nglob(join(expanduser(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;~\u0026apos;\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;wlp\u0026apos;\u0026lt;/span\u0026gt;))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This works perfectly across all platforms.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Another great example that works perfectly across platforms and does something a bit different:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; glob    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; glob\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; os      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; getcwd\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; os.path \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; join\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Return everything under the current directory that contains a folder called wlp.\u0026lt;/span\u0026gt;\nglob(join(getcwd(), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;wlp\u0026apos;\u0026lt;/span\u0026gt;))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Hope these examples help you see the power of a few of the functions you can find in the standard Python library modules.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;list_files\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;path\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# returns a list of names (with extension, without full path) of all files \u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# in folder path\u0026lt;/span\u0026gt;\n    files = []\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; name \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; os.listdir(path):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; os.path.isfile(os.path.join(path, name)):\n            files.append(name)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; files \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you are looking for a Python implementation of \u0026lt;strong\u0026gt;find\u0026lt;/strong\u0026gt;, this is a recipe I use rather frequently:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; findtools.find_files \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; (find_files, Match)\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Recursively find all *.sh files in **/usr/bin**\u0026lt;/span\u0026gt;\nsh_files_pattern = Match(filetype=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;f\u0026apos;\u0026lt;/span\u0026gt;, name=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*.sh\u0026apos;\u0026lt;/span\u0026gt;)\nfound_files = find_files(path=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/usr/bin\u0026apos;\u0026lt;/span\u0026gt;, match=sh_files_pattern)\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; found_file \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; found_files:\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; found_file\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;So I made a PyPI \u0026lt;a href=\u0026quot;https://pypi.python.org/pypi/findtools/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;package\u0026lt;/a\u0026gt; out of it and there is also a \u0026lt;a href=\u0026quot;https://github.com/ewiger/findtools\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;GitHub repository\u0026lt;/a\u0026gt;. I hope that someone finds it potentially useful for this code.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;For greater results, you can use \u0026lt;code\u0026gt;listdir()\u0026lt;/code\u0026gt; method of the \u0026lt;code\u0026gt;os\u0026lt;/code\u0026gt; module along with a generator (a generator is a powerful iterator that keeps its state, remember?). The following code works fine with both versions: Python 2 and Python 3.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Here\u0026apos;s a code:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;files\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;path\u0026lt;/span\u0026gt;):  \n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; file \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; os.listdir(path):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; os.path.isfile(os.path.join(path, file)):\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;yield\u0026lt;/span\u0026gt; file\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; file \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; files(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;.\u0026quot;\u0026lt;/span\u0026gt;):  \n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; (file)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The \u0026lt;code\u0026gt;listdir()\u0026lt;/code\u0026gt; method returns the list of entries for the given directory. The method \u0026lt;code\u0026gt;os.path.isfile()\u0026lt;/code\u0026gt; returns \u0026lt;code\u0026gt;True\u0026lt;/code\u0026gt; if the given entry is a file. And the \u0026lt;code\u0026gt;yield\u0026lt;/code\u0026gt; operator quits the func but keeps its current state, and it returns only the name of the entry detected as a file. All the above allows us to loop over the generator function.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Returning a list of absolute filepaths, does not recurse into subdirectories\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;L = [os.path.join(os.getcwd(),f) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; os.listdir(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; os.path.isfile(os.path.join(os.getcwd(),f))]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;A wise teacher told me once that:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;When there are several established ways to do something, none of them is good for all cases.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;I will thus add a solution for a \u0026lt;strong\u0026gt;subset\u0026lt;/strong\u0026gt; of the problem: quite often, we only want to check whether a file matches a start string and an end string, without going into subdirectories. We would thus like a function that returns a list of filenames, like:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;filenames = dir_filter(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo/baz\u0026apos;\u0026lt;/span\u0026gt;, radical=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;radical\u0026apos;\u0026lt;/span\u0026gt;, extension=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.txt\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;If you care to first declare two functions, this can be done:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;file_filter\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;filename, radical=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;, extension=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Check if a filename matches a radical and extension\u0026quot;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; filename:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n    filename = filename.strip()\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt;(filename.startswith(radical) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;and\u0026lt;/span\u0026gt; filename.endswith(extension))\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;dir_filter\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;dirname=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;, radical=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;, extension=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Filter filenames in directory according to radical and extension\u0026quot;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; dirname:\n        dirname = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; [filename \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; filename \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; os.listdir(dirname)\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; file_filter(filename, radical, extension)]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This solution could be easily generalized with regular expressions (and you might want to add a \u0026lt;code\u0026gt;pattern\u0026lt;/code\u0026gt; argument, if you do not want your patterns to always stick to the start or end of the filename).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os.path\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get_files\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;target_dir\u0026lt;/span\u0026gt;):\n    item_list = os.listdir(target_dir)\n\n    file_list = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;()\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; item \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; item_list:\n        item_dir = os.path.join(target_dir,item)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; os.path.isdir(item_dir):\n            file_list += get_files(item_dir)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n            file_list.append(item_dir)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; file_list\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Here I use a recursive structure.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Using generators\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get_files\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;search_path\u0026lt;/span\u0026gt;):\n     \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (dirpath, _, filenames) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; os.walk(search_path):\n         \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; filename \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; filenames:\n             \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;yield\u0026lt;/span\u0026gt; os.path.join(dirpath, filename)\nlist_files = get_files(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; filename \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; list_files:\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(filename)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Another very readable variant for Python 3.4+ is using pathlib.Path.glob:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; pathlib \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; Path\nfolder = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/foo\u0026apos;\u0026lt;/span\u0026gt;\n[f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; Path(folder).glob(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; f.is_file()]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;It is simple to make more specific, e.g. only look for Python source files which are not symbolic links, also in all subdirectories:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;[f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; Path(folder).glob(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;**/*.py\u0026apos;\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; f.is_symlink()]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;For Python 2:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;pip install rglob\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Then do\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; rglob\nfile_list = rglob.rglob(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/home/base/dir/\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;*\u0026quot;\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; file_list\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here\u0026apos;s my general-purpose function for this.  It returns a list of file paths rather than filenames since I found that to be more useful.  It has a few optional arguments that make it versatile.  For instance, I often use it with arguments like \u0026lt;code\u0026gt;pattern=\u0026apos;*.txt\u0026apos;\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;subfolders=True\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; fnmatch\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;list_paths\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;folder=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;, pattern=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;, case_sensitive=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;, subfolders=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026quot;Return a list of the file paths matching the pattern in the specified \n    folder, optionally including files inside subfolders.\n    \u0026quot;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;\n    match = fnmatch.fnmatchcase \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; case_sensitive \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; fnmatch.fnmatch\n    walked = os.walk(folder) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; subfolders \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; [\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;(os.walk(folder))]\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; [os.path.join(root, f)\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; root, dirnames, filenames \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; walked\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; f \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; filenames \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; match(f, pattern)]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I will provide a sample one liner where sourcepath and file type can be provided as input. The code returns a list of filenames with csv extension. Use \u0026lt;em\u0026gt;.\u0026lt;/em\u0026gt; in case all files needs to be returned. This will also recursively scans the subdirectories. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;[y for x in os.walk(sourcePath) for y in glob(os.path.join(x[0], \u0026apos;*.csv\u0026apos;))]\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Modify file extensions and source path as needed. \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;http://docs.python.org/release/2.6.7/library/dircache.html\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;dircache\u0026lt;/a\u0026gt; is  \u0026quot;Deprecated since version 2.6: The dircache module has been removed in Python 3.0.\u0026quot;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; dircache\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt; = dircache.listdir(pathname)\ni = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\ncheck = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;])\ntemp = []\ncount = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; count != \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;:\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;[i]) != check:\n     temp.append(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;[i-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;])\n     check = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;[i])\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n    i = i + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n    count = count - \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; temp\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":535,"title":"How do I list all files of a directory?","slug":"how-do-i-list-all-files-of-a-directory-1657388340404","postType":"QUESTION","createdAt":"2022-07-09T17:39:00.000Z","updatedAt":"2022-07-09T17:39:00.000Z","tags":[{"id":2622,"name":"directory","slug":"directory","createdAt":"2022-07-09T17:39:00.000Z","updatedAt":"2022-07-09T17:39:00.000Z","Questions_Tags":{"questionId":535,"tagId":2622}}]}]}},"__N_SSG":true},"page":"/questions/tag/[slug]","query":{"slug":"directory"},"buildId":"B9ZMQqRLGvIP-RcWN9dT2","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>