{"pageProps":{"data":{"count":610,"rows":[{"id":50,"title":"How to join (merge) data frames (inner, outer, left, right)","slug":"how-to-join-(merge)-data-frames-(inner-outer-left-right)-1657384406445","postType":"QUESTION","createdAt":"2022-07-09T16:33:26.000Z","updatedAt":"2022-07-09T16:33:26.000Z","tags":[]},{"id":49,"title":"Unfortunately MyApp has stopped. How can I solve this?","slug":"unfortunately-myapp-has-stopped.-how-can-i-solve-this-1657384402171","postType":"QUESTION","createdAt":"2022-07-09T16:33:22.000Z","updatedAt":"2022-07-09T16:33:22.000Z","tags":[{"id":176,"name":"kotlin","slug":"kotlin","createdAt":"2022-07-09T16:33:22.000Z","updatedAt":"2022-07-09T16:33:22.000Z","Questions_Tags":{"questionId":49,"tagId":176}}]},{"id":48,"title":"Understanding slicing","slug":"understanding-slicing-1657384397680","postType":"QUESTION","createdAt":"2022-07-09T16:33:17.000Z","updatedAt":"2022-07-09T16:33:17.000Z","tags":[{"id":171,"name":"slice","slug":"slice","createdAt":"2022-07-09T16:33:17.000Z","updatedAt":"2022-07-09T16:33:17.000Z","Questions_Tags":{"questionId":48,"tagId":171}},{"id":172,"name":"sequence","slug":"sequence","createdAt":"2022-07-09T16:33:17.000Z","updatedAt":"2022-07-09T16:33:17.000Z","Questions_Tags":{"questionId":48,"tagId":172}}]},{"id":47,"title":"List of lists changes reflected across sublists unexpectedly","slug":"list-of-lists-changes-reflected-across-sublists-unexpectedly-1657384393720","postType":"QUESTION","createdAt":"2022-07-09T16:33:13.000Z","updatedAt":"2022-07-09T16:33:13.000Z","tags":[{"id":167,"name":"list","slug":"list","createdAt":"2022-07-09T16:33:13.000Z","updatedAt":"2022-07-09T16:33:13.000Z","Questions_Tags":{"questionId":47,"tagId":167}},{"id":168,"name":"nested-lists","slug":"nested-lists","createdAt":"2022-07-09T16:33:13.000Z","updatedAt":"2022-07-09T16:33:13.000Z","Questions_Tags":{"questionId":47,"tagId":168}},{"id":169,"name":"mutable","slug":"mutable","createdAt":"2022-07-09T16:33:13.000Z","updatedAt":"2022-07-09T16:33:13.000Z","Questions_Tags":{"questionId":47,"tagId":169}}]},{"id":46,"title":"What is The Rule of Three?","slug":"what-is-the-rule-of-three-1657384390295","postType":"QUESTION","createdAt":"2022-07-09T16:33:10.000Z","updatedAt":"2022-07-09T16:33:10.000Z","tags":[{"id":162,"name":"copy-constructor","slug":"copy-constructor","createdAt":"2022-07-09T16:33:10.000Z","updatedAt":"2022-07-09T16:33:10.000Z","Questions_Tags":{"questionId":46,"tagId":162}},{"id":163,"name":"assignment-operator","slug":"assignment-operator","createdAt":"2022-07-09T16:33:10.000Z","updatedAt":"2022-07-09T16:33:10.000Z","Questions_Tags":{"questionId":46,"tagId":163}},{"id":164,"name":"rule-of-three","slug":"rule-of-three","createdAt":"2022-07-09T16:33:10.000Z","updatedAt":"2022-07-09T16:33:10.000Z","Questions_Tags":{"questionId":46,"tagId":164}}]}]},"answers":{"46":["\n&lt;h1&gt;Introduction&lt;/h1&gt;\n&lt;p&gt;C++ treats variables of user-defined types with &lt;em&gt;value semantics&lt;/em&gt;.\nThis means that objects are implicitly copied in various contexts,\nand we should understand what &quot;copying an object&quot; actually means.&lt;/p&gt;\n&lt;p&gt;Let us consider a simple example:&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;person&lt;/span&gt;\n{\n    std::string name;\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; age;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n\n    &lt;span class=&quot;hljs-built_in&quot;&gt;person&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; std::string&amp;amp; name, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; age) : &lt;span class=&quot;hljs-built_in&quot;&gt;name&lt;/span&gt;(name), &lt;span class=&quot;hljs-built_in&quot;&gt;age&lt;/span&gt;(age)\n    {\n    }\n};\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;{\n    &lt;span class=&quot;hljs-function&quot;&gt;person &lt;span class=&quot;hljs-title&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Bjarne Stroustrup&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;60&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-function&quot;&gt;person &lt;span class=&quot;hljs-title&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(a)&lt;/span&gt;&lt;/span&gt;;   &lt;span class=&quot;hljs-comment&quot;&gt;// What happens here?&lt;/span&gt;\n    b = a;         &lt;span class=&quot;hljs-comment&quot;&gt;// And here?&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;(If you are puzzled by the &lt;code&gt;name(name), age(age)&lt;/code&gt; part,\nthis is called a &lt;a href=&quot;https://stackoverflow.com/questions/1272680/&quot;&gt;member initializer list&lt;/a&gt;.)&lt;/p&gt;\n&lt;h1&gt;Special member functions&lt;/h1&gt;\n&lt;p&gt;What does it mean to copy a &lt;code&gt;person&lt;/code&gt; object?\nThe &lt;code&gt;main&lt;/code&gt; function shows two distinct copying scenarios.\nThe initialization &lt;code&gt;person b(a);&lt;/code&gt; is performed by the &lt;em&gt;copy constructor&lt;/em&gt;.\nIts job is to construct a fresh object based on the state of an existing object.\nThe assignment &lt;code&gt;b = a&lt;/code&gt; is performed by the &lt;em&gt;copy assignment operator&lt;/em&gt;.\nIts job is generally a little more complicated,\nbecause the target object is already in some valid state that needs to be dealt with.&lt;/p&gt;\n&lt;p&gt;Since we declared neither the copy constructor nor the assignment operator (nor the destructor) ourselves,\nthese are implicitly defined for us. Quote from the standard:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;The [...] copy constructor and copy assignment operator, [...] and destructor are special member functions.\n[ &lt;em&gt;Note&lt;/em&gt;: &lt;strong&gt;The implementation will implicitly declare these member functions\nfor some class types when the program does not explicitly declare them.&lt;/strong&gt;\nThe implementation will implicitly define them if they are used. [...] &lt;em&gt;end note&lt;/em&gt; ]\n[n3126.pdf section 12 ยง1]&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;By default, copying an object means copying its members:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;The implicitly-defined copy constructor for a non-union class X performs a memberwise copy of its subobjects.\n[n3126.pdf section 12.8 ยง16]&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;blockquote&gt;\n&lt;p&gt;The implicitly-defined copy assignment operator for a non-union class X performs memberwise copy assignment\nof its subobjects.\n[n3126.pdf section 12.8 ยง30]&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h2&gt;Implicit definitions&lt;/h2&gt;\n&lt;p&gt;The implicitly-defined special member functions for &lt;code&gt;person&lt;/code&gt; look like this:&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// 1. copy constructor&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;person&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; person&amp;amp; that) : &lt;span class=&quot;hljs-built_in&quot;&gt;name&lt;/span&gt;(that.name), &lt;span class=&quot;hljs-built_in&quot;&gt;age&lt;/span&gt;(that.age)\n{\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// 2. copy assignment operator&lt;/span&gt;\nperson&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; person&amp;amp; that)\n{\n    name = that.name;\n    age = that.age;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; *&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// 3. destructor&lt;/span&gt;\n~&lt;span class=&quot;hljs-built_in&quot;&gt;person&lt;/span&gt;()\n{\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Memberwise copying is exactly what we want in this case:\n&lt;code&gt;name&lt;/code&gt; and &lt;code&gt;age&lt;/code&gt; are copied, so we get a self-contained, independent &lt;code&gt;person&lt;/code&gt; object.\nThe implicitly-defined destructor is always empty.\nThis is also fine in this case since we did not acquire any resources in the constructor.\nThe members&apos; destructors are implicitly called after the &lt;code&gt;person&lt;/code&gt; destructor is finished:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;After executing the body of the destructor and destroying any automatic objects allocated within the body,\na destructor for class X calls the destructors for X&apos;s direct [...] members\n[n3126.pdf 12.4 ยง6]&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h1&gt;Managing resources&lt;/h1&gt;\n&lt;p&gt;So when should we declare those special member functions explicitly?\nWhen our class &lt;em&gt;manages a resource&lt;/em&gt;, that is,\nwhen an object of the class is &lt;em&gt;responsible&lt;/em&gt; for that resource.\nThat usually means the resource is &lt;em&gt;acquired&lt;/em&gt; in the constructor\n(or passed into the constructor) and &lt;em&gt;released&lt;/em&gt; in the destructor.&lt;/p&gt;\n&lt;p&gt;Let us go back in time to pre-standard C++.\nThere was no such thing as &lt;code&gt;std::string&lt;/code&gt;, and programmers were in love with pointers.\nThe &lt;code&gt;person&lt;/code&gt; class might have looked like this:&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;person&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt;* name;\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; age;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// the constructor acquires a resource:&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// in this case, dynamic memory obtained via new[]&lt;/span&gt;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;person&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt;* the_name, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; the_age)\n    {\n        name = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt;[&lt;span class=&quot;hljs-built_in&quot;&gt;strlen&lt;/span&gt;(the_name) + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;];\n        &lt;span class=&quot;hljs-built_in&quot;&gt;strcpy&lt;/span&gt;(name, the_name);\n        age = the_age;\n    }\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// the destructor must release this resource via delete[]&lt;/span&gt;\n    ~&lt;span class=&quot;hljs-built_in&quot;&gt;person&lt;/span&gt;()\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;[] name;\n    }\n};\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Even today, people still write classes in this style and get into trouble:\n&quot;&lt;em&gt;I pushed a person into a vector and now I get crazy memory errors!&lt;/em&gt;&quot;\nRemember that by default, copying an object means copying its members,\nbut copying the &lt;code&gt;name&lt;/code&gt; member merely copies a pointer, &lt;em&gt;not&lt;/em&gt; the character array it points to!\nThis has several unpleasant effects:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;Changes via &lt;code&gt;a&lt;/code&gt; can be observed via &lt;code&gt;b&lt;/code&gt;.&lt;/li&gt;\n&lt;li&gt;Once &lt;code&gt;b&lt;/code&gt; is destroyed, &lt;code&gt;a.name&lt;/code&gt; is a dangling pointer.&lt;/li&gt;\n&lt;li&gt;If &lt;code&gt;a&lt;/code&gt; is destroyed, deleting the dangling pointer yields &lt;a href=&quot;https://stackoverflow.com/questions/2397984/&quot;&gt;undefined behavior&lt;/a&gt;.&lt;/li&gt;\n&lt;li&gt;Since the assignment does not take into account what &lt;code&gt;name&lt;/code&gt; pointed to before the assignment,\nsooner or later you will get memory leaks all over the place.&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2&gt;Explicit definitions&lt;/h2&gt;\n&lt;p&gt;Since memberwise copying does not have the desired effect, we must define the copy constructor and the copy assignment operator explicitly to make deep copies of the character array:&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// 1. copy constructor&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;person&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; person&amp;amp; that)\n{\n    name = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt;[&lt;span class=&quot;hljs-built_in&quot;&gt;strlen&lt;/span&gt;(that.name) + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;];\n    &lt;span class=&quot;hljs-built_in&quot;&gt;strcpy&lt;/span&gt;(name, that.name);\n    age = that.age;\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// 2. copy assignment operator&lt;/span&gt;\nperson&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; person&amp;amp; that)\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; != &amp;amp;that)\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;[] name;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// This is a dangerous point in the flow of execution!&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// We have temporarily invalidated the class invariants,&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// and the next statement might throw an exception,&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// leaving the object in an invalid state :(&lt;/span&gt;\n        name = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt;[&lt;span class=&quot;hljs-built_in&quot;&gt;strlen&lt;/span&gt;(that.name) + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;];\n        &lt;span class=&quot;hljs-built_in&quot;&gt;strcpy&lt;/span&gt;(name, that.name);\n        age = that.age;\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; *&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Note the difference between initialization and assignment:\nwe must tear down the old state before assigning to &lt;code&gt;name&lt;/code&gt; to prevent memory leaks.\nAlso, we have to protect against self-assignment of the form &lt;code&gt;x = x&lt;/code&gt;.\nWithout that check, &lt;code&gt;delete[] name&lt;/code&gt; would delete the array containing the &lt;em&gt;source&lt;/em&gt; string,\nbecause when you write &lt;code&gt;x = x&lt;/code&gt;, both &lt;code&gt;this-&amp;gt;name&lt;/code&gt; and &lt;code&gt;that.name&lt;/code&gt; contain the same pointer.&lt;/p&gt;\n&lt;h2&gt;Exception safety&lt;/h2&gt;\n&lt;p&gt;Unfortunately, this solution will fail if &lt;code&gt;new char[...]&lt;/code&gt; throws an exception due to memory exhaustion.\nOne possible solution is to introduce a local variable and reorder the statements:&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// 2. copy assignment operator&lt;/span&gt;\nperson&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; person&amp;amp; that)\n{\n    &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt;* local_name = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt;[&lt;span class=&quot;hljs-built_in&quot;&gt;strlen&lt;/span&gt;(that.name) + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;];\n    &lt;span class=&quot;hljs-comment&quot;&gt;// If the above statement throws,&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// the object is still in the same state as before.&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// None of the following statements will throw an exception :)&lt;/span&gt;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;strcpy&lt;/span&gt;(local_name, that.name);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;[] name;\n    name = local_name;\n    age = that.age;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; *&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This also takes care of self-assignment without an explicit check.\nAn even more robust solution to this problem is the &lt;a href=&quot;https://stackoverflow.com/questions/3279543/&quot;&gt;copy-and-swap idiom&lt;/a&gt;,\nbut I will not go into the details of exception safety here.\nI only mentioned exceptions to make the following point: &lt;strong&gt;Writing classes that manage resources is hard.&lt;/strong&gt;&lt;/p&gt;\n&lt;h2&gt;Noncopyable resources&lt;/h2&gt;\n&lt;p&gt;Some resources cannot or should not be copied, such as file handles or mutexes.\nIn that case, simply declare the copy constructor and copy assignment operator as &lt;code&gt;private&lt;/code&gt; without giving a definition:&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt;:\n\n    &lt;span class=&quot;hljs-built_in&quot;&gt;person&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; person&amp;amp; that);\n    person&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; person&amp;amp; that);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Alternatively, you can inherit from &lt;code&gt;boost::noncopyable&lt;/code&gt; or declare them as deleted (in C++11 and above):&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;person&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; person&amp;amp; that) = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\nperson&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; person&amp;amp; that) = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;The rule of three&lt;/h2&gt;\n&lt;p&gt;Sometimes you need to implement a class that manages a resource.\n(Never manage multiple resources in a single class,\nthis will only lead to pain.)\nIn that case, remember the &lt;strong&gt;rule of three&lt;/strong&gt;:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;If you need to explicitly declare either the destructor,\ncopy constructor or copy assignment operator yourself,\nyou probably need to explicitly declare all three of them.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;(Unfortunately, this &quot;rule&quot; is not enforced by the C++ standard or any compiler I am aware of.)&lt;/p&gt;\n&lt;h2&gt;The rule of five&lt;/h2&gt;\n&lt;p&gt;From C++11 on, an object has 2 extra special member functions: the move constructor and move assignment. The rule of five states to implement these functions as well.&lt;/p&gt;\n&lt;p&gt;An example with the signatures:&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;person&lt;/span&gt;\n{\n    std::string name;\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; age;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n    &lt;span class=&quot;hljs-built_in&quot;&gt;person&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; std::string&amp;amp; name, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; age);        &lt;span class=&quot;hljs-comment&quot;&gt;// Ctor&lt;/span&gt;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;person&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; person &amp;amp;) = &lt;span class=&quot;hljs-keyword&quot;&gt;default&lt;/span&gt;;                &lt;span class=&quot;hljs-comment&quot;&gt;// 1/5: Copy Ctor&lt;/span&gt;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;person&lt;/span&gt;(person &amp;amp;&amp;amp;) &lt;span class=&quot;hljs-keyword&quot;&gt;noexcept&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;default&lt;/span&gt;;            &lt;span class=&quot;hljs-comment&quot;&gt;// 4/5: Move Ctor&lt;/span&gt;\n    person&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; person &amp;amp;) = &lt;span class=&quot;hljs-keyword&quot;&gt;default&lt;/span&gt;;     &lt;span class=&quot;hljs-comment&quot;&gt;// 2/5: Copy Assignment&lt;/span&gt;\n    person&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(person &amp;amp;&amp;amp;) &lt;span class=&quot;hljs-keyword&quot;&gt;noexcept&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;default&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// 5/5: Move Assignment&lt;/span&gt;\n    ~&lt;span class=&quot;hljs-built_in&quot;&gt;person&lt;/span&gt;() &lt;span class=&quot;hljs-keyword&quot;&gt;noexcept&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;default&lt;/span&gt;;                    &lt;span class=&quot;hljs-comment&quot;&gt;// 3/5: Dtor&lt;/span&gt;\n};\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;The rule of zero&lt;/h2&gt;\n&lt;p&gt;The rule of 3/5 is also referred to as the rule of 0/3/5. The zero part of the rule states that you are allowed to not write any of the special member functions when creating your class.&lt;/p&gt;\n&lt;h1&gt;Advice&lt;/h1&gt;\n&lt;p&gt;Most of the time, you do not need to manage a resource yourself,\nbecause an existing class such as &lt;code&gt;std::string&lt;/code&gt; already does it for you.\nJust compare the simple code using a &lt;code&gt;std::string&lt;/code&gt; member\nto the convoluted and error-prone alternative using a &lt;code&gt;char*&lt;/code&gt; and you should be convinced.\nAs long as you stay away from raw pointer members, the rule of three is unlikely to concern your own code.&lt;/p&gt;\n    ","\n&lt;p&gt;The &lt;a href=&quot;http://en.wikipedia.org/wiki/Rule_of_three_%28C%2B%2B_programming%29&quot; rel=&quot;noreferrer&quot;&gt;Rule of Three&lt;/a&gt; is a rule of thumb for C++, basically saying &lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;If your class needs any of&lt;/p&gt;\n  \n  &lt;ul&gt;\n  &lt;li&gt;a &lt;strong&gt;copy constructor&lt;/strong&gt;,&lt;/li&gt;\n  &lt;li&gt;an &lt;strong&gt;assignment operator&lt;/strong&gt;, &lt;/li&gt;\n  &lt;li&gt;or a &lt;strong&gt;destructor&lt;/strong&gt;, &lt;/li&gt;\n  &lt;/ul&gt;\n  \n  &lt;p&gt;defined explictly, then it is likely to need &lt;strong&gt;all three of them&lt;/strong&gt;.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;The reasons for this is that all three of them are usually used to manage a resource, and if your class manages a resource, it usually needs to manage copying as well as freeing. &lt;/p&gt;\n\n&lt;p&gt;If there is no good semantic for copying the resource your class manages, then consider to forbid copying by declaring (not &lt;em&gt;&lt;a href=&quot;https://stackoverflow.com/questions/1410563/what-is-the-difference-between-a-definition-and-a-declaration/1410632#1410632&quot;&gt;defining&lt;/a&gt;&lt;/em&gt;) the copy constructor and assignment operator as &lt;code&gt;private&lt;/code&gt;. &lt;/p&gt;\n\n&lt;p&gt;(Note that the forthcoming new version of the C++ standard (which is C++11) adds move semantics to C++, which will likely change the Rule of Three. However, I know too little about this to write a C++11 section about the Rule of Three.)&lt;/p&gt;\n    ","\n&lt;p&gt;The law of the big three is as specified above.&lt;/p&gt;\n\n&lt;p&gt;An easy example, in plain English, of the kind of problem it solves:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Non default destructor&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;You allocated memory in your constructor and so you need to write a destructor to delete it.  Otherwise you will cause a memory leak.&lt;/p&gt;\n\n&lt;p&gt;You might think that this is job done. &lt;/p&gt;\n\n&lt;p&gt;The problem will be, if a copy is made of your object, then the copy will point to the same memory as the original object.&lt;/p&gt;\n\n&lt;p&gt;Once, one of these deletes the memory in its destructor, the other will have a pointer to invalid memory (this is called a dangling pointer) when it tries to use it things are going to get hairy.&lt;/p&gt;\n\n&lt;p&gt;Therefore, you write a copy constructor so that it allocates new objects their own pieces of memory to destroy.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Assignment operator and copy constructor&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;You allocated memory in your constructor to a member pointer of your class.  When you copy an object of this class the default assignment operator and copy constructor will copy the value of this member pointer to the new object.&lt;/p&gt;\n\n&lt;p&gt;This means that the new object and the old object will be pointing at the same piece of memory so when you change it in one object it will be changed for the other objerct too.  If one object deletes this memory the other will carry on trying to use it - eek.&lt;/p&gt;\n\n&lt;p&gt;To resolve this you write your own version of the copy constructor and assignment operator.  Your versions allocate separate memory to the new objects and copy across the values that the first pointer is pointing to rather than its address.&lt;/p&gt;\n    ","\n&lt;p&gt;Basically if you have a destructor (not the default destructor) it means that the class that you defined has some memory allocation. Suppose that the class is used outside by some client code or by you.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;    &lt;span class=&quot;hljs-function&quot;&gt;MyClass &lt;span class=&quot;hljs-title&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(a, b)&lt;/span&gt;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-function&quot;&gt;MyClass &lt;span class=&quot;hljs-title&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(c, d)&lt;/span&gt;&lt;/span&gt;;\n    x = y; &lt;span class=&quot;hljs-comment&quot;&gt;// This is a shallow copy if assignment operator is not provided&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If MyClass has only some primitive typed members a default assignment operator would work but if it has some pointer members and objects that do not have assignment operators the result would be unpredictable. Therefore we can say that if there is something to delete in destructor of a class, we might need a deep copy operator which means we should provide a copy constructor and assignment operator.&lt;/p&gt;\n    ","\n&lt;p&gt;What does copying an object mean? \nThere are a few ways you can copy objects--let&apos;s talk about the 2 kinds you&apos;re most likely referring to--deep copy and shallow copy.&lt;/p&gt;\n\n&lt;p&gt;Since we&apos;re in an object-oriented language (or at least are assuming so), let&apos;s say you have a piece of memory allocated.  Since it&apos;s an OO-language, we can easily refer to chunks of memory we allocate because they are usually primitive variables (ints, chars, bytes) or classes we defined that are made of our own types and primitives.  So let&apos;s say we have a class of Car as follows:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Car&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;//A very simple class just to demonstrate what these definitions mean.&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//It&apos;s pseudocode C++/Javaish, I assume strings do not need to be allocated.&lt;/span&gt;\n{\n&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; String sPrintColor;\n&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; String sModel;\n&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; String sMake;\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;changePaint&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(String newColor)&lt;/span&gt;\n&lt;/span&gt;{\n   &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.sPrintColor = newColor;\n}\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Car&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(String model, String make, String color)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;//Constructor&lt;/span&gt;\n&lt;/span&gt;{\n   &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.sPrintColor = color;\n   &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.sModel = model;\n   &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.sMake = make;\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; ~&lt;span class=&quot;hljs-built_in&quot;&gt;Car&lt;/span&gt;() &lt;span class=&quot;hljs-comment&quot;&gt;//Destructor&lt;/span&gt;\n{\n&lt;span class=&quot;hljs-comment&quot;&gt;//Because we did not create any custom types, we aren&apos;t adding more code.&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//Anytime your object goes out of scope / program collects garbage / etc. this guy gets called + all other related destructors.&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//Since we did not use anything but strings, we have nothing additional to handle.&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//The assumption is being made that the 3 strings will be handled by string&apos;s destructor and that it is being called automatically--if this were not the case you would need to do it here.&lt;/span&gt;\n}\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Car&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; Car &amp;amp;other)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;// Copy Constructor&lt;/span&gt;\n&lt;/span&gt;{\n   &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.sPrintColor = other.sPrintColor;\n   &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.sModel = other.sModel;\n   &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.sMake = other.sMake;\n}\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; Car &amp;amp;&lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt; =(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; Car &amp;amp;other) &lt;span class=&quot;hljs-comment&quot;&gt;// Assignment Operator&lt;/span&gt;\n{\n   &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; != &amp;amp;other)\n   {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.sPrintColor = other.sPrintColor;\n      &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.sModel = other.sModel;\n      &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.sMake = other.sMake;\n   }\n   &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; *&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;;\n}\n\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;A deep copy is if we declare an object and then create a completely separate copy of the object...we end up with 2 objects in 2 completely sets of memory.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;Car car1 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;Car&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;mustang&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;ford&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;);\nCar car2 = car1; &lt;span class=&quot;hljs-comment&quot;&gt;//Call the copy constructor&lt;/span&gt;\ncar2.&lt;span class=&quot;hljs-built_in&quot;&gt;changePaint&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;green&quot;&lt;/span&gt;);\n&lt;span class=&quot;hljs-comment&quot;&gt;//car2 is now green but car1 is still red.&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now let&apos;s do something strange.  Let&apos;s say car2 is either programmed wrong or purposely meant to share the actual memory that car1 is made of.  (It&apos;s usually a mistake to do this and in classes is usually the blanket it&apos;s discussed under.)  Pretend that anytime you ask about car2, you&apos;re really resolving a pointer to car1&apos;s memory space...that&apos;s more or less what a shallow copy is.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;//Shallow copy example&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//Assume we&apos;re in C++ because it&apos;s standard behavior is to shallow copy objects if you do not have a constructor written for an operation.&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//Now let&apos;s assume I do not have any code for the assignment or copy operations like I do above...with those now gone, C++ will use the default.&lt;/span&gt;\n\n Car car1 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;Car&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ford&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;mustang&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;); \n Car car2 = car1; \n car2.&lt;span class=&quot;hljs-built_in&quot;&gt;changePaint&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;green&quot;&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//car1 is also now green &lt;/span&gt;\n &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt; car2;&lt;span class=&quot;hljs-comment&quot;&gt;/*I get rid of my car which is also really your car...I told C++ to resolve \n the address of where car2 exists and delete the memory...which is also\n the memory associated with your car.*/&lt;/span&gt;\n car1.&lt;span class=&quot;hljs-built_in&quot;&gt;changePaint&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;/*program will likely crash because this area is\n no longer allocated to the program.*/&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So regardless of what language you&apos;re writing in, be very careful about what you mean when it comes to copying objects because most of the time you want a deep copy.&lt;/p&gt;\n\n&lt;p&gt;What are the copy constructor and the copy assignment operator?\nI have already used them above.  The copy constructor is called when you type code such as &lt;code&gt;Car car2 = car1;&lt;/code&gt;  Essentially if you declare a variable and assign it in one line, that&apos;s when the copy constructor is called.  The assignment operator is what happens when you use an equal sign--&lt;code&gt;car2 = car1;&lt;/code&gt;.  Notice &lt;code&gt;car2&lt;/code&gt; isn&apos;t declared in the same statement.  The two chunks of code you write for these operations are likely very similar.  In fact the typical design pattern has another function you call to set everything once you&apos;re satisfied the initial copy/assignment is legitimate--if you look at the longhand code I wrote, the functions are nearly identical.&lt;/p&gt;\n\n&lt;p&gt;When do I need to declare them myself? \nIf you are not writing code that is to be shared or for production in some manner, you really only need to declare them when you need them.  You do need to be aware of what your program language does if you choose to use it &apos;by accident&apos; and didn&apos;t make one--i.e. you get the compiler default.  I rarely use copy constructors for instance, but assignment operator overrides are very common.  Did you know you can override what addition, subtraction, etc. mean as well?&lt;/p&gt;\n\n&lt;p&gt;How can I prevent my objects from being copied?\nOverride all of the ways you&apos;re allowed to allocate memory for your object with a private function is a reasonable start.  If you really don&apos;t want people copying them, you could make it public and alert the programmer by throwing an exception and also not copying the object.  &lt;/p&gt;\n    ","\n&lt;blockquote&gt;\n  &lt;p&gt;When do I need to declare them myself?&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;The Rule of Three states that if you declare any of a &lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;copy constructor&lt;/li&gt;\n&lt;li&gt;copy assignment operator&lt;/li&gt;\n&lt;li&gt;destructor&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;then you should declare all three. It grew out of the observation that the need to take over the meaning of a copy operation almost always stemmed from the class performing some kind of resource management, and that almost always implied that &lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;whatever resource management was being done in one copy operation probably needed to be done in the other copy operation and &lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;the class destructor would also be participating in management of the resource (usually releasing it). The classic resource to be managed was memory, and this is why all Standard Library classes that\nmanage memory (e.g., the STL containers that perform dynamic memory management) all declare the big three: both copy operations and a destructor.&lt;/p&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;A consequence of the Rule of Three&lt;/strong&gt; is that the presence of a user-declared destructor indicates that simple member wise copy is unlikely to be appropriate for the copying operations in the class. That, in turn, suggests that if a class declares a destructor, the copy operations probably shouldnt be automatically generated, because they wouldnt do the right thing. At the time C++98 was adopted, the significance of this line of reasoning was not fully appreciated, so in C++98, the existence of a user declared destructor had no impact on compilers willingness to generate copy operations. That continues to be the case in C++11, but only because restricting the conditions under which the copy operations are generated would break too much legacy code.&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;How can I prevent my objects from being copied?&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Declare copy constructor &amp;amp; copy assignment operator as private access specifier.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;MemoryBlock&lt;/span&gt;\n{\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n\n&lt;span class=&quot;hljs-comment&quot;&gt;//code here&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt;:\n&lt;span class=&quot;hljs-built_in&quot;&gt;MemoryBlock&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; MemoryBlock&amp;amp; other)\n{\n   cout&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;copy constructor&quot;&lt;/span&gt;&amp;lt;&amp;lt;endl;\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Copy assignment operator.&lt;/span&gt;\nMemoryBlock&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; MemoryBlock&amp;amp; other)\n{\n &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; *&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;;\n}\n};\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;{\n   MemoryBlock a;\n   &lt;span class=&quot;hljs-function&quot;&gt;MemoryBlock &lt;span class=&quot;hljs-title&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(a)&lt;/span&gt;&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;In C++11 onwards you can also declare copy constructor &amp;amp; assignment operator deleted&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;MemoryBlock&lt;/span&gt;\n{\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n&lt;span class=&quot;hljs-built_in&quot;&gt;MemoryBlock&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; MemoryBlock&amp;amp; other) = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Copy assignment operator.&lt;/span&gt;\nMemoryBlock&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; MemoryBlock&amp;amp; other) =&lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;\n};\n\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;{\n   MemoryBlock a;\n   &lt;span class=&quot;hljs-function&quot;&gt;MemoryBlock &lt;span class=&quot;hljs-title&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(a)&lt;/span&gt;&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Many of the existing answers already touch the copy constructor, assignment operator and destructor.\nHowever, in post C++11, the introduction of move semantic may expand this beyond 3.&lt;/p&gt;\n\n&lt;p&gt;Recently Michael Claisse gave a talk that touches this topic:\n&lt;a href=&quot;http://channel9.msdn.com/events/CPP/C-PP-Con-2014/The-Canonical-Class&quot; rel=&quot;noreferrer&quot;&gt;http://channel9.msdn.com/events/CPP/C-PP-Con-2014/The-Canonical-Class&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Rule of three in C++ is a fundamental principle of the design and the development of three requirements that if there is clear definition in one of the following member function, then the programmer should define the other two members functions together. Namely the following three member functions are indispensable: destructor, copy constructor, copy assignment operator.&lt;/p&gt;\n\n&lt;p&gt;Copy constructor  in C++ is a special constructor. It is used to build a new object, which is the new object equivalent to a copy of an existing object.&lt;/p&gt;\n\n&lt;p&gt;Copy assignment operator is a special assignment operator that is usually used to specify an existing object to others of the same type of object.&lt;/p&gt;\n\n&lt;p&gt;There are quick examples:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// default constructor&lt;/span&gt;\nMy_Class a;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// copy constructor&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;My_Class &lt;span class=&quot;hljs-title&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(a)&lt;/span&gt;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// copy constructor&lt;/span&gt;\nMy_Class c = a;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// copy assignment operator&lt;/span&gt;\nb = a;\n&lt;/code&gt;&lt;/pre&gt;\n    "],"47":["\n&lt;p&gt;When you write &lt;code&gt;[x]*3&lt;/code&gt; you get, essentially, the list &lt;code&gt;[x, x, x]&lt;/code&gt;. That is, a list with 3 references to the same &lt;code&gt;x&lt;/code&gt;. When you then modify this single &lt;code&gt;x&lt;/code&gt; it is visible via all three references to it:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;x = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] * &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;\nxs = [x] * &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;f&quot;id(x): &lt;span class=&quot;hljs-subst&quot;&gt;{&lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(x)}&lt;/span&gt;&quot;&lt;/span&gt;)\n&lt;span class=&quot;hljs-comment&quot;&gt;# id(x): 140560897920048&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(\n    &lt;span class=&quot;hljs-string&quot;&gt;f&quot;id(xs[0]): &lt;span class=&quot;hljs-subst&quot;&gt;{&lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(xs[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;])}&lt;/span&gt;\\n&quot;&lt;/span&gt;\n    &lt;span class=&quot;hljs-string&quot;&gt;f&quot;id(xs[1]): &lt;span class=&quot;hljs-subst&quot;&gt;{&lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(xs[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;])}&lt;/span&gt;\\n&quot;&lt;/span&gt;\n    &lt;span class=&quot;hljs-string&quot;&gt;f&quot;id(xs[2]): &lt;span class=&quot;hljs-subst&quot;&gt;{&lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(xs[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;])}&lt;/span&gt;&quot;&lt;/span&gt;\n)\n&lt;span class=&quot;hljs-comment&quot;&gt;# id(xs[0]): 140560897920048&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# id(xs[1]): 140560897920048&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# id(xs[2]): 140560897920048&lt;/span&gt;\n\nx[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;42&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;f&quot;x: &lt;span class=&quot;hljs-subst&quot;&gt;{x}&lt;/span&gt;&quot;&lt;/span&gt;)\n&lt;span class=&quot;hljs-comment&quot;&gt;# x: [42, 1, 1, 1]&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;f&quot;xs: &lt;span class=&quot;hljs-subst&quot;&gt;{xs}&lt;/span&gt;&quot;&lt;/span&gt;)\n&lt;span class=&quot;hljs-comment&quot;&gt;# xs: [[42, 1, 1, 1], [42, 1, 1, 1], [42, 1, 1, 1]]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;To fix it, you need to make sure that you create a new list at each position. One way to do it is&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;[[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]*&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; _ &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;)]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;which will reevaluate &lt;code&gt;[1]*4&lt;/code&gt; each time instead of evaluating it once and making 3 references to 1 list.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;You might wonder why &lt;code&gt;*&lt;/code&gt; can&apos;t make independent objects the way the list comprehension does. That&apos;s because the multiplication operator &lt;code&gt;*&lt;/code&gt; operates on objects, without seeing expressions. When you use &lt;code&gt;*&lt;/code&gt; to multiply &lt;code&gt;[[1] * 4]&lt;/code&gt; by 3, &lt;code&gt;*&lt;/code&gt; only sees the 1-element list &lt;code&gt;[[1] * 4]&lt;/code&gt; evaluates to, not the &lt;code&gt;[[1] * 4&lt;/code&gt; expression text. &lt;code&gt;*&lt;/code&gt; has no idea how to make copies of that element, no idea how to reevaluate &lt;code&gt;[[1] * 4]&lt;/code&gt;, and no idea you even want copies, and in general, there might not even be a way to copy the element.&lt;/p&gt;\n&lt;p&gt;The only option &lt;code&gt;*&lt;/code&gt; has is to make new references to the existing sublist instead of trying to make new sublists. Anything else would be inconsistent or require major redesigning of fundamental language design decisions.&lt;/p&gt;\n&lt;p&gt;In contrast, a list comprehension reevaluates the element expression on every iteration. &lt;code&gt;[[1] * 4 for n in range(3)]&lt;/code&gt; reevaluates &lt;code&gt;[1] * 4&lt;/code&gt; every time for the same reason &lt;code&gt;[x**2 for x in range(3)]&lt;/code&gt; reevaluates &lt;code&gt;x**2&lt;/code&gt; every time. Every evaluation of &lt;code&gt;[1] * 4&lt;/code&gt; generates a new list, so the list comprehension does what you wanted.&lt;/p&gt;\n&lt;p&gt;Incidentally, &lt;code&gt;[1] * 4&lt;/code&gt; also doesn&apos;t copy the elements of &lt;code&gt;[1]&lt;/code&gt;, but that doesn&apos;t matter, since integers are immutable. You can&apos;t do something like &lt;code&gt;1.value = 2&lt;/code&gt; and turn a 1 into a 2.&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;size = &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\nmatrix_surprise = [[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] * size] * size\nmatrix = [[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]*size &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; _ &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(size)]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;a href=&quot;http://pythontutor.com/visualize.html#code=size%20%3D%203%0Amatrix_surprise%20%3D%20%5B%5B0%5D%20*%20size%5D%20*%20size%0Amatrix%20%3D%20%5B%5B0%5D*size%20for%20_%20in%20range%28size%29%5D&amp;amp;cumulative=false&amp;amp;curInstr=9&amp;amp;heapPrimitives=false&amp;amp;mode=display&amp;amp;origin=opt-frontend.js&amp;amp;py=3&amp;amp;rawInputLstJSON=%5B%5D&amp;amp;textReferences=false&quot; rel=&quot;noreferrer&quot;&gt;Live visualization&lt;/a&gt; using Python Tutor:&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/AE8xf.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/AE8xf.png&quot; alt=&quot;Frames and Objects&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Actually, this is exactly what you would expect. Let&apos;s decompose what is happening here:&lt;/p&gt;\n&lt;p&gt;You write&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;lst = [[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] * &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;] * &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This is equivalent to:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;lst1 = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]*&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;\nlst = [lst1]*&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This means &lt;code&gt;lst&lt;/code&gt; is a list with 3 elements all pointing to &lt;code&gt;lst1&lt;/code&gt;. This means the two following lines are equivalent:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;lst[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\nlst1[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;As &lt;code&gt;lst[0]&lt;/code&gt; is nothing but &lt;code&gt;lst1&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;To obtain the desired behavior, you can use a list comprehension:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;lst = [ [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]*&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; n &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;) ]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;In this case, the expression is re-evaluated for each &lt;code&gt;n&lt;/code&gt;, leading to a different list.&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;[[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] * &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;] * &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;or even:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;[[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]] * &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Creates a list that references the internal &lt;code&gt;[1,1,1,1]&lt;/code&gt; 3 times - not three copies of the inner list, so any time you modify the list (in any position), you&apos;ll see the change three times.&lt;/p&gt;\n\n&lt;p&gt;It&apos;s the same as this example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;inner = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;outer = [inner]*&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;outer\n[[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;inner[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;outer\n[[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;where it&apos;s probably a little less surprising.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;code&gt;my_list = [[1]*4] * 3&lt;/code&gt; creates one list object &lt;code&gt;[1,1,1,1]&lt;/code&gt; in memory and copies its reference 3 times over. This is equivalent to &lt;code&gt;obj = [1,1,1,1]; my_list = [obj]*3&lt;/code&gt;. Any modification to &lt;code&gt;obj&lt;/code&gt; will be reflected at three places, wherever &lt;code&gt;obj&lt;/code&gt; is referenced in the list.\nThe right statement would be:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;my_list = [[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]*&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; _ &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;)]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;or&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;my_list = [[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; __ &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;)] &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; _ &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;)]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;Important thing to note here&lt;/strong&gt; is that the &lt;code&gt;*&lt;/code&gt; operator is &lt;em&gt;mostly&lt;/em&gt; used to create a &lt;strong&gt;list of literals&lt;/strong&gt;. Although &lt;code&gt;1&lt;/code&gt; is immutable, &lt;code&gt;obj = [1]*4&lt;/code&gt; will still create a list of &lt;code&gt;1&lt;/code&gt; repeated 4 times over to form &lt;code&gt;[1,1,1,1]&lt;/code&gt;. But if any reference to an immutable object is made, the object is overwritten with a new one.&lt;/p&gt;\n&lt;p&gt;This means if we do &lt;code&gt;obj[1] = 42&lt;/code&gt;, then &lt;code&gt;obj&lt;/code&gt; will become &lt;code&gt;[1,42,1,1]&lt;/code&gt; &lt;strong&gt;not&lt;/strong&gt; &lt;strike&gt;&lt;code&gt;[42,42,42,42]&lt;/code&gt;&lt;/strike&gt; as some may assume. This can also be verified:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;my_list = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]*&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;my_list\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(my_list[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;])\n&lt;span class=&quot;hljs-number&quot;&gt;4522139440&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(my_list[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;])  &lt;span class=&quot;hljs-comment&quot;&gt;# Same as my_list[0]&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4522139440&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;my_list[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;42&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# Since my_list[1] is immutable, this operation overwrites my_list[1] with a new object changing its id.&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;my_list\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;42&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(my_list[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;])\n&lt;span class=&quot;hljs-number&quot;&gt;4522139440&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(my_list[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;])  &lt;span class=&quot;hljs-comment&quot;&gt;# id changed&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4522140752&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(my_list[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;])  &lt;span class=&quot;hljs-comment&quot;&gt;# id still same as my_list[0], still referring to value `1`.&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4522139440&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Alongside the accepted answer that explained the problem correctly, instead of creating a list with duplicated elements using following code:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;[[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]*&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; _ &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;)]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Also, you can use &lt;a href=&quot;https://docs.python.org/3/library/itertools.html#itertools.repeat&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code&gt;itertools.repeat()&lt;/code&gt;&lt;/a&gt; to create an iterator object of repeated elements:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;a = &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(repeat(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;))\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;a[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;a\n[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;P.S. If you&apos;re using NumPy and you only want to create an array of ones or zeroes you can use &lt;a href=&quot;https://numpy.org/doc/stable/reference/generated/numpy.ones.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code&gt;np.ones&lt;/code&gt;&lt;/a&gt; and &lt;a href=&quot;https://numpy.org/doc/stable/reference/generated/numpy.zeros.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code&gt;np.zeros&lt;/code&gt;&lt;/a&gt; and/or for other numbers use &lt;a href=&quot;https://numpy.org/doc/stable/reference/generated/numpy.repeat.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code&gt;np.repeat&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; numpy &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; np\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;np.ones(&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;)\narray([&lt;span class=&quot;hljs-number&quot;&gt;1.&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.&lt;/span&gt;])\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;np.ones((&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;))\narray([[&lt;span class=&quot;hljs-number&quot;&gt;1.&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.&lt;/span&gt;],\n       [&lt;span class=&quot;hljs-number&quot;&gt;1.&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.&lt;/span&gt;],\n       [&lt;span class=&quot;hljs-number&quot;&gt;1.&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.&lt;/span&gt;],\n       [&lt;span class=&quot;hljs-number&quot;&gt;1.&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.&lt;/span&gt;]])\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;np.zeros((&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;))\narray([[&lt;span class=&quot;hljs-number&quot;&gt;0.&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0.&lt;/span&gt;],\n       [&lt;span class=&quot;hljs-number&quot;&gt;0.&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0.&lt;/span&gt;],\n       [&lt;span class=&quot;hljs-number&quot;&gt;0.&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0.&lt;/span&gt;],\n       [&lt;span class=&quot;hljs-number&quot;&gt;0.&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0.&lt;/span&gt;]])\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;np.repeat([&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;], &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;)\narray([&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;])\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Python containers contain references to other objects. See this example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;a = []\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;b = [a]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;b\n[[]]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;a.append(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;b\n[[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;In this &lt;code&gt;b&lt;/code&gt; is a list that contains one item that is a reference to list &lt;code&gt;a&lt;/code&gt;. The list &lt;code&gt;a&lt;/code&gt; is mutable.&lt;/p&gt;\n\n&lt;p&gt;The multiplication of a list by an integer is equivalent to adding the list to itself multiple times (see &lt;a href=&quot;https://docs.python.org/3/library/stdtypes.html#typesseq-common&quot; rel=&quot;noreferrer&quot;&gt;common sequence operations&lt;/a&gt;). So continuing with the example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;c = b + b\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;c\n[[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]]\n&amp;gt;&amp;gt;&amp;gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;a[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;c\n[[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;We can see that the list &lt;code&gt;c&lt;/code&gt; now contains two references to list &lt;code&gt;a&lt;/code&gt; which is equivalent to &lt;code&gt;c = b * 2&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Python FAQ also contains explanation of this behavior: &lt;a href=&quot;https://docs.python.org/3/faq/programming.html#faq-multidimensional-list&quot; rel=&quot;noreferrer&quot;&gt;How do I create a multidimensional list?&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Let&apos;s rewrite your code in the following way:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;x = &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\ny = [x]\nz = y * &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;\n\nmy_list = [z] * &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Then having this, run the following code to make everything more clear. What the code does is basically print the &lt;a href=&quot;https://docs.python.org/3/library/functions.html#id&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code&gt;id&lt;/code&gt;&lt;/a&gt;s of the obtained objects, which&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Return[s] the identity of an object&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;and will help us identify them and analyse what happens:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;my_list:&quot;&lt;/span&gt;)\n&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; i, sub_list &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;enumerate&lt;/span&gt;(my_list):\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;\\t[{}]: {}&quot;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(i, &lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(sub_list)))\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; j, elem &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;enumerate&lt;/span&gt;(sub_list):\n        &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;\\t\\t[{}]: {}&quot;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(j, &lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(elem)))\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;And you will get the following output:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;x: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\ny: [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\nz: [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\nmy_list:\n    [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]: &lt;span class=&quot;hljs-number&quot;&gt;4300763792&lt;/span&gt;\n        [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]: &lt;span class=&quot;hljs-number&quot;&gt;4298171528&lt;/span&gt;\n        [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]: &lt;span class=&quot;hljs-number&quot;&gt;4298171528&lt;/span&gt;\n        [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]: &lt;span class=&quot;hljs-number&quot;&gt;4298171528&lt;/span&gt;\n        [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]: &lt;span class=&quot;hljs-number&quot;&gt;4298171528&lt;/span&gt;\n    [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]: &lt;span class=&quot;hljs-number&quot;&gt;4300763792&lt;/span&gt;\n        [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]: &lt;span class=&quot;hljs-number&quot;&gt;4298171528&lt;/span&gt;\n        [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]: &lt;span class=&quot;hljs-number&quot;&gt;4298171528&lt;/span&gt;\n        [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]: &lt;span class=&quot;hljs-number&quot;&gt;4298171528&lt;/span&gt;\n        [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]: &lt;span class=&quot;hljs-number&quot;&gt;4298171528&lt;/span&gt;\n    [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]: &lt;span class=&quot;hljs-number&quot;&gt;4300763792&lt;/span&gt;\n        [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]: &lt;span class=&quot;hljs-number&quot;&gt;4298171528&lt;/span&gt;\n        [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]: &lt;span class=&quot;hljs-number&quot;&gt;4298171528&lt;/span&gt;\n        [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]: &lt;span class=&quot;hljs-number&quot;&gt;4298171528&lt;/span&gt;\n        [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]: &lt;span class=&quot;hljs-number&quot;&gt;4298171528&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;p&gt;So now let&apos;s go step-by-step. You have &lt;code&gt;x&lt;/code&gt; which is &lt;code&gt;1&lt;/code&gt;, and a single element list &lt;code&gt;y&lt;/code&gt; containing &lt;code&gt;x&lt;/code&gt;. Your first step is &lt;code&gt;y * 4&lt;/code&gt; which will get you a new list &lt;code&gt;z&lt;/code&gt;, which is basically &lt;code&gt;[x, x, x, x]&lt;/code&gt;, i.e. it creates a new list which will have 4 elements, which are references to the initial &lt;code&gt;x&lt;/code&gt; object. The next step is pretty similar. You basically do &lt;code&gt;z * 3&lt;/code&gt;, which is &lt;code&gt;[[x, x, x, x]] * 3&lt;/code&gt; and returns &lt;code&gt;[[x, x, x, x], [x, x, x, x], [x, x, x, x]]&lt;/code&gt;, for the same reason as for the first step.&lt;/p&gt;\n    ","\n&lt;p&gt;I am adding my answer to explain the same diagrammatically.&lt;/p&gt;\n&lt;p&gt;The way you created the 2D, creates a shallow list&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;arr = [[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]*cols]*row\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Instead, if you want to update the elements of the list, you should use&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;rows, cols = (&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;) \narr = [[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(cols)] &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; j &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(rows)] \n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;Explanation&lt;/strong&gt;:&lt;/p&gt;\n&lt;p&gt;One can create a list using:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;arr = [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]*N \n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;or&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;arr = [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(N)] \n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;In the first case all the indices of the array point to the same integer object&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/FAYdnm.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/FAYdnm.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;and when you assign a value to a particular index, a new int object is created, for example &lt;code&gt;arr[4] = 5&lt;/code&gt; creates&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/WkaFam.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/WkaFam.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Now let us see what happens when we create a list of list, in this case, all the elements of our top list will point to the same list&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/OiCywl.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/OiCywl.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;And if you update the value of any index a new int object will be created. But since all the top-level list indexes are pointing at the same list, all the rows will look the same. And you will get the feeling that updating an element is updating all the elements in that column.&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/iUSlRl.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/iUSlRl.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Credits:&lt;/strong&gt; Thanks to &lt;a href=&quot;https://auth.geeksforgeeks.org/user/Pranav%20Devarakonda/articles&quot; rel=&quot;nofollow noreferrer&quot;&gt;Pranav Devarakonda&lt;/a&gt; for the easy explanation &lt;a href=&quot;https://www.geeksforgeeks.org/python-using-2d-arrays-lists-the-right-way/&quot; rel=&quot;nofollow noreferrer&quot;&gt;here&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;In simple words this is happening because in python everything works &lt;strong&gt;by reference&lt;/strong&gt;, so when you create a list of list that way you basically end up with such problems.&lt;/p&gt;\n\n&lt;p&gt;To solve your issue you can do either one of them:\n1. Use numpy array &lt;a href=&quot;http://docs.scipy.org/doc/numpy-1.10.0/reference/generated/numpy.empty.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;documentation for numpy.empty&lt;/a&gt;\n2. Append the list as you get to a list.\n3. You can also use dictionary if you want  &lt;/p&gt;\n    ","\n&lt;p&gt;Everyone is explaining what is happening. I&apos;ll suggest one way to solve it:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;my_list = [[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;)] &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; j &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;)]\n\nmy_list[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(my_list)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;And then you get:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;[[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;@spelchekr from &lt;a href=&quot;https://stackoverflow.com/questions/6688223/python-list-multiplication-3-makes-3-lists-which-mirror-each-other-when&quot;&gt;Python list multiplication: [[...]]*3 makes 3 lists which mirror each other when modified&lt;/a&gt; and I had the same question about\n&quot;Why does only the outer &lt;code&gt;*3&lt;/code&gt; create more references while the inner one doesn&apos;t? Why isn&apos;t it all 1s?&quot;&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;li = [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] * &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;([&lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(v) &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; v &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; li])  &lt;span class=&quot;hljs-comment&quot;&gt;# [140724141863728, 140724141863728, 140724141863728]&lt;/span&gt;\nli[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;([&lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(v) &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; v &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; li])  &lt;span class=&quot;hljs-comment&quot;&gt;# [140724141863760, 140724141863728, 140724141863728]&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;))  &lt;span class=&quot;hljs-comment&quot;&gt;# 140724141863728&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;))  &lt;span class=&quot;hljs-comment&quot;&gt;# 140724141863760&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(li)     &lt;span class=&quot;hljs-comment&quot;&gt;# [1, 0, 0]&lt;/span&gt;\n\nma = [[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]*&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;] * &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# mainly discuss inner &amp;amp; outer *3 here&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;([&lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(li) &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; li &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; ma])  &lt;span class=&quot;hljs-comment&quot;&gt;# [1987013355080, 1987013355080, 1987013355080]&lt;/span&gt;\nma[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;([&lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(li) &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; li &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; ma])  &lt;span class=&quot;hljs-comment&quot;&gt;# [1987013355080, 1987013355080, 1987013355080]&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(ma)  &lt;span class=&quot;hljs-comment&quot;&gt;# [[1, 0, 0], [1, 0, 0], [1, 0, 0]]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Here is my explanation after trying the code above:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;The inner &lt;code&gt;*3&lt;/code&gt; also creates references, but its references are immutable, something like &lt;code&gt;[&amp;amp;0, &amp;amp;0, &amp;amp;0]&lt;/code&gt;, then when you change &lt;code&gt;li[0]&lt;/code&gt;, you can&apos;t change any underlying reference of const int &lt;code&gt;0&lt;/code&gt;, so you can just change the reference address into the new one &lt;code&gt;&amp;amp;1&lt;/code&gt;;&lt;/li&gt;\n&lt;li&gt;while &lt;code&gt;ma = [&amp;amp;li, &amp;amp;li, &amp;amp;li]&lt;/code&gt; and &lt;code&gt;li&lt;/code&gt; is mutable, so when you call &lt;code&gt;ma[0][0] = 1&lt;/code&gt;, &lt;code&gt;ma[0][0]&lt;/code&gt; is equal to &lt;code&gt;&amp;amp;li[0]&lt;/code&gt;, so all the &lt;code&gt;&amp;amp;li&lt;/code&gt; instances will change its 1st address into &lt;code&gt;&amp;amp;1&lt;/code&gt;.&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;Trying to explain it more descriptively,&lt;/p&gt;\n\n&lt;p&gt;Operation 1:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;x = [[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]]\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;type&lt;/span&gt;(x)) &lt;span class=&quot;hljs-comment&quot;&gt;# &amp;lt;class &apos;list&apos;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(x) &lt;span class=&quot;hljs-comment&quot;&gt;# [[0, 0], [0, 0]]&lt;/span&gt;\n\nx[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(x) &lt;span class=&quot;hljs-comment&quot;&gt;# [[1, 0], [0, 0]]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Operation 2:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;y = [[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] * &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] * &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;type&lt;/span&gt;(y)) &lt;span class=&quot;hljs-comment&quot;&gt;# &amp;lt;class &apos;list&apos;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(y) &lt;span class=&quot;hljs-comment&quot;&gt;# [[0, 0], [0, 0]]&lt;/span&gt;\n\ny[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(y) &lt;span class=&quot;hljs-comment&quot;&gt;# [[1, 0], [1, 0]]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Noticed why doesn&apos;t modifying the first element of the first list didn&apos;t modify the second element of each list? That&apos;s because &lt;code&gt;[0] * 2&lt;/code&gt; really is a list of two numbers, and a reference to 0 cannot be modified.&lt;/p&gt;\n\n&lt;p&gt;If you want to create clone copies, try Operation 3:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; copy\ny = [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] * &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   \n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(y)   &lt;span class=&quot;hljs-comment&quot;&gt;# [0, 0]&lt;/span&gt;\n\ny = [y, copy.deepcopy(y)]  \n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(y) &lt;span class=&quot;hljs-comment&quot;&gt;# [[0, 0], [0, 0]]&lt;/span&gt;\n\ny[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(y) &lt;span class=&quot;hljs-comment&quot;&gt;# [[1, 0], [0, 0]]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;another interesting way to create clone copies, Operation 4:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; copy\ny = [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] * &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(y) &lt;span class=&quot;hljs-comment&quot;&gt;# [0, 0]&lt;/span&gt;\n\ny = [copy.deepcopy(y) &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; num &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;)]\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(y) &lt;span class=&quot;hljs-comment&quot;&gt;# [[0, 0], [0, 0], [0, 0], [0, 0]]&lt;/span&gt;\n\ny[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(y) &lt;span class=&quot;hljs-comment&quot;&gt;# [[5, 0], [0, 0], [0, 0], [0, 0]]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;By using the inbuilt list function you can do like this&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;a\nout:[[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]]\n&lt;span class=&quot;hljs-comment&quot;&gt;#Displaying the list&lt;/span&gt;\n\na.remove(a[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;])\nout:[[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]]\n&lt;span class=&quot;hljs-comment&quot;&gt;# Removed the first element of the list in which you want altered number&lt;/span&gt;\n\na.append([&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;])\nout:[[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]]\n&lt;span class=&quot;hljs-comment&quot;&gt;# append the element in the list but the appended element as you can see is appended in last but you want that in starting&lt;/span&gt;\n\na.reverse()\nout:[[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]]\n&lt;span class=&quot;hljs-comment&quot;&gt;#So at last reverse the whole list to get the desired list&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I arrived here because I was looking to see how I could nest an arbitrary number of lists. There are a lot of explanations and specific examples above, but you can generalize N dimensional list of lists of lists of ... with the following recursive function:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; copy\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;list_ndim&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;dim, el=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, init=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;&lt;/span&gt;):\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; init &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n        init = el\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(dim)&amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; list_ndim(dim[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, [copy.copy(init) &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; x &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(dim[-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;])])\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [copy.deepcopy(init) &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; x &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(dim[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;])]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;You make your first call to the function like this:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;dim = (&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;)\nel = &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;\nl = list_ndim(dim, el)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;where &lt;code&gt;(3,5,2)&lt;/code&gt; is a tuple of the dimensions of the structure (similar to numpy &lt;code&gt;shape&lt;/code&gt; argument), and &lt;code&gt;1.0&lt;/code&gt; is the element you want the structure to be initialized with (works with None as well). Note that the &lt;code&gt;init&lt;/code&gt; argument is only provided by the recursive call to carry forward the nested child lists&lt;/p&gt;\n&lt;p&gt;output of above:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;[[[&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;]],\n [[&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;]],\n [[&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;]]]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;set specific elements:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;l[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;56&lt;/span&gt;\nl[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;36.0&lt;/span&gt;+&lt;span class=&quot;hljs-number&quot;&gt;0.0j&lt;/span&gt;\nl[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-string&quot;&gt;&apos;abc&apos;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;resulting output:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;[[[&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&apos;abc&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;]],\n [[&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;56.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;]],\n [[&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [(&lt;span class=&quot;hljs-number&quot;&gt;36&lt;/span&gt;+&lt;span class=&quot;hljs-number&quot;&gt;0j&lt;/span&gt;), &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;]]]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;the non-typed nature of lists is demonstrated above&lt;/p&gt;\n    ","\n&lt;p&gt;While the original question constructed the &lt;em&gt;sublists&lt;/em&gt; with the multiplication operator, I&apos;ll add an example that uses the &lt;strong&gt;same&lt;/strong&gt; list for the sublists. Adding this answer for completeness as this question is often used as a canonical for the issue&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;node_count = &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;\ncolors = [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]\nsol_dict = {node:colors &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; node &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,node_count)}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The list in each dictionary value is the same object, trying to change one of the dictionaries values will be seen in all.&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;sol_dict\n{&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]}\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;[v &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; colors &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; v &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; sol_dict.values()]\n[&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;sol_dict[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;].remove(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;sol_dict\n{&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The correct way to construct the dictionary would be to use a copy of the list for each value.&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;colors = [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;sol_dict = {node:colors[:] &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; node &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,node_count)}\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;sol_dict\n{&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]}\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;sol_dict[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;].remove(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;sol_dict\n{&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Note that items in the sequence are not copied; they are referenced multiple times&lt;/strong&gt;. This often haunts new Python programmers; consider:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;lists = [[]] * &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;lists\n[[], [], []]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;lists[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;].append(&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;)\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;lists\n[[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;What has happened is that &lt;code&gt;[[]]&lt;/code&gt; is a one-element list containing an empty list, so all three elements of &lt;code&gt;[[]] * 3&lt;/code&gt; are references to this single empty list. Modifying any of the elements of lists modifies this single list.&lt;/p&gt;\n&lt;p&gt;Another example to explain this is using &lt;em&gt;multi-dimensional arrays&lt;/em&gt;.&lt;/p&gt;\n&lt;p&gt;You probably tried to make a multidimensional array like this:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;A = [[&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;] * &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] * &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This looks correct if you print it:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;A\n[[&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;], [&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;], [&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;]]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;But when you assign a value, it shows up in multiple places:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;A[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;A\n[[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;]]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The reason is that replicating a list with&amp;nbsp;&lt;code&gt;*&lt;/code&gt;&amp;nbsp;doesnt create copies, it only creates references to the existing objects. The&amp;nbsp;3&amp;nbsp;creates a list containing 3 references to the same list of length two. Changes to one row will show in all rows, which is almost certainly not what you want.&lt;/p&gt;\n    "],"48":["\n&lt;p&gt;The syntax is:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;a[start:stop]  &lt;span class=&quot;hljs-comment&quot;&gt;# items start through stop-1&lt;/span&gt;\na[start:]      &lt;span class=&quot;hljs-comment&quot;&gt;# items start through the rest of the array&lt;/span&gt;\na[:stop]       &lt;span class=&quot;hljs-comment&quot;&gt;# items from the beginning through stop-1&lt;/span&gt;\na[:]           &lt;span class=&quot;hljs-comment&quot;&gt;# a copy of the whole array&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;There is also the &lt;code&gt;step&lt;/code&gt; value, which can be used with any of the above:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;a[start:stop:step] &lt;span class=&quot;hljs-comment&quot;&gt;# start through not past stop, by step&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The key point to remember is that the &lt;code&gt;:stop&lt;/code&gt; value represents the first value that is &lt;em&gt;not&lt;/em&gt; in the selected slice. So, the difference between &lt;code&gt;stop&lt;/code&gt; and &lt;code&gt;start&lt;/code&gt; is the number of elements selected (if &lt;code&gt;step&lt;/code&gt; is 1, the default).&lt;/p&gt;\n&lt;p&gt;The other feature is that &lt;code&gt;start&lt;/code&gt; or &lt;code&gt;stop&lt;/code&gt; may be a &lt;em&gt;negative&lt;/em&gt; number, which means it counts from the end of the array instead of the beginning. So:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;a[-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]    &lt;span class=&quot;hljs-comment&quot;&gt;# last item in the array&lt;/span&gt;\na[-&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:]   &lt;span class=&quot;hljs-comment&quot;&gt;# last two items in the array&lt;/span&gt;\na[:-&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]   &lt;span class=&quot;hljs-comment&quot;&gt;# everything except the last two items&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Similarly, &lt;code&gt;step&lt;/code&gt; may be a negative number:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;a[::-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]    &lt;span class=&quot;hljs-comment&quot;&gt;# all items in the array, reversed&lt;/span&gt;\na[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;::-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]   &lt;span class=&quot;hljs-comment&quot;&gt;# the first two items, reversed&lt;/span&gt;\na[:-&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]  &lt;span class=&quot;hljs-comment&quot;&gt;# the last two items, reversed&lt;/span&gt;\na[-&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;::-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]  &lt;span class=&quot;hljs-comment&quot;&gt;# everything except the last two items, reversed&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Python is kind to the programmer if there are fewer items than you ask for. For example, if you ask for &lt;code&gt;a[:-2]&lt;/code&gt; and &lt;code&gt;a&lt;/code&gt; only contains one element, you get an empty list instead of an error. Sometimes you would prefer the error, so you have to be aware that this may happen.&lt;/p&gt;\n&lt;h3&gt;Relationship with the &lt;code&gt;slice&lt;/code&gt; object&lt;/h3&gt;\n&lt;p&gt;A &lt;a href=&quot;https://www.w3schools.com/python/ref_func_slice.asp&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;slice&lt;/code&gt; object&lt;/a&gt; can represent a slicing operation, i.e.:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;a[start:stop:step]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;is equivalent to:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;a[&lt;span class=&quot;hljs-built_in&quot;&gt;slice&lt;/span&gt;(start, stop, step)]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Slice objects also behave slightly differently depending on the number of arguments, similarly to &lt;code&gt;range()&lt;/code&gt;, i.e. both &lt;code&gt;slice(stop)&lt;/code&gt; and &lt;code&gt;slice(start, stop[, step])&lt;/code&gt; are supported.\nTo skip specifying a given argument, one might use &lt;code&gt;None&lt;/code&gt;, so that e.g. &lt;code&gt;a[start:]&lt;/code&gt; is equivalent to &lt;code&gt;a[slice(start, None)]&lt;/code&gt; or &lt;code&gt;a[::-1]&lt;/code&gt; is equivalent to &lt;code&gt;a[slice(None, None, -1)]&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;While the &lt;code&gt;:&lt;/code&gt;-based notation is very helpful for simple slicing, the explicit use of &lt;code&gt;slice()&lt;/code&gt; objects simplifies the programmatic generation of slicing.&lt;/p&gt;\n    ","\n&lt;p&gt;The &lt;a href=&quot;http://docs.python.org/tutorial/introduction.html#strings&quot; rel=&quot;noreferrer&quot;&gt;Python tutorial&lt;/a&gt; talks about it (scroll down a bit until you get to the part about slicing).&lt;/p&gt;\n\n&lt;p&gt;The ASCII art diagram is helpful too for remembering how slices work:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt; +---+---+---+---+---+---+\n | P | y | t | h | o | n |\n +---+---+---+---+---+---+\n &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;\n-&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;One way to remember how slices work is to think of the indices as pointing &lt;em&gt;between&lt;/em&gt; characters, with the left edge of the first character numbered 0. Then the right edge of the last character of a string of &lt;em&gt;n&lt;/em&gt; characters has index &lt;em&gt;n&lt;/em&gt;.&lt;/p&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;Enumerating the possibilities allowed by the grammar for the sequence &lt;code&gt;x&lt;/code&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;x[:]                &lt;span class=&quot;hljs-comment&quot;&gt;# [x[0],   x[1],          ..., x[-1]    ]&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;x[low:]             &lt;span class=&quot;hljs-comment&quot;&gt;# [x[low], x[low+1],      ..., x[-1]    ]&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;x[:high]            &lt;span class=&quot;hljs-comment&quot;&gt;# [x[0],   x[1],          ..., x[high-1]]&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;x[low:high]         &lt;span class=&quot;hljs-comment&quot;&gt;# [x[low], x[low+1],      ..., x[high-1]]&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;x[::stride]         &lt;span class=&quot;hljs-comment&quot;&gt;# [x[0],   x[stride],     ..., x[-1]    ]&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;x[low::stride]      &lt;span class=&quot;hljs-comment&quot;&gt;# [x[low], x[low+stride], ..., x[-1]    ]&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;x[:high:stride]     &lt;span class=&quot;hljs-comment&quot;&gt;# [x[0],   x[stride],     ..., x[high-1]]&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;x[low:high:stride]  &lt;span class=&quot;hljs-comment&quot;&gt;# [x[low], x[low+stride], ..., x[high-1]]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Of course, if &lt;code&gt;(high-low)%stride != 0&lt;/code&gt;, then the end point will be a little lower than &lt;code&gt;high-1&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;If &lt;code&gt;stride&lt;/code&gt; is negative, the ordering is changed a bit since we&apos;re counting down:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;x[::-stride]        &lt;span class=&quot;hljs-comment&quot;&gt;# [x[-1],   x[-1-stride],   ..., x[0]    ]&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;x[high::-stride]    &lt;span class=&quot;hljs-comment&quot;&gt;# [x[high], x[high-stride], ..., x[0]    ]&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;x[:low:-stride]     &lt;span class=&quot;hljs-comment&quot;&gt;# [x[-1],   x[-1-stride],   ..., x[low+1]]&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;x[high:low:-stride] &lt;span class=&quot;hljs-comment&quot;&gt;# [x[high], x[high-stride], ..., x[low+1]]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Extended slicing (with commas and ellipses) are mostly used only by special data structures (like NumPy); the basic sequences don&apos;t support them.&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;slicee&lt;/span&gt;:\n&lt;span class=&quot;hljs-meta&quot;&gt;... &lt;/span&gt;    &lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;__getitem__&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;self, item&lt;/span&gt;):\n&lt;span class=&quot;hljs-meta&quot;&gt;... &lt;/span&gt;        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;repr&lt;/span&gt;(item)\n...\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;slicee()[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, ::&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, ...]\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(0, slice(1, 2, None), slice(None, None, 5), Ellipsis)&apos;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;The answers above don&apos;t discuss slice assignment. To understand slice assignment, it&apos;s helpful to add another concept to the ASCII art:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;                +---+---+---+---+---+---+\n                | P | y | t | h | o | n |\n                +---+---+---+---+---+---+\nSlice position: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;\nIndex position:   &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-comment&quot;&gt;# Why the two sets of numbers:&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# indexing gives items, not lists&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]\n &lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]\n &lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Slicing gives lists&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;One heuristic is, for a slice from zero to n, think: &quot;zero is the beginning, start at the beginning and take n items in a list&quot;.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# the last of six items, indexed from zero&lt;/span&gt;\n &lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# does NOT include the last item!&lt;/span&gt;\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# not p[0:5]!!!&lt;/span&gt;\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Another heuristic is, &quot;for any slice, replace the start by zero, apply the previous heuristic to get the end of the list, then count the first number back up to chop items off the beginning&quot;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# Start at the beginning and count out 4 items&lt;/span&gt;\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# Take one item off the front&lt;/span&gt;\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# Take two items off the front&lt;/span&gt;\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-comment&quot;&gt;# etc.&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The first rule of slice assignment is that since slicing &lt;em&gt;returns&lt;/em&gt; a list, slice assignment &lt;em&gt;requires&lt;/em&gt; a list (or other iterable):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;] = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;T&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;T&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;] = &lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;\nTraceback (most recent call last):\n  File &lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;stdin&amp;gt;&quot;&lt;/span&gt;, line &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &amp;lt;module&amp;gt;\nTypeError: can only assign an iterable\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The second rule of slice assignment, which you can also see above, is that whatever portion of the list is returned by slice indexing, that&apos;s the same portion that is changed by slice assignment:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;T&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;] = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;r&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;r&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The third rule of slice assignment is, the assigned list (iterable) doesn&apos;t have to have the same length; the indexed slice is simply sliced out and replaced en masse by whatever is being assigned:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# Start over&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;] = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;s&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;p&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;m&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;s&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;p&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;m&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The trickiest part to get used to is assignment to empty slices. Using heuristic 1 and 2 it&apos;s easy to get your head around &lt;em&gt;indexing&lt;/em&gt; an empty slice:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n []\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And then once you&apos;ve seen that, slice assignment to the empty slice makes sense too:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;] = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;x&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# Assigned list is same length as slice&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;x&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# Result is same length&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;] = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;x&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# Assigned list is longer than slice&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;x&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# The result is longer&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;] = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;x&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;x&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# The result is longer still&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Note that, since we are not changing the second number of the slice (4), the inserted items always stack right up against the &apos;o&apos;, even when we&apos;re assigning to the empty slice. So the position for the empty slice assignment is the logical extension of the positions for the non-empty slice assignments.&lt;/p&gt;\n\n&lt;p&gt;Backing up a little bit, what happens when you keep going with our procession of counting up the slice beginning?&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n []\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n []\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n []\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;With slicing, once you&apos;re done, you&apos;re done; it doesn&apos;t start slicing backwards. In Python you don&apos;t get negative strides unless you explicitly ask for them by using a negative number.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;There are some weird consequences to the &quot;once you&apos;re done, you&apos;re done&quot; rule:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n []\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n []\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n []\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]\nTraceback (most recent call last):\n  File &lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;stdin&amp;gt;&quot;&lt;/span&gt;, line &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &amp;lt;module&amp;gt;\nIndexError: &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt; index out of &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;In fact, compared to indexing, Python slicing is bizarrely error-proof:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;200&lt;/span&gt;]\n []\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2e99&lt;/span&gt;):&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1e99&lt;/span&gt;)]\n []\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This can come in handy sometimes, but it can also lead to somewhat strange behavior:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p[&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2e99&lt;/span&gt;):&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1e99&lt;/span&gt;)] = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;p&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;w&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;e&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;r&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;p\n [&lt;span class=&quot;hljs-string&quot;&gt;&apos;P&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;y&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;t&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;p&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;w&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;e&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;r&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Depending on your application, that might... or might not... be what you were hoping for there!&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;Below is the text of my original answer. It has been useful to many people, so I didn&apos;t want to delete it.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;r=[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;r[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n[]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;r[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]=[&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;r\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;r[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]=[&lt;span class=&quot;hljs-string&quot;&gt;&apos;blah&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;r\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;blah&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This may also clarify the difference between slicing and indexing.&lt;/p&gt;\n    ","\n&lt;blockquote&gt;\n&lt;h2&gt;Explain Python&apos;s slice notation&lt;/h2&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;In short, the colons (&lt;code&gt;:&lt;/code&gt;) in subscript notation (&lt;code&gt;subscriptable[subscriptarg]&lt;/code&gt;) make slice notation, which has the optional arguments &lt;code&gt;start&lt;/code&gt;, &lt;code&gt;stop&lt;/code&gt;, and &lt;code&gt;step&lt;/code&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;sliceable[start:stop:step]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Python slicing is a computationally fast way to methodically access parts of your data. In my opinion, to be even an intermediate Python programmer, it&apos;s one aspect of the language that it is necessary to be familiar with.&lt;/p&gt;\n&lt;h2&gt;Important Definitions&lt;/h2&gt;\n&lt;p&gt;To begin with, let&apos;s define a few terms:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;&lt;strong&gt;&lt;code&gt;start&lt;/code&gt;:&lt;/strong&gt; the beginning index of the slice, it will include the element at this index unless it is the same as &lt;em&gt;stop&lt;/em&gt;, defaults to 0, i.e. the first index. If it&apos;s negative, it means to start &lt;code&gt;n&lt;/code&gt; items from the end.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;&lt;code&gt;stop&lt;/code&gt;:&lt;/strong&gt; the ending index of the slice, it does &lt;em&gt;not&lt;/em&gt; include the element at this index, defaults to length of the sequence being sliced, that is, up to and including the end.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;&lt;code&gt;step&lt;/code&gt;:&lt;/strong&gt; the amount by which the index increases, defaults to 1. If it&apos;s negative, you&apos;re slicing over the iterable in reverse.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h2&gt;How Indexing Works&lt;/h2&gt;\n&lt;p&gt;You can make any of these positive or negative numbers. The meaning of the positive numbers is straightforward, but for negative numbers, just like indexes in Python, you count backwards from the end for the &lt;em&gt;start&lt;/em&gt; and &lt;em&gt;stop&lt;/em&gt;, and for the &lt;em&gt;step&lt;/em&gt;, you simply decrement your index. This example is &lt;a href=&quot;https://docs.python.org/2/tutorial/introduction.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;from the documentation&apos;s tutorial&lt;/a&gt;, but I&apos;ve modified it slightly to indicate which item in a sequence each index references:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt; +---+---+---+---+---+---+\n | P | y | t | h | o | n |\n +---+---+---+---+---+---+\n   &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; \n  -&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;How Slicing Works&lt;/h2&gt;\n&lt;p&gt;To use slice notation with a sequence that supports it, you must include at least one colon in the square brackets that follow the sequence (which actually &lt;a href=&quot;https://docs.python.org/2/reference/datamodel.html#object.__getitem__&quot; rel=&quot;nofollow noreferrer&quot;&gt;implement the &lt;code&gt;__getitem__&lt;/code&gt; method of the sequence, according to the Python data model&lt;/a&gt;.)&lt;/p&gt;\n&lt;p&gt;Slice notation works like this:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;sequence[start:stop:step]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;And recall that there are defaults for &lt;em&gt;start&lt;/em&gt;, &lt;em&gt;stop&lt;/em&gt;, and &lt;em&gt;step&lt;/em&gt;, so to access the defaults, simply leave out the argument.&lt;/p&gt;\n&lt;p&gt;Slice notation to get the last nine elements from a list (or any other sequence that supports it, like a string) would look like this:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;my_list[-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;:]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;When I see this, I read the part in the brackets as &quot;9th from the end, to the end.&quot; (Actually, I abbreviate it mentally as &quot;-9, on&quot;)&lt;/p&gt;\n&lt;h2&gt;Explanation:&lt;/h2&gt;\n&lt;p&gt;The full notation is&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;my_list[-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;:&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;and to substitute the defaults (actually when &lt;code&gt;step&lt;/code&gt; is negative, &lt;code&gt;stop&lt;/code&gt;&apos;s default is &lt;code&gt;-len(my_list) - 1&lt;/code&gt;, so &lt;code&gt;None&lt;/code&gt; for stop really just means it goes to whichever end step takes it to):&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;my_list[-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;:&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(my_list):&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The &lt;strong&gt;colon&lt;/strong&gt;, &lt;code&gt;:&lt;/code&gt;,  is what tells Python you&apos;re giving it a slice and not a regular index. That&apos;s why the idiomatic way of making a shallow copy of lists in Python 2 is&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;list_copy = sequence[:]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;And clearing them is with:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;del&lt;/span&gt; my_list[:]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;(Python 3 gets a &lt;code&gt;list.copy&lt;/code&gt; and &lt;code&gt;list.clear&lt;/code&gt; method.)&lt;/p&gt;\n&lt;h3&gt;When &lt;code&gt;step&lt;/code&gt; is negative, the defaults for &lt;code&gt;start&lt;/code&gt; and &lt;code&gt;stop&lt;/code&gt; change&lt;/h3&gt;\n&lt;p&gt;By default, when the &lt;code&gt;step&lt;/code&gt; argument is empty (or &lt;code&gt;None&lt;/code&gt;), it is assigned to &lt;code&gt;+1&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;But you can pass in a negative integer, and the list (or most other standard sliceables) will be sliced from the end to the beginning.&lt;/p&gt;\n&lt;p&gt;Thus a negative slice will change the defaults for &lt;code&gt;start&lt;/code&gt; and &lt;code&gt;stop&lt;/code&gt;!&lt;/p&gt;\n&lt;h3&gt;Confirming this in the source&lt;/h3&gt;\n&lt;p&gt;I like to encourage users to read the source as well as the documentation. The &lt;a href=&quot;https://github.com/python/cpython/blob/master/Objects/sliceobject.c&quot; rel=&quot;nofollow noreferrer&quot;&gt;source code for slice objects and this logic is found here&lt;/a&gt;. First we determine if &lt;code&gt;step&lt;/code&gt; is negative:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;step_is_negative = step_sign &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;If so, the lower bound is &lt;code&gt;-1&lt;/code&gt;  meaning we slice all the way up to and including the beginning, and the upper bound is the length minus 1, meaning we start at the end. (Note that the semantics of this &lt;code&gt;-1&lt;/code&gt; is &lt;em&gt;different&lt;/em&gt; from a &lt;code&gt;-1&lt;/code&gt; that users may pass indexes in Python indicating the last item.)&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (step_is_negative) {\n    lower = PyLong_FromLong(&lt;span class=&quot;hljs-number&quot;&gt;-1L&lt;/span&gt;);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (lower == &lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;)\n        &lt;span class=&quot;hljs-keyword&quot;&gt;goto&lt;/span&gt; error;\n\n    upper = PyNumber_Add(length, lower);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (upper == &lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;)\n        &lt;span class=&quot;hljs-keyword&quot;&gt;goto&lt;/span&gt; error;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;Otherwise &lt;code&gt;step&lt;/code&gt; is positive, and the lower bound will be zero and the upper bound (which we go up to but not including) the length of the sliced list.&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n    lower = _PyLong_Zero;\n    Py_INCREF(lower);\n    upper = length;\n    Py_INCREF(upper);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;Then, we may need to apply the defaults for &lt;code&gt;start&lt;/code&gt; and &lt;code&gt;stop&lt;/code&gt;the default then for &lt;code&gt;start&lt;/code&gt; is calculated as the upper bound when &lt;code&gt;step&lt;/code&gt; is negative:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (self-&amp;gt;start == Py_None) {\n    start = step_is_negative ? upper : lower;\n    Py_INCREF(start);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;and &lt;code&gt;stop&lt;/code&gt;, the lower bound:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (self-&amp;gt;stop == Py_None) {\n    stop = step_is_negative ? lower : upper;\n    Py_INCREF(stop);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n&lt;h1&gt;Give your slices a descriptive name!&lt;/h1&gt;\n&lt;p&gt;You may find it useful to separate forming the slice from passing it to the &lt;code&gt;list.__getitem__&lt;/code&gt; method (&lt;a href=&quot;https://docs.python.org/2/reference/datamodel.html#object.__getitem__&quot; rel=&quot;nofollow noreferrer&quot;&gt;that&apos;s what the square brackets do&lt;/a&gt;). Even if you&apos;re not new to it, it keeps your code more readable so that others that may have to read your code can more readily understand what you&apos;re doing.&lt;/p&gt;\n&lt;p&gt;However, you can&apos;t just assign some integers separated by colons to a variable. You need to use the slice object:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;last_nine_slice = &lt;span class=&quot;hljs-built_in&quot;&gt;slice&lt;/span&gt;(-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The second argument, &lt;code&gt;None&lt;/code&gt;, is required, so that the first argument is interpreted as the &lt;code&gt;start&lt;/code&gt; argument &lt;a href=&quot;https://docs.python.org/2/library/functions.html#slice&quot; rel=&quot;nofollow noreferrer&quot;&gt;otherwise it would be the &lt;code&gt;stop&lt;/code&gt; argument&lt;/a&gt;.&lt;/p&gt;\n&lt;p&gt;You can then pass the slice object to your sequence:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;))[last_nine_slice]\n[&lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;92&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;93&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;94&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;95&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;96&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;97&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;98&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;99&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;It&apos;s interesting that ranges also take slices:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;)[last_nine_slice]\n&lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1&gt;Memory Considerations:&lt;/h1&gt;\n&lt;p&gt;Since slices of Python lists create new objects in memory, another important function to be aware of is &lt;code&gt;itertools.islice&lt;/code&gt;. Typically you&apos;ll want to iterate over a slice, not just have it created statically in memory. &lt;code&gt;islice&lt;/code&gt; is perfect for this. A caveat, it doesn&apos;t support negative arguments to &lt;code&gt;start&lt;/code&gt;, &lt;code&gt;stop&lt;/code&gt;, or &lt;code&gt;step&lt;/code&gt;, so if that&apos;s an issue you may need to calculate indices or reverse the iterable in advance.&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;length = &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;\nlast_nine_iter = itertools.islice(&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(length)), length-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\nlist_last_nine = &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(last_nine_iter)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;and now:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;list_last_nine\n[&lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;92&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;93&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;94&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;95&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;96&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;97&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;98&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;99&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The fact that list slices make a copy is a feature of lists themselves. If you&apos;re slicing advanced objects like a Pandas DataFrame, it may return a view on the original, and not a copy.&lt;/p&gt;\n    ","\n&lt;p&gt;And a couple of things that weren&apos;t immediately obvious to me when I first saw the slicing syntax:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;x = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;x[::-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n[&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Easy way to reverse sequences!&lt;/p&gt;\n\n&lt;p&gt;And if you wanted, for some reason, every second item in the reversed sequence:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;x = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;x[::-&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]\n[&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;In Python 2.7&lt;/p&gt;\n\n&lt;p&gt;Slicing in Python&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;[a:b:c]\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt; = length of string, &lt;span class=&quot;hljs-built_in&quot;&gt;tuple&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;\n\nc -- default &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; +&lt;span class=&quot;hljs-number&quot;&gt;1.&lt;/span&gt; The sign of c indicates forward &lt;span class=&quot;hljs-keyword&quot;&gt;or&lt;/span&gt; backward, absolute value of c indicates steps. Default &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; forward &lt;span class=&quot;hljs-keyword&quot;&gt;with&lt;/span&gt; step size &lt;span class=&quot;hljs-number&quot;&gt;1.&lt;/span&gt; Positive means forward, negative means backward.\n\na --  When c &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; positive &lt;span class=&quot;hljs-keyword&quot;&gt;or&lt;/span&gt; blank, default &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.&lt;/span&gt; When c &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; negative, default &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; -&lt;span class=&quot;hljs-number&quot;&gt;1.&lt;/span&gt;\n\nb --  When c &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; positive &lt;span class=&quot;hljs-keyword&quot;&gt;or&lt;/span&gt; blank, default &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;. When c &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; negative, default &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; -(&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;+&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;).\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Understanding index assignment is very important.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In forward direction, starts at &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; ends at &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n\nIn backward direction, starts at -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; ends at -&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;When you say [a:b:c], you are saying depending on the sign of c (forward or backward), start at a and end at b (excluding element at bth index). Use the indexing rule above and remember you will only find elements in this range:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;-&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;, -&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;+&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, -&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;+&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, ..., &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; , &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt; -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;But this range continues in both directions infinitely:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;...,-&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt; -&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; ,-&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,-&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;, -&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;+&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, -&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;+&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, ..., &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; , &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt; -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;, &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt; +&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;+&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; , ....\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;For example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;             &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;\n             a    s    t   r    i   n   g\n    -&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;   -&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;   -&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;   -&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If your choice of a, b, and c allows overlap with the range above as you traverse using rules for a,b,c above you will either get a list with elements (touched during traversal) or you will get an empty list.&lt;/p&gt;\n\n&lt;p&gt;One last thing: if a and b are equal, then also you get an empty list:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l1\n[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l1[:]\n[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l1[::-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# a default is -1 , b default is -(len+1)&lt;/span&gt;\n[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l1[:-&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# a default is -1&lt;/span&gt;\n[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l1[:-&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# a default is -1&lt;/span&gt;\n[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l1[::] &lt;span class=&quot;hljs-comment&quot;&gt;# c default is +1, so a default is 0, b default is len&lt;/span&gt;\n[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l1[::-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# c is -1 , so a default is -1 and b default is -(len+1)&lt;/span&gt;\n[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]\n\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l1[-&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;200&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# Interesting&lt;/span&gt;\n[]\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l1[-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;200&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# Interesting&lt;/span&gt;\n[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]\n\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l1[-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n[]\n\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l1[-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# Interesting&lt;/span&gt;\n[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l1[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n[]\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l1[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# Interesting&lt;/span&gt;\n[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l1[:-&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# a default is -1, stop(b) at -2 , step(c) by 2 in reverse direction&lt;/span&gt;\n[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Found this great table at &lt;a href=&quot;http://wiki.python.org/moin/MovingToPythonFromOtherLanguages&quot; rel=&quot;noreferrer&quot;&gt;http://wiki.python.org/moin/MovingToPythonFromOtherLanguages&lt;/a&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;Python indexes &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; slices &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; a six-element &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;.\nIndexes &lt;span class=&quot;hljs-built_in&quot;&gt;enumerate&lt;/span&gt; the elements, slices &lt;span class=&quot;hljs-built_in&quot;&gt;enumerate&lt;/span&gt; the spaces between the elements.\n\nIndex &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; rear:    -&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;      a=[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]    a[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:]==[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]\nIndex &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; front:    &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;      &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(a)==&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;          a[:&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]==[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n                   +---+---+---+---+---+---+    a[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]==&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;            a[:-&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]==[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]\n                   | a | b | c | d | e | f |    a[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]==&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;            a[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]==[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n                   +---+---+---+---+---+---+    a[-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]==&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;           a[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]==[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\nSlice &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; front:  :   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;   :    a[-&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]==&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;\nSlice &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; rear:   :  -&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   :\n                                                b=a[:]\n                                                b==[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;] (shallow copy of a)&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;After using it a bit I realise that the simplest description is that it is exactly the same as the arguments in a &lt;code&gt;for&lt;/code&gt; loop...&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt;:to:step)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Any of them are optional:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;(:to:step)\n(&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt;::step)\n(&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt;:to)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Then the negative indexing just needs you to add the length of the string to the negative indices to understand it.&lt;/p&gt;\n\n&lt;p&gt;This works for me anyway...&lt;/p&gt;\n    ","\n&lt;p&gt;I find it easier to remember how it works, and then I can figure out any specific start/stop/step combination.&lt;/p&gt;\n\n&lt;p&gt;It&apos;s instructive to understand &lt;code&gt;range()&lt;/code&gt; first:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;start=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, stop, step=&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;):  &lt;span class=&quot;hljs-comment&quot;&gt;# Illegal syntax, but that&apos;s the effect&lt;/span&gt;\n    i = start\n    &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (i &amp;lt; stop &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; step &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; i &amp;gt; stop):\n        &lt;span class=&quot;hljs-keyword&quot;&gt;yield&lt;/span&gt; i\n        i += step\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Begin from &lt;code&gt;start&lt;/code&gt;, increment by &lt;code&gt;step&lt;/code&gt;, do not reach &lt;code&gt;stop&lt;/code&gt;.  Very simple.&lt;/p&gt;\n\n&lt;p&gt;The thing to remember about negative step is that &lt;code&gt;stop&lt;/code&gt; is always the excluded end, whether it&apos;s higher or lower. If you want same slice in opposite order, it&apos;s much cleaner to do the reversal separately: e.g. &lt;code&gt;&apos;abcde&apos;[1:-2][::-1]&lt;/code&gt; slices off one char from left, two from right, then reverses. (See also &lt;a href=&quot;http://www.python.org/dev/peps/pep-0322/&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;reversed()&lt;/code&gt;&lt;/a&gt;.)&lt;/p&gt;\n\n&lt;p&gt;Sequence slicing is same, except it first normalizes negative indexes, and it can never go outside the sequence:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;TODO&lt;/strong&gt;: The code below had a bug with &quot;never go outside the sequence&quot; when abs(step)&amp;gt;1; I &lt;em&gt;think&lt;/em&gt; I patched it to be correct, but it&apos;s hard to understand.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;this_is_how_slicing_works&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;seq, start=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, stop=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, step=&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;):\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; start &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n        start = (&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; step &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(seq)-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;elif&lt;/span&gt; start &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:\n        start += &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(seq)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;lt;= start &amp;lt; &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(seq):  &lt;span class=&quot;hljs-comment&quot;&gt;# clip if still outside bounds&lt;/span&gt;\n        start = (&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; step &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(seq)-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; stop &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n        stop = (&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(seq) &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; step &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)  &lt;span class=&quot;hljs-comment&quot;&gt;# really -1, not last element&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;elif&lt;/span&gt; stop &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:\n        stop += &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(seq)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(start, stop, step):\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;lt;= i &amp;lt; &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(seq):\n            &lt;span class=&quot;hljs-keyword&quot;&gt;yield&lt;/span&gt; seq[i]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Don&apos;t worry about the &lt;code&gt;is None&lt;/code&gt; details - just remember that omitting &lt;code&gt;start&lt;/code&gt; and/or &lt;code&gt;stop&lt;/code&gt; always does the right thing to give you the whole sequence.&lt;/p&gt;\n\n&lt;p&gt;Normalizing negative indexes first allows start and/or stop to be counted from the end independently: &lt;code&gt;&apos;abcde&apos;[1:-2] == &apos;abcde&apos;[1:3] == &apos;bc&apos;&lt;/code&gt; despite &lt;code&gt;range(1,-2) == []&lt;/code&gt;.\nThe normalization is sometimes thought of as &quot;modulo the length&quot;, but note it adds the length just once: e.g. &lt;code&gt;&apos;abcde&apos;[-53:42]&lt;/code&gt; is just the whole string.&lt;/p&gt;\n    ","\n&lt;p&gt;I use the &quot;an index points between elements&quot; method of thinking about it myself, but one way of describing it which sometimes helps others get it is this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;mylist[X:Y]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;X is the index of the first element you want.&lt;br&gt;\nY is the index of the first element you &lt;em&gt;don&apos;t&lt;/em&gt; want.&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;Index:\n      ------------&amp;gt;\n  &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;\n+---+---+---+---+---+\n| a | b | c | d | e |\n+---+---+---+---+---+\n  &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n      &amp;lt;------------\n\nSlice:\n    &amp;lt;---------------|\n|---------------&amp;gt;\n:   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;   :\n+---+---+---+---+---+\n| a | b | c | d | e |\n+---+---+---+---+---+\n:  -&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   :\n|---------------&amp;gt;\n    &amp;lt;---------------|\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I hope this will help you to model the list in Python.&lt;/p&gt;\n\n&lt;p&gt;Reference: &lt;a href=&quot;http://wiki.python.org/moin/MovingToPythonFromOtherLanguages&quot; rel=&quot;noreferrer&quot;&gt;http://wiki.python.org/moin/MovingToPythonFromOtherLanguages&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;This is how I teach slices to newbies:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Understanding the difference between indexing and slicing:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Wiki Python has this amazing picture which clearly distinguishes indexing and slicing.&lt;/p&gt;\n\n&lt;p&gt;&lt;img src=&quot;https://i.stack.imgur.com/o99aU.png&quot; alt=&quot;Enter image description here&quot;&gt;&lt;/p&gt;\n\n&lt;p&gt;It is a list with six elements in it. To understand slicing better, consider that list as a set of six boxes placed together. Each box has an alphabet in it.&lt;/p&gt;\n\n&lt;p&gt;Indexing is like dealing with the contents of box. You can check contents of any box. But you can&apos;t check the contents of multiple boxes at once. You can even replace the contents of the box. But you can&apos;t place two balls in one box or replace two balls at a time.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;122&lt;/span&gt;]: alpha = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;e&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;f&apos;&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;123&lt;/span&gt;]: alpha\nOut[&lt;span class=&quot;hljs-number&quot;&gt;123&lt;/span&gt;]: [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;e&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;f&apos;&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;124&lt;/span&gt;]: alpha[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]\nOut[&lt;span class=&quot;hljs-number&quot;&gt;124&lt;/span&gt;]: &lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;127&lt;/span&gt;]: alpha[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;128&lt;/span&gt;]: alpha\nOut[&lt;span class=&quot;hljs-number&quot;&gt;128&lt;/span&gt;]: [&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;e&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;f&apos;&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;129&lt;/span&gt;]: alpha[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&amp;lt;ipython-&lt;span class=&quot;hljs-built_in&quot;&gt;input&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;129&lt;/span&gt;-c7eb16585371&amp;gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &amp;lt;module&amp;gt;()\n----&amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; alpha[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n\nTypeError: &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt; indices must be integers, &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;tuple&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Slicing is like dealing with boxes themselves. You can pick up the first box and place it on another table. To pick up the box, all you need to know is the position of beginning and ending of the box.&lt;/p&gt;\n\n&lt;p&gt;You can even pick up the first three boxes or the last two boxes or all boxes between 1 and 4. So, you can pick any set of boxes if you know the beginning and ending. These positions are called start and stop positions.&lt;/p&gt;\n\n&lt;p&gt;The interesting thing is that you can replace multiple boxes at once. Also you can place multiple boxes wherever you like.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;130&lt;/span&gt;]: alpha[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\nOut[&lt;span class=&quot;hljs-number&quot;&gt;130&lt;/span&gt;]: [&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;131&lt;/span&gt;]: alpha[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] = &lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;132&lt;/span&gt;]: alpha\nOut[&lt;span class=&quot;hljs-number&quot;&gt;132&lt;/span&gt;]: [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;e&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;f&apos;&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;133&lt;/span&gt;]: alpha[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;B&apos;&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;134&lt;/span&gt;]: alpha\nOut[&lt;span class=&quot;hljs-number&quot;&gt;134&lt;/span&gt;]: [&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;B&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;e&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;f&apos;&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;135&lt;/span&gt;]: alpha[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;x&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;xx&apos;&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;136&lt;/span&gt;]: alpha\nOut[&lt;span class=&quot;hljs-number&quot;&gt;136&lt;/span&gt;]: [&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;B&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;x&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;xx&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;e&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;f&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Slicing With Step:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Till now you have picked boxes continuously. But sometimes you need to pick up discretely. For example, you can pick up every second box. You can even pick up every third box from the end. This value is called step size. This represents the gap between your successive pickups. The step size should be positive if You are picking boxes from the beginning to end and vice versa.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;137&lt;/span&gt;]: alpha = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;e&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;f&apos;&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;142&lt;/span&gt;]: alpha[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]\nOut[&lt;span class=&quot;hljs-number&quot;&gt;142&lt;/span&gt;]: [&lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;143&lt;/span&gt;]: alpha[-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]\nOut[&lt;span class=&quot;hljs-number&quot;&gt;143&lt;/span&gt;]: [&lt;span class=&quot;hljs-string&quot;&gt;&apos;f&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;144&lt;/span&gt;]: alpha[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]\nOut[&lt;span class=&quot;hljs-number&quot;&gt;144&lt;/span&gt;]: []\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;145&lt;/span&gt;]: alpha[-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]\nOut[&lt;span class=&quot;hljs-number&quot;&gt;145&lt;/span&gt;]: []\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;How Python Figures Out Missing Parameters:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;When slicing, if you leave out any parameter, Python tries to figure it out automatically.&lt;/p&gt;\n\n&lt;p&gt;If you check the source code of &lt;a href=&quot;http://en.wikipedia.org/wiki/CPython&quot; rel=&quot;noreferrer&quot;&gt;CPython&lt;/a&gt;, you will find a function called PySlice_GetIndicesEx() which figures out indices to a slice for any given parameters. Here is the logical equivalent code in Python.&lt;/p&gt;\n\n&lt;p&gt;This function takes a Python object and optional parameters for slicing and returns the start, stop, step, and slice length for the requested slice.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;py_slice_get_indices_ex&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;obj, start=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, stop=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, step=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;&lt;/span&gt;):\n\n    length = &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(obj)\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; step &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n        step = &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; step == &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:\n        &lt;span class=&quot;hljs-keyword&quot;&gt;raise&lt;/span&gt; Exception(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Step cannot be zero.&quot;&lt;/span&gt;)\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; start &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n        start = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; step &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; length - &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;:\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; start &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:\n            start += length\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; start &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:\n            start = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; step &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; start &amp;gt;= length:\n            start = length &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; step &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; length - &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; stop &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n        stop = length &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; step &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;:\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; stop &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:\n            stop += length\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; stop &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:\n            stop = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; step &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; stop &amp;gt;= length:\n            stop = length &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; step &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; length - &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (step &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; stop &amp;gt;= start) &lt;span class=&quot;hljs-keyword&quot;&gt;or&lt;/span&gt; (step &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; start &amp;gt;= stop):\n        slice_length = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;elif&lt;/span&gt; step &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:\n        slice_length = (stop - start + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)/(step) + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;:\n        slice_length = (stop - start - &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)/(step) + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (start, stop, step, slice_length)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This is the intelligence that is present behind slices. Since Python has an built-in function called slice, you can pass some parameters and check how smartly it calculates missing parameters.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;21&lt;/span&gt;]: alpha = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;e&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;f&apos;&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;22&lt;/span&gt;]: s = &lt;span class=&quot;hljs-built_in&quot;&gt;slice&lt;/span&gt;(&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;)\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;23&lt;/span&gt;]: s\nOut[&lt;span class=&quot;hljs-number&quot;&gt;23&lt;/span&gt;]: &lt;span class=&quot;hljs-built_in&quot;&gt;slice&lt;/span&gt;(&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;)\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;24&lt;/span&gt;]: s.indices(&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(alpha))\nOut[&lt;span class=&quot;hljs-number&quot;&gt;24&lt;/span&gt;]: (&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;]: &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(*s.indices(&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(alpha)))\nOut[&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;26&lt;/span&gt;]: s = &lt;span class=&quot;hljs-built_in&quot;&gt;slice&lt;/span&gt;(&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;27&lt;/span&gt;]: &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(*s.indices(&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(alpha)))\nOut[&lt;span class=&quot;hljs-number&quot;&gt;27&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;28&lt;/span&gt;]: s = &lt;span class=&quot;hljs-built_in&quot;&gt;slice&lt;/span&gt;(&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;29&lt;/span&gt;]: &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(*s.indices(&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(alpha)))\nOut[&lt;span class=&quot;hljs-number&quot;&gt;29&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; This post was originally written in my blog, &lt;em&gt;&lt;a href=&quot;https://avilpage.com/2015/03/a-slice-of-python-intelligence-behind.html&quot; rel=&quot;noreferrer&quot;&gt;The Intelligence Behind Python Slices&lt;/a&gt;&lt;/em&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;Python slicing notation:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;a[start:end:step]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;ul&gt;\n&lt;li&gt;For &lt;code&gt;start&lt;/code&gt; and &lt;code&gt;end&lt;/code&gt;, negative values are interpreted as being relative to the end of the sequence.&lt;/li&gt;\n&lt;li&gt;Positive indices for &lt;code&gt;end&lt;/code&gt; indicate the position &lt;em&gt;after&lt;/em&gt; the last element to be included.&lt;/li&gt;\n&lt;li&gt;Blank values are defaulted as follows: &lt;code&gt;[+0:-0:1]&lt;/code&gt;.&lt;/li&gt;\n&lt;li&gt;Using a negative step reverses the interpretation of &lt;code&gt;start&lt;/code&gt; and &lt;code&gt;end&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;The notation extends to (numpy) matrices and multidimensional arrays.  For example, to slice entire columns you can use:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;m[::,&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:] &lt;span class=&quot;hljs-comment&quot;&gt;## slice the first two columns&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Slices hold references, not copies, of the array elements.  If you want to make a separate copy an array, you can use &lt;a href=&quot;https://stackoverflow.com/questions/6532881/how-to-make-a-copy-of-a-2d-array-in-python&quot;&gt;&lt;code&gt;deepcopy()&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;You can also use slice assignment to remove one or more elements from a list:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;r = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;blah&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;r[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;] = []\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;r\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;This is just for some extra info...\nConsider the list below &lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l=[&lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;23&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;345&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;456&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;67&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;945&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;467&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Few other tricks for reversing the list:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l[&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(l):-&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(l)-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n[&lt;span class=&quot;hljs-number&quot;&gt;467&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;945&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;67&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;456&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;345&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;23&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;]\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l[:-&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(l)-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n[&lt;span class=&quot;hljs-number&quot;&gt;467&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;945&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;67&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;456&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;345&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;23&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;]\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l[&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(l)::-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n[&lt;span class=&quot;hljs-number&quot;&gt;467&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;945&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;67&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;456&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;345&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;23&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;]\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l[::-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n[&lt;span class=&quot;hljs-number&quot;&gt;467&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;945&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;67&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;456&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;345&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;23&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;]\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;l[-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:-&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(l)-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n[&lt;span class=&quot;hljs-number&quot;&gt;467&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;945&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;67&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;456&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;345&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;23&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;h2&gt;1. Slice Notation&lt;/h2&gt;\n\n&lt;p&gt;To make it simple, remember &lt;strong&gt;slice has only one form&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;s[start:end:step]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and here is how it works:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;s&lt;/code&gt;: an object that can be sliced&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;start&lt;/code&gt;: first index to start iteration&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;end&lt;/code&gt;: last index, &lt;strong&gt;NOTE that &lt;code&gt;end&lt;/code&gt; index will not be included in the resulted slice&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;step&lt;/code&gt;: pick element every &lt;code&gt;step&lt;/code&gt; index&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Another import thing: &lt;strong&gt;all &lt;code&gt;start&lt;/code&gt;,&lt;code&gt;end&lt;/code&gt;, &lt;code&gt;step&lt;/code&gt; can be omitted!&lt;/strong&gt; And if they are omitted, their default value will be used: &lt;code&gt;0&lt;/code&gt;,&lt;code&gt;len(s)&lt;/code&gt;,&lt;code&gt;1&lt;/code&gt; accordingly.&lt;/p&gt;\n\n&lt;p&gt;So possible variations are:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# Mostly used variations&lt;/span&gt;\ns[start:end]\ns[start:]\ns[:end]\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Step-related variations&lt;/span&gt;\ns[:end:step]\ns[start::step]\ns[::step]\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Make a copy&lt;/span&gt;\ns[:]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;NOTE: If &lt;code&gt;start &amp;gt;= end&lt;/code&gt; (considering only when &lt;code&gt;step&amp;gt;0&lt;/code&gt;), Python will return a empty slice &lt;code&gt;[]&lt;/code&gt;.&lt;/p&gt;\n\n&lt;h2&gt;2. Pitfalls&lt;/h2&gt;\n\n&lt;p&gt;The above part explains the core features on how slice works, and it will work on most occasions. However, there can be pitfalls you should watch out, and this part explains them.&lt;/p&gt;\n\n&lt;h3&gt;Negative indexes&lt;/h3&gt;\n\n&lt;p&gt;The very first thing that confuses Python learners is that &lt;strong&gt;an index can be negative!&lt;/strong&gt;\nDon&apos;t panic: &lt;strong&gt;a negative index means count backwards.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;For example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;s[-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;:]    &lt;span class=&quot;hljs-comment&quot;&gt;# Start at the 5th index from the end of array,&lt;/span&gt;\n          &lt;span class=&quot;hljs-comment&quot;&gt;# thus returning the last 5 elements.&lt;/span&gt;\ns[:-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]    &lt;span class=&quot;hljs-comment&quot;&gt;# Start at index 0, and end until the 5th index from end of array,&lt;/span&gt;\n          &lt;span class=&quot;hljs-comment&quot;&gt;# thus returning s[0:len(s)-5].&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h3&gt;Negative step&lt;/h3&gt;\n\n&lt;p&gt;Making things more confusing is that &lt;strong&gt;&lt;code&gt;step&lt;/code&gt; can be negative too!&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;A negative step means iterate the array backwards: from the end to start, with the end index included, and the start index excluded from the result.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt;: when step is negative, the default value for &lt;code&gt;start&lt;/code&gt; is &lt;code&gt;len(s)&lt;/code&gt; (while &lt;code&gt;end&lt;/code&gt; does not equal to &lt;code&gt;0&lt;/code&gt;, because &lt;code&gt;s[::-1]&lt;/code&gt; contains &lt;code&gt;s[0]&lt;/code&gt;). For example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;s[::-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]            &lt;span class=&quot;hljs-comment&quot;&gt;# Reversed slice&lt;/span&gt;\ns[&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(s)::-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]      &lt;span class=&quot;hljs-comment&quot;&gt;# The same as above, reversed slice&lt;/span&gt;\ns[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(s):-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]     &lt;span class=&quot;hljs-comment&quot;&gt;# Empty list&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h3&gt;Out of range error?&lt;/h3&gt;\n\n&lt;p&gt;Be surprised: &lt;strong&gt;slice does not raise an IndexError when the index is out of range!&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;If the index is out of range, Python will try its best to set the index to &lt;code&gt;0&lt;/code&gt; or &lt;code&gt;len(s)&lt;/code&gt; according to the situation. For example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;s[:&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(s)+&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]      &lt;span class=&quot;hljs-comment&quot;&gt;# The same as s[:len(s)]&lt;/span&gt;\ns[-&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(s)-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;::]    &lt;span class=&quot;hljs-comment&quot;&gt;# The same as s[0:]&lt;/span&gt;\ns[&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(s)+&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;::-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]   &lt;span class=&quot;hljs-comment&quot;&gt;# The same as s[len(s)::-1], and the same as s[::-1]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;3. Examples&lt;/h2&gt;\n\n&lt;p&gt;Let&apos;s finish this answer with examples, explaining everything we have discussed:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# Create our array for demonstration&lt;/span&gt;\nIn [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]: s = [i &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;)]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]: s\nOut[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]: s[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:]   &lt;span class=&quot;hljs-comment&quot;&gt;# From index 2 to last index&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]: s[:&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]   &lt;span class=&quot;hljs-comment&quot;&gt;# From index 0 up to index 8&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]: s[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]  &lt;span class=&quot;hljs-comment&quot;&gt;# From index 4 (included) up to index 7(excluded)&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]: s[:-&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]  &lt;span class=&quot;hljs-comment&quot;&gt;# Up to second last index (negative index)&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]: s[-&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:]  &lt;span class=&quot;hljs-comment&quot;&gt;# From second last index (negative index)&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]: s[::-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# From last to first in reverse order (negative step)&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]: s[::-&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# All odd numbers in reversed order&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;]: s[-&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;::-&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# All even numbers in reversed order&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;]: s[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;]   &lt;span class=&quot;hljs-comment&quot;&gt;# End is out of range, and Python will set it to len(s).&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;14&lt;/span&gt;]: s[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]    &lt;span class=&quot;hljs-comment&quot;&gt;# Start &amp;gt; end; return empty list&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;14&lt;/span&gt;]: []\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;]: s[&lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;]     &lt;span class=&quot;hljs-comment&quot;&gt;# Access index 11 (greater than len(s)) will raise an IndexError&lt;/span&gt;\n---------------------------------------------------------------------------\nIndexError                                Traceback (most recent call last)\n&amp;lt;ipython-&lt;span class=&quot;hljs-built_in&quot;&gt;input&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;-79ffc22473a3&amp;gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &amp;lt;module&amp;gt;()\n----&amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; s[&lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;]\n\nIndexError: &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt; index out of &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;As a general rule, writing code with a lot of hardcoded index values leads to a readability\nand maintenance mess. For example, if you come back to the code a year later, youll\nlook at it and wonder what you were thinking when you wrote it. The solution shown\nis simply a way of more clearly stating what your code is actually doing.\nIn general, the built-in slice() creates a slice object that can be used anywhere a slice\nis allowed. For example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;items = [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;a = &lt;span class=&quot;hljs-built_in&quot;&gt;slice&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;)\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;items[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;items[a]\n[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;items[a] = [&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;items\n[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;del&lt;/span&gt; items[a]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;items\n[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If you have a slice instance s, you can get more information about it by looking at its\ns.start, s.stop, and s.step attributes, respectively. For example:&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;a = &lt;span class=&quot;hljs-built_in&quot;&gt;slice&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;50&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;)\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;a.start\n&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;a.stop\n&lt;span class=&quot;hljs-number&quot;&gt;50&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;a.step\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\n&amp;gt;&amp;gt;&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;The previous answers don&apos;t discuss multi-dimensional array slicing which is possible using the famous &lt;a href=&quot;http://en.wikipedia.org/wiki/NumPy&quot; rel=&quot;noreferrer&quot;&gt;NumPy&lt;/a&gt; package:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Slicing can also be applied to multi-dimensional arrays.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# Here, a is a NumPy array&lt;/span&gt;\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;a\narray([[ &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,  &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,  &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;],\n       [ &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,  &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;,  &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;,  &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;],\n       [ &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;]])\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;a[:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]\narray([[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;],\n       [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]])\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The &quot;&lt;code&gt;:2&lt;/code&gt;&quot; before the comma operates on the first dimension and the &quot;&lt;code&gt;0:3:2&lt;/code&gt;&quot; after the comma operates on the second dimension.&lt;/p&gt;\n    ","\n&lt;h3&gt;The rules of slicing are as follows:&lt;/h3&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;[lower bound : upper bound : step size]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;I-&lt;/strong&gt; Convert &lt;code&gt;upper bound&lt;/code&gt;  and &lt;code&gt;lower bound&lt;/code&gt; into common signs.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;II-&lt;/strong&gt; Then check if the &lt;code&gt;step size&lt;/code&gt; is a &lt;em&gt;positive&lt;/em&gt; or a &lt;em&gt;negative&lt;/em&gt; value.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;(i)&lt;/strong&gt; If the &lt;code&gt;step size&lt;/code&gt; is a &lt;strong&gt;positive value&lt;/strong&gt;, &lt;code&gt;upper bound&lt;/code&gt; should be &lt;strong&gt;greater than&lt;/strong&gt; &lt;code&gt;lower bound&lt;/code&gt;, otherwise &lt;code&gt;empty string&lt;/code&gt; is printed. &lt;em&gt;For example&lt;/em&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;s=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Welcome&quot;&lt;/span&gt;\ns1=s[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(s1)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The output:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;Wel\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;However if we run the following code:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;s=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Welcome&quot;&lt;/span&gt;\ns1=s[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(s1)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;It will return an &lt;strong&gt;empty string&lt;/strong&gt;.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;(ii)&lt;/strong&gt; If the &lt;code&gt;step size&lt;/code&gt; if a &lt;strong&gt;negative value&lt;/strong&gt;, &lt;code&gt;upper bound&lt;/code&gt; should be &lt;strong&gt;lesser than&lt;/strong&gt; &lt;code&gt;lower bound&lt;/code&gt;, otherwise &lt;code&gt;empty string&lt;/code&gt; will be printed. For example:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;s=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Welcome&quot;&lt;/span&gt;\ns1=s[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(s1)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The output:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;cle\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;But if we run the following code:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;s=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Welcome&quot;&lt;/span&gt;\ns1=s[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(s1)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The output will be an &lt;strong&gt;empty string&lt;/strong&gt;.&lt;/p&gt;\n&lt;p&gt;Thus in the code:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;str&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;abcd&apos;&lt;/span&gt;\nl = &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;str&lt;/span&gt;)\nstr2 = &lt;span class=&quot;hljs-built_in&quot;&gt;str&lt;/span&gt;[l-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]    &lt;span class=&quot;hljs-comment&quot;&gt;#str[3:0:-1] &lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(str2)\nstr2 = &lt;span class=&quot;hljs-built_in&quot;&gt;str&lt;/span&gt;[l-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]    &lt;span class=&quot;hljs-comment&quot;&gt;#str[3:-1:-1]&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(str2)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;In the first &lt;code&gt;str2=str[l-1:0:-1]&lt;/code&gt;, the &lt;code&gt;upper bound&lt;/code&gt; is &lt;strong&gt;lesser than&lt;/strong&gt; the &lt;code&gt;lower bound&lt;/code&gt;, thus &lt;code&gt;dcb&lt;/code&gt; is printed.&lt;/p&gt;\n&lt;p&gt;However in &lt;code&gt;str2=str[l-1:-1:-1]&lt;/code&gt;, the &lt;code&gt;upper bound&lt;/code&gt; is &lt;strong&gt;not less than&lt;/strong&gt; the &lt;code&gt;lower bound&lt;/code&gt; (upon converting &lt;code&gt;lower bound&lt;/code&gt; into &lt;strong&gt;negative value&lt;/strong&gt; which is &lt;code&gt;-1&lt;/code&gt;: since &lt;code&gt;index&lt;/code&gt; of last element is -1 as well as 3).&lt;/p&gt;\n    ","\n&lt;p&gt;In my opinion, you will understand and memorize better the Python string slicing notation if you look at it the following way (read on).&lt;/p&gt;\n\n&lt;p&gt;Let&apos;s work with the following string ...&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;azString = &lt;span class=&quot;hljs-string&quot;&gt;&quot;abcdefghijklmnopqrstuvwxyz&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;For those who don&apos;t know, you can create any substring from &lt;code&gt;azString&lt;/code&gt; using the notation &lt;code&gt;azString[x:y]&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;Coming from other programming languages, that&apos;s when the common sense gets compromised. What are x and y?&lt;/p&gt;\n\n&lt;p&gt;I had to sit down and run several scenarios in my quest for a memorization technique that will help me remember what x and y are and help me slice strings properly at the first attempt.&lt;/p&gt;\n\n&lt;p&gt;My conclusion is that x and y should be seen as the boundary indexes that are surrounding the strings that we want to extra. So we should see the expression as &lt;code&gt;azString[index1, index2]&lt;/code&gt; or even more clearer as &lt;code&gt;azString[index_of_first_character, index_after_the_last_character]&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Here is an example visualization of that ...&lt;/p&gt;\n\n&lt;pre class=&quot;lang-none s-code-block&quot;&gt;&lt;code&gt;Letters   a b c d e f g h i j ...\n                  \n                        \nIndexes  0 1 2 3 4 5 6 7 8 9 ...\n                        \ncdefgh    index1       index2\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So all you have to do is setting index1 and index2 to the values that will surround the desired substring. For instance, to get the substring &quot;cdefgh&quot;, you can use &lt;code&gt;azString[2:8]&lt;/code&gt;, because the index on the left side of &quot;c&quot; is 2 and the one on the right size of &quot;h&quot; is 8.&lt;/p&gt;\n\n&lt;p&gt;Remember that we are setting the boundaries. And those boundaries are the positions where you could place some brackets that will be wrapped around the substring like this ...&lt;/p&gt;\n\n&lt;p&gt;a b &lt;strong&gt;[&lt;/strong&gt; c d e f g h &lt;strong&gt;]&lt;/strong&gt; i j&lt;/p&gt;\n\n&lt;p&gt;That trick works all the time and is easy to memorize.&lt;/p&gt;\n    ","\n&lt;p&gt;I personally think about it like a &lt;code&gt;for&lt;/code&gt; loop:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;a[start:end:step]\n&lt;span class=&quot;hljs-comment&quot;&gt;# for(i = start; i &amp;lt; end; i += step)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Also, note that negative values for &lt;code&gt;start&lt;/code&gt; and &lt;code&gt;end&lt;/code&gt; are relative to the end of the list and computed in the example above by &lt;code&gt;given_index + a.shape[0]&lt;/code&gt;.&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;#!/usr/bin/env python&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;slicegraphical&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;s, lista&lt;/span&gt;):\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(s) &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;:\n        &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&quot;Enter a string of maximum 9 characters,\n    so the printig would looki nice&quot;&quot;&quot;&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;# print &quot; &quot;,&lt;/span&gt;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;  &apos;&lt;/span&gt;+&lt;span class=&quot;hljs-string&quot;&gt;&apos;+---&apos;&lt;/span&gt; * &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(s) +&lt;span class=&quot;hljs-string&quot;&gt;&apos;+&apos;&lt;/span&gt;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos; &apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; letter &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; s:\n        &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;| {}&apos;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(letter),\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot; &quot;&lt;/span&gt;,; &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;+---&apos;&lt;/span&gt; * &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(s) +&lt;span class=&quot;hljs-string&quot;&gt;&apos;+&apos;&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot; &quot;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; letter &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(s) +&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;):\n        &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;{}  &apos;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(letter),\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; letter &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;*(&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(s)), &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;):\n        &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos; {}&apos;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(letter),\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;\n\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; triada &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; lista:\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(triada) == &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;:\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]==&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] == &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] == &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n                &lt;span class=&quot;hljs-comment&quot;&gt;# 000&lt;/span&gt;\n                &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; s+&lt;span class=&quot;hljs-string&quot;&gt;&apos;[   :   :   ]&apos;&lt;/span&gt; +&lt;span class=&quot;hljs-string&quot;&gt;&apos; = &apos;&lt;/span&gt;, s[triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]]\n            &lt;span class=&quot;hljs-keyword&quot;&gt;elif&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] == &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] == &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] != &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n                &lt;span class=&quot;hljs-comment&quot;&gt;# 001&lt;/span&gt;\n                &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; s+&lt;span class=&quot;hljs-string&quot;&gt;&apos;[   :   :{0:2d} ]&apos;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;], &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;) +&lt;span class=&quot;hljs-string&quot;&gt;&apos; = &apos;&lt;/span&gt;, s[triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]]\n            &lt;span class=&quot;hljs-keyword&quot;&gt;elif&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] == &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] != &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] == &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n                &lt;span class=&quot;hljs-comment&quot;&gt;# 010&lt;/span&gt;\n                &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; s+&lt;span class=&quot;hljs-string&quot;&gt;&apos;[   :{0:2d} :   ]&apos;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]) +&lt;span class=&quot;hljs-string&quot;&gt;&apos; = &apos;&lt;/span&gt;, s[triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]]\n            &lt;span class=&quot;hljs-keyword&quot;&gt;elif&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] == &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] != &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] != &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n                &lt;span class=&quot;hljs-comment&quot;&gt;# 011&lt;/span&gt;\n                &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; s+&lt;span class=&quot;hljs-string&quot;&gt;&apos;[   :{0:2d} :{1:2d} ]&apos;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]) +&lt;span class=&quot;hljs-string&quot;&gt;&apos; = &apos;&lt;/span&gt;, s[triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]]\n            &lt;span class=&quot;hljs-keyword&quot;&gt;elif&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] != &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] == &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] == &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n                &lt;span class=&quot;hljs-comment&quot;&gt;# 100&lt;/span&gt;\n                &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; s+&lt;span class=&quot;hljs-string&quot;&gt;&apos;[{0:2d} :   :   ]&apos;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]) +&lt;span class=&quot;hljs-string&quot;&gt;&apos; = &apos;&lt;/span&gt;, s[triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]]\n            &lt;span class=&quot;hljs-keyword&quot;&gt;elif&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] != &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] == &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] != &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n                &lt;span class=&quot;hljs-comment&quot;&gt;# 101&lt;/span&gt;\n                &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; s+&lt;span class=&quot;hljs-string&quot;&gt;&apos;[{0:2d} :   :{1:2d} ]&apos;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;], triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]) +&lt;span class=&quot;hljs-string&quot;&gt;&apos; = &apos;&lt;/span&gt;, s[triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]]\n            &lt;span class=&quot;hljs-keyword&quot;&gt;elif&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] != &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] != &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] == &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n                &lt;span class=&quot;hljs-comment&quot;&gt;# 110&lt;/span&gt;\n                &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; s+&lt;span class=&quot;hljs-string&quot;&gt;&apos;[{0:2d} :{1:2d} :   ]&apos;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;], triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]) +&lt;span class=&quot;hljs-string&quot;&gt;&apos; = &apos;&lt;/span&gt;, s[triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]]\n            &lt;span class=&quot;hljs-keyword&quot;&gt;elif&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] != &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] != &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] != &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n                &lt;span class=&quot;hljs-comment&quot;&gt;# 111&lt;/span&gt;\n                &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; s+&lt;span class=&quot;hljs-string&quot;&gt;&apos;[{0:2d} :{1:2d} :{2:2d} ]&apos;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;], triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]) +&lt;span class=&quot;hljs-string&quot;&gt;&apos; = &apos;&lt;/span&gt;, s[triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]]\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(triada) == &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] == &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] == &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n                &lt;span class=&quot;hljs-comment&quot;&gt;# 00&lt;/span&gt;\n                &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; s+&lt;span class=&quot;hljs-string&quot;&gt;&apos;[   :   ]    &apos;&lt;/span&gt; + &lt;span class=&quot;hljs-string&quot;&gt;&apos; = &apos;&lt;/span&gt;, s[triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]]\n            &lt;span class=&quot;hljs-keyword&quot;&gt;elif&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] == &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] != &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n                &lt;span class=&quot;hljs-comment&quot;&gt;# 01&lt;/span&gt;\n                &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; s+&lt;span class=&quot;hljs-string&quot;&gt;&apos;[   :{0:2d} ]    &apos;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]) + &lt;span class=&quot;hljs-string&quot;&gt;&apos; = &apos;&lt;/span&gt;, s[triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]]\n            &lt;span class=&quot;hljs-keyword&quot;&gt;elif&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] != &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] == &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n                &lt;span class=&quot;hljs-comment&quot;&gt;# 10&lt;/span&gt;\n                &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; s+&lt;span class=&quot;hljs-string&quot;&gt;&apos;[{0:2d} :   ]    &apos;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]) + &lt;span class=&quot;hljs-string&quot;&gt;&apos; = &apos;&lt;/span&gt;, s[triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]]\n            &lt;span class=&quot;hljs-keyword&quot;&gt;elif&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] != &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] != &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n                &lt;span class=&quot;hljs-comment&quot;&gt;# 11&lt;/span&gt;\n                &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; s+&lt;span class=&quot;hljs-string&quot;&gt;&apos;[{0:2d} :{1:2d} ]    &apos;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;],triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]) + &lt;span class=&quot;hljs-string&quot;&gt;&apos; = &apos;&lt;/span&gt;, s[triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]:triada[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]]\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(triada) == &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:\n            &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; s+&lt;span class=&quot;hljs-string&quot;&gt;&apos;[{0:2d} ]        &apos;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]) + &lt;span class=&quot;hljs-string&quot;&gt;&apos; = &apos;&lt;/span&gt;, s[triada[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]]\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; __name__ == &lt;span class=&quot;hljs-string&quot;&gt;&apos;__main__&apos;&lt;/span&gt;:\n    &lt;span class=&quot;hljs-comment&quot;&gt;# Change &quot;s&quot; to what ever string you like, make it 9 characters for&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;# better representation.&lt;/span&gt;\n    s = &lt;span class=&quot;hljs-string&quot;&gt;&apos;COMPUTERS&apos;&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;# add to this list different lists to experement with indexes&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;# to represent ex. s[::], use s[None, None,None], otherwise you get an error&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;# for s[2:] use s[2:None]&lt;/span&gt;\n\n    lista = [[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;],[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;],[-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;],[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;],[-&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,-&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;,-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,-&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;],[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,-&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;,&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;,-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;],[-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;],[-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;],[-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;,-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;],[-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,-&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]]\n\n    slicegraphical(s, lista)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You can run this script and experiment with it, below is some samples that I got from the script.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;  +---+---+---+---+---+---+---+---+---+\n  | C | O | M | P | U | T | E | R | S |\n  +---+---+---+---+---+---+---+---+---+\n  &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;   \n -&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; \n\nCOMPUTERS[ &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; : &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt; ]     =  UTE\nCOMPUTERS[ &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; : &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; : &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; ] =  MU\nCOMPUTERS[-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; : &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; :-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; ] =  UPM\nCOMPUTERS[ &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; ]         =  U\nCOMPUTERS[-&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; :-&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt; :-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; ] =  TU\nCOMPUTERS[ &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; :-&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; : &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; ] =  MPUT\nCOMPUTERS[ &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; :-&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; :-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; ] =  \nCOMPUTERS[   :   :-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; ] =  SRETUPMOC\nCOMPUTERS[-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; :   ]     =  UTERS\nCOMPUTERS[-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; : &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; :-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; ] =  UPMO\nCOMPUTERS[-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; :   :-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; ] =  UPMOC\nCOMPUTERS[-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; : &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; :-&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; ] =  SEUM\n[Finished &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.9&lt;/span&gt;s]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;When using a negative step, notice that the answer is shifted to the right by 1.&lt;/p&gt;\n    ","\n&lt;p&gt;My brain seems happy to accept that &lt;code&gt;lst[start:end]&lt;/code&gt; contains the &lt;code&gt;start&lt;/code&gt;-th item. I might even say that it is a &apos;natural assumption&apos;.&lt;/p&gt;\n\n&lt;p&gt;But occasionally a doubt creeps in and my brain asks for reassurance that it does not contain the &lt;code&gt;end&lt;/code&gt;-th element.&lt;/p&gt;\n\n&lt;p&gt;In these moments I rely on this simple theorem:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;any&lt;/span&gt; n,    lst = lst[:n] + lst[n:]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This pretty property tells me that &lt;code&gt;lst[start:end]&lt;/code&gt; does not contain the &lt;code&gt;end&lt;/code&gt;-th item because it is in &lt;code&gt;lst[end:]&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Note that this theorem is true for any &lt;code&gt;n&lt;/code&gt; at all. For example, you can check that&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;lst = &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;)\nlst[:-&lt;span class=&quot;hljs-number&quot;&gt;42&lt;/span&gt;] + lst[-&lt;span class=&quot;hljs-number&quot;&gt;42&lt;/span&gt;:] == lst\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;returns &lt;code&gt;True&lt;/code&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;In Python, the most basic form for slicing is the following:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;l[start:end]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;where &lt;code&gt;l&lt;/code&gt; is some collection, &lt;code&gt;start&lt;/code&gt; is an inclusive index, and &lt;code&gt;end&lt;/code&gt; is an exclusive index.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]: l = &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;))\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]: l[:&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# First five elements&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]: l[-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;:] &lt;span class=&quot;hljs-comment&quot;&gt;# Last five elements&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;When slicing from the start, you can omit the zero index, and when slicing to the end, you can omit the final index since it is redundant, so do not be verbose:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]: l[:&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;] == l[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]\nOut[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]: &lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]: l[&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;:] == l[&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;:&lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(l)]\nOut[&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]: &lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Negative integers are useful when doing offsets relative to the end of a collection:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]: l[:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# Include all elements but the last one&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]: l[-&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;:] &lt;span class=&quot;hljs-comment&quot;&gt;# Take the last three elements&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It is possible to provide indices that are out of bounds when slicing such as:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]: l[:&lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# 20 is out of index bounds, and l[20] will raise an IndexError exception&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;]: l[-&lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;:] &lt;span class=&quot;hljs-comment&quot;&gt;# -20 is out of index bounds, and l[-20] will raise an IndexError exception&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Keep in mind that the result of slicing a collection is a whole new collection. In addition, when using slice notation in assignments, the length of the slice assignments do not need to be the same. The values before and after the assigned slice will be kept, and the collection will shrink or grow to contain the new values:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;16&lt;/span&gt;]: l[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;] = &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;abc&apos;&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;# Assigning fewer elements than the ones contained in the sliced collection l[2:6]&lt;/span&gt;\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;17&lt;/span&gt;]: l\nOut[&lt;span class=&quot;hljs-number&quot;&gt;17&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;18&lt;/span&gt;]: l[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;] = &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;hello&apos;&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;# Assigning more elements than the ones contained in the sliced collection l [2:5]&lt;/span&gt;\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;19&lt;/span&gt;]: l\nOut[&lt;span class=&quot;hljs-number&quot;&gt;19&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;e&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;l&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;l&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If you omit the start and end index, you will make a copy of the collection:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;14&lt;/span&gt;]: l_copy = l[:]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;]: l == l_copy &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; l &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; l_copy\nOut[&lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;]: &lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If the start and end indexes are omitted when performing an assignment operation, the entire content of the collection will be replaced with a copy of what is referenced:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;]: l[:] = &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;hello...&apos;&lt;/span&gt;)\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;21&lt;/span&gt;]: l\nOut[&lt;span class=&quot;hljs-number&quot;&gt;21&lt;/span&gt;]: [&lt;span class=&quot;hljs-string&quot;&gt;&apos;h&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;e&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;l&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;l&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;o&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;.&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;.&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;.&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Besides basic slicing, it is also possible to apply the following notation:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;l[start:end:step]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;where &lt;code&gt;l&lt;/code&gt; is a collection, &lt;code&gt;start&lt;/code&gt; is an inclusive index, &lt;code&gt;end&lt;/code&gt; is an exclusive index, and &lt;code&gt;step&lt;/code&gt; is a stride that can be used to take every &lt;em&gt;nth&lt;/em&gt; item in &lt;code&gt;l&lt;/code&gt;.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;22&lt;/span&gt;]: l = &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;))\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;23&lt;/span&gt;]: l[::&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# Take the elements which indexes are even&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;23&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;24&lt;/span&gt;]: l[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;::&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# Take the elements which indexes are odd&lt;/span&gt;\nOut[&lt;span class=&quot;hljs-number&quot;&gt;24&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Using &lt;code&gt;step&lt;/code&gt; provides a useful trick to reverse a collection in Python:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;]: l[::-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\nOut[&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It is also possible to use negative integers for &lt;code&gt;step&lt;/code&gt; as the following example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In[&lt;span class=&quot;hljs-number&quot;&gt;28&lt;/span&gt;]:  l[::-&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]\nOut[&lt;span class=&quot;hljs-number&quot;&gt;28&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;However, using a negative value for &lt;code&gt;step&lt;/code&gt; could become very confusing. Moreover, in order to be &lt;a href=&quot;https://en.wiktionary.org/wiki/Pythonic#Adjective&quot; rel=&quot;nofollow noreferrer&quot;&gt;Pythonic&lt;/a&gt;, you should avoid using &lt;code&gt;start&lt;/code&gt;, &lt;code&gt;end&lt;/code&gt;, and &lt;code&gt;step&lt;/code&gt; in a single slice. In case this is required, consider doing this in two assignments (one to slice, and the other to stride).&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;29&lt;/span&gt;]: l = l[::&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# This step is for striding&lt;/span&gt;\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;]: l\nOut[&lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;31&lt;/span&gt;]: l = l[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;# This step is for slicing&lt;/span&gt;\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;32&lt;/span&gt;]: l\nOut[&lt;span class=&quot;hljs-number&quot;&gt;32&lt;/span&gt;]: [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I want to add one &lt;em&gt;Hello, World!&lt;/em&gt; example that explains the basics of slices for the very beginners. It helped me a lot.&lt;/p&gt;\n\n&lt;p&gt;Let&apos;s have a list with six values &lt;code&gt;[&apos;P&apos;, &apos;Y&apos;, &apos;T&apos;, &apos;H&apos;, &apos;O&apos;, &apos;N&apos;]&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;+---+---+---+---+---+---+\n| P | Y | T | H | O | N |\n+---+---+---+---+---+---+\n  &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now the simplest slices of that list are its sublists. The notation is &lt;code&gt;[&amp;lt;index&amp;gt;:&amp;lt;index&amp;gt;]&lt;/code&gt; and the key is to read it like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;[ start cutting before this index : end cutting before this index ]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now if you make a slice &lt;code&gt;[2:5]&lt;/code&gt; of the list above, this will happen:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;        |           |\n+---+---|---+---+---|---+\n| P | Y | T | H | O | N |\n+---+---|---+---+---|---+\n  &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; | &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; | &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You made a cut &lt;strong&gt;before&lt;/strong&gt; the element with index &lt;code&gt;2&lt;/code&gt; and another cut &lt;strong&gt;before&lt;/strong&gt; the element with index &lt;code&gt;5&lt;/code&gt;. So the result will be a slice between those two cuts, a list &lt;code&gt;[&apos;T&apos;, &apos;H&apos;, &apos;O&apos;]&lt;/code&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;Most of the previous answers clears up questions about slice notation.&lt;/p&gt;\n\n&lt;p&gt;The extended indexing syntax used for slicing is &lt;code&gt;aList[start:stop:step]&lt;/code&gt;, and basic examples are:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/IVkET.jpg&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/IVkET.jpg&quot; alt=&quot;Enter image description here&quot;&gt;&lt;/a&gt;:&lt;/p&gt;\n\n&lt;p&gt;More slicing examples: &lt;a href=&quot;https://docs.python.org/2.3/whatsnew/section-slices.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;15 Extended Slices&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;The below is the example of an index of a string:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt; +---+---+---+---+---+\n | H | e | l | p | A |\n +---+---+---+---+---+\n &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;str&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Name string&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Slicing example: [start:end:step]&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;str&lt;/span&gt;[start:end] &lt;span class=&quot;hljs-comment&quot;&gt;# Items start through end-1&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;str&lt;/span&gt;[start:]    &lt;span class=&quot;hljs-comment&quot;&gt;# Items start through the rest of the array&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;str&lt;/span&gt;[:end]      &lt;span class=&quot;hljs-comment&quot;&gt;# Items from the beginning through end-1&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;str&lt;/span&gt;[:]         &lt;span class=&quot;hljs-comment&quot;&gt;# A copy of the whole array&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Below is the example usage:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;str&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = N\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;str&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] = Na\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;str&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;] = Name st\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;str&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] = Nm t\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;str&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] = Nm ti\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If you feel negative indices in slicing is confusing, here&apos;s a very easy way to think about it: just replace the negative index with &lt;code&gt;len - index&lt;/code&gt;. So for example, replace -3 with &lt;code&gt;len(list) - 3&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;The best way to illustrate what slicing does internally is just show it in code that implements this operation:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;slice&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;, start = &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, end = &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, step = &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;):\n  &lt;span class=&quot;hljs-comment&quot;&gt;# Take care of missing start/end parameters&lt;/span&gt;\n  start = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; start &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; start\n  end = &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; end &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; end\n\n  &lt;span class=&quot;hljs-comment&quot;&gt;# Take care of negative start/end parameters&lt;/span&gt;\n  start = &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;) + start &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; start &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; start\n  end = &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;) + end &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; end &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; end\n\n  &lt;span class=&quot;hljs-comment&quot;&gt;# Now just execute a for-loop with start, end and step&lt;/span&gt;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;[i] &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(start, end, step)]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;The basic slicing technique is to define the starting point, the stopping point, and the step sizealso known as stride.&lt;/p&gt;\n&lt;p&gt;First, we will create a list of values to use in our slicing.&lt;/p&gt;\n&lt;p&gt;Create two lists to slice. The first is a numeric list from 1 to 9 (List A). The second is also a numeric list, from 0 to 9 (List B):&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;A = &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)) &lt;span class=&quot;hljs-comment&quot;&gt;# Start, stop, and step&lt;/span&gt;\nB = &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;))\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;This is List A:&quot;&lt;/span&gt;, A)\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;This is List B:&quot;&lt;/span&gt;, B)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Index the number 3 from A and the number 6 from B.&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(A[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;])\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(B[&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;])\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;Basic Slicing&lt;/h3&gt;\n&lt;p&gt;Extended indexing syntax used for slicing is &lt;code&gt;aList[start:stop:step]&lt;/code&gt;. The start argument and the step argument both default to &lt;code&gt;None&lt;/code&gt;the only required argument is stop. Did you notice this is similar to how range was used to define lists A and B? This is because the slice object represents the set of indices specified by &lt;code&gt;range(start, stop, step)&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;As you can see, defining only stop returns one element. Since the start defaults to none, this translates into retrieving only one element.&lt;/p&gt;\n&lt;p&gt;It is important to note, the first element is index 0, &lt;em&gt;not&lt;/em&gt; index 1. This is why we are using 2 lists for this exercise. List A&apos;s elements are numbered according to the ordinal position (the first element is 1, the second element is 2, etc.) while List B&apos;s elements are the numbers that would be used to index them (&lt;code&gt;[0]&lt;/code&gt; for the first element, 0, etc.).&lt;/p&gt;\n&lt;p&gt;With extended indexing syntax, we retrieve a range of values. For example, all values are retrieved with a colon.&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;A[:]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;To retrieve a subset of elements, the start and stop positions need to be defined.&lt;/p&gt;\n&lt;p&gt;Given the pattern &lt;code&gt;aList[start:stop]&lt;/code&gt;, retrieve the first two elements from List A.&lt;/p&gt;\n    "],"49":["\n&lt;p&gt;&lt;em&gt;This answer describes the process of retrieving the stack trace. Already have the stack trace? Read up on stack traces in &quot;&lt;a href=&quot;https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors&quot;&gt;What is a stack trace, and how can I use it to debug my application errors?&lt;/a&gt;&quot;&lt;/em&gt;&lt;/p&gt;\n\n&lt;h1&gt;The Problem&lt;/h1&gt;\n\n&lt;p&gt;Your application quit because an uncaught &lt;code&gt;RuntimeException&lt;/code&gt; was thrown.&lt;br&gt;\nThe most common of these is the &lt;a href=&quot;https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it&quot;&gt;&lt;code&gt;NullPointerException&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;\n\n&lt;h1&gt;How to solve it?&lt;/h1&gt;\n\n&lt;p&gt;Every time an Android application crashes (or any Java application for that matter), a &lt;code&gt;Stack trace&lt;/code&gt; is written to the console (in this case, logcat). This stack trace contains vital information for solving your problem.&lt;/p&gt;\n\n&lt;h2&gt;Android Studio&lt;/h2&gt;\n\n&lt;p&gt;&lt;img src=&quot;https://i.stack.imgur.com/ZL3Y8.png&quot; alt=&quot;Finding the stack trace in Android Studio&quot;&gt;&lt;/p&gt;\n\n&lt;p&gt;In the bottom bar of the window, click on the &lt;code&gt;Logcat&lt;/code&gt; button. Alternatively, you can press &lt;kbd&gt;alt&lt;/kbd&gt;+&lt;kbd&gt;6&lt;/kbd&gt;. Make sure your emulator or device is selected in the &lt;code&gt;Devices&lt;/code&gt; panel. Next, try to find the stack trace, which is shown in red. There may be a lot of stuff logged into logcat, so you may need to scroll a bit. An easy way to find the stack trace is to clear the logcat (using the recycle bin on the right), and let the app crash again.&lt;/p&gt;\n\n&lt;h1&gt;I have found the stack trace, now what?&lt;/h1&gt;\n\n&lt;p&gt;Yay! You&apos;re halfway to solving your problem.&lt;br&gt;\nYou only need to find out what exactly made your application crash, by analyzing the stack trace.&lt;/p&gt;\n\n&lt;p&gt;Read up on stack traces in &quot;&lt;a href=&quot;https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors&quot;&gt;What is a stack trace, and how can I use it to debug my application errors?&lt;/a&gt;&quot;&lt;/p&gt;\n\n&lt;h1&gt;I still can&apos;t solve my problem!&lt;/h1&gt;\n\n&lt;p&gt;If you&apos;ve found your &lt;code&gt;Exception&lt;/code&gt; and the line where it occurred, and still cannot figure out how to fix it, don&apos;t hesitate to ask a question on StackOverflow.  &lt;/p&gt;\n\n&lt;p&gt;Try to be as concise as possible: post the stack trace, and the &lt;em&gt;relevant&lt;/em&gt; code (e.g. a few lines up to the line which threw the &lt;code&gt;Exception&lt;/code&gt;).&lt;/p&gt;\n    ","\n&lt;p&gt;You can use &lt;a href=&quot;https://developer.android.com/studio/command-line/adb.html&quot; rel=&quot;noreferrer&quot;&gt;Google&apos;s ADB tool&lt;/a&gt; to get &lt;code&gt;Logcat file&lt;/code&gt; to analyze the issue.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-undefined&quot;&gt;adb logcat &amp;gt; logcat.txt\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;open &lt;code&gt;logcat.txt&lt;/code&gt; file and search for your application name. There should be information on why it failed, the line number, Class name, etc.&lt;/p&gt;\n    ","\n&lt;p&gt;First, you check which point your app has crashed (&lt;code&gt;Unfortunately, MyApp has stopped.&lt;/code&gt;). For this, you can use &lt;code&gt;Log.e(&quot;TAG&quot;, &quot;Message&quot;);&lt;/code&gt;, using this line you can see your app log in logcat.&lt;/p&gt;\n\n&lt;p&gt;After that, you find which point your app has stopped it&apos;s very easy to solve at your side. &lt;/p&gt;\n    ","\n&lt;p&gt;Just check the error in log cat. &lt;/p&gt;\n\n&lt;p&gt;You get the log cat option from in eclipse:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;window-&amp;gt;show view-&amp;gt;others-&amp;gt;Android-&amp;gt;Logcat&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Log cat contains error.&lt;/p&gt;\n\n&lt;p&gt;Other wise you can also check the error by executing an application in debug mode.\nFirstly set breakpoint after that by doing:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;right click on project-&amp;gt;debug as-&amp;gt;Android application&lt;/p&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;&lt;em&gt;Note:&lt;/em&gt;&lt;/strong&gt;&lt;em&gt; This answer is using Android Studio 2.2.2&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;&lt;em&gt;Note 2:&lt;/em&gt;&lt;/strong&gt; &lt;em&gt;I am considering that your device is successfully connected.&lt;/em&gt; &lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;The first thing you do when your application crashes is look into the LogCat, at the bottom of Android Studio there&apos;s a toolbar with a list of menus:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/1hRMI.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/1hRMI.png&quot; alt=&quot;image&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Click on the &quot;Android Monitor&quot; (The one I underlined in the image above. ^)&lt;/p&gt;\n\n&lt;p&gt;Now, you&apos;ll get something like this:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/f71Qd.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/f71Qd.png&quot; alt=&quot;image&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Change &quot;&lt;code&gt;Verbose&lt;/code&gt;&quot; to &quot;&lt;code&gt;Error&lt;/code&gt;&quot; Now it will only show you logged errors. Don&apos;t worry about all these errors (if you got them) now.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/gpkIa.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/gpkIa.png&quot; alt=&quot;image&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Ok. Now, do what you did to crash your app. After your app crashes, go to your logcat. You should find a new crash log that has a lot of &lt;code&gt;at:x.x.x&lt;/code&gt;: and &lt;code&gt;Caused by: TrumpIsPresidentException&lt;/code&gt; for example. Go to that &lt;code&gt;Caused by:&lt;/code&gt; statement in your logcat.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/dmNaz.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/dmNaz.png&quot; alt=&quot;image&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Next to&lt;/strong&gt; that &lt;code&gt;Caused By:&lt;/code&gt;, there should be the Exception that happened. In my case, it&apos;s a &lt;code&gt;RuntimeException&lt;/code&gt; and &lt;strong&gt;under it&lt;/strong&gt; there should be a line which contains a &lt;strong&gt;blue link&lt;/strong&gt; such as:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/VC156.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/VC156.png&quot; alt=&quot;image&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;If that &lt;code&gt;Caused by:&lt;/code&gt;&lt;/strong&gt; DOESN&apos;T have a line with a blue text somewhere under it, then look for another &lt;code&gt;Caused by:&lt;/code&gt; that does.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Click on that blue link&lt;/strong&gt;. It should take you to where the problem occured. In my case, it was due to this line:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;RuntimeException&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So, now I know why it&apos;s crashing. It&apos;s because I&apos;m throwing the exception myself. &lt;strong&gt;This was an obvious error&lt;/strong&gt;.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;However, let&apos;s say I got another error:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-undefined&quot;&gt;java.lang.NullPointerException\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I checked my logcat, I clicked on the blue link it gave me, and it took me here:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;mTextView&lt;span class=&quot;hljs-selector-class&quot;&gt;.setText&lt;/span&gt;(myString);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So, now I want to debug. According to &lt;a href=&quot;https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it&quot;&gt;this StackOverflow question&lt;/a&gt;, a NullPointerException says that something is &lt;code&gt;null&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;So, let&apos;s find out &lt;strong&gt;what is null&lt;/strong&gt;. There&apos;s two possibilities. Either &lt;code&gt;mTextView&lt;/code&gt; is null, or &lt;code&gt;myString&lt;/code&gt; is null. To find out, before the &lt;code&gt;mTextView.setText(mString)&lt;/code&gt; line, I add these two lines:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-coffeescript&quot;&gt;Log.d(&lt;span class=&quot;hljs-string&quot;&gt;&quot;AppDebug&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;mTextView is null: &quot;&lt;/span&gt; + &lt;span class=&quot;hljs-built_in&quot;&gt;String&lt;/span&gt;.valueOf(mTextView == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;);\nLog.d(&lt;span class=&quot;hljs-string&quot;&gt;&quot;AppDebug&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;myString is null: &quot;&lt;/span&gt; + &lt;span class=&quot;hljs-built_in&quot;&gt;String&lt;/span&gt;.valueOf(myString== &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now, like we did previously (We changed Verose to Error), we want to change &quot;Error&quot; to &quot;Debug&quot;. Since we&apos;re logging by debugging. Here&apos;s all the Log methods:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-vhdl&quot;&gt;Log.\n  d means Debug\n  e means &lt;span class=&quot;hljs-literal&quot;&gt;error&lt;/span&gt;\n  w means &lt;span class=&quot;hljs-literal&quot;&gt;warning&lt;/span&gt;\n  v means verbose\n  i means information\n  wtf means &lt;span class=&quot;hljs-string&quot;&gt;&quot;What a terrible failure&quot;&lt;/span&gt;. This &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; similar &lt;span class=&quot;hljs-keyword&quot;&gt;to&lt;/span&gt; Log.e\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So, since we used &lt;code&gt;Log.d&lt;/code&gt;, we&apos;re checking in Debug. That&apos;s why we changed it to debug.&lt;/p&gt;\n\n&lt;p&gt;Notice &lt;code&gt;Log.d&lt;/code&gt; has a first parameter,in our case &quot;AppDebug&quot;. Click on the &quot;No Filters&quot; drop down menu on the top-right of the logcat. Select &quot;Edit Filter Configuration&quot;, give a name to your filter, and in &quot;Log Tag&quot; put &quot;App Debug&quot;. Click &quot;OK&quot;. Now, you should see two lines in the logcat:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;yourPackageNameAndApp: mTextView &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;\nyourPackageNameAndApp: myString &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So now we know that mTextView is null. &lt;/p&gt;\n\n&lt;p&gt;I observe my code, now I notice something.&lt;/p&gt;\n\n&lt;p&gt;I have &lt;code&gt;private TextView mTextView&lt;/code&gt; declared at the top of my class. But, I&apos;m not defining it.&lt;/p&gt;\n\n&lt;p&gt;Basically I forgot to do this in my onCreate():&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ini&quot;&gt;&lt;span class=&quot;hljs-attr&quot;&gt;mTextView&lt;/span&gt; = (TextView) findViewById(R.id.textview_id_in_xml)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So THAT&apos;S why &lt;code&gt;mTextView&lt;/code&gt; is null, because I forgot to tell my app what it is. So I add that line, run my app, and now the app doesn&apos;t crash.&lt;/p&gt;\n\n&lt;hr&gt;\n    ","\n&lt;p&gt;This popup shows only when you get a fatal exception in your code which stops the execution of the app. It could be any exception &lt;code&gt;NullPointerException&lt;/code&gt;, &lt;code&gt;OutOfMemoryException&lt;/code&gt; etc.&lt;/p&gt;\n\n&lt;p&gt;Best way to check is through &lt;em&gt;Logcat&lt;/em&gt; if you are still developing the app in Android studio which is quick way to read stack trace and check the cause of the app.&lt;/p&gt;\n\n&lt;p&gt;If your app is already live, then you can not use &lt;em&gt;logcat&lt;/em&gt;. So, for that you can implement &lt;code&gt;Crashlytics&lt;/code&gt; to provide you bug reports of any exception that occurs.&lt;/p&gt;\n    ","\n&lt;p&gt;Check your &lt;code&gt;Logcat&lt;/code&gt; message and see your &lt;code&gt;Manifest&lt;/code&gt; file. There should be something missing like defining the &lt;code&gt;Activity,&lt;/code&gt;User permission`, etc.&lt;/p&gt;\n    ","\n&lt;p&gt;You can use any of these tools:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;adb logcat&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;adb logcat &amp;gt; logs.txt (you can use editors to open and search errors.)&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;eclipse logcat (If not visible in eclipse, Go to Windows-&amp;gt;Show View-&amp;gt;Others-&amp;gt;Android-&amp;gt;LogCat)&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Android Debug Monitor or Android Device Monitor(type command &lt;strong&gt;monitor&lt;/strong&gt; or open through UI)&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/4RoQc.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/4RoQc.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;ol start=&quot;5&quot;&gt;\n&lt;li&gt;Android Studio&lt;/li&gt;\n&lt;/ol&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;I suggest to use &lt;strong&gt;Android Debug Monitor&lt;/strong&gt;, it is good. Because eclipse hangs when too many logs are there, and through adb logcat filter and all difficult.&lt;/p&gt;\n    ","\n&lt;p&gt;You have to check the &lt;code&gt;Stack trace&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;How to do that?&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;on Your IDE Check the windows form LOGCAT &lt;/p&gt;\n\n&lt;p&gt;If you cant see the logcat windows go to this path and open it &lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-rust&quot;&gt;window&lt;span class=&quot;hljs-punctuation&quot;&gt;-&amp;gt;&lt;/span&gt;show view&lt;span class=&quot;hljs-punctuation&quot;&gt;-&amp;gt;&lt;/span&gt;others&lt;span class=&quot;hljs-punctuation&quot;&gt;-&amp;gt;&lt;/span&gt;Android&lt;span class=&quot;hljs-punctuation&quot;&gt;-&amp;gt;&lt;/span&gt;Logcat\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;if you are using Google-Api go to this path &lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;adb logcat &amp;gt; logcat.txt&lt;/em&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;In below showToast() method you have to pass another parameter for context or application context by doing so you can try it.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;showToast&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(String error, Context applicationContext)&lt;/span&gt;{\n        &lt;span class=&quot;hljs-type&quot;&gt;LayoutInflater&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;inflater&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; getLayoutInflater();\n        &lt;span class=&quot;hljs-type&quot;&gt;View&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; inflater.inflate(R.layout.custom_toast, (ViewGroup)      \n        findViewById(R.id.toast_root));\n        &lt;span class=&quot;hljs-type&quot;&gt;TextView&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (TextView) findViewById(R.id.toast_error);\n        text.setText(error);\n        &lt;span class=&quot;hljs-type&quot;&gt;Toast&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;toast&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Toast&lt;/span&gt;(applicationContext);\n        toast.setGravity(Gravity.TOP | Gravity.FILL_HORIZONTAL, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n        toast.setDuration(Toast.LENGTH_SHORT);\n        toast.setView(view);\n        toast.show();\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Let me share a basic Logcat analysis for when you meet a Force Close (when the app stops working).&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;DOCS&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;The basic tool from Android to collect/analyze logs is the logcat. &lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://developer.android.com/studio/command-line/logcat.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;HERE&lt;/a&gt; is the Android&apos;s page about logcat&lt;/p&gt;\n\n&lt;p&gt;If you use android Studio, you can also check this &lt;a href=&quot;https://developer.android.com/studio/debug/index.html#systemLogView&quot; rel=&quot;nofollow noreferrer&quot;&gt;LINK&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Capturing&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Basically, you can MANUALLY capture logcat with the following command (or just check AndroidMonitor window in AndroidStudio):&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-undefined&quot;&gt;adb logcat\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;There&apos;s a lot of parameters you can add to the command which helps you to filter and display the message that you want... This is personal...  I always use the command below to get the message timestamp:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;adb logcat -v &lt;span class=&quot;hljs-selector-tag&quot;&gt;time&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You can redirect the output to a file and analyze it in a Text Editor.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Analyzing&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;If you app is Crashing, you&apos;ll get something like:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-number&quot;&gt;07&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;09&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;08&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;29&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;13.474&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;21144&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;21144&lt;/span&gt;/com.example.khan.abc D/AndroidRuntime: Shutting down VM\n&lt;span class=&quot;hljs-number&quot;&gt;07&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;09&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;08&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;29&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;13.475&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;21144&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;21144&lt;/span&gt;/com.example.khan.abc E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.khan.abc, PID: &lt;span class=&quot;hljs-number&quot;&gt;21144&lt;/span&gt;\n    java.lang.NullPointerException: Attempt to invoke virtual method &lt;span class=&quot;hljs-string&quot;&gt;&apos;void android.support.v4.app.FragmentActivity.onBackPressed()&apos;&lt;/span&gt; on a &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;object&lt;/span&gt; reference\n     at com.example.khan.abc.AudioFragment$&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;.&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;onClick&lt;/span&gt;(AudioFragment.&lt;span class=&quot;hljs-attr&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;125&lt;/span&gt;)\n     at android.view.View.&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;performClick&lt;/span&gt;(View.&lt;span class=&quot;hljs-attr&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4848&lt;/span&gt;)\n     at android.view.View&lt;span class=&quot;hljs-variable&quot;&gt;$PerformClick&lt;/span&gt;.&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;run&lt;/span&gt;(View.&lt;span class=&quot;hljs-attr&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;20262&lt;/span&gt;)\n     at android.os.Handler.&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;handleCallback&lt;/span&gt;(Handler.&lt;span class=&quot;hljs-attr&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;815&lt;/span&gt;)\n     at android.os.Handler.&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;dispatchMessage&lt;/span&gt;(Handler.&lt;span class=&quot;hljs-attr&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;104&lt;/span&gt;)\n     at android.os.Looper.&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;loop&lt;/span&gt;(Looper.&lt;span class=&quot;hljs-attr&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;194&lt;/span&gt;)\n     at android.app.ActivityThread.&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;main&lt;/span&gt;(ActivityThread.&lt;span class=&quot;hljs-attr&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;5631&lt;/span&gt;)\n     at java.lang.reflect.Method.&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;invoke&lt;/span&gt;(Native Method)\n     at java.lang.reflect.Method.&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;invoke&lt;/span&gt;(Method.&lt;span class=&quot;hljs-attr&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;372&lt;/span&gt;)\n     at com.android.internal.os.ZygoteInit&lt;span class=&quot;hljs-variable&quot;&gt;$MethodAndArgsCaller&lt;/span&gt;.&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;run&lt;/span&gt;(ZygoteInit.&lt;span class=&quot;hljs-attr&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;959&lt;/span&gt;)\n     at com.android.internal.os.ZygoteInit.&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;main&lt;/span&gt;(ZygoteInit.&lt;span class=&quot;hljs-attr&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;754&lt;/span&gt;)\n&lt;span class=&quot;hljs-number&quot;&gt;07&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;09&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;08&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;29&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;15.195&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;21144&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;21144&lt;/span&gt;/com.example.khan.abc I/Process: Sending signal. PID: &lt;span class=&quot;hljs-number&quot;&gt;21144&lt;/span&gt; SIG: &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This part of the log shows you a lot of information:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;When the issue happened: &lt;code&gt;07-09 08:29:13.475&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;It is important to check when the issue happened... You may find several errors in a log... you must be sure that you are checking the proper messages :)&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Which app crashed: &lt;code&gt;com.example.khan.abc&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;This way, you know which app crashed (to be sure that you are checking the logs about your message)&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Which ERROR: &lt;code&gt;java.lang.NullPointerException&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;A NULL Pointer Exception error&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Detailed info about the error: &lt;code&gt;Attempt to invoke virtual method &apos;void android.support.v4.app.FragmentActivity.onBackPressed()&apos; on a null object reference&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;You tried to call method &lt;code&gt;onBackPressed()&lt;/code&gt; from a &lt;code&gt;FragmentActivity&lt;/code&gt; object. However, that object was &lt;code&gt;null&lt;/code&gt; when you did it.&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;Stack Trace: Stack Trace shows you the method invocation order... Sometimes, the error happens in the calling method (and not in the called method).&lt;/p&gt;\n\n&lt;p&gt;at com.example.khan.abc.AudioFragment$1.onClick(AudioFragment.java:125)&lt;/p&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Error happened in file &lt;code&gt;com.example.khan.abc.AudioFragment.java&lt;/code&gt;, inside &lt;code&gt;onClick()&lt;/code&gt; method at line: &lt;code&gt;125&lt;/code&gt; (stacktrace shows the line that error happened)&lt;/p&gt;\n\n&lt;p&gt;It was called by:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-vhdl&quot;&gt;at android.&lt;span class=&quot;hljs-keyword&quot;&gt;view&lt;/span&gt;.&lt;span class=&quot;hljs-keyword&quot;&gt;View&lt;/span&gt;.performClick(&lt;span class=&quot;hljs-keyword&quot;&gt;View&lt;/span&gt;.java:&lt;span class=&quot;hljs-number&quot;&gt;4848&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Which was called by:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-vhdl&quot;&gt;at android.&lt;span class=&quot;hljs-keyword&quot;&gt;view&lt;/span&gt;.&lt;span class=&quot;hljs-keyword&quot;&gt;View&lt;/span&gt;$PerformClick.run(&lt;span class=&quot;hljs-keyword&quot;&gt;View&lt;/span&gt;.java:&lt;span class=&quot;hljs-number&quot;&gt;20262&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;which was called by:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-less&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;at&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;android&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.os&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.Handler&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.handleCallback&lt;/span&gt;(Handler.&lt;span class=&quot;hljs-attribute&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;815&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;etc....&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Overview&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;This was just an overview... Not all logs are simple but the error gives specific problem and verbose shows up all problem ... It is just to share the idea and provide entry-level information to you... &lt;/p&gt;\n\n&lt;p&gt;I hope I could help you someway...\nRegards&lt;/p&gt;\n    ","\n&lt;p&gt;Use the &lt;strong&gt;LogCat&lt;/strong&gt; and try to find what is causing the app to crash.&lt;/p&gt;\n\n&lt;p&gt;To see Logcat if you use &lt;strong&gt;Android Studio&lt;/strong&gt; then Press &lt;strong&gt;ALT + 6&lt;/strong&gt;\nor&lt;/p&gt;\n\n&lt;p&gt;if you use &lt;strong&gt;Eclipse&lt;/strong&gt; then \n&lt;strong&gt;Window -&amp;gt; Open Perspective -&amp;gt; Other - LogCat&lt;/strong&gt; &lt;/p&gt;\n\n&lt;p&gt;Go to the LogCat, from the drop down menu select error. This will contain all the required information to help you debug. If that doesn&apos;t help, post the LogCat as an edit to your question and somebody will help you out.&lt;/p&gt;\n    ","\n&lt;p&gt;If your app for some reason crashes without good stacktrace. Try debug it from first line, and go line by line until crash. Then you will have answer, which line is causing you trouble. Proably you could then wrapp it into try catch block and print error output.&lt;/p&gt;\n    ","\n&lt;p&gt;You can also get this error message on its own, without any stack trace or any further error message.&lt;/p&gt;\n\n&lt;p&gt;In this case you need to make sure your Android manifest is configured correctly (including any manifest merging happening from a library and any activity that would come from a library), and pay particular attention to the first activity displayed in your application in your manifest files.&lt;/p&gt;\n    ","\n&lt;p&gt;People make mistakes, and so coding as well. &lt;/p&gt;\n\n&lt;p&gt;When ever any &lt;code&gt;error&lt;/code&gt; happened, always check with the logcat with the text in red color however u can find out the &lt;em&gt;real problem in blue color text with underline&lt;/em&gt; in those red color text. &lt;/p&gt;\n\n&lt;p&gt;Make sure if u create a new &lt;code&gt;activity&lt;/code&gt;, always declare the &lt;code&gt;activity&lt;/code&gt; in the &lt;code&gt;AndroidManifest&lt;/code&gt; file.&lt;/p&gt;\n\n&lt;p&gt;If adding Permission, declare it in the &lt;code&gt;AndroidMainifest&lt;/code&gt; file as well.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Logcat&lt;/strong&gt; - &lt;strong&gt;To check the logs in the development phase of Android Studio&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Initially clear the Logcat and let the app crash again so you can get only crashed log detail. You have to check the Stack trace&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;While, Unfortunately, MyApp has stopped. There are many reasons for it. You can check same in logs. For this, you can use the Log.e(&quot;TAG&quot;,&quot;Message&quot;);&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;strong&gt;Common error during app crash like:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Coding mistake(Wrong use of keywords).&lt;/li&gt;\n&lt;li&gt;Mismatch property name.&lt;/li&gt;\n&lt;li&gt;Unsupported plugin(maybe).&lt;/li&gt;\n&lt;li&gt;Mismatch version(maybe).&lt;/li&gt;\n&lt;li&gt;Activity missing in AndroidManifest file.&lt;/li&gt;\n&lt;li&gt;Permission missing in AndroidManifest file.&lt;/li&gt;\n&lt;li&gt;Most common NullPointerException.&lt;/li&gt;\n&lt;li&gt;Declared but not defined.&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;&lt;strong&gt;To resolve app crash error:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Keep in mind above points and go through it.&lt;/li&gt;\n&lt;li&gt;With the error, you will get the file name also in blue colour (click on them and jump to code from error is occurring).&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;h3&gt;Crash during development&lt;/h3&gt;\n\n&lt;p&gt;Try my favourite tool &lt;a href=&quot;https://bitbucket.org/mlopatkin/android-log-viewer/downloads/&quot; rel=&quot;nofollow noreferrer&quot;&gt;logview&lt;/a&gt; to get the logs and analyze them during development.&lt;br&gt;\nMake sure to mark &lt;code&gt;./logview&lt;/code&gt; and &lt;code&gt;./lib/logview.jar&lt;/code&gt; as executable when running in Linux.&lt;/p&gt;\n\n&lt;p&gt;If you don&apos;t like it, there&apos;re a lot of alternative &lt;a href=&quot;https://stackoverflow.com/q/4325073/1429387&quot;&gt;desktop log viewers for Android&lt;/a&gt;.&lt;/p&gt;\n\n&lt;h3&gt;Crash in the wild&lt;/h3&gt;\n\n&lt;p&gt;Integrate a real-time crash reporting tool such as &lt;a href=&quot;https://firebase.google.com/docs/crashlytics&quot; rel=&quot;nofollow noreferrer&quot;&gt;Firebase Crashlytics&lt;/a&gt; in order to get stacktraces of unhandled exceptions which occurred on users&apos; devices.&lt;/p&gt;\n\n&lt;p&gt;Read &lt;a href=&quot;https://tech.trello.com/how-to-release-a-buggy-app-and-live-to-tell-the-story/&quot; rel=&quot;nofollow noreferrer&quot;&gt;How to Release a Buggy App (And Live to Tell the Tale)&lt;/a&gt; to know more about handling bugs in the field.&lt;/p&gt;\n    ","\n&lt;p&gt;If you don&apos;t have any kind of interesting log in your terminal (or they are not directly related to your app), maybe your problem is due to a native library. In that case, you should check for the &quot;tombstone&quot; files within your terminal. &lt;/p&gt;\n\n&lt;p&gt;The default location for the tombstone files depends on every device, but if that&apos;s the case, you will have a log telling: &lt;code&gt;Tombstone written to: /data/tombstones/tombstone_06&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;For more information, check on &lt;a href=&quot;https://source.android.com/devices/tech/debug&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://source.android.com/devices/tech/debug&lt;/a&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;First, you need to check where and why your app has been crashed &lt;code&gt;(Unfortunately, MyApp has stopped.).&lt;/code&gt; With the help of &lt;code&gt;LOG&lt;/code&gt;, you can figure it out what went wrong.&lt;/p&gt;\n\n&lt;p&gt;After that, you find which point your app has stopped fix that from your point.&lt;/p&gt;\n    ","\n&lt;p&gt;Also running this command in terminal can help find the problem:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;gradlew build &amp;gt; log&lt;span class=&quot;hljs-selector-class&quot;&gt;.txt&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&amp;gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;details&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.txt&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;then you should go to gradlew file location in read two above log files.&lt;/p&gt;\n    ","\n&lt;p&gt;I&apos;ll Suggest something like this.&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;Check if your phone has good enough space that the app can run----prior/&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Check the logcat when the app crashes. It will show the exact line where the app crashed.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Check if you are using something on the main thread that uses a lot of memory due to ANR.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n    ","\n&lt;p&gt;If your app crashed &lt;strong&gt;without any errors&lt;/strong&gt;, and &lt;strong&gt;you didn&apos;t use an asset manager&lt;/strong&gt; but loaded the textures like:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;Texture&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;texture&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Texture&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;myImage.png&quot;&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;//dont to this all the time&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;then that&apos;s the problem. I had that happen to me. You should always use an asset manager to avoid a memory overload.&lt;/p&gt;\n    "],"50":["\n&lt;p&gt;By using the &lt;code&gt;merge&lt;/code&gt; function and its optional parameters:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;&lt;em&gt;Inner join:&lt;/em&gt;&lt;/strong&gt; &lt;code&gt;merge(df1, df2)&lt;/code&gt; will work for these examples because R automatically joins the frames by common variable names, but you would most likely want to specify &lt;code&gt;merge(df1, df2, by = &quot;CustomerId&quot;)&lt;/code&gt; to make sure that you were matching on only the fields you desired.  You can also use the &lt;code&gt;by.x&lt;/code&gt; and &lt;code&gt;by.y&lt;/code&gt; parameters if the matching variables have different names in the different data frames.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;&lt;em&gt;Outer join:&lt;/em&gt;&lt;/strong&gt; &lt;code&gt;merge(x = df1, y = df2, by = &quot;CustomerId&quot;, all = TRUE)&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;&lt;em&gt;Left outer:&lt;/em&gt;&lt;/strong&gt; &lt;code&gt;merge(x = df1, y = df2, by = &quot;CustomerId&quot;, all.x = TRUE)&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;&lt;em&gt;Right outer:&lt;/em&gt;&lt;/strong&gt; &lt;code&gt;merge(x = df1, y = df2, by = &quot;CustomerId&quot;, all.y = TRUE)&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;&lt;em&gt;Cross join:&lt;/em&gt;&lt;/strong&gt; &lt;code&gt;merge(x = df1, y = df2, by = NULL)&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strike&gt;Just as with the inner join, you would probably want to explicitly pass &quot;CustomerId&quot; to R as the matching variable.&lt;/strike&gt;  I think it&apos;s almost always best to explicitly state the identifiers on which you want to merge; it&apos;s safer if the input data.frames change unexpectedly and easier to read later on.&lt;/p&gt;\n\n&lt;p&gt;You can merge on multiple columns by giving &lt;code&gt;by&lt;/code&gt; a vector, e.g., &lt;code&gt;by = c(&quot;CustomerId&quot;, &quot;OrderId&quot;)&lt;/code&gt;. &lt;/p&gt;\n\n&lt;p&gt;If the column names to merge on are not the same, you can specify, e.g., &lt;code&gt;by.x = &quot;CustomerId_in_df1&quot;, by.y = &quot;CustomerId_in_df2&quot;&lt;/code&gt; where &lt;code&gt;CustomerId_in_df1&lt;/code&gt; is the name of the column in the first data frame and &lt;code&gt;CustomerId_in_df2&lt;/code&gt; is the name of the column in the second data frame. (These can also be vectors if you need to merge on multiple columns.)&lt;/p&gt;\n    ","\n&lt;p&gt;I would recommend checking out &lt;a href=&quot;http://cran.r-project.org/web/packages/sqldf/index.html&quot; rel=&quot;noreferrer&quot;&gt;Gabor Grothendieck&apos;s sqldf package&lt;/a&gt;, which allows you to express these operations in SQL.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;## inner join&lt;/span&gt;\ndf3 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;SELECT CustomerId, Product, State \n              FROM df1\n              JOIN df2 USING(CustomerID)&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;## left join (substitute &apos;right&apos; for right join)&lt;/span&gt;\ndf4 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;SELECT CustomerId, Product, State \n              FROM df1\n              LEFT JOIN df2 USING(CustomerID)&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I find the SQL syntax to be simpler and more natural than its R equivalent (but this may just reflect my RDBMS bias).&lt;/p&gt;\n\n&lt;p&gt;See &lt;a href=&quot;https://github.com/ggrothendieck/sqldf#example-4-join&quot; rel=&quot;noreferrer&quot;&gt;Gabor&apos;s sqldf GitHub&lt;/a&gt; for more information on joins. &lt;/p&gt;\n    ","\n&lt;p&gt;There is the &lt;strong&gt;data.table&lt;/strong&gt; approach for an inner join, which is very time and memory efficient (and necessary for some larger data.frames):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\ndt1 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; key &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;CustomerId&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; \ndt2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; key &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;CustomerId&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\njoined.dt1.dt.2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;code&gt;merge&lt;/code&gt; also works on data.tables (as it is generic and calls &lt;code&gt;merge.data.table&lt;/code&gt;)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;merge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;data.table documented on stackoverflow:&lt;br&gt;\n&lt;a href=&quot;https://stackoverflow.com/questions/2232699/r-how-to-do-a-data-table-merge-operation&quot;&gt;How to do a data.table merge operation&lt;/a&gt;&lt;br&gt;\n&lt;a href=&quot;https://stackoverflow.com/questions/9914734/translating-sql-joins-on-foreign-keys-to-r-data-table-syntax&quot;&gt;Translating SQL joins on foreign keys to R data.table syntax&lt;/a&gt;&lt;br&gt;\n&lt;a href=&quot;https://stackoverflow.com/questions/11146967/efficient-alternatives-to-merge-for-larger-data-frames-r&quot;&gt;Efficient alternatives to merge for larger data.frames R&lt;/a&gt;&lt;br&gt;\n&lt;a href=&quot;https://stackoverflow.com/questions/7090621/how-to-do-a-basic-left-outer-join-with-data-table-in-r&quot;&gt;How to do a basic left outer join with data.table in R?&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Yet another option is the &lt;code&gt;join&lt;/code&gt; function found in the &lt;a href=&quot;http://cran.r-project.org/web/packages/plyr/index.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;strong&gt;plyr&lt;/strong&gt;&lt;/a&gt; package&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\njoin&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n     type &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;inner&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;#   CustomerId Product   State&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1          2 Toaster Alabama&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2          4   Radio Alabama&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 3          6   Radio    Ohio&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Options for &lt;code&gt;type&lt;/code&gt;: &lt;code&gt;inner&lt;/code&gt;, &lt;code&gt;left&lt;/code&gt;, &lt;code&gt;right&lt;/code&gt;, &lt;code&gt;full&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;From &lt;code&gt;?join&lt;/code&gt;: Unlike &lt;code&gt;merge&lt;/code&gt;, [&lt;code&gt;join&lt;/code&gt;] preserves the order of x no matter what join type is used.&lt;/p&gt;\n    ","\n&lt;p&gt;You can do joins as well using Hadley Wickham&apos;s awesome &lt;a href=&quot;http://blog.rstudio.org/2014/01/17/introducing-dplyr/&quot;&gt;dplyr&lt;/a&gt; package.  &lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;#make sure that CustomerId cols are both type numeric&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#they ARE not using the provided code in question and dplyr will complain&lt;/span&gt;\ndf1&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;CustomerId &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;CustomerId&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndf2&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;CustomerId &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df2&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;CustomerId&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;Mutating joins: add columns to df1 using matches in df2&lt;/h2&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;#inner&lt;/span&gt;\ninner_join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;#left outer&lt;/span&gt;\nleft_join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;#right outer&lt;/span&gt;\nright_join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;#alternate right outer&lt;/span&gt;\nleft_join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;#full join&lt;/span&gt;\nfull_join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;Filtering joins: filter out rows in df1, don&apos;t modify columns&lt;/h2&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;semi_join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;#keep only observations in df1 that match in df2.&lt;/span&gt;\nanti_join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;#drops all observations in df1 that match in df2.&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;There are some good examples of doing this over at the &lt;a href=&quot;http://wiki.r-project.org/rwiki/doku.php?id=tips:data-frames:merge&quot; rel=&quot;noreferrer&quot;&gt;R Wiki&lt;/a&gt;. I&apos;ll steal a couple here:&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Merge Method&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;Since your keys are named the same the short way to do an inner join is merge():&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;merge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;a full inner join (all records from both tables) can be created with the &quot;all&quot; keyword:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;merge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;a left outer join of df1 and df2:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;merge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; all.x&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;a right outer join of df1 and df2:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;merge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; all.y&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;you can flip &apos;em, slap &apos;em and rub &apos;em down to get the other two outer joins you asked about :)&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Subscript Method&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;A left outer join with df1 on the left using a subscript method would be:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;State&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Product&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;State&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The other combination of outer joins can be created by mungling the left outer join subscript example. (yeah, I know that&apos;s the equivalent of saying &quot;I&apos;ll leave it as an exercise for the reader...&quot;)&lt;/p&gt;\n    ","\n&lt;p&gt;New in 2014: &lt;/p&gt;\n\n&lt;p&gt;Especially if you&apos;re also interested in data manipulation in general (including sorting, filtering, subsetting, summarizing etc.), you should definitely take a look at &lt;code&gt;dplyr&lt;/code&gt;, which comes with a variety of functions all designed to facilitate your work specifically with data frames and certain other database types. It even offers quite an elaborate SQL interface, and even a function to convert (most) SQL code directly into R.&lt;/p&gt;\n\n&lt;p&gt;The four joining-related functions in the dplyr package are (to quote):&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;inner_join(x, y, by = NULL, copy = FALSE, ...)&lt;/code&gt;: return all rows from\nx where there are matching values in y, and all columns from x and y &lt;/li&gt;\n&lt;li&gt;&lt;code&gt;left_join(x, y, by = NULL, copy = FALSE, ...)&lt;/code&gt;: return all rows from x, and all columns from x and y &lt;/li&gt;\n&lt;li&gt;&lt;code&gt;semi_join(x, y, by = NULL, copy = FALSE, ...)&lt;/code&gt;: return all rows from x where there are matching values in\ny, keeping just columns from x.  &lt;/li&gt;\n&lt;li&gt;&lt;code&gt;anti_join(x, y, by = NULL, copy = FALSE, ...)&lt;/code&gt;: return all rows from x\nwhere there are not matching values in y, keeping just columns from x&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;It&apos;s all &lt;a href=&quot;http://cran.r-project.org/web/packages/dplyr/vignettes/introduction.html&quot; rel=&quot;noreferrer&quot;&gt;here&lt;/a&gt; in great detail.&lt;/p&gt;\n\n&lt;p&gt;Selecting columns can be done by &lt;code&gt;select(df,&quot;column&quot;)&lt;/code&gt;. If that&apos;s not SQL-ish enough for you, then there&apos;s the &lt;code&gt;sql()&lt;/code&gt; function, into which you can enter SQL code as-is, and it will do the operation you specified just like you were writing in R all along (for more information, please refer to the &lt;a href=&quot;http://cran.r-project.org/web/packages/dplyr/vignettes/databases.html&quot; rel=&quot;noreferrer&quot;&gt;dplyr/databases vignette&lt;/a&gt;). For example, if applied correctly, &lt;code&gt;sql(&quot;SELECT * FROM hflights&quot;)&lt;/code&gt; will select all the columns from the &quot;hflights&quot; dplyr table (a &quot;tbl&quot;).&lt;/p&gt;\n    ","\n&lt;p&gt;Update on data.table methods for joining datasets. See below examples for each type of join. There are two methods, one from &lt;code&gt;[.data.table&lt;/code&gt; when passing second data.table as the first argument to subset, another way is to use &lt;code&gt;merge&lt;/code&gt; function which dispatches to fast data.table method.  &lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;df1 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;CustomerId &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; Product &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Toaster&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Radio&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndf2 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;CustomerId &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;4L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;7L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; State &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Alabama&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Ohio&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;# one value changed to show full outer join&lt;/span&gt;\n\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\ndt1 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndt2 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nsetkey&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; CustomerId&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nsetkey&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; CustomerId&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# right outer join keyed data.tables&lt;/span&gt;\ndt1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n\nsetkey&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nsetkey&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# right outer join unkeyed data.tables - use `on` argument&lt;/span&gt;\ndt1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; on &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;CustomerId&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# left outer join - swap dt1 with dt2&lt;/span&gt;\ndt2&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; on &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;CustomerId&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# inner join - use `nomatch` argument&lt;/span&gt;\ndt1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; nomatch&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; on &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;CustomerId&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# anti join - use `!` operator&lt;/span&gt;\ndt1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;!&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; on &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;CustomerId&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# inner join - using merge method&lt;/span&gt;\nmerge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;CustomerId&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# full outer join&lt;/span&gt;\nmerge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;CustomerId&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;all&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# see ?merge.data.table arguments for other cases&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Below benchmark tests base R, sqldf, dplyr and data.table.&lt;br&gt;\nBenchmark tests unkeyed/unindexed datasets.\nBenchmark is performed on 50M-1 rows datasets, there are 50M-2 common values on join column so each scenario (inner, left, right, full) can be tested and join is still not trivial to perform. It is type of join which well stress join algorithms. Timings are as of &lt;code&gt;sqldf:0.4.11&lt;/code&gt;, &lt;code&gt;dplyr:0.7.8&lt;/code&gt;, &lt;code&gt;data.table:1.12.0&lt;/code&gt;.  &lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# inner&lt;/span&gt;\nUnit&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; seconds\n   expr       &lt;span class=&quot;hljs-built_in&quot;&gt;min&lt;/span&gt;        lq      mean    median        uq       &lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt; neval\n   base &lt;span class=&quot;hljs-number&quot;&gt;111.66266&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;111.66266&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;111.66266&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;111.66266&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;111.66266&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;111.66266&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n  sqldf &lt;span class=&quot;hljs-number&quot;&gt;624.88388&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;624.88388&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;624.88388&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;624.88388&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;624.88388&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;624.88388&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n  dplyr  &lt;span class=&quot;hljs-number&quot;&gt;51.91233&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;51.91233&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;51.91233&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;51.91233&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;51.91233&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;51.91233&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n     DT  &lt;span class=&quot;hljs-number&quot;&gt;10.40552&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;10.40552&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;10.40552&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;10.40552&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;10.40552&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;10.40552&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# left&lt;/span&gt;\nUnit&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; seconds\n   expr        &lt;span class=&quot;hljs-built_in&quot;&gt;min&lt;/span&gt;         lq       mean     median         uq        &lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt; \n   base &lt;span class=&quot;hljs-number&quot;&gt;142.782030&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;142.782030&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;142.782030&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;142.782030&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;142.782030&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;142.782030&lt;/span&gt;     \n  sqldf &lt;span class=&quot;hljs-number&quot;&gt;613.917109&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;613.917109&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;613.917109&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;613.917109&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;613.917109&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;613.917109&lt;/span&gt;     \n  dplyr  &lt;span class=&quot;hljs-number&quot;&gt;49.711912&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;49.711912&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;49.711912&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;49.711912&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;49.711912&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;49.711912&lt;/span&gt;     \n     DT   &lt;span class=&quot;hljs-number&quot;&gt;9.674348&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;9.674348&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;9.674348&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;9.674348&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;9.674348&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;9.674348&lt;/span&gt;       \n&lt;span class=&quot;hljs-comment&quot;&gt;# right&lt;/span&gt;\nUnit&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; seconds\n   expr        &lt;span class=&quot;hljs-built_in&quot;&gt;min&lt;/span&gt;         lq       mean     median         uq        &lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;\n   base &lt;span class=&quot;hljs-number&quot;&gt;122.366301&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;122.366301&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;122.366301&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;122.366301&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;122.366301&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;122.366301&lt;/span&gt;     \n  sqldf &lt;span class=&quot;hljs-number&quot;&gt;611.119157&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;611.119157&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;611.119157&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;611.119157&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;611.119157&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;611.119157&lt;/span&gt;     \n  dplyr  &lt;span class=&quot;hljs-number&quot;&gt;50.384841&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;50.384841&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;50.384841&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;50.384841&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;50.384841&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;50.384841&lt;/span&gt;     \n     DT   &lt;span class=&quot;hljs-number&quot;&gt;9.899145&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;9.899145&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;9.899145&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;9.899145&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;9.899145&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;9.899145&lt;/span&gt;     \n&lt;span class=&quot;hljs-comment&quot;&gt;# full&lt;/span&gt;\nUnit&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; seconds\n  expr       &lt;span class=&quot;hljs-built_in&quot;&gt;min&lt;/span&gt;        lq      mean    median        uq       &lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt; neval\n  base &lt;span class=&quot;hljs-number&quot;&gt;141.79464&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;141.79464&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;141.79464&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;141.79464&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;141.79464&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;141.79464&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n dplyr  &lt;span class=&quot;hljs-number&quot;&gt;94.66436&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;94.66436&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;94.66436&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;94.66436&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;94.66436&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;94.66436&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n    DT  &lt;span class=&quot;hljs-number&quot;&gt;21.62573&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;21.62573&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;21.62573&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;21.62573&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;21.62573&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;21.62573&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Be aware there are other types of joins you can perform using &lt;code&gt;data.table&lt;/code&gt;:&lt;br&gt;\n  - &lt;a href=&quot;https://stackoverflow.com/q/3190118/2490497&quot;&gt;update on join&lt;/a&gt; - if you want to lookup values from another table to your main table&lt;br&gt;\n  - &lt;a href=&quot;https://stackoverflow.com/q/41684012/2490497&quot;&gt;aggregate on join&lt;/a&gt; - if you want to aggregate on key you are joining you do not have to materialize all join results&lt;br&gt;\n  - &lt;a href=&quot;https://stackoverflow.com/q/25815032/2490497&quot;&gt;overlapping join&lt;/a&gt; - if you want to merge by ranges&lt;br&gt;\n  - &lt;a href=&quot;https://stackoverflow.com/q/12030932/2490497&quot;&gt;rolling join&lt;/a&gt; - if you want merge to be able to match to values from preceeding/following rows by rolling them forward or backward&lt;br&gt;\n  - &lt;a href=&quot;https://stackoverflow.com/q/41043047/2490497&quot;&gt;non-equi join&lt;/a&gt; - if your join condition is non-equal  &lt;/p&gt;\n\n&lt;p&gt;Code to reproduce:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;microbenchmark&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nsapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;sqldf&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;dplyr&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;data.table&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; packageVersion&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; simplify&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\nn &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;5e7&lt;/span&gt;\nset.seed&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;108&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndf1 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;n&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; y1&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;rnorm&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndf2 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;n&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; y2&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;rnorm&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndt1 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndt2 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\nmb &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# inner join&lt;/span&gt;\nmicrobenchmark&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;times &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n               base &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; merge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n               sqldf &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;SELECT * FROM df1 INNER JOIN df2 ON df1.x = df2.x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n               dplyr &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; inner_join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n               DT &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; nomatch&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; on &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&amp;gt;&lt;/span&gt; mb&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;inner\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# left outer join&lt;/span&gt;\nmicrobenchmark&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;times &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n               base &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; merge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; all.x &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n               sqldf &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;SELECT * FROM df1 LEFT OUTER JOIN df2 ON df1.x = df2.x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n               dplyr &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; left_join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n               DT &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; on &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&amp;gt;&lt;/span&gt; mb&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;left\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# right outer join&lt;/span&gt;\nmicrobenchmark&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;times &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n               base &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; merge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; all.y &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n               sqldf &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;SELECT * FROM df2 LEFT OUTER JOIN df1 ON df2.x = df1.x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n               dplyr &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; right_join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n               DT &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; on &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&amp;gt;&lt;/span&gt; mb&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;right\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# full outer join&lt;/span&gt;\nmicrobenchmark&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;times &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n               base &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; merge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;all&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n               dplyr &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; full_join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n               DT &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; merge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;all&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&amp;gt;&lt;/span&gt; mb&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;full\n\nlapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;mb&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; print&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&amp;gt;&lt;/span&gt; nul\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;dplyr since 0.4 implemented all those joins including &lt;code&gt;outer_join&lt;/code&gt;, but it was worth noting that &lt;strong&gt;for the first few releases prior to 0.4 it used not to offer &lt;code&gt;outer_join&lt;/code&gt;, and as a result there was a lot of really bad hacky workaround user code floating around for quite a while afterwards (you can still find such code in SO, Kaggle answers, github from that period. Hence this answer still serves a useful purpose.)&lt;/strong&gt; &lt;/p&gt;\n\n&lt;p&gt;Join-related &lt;a href=&quot;https://cran.r-project.org/web/packages/dplyr/news/news.html&quot; rel=&quot;noreferrer&quot;&gt;release highlights&lt;/a&gt;:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://blog.rstudio.com/2016/06/27/dplyr-0-5-0/&quot; rel=&quot;noreferrer&quot;&gt;&lt;strong&gt;&lt;em&gt;v0.5&lt;/em&gt;&lt;/strong&gt; (6/2016)&lt;/a&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Handling for POSIXct type, timezones, duplicates, different factor levels. Better errors and warnings.&lt;/li&gt;\n&lt;li&gt;New suffix argument to control what suffix duplicated variable names receive (#1296)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://blog.rstudio.com/2015/01/09/dplyr-0-4-0/&quot; rel=&quot;noreferrer&quot;&gt;&lt;strong&gt;&lt;em&gt;v0.4.0&lt;/em&gt;&lt;/strong&gt; (1/2015)&lt;/a&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;https://github.com/tidyverse/dplyr/issues/96&quot; rel=&quot;noreferrer&quot;&gt;&lt;strong&gt;Implement right join and outer join&lt;/strong&gt; (#96)&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;Mutating joins, which add new variables to one table from matching rows in another. Filtering joins, which filter observations from one table based on whether or not they match an observation in the other table.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://blog.rstudio.com/2014/10/13/dplyr-0-3-2/&quot; rel=&quot;noreferrer&quot;&gt;&lt;strong&gt;&lt;em&gt;v0.3&lt;/em&gt;&lt;/strong&gt; (10/2014)&lt;/a&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Can now left_join by different variables in each table: df1 %&amp;gt;% left_join(df2, c(&quot;var1&quot; = &quot;var2&quot;))&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://blog.rstudio.com/2014/05/21/dplyr-0-2/&quot; rel=&quot;noreferrer&quot;&gt;&lt;strong&gt;&lt;em&gt;v0.2&lt;/em&gt;&lt;/strong&gt; (5/2014)&lt;/a&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;*_join() no longer reorders column names (#324)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;&lt;em&gt;v0.1.3&lt;/em&gt;&lt;/strong&gt; (4/2014)&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;has &lt;strong&gt;inner_join, left_join, semi_join, anti_join&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;outer_join&lt;/strong&gt; not implemented yet, fallback is use base::merge() (or plyr::join())&lt;/li&gt;\n&lt;li&gt;didn&apos;t yet &lt;a href=&quot;https://github.com/hadley/dplyr/issues/96&quot; rel=&quot;noreferrer&quot;&gt;implement right_join and &lt;strong&gt;outer_join&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://groups.google.com/forum/#!topic/manipulatr/OuAPC4VyfIc&quot; rel=&quot;noreferrer&quot;&gt;Hadley mentioning other advantages here&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;one minor feature merge currently has that dplyr doesn&apos;t is &lt;a href=&quot;https://github.com/hadley/dplyr/issues/177&quot; rel=&quot;noreferrer&quot;&gt;the ability to have separate by.x,by.y columns&lt;/a&gt; as e.g. Python pandas does.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Workarounds per hadley&apos;s comments in that issue:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;right_join&lt;/strong&gt;(x,y) is the same as left_join(y,x) in terms of the rows, just the columns will be different orders. Easily worked around with select(new_column_order)&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;outer_join&lt;/strong&gt; is basically union(left_join(x, y), right_join(x, y)) - i.e. preserve all rows in both data frames.&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;For the case of a left join with a &lt;code&gt;0..*:0..1&lt;/code&gt; cardinality or a right join with a &lt;code&gt;0..1:0..*&lt;/code&gt; cardinality it is possible to assign in-place the unilateral columns from the joiner (the &lt;code&gt;0..1&lt;/code&gt; table) directly onto the joinee (the &lt;code&gt;0..*&lt;/code&gt; table), and thereby avoid the creation of an entirely new table of data. This requires matching the key columns from the joinee into the joiner and indexing+ordering the joiner&apos;s rows accordingly for the assignment.&lt;/p&gt;\n\n&lt;p&gt;If the key is a single column, then we can use a single call to &lt;a href=&quot;https://stat.ethz.ch/R-manual/R-devel/library/base/html/match.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;match()&lt;/code&gt;&lt;/a&gt; to do the matching. This is the case I&apos;ll cover in this answer.&lt;/p&gt;\n\n&lt;p&gt;Here&apos;s an example based on the OP, except I&apos;ve added an extra row to &lt;code&gt;df2&lt;/code&gt; with an id of 7 to test the case of a non-matching key in the joiner. This is effectively &lt;code&gt;df1&lt;/code&gt; left join &lt;code&gt;df2&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;df1 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;CustomerId&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;Product&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Toaster&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Radio&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\ndf2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;CustomerId&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;State&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Alabama&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Ohio&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Texas&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\ndf1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;match&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;;\ndf1;\n&lt;span class=&quot;hljs-comment&quot;&gt;##   CustomerId Product   State&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 1          1 Toaster    &amp;lt;NA&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 2          2 Toaster Alabama&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 3          3 Toaster    &amp;lt;NA&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 4          4   Radio Alabama&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 5          5   Radio    &amp;lt;NA&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 6          6   Radio    Ohio&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;In the above I hard-coded an assumption that the key column is the first column of both input tables. I would argue that, in general, this is not an unreasonable assumption, since, if you have a data.frame with a key column, it would be strange if it had not been set up as the first column of the data.frame from the outset. And you can always reorder the columns to make it so. An advantageous consequence of this assumption is that the name of the key column does not have to be hard-coded, although I suppose it&apos;s just replacing one assumption with another. Concision is another advantage of integer indexing, as well as speed. In the benchmarks below I&apos;ll change the implementation to use string name indexing to match the competing implementations.&lt;/p&gt;\n\n&lt;p&gt;I think this is a particularly appropriate solution if you have several tables that you want to left join against a single large table. Repeatedly rebuilding the entire table for each merge would be unnecessary and inefficient.&lt;/p&gt;\n\n&lt;p&gt;On the other hand, if you need the joinee to remain unaltered through this operation for whatever reason, then this solution cannot be used, since it modifies the joinee directly. Although in that case you could simply make a copy and perform the in-place assignment(s) on the copy.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;As a side note, I briefly looked into possible matching solutions for multicolumn keys. Unfortunately, the only matching solutions I found were:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;inefficient concatenations. e.g. &lt;code&gt;match(interaction(df1$a,df1$b),interaction(df2$a,df2$b))&lt;/code&gt;, or the same idea with &lt;code&gt;paste()&lt;/code&gt;.&lt;/li&gt;\n&lt;li&gt;inefficient cartesian conjunctions, e.g. &lt;code&gt;outer(df1$a,df2$a,`==`) &amp;amp; outer(df1$b,df2$b,`==`)&lt;/code&gt;.&lt;/li&gt;\n&lt;li&gt;base R &lt;code&gt;merge()&lt;/code&gt; and equivalent package-based merge functions, which always allocate a new table to return the merged result, and thus are not suitable for an in-place assignment-based solution.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;For example, see &lt;a href=&quot;https://stackoverflow.com/questions/13286881/matching-multiple-columns-on-different-data-frames-and-getting-other-column-as-r&quot;&gt;Matching multiple columns on different data frames and getting other column as result&lt;/a&gt;, &lt;a href=&quot;https://stackoverflow.com/questions/6880450/match-two-columns-with-two-other-columns&quot;&gt;match two columns with two other columns&lt;/a&gt;, &lt;a href=&quot;https://stat.ethz.ch/pipermail/r-help/2007-January/123488.html&quot; rel=&quot;noreferrer&quot;&gt;Matching on multiple columns&lt;/a&gt;, and the dupe of this question where I originally came up with the in-place solution, &lt;a href=&quot;https://stackoverflow.com/questions/38066077/combine-two-data-frames-with-different-number-of-rows-in-r/38066281#38066281&quot;&gt;Combine two data frames with different number of rows in R&lt;/a&gt;.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;h1&gt;Benchmarking&lt;/h1&gt;\n\n&lt;p&gt;I decided to do my own benchmarking to see how the in-place assignment approach compares to the other solutions that have been offered in this question.&lt;/p&gt;\n\n&lt;p&gt;Testing code:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;microbenchmark&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n\nsolSpecs &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n    merge&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;testFuncs&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n        inner&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; merge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        left &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; merge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;all.x&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        right&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; merge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;all.y&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        full &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; merge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n    data.table.unkeyed&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpec&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;data.table.unkeyed&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;testFuncs&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n        inner&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;on&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;nomatch&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;allow.cartesian&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        left &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;on&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;allow.cartesian&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        right&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;on&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;allow.cartesian&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        full &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; merge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;allow.cartesian&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;## calls merge.data.table()&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n    data.table.keyed&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpec&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;data.table.keyed&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;testFuncs&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n        inner&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;nomatch&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;allow.cartesian&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        left &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;allow.cartesian&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        right&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;allow.cartesian&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        full &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; merge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dt1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;dt2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;allow.cartesian&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;## calls merge.data.table()&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n    sqldf.unindexed&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;testFuncs&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;## note: must pass connection=NULL to avoid running against the live DB connection, which would result in collisions with the residual tables from the last query upload&lt;/span&gt;\n        inner&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;paste0&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;select * from df1 inner join df2 using(&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;paste&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collapse&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;,&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;)&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;connection&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        left &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;paste0&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;select * from df1 left join df2 using(&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;paste&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collapse&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;,&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;)&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;connection&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        right&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;paste0&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;select * from df2 left join df1 using(&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;paste&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collapse&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;,&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;)&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;connection&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;## can&apos;t do right join proper, not yet supported; inverted left join is equivalent&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;##full =function(df1,df2,key) sqldf(paste0(&apos;select * from df1 full join df2 using(&apos;,paste(collapse=&apos;,&apos;,key),&apos;)&apos;),connection=NULL) ## can&apos;t do full join proper, not yet supported; possible to hack it with a union of left joins, but too unreasonable to include in testing&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n    sqldf.indexed&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;testFuncs&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;## important: requires an active DB connection with preindexed main.df1 and main.df2 ready to go; arguments are actually ignored&lt;/span&gt;\n        inner&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;paste0&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;select * from main.df1 inner join main.df2 using(&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;paste&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collapse&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;,&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;)&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        left &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;paste0&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;select * from main.df1 left join main.df2 using(&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;paste&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collapse&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;,&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;)&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        right&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;paste0&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;select * from main.df2 left join main.df1 using(&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;paste&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collapse&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;,&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;)&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;## can&apos;t do right join proper, not yet supported; inverted left join is equivalent&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;##full =function(df1,df2,key) sqldf(paste0(&apos;select * from main.df1 full join main.df2 using(&apos;,paste(collapse=&apos;,&apos;,key),&apos;)&apos;)) ## can&apos;t do full join proper, not yet supported; possible to hack it with a union of left joins, but too unreasonable to include in testing&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n    plyr&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;testFuncs&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n        inner&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;inner&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        left &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;left&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        right&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;right&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        full &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;full&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n    dplyr&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;testFuncs&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n        inner&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; inner_join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        left &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; left_join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        right&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; right_join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        full &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; full_join&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n    in.place&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;testFuncs&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n        left &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt; cns &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; setdiff&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; df1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;cns&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;match&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;cns&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;; df1; &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        right&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt; cns &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; setdiff&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;cns&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; df1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;match&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;cns&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;; df2; &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n\ngetSolTypes &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;solSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\ngetJoinTypes &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; unique&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;unlist&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;solSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;testFuncs&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\ngetArgSpec &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; argSpecs&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;default &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; argSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;key&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;;\n\ninitSqldf &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n    sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## creates sqlite connection on first run, cleans up and closes existing connection otherwise&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;exists&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;sqldfInitFlag&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;envir&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;globalenv&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;inherits&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; sqldfInitFlag&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;## false only on first run&lt;/span&gt;\n        sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## creates a new connection&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n        assign&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;sqldfInitFlag&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;envir&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;globalenv&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## set to true for the one and only time&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end if&lt;/span&gt;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;invisible&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end initSqldf()&lt;/span&gt;\n\nsetUpBenchmarkCall &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;joinType&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;solTypes&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;getSolTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;env&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;parent.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;## builds and returns a list of expressions suitable for passing to the list argument of microbenchmark(), and assigns variables to resolve symbol references in those expressions&lt;/span&gt;\n    callExpressions &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    nms &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; character&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;solType &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n        testFunc &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; solSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;solType&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;testFuncs&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;joinType&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;testFunc&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;next&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## this join type is not defined for this solution type&lt;/span&gt;\n        testFuncName &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; paste0&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;tf.&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;solType&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        assign&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;testFuncName&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;testFunc&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;envir&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;env&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        argSpecKey &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; solSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;solType&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;argSpec;\n        argSpec &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; getArgSpec&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;argSpecKey&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        argList &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; setNames&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;nm&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpec&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;args&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;vector&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;list&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpec&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;args&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;seq_along&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpec&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;args&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n            argName &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; paste0&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;tfa.&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;argSpecKey&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;i&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n            assign&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argName&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;argSpec&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;args&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;i&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;envir&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;env&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n            argList&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;i&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;hljs-operator&quot;&gt;%in%&lt;/span&gt;argSpec&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;copySpec&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;copy&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;as.symbol&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argName&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; as.symbol&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argName&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end for&lt;/span&gt;\n        callExpressions&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;callExpressions&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; do.call&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;testFuncName&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;argList&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;quote&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        nms&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;nms&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; solType;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end for&lt;/span&gt;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;callExpressions&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; nms;\n    callExpressions;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end setUpBenchmarkCall()&lt;/span&gt;\n\nharmonize &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n    res &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; as.data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## coerce to data.frame&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;ci &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; which&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;sapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;is.factor&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; res&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;ci&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;ci&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## coerce factor columns to character&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;ci &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; which&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;sapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;is.logical&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; res&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;ci&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;as.integer&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;ci&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## coerce logical columns to integer (works around sqldf quirk of munging logicals to integers)&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;##for (ci in which(sapply(res,inherits,&apos;POSIXct&apos;))) res[[ci]] &amp;lt;- as.double(res[[ci]]); ## coerce POSIXct columns to double (works around sqldf quirk of losing POSIXct class) ----- POSIXct doesn&apos;t work at all in sqldf.indexed&lt;/span&gt;\n    res &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; res&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;order&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## order columns&lt;/span&gt;\n    res &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; res&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;do.call&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;order&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## order rows&lt;/span&gt;\n    res;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end harmonize()&lt;/span&gt;\n\ncheckIdentical &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;solTypes&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;getSolTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;joinType &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; getJoinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n        callExpressions &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; setUpBenchmarkCall&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;joinType&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;callExpressions&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;next&lt;/span&gt;;\n        ex &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; harmonize&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;eval&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;callExpressions&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; seq&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;len&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;callExpressions&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n            y &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; harmonize&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;eval&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;callExpressions&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;i&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;!&lt;/span&gt;isTRUE&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;all.equal&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;ex&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;y&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;check.attributes&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n                ex &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&amp;lt;-&lt;/span&gt; ex;\n                y &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&amp;lt;-&lt;/span&gt; y;\n                solType &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;callExpressions&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;;\n                stop&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;paste0&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;non-identical: &apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;solType&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos; &apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;joinType&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;.&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n            &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end if&lt;/span&gt;\n        &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end for&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end for&lt;/span&gt;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;invisible&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end checkIdentical()&lt;/span&gt;\n\ntestJoinType &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;joinType&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;solTypes&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;getSolTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;metric&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;times&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;100L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n    callExpressions &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; setUpBenchmarkCall&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;joinType&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    bm &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; microbenchmark&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;callExpressions&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;times&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;times&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;metric&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;bm&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    bm &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; summary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;bm&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    res &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; setNames&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;nm&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;callExpressions&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;bm&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;metric&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;unit&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;bm&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;unit&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    res;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end testJoinType()&lt;/span&gt;\n\ntestAllJoinTypes &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;solTypes&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;getSolTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;metric&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;times&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;100L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n    joinTypes &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; getJoinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    resList &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; setNames&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;nm&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;joinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;joinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;joinType&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; testJoinType&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;joinType&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;metric&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;times&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;metric&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;resList&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    units &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; unname&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;unlist&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;resList&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;unit&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    res &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; do.call&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;join&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;joinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;setNames&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;nm&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NA_real_&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;joinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;unit&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;units&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;stringsAsFactors&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;seq_along&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;resList&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; res&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;match&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;resList&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;i&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; resList&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;i&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;;\n    res;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end testAllJoinTypes()&lt;/span&gt;\n\ntestGrid &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;makeArgSpecsFunc&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;sizes&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;overlaps&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;solTypes&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;getSolTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;joinTypes&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;getJoinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;metric&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;median&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;times&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;100L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n\n    res &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; expand.grid&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;sizes&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;overlap&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;overlaps&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;joinType&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;joinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;stringsAsFactors&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    res&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NA_real_&lt;/span&gt;;\n    res&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;unit &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NA_character_&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;ri &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;seq_len&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;nrow&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n\n        size &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; res&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;ri&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;;\n        overlap &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; res&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;overlap&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;ri&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;;\n        joinType &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; res&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;joinType&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;ri&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;;\n\n        argSpecs &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; makeArgSpecsFunc&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;overlap&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n\n        checkIdentical&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n\n        cur &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; testJoinType&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;joinType&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;metric&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;times&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        res&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;ri&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;match&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;cur&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; cur;\n        res&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;unit&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;ri&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;cur&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;unit&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end for&lt;/span&gt;\n\n    res;\n\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end testGrid()&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;Here&apos;s a benchmark of the example based on the OP that I demonstrated earlier:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;## OP&apos;s example, supplemented with a non-matching row in df2&lt;/span&gt;\nargSpecs &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n    default&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;copySpec&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;args&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n        df1 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;CustomerId&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;Product&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Toaster&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Radio&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        df2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;CustomerId&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;State&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Alabama&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Ohio&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Texas&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        &lt;span class=&quot;hljs-string&quot;&gt;&apos;CustomerId&apos;&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n    data.table.unkeyed&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;copySpec&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;args&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n        as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        &lt;span class=&quot;hljs-string&quot;&gt;&apos;CustomerId&apos;&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n    data.table.keyed&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;copySpec&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;args&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n        setkey&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;CustomerId&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        setkey&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;CustomerId&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n&lt;span class=&quot;hljs-comment&quot;&gt;## prepare sqldf&lt;/span&gt;\ninitSqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\nsqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;create index df1_key on df1(CustomerId);&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## upload and create an sqlite index on df1&lt;/span&gt;\nsqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;create index df2_key on df2(CustomerId);&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## upload and create an sqlite index on df2&lt;/span&gt;\n\ncheckIdentical&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n\ntestAllJoinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;argSpecs&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;metric&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;median&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n&lt;span class=&quot;hljs-comment&quot;&gt;##    join    merge data.table.unkeyed data.table.keyed sqldf.unindexed sqldf.indexed      plyr    dplyr in.place         unit&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 1 inner  644.259           861.9345          923.516        9157.752      1580.390  959.2250 270.9190       NA microseconds&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 2  left  713.539           888.0205          910.045        8820.334      1529.714  968.4195 270.9185 224.3045 microseconds&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 3 right 1221.804           909.1900          923.944        8930.668      1533.135 1063.7860 269.8495 218.1035 microseconds&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 4  full 1302.203          3107.5380         3184.729              NA            NA 1593.6475 270.7055       NA microseconds&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;Here I benchmark on random input data, trying different scales and different patterns of key overlap between the two input tables. This benchmark is still restricted to the case of a single-column integer key. As well, to ensure that the in-place solution would work for both left and right joins of the same tables, all random test data uses &lt;code&gt;0..1:0..1&lt;/code&gt; cardinality. This is implemented by sampling without replacement the key column of the first data.frame when generating the key column of the second data.frame.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;makeArgSpecs.singleIntegerKey.optionalOneToOne &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;overlap&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n\n    com &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;as.integer&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;overlap&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n\n    argSpecs &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n        default&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;copySpec&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;args&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n            df1 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;id&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;y1&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;rnorm&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;y2&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;rnorm&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n            df2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;id&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;com&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;id&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;com&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; integer&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;seq&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;len&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;size&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;com&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;y3&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;rnorm&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;y4&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;rnorm&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n            &lt;span class=&quot;hljs-string&quot;&gt;&apos;id&apos;&lt;/span&gt;\n        &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        data.table.unkeyed&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;copySpec&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;args&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n            as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n            as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n            &lt;span class=&quot;hljs-string&quot;&gt;&apos;id&apos;&lt;/span&gt;\n        &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        data.table.keyed&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;copySpec&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;args&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n            setkey&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;id&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n            setkey&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;id&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n        &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;## prepare sqldf&lt;/span&gt;\n    initSqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;create index df1_key on df1(id);&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## upload and create an sqlite index on df1&lt;/span&gt;\n    sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;create index df2_key on df2(id);&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## upload and create an sqlite index on df2&lt;/span&gt;\n\n    argSpecs;\n\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end makeArgSpecs.singleIntegerKey.optionalOneToOne()&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;## cross of various input sizes and key overlaps&lt;/span&gt;\nsizes &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1e1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1e3L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1e6L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\noverlaps &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.99&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.01&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\nsystem.time&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt; res &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; testGrid&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;makeArgSpecs.singleIntegerKey.optionalOneToOne&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;sizes&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;overlaps&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n&lt;span class=&quot;hljs-comment&quot;&gt;##     user   system  elapsed&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 22024.65 12308.63 34493.19&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I wrote some code to create log-log plots of the above results. I generated a separate plot for each overlap percentage. It&apos;s a little bit cluttered, but I like having all the solution types and join types represented in the same plot.&lt;/p&gt;\n\n&lt;p&gt;I used spline interpolation to show a smooth curve for each solution/join type combination, drawn with individual pch symbols. The join type is captured by the pch symbol, using a dot for inner, left and right angle brackets for left and right, and a diamond for full. The solution type is captured by the color as shown in the legend.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;plotRes &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;titleFunc&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;useFloor&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n    solTypes &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; setdiff&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;size&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;overlap&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;joinType&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;unit&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## derive from res&lt;/span&gt;\n    normMult &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;microseconds&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1e-3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;milliseconds&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## normalize to milliseconds&lt;/span&gt;\n    joinTypes &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; getJoinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    cols &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;merge&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;purple&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;data.table.unkeyed&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;blue&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;data.table.keyed&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;#00DDDD&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;sqldf.unindexed&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;brown&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;sqldf.indexed&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;orange&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;plyr&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;dplyr&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;#00BB00&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;in.place&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;magenta&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    pchs &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;inner&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;20L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;left&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;right&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;gt;&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;full&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;23L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    cexs &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;inner&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;left&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;right&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;full&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    NP &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; 60L;\n    ord &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; order&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;decreasing&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;colMeans&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;res&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;size&lt;span class=&quot;hljs-operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;na.rm&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    ymajors &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1e3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;label&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;1ms&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;1s&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;stringsAsFactors&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;overlap &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; unique&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;overlap&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n        x1 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; res&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;res&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;overlap&lt;span class=&quot;hljs-operator&quot;&gt;==&lt;/span&gt;overlap&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;;\n        x1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; x1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;normMult&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;x1&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;unit&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;; x1&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;unit &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;;\n        xlim &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1e1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x1&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        xticks &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; 10&lt;span class=&quot;hljs-operator&quot;&gt;^&lt;/span&gt;seq&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;log10&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;xlim&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;log10&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;xlim&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        ylim &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1e-1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;useFloor&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;floor&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;ceiling&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;log10&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;na.rm&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## use floor() to zoom in a little more, only sqldf.unindexed will break above, but xpd=NA will keep it visible&lt;/span&gt;\n        yticks &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; 10&lt;span class=&quot;hljs-operator&quot;&gt;^&lt;/span&gt;seq&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;log10&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;ylim&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;log10&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;ylim&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        yticks.minor &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;yticks&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;yticks&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;each&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;9L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;;\n        plot&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;xlim&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;xlim&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;ylim&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;ylim&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;xaxs&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;i&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;yaxs&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;i&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;axes&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;xlab&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;size (rows)&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;ylab&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;time (ms)&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;xy&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        abline&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;xticks&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;col&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;lightgrey&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        abline&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;h&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;yticks.minor&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;col&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;lightgrey&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;lty&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        abline&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;h&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;yticks&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;col&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;lightgrey&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        axis&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;xticks&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;parse&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;text&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;sprintf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;10^%d&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;as.integer&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;log10&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;xticks&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        axis&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;yticks&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;parse&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;text&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;sprintf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;10^%d&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;as.integer&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;log10&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;yticks&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;las&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        axis&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;ymajors&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;y&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;ymajors&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;label&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;las&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;tick&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;cex.axis&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;hadj&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;joinType &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; rev&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;joinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;## reverse to draw full first, since it&apos;s larger and would be more obtrusive if drawn last&lt;/span&gt;\n            x2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; x1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;x1&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;joinType&lt;span class=&quot;hljs-operator&quot;&gt;==&lt;/span&gt;joinType&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;solType &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n                &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;is.na&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x2&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;solType&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n                    xy &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; spline&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x2&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;x2&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;solType&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;xout&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;seq&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;log10&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x2&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;log10&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x2&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;nrow&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;len&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;NP&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n                    points&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;xy&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;xy&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;y&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;pch&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;pchs&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;joinType&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;col&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;cols&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;solType&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;cex&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;cexs&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;joinType&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;xpd&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n                &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end if&lt;/span&gt;\n            &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end for&lt;/span&gt;\n        &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end for&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;## custom legend&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;## due to logarithmic skew, must do all distance calcs in inches, and convert to user coords afterward&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;## the bottom-left corner of the legend will be defined in normalized figure coords, although we can convert to inches immediately&lt;/span&gt;\n        leg.cex &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; 0.7;\n        leg.x.in &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; grconvertX&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.275&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;nfc&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;in&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        leg.y.in &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; grconvertY&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.6&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;nfc&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;in&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        leg.x.user &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; grconvertX&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;leg.x.in&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;in&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        leg.y.user &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; grconvertY&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;leg.y.in&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;in&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        leg.outpad.w.in &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; 0.1;\n        leg.outpad.h.in &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; 0.1;\n        leg.midpad.w.in &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; 0.1;\n        leg.midpad.h.in &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; 0.1;\n        leg.sol.w.in &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;strwidth&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;in&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;leg.cex&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        leg.sol.h.in &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;strheight&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;in&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;leg.cex&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.5&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## multiplication factor for greater line height&lt;/span&gt;\n        leg.join.w.in &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;strheight&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;joinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;in&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;leg.cex&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.5&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## ditto&lt;/span&gt;\n        leg.join.h.in &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;strwidth&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;joinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;in&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;leg.cex&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        leg.main.w.in &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; leg.join.w.in&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;joinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        leg.main.h.in &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; leg.sol.h.in&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        leg.x2.user &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; grconvertX&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;leg.x.in&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.outpad.w.in&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.main.w.in&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.midpad.w.in&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.sol.w.in&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;in&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        leg.y2.user &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; grconvertY&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;leg.y.in&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.outpad.h.in&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.main.h.in&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.midpad.h.in&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.join.h.in&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;in&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        leg.cols.x.user &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; grconvertX&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;leg.x.in&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.outpad.w.in&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.join.w.in&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;seq&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;joinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;in&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        leg.lines.y.user &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; grconvertY&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;leg.y.in&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.outpad.h.in&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.main.h.in&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;leg.sol.h.in&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;seq&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;in&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        leg.sol.x.user &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; grconvertX&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;leg.x.in&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.outpad.w.in&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.main.w.in&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.midpad.w.in&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;in&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        leg.join.y.user &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; grconvertY&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;leg.y.in&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.outpad.h.in&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.main.h.in&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;leg.midpad.h.in&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;in&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        rect&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;leg.x.user&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;leg.y.user&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;leg.x2.user&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;leg.y2.user&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;col&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;white&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        text&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;leg.sol.x.user&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;leg.lines.y.user&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;ord&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;cex&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;leg.cex&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;pos&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;offset&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        text&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;leg.cols.x.user&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;leg.join.y.user&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;joinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;cex&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;leg.cex&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;pos&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;offset&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;srt&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## srt rotation applies *after* pos/offset positioning&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;seq_along&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;joinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n            joinType &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; joinTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;;\n            points&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;leg.cols.x.user&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;ifelse&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;colSums&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;is.na&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;x1&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;joinType&lt;span class=&quot;hljs-operator&quot;&gt;==&lt;/span&gt;joinType&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;ord&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;leg.lines.y.user&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;pch&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;pchs&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;joinType&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;col&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;cols&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;ord&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end for&lt;/span&gt;\n        title&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;titleFunc&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;overlap&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n        readline&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;sprintf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;overlap %.02f&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;overlap&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end for&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end plotRes()&lt;/span&gt;\n\ntitleFunc &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;overlap&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; sprintf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;R merge solutions: single-column integer key, 0..1:0..1 cardinality, %d%% overlap&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;as.integer&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;overlap&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\nplotRes&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;titleFunc&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/yvTPK.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/yvTPK.png&quot; alt=&quot;R-merge-benchmark-single-column-integer-key-optional-one-to-one-99&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/kUyPB.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/kUyPB.png&quot; alt=&quot;R-merge-benchmark-single-column-integer-key-optional-one-to-one-50&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/vAuxQ.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/vAuxQ.png&quot; alt=&quot;R-merge-benchmark-single-column-integer-key-optional-one-to-one-1&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;Here&apos;s a second large-scale benchmark that&apos;s more heavy-duty, with respect to the number and types of key columns, as well as cardinality. For this benchmark I use three key columns: one character, one integer, and one logical, with no restrictions on cardinality (that is, &lt;code&gt;0..*:0..*&lt;/code&gt;). (In general it&apos;s not advisable to define key columns with double or complex values due to floating-point comparison complications, and basically no one ever uses the raw type, much less for key columns, so I haven&apos;t included those types in the key columns. Also, for information&apos;s sake, I initially tried to use four key columns by including a POSIXct key column, but the POSIXct type didn&apos;t play well with the &lt;code&gt;sqldf.indexed&lt;/code&gt; solution for some reason, possibly due to floating-point comparison anomalies, so I removed it.)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;makeArgSpecs.assortedKey.optionalManyToMany &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;overlap&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;uniquePct&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;75&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;## number of unique keys in df1&lt;/span&gt;\n    u1Size &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;as.integer&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;uniquePct&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;## (roughly) divide u1Size into bases, so we can use expand.grid() to produce the required number of unique key values with repetitions within individual key columns&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;## use ceiling() to ensure we cover u1Size; will truncate afterward&lt;/span&gt;\n    u1SizePerKeyColumn &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;as.integer&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;ceiling&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;u1Size&lt;span class=&quot;hljs-operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;## generate the unique key values for df1&lt;/span&gt;\n    keys1 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; expand.grid&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;stringsAsFactors&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        idCharacter&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;replicate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;u1SizePerKeyColumn&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;paste&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collapse&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;letters&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        idInteger&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;u1SizePerKeyColumn&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        idLogical&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;u1SizePerKeyColumn&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;##idPOSIXct=as.POSIXct(&apos;2016-01-01 00:00:00&apos;,&apos;UTC&apos;)+sample(u1SizePerKeyColumn)&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;seq_len&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;u1Size&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;## rbind some repetitions of the unique keys; this will prepare one side of the many-to-many relationship&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;## also scramble the order afterward&lt;/span&gt;\n    keys1 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; rbind&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;keys1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;keys1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;nrow&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;keys1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;size&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;u1Size&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;## common and unilateral key counts&lt;/span&gt;\n    com &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;as.integer&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;overlap&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    uni &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; size&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;com;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;## generate some unilateral keys for df2 by synthesizing outside of the idInteger range of df1&lt;/span&gt;\n    keys2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;stringsAsFactors&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        idCharacter&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;replicate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;uni&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;paste&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collapse&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;letters&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        idInteger&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;u1SizePerKeyColumn&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;uni&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        idLogical&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;uni&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;##idPOSIXct=as.POSIXct(&apos;2016-01-01 00:00:00&apos;,&apos;UTC&apos;)+u1SizePerKeyColumn+sample(uni)&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;## rbind random keys from df1; this will complete the many-to-many relationship&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;## also scramble the order afterward&lt;/span&gt;\n    keys2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; rbind&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;keys2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;keys1&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;nrow&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;keys1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;com&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;##keyNames &amp;lt;- c(&apos;idCharacter&apos;,&apos;idInteger&apos;,&apos;idLogical&apos;,&apos;idPOSIXct&apos;);&lt;/span&gt;\n    keyNames &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;idCharacter&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;idInteger&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;idLogical&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;## note: was going to use raw and complex type for two of the non-key columns, but data.table doesn&apos;t seem to fully support them&lt;/span&gt;\n    argSpecs &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n        default&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;copySpec&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;args&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n            df1 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; cbind&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;stringsAsFactors&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;keys1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;y1&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;y2&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;y3&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;rnorm&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;y4&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;replicate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;paste&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collapse&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;letters&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n            df2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; cbind&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;stringsAsFactors&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;keys2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;y5&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;y6&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;y7&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;rnorm&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;y8&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;replicate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;paste&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collapse&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;letters&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n            keyNames\n        &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        data.table.unkeyed&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;copySpec&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;args&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n            as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n            as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n            keyNames\n        &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        data.table.keyed&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;copySpec&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;args&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n            setkeyv&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;keyNames&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n            setkeyv&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;as.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;keyNames&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n        &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;## prepare sqldf&lt;/span&gt;\n    initSqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n    sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;paste0&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;create index df1_key on df1(&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;paste&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collapse&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;,&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;keyNames&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;);&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## upload and create an sqlite index on df1&lt;/span&gt;\n    sqldf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;paste0&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;create index df2_key on df2(&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;paste&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;collapse&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;,&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;keyNames&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;);&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## upload and create an sqlite index on df2&lt;/span&gt;\n\n    argSpecs;\n\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## end makeArgSpecs.assortedKey.optionalManyToMany()&lt;/span&gt;\n\nsizes &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1e1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1e3L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1e5L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;## 1e5L instead of 1e6L to respect more heavy-duty inputs&lt;/span&gt;\noverlaps &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.99&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.01&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\nsolTypes &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; setdiff&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;getSolTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;in.place&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\nsystem.time&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt; res &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; testGrid&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;makeArgSpecs.assortedKey.optionalManyToMany&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;sizes&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;overlaps&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;solTypes&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n&lt;span class=&quot;hljs-comment&quot;&gt;##     user   system  elapsed&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 38895.50   784.19 39745.53&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The resulting plots, using the same plotting code given above:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;titleFunc &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;overlap&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; sprintf&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;R merge solutions: character/integer/logical key, 0..*:0..* cardinality, %d%% overlap&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;as.integer&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;overlap&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\nplotRes&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;titleFunc&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/7gShO.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/7gShO.png&quot; alt=&quot;R-merge-benchmark-assorted-key-optional-many-to-many-99&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/yTeRO.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/yTeRO.png&quot; alt=&quot;R-merge-benchmark-assorted-key-optional-many-to-many-50&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/buxZ2.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/buxZ2.png&quot; alt=&quot;R-merge-benchmark-assorted-key-optional-many-to-many-1&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;In joining two data frames with ~1 million rows each, one with 2 columns and the other with ~20, I&apos;ve surprisingly found &lt;code&gt;merge(..., all.x = TRUE, all.y = TRUE)&lt;/code&gt; to be faster then &lt;code&gt;dplyr::full_join()&lt;/code&gt;. This is with dplyr v0.4 &lt;/p&gt;\n\n&lt;p&gt;Merge takes ~17 seconds, full_join takes ~65 seconds.  &lt;/p&gt;\n\n&lt;p&gt;Some food for though, since I generally default to dplyr for manipulation tasks.&lt;/p&gt;\n    ","\n&lt;ol&gt;\n&lt;li&gt;Using &lt;code&gt;merge&lt;/code&gt; function we can select the variable of left table or right table, same way like we all familiar with select statement in SQL (EX : Select a.* ...or Select b.* from .....)&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;We have to add extra code which will subset from the newly joined table .&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;SQL :-  &lt;code&gt;select a.* from df1 a inner join df2 b on a.CustomerId=b.CustomerId&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;R :- &lt;code&gt;merge(df1, df2, by.x = &quot;CustomerId&quot;, by.y = &quot;CustomerId&quot;)[,names(df1)]&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;\n&lt;/ul&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;Same way &lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;SQL :- &lt;code&gt;select b.* from df1 a inner join df2 b on a.CustomerId=b.CustomerId&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;R :- &lt;code&gt;merge(df1, df2, by.x = &quot;CustomerId&quot;, by.y =\n&quot;CustomerId&quot;)[,names(df2)]&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;For an inner join on all columns, you could also use &lt;code&gt;fintersect&lt;/code&gt; from the &lt;em&gt;data.table&lt;/em&gt;-package or &lt;code&gt;intersect&lt;/code&gt; from the &lt;em&gt;dplyr&lt;/em&gt;-package as an alternative to &lt;code&gt;merge&lt;/code&gt; without specifying the &lt;code&gt;by&lt;/code&gt;-columns. This will give the rows that are equal between two dataframes:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;merge&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#   V1 V2&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1  B  2&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2  C  3&lt;/span&gt;\n\ndplyr&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;intersect&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#   V1 V2&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1  B  2&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2  C  3&lt;/span&gt;\n\ndata.table&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;fintersect&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;setDT&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; setDT&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#    V1 V2&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1:  B  2&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2:  C  3&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;p&gt;Example data:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;df1 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;V1 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;LETTERS&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; V2 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndf2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;V1 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;LETTERS&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; V2 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Update join.&lt;/strong&gt; One other important SQL-style join is an &quot;&lt;a href=&quot;https://stackoverflow.com/q/7869592/&quot;&gt;update join&lt;/a&gt;&quot; where columns in one table are updated (or created) using another table. &lt;/p&gt;\n\n&lt;p&gt;Modifying the OP&apos;s example tables...&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;sales &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n  CustomerId &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n  Year &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2005&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n  Product &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Toaster&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Radio&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ncust &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n  CustomerId &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n  Year &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2001L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2002L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2002L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2002L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n  State &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; state.name&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\nsales\n&lt;span class=&quot;hljs-comment&quot;&gt;# CustomerId Year Product&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#          1 2000 Toaster&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#          1 2001 Toaster&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#          1 2002 Toaster&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#          3 2003   Radio&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#          4 2004   Radio&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#          6 2005   Radio&lt;/span&gt;\n\ncust\n&lt;span class=&quot;hljs-comment&quot;&gt;# CustomerId Year    State&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#          1 2001  Alabama&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#          1 2002   Alaska&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#          4 2002  Arizona&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#          6 2002 Arkansas&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Suppose we want to add the customer&apos;s state from &lt;code&gt;cust&lt;/code&gt; to the purchases table, &lt;code&gt;sales&lt;/code&gt;, ignoring the year column. With base R, we can identify matching rows and then copy values over:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;sales&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;State &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; cust&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;State&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt; match&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;sales&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;CustomerId&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; cust&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;CustomerId&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# CustomerId Year Product    State&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#          1 2000 Toaster  Alabama&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#          1 2001 Toaster  Alabama&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#          1 2002 Toaster  Alabama&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#          3 2003   Radio     &amp;lt;NA&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#          4 2004   Radio  Arizona&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#          6 2005   Radio Arkansas&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# cleanup for the next example&lt;/span&gt;\nsales&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;State &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;As can be seen here, &lt;code&gt;match&lt;/code&gt; selects the first matching row from the customer table.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;&lt;strong&gt;Update join with multiple columns.&lt;/strong&gt; The approach above works well when we are joining on only a single column and are satisfied with the first match. Suppose we want the year of measurement in the customer table to match the year of sale.&lt;/p&gt;\n\n&lt;p&gt;As @bgoldst&apos;s answer mentions, &lt;code&gt;match&lt;/code&gt; with &lt;code&gt;interaction&lt;/code&gt; might be an option for this case. More straightforwardly, one could use data.table:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nsetDT&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;sales&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; setDT&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;cust&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\nsales&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; State &lt;span class=&quot;hljs-operator&quot;&gt;:=&lt;/span&gt; cust&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;sales&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; on&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;.&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;CustomerId&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; Year&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x.State&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;#    CustomerId Year Product   State&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1:          1 2000 Toaster    &amp;lt;NA&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2:          1 2001 Toaster Alabama&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 3:          1 2002 Toaster  Alaska&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 4:          3 2003   Radio    &amp;lt;NA&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 5:          4 2004   Radio    &amp;lt;NA&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 6:          6 2005   Radio    &amp;lt;NA&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# cleanup for next example&lt;/span&gt;\nsales&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; State &lt;span class=&quot;hljs-operator&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;&lt;strong&gt;Rolling update join.&lt;/strong&gt; Alternately, we may want to take the last state the customer was found in:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;sales&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; State &lt;span class=&quot;hljs-operator&quot;&gt;:=&lt;/span&gt; cust&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;sales&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; on&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;.&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;CustomerId&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; Year&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; roll&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x.State&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;#    CustomerId Year Product    State&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1:          1 2000 Toaster     &amp;lt;NA&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2:          1 2001 Toaster  Alabama&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 3:          1 2002 Toaster   Alaska&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 4:          3 2003   Radio     &amp;lt;NA&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 5:          4 2004   Radio  Arizona&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 6:          6 2005   Radio Arkansas&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;The three examples above all focus on creating/adding a new column. See &lt;a href=&quot;https://stackoverflow.com/q/6112260&quot;&gt;the related R FAQ&lt;/a&gt; for an example of updating/modifying an existing column.&lt;/p&gt;\n    "]},"page":"113","randomQuestions":[{"title":"How do I check if an array includes a value in JavaScript?","slug":"how-do-i-check-if-an-array-includes-a-value-in-javascript-1657387421185"},{"title":"Which equals operator (== vs ===) should be used in JavaScript comparisons?","slug":"which-equals-operator-(-vs-)-should-be-used-in-javascript-comparisons-1657384663105"},{"title":"Reference โ What does this symbol mean in PHP?","slug":"reference-what-does-this-symbol-mean-in-php-1657384561666"},{"title":"Difference between sh and Bash","slug":"difference-between-sh-and-bash-1657388197713"},{"title":"What are valid values for the id attribute in HTML?","slug":"what-are-valid-values-for-the-id-attribute-in-html-1657384874780"},{"title":"How to get the difference between two arrays in JavaScript?","slug":"how-to-get-the-difference-between-two-arrays-in-javascript-1657388463384"},{"title":"\"Least Astonishment\" and the Mutable Default Argument","slug":"\"least-astonishment\"-and-the-mutable-default-argument-1657384412508"},{"title":"What is The Rule of Three?","slug":"what-is-the-rule-of-three-1657384390295"},{"title":"Sorting an array of objects by property values","slug":"sorting-an-array-of-objects-by-property-values-1657387447490"},{"title":"How do I merge two dictionaries in a single expression?","slug":"how-do-i-merge-two-dictionaries-in-a-single-expression-1657387593160"},{"title":"How can I remove a specific item from an array?","slug":"how-can-i-remove-a-specific-item-from-an-array-1657387552077"},{"title":"How can I find the time complexity of an algorithm?","slug":"how-can-i-find-the-time-complexity-of-an-algorithm-1657388486001"},{"title":"Cleansing User Passwords","slug":"cleansing-user-passwords-1657387365583"},{"title":"How do I return the response from an Observable/http/async call in angular?","slug":"how-do-i-return-the-response-from-an-observablehttpasync-call-in-angular-1657387335024"},{"title":"How can I iterate through two lists in parallel?","slug":"how-can-i-iterate-through-two-lists-in-parallel-1657387278930"},{"title":"How to make good reproducible pandas examples","slug":"how-to-make-good-reproducible-pandas-examples-1657384310402"},{"title":"When should I wrap quotes around a shell variable?","slug":"when-should-i-wrap-quotes-around-a-shell-variable-1657384659265"},{"title":"What is the difference between public, protected, package-private and private in Java?","slug":"what-is-the-difference-between-public-protected-package-private-and-private-in-java-1657387376262"},{"title":"JQuery - $ is not defined","slug":"jquery-dollar-is-not-defined-1657388385731"},{"title":"Can PHP PDO Statements accept the table or column name as parameter?","slug":"can-php-pdo-statements-accept-the-table-or-column-name-as-parameter-1657387478588"}]},"__N_SSG":true}