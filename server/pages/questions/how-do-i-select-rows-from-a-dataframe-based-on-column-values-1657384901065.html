<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>How do I select rows from a DataFrame based on column values? | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="How can I select rows from a DataFrame based on values in some column in Pandas?
In SQL, I would use:
SELECT *
FROM table
WHERE column_name = some_value

    "/><meta property="og:title" content="How do I select rows from a DataFrame based on column values? | Solutions Checker"/><meta property="og:description" content="How can I select rows from a DataFrame based on values in some column in Pandas?
In SQL, I would use:
SELECT *
FROM table
WHERE column_name = some_value

    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"How do I select rows from a DataFrame based on column values?","text":"How can I select rows from a DataFrame based on values in some column in Pandas?\nIn SQL, I would use:\nSELECT *\nFROM table\nWHERE column_name = some_value\n\n    ","answerCount":14,"upVoteCount":500,"suggestedAnswer":[{"text":"To select rows whose column value equals a scalar, some_value, use ==:\n\ndf.loc[df[&apos;column_name&apos;] == some_value]\n\n\nTo select rows whose column value is in an iterable, some_values, use isin:\n\ndf.loc[df[&apos;column_name&apos;].isin(some_values)]\n\n\nCombine multiple conditions with &amp;: \n\ndf.loc[(df[&apos;column_name&apos;] &gt;= A) &amp; (df[&apos;column_name&apos;] &lt;= B)]\n\n\nNote the parentheses. Due to Python&apos;s operator precedence rules, &amp; binds more tightly than &lt;= and &gt;=. Thus, the parentheses in the last example are necessary. Without the parentheses \n\ndf[&apos;column_name&apos;] &gt;= A &amp; df[&apos;column_name&apos;] &lt;= B\n\n\nis parsed as \n\ndf[&apos;column_name&apos;] &gt;= (A &amp; df[&apos;column_name&apos;]) &lt;= B\n\n\nwhich results in a Truth value of a Series is ambiguous error.\n\n\n\nTo select rows whose column value does not equal some_value, use !=:\n\ndf.loc[df[&apos;column_name&apos;] != some_value]\n\n\nisin returns a boolean Series, so to select rows whose value is not in some_values, negate the boolean Series using ~:\n\ndf.loc[~df[&apos;column_name&apos;].isin(some_values)]\n\n\n\n\nFor example,\n\nimport pandas as pd\nimport numpy as np\ndf = pd.DataFrame({&apos;A&apos;: &apos;foo bar foo bar foo bar foo foo&apos;.split(),\n                   &apos;B&apos;: &apos;one one two three two two one three&apos;.split(),\n                   &apos;C&apos;: np.arange(8), &apos;D&apos;: np.arange(8) * 2})\nprint(df)\n#      A      B  C   D\n# 0  foo    one  0   0\n# 1  bar    one  1   2\n# 2  foo    two  2   4\n# 3  bar  three  3   6\n# 4  foo    two  4   8\n# 5  bar    two  5  10\n# 6  foo    one  6  12\n# 7  foo  three  7  14\n\nprint(df.loc[df[&apos;A&apos;] == &apos;foo&apos;])\n\n\nyields\n\n     A      B  C   D\n0  foo    one  0   0\n2  foo    two  2   4\n4  foo    two  4   8\n6  foo    one  6  12\n7  foo  three  7  14\n\n\n\n\nIf you have multiple values you want to include, put them in a\nlist (or more generally, any iterable) and use isin:\n\nprint(df.loc[df[&apos;B&apos;].isin([&apos;one&apos;,&apos;three&apos;])])\n\n\nyields\n\n     A      B  C   D\n0  foo    one  0   0\n1  bar    one  1   2\n3  bar  three  3   6\n6  foo    one  6  12\n7  foo  three  7  14\n\n\n\n\nNote, however, that if you wish to do this many times, it is more efficient to\nmake an index first, and then use df.loc:\n\ndf = df.set_index([&apos;B&apos;])\nprint(df.loc[&apos;one&apos;])\n\n\nyields\n\n       A  C   D\nB              \none  foo  0   0\none  bar  1   2\none  foo  6  12\n\n\nor, to include multiple values from the index use df.index.isin:\n\ndf.loc[df.index.isin([&apos;one&apos;,&apos;two&apos;])]\n\n\nyields\n\n       A  C   D\nB              \none  foo  0   0\none  bar  1   2\ntwo  foo  2   4\ntwo  foo  4   8\ntwo  bar  5  10\none  foo  6  12\n\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"There are several ways to select rows from a Pandas dataframe:\n\nBoolean indexing (df[df[&apos;col&apos;] == value] )\nPositional indexing (df.iloc[...])\nLabel indexing (df.xs(...))\ndf.query(...) API\n\nBelow I show you examples of each, with advice when to use certain techniques. Assume our criterion is column &apos;A&apos; == &apos;foo&apos;\n(Note on performance: For each base type, we can keep things simple by using the Pandas API or we can venture outside the API, usually into NumPy, and speed things up.)\n\nSetup\nThe first thing we&apos;ll need is to identify a condition that will act as our criterion for selecting rows. We&apos;ll start with the OP&apos;s case column_name == some_value, and include some other common use cases.\nBorrowing from @unutbu:\nimport pandas as pd, numpy as np\n\ndf = pd.DataFrame({&apos;A&apos;: &apos;foo bar foo bar foo bar foo foo&apos;.split(),\n                   &apos;B&apos;: &apos;one one two three two two one three&apos;.split(),\n                   &apos;C&apos;: np.arange(8), &apos;D&apos;: np.arange(8) * 2})\n\n\n1. Boolean indexing\n... Boolean indexing requires finding the true value of each row&apos;s &apos;A&apos; column being equal to &apos;foo&apos;, then using those truth values to identify which rows to keep.  Typically, we&apos;d name this series, an array of truth values, mask.  We&apos;ll do so here as well.\nmask = df[&apos;A&apos;] == &apos;foo&apos;\n\nWe can then use this mask to slice or index the data frame\ndf[mask]\n\n     A      B  C   D\n0  foo    one  0   0\n2  foo    two  2   4\n4  foo    two  4   8\n6  foo    one  6  12\n7  foo  three  7  14\n\nThis is one of the simplest ways to accomplish this task and if performance or intuitiveness isn&apos;t an issue, this should be your chosen method.  However, if performance is a concern, then you might want to consider an alternative way of creating the mask.\n\n2. Positional indexing\nPositional indexing (df.iloc[...]) has its use cases, but this isn&apos;t one of them.  In order to identify where to slice, we first need to perform the same boolean analysis we did above.  This leaves us performing one extra step to accomplish the same task.\nmask = df[&apos;A&apos;] == &apos;foo&apos;\npos = np.flatnonzero(mask)\ndf.iloc[pos]\n\n     A      B  C   D\n0  foo    one  0   0\n2  foo    two  2   4\n4  foo    two  4   8\n6  foo    one  6  12\n7  foo  three  7  14\n\n3. Label indexing\nLabel indexing can be very handy, but in this case, we are again doing more work for no benefit\ndf.set_index(&apos;A&apos;, append=True, drop=False).xs(&apos;foo&apos;, level=1)\n\n     A      B  C   D\n0  foo    one  0   0\n2  foo    two  2   4\n4  foo    two  4   8\n6  foo    one  6  12\n7  foo  three  7  14\n\n4. df.query() API\npd.DataFrame.query is a very elegant/intuitive way to perform this task, but is often slower. However, if you pay attention to the timings below, for large data, the query is very efficient. More so than the standard approach and of similar magnitude as my best suggestion.\ndf.query(&apos;A == &quot;foo&quot;&apos;)\n\n     A      B  C   D\n0  foo    one  0   0\n2  foo    two  2   4\n4  foo    two  4   8\n6  foo    one  6  12\n7  foo  three  7  14\n\n\nMy preference is to use the Boolean mask\nActual improvements can be made by modifying how we create our Boolean mask.\nmask alternative 1\nUse the underlying NumPy array and forgo the overhead of creating another pd.Series\nmask = df[&apos;A&apos;].values == &apos;foo&apos;\n\nI&apos;ll show more complete time tests at the end, but just take a look at the performance gains we get using the sample data frame.  First, we look at the difference in creating the mask\n%timeit mask = df[&apos;A&apos;].values == &apos;foo&apos;\n%timeit mask = df[&apos;A&apos;] == &apos;foo&apos;\n\n5.84 µs ± 195 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)\n166 µs ± 4.45 µs per loop (mean ± std. dev. of 7 runs, 10000 loops each)\n\nEvaluating the mask with the NumPy array is ~ 30 times faster.  This is partly due to NumPy evaluation often being faster. It is also partly due to the lack of overhead necessary to build an index and a corresponding pd.Series object.\nNext, we&apos;ll look at the timing for slicing with one mask versus the other.\nmask = df[&apos;A&apos;].values == &apos;foo&apos;\n%timeit df[mask]\nmask = df[&apos;A&apos;] == &apos;foo&apos;\n%timeit df[mask]\n\n219 µs ± 12.3 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)\n239 µs ± 7.03 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)\n\nThe performance gains aren&apos;t as pronounced.  We&apos;ll see if this holds up over more robust testing.\n\nmask alternative 2\nWe could have reconstructed the data frame as well.  There is a big caveat when reconstructing a dataframeyou must take care of the dtypes when doing so!\nInstead of df[mask] we will do this\npd.DataFrame(df.values[mask], df.index[mask], df.columns).astype(df.dtypes)\n\nIf the data frame is of mixed type, which our example is, then when we get df.values the resulting array is of dtype object and consequently, all columns of the new data frame will be of dtype object.  Thus requiring the astype(df.dtypes) and killing any potential performance gains.\n%timeit df[m]\n%timeit pd.DataFrame(df.values[mask], df.index[mask], df.columns).astype(df.dtypes)\n\n216 µs ± 10.4 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)\n1.43 ms ± 39.6 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)\n\nHowever, if the data frame is not of mixed type, this is a very useful way to do it.\nGiven\nnp.random.seed([3,1415])\nd1 = pd.DataFrame(np.random.randint(10, size=(10, 5)), columns=list(&apos;ABCDE&apos;))\n\nd1\n\n   A  B  C  D  E\n0  0  2  7  3  8\n1  7  0  6  8  6\n2  0  2  0  4  9\n3  7  3  2  4  3\n4  3  6  7  7  4\n5  5  3  7  5  9\n6  8  7  6  4  7\n7  6  2  6  6  5\n8  2  8  7  5  8\n9  4  7  6  1  5\n\n\n%%timeit\nmask = d1[&apos;A&apos;].values == 7\nd1[mask]\n\n179 µs ± 8.73 µs per loop (mean ± std. dev. of 7 runs, 10000 loops each)\n\nVersus\n%%timeit\nmask = d1[&apos;A&apos;].values == 7\npd.DataFrame(d1.values[mask], d1.index[mask], d1.columns)\n\n87 µs ± 5.12 µs per loop (mean ± std. dev. of 7 runs, 10000 loops each)\n\nWe cut the time in half.\n\nmask alternative 3\n@unutbu also shows us how to use pd.Series.isin to account for each element of df[&apos;A&apos;] being in a set of values.  This evaluates to the same thing if our set of values is a set of one value, namely &apos;foo&apos;.  But it also generalizes to include larger sets of values if needed.  Turns out, this is still pretty fast even though it is a more general solution.  The only real loss is in intuitiveness for those not familiar with the concept.\nmask = df[&apos;A&apos;].isin([&apos;foo&apos;])\ndf[mask]\n\n     A      B  C   D\n0  foo    one  0   0\n2  foo    two  2   4\n4  foo    two  4   8\n6  foo    one  6  12\n7  foo  three  7  14\n\nHowever, as before, we can utilize NumPy to improve performance while sacrificing virtually nothing. We&apos;ll use np.in1d\nmask = np.in1d(df[&apos;A&apos;].values, [&apos;foo&apos;])\ndf[mask]\n\n     A      B  C   D\n0  foo    one  0   0\n2  foo    two  2   4\n4  foo    two  4   8\n6  foo    one  6  12\n7  foo  three  7  14\n\n\nTiming\nI&apos;ll include other concepts mentioned in other posts as well for reference.\nCode Below\nEach column in this table represents a different length data frame over which we test each function. Each column shows relative time taken, with the fastest function given a base index of 1.0.\nres.div(res.min())\n\n                         10        30        100       300       1000      3000      10000     30000\nmask_standard         2.156872  1.850663  2.034149  2.166312  2.164541  3.090372  2.981326  3.131151\nmask_standard_loc     1.879035  1.782366  1.988823  2.338112  2.361391  3.036131  2.998112  2.990103\nmask_with_values      1.010166  1.000000  1.005113  1.026363  1.028698  1.293741  1.007824  1.016919\nmask_with_values_loc  1.196843  1.300228  1.000000  1.000000  1.038989  1.219233  1.037020  1.000000\nquery                 4.997304  4.765554  5.934096  4.500559  2.997924  2.397013  1.680447  1.398190\nxs_label              4.124597  4.272363  5.596152  4.295331  4.676591  5.710680  6.032809  8.950255\nmask_with_isin        1.674055  1.679935  1.847972  1.724183  1.345111  1.405231  1.253554  1.264760\nmask_with_in1d        1.000000  1.083807  1.220493  1.101929  1.000000  1.000000  1.000000  1.144175\n\nYou&apos;ll notice that the fastest times seem to be shared between mask_with_values and mask_with_in1d.\nres.T.plot(loglog=True)\n\n\nFunctions\ndef mask_standard(df):\n    mask = df[&apos;A&apos;] == &apos;foo&apos;\n    return df[mask]\n\ndef mask_standard_loc(df):\n    mask = df[&apos;A&apos;] == &apos;foo&apos;\n    return df.loc[mask]\n\ndef mask_with_values(df):\n    mask = df[&apos;A&apos;].values == &apos;foo&apos;\n    return df[mask]\n\ndef mask_with_values_loc(df):\n    mask = df[&apos;A&apos;].values == &apos;foo&apos;\n    return df.loc[mask]\n\ndef query(df):\n    return df.query(&apos;A == &quot;foo&quot;&apos;)\n\ndef xs_label(df):\n    return df.set_index(&apos;A&apos;, append=True, drop=False).xs(&apos;foo&apos;, level=-1)\n\ndef mask_with_isin(df):\n    mask = df[&apos;A&apos;].isin([&apos;foo&apos;])\n    return df[mask]\n\ndef mask_with_in1d(df):\n    mask = np.in1d(df[&apos;A&apos;].values, [&apos;foo&apos;])\n    return df[mask]\n\n\nTesting\nres = pd.DataFrame(\n    index=[\n        &apos;mask_standard&apos;, &apos;mask_standard_loc&apos;, &apos;mask_with_values&apos;, &apos;mask_with_values_loc&apos;,\n        &apos;query&apos;, &apos;xs_label&apos;, &apos;mask_with_isin&apos;, &apos;mask_with_in1d&apos;\n    ],\n    columns=[10, 30, 100, 300, 1000, 3000, 10000, 30000],\n    dtype=float\n)\n\nfor j in res.columns:\n    d = pd.concat([df] * j, ignore_index=True)\n    for i in res.index:a\n        stmt = &apos;{}(d)&apos;.format(i)\n        setp = &apos;from __main__ import d, {}&apos;.format(i)\n        res.at[i, j] = timeit(stmt, setp, number=50)\n\n\nSpecial Timing\nLooking at the special case when we have a single non-object dtype for the entire data frame.\nCode Below\nspec.div(spec.min())\n\n                     10        30        100       300       1000      3000      10000     30000\nmask_with_values  1.009030  1.000000  1.194276  1.000000  1.236892  1.095343  1.000000  1.000000\nmask_with_in1d    1.104638  1.094524  1.156930  1.072094  1.000000  1.000000  1.040043  1.027100\nreconstruct       1.000000  1.142838  1.000000  1.355440  1.650270  2.222181  2.294913  3.406735\n\nTurns out, reconstruction isn&apos;t worth it past a few hundred rows.\nspec.T.plot(loglog=True)\n\n\nFunctions\nnp.random.seed([3,1415])\nd1 = pd.DataFrame(np.random.randint(10, size=(10, 5)), columns=list(&apos;ABCDE&apos;))\n\ndef mask_with_values(df):\n    mask = df[&apos;A&apos;].values == &apos;foo&apos;\n    return df[mask]\n\ndef mask_with_in1d(df):\n    mask = np.in1d(df[&apos;A&apos;].values, [&apos;foo&apos;])\n    return df[mask]\n\ndef reconstruct(df):\n    v = df.values\n    mask = np.in1d(df[&apos;A&apos;].values, [&apos;foo&apos;])\n    return pd.DataFrame(v[mask], df.index[mask], df.columns)\n\nspec = pd.DataFrame(\n    index=[&apos;mask_with_values&apos;, &apos;mask_with_in1d&apos;, &apos;reconstruct&apos;],\n    columns=[10, 30, 100, 300, 1000, 3000, 10000, 30000],\n    dtype=float\n)\n\nTesting\nfor j in spec.columns:\n    d = pd.concat([df] * j, ignore_index=True)\n    for i in spec.index:\n        stmt = &apos;{}(d)&apos;.format(i)\n        setp = &apos;from __main__ import d, {}&apos;.format(i)\n        spec.at[i, j] = timeit(stmt, setp, number=50)\n\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"tl;dr\nThe Pandas equivalent to\nselect * from table where column_name = some_value\n\nis\ntable[table.column_name == some_value]\n\nMultiple conditions:\ntable[(table.column_name == some_value) | (table.column_name2 == some_value2)]\n\nor\ntable.query(&apos;column_name == some_value | column_name2 == some_value2&apos;)\n\nCode example\nimport pandas as pd\n\n# Create data set\nd = {&apos;foo&apos;:[100, 111, 222],\n     &apos;bar&apos;:[333, 444, 555]}\ndf = pd.DataFrame(d)\n\n# Full dataframe:\ndf\n\n# Shows:\n#    bar   foo\n# 0  333   100\n# 1  444   111\n# 2  555   222\n\n# Output only the row(s) in df where foo is 222:\ndf[df.foo == 222]\n\n# Shows:\n#    bar  foo\n# 2  555  222\n\nIn the above code it is the line df[df.foo == 222] that gives the rows based on the column value, 222 in this case.\nMultiple conditions are also possible:\ndf[(df.foo == 222) | (df.bar == 444)]\n#    bar  foo\n# 1  444  111\n# 2  555  222\n\nBut at that point I would recommend using the query function, since it&apos;s less verbose and yields the same result:\ndf.query(&apos;foo == 222 | bar == 444&apos;)\n\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"I find the syntax of the previous answers to be redundant and difficult to remember. Pandas introduced the query() method in v0.13 and I much prefer it. For your question, you could do df.query(&apos;col == val&apos;)\n\nReproduced from http://pandas.pydata.org/pandas-docs/version/0.17.0/indexing.html#indexing-query\n\nIn [167]: n = 10\n\nIn [168]: df = pd.DataFrame(np.random.rand(n, 3), columns=list(&apos;abc&apos;))\n\nIn [169]: df\nOut[169]: \n          a         b         c\n0  0.687704  0.582314  0.281645\n1  0.250846  0.610021  0.420121\n2  0.624328  0.401816  0.932146\n3  0.011763  0.022921  0.244186\n4  0.590198  0.325680  0.890392\n5  0.598892  0.296424  0.007312\n6  0.634625  0.803069  0.123872\n7  0.924168  0.325076  0.303746\n8  0.116822  0.364564  0.454607\n9  0.986142  0.751953  0.561512\n\n# pure python\nIn [170]: df[(df.a &lt; df.b) &amp; (df.b &lt; df.c)]\nOut[170]: \n          a         b         c\n3  0.011763  0.022921  0.244186\n8  0.116822  0.364564  0.454607\n\n# query\nIn [171]: df.query(&apos;(a &lt; b) &amp; (b &lt; c)&apos;)\nOut[171]: \n          a         b         c\n3  0.011763  0.022921  0.244186\n8  0.116822  0.364564  0.454607\n\n\nYou can also access variables in the environment by prepending an @.\n\nexclude = (&apos;red&apos;, &apos;orange&apos;)\ndf.query(&apos;color not in @exclude&apos;)\n\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"More flexibility using .query with pandas &gt;= 0.25.0:\nSince pandas &gt;= 0.25.0 we can use the query method to filter dataframes with pandas methods and even column names which have spaces. Normally the spaces in column names would give an error, but now we can solve that using a backtick (`) - see GitHub:\n# Example dataframe\ndf = pd.DataFrame({&apos;Sender email&apos;:[&apos;ex@example.com&apos;, &quot;reply@shop.com&quot;, &quot;buy@shop.com&quot;]})\n\n     Sender email\n0  ex@example.com\n1  reply@shop.com\n2    buy@shop.com\n\nUsing .query with method str.endswith:\ndf.query(&apos;`Sender email`.str.endswith(&quot;@shop.com&quot;)&apos;)\n\nOutput\n     Sender email\n1  reply@shop.com\n2    buy@shop.com\n\n\nAlso we can use local variables by prefixing it with an @ in our query:\ndomain = &apos;shop.com&apos;\ndf.query(&apos;`Sender email`.str.endswith(@domain)&apos;)\n\nOutput\n     Sender email\n1  reply@shop.com\n2    buy@shop.com\n\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"For selecting only specific columns out of multiple columns for a given value in Pandas:\nselect col_name1, col_name2 from table where column_name = some_value.\n\nOptions loc:\ndf.loc[df[&apos;column_name&apos;] == some_value, [col_name1, col_name2]]\n\nor query:\ndf.query(&apos;column_name == some_value&apos;)[[col_name1, col_name2]]\n\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"Faster results can be achieved using numpy.where. \n\nFor example, with unubtu&apos;s setup -\n\nIn [76]: df.iloc[np.where(df.A.values==&apos;foo&apos;)]\nOut[76]: \n     A      B  C   D\n0  foo    one  0   0\n2  foo    two  2   4\n4  foo    two  4   8\n6  foo    one  6  12\n7  foo  three  7  14\n\n\nTiming comparisons:\n\nIn [68]: %timeit df.iloc[np.where(df.A.values==&apos;foo&apos;)]  # fastest\n1000 loops, best of 3: 380 µs per loop\n\nIn [69]: %timeit df.loc[df[&apos;A&apos;] == &apos;foo&apos;]\n1000 loops, best of 3: 745 µs per loop\n\nIn [71]: %timeit df.loc[df[&apos;A&apos;].isin([&apos;foo&apos;])]\n1000 loops, best of 3: 562 µs per loop\n\nIn [72]: %timeit df[df.A==&apos;foo&apos;]\n1000 loops, best of 3: 796 µs per loop\n\nIn [74]: %timeit df.query(&apos;(A==&quot;foo&quot;)&apos;)  # slowest\n1000 loops, best of 3: 1.71 ms per loop\n\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"In newer versions of Pandas, inspired by the documentation (Viewing data):\ndf[df[&quot;colume_name&quot;] == some_value] #Scalar, True/False..\n\ndf[df[&quot;colume_name&quot;] == &quot;some_value&quot;] #String\n\nCombine multiple conditions by putting the clause in parentheses, (), and combining them with &amp; and | (and/or). Like this:\ndf[(df[&quot;colume_name&quot;] == &quot;some_value1&quot;) &amp; (pd[pd[&quot;colume_name&quot;] == &quot;some_value2&quot;])]\n\nOther filters\npandas.notna(df[&quot;colume_name&quot;]) == True # Not NaN\ndf[&apos;colume_name&apos;].str.contains(&quot;text&quot;) # Search for &quot;text&quot;\ndf[&apos;colume_name&apos;].str.lower().str.contains(&quot;text&quot;) # Search for &quot;text&quot;, after converting  to lowercase\n\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"Here is a simple example  \n\nfrom pandas import DataFrame\n\n# Create data set\nd = {&apos;Revenue&apos;:[100,111,222], \n     &apos;Cost&apos;:[333,444,555]}\ndf = DataFrame(d)\n\n\n# mask = Return True when the value in column &quot;Revenue&quot; is equal to 111\nmask = df[&apos;Revenue&apos;] == 111\n\nprint mask\n\n# Result:\n# 0    False\n# 1     True\n# 2    False\n# Name: Revenue, dtype: bool\n\n\n# Select * FROM df WHERE Revenue = 111\ndf[mask]\n\n# Result:\n#    Cost    Revenue\n# 1  444     111\n\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"To append to this famous question (though a bit too late): You can also do df.groupby(&apos;column_name&apos;).get_group(&apos;column_desired_value&apos;).reset_index() to make a new data frame with specified column having a particular value. E.g.\n\nimport pandas as pd\ndf = pd.DataFrame({&apos;A&apos;: &apos;foo bar foo bar foo bar foo foo&apos;.split(),\n                   &apos;B&apos;: &apos;one one two three two two one three&apos;.split()})\nprint(&quot;Original dataframe:&quot;)\nprint(df)\n\nb_is_two_dataframe = pd.DataFrame(df.groupby(&apos;B&apos;).get_group(&apos;two&apos;).reset_index()).drop(&apos;index&apos;, axis = 1) \n#NOTE: the final drop is to remove the extra index column returned by groupby object\nprint(&apos;Sub dataframe where B is two:&apos;)\nprint(b_is_two_dataframe)\n\n\nRun this gives:\n\nOriginal dataframe:\n     A      B\n0  foo    one\n1  bar    one\n2  foo    two\n3  bar  three\n4  foo    two\n5  bar    two\n6  foo    one\n7  foo  three\nSub dataframe where B is two:\n     A    B\n0  foo  two\n1  foo  two\n2  bar  two\n\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"You can also use .apply:\n\ndf.apply(lambda row: row[df[&apos;B&apos;].isin([&apos;one&apos;,&apos;three&apos;])])\n\n\nIt actually works row-wise (i.e., applies the function to each row).\n\nThe output is \n\n   A      B  C   D\n0  foo    one  0   0\n1  bar    one  1   2\n3  bar  three  3   6\n6  foo    one  6  12\n7  foo  three  7  14\n\n\nThe results is the same as using as mentioned by @unutbu\n\ndf[[df[&apos;B&apos;].isin([&apos;one&apos;,&apos;three&apos;])]]\n\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"If you want to make query to your dataframe repeatedly and speed is important to you, the best thing is to convert your dataframe to dictionary and then by doing this you can make query thousands of times faster.\nmy_df = df.set_index(column_name)\nmy_dict = my_df.to_dict(&apos;index&apos;)\n\nAfter make my_dict dictionary you can go through:\nif some_value in my_dict.keys():\n   my_result = my_dict[some_value]\n\nIf you have duplicated values in column_name you can&apos;t make a dictionary. but you can use:\nmy_result = my_df.loc[some_value]\n\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"SQL statements on DataFrames to select rows using DuckDB\nWith duckdb we can query pandas DataFrames with SQL statements, in a highly performant way.\nSince the question is How do I select rows from a DataFrame based on column values?, and the example in the question is a SQL query, this answer looks logical in this topic.\nExample:\nIn [1]: import duckdb\n\nIn [2]: import pandas as pd\n\nIn [3]: con = duckdb.connect()\n\nIn [4]: df = pd.DataFrame({&quot;A&quot;: range(11), &quot;B&quot;: range(11, 22)})\n\nIn [5]: df\nOut[5]:\n     A   B\n0    0  11\n1    1  12\n2    2  13\n3    3  14\n4    4  15\n5    5  16\n6    6  17\n7    7  18\n8    8  19\n9    9  20\n10  10  21\n\nIn [6]: results = con.execute(&quot;SELECT * FROM df where A &gt; 2&quot;).df()\n\nIn [7]: results\nOut[7]:\n    A   B\n0   3  14\n1   4  15\n2   5  16\n3   6  17\n4   7  18\n5   8  19\n6   9  20\n7  10  21\n\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"Great answers. Only, when the size of the dataframe approaches million rows, many of the methods tend to take ages when using df[df[&apos;col&apos;]==val]. I wanted to have all possible values of &quot;another_column&quot; that correspond to specific values in &quot;some_column&quot; (in this case in a dictionary). This worked and fast.\ns=datetime.datetime.now()\n\nmy_dict={}\n\nfor i, my_key in enumerate(df[&apos;some_column&apos;].values): \n    if i%100==0:\n        print(i)  # to see the progress\n    if my_key not in my_dict.keys():\n        my_dict[my_key]={}\n        my_dict[my_key][&apos;values&apos;]=[df.iloc[i][&apos;another_column&apos;]]\n    else:\n        my_dict[my_key][&apos;values&apos;].append(df.iloc[i][&apos;another_column&apos;])\n        \ne=datetime.datetime.now()\n\nprint(&apos;operation took &apos;+str(e-s)+&apos; seconds&apos;)```\n\n\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08d1a634dea6705e.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/150-12e9794e898cd5f3.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/108-87de33c23337ff53.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-928c5d1eb8fb0bba.js" defer=""></script><script src="/_next/static/BnkbnjkWYxefPXjTJLVVv/_buildManifest.js" defer=""></script><script src="/_next/static/BnkbnjkWYxefPXjTJLVVv/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-do-i-select-rows-from-a-dataframe-based-on-column-values-1657384901065#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-do-i-select-rows-from-a-dataframe-based-on-column-values-1657384901065"><h1>How do I select rows from a DataFrame based on column values?</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"></div></div><div class="question-content mt-5">
                
<p>How can I select rows from a <code>DataFrame</code> based on values in some column in Pandas?</p>
<p>In SQL, I would use:</p>
<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-keyword">table</span>
<span class="hljs-keyword">WHERE</span> column_name <span class="hljs-operator">=</span> some_value
</code></pre>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>To select rows whose column value equals a scalar, <code>some_value</code>, use <code>==</code>:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">df.loc[df[<span class="hljs-string">'column_name'</span>] == some_value]
</code></pre>

<p>To select rows whose column value is in an iterable, <code>some_values</code>, use <code>isin</code>:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">df.loc[df[<span class="hljs-string">'column_name'</span>].isin(some_values)]
</code></pre>

<p>Combine multiple conditions with <code>&amp;</code>: </p>

<pre class="lang-py s-code-block"><code class="hljs language-python">df.loc[(df[<span class="hljs-string">'column_name'</span>] &gt;= A) &amp; (df[<span class="hljs-string">'column_name'</span>] &lt;= B)]
</code></pre>

<p>Note the parentheses. Due to Python's <a href="https://docs.python.org/3/reference/expressions.html#operator-precedence" rel="noreferrer">operator precedence rules</a>, <code>&amp;</code> binds more tightly than <code>&lt;=</code> and <code>&gt;=</code>. Thus, the parentheses in the last example are necessary. Without the parentheses </p>

<pre class="lang-py s-code-block"><code class="hljs language-python">df[<span class="hljs-string">'column_name'</span>] &gt;= A &amp; df[<span class="hljs-string">'column_name'</span>] &lt;= B
</code></pre>

<p>is parsed as </p>

<pre class="lang-py s-code-block"><code class="hljs language-python">df[<span class="hljs-string">'column_name'</span>] &gt;= (A &amp; df[<span class="hljs-string">'column_name'</span>]) &lt;= B
</code></pre>

<p>which results in a <a href="https://stackoverflow.com/questions/36921951/truth-value-of-a-series-is-ambiguous-use-a-empty-a-bool-a-item-a-any-o">Truth value of a Series is ambiguous error</a>.</p>

<hr>

<p>To select rows whose column value <em>does not equal</em> <code>some_value</code>, use <code>!=</code>:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">df.loc[df[<span class="hljs-string">'column_name'</span>] != some_value]
</code></pre>

<p><code>isin</code> returns a boolean Series, so to select rows whose value is <em>not</em> in <code>some_values</code>, negate the boolean Series using <code>~</code>:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">df.loc[~df[<span class="hljs-string">'column_name'</span>].isin(some_values)]
</code></pre>

<hr>

<p>For example,</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
df = pd.DataFrame({<span class="hljs-string">'A'</span>: <span class="hljs-string">'foo bar foo bar foo bar foo foo'</span>.split(),
                   <span class="hljs-string">'B'</span>: <span class="hljs-string">'one one two three two two one three'</span>.split(),
                   <span class="hljs-string">'C'</span>: np.arange(<span class="hljs-number">8</span>), <span class="hljs-string">'D'</span>: np.arange(<span class="hljs-number">8</span>) * <span class="hljs-number">2</span>})
<span class="hljs-built_in">print</span>(df)
<span class="hljs-comment">#      A      B  C   D</span>
<span class="hljs-comment"># 0  foo    one  0   0</span>
<span class="hljs-comment"># 1  bar    one  1   2</span>
<span class="hljs-comment"># 2  foo    two  2   4</span>
<span class="hljs-comment"># 3  bar  three  3   6</span>
<span class="hljs-comment"># 4  foo    two  4   8</span>
<span class="hljs-comment"># 5  bar    two  5  10</span>
<span class="hljs-comment"># 6  foo    one  6  12</span>
<span class="hljs-comment"># 7  foo  three  7  14</span>

<span class="hljs-built_in">print</span>(df.loc[df[<span class="hljs-string">'A'</span>] == <span class="hljs-string">'foo'</span>])
</code></pre>

<p>yields</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">     A      B  C   D
<span class="hljs-number">0</span>  foo    one  <span class="hljs-number">0</span>   <span class="hljs-number">0</span>
<span class="hljs-number">2</span>  foo    two  <span class="hljs-number">2</span>   <span class="hljs-number">4</span>
<span class="hljs-number">4</span>  foo    two  <span class="hljs-number">4</span>   <span class="hljs-number">8</span>
<span class="hljs-number">6</span>  foo    one  <span class="hljs-number">6</span>  <span class="hljs-number">12</span>
<span class="hljs-number">7</span>  foo  three  <span class="hljs-number">7</span>  <span class="hljs-number">14</span>
</code></pre>

<hr>

<p>If you have multiple values you want to include, put them in a
list (or more generally, any iterable) and use <code>isin</code>:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-built_in">print</span>(df.loc[df[<span class="hljs-string">'B'</span>].isin([<span class="hljs-string">'one'</span>,<span class="hljs-string">'three'</span>])])
</code></pre>

<p>yields</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">     A      B  C   D
<span class="hljs-number">0</span>  foo    one  <span class="hljs-number">0</span>   <span class="hljs-number">0</span>
<span class="hljs-number">1</span>  bar    one  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>
<span class="hljs-number">3</span>  bar  three  <span class="hljs-number">3</span>   <span class="hljs-number">6</span>
<span class="hljs-number">6</span>  foo    one  <span class="hljs-number">6</span>  <span class="hljs-number">12</span>
<span class="hljs-number">7</span>  foo  three  <span class="hljs-number">7</span>  <span class="hljs-number">14</span>
</code></pre>

<hr>

<p>Note, however, that if you wish to do this many times, it is more efficient to
make an index first, and then use <code>df.loc</code>:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">df = df.set_index([<span class="hljs-string">'B'</span>])
<span class="hljs-built_in">print</span>(df.loc[<span class="hljs-string">'one'</span>])
</code></pre>

<p>yields</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">       A  C   D
B              
one  foo  <span class="hljs-number">0</span>   <span class="hljs-number">0</span>
one  bar  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>
one  foo  <span class="hljs-number">6</span>  <span class="hljs-number">12</span>
</code></pre>

<p>or, to include multiple values from the index use <code>df.index.isin</code>:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">df.loc[df.index.isin([<span class="hljs-string">'one'</span>,<span class="hljs-string">'two'</span>])]
</code></pre>

<p>yields</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">       A  C   D
B              
one  foo  <span class="hljs-number">0</span>   <span class="hljs-number">0</span>
one  bar  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>
two  foo  <span class="hljs-number">2</span>   <span class="hljs-number">4</span>
two  foo  <span class="hljs-number">4</span>   <span class="hljs-number">8</span>
two  bar  <span class="hljs-number">5</span>  <span class="hljs-number">10</span>
one  foo  <span class="hljs-number">6</span>  <span class="hljs-number">12</span>
</code></pre>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>There are several ways to select rows from a Pandas dataframe:</p>
<ol>
<li><strong>Boolean indexing (<code>df[df['col'] == value</code>] )</strong></li>
<li><strong>Positional indexing (<code>df.iloc[...]</code>)</strong></li>
<li><strong>Label indexing (<code>df.xs(...)</code>)</strong></li>
<li><strong><code>df.query(...)</code> API</strong></li>
</ol>
<p>Below I show you examples of each, with advice when to use certain techniques. Assume our criterion is column <code>'A'</code> == <code>'foo'</code></p>
<p>(Note on performance: For each base type, we can keep things simple by using the Pandas API or we can venture outside the API, usually into NumPy, and speed things up.)</p>
<hr>
<p><strong>Setup</strong></p>
<p>The first thing we'll need is to identify a condition that will act as our criterion for selecting rows. We'll start with the OP's case <code>column_name == some_value</code>, and include some other common use cases.</p>
<p>Borrowing from @unutbu:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd, numpy <span class="hljs-keyword">as</span> np

df = pd.DataFrame({<span class="hljs-string">'A'</span>: <span class="hljs-string">'foo bar foo bar foo bar foo foo'</span>.split(),
                   <span class="hljs-string">'B'</span>: <span class="hljs-string">'one one two three two two one three'</span>.split(),
                   <span class="hljs-string">'C'</span>: np.arange(<span class="hljs-number">8</span>), <span class="hljs-string">'D'</span>: np.arange(<span class="hljs-number">8</span>) * <span class="hljs-number">2</span>})
</code></pre>
<hr>
<h1><strong>1. Boolean indexing</strong></h1>
<p>... Boolean indexing requires finding the true value of each row's <code>'A'</code> column being equal to <code>'foo'</code>, then using those truth values to identify which rows to keep.  Typically, we'd name this series, an array of truth values, <code>mask</code>.  We'll do so here as well.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">mask = df[<span class="hljs-string">'A'</span>] == <span class="hljs-string">'foo'</span>
</code></pre>
<p>We can then use this mask to slice or index the data frame</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">df[mask]

     A      B  C   D
<span class="hljs-number">0</span>  foo    one  <span class="hljs-number">0</span>   <span class="hljs-number">0</span>
<span class="hljs-number">2</span>  foo    two  <span class="hljs-number">2</span>   <span class="hljs-number">4</span>
<span class="hljs-number">4</span>  foo    two  <span class="hljs-number">4</span>   <span class="hljs-number">8</span>
<span class="hljs-number">6</span>  foo    one  <span class="hljs-number">6</span>  <span class="hljs-number">12</span>
<span class="hljs-number">7</span>  foo  three  <span class="hljs-number">7</span>  <span class="hljs-number">14</span>
</code></pre>
<p>This is one of the simplest ways to accomplish this task and if performance or intuitiveness isn't an issue, this should be your chosen method.  However, if performance is a concern, then you might want to consider an alternative way of creating the <code>mask</code>.</p>
<hr>
<h1><strong>2. Positional indexing</strong></h1>
<p>Positional indexing (<code>df.iloc[...]</code>) has its use cases, but this isn't one of them.  In order to identify where to slice, we first need to perform the same boolean analysis we did above.  This leaves us performing one extra step to accomplish the same task.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">mask = df[<span class="hljs-string">'A'</span>] == <span class="hljs-string">'foo'</span>
pos = np.flatnonzero(mask)
df.iloc[pos]

     A      B  C   D
<span class="hljs-number">0</span>  foo    one  <span class="hljs-number">0</span>   <span class="hljs-number">0</span>
<span class="hljs-number">2</span>  foo    two  <span class="hljs-number">2</span>   <span class="hljs-number">4</span>
<span class="hljs-number">4</span>  foo    two  <span class="hljs-number">4</span>   <span class="hljs-number">8</span>
<span class="hljs-number">6</span>  foo    one  <span class="hljs-number">6</span>  <span class="hljs-number">12</span>
<span class="hljs-number">7</span>  foo  three  <span class="hljs-number">7</span>  <span class="hljs-number">14</span>
</code></pre>
<h1><strong>3. Label indexing</strong></h1>
<p><em>Label</em> indexing can be very handy, but in this case, we are again doing more work for no benefit</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">df.set_index(<span class="hljs-string">'A'</span>, append=<span class="hljs-literal">True</span>, drop=<span class="hljs-literal">False</span>).xs(<span class="hljs-string">'foo'</span>, level=<span class="hljs-number">1</span>)

     A      B  C   D
<span class="hljs-number">0</span>  foo    one  <span class="hljs-number">0</span>   <span class="hljs-number">0</span>
<span class="hljs-number">2</span>  foo    two  <span class="hljs-number">2</span>   <span class="hljs-number">4</span>
<span class="hljs-number">4</span>  foo    two  <span class="hljs-number">4</span>   <span class="hljs-number">8</span>
<span class="hljs-number">6</span>  foo    one  <span class="hljs-number">6</span>  <span class="hljs-number">12</span>
<span class="hljs-number">7</span>  foo  three  <span class="hljs-number">7</span>  <span class="hljs-number">14</span>
</code></pre>
<h1><strong>4. <code>df.query()</code> API</strong></h1>
<p><em><code>pd.DataFrame.query</code></em> is a very elegant/intuitive way to perform this task, but is often slower. <strong>However</strong>, if you pay attention to the timings below, for large data, the query is very efficient. More so than the standard approach and of similar magnitude as my best suggestion.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">df.query(<span class="hljs-string">'A == "foo"'</span>)

     A      B  C   D
<span class="hljs-number">0</span>  foo    one  <span class="hljs-number">0</span>   <span class="hljs-number">0</span>
<span class="hljs-number">2</span>  foo    two  <span class="hljs-number">2</span>   <span class="hljs-number">4</span>
<span class="hljs-number">4</span>  foo    two  <span class="hljs-number">4</span>   <span class="hljs-number">8</span>
<span class="hljs-number">6</span>  foo    one  <span class="hljs-number">6</span>  <span class="hljs-number">12</span>
<span class="hljs-number">7</span>  foo  three  <span class="hljs-number">7</span>  <span class="hljs-number">14</span>
</code></pre>
<hr>
<p>My preference is to use the <code>Boolean</code> <code>mask</code></p>
<p>Actual improvements can be made by modifying how we create our <code>Boolean</code> <code>mask</code>.</p>
<p><strong><code>mask</code> alternative 1</strong>
<em>Use the underlying NumPy array and forgo the overhead of creating another <code>pd.Series</code></em></p>
<pre class="lang-py s-code-block"><code class="hljs language-python">mask = df[<span class="hljs-string">'A'</span>].values == <span class="hljs-string">'foo'</span>
</code></pre>
<p>I'll show more complete time tests at the end, but just take a look at the performance gains we get using the sample data frame.  First, we look at the difference in creating the <code>mask</code></p>
<pre class="lang-py s-code-block"><code class="hljs language-python">%timeit mask = df[<span class="hljs-string">'A'</span>].values == <span class="hljs-string">'foo'</span>
%timeit mask = df[<span class="hljs-string">'A'</span>] == <span class="hljs-string">'foo'</span>

<span class="hljs-number">5.84</span> µs ± <span class="hljs-number">195</span> ns per loop (mean ± std. dev. of <span class="hljs-number">7</span> runs, <span class="hljs-number">100000</span> loops each)
<span class="hljs-number">166</span> µs ± <span class="hljs-number">4.45</span> µs per loop (mean ± std. dev. of <span class="hljs-number">7</span> runs, <span class="hljs-number">10000</span> loops each)
</code></pre>
<p>Evaluating the <code>mask</code> with the NumPy array is ~ 30 times faster.  This is partly due to NumPy evaluation often being faster. It is also partly due to the lack of overhead necessary to build an index and a corresponding <code>pd.Series</code> object.</p>
<p>Next, we'll look at the timing for slicing with one <code>mask</code> versus the other.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">mask = df[<span class="hljs-string">'A'</span>].values == <span class="hljs-string">'foo'</span>
%timeit df[mask]
mask = df[<span class="hljs-string">'A'</span>] == <span class="hljs-string">'foo'</span>
%timeit df[mask]

<span class="hljs-number">219</span> µs ± <span class="hljs-number">12.3</span> µs per loop (mean ± std. dev. of <span class="hljs-number">7</span> runs, <span class="hljs-number">1000</span> loops each)
<span class="hljs-number">239</span> µs ± <span class="hljs-number">7.03</span> µs per loop (mean ± std. dev. of <span class="hljs-number">7</span> runs, <span class="hljs-number">1000</span> loops each)
</code></pre>
<p>The performance gains aren't as pronounced.  We'll see if this holds up over more robust testing.</p>
<hr>
<p><strong><code>mask</code> alternative 2</strong>
We could have reconstructed the data frame as well.  There is a big caveat when reconstructing a dataframeyou must take care of the <code>dtypes</code> when doing so!</p>
<p>Instead of <code>df[mask]</code> we will do this</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">pd.DataFrame(df.values[mask], df.index[mask], df.columns).astype(df.dtypes)
</code></pre>
<p>If the data frame is of mixed type, which our example is, then when we get <code>df.values</code> the resulting array is of <code>dtype</code> <code>object</code> and consequently, all columns of the new data frame will be of <code>dtype</code> <code>object</code>.  Thus requiring the <code>astype(df.dtypes)</code> and killing any potential performance gains.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">%timeit df[m]
%timeit pd.DataFrame(df.values[mask], df.index[mask], df.columns).astype(df.dtypes)

<span class="hljs-number">216</span> µs ± <span class="hljs-number">10.4</span> µs per loop (mean ± std. dev. of <span class="hljs-number">7</span> runs, <span class="hljs-number">1000</span> loops each)
<span class="hljs-number">1.43</span> ms ± <span class="hljs-number">39.6</span> µs per loop (mean ± std. dev. of <span class="hljs-number">7</span> runs, <span class="hljs-number">1000</span> loops each)
</code></pre>
<p>However, if the data frame is not of mixed type, this is a very useful way to do it.</p>
<p>Given</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">np.random.seed([<span class="hljs-number">3</span>,<span class="hljs-number">1415</span>])
d1 = pd.DataFrame(np.random.randint(<span class="hljs-number">10</span>, size=(<span class="hljs-number">10</span>, <span class="hljs-number">5</span>)), columns=<span class="hljs-built_in">list</span>(<span class="hljs-string">'ABCDE'</span>))

d1

   A  B  C  D  E
<span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">2</span>  <span class="hljs-number">7</span>  <span class="hljs-number">3</span>  <span class="hljs-number">8</span>
<span class="hljs-number">1</span>  <span class="hljs-number">7</span>  <span class="hljs-number">0</span>  <span class="hljs-number">6</span>  <span class="hljs-number">8</span>  <span class="hljs-number">6</span>
<span class="hljs-number">2</span>  <span class="hljs-number">0</span>  <span class="hljs-number">2</span>  <span class="hljs-number">0</span>  <span class="hljs-number">4</span>  <span class="hljs-number">9</span>
<span class="hljs-number">3</span>  <span class="hljs-number">7</span>  <span class="hljs-number">3</span>  <span class="hljs-number">2</span>  <span class="hljs-number">4</span>  <span class="hljs-number">3</span>
<span class="hljs-number">4</span>  <span class="hljs-number">3</span>  <span class="hljs-number">6</span>  <span class="hljs-number">7</span>  <span class="hljs-number">7</span>  <span class="hljs-number">4</span>
<span class="hljs-number">5</span>  <span class="hljs-number">5</span>  <span class="hljs-number">3</span>  <span class="hljs-number">7</span>  <span class="hljs-number">5</span>  <span class="hljs-number">9</span>
<span class="hljs-number">6</span>  <span class="hljs-number">8</span>  <span class="hljs-number">7</span>  <span class="hljs-number">6</span>  <span class="hljs-number">4</span>  <span class="hljs-number">7</span>
<span class="hljs-number">7</span>  <span class="hljs-number">6</span>  <span class="hljs-number">2</span>  <span class="hljs-number">6</span>  <span class="hljs-number">6</span>  <span class="hljs-number">5</span>
<span class="hljs-number">8</span>  <span class="hljs-number">2</span>  <span class="hljs-number">8</span>  <span class="hljs-number">7</span>  <span class="hljs-number">5</span>  <span class="hljs-number">8</span>
<span class="hljs-number">9</span>  <span class="hljs-number">4</span>  <span class="hljs-number">7</span>  <span class="hljs-number">6</span>  <span class="hljs-number">1</span>  <span class="hljs-number">5</span>
</code></pre>
<hr>
<pre class="lang-py s-code-block"><code class="hljs language-python">%%timeit
mask = d1[<span class="hljs-string">'A'</span>].values == <span class="hljs-number">7</span>
d1[mask]

<span class="hljs-number">179</span> µs ± <span class="hljs-number">8.73</span> µs per loop (mean ± std. dev. of <span class="hljs-number">7</span> runs, <span class="hljs-number">10000</span> loops each)
</code></pre>
<p>Versus</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">%%timeit
mask = d1[<span class="hljs-string">'A'</span>].values == <span class="hljs-number">7</span>
pd.DataFrame(d1.values[mask], d1.index[mask], d1.columns)

<span class="hljs-number">87</span> µs ± <span class="hljs-number">5.12</span> µs per loop (mean ± std. dev. of <span class="hljs-number">7</span> runs, <span class="hljs-number">10000</span> loops each)
</code></pre>
<p>We cut the time in half.</p>
<hr>
<p><strong><code>mask</code> alternative 3</strong></p>
<p>@unutbu also shows us how to use <code>pd.Series.isin</code> to account for each element of <code>df['A']</code> being in a set of values.  This evaluates to the same thing if our set of values is a set of one value, namely <code>'foo'</code>.  But it also generalizes to include larger sets of values if needed.  Turns out, this is still pretty fast even though it is a more general solution.  The only real loss is in intuitiveness for those not familiar with the concept.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">mask = df[<span class="hljs-string">'A'</span>].isin([<span class="hljs-string">'foo'</span>])
df[mask]

     A      B  C   D
<span class="hljs-number">0</span>  foo    one  <span class="hljs-number">0</span>   <span class="hljs-number">0</span>
<span class="hljs-number">2</span>  foo    two  <span class="hljs-number">2</span>   <span class="hljs-number">4</span>
<span class="hljs-number">4</span>  foo    two  <span class="hljs-number">4</span>   <span class="hljs-number">8</span>
<span class="hljs-number">6</span>  foo    one  <span class="hljs-number">6</span>  <span class="hljs-number">12</span>
<span class="hljs-number">7</span>  foo  three  <span class="hljs-number">7</span>  <span class="hljs-number">14</span>
</code></pre>
<p>However, as before, we can utilize NumPy to improve performance while sacrificing virtually nothing. We'll use <code>np.in1d</code></p>
<pre class="lang-py s-code-block"><code class="hljs language-python">mask = np.in1d(df[<span class="hljs-string">'A'</span>].values, [<span class="hljs-string">'foo'</span>])
df[mask]

     A      B  C   D
<span class="hljs-number">0</span>  foo    one  <span class="hljs-number">0</span>   <span class="hljs-number">0</span>
<span class="hljs-number">2</span>  foo    two  <span class="hljs-number">2</span>   <span class="hljs-number">4</span>
<span class="hljs-number">4</span>  foo    two  <span class="hljs-number">4</span>   <span class="hljs-number">8</span>
<span class="hljs-number">6</span>  foo    one  <span class="hljs-number">6</span>  <span class="hljs-number">12</span>
<span class="hljs-number">7</span>  foo  three  <span class="hljs-number">7</span>  <span class="hljs-number">14</span>
</code></pre>
<hr>
<p><strong>Timing</strong></p>
<p>I'll include other concepts mentioned in other posts as well for reference.</p>
<p><em>Code Below</em></p>
<p>Each <em>column</em> in this table represents a different length data frame over which we test each function. Each column shows relative time taken, with the fastest function given a base index of <code>1.0</code>.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">res.div(res.<span class="hljs-built_in">min</span>())

                         <span class="hljs-number">10</span>        <span class="hljs-number">30</span>        <span class="hljs-number">100</span>       <span class="hljs-number">300</span>       <span class="hljs-number">1000</span>      <span class="hljs-number">3000</span>      <span class="hljs-number">10000</span>     <span class="hljs-number">30000</span>
mask_standard         <span class="hljs-number">2.156872</span>  <span class="hljs-number">1.850663</span>  <span class="hljs-number">2.034149</span>  <span class="hljs-number">2.166312</span>  <span class="hljs-number">2.164541</span>  <span class="hljs-number">3.090372</span>  <span class="hljs-number">2.981326</span>  <span class="hljs-number">3.131151</span>
mask_standard_loc     <span class="hljs-number">1.879035</span>  <span class="hljs-number">1.782366</span>  <span class="hljs-number">1.988823</span>  <span class="hljs-number">2.338112</span>  <span class="hljs-number">2.361391</span>  <span class="hljs-number">3.036131</span>  <span class="hljs-number">2.998112</span>  <span class="hljs-number">2.990103</span>
mask_with_values      <span class="hljs-number">1.010166</span>  <span class="hljs-number">1.000000</span>  <span class="hljs-number">1.005113</span>  <span class="hljs-number">1.026363</span>  <span class="hljs-number">1.028698</span>  <span class="hljs-number">1.293741</span>  <span class="hljs-number">1.007824</span>  <span class="hljs-number">1.016919</span>
mask_with_values_loc  <span class="hljs-number">1.196843</span>  <span class="hljs-number">1.300228</span>  <span class="hljs-number">1.000000</span>  <span class="hljs-number">1.000000</span>  <span class="hljs-number">1.038989</span>  <span class="hljs-number">1.219233</span>  <span class="hljs-number">1.037020</span>  <span class="hljs-number">1.000000</span>
query                 <span class="hljs-number">4.997304</span>  <span class="hljs-number">4.765554</span>  <span class="hljs-number">5.934096</span>  <span class="hljs-number">4.500559</span>  <span class="hljs-number">2.997924</span>  <span class="hljs-number">2.397013</span>  <span class="hljs-number">1.680447</span>  <span class="hljs-number">1.398190</span>
xs_label              <span class="hljs-number">4.124597</span>  <span class="hljs-number">4.272363</span>  <span class="hljs-number">5.596152</span>  <span class="hljs-number">4.295331</span>  <span class="hljs-number">4.676591</span>  <span class="hljs-number">5.710680</span>  <span class="hljs-number">6.032809</span>  <span class="hljs-number">8.950255</span>
mask_with_isin        <span class="hljs-number">1.674055</span>  <span class="hljs-number">1.679935</span>  <span class="hljs-number">1.847972</span>  <span class="hljs-number">1.724183</span>  <span class="hljs-number">1.345111</span>  <span class="hljs-number">1.405231</span>  <span class="hljs-number">1.253554</span>  <span class="hljs-number">1.264760</span>
mask_with_in1d        <span class="hljs-number">1.000000</span>  <span class="hljs-number">1.083807</span>  <span class="hljs-number">1.220493</span>  <span class="hljs-number">1.101929</span>  <span class="hljs-number">1.000000</span>  <span class="hljs-number">1.000000</span>  <span class="hljs-number">1.000000</span>  <span class="hljs-number">1.144175</span>
</code></pre>
<p>You'll notice that the fastest times seem to be shared between <code>mask_with_values</code> and <code>mask_with_in1d</code>.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">res.T.plot(loglog=<span class="hljs-literal">True</span>)
</code></pre>
<p><a href="https://i.stack.imgur.com/ljeTd.png" rel="noreferrer"><img src="https://i.stack.imgur.com/ljeTd.png" alt="Enter image description here"></a></p>
<p><strong>Functions</strong></p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">mask_standard</span>(<span class="hljs-params">df</span>):
    mask = df[<span class="hljs-string">'A'</span>] == <span class="hljs-string">'foo'</span>
    <span class="hljs-keyword">return</span> df[mask]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">mask_standard_loc</span>(<span class="hljs-params">df</span>):
    mask = df[<span class="hljs-string">'A'</span>] == <span class="hljs-string">'foo'</span>
    <span class="hljs-keyword">return</span> df.loc[mask]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">mask_with_values</span>(<span class="hljs-params">df</span>):
    mask = df[<span class="hljs-string">'A'</span>].values == <span class="hljs-string">'foo'</span>
    <span class="hljs-keyword">return</span> df[mask]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">mask_with_values_loc</span>(<span class="hljs-params">df</span>):
    mask = df[<span class="hljs-string">'A'</span>].values == <span class="hljs-string">'foo'</span>
    <span class="hljs-keyword">return</span> df.loc[mask]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">query</span>(<span class="hljs-params">df</span>):
    <span class="hljs-keyword">return</span> df.query(<span class="hljs-string">'A == "foo"'</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">xs_label</span>(<span class="hljs-params">df</span>):
    <span class="hljs-keyword">return</span> df.set_index(<span class="hljs-string">'A'</span>, append=<span class="hljs-literal">True</span>, drop=<span class="hljs-literal">False</span>).xs(<span class="hljs-string">'foo'</span>, level=-<span class="hljs-number">1</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">mask_with_isin</span>(<span class="hljs-params">df</span>):
    mask = df[<span class="hljs-string">'A'</span>].isin([<span class="hljs-string">'foo'</span>])
    <span class="hljs-keyword">return</span> df[mask]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">mask_with_in1d</span>(<span class="hljs-params">df</span>):
    mask = np.in1d(df[<span class="hljs-string">'A'</span>].values, [<span class="hljs-string">'foo'</span>])
    <span class="hljs-keyword">return</span> df[mask]
</code></pre>
<hr>
<p><strong>Testing</strong></p>
<pre class="lang-py s-code-block"><code class="hljs language-python">res = pd.DataFrame(
    index=[
        <span class="hljs-string">'mask_standard'</span>, <span class="hljs-string">'mask_standard_loc'</span>, <span class="hljs-string">'mask_with_values'</span>, <span class="hljs-string">'mask_with_values_loc'</span>,
        <span class="hljs-string">'query'</span>, <span class="hljs-string">'xs_label'</span>, <span class="hljs-string">'mask_with_isin'</span>, <span class="hljs-string">'mask_with_in1d'</span>
    ],
    columns=[<span class="hljs-number">10</span>, <span class="hljs-number">30</span>, <span class="hljs-number">100</span>, <span class="hljs-number">300</span>, <span class="hljs-number">1000</span>, <span class="hljs-number">3000</span>, <span class="hljs-number">10000</span>, <span class="hljs-number">30000</span>],
    dtype=<span class="hljs-built_in">float</span>
)

<span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> res.columns:
    d = pd.concat([df] * j, ignore_index=<span class="hljs-literal">True</span>)
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> res.index:a
        stmt = <span class="hljs-string">'{}(d)'</span>.<span class="hljs-built_in">format</span>(i)
        setp = <span class="hljs-string">'from __main__ import d, {}'</span>.<span class="hljs-built_in">format</span>(i)
        res.at[i, j] = timeit(stmt, setp, number=<span class="hljs-number">50</span>)
</code></pre>
<hr>
<p><strong>Special Timing</strong></p>
<p>Looking at the special case when we have a single non-object <code>dtype</code> for the entire data frame.</p>
<p><em>Code Below</em></p>
<pre class="lang-py s-code-block"><code class="hljs language-python">spec.div(spec.<span class="hljs-built_in">min</span>())

                     <span class="hljs-number">10</span>        <span class="hljs-number">30</span>        <span class="hljs-number">100</span>       <span class="hljs-number">300</span>       <span class="hljs-number">1000</span>      <span class="hljs-number">3000</span>      <span class="hljs-number">10000</span>     <span class="hljs-number">30000</span>
mask_with_values  <span class="hljs-number">1.009030</span>  <span class="hljs-number">1.000000</span>  <span class="hljs-number">1.194276</span>  <span class="hljs-number">1.000000</span>  <span class="hljs-number">1.236892</span>  <span class="hljs-number">1.095343</span>  <span class="hljs-number">1.000000</span>  <span class="hljs-number">1.000000</span>
mask_with_in1d    <span class="hljs-number">1.104638</span>  <span class="hljs-number">1.094524</span>  <span class="hljs-number">1.156930</span>  <span class="hljs-number">1.072094</span>  <span class="hljs-number">1.000000</span>  <span class="hljs-number">1.000000</span>  <span class="hljs-number">1.040043</span>  <span class="hljs-number">1.027100</span>
reconstruct       <span class="hljs-number">1.000000</span>  <span class="hljs-number">1.142838</span>  <span class="hljs-number">1.000000</span>  <span class="hljs-number">1.355440</span>  <span class="hljs-number">1.650270</span>  <span class="hljs-number">2.222181</span>  <span class="hljs-number">2.294913</span>  <span class="hljs-number">3.406735</span>
</code></pre>
<p>Turns out, reconstruction isn't worth it past a few hundred rows.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">spec.T.plot(loglog=<span class="hljs-literal">True</span>)
</code></pre>
<p><a href="https://i.stack.imgur.com/K1bNc.png" rel="noreferrer"><img src="https://i.stack.imgur.com/K1bNc.png" alt="Enter image description here"></a></p>
<p><strong>Functions</strong></p>
<pre class="lang-py s-code-block"><code class="hljs language-python">np.random.seed([<span class="hljs-number">3</span>,<span class="hljs-number">1415</span>])
d1 = pd.DataFrame(np.random.randint(<span class="hljs-number">10</span>, size=(<span class="hljs-number">10</span>, <span class="hljs-number">5</span>)), columns=<span class="hljs-built_in">list</span>(<span class="hljs-string">'ABCDE'</span>))

<span class="hljs-keyword">def</span> <span class="hljs-title function_">mask_with_values</span>(<span class="hljs-params">df</span>):
    mask = df[<span class="hljs-string">'A'</span>].values == <span class="hljs-string">'foo'</span>
    <span class="hljs-keyword">return</span> df[mask]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">mask_with_in1d</span>(<span class="hljs-params">df</span>):
    mask = np.in1d(df[<span class="hljs-string">'A'</span>].values, [<span class="hljs-string">'foo'</span>])
    <span class="hljs-keyword">return</span> df[mask]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">reconstruct</span>(<span class="hljs-params">df</span>):
    v = df.values
    mask = np.in1d(df[<span class="hljs-string">'A'</span>].values, [<span class="hljs-string">'foo'</span>])
    <span class="hljs-keyword">return</span> pd.DataFrame(v[mask], df.index[mask], df.columns)

spec = pd.DataFrame(
    index=[<span class="hljs-string">'mask_with_values'</span>, <span class="hljs-string">'mask_with_in1d'</span>, <span class="hljs-string">'reconstruct'</span>],
    columns=[<span class="hljs-number">10</span>, <span class="hljs-number">30</span>, <span class="hljs-number">100</span>, <span class="hljs-number">300</span>, <span class="hljs-number">1000</span>, <span class="hljs-number">3000</span>, <span class="hljs-number">10000</span>, <span class="hljs-number">30000</span>],
    dtype=<span class="hljs-built_in">float</span>
)
</code></pre>
<p><strong>Testing</strong></p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> spec.columns:
    d = pd.concat([df] * j, ignore_index=<span class="hljs-literal">True</span>)
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> spec.index:
        stmt = <span class="hljs-string">'{}(d)'</span>.<span class="hljs-built_in">format</span>(i)
        setp = <span class="hljs-string">'from __main__ import d, {}'</span>.<span class="hljs-built_in">format</span>(i)
        spec.at[i, j] = timeit(stmt, setp, number=<span class="hljs-number">50</span>)
</code></pre>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h3>tl;dr</h3>
<p>The Pandas equivalent to</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">select * <span class="hljs-keyword">from</span> table where column_name = some_value
</code></pre>
<p>is</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">table[table.column_name == some_value]
</code></pre>
<p>Multiple conditions:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">table[(table.column_name == some_value) | (table.column_name2 == some_value2)]
</code></pre>
<p>or</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">table.query(<span class="hljs-string">'column_name == some_value | column_name2 == some_value2'</span>)
</code></pre>
<h3>Code example</h3>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

<span class="hljs-comment"># Create data set</span>
d = {<span class="hljs-string">'foo'</span>:[<span class="hljs-number">100</span>, <span class="hljs-number">111</span>, <span class="hljs-number">222</span>],
     <span class="hljs-string">'bar'</span>:[<span class="hljs-number">333</span>, <span class="hljs-number">444</span>, <span class="hljs-number">555</span>]}
df = pd.DataFrame(d)

<span class="hljs-comment"># Full dataframe:</span>
df

<span class="hljs-comment"># Shows:</span>
<span class="hljs-comment">#    bar   foo</span>
<span class="hljs-comment"># 0  333   100</span>
<span class="hljs-comment"># 1  444   111</span>
<span class="hljs-comment"># 2  555   222</span>

<span class="hljs-comment"># Output only the row(s) in df where foo is 222:</span>
df[df.foo == <span class="hljs-number">222</span>]

<span class="hljs-comment"># Shows:</span>
<span class="hljs-comment">#    bar  foo</span>
<span class="hljs-comment"># 2  555  222</span>
</code></pre>
<p>In the above code it is the line <code>df[df.foo == 222]</code> that gives the rows based on the column value, <code>222</code> in this case.</p>
<p>Multiple conditions are also possible:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">df[(df.foo == <span class="hljs-number">222</span>) | (df.bar == <span class="hljs-number">444</span>)]
<span class="hljs-comment">#    bar  foo</span>
<span class="hljs-comment"># 1  444  111</span>
<span class="hljs-comment"># 2  555  222</span>
</code></pre>
<p>But at that point I would recommend using the <a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.query.html" rel="noreferrer">query</a> function, since it's less verbose and yields the same result:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">df.query(<span class="hljs-string">'foo == 222 | bar == 444'</span>)
</code></pre>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I find the syntax of the previous answers to be redundant and difficult to remember. Pandas introduced the <code>query()</code> method in v0.13 and I much prefer it. For your question, you could do <code>df.query('col == val')</code></p>

<p>Reproduced from <a href="http://pandas.pydata.org/pandas-docs/version/0.17.0/indexing.html#indexing-query">http://pandas.pydata.org/pandas-docs/version/0.17.0/indexing.html#indexing-query</a></p>

<pre class="lang-py s-code-block"><code class="hljs language-python">In [<span class="hljs-number">167</span>]: n = <span class="hljs-number">10</span>

In [<span class="hljs-number">168</span>]: df = pd.DataFrame(np.random.rand(n, <span class="hljs-number">3</span>), columns=<span class="hljs-built_in">list</span>(<span class="hljs-string">'abc'</span>))

In [<span class="hljs-number">169</span>]: df
Out[<span class="hljs-number">169</span>]: 
          a         b         c
<span class="hljs-number">0</span>  <span class="hljs-number">0.687704</span>  <span class="hljs-number">0.582314</span>  <span class="hljs-number">0.281645</span>
<span class="hljs-number">1</span>  <span class="hljs-number">0.250846</span>  <span class="hljs-number">0.610021</span>  <span class="hljs-number">0.420121</span>
<span class="hljs-number">2</span>  <span class="hljs-number">0.624328</span>  <span class="hljs-number">0.401816</span>  <span class="hljs-number">0.932146</span>
<span class="hljs-number">3</span>  <span class="hljs-number">0.011763</span>  <span class="hljs-number">0.022921</span>  <span class="hljs-number">0.244186</span>
<span class="hljs-number">4</span>  <span class="hljs-number">0.590198</span>  <span class="hljs-number">0.325680</span>  <span class="hljs-number">0.890392</span>
<span class="hljs-number">5</span>  <span class="hljs-number">0.598892</span>  <span class="hljs-number">0.296424</span>  <span class="hljs-number">0.007312</span>
<span class="hljs-number">6</span>  <span class="hljs-number">0.634625</span>  <span class="hljs-number">0.803069</span>  <span class="hljs-number">0.123872</span>
<span class="hljs-number">7</span>  <span class="hljs-number">0.924168</span>  <span class="hljs-number">0.325076</span>  <span class="hljs-number">0.303746</span>
<span class="hljs-number">8</span>  <span class="hljs-number">0.116822</span>  <span class="hljs-number">0.364564</span>  <span class="hljs-number">0.454607</span>
<span class="hljs-number">9</span>  <span class="hljs-number">0.986142</span>  <span class="hljs-number">0.751953</span>  <span class="hljs-number">0.561512</span>

<span class="hljs-comment"># pure python</span>
In [<span class="hljs-number">170</span>]: df[(df.a &lt; df.b) &amp; (df.b &lt; df.c)]
Out[<span class="hljs-number">170</span>]: 
          a         b         c
<span class="hljs-number">3</span>  <span class="hljs-number">0.011763</span>  <span class="hljs-number">0.022921</span>  <span class="hljs-number">0.244186</span>
<span class="hljs-number">8</span>  <span class="hljs-number">0.116822</span>  <span class="hljs-number">0.364564</span>  <span class="hljs-number">0.454607</span>

<span class="hljs-comment"># query</span>
In [<span class="hljs-number">171</span>]: df.query(<span class="hljs-string">'(a &lt; b) &amp; (b &lt; c)'</span>)
Out[<span class="hljs-number">171</span>]: 
          a         b         c
<span class="hljs-number">3</span>  <span class="hljs-number">0.011763</span>  <span class="hljs-number">0.022921</span>  <span class="hljs-number">0.244186</span>
<span class="hljs-number">8</span>  <span class="hljs-number">0.116822</span>  <span class="hljs-number">0.364564</span>  <span class="hljs-number">0.454607</span>
</code></pre>

<p>You can also access variables in the environment by prepending an <code>@</code>.</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">exclude = (<span class="hljs-string">'red'</span>, <span class="hljs-string">'orange'</span>)
df.query(<span class="hljs-string">'color not in @exclude'</span>)
</code></pre>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h3>More flexibility using <code>.query</code> with pandas &gt;= 0.25.0:</h3>
<p>Since pandas &gt;= 0.25.0 we can use the <code>query</code> method to filter dataframes with pandas methods and even column names which have spaces. Normally the spaces in column names would give an error, but now we can solve that using a backtick (`) - see <a href="https://github.com/pandas-dev/pandas/issues/6508" rel="nofollow noreferrer">GitHub</a>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-comment"># Example dataframe</span>
df = pd.DataFrame({<span class="hljs-string">'Sender email'</span>:[<span class="hljs-string">'ex@example.com'</span>, <span class="hljs-string">"reply@shop.com"</span>, <span class="hljs-string">"buy@shop.com"</span>]})

     Sender email
<span class="hljs-number">0</span>  ex@example.com
<span class="hljs-number">1</span>  reply@shop.com
<span class="hljs-number">2</span>    buy@shop.com
</code></pre>
<p>Using <code>.query</code> with method <code>str.endswith</code>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">df.query(<span class="hljs-string">'`Sender email`.str.endswith("@shop.com")'</span>)
</code></pre>
<p><strong>Output</strong></p>
<pre class="lang-py s-code-block"><code class="hljs language-python">     Sender email
<span class="hljs-number">1</span>  reply@shop.com
<span class="hljs-number">2</span>    buy@shop.com
</code></pre>
<hr>
<p>Also we can use local variables by prefixing it with an <code>@</code> in our query:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">domain = <span class="hljs-string">'shop.com'</span>
df.query(<span class="hljs-string">'`Sender email`.str.endswith(@domain)'</span>)
</code></pre>
<p><strong>Output</strong></p>
<pre class="lang-py s-code-block"><code class="hljs language-python">     Sender email
<span class="hljs-number">1</span>  reply@shop.com
<span class="hljs-number">2</span>    buy@shop.com
</code></pre>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>For selecting only specific columns out of multiple columns for a given value in Pandas:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">select col_name1, col_name2 <span class="hljs-keyword">from</span> table where column_name = some_value.
</code></pre>
<p>Options <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.loc.html" rel="noreferrer"><code>loc</code></a>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">df.loc[df[<span class="hljs-string">'column_name'</span>] == some_value, [col_name1, col_name2]]
</code></pre>
<p>or <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.query.html" rel="noreferrer"><code>query</code></a>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">df.query(<span class="hljs-string">'column_name == some_value'</span>)[[col_name1, col_name2]]
</code></pre>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Faster results can be achieved using <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.where.html" rel="noreferrer">numpy.where</a>. </p>

<p>For example, with <a href="https://stackoverflow.com/questions/17071871/select-rows-from-a-dataframe-based-on-values-in-a-column-in-pandas/17071908#17071908">unubtu's setup</a> -</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">In [<span class="hljs-number">76</span>]: df.iloc[np.where(df.A.values==<span class="hljs-string">'foo'</span>)]
Out[<span class="hljs-number">76</span>]: 
     A      B  C   D
<span class="hljs-number">0</span>  foo    one  <span class="hljs-number">0</span>   <span class="hljs-number">0</span>
<span class="hljs-number">2</span>  foo    two  <span class="hljs-number">2</span>   <span class="hljs-number">4</span>
<span class="hljs-number">4</span>  foo    two  <span class="hljs-number">4</span>   <span class="hljs-number">8</span>
<span class="hljs-number">6</span>  foo    one  <span class="hljs-number">6</span>  <span class="hljs-number">12</span>
<span class="hljs-number">7</span>  foo  three  <span class="hljs-number">7</span>  <span class="hljs-number">14</span>
</code></pre>

<p>Timing comparisons:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">In [<span class="hljs-number">68</span>]: %timeit df.iloc[np.where(df.A.values==<span class="hljs-string">'foo'</span>)]  <span class="hljs-comment"># fastest</span>
<span class="hljs-number">1000</span> loops, best of <span class="hljs-number">3</span>: <span class="hljs-number">380</span> µs per loop

In [<span class="hljs-number">69</span>]: %timeit df.loc[df[<span class="hljs-string">'A'</span>] == <span class="hljs-string">'foo'</span>]
<span class="hljs-number">1000</span> loops, best of <span class="hljs-number">3</span>: <span class="hljs-number">745</span> µs per loop

In [<span class="hljs-number">71</span>]: %timeit df.loc[df[<span class="hljs-string">'A'</span>].isin([<span class="hljs-string">'foo'</span>])]
<span class="hljs-number">1000</span> loops, best of <span class="hljs-number">3</span>: <span class="hljs-number">562</span> µs per loop

In [<span class="hljs-number">72</span>]: %timeit df[df.A==<span class="hljs-string">'foo'</span>]
<span class="hljs-number">1000</span> loops, best of <span class="hljs-number">3</span>: <span class="hljs-number">796</span> µs per loop

In [<span class="hljs-number">74</span>]: %timeit df.query(<span class="hljs-string">'(A=="foo")'</span>)  <span class="hljs-comment"># slowest</span>
<span class="hljs-number">1000</span> loops, best of <span class="hljs-number">3</span>: <span class="hljs-number">1.71</span> ms per loop
</code></pre>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In newer versions of Pandas, inspired by the documentation (<em><a href="https://pandas.pydata.org/docs/user_guide/10min.html#viewing-data" rel="noreferrer">Viewing data</a></em>):</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">df[df[<span class="hljs-string">"colume_name"</span>] == some_value] <span class="hljs-comment">#Scalar, True/False..</span>

df[df[<span class="hljs-string">"colume_name"</span>] == <span class="hljs-string">"some_value"</span>] <span class="hljs-comment">#String</span>
</code></pre>
<p>Combine multiple conditions by putting the clause in parentheses, <code>()</code>, and combining them with <code>&amp;</code> and <code>|</code> (and/or). Like this:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">df[(df[<span class="hljs-string">"colume_name"</span>] == <span class="hljs-string">"some_value1"</span>) &amp; (pd[pd[<span class="hljs-string">"colume_name"</span>] == <span class="hljs-string">"some_value2"</span>])]
</code></pre>
<p>Other filters</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">pandas.notna(df[<span class="hljs-string">"colume_name"</span>]) == <span class="hljs-literal">True</span> <span class="hljs-comment"># Not NaN</span>
df[<span class="hljs-string">'colume_name'</span>].<span class="hljs-built_in">str</span>.contains(<span class="hljs-string">"text"</span>) <span class="hljs-comment"># Search for "text"</span>
df[<span class="hljs-string">'colume_name'</span>].<span class="hljs-built_in">str</span>.lower().<span class="hljs-built_in">str</span>.contains(<span class="hljs-string">"text"</span>) <span class="hljs-comment"># Search for "text", after converting  to lowercase</span>
</code></pre>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here is a simple example  </p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">from</span> pandas <span class="hljs-keyword">import</span> DataFrame

<span class="hljs-comment"># Create data set</span>
d = {<span class="hljs-string">'Revenue'</span>:[<span class="hljs-number">100</span>,<span class="hljs-number">111</span>,<span class="hljs-number">222</span>], 
     <span class="hljs-string">'Cost'</span>:[<span class="hljs-number">333</span>,<span class="hljs-number">444</span>,<span class="hljs-number">555</span>]}
df = DataFrame(d)


<span class="hljs-comment"># mask = Return True when the value in column "Revenue" is equal to 111</span>
mask = df[<span class="hljs-string">'Revenue'</span>] == <span class="hljs-number">111</span>

<span class="hljs-built_in">print</span> mask

<span class="hljs-comment"># Result:</span>
<span class="hljs-comment"># 0    False</span>
<span class="hljs-comment"># 1     True</span>
<span class="hljs-comment"># 2    False</span>
<span class="hljs-comment"># Name: Revenue, dtype: bool</span>


<span class="hljs-comment"># Select * FROM df WHERE Revenue = 111</span>
df[mask]

<span class="hljs-comment"># Result:</span>
<span class="hljs-comment">#    Cost    Revenue</span>
<span class="hljs-comment"># 1  444     111</span>
</code></pre>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>To append to this famous question (though a bit too late): You can also do <code>df.groupby('column_name').get_group('column_desired_value').reset_index()</code> to make a new data frame with specified column having a particular value. E.g.</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
df = pd.DataFrame({<span class="hljs-string">'A'</span>: <span class="hljs-string">'foo bar foo bar foo bar foo foo'</span>.split(),
                   <span class="hljs-string">'B'</span>: <span class="hljs-string">'one one two three two two one three'</span>.split()})
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Original dataframe:"</span>)
<span class="hljs-built_in">print</span>(df)

b_is_two_dataframe = pd.DataFrame(df.groupby(<span class="hljs-string">'B'</span>).get_group(<span class="hljs-string">'two'</span>).reset_index()).drop(<span class="hljs-string">'index'</span>, axis = <span class="hljs-number">1</span>) 
<span class="hljs-comment">#<span class="hljs-doctag">NOTE:</span> the final drop is to remove the extra index column returned by groupby object</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">'Sub dataframe where B is two:'</span>)
<span class="hljs-built_in">print</span>(b_is_two_dataframe)
</code></pre>

<p>Run this gives:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">Original dataframe:
     A      B
<span class="hljs-number">0</span>  foo    one
<span class="hljs-number">1</span>  bar    one
<span class="hljs-number">2</span>  foo    two
<span class="hljs-number">3</span>  bar  three
<span class="hljs-number">4</span>  foo    two
<span class="hljs-number">5</span>  bar    two
<span class="hljs-number">6</span>  foo    one
<span class="hljs-number">7</span>  foo  three
Sub dataframe where B <span class="hljs-keyword">is</span> two:
     A    B
<span class="hljs-number">0</span>  foo  two
<span class="hljs-number">1</span>  foo  two
<span class="hljs-number">2</span>  bar  two
</code></pre>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 11</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can also use .apply:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">df.apply(<span class="hljs-keyword">lambda</span> row: row[df[<span class="hljs-string">'B'</span>].isin([<span class="hljs-string">'one'</span>,<span class="hljs-string">'three'</span>])])
</code></pre>

<p>It actually works row-wise (i.e., applies the function to each row).</p>

<p>The output is </p>

<pre class="lang-py s-code-block"><code class="hljs language-python">   A      B  C   D
<span class="hljs-number">0</span>  foo    one  <span class="hljs-number">0</span>   <span class="hljs-number">0</span>
<span class="hljs-number">1</span>  bar    one  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>
<span class="hljs-number">3</span>  bar  three  <span class="hljs-number">3</span>   <span class="hljs-number">6</span>
<span class="hljs-number">6</span>  foo    one  <span class="hljs-number">6</span>  <span class="hljs-number">12</span>
<span class="hljs-number">7</span>  foo  three  <span class="hljs-number">7</span>  <span class="hljs-number">14</span>
</code></pre>

<p>The results is the same as using as mentioned by @unutbu</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">df[[df[<span class="hljs-string">'B'</span>].isin([<span class="hljs-string">'one'</span>,<span class="hljs-string">'three'</span>])]]
</code></pre>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 12</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you want to make query to your dataframe repeatedly and speed is important to you, the best thing is to convert your dataframe to dictionary and then by doing this you can make query thousands of times faster.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">my_df = df.set_index(column_name)
my_dict = my_df.to_dict(<span class="hljs-string">'index'</span>)
</code></pre>
<p>After make my_dict dictionary you can go through:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">if</span> some_value <span class="hljs-keyword">in</span> my_dict.keys():
   my_result = my_dict[some_value]
</code></pre>
<p>If you have duplicated values in column_name you can't make a dictionary. but you can use:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">my_result = my_df.loc[some_value]
</code></pre>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 13</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h3>SQL statements on DataFrames to select rows using DuckDB</h3>
<p>With <a href="https://duckdb.org/docs/guides/python/sql_on_pandas" rel="nofollow noreferrer">duckdb</a> we can query pandas DataFrames with SQL statements, in a <a href="https://duckdb.org/2021/05/14/sql-on-pandas.html" rel="nofollow noreferrer">highly performant way</a>.</p>
<p>Since the question is <em>How do I select rows from a DataFrame based on column values?</em>, and the example in the question is a SQL query, this answer looks logical in this topic.</p>
<p><strong>Example</strong>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">In [<span class="hljs-number">1</span>]: <span class="hljs-keyword">import</span> duckdb

In [<span class="hljs-number">2</span>]: <span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

In [<span class="hljs-number">3</span>]: con = duckdb.connect()

In [<span class="hljs-number">4</span>]: df = pd.DataFrame({<span class="hljs-string">"A"</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">11</span>), <span class="hljs-string">"B"</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">11</span>, <span class="hljs-number">22</span>)})

In [<span class="hljs-number">5</span>]: df
Out[<span class="hljs-number">5</span>]:
     A   B
<span class="hljs-number">0</span>    <span class="hljs-number">0</span>  <span class="hljs-number">11</span>
<span class="hljs-number">1</span>    <span class="hljs-number">1</span>  <span class="hljs-number">12</span>
<span class="hljs-number">2</span>    <span class="hljs-number">2</span>  <span class="hljs-number">13</span>
<span class="hljs-number">3</span>    <span class="hljs-number">3</span>  <span class="hljs-number">14</span>
<span class="hljs-number">4</span>    <span class="hljs-number">4</span>  <span class="hljs-number">15</span>
<span class="hljs-number">5</span>    <span class="hljs-number">5</span>  <span class="hljs-number">16</span>
<span class="hljs-number">6</span>    <span class="hljs-number">6</span>  <span class="hljs-number">17</span>
<span class="hljs-number">7</span>    <span class="hljs-number">7</span>  <span class="hljs-number">18</span>
<span class="hljs-number">8</span>    <span class="hljs-number">8</span>  <span class="hljs-number">19</span>
<span class="hljs-number">9</span>    <span class="hljs-number">9</span>  <span class="hljs-number">20</span>
<span class="hljs-number">10</span>  <span class="hljs-number">10</span>  <span class="hljs-number">21</span>

In [<span class="hljs-number">6</span>]: results = con.execute(<span class="hljs-string">"SELECT * FROM df where A &gt; 2"</span>).df()

In [<span class="hljs-number">7</span>]: results
Out[<span class="hljs-number">7</span>]:
    A   B
<span class="hljs-number">0</span>   <span class="hljs-number">3</span>  <span class="hljs-number">14</span>
<span class="hljs-number">1</span>   <span class="hljs-number">4</span>  <span class="hljs-number">15</span>
<span class="hljs-number">2</span>   <span class="hljs-number">5</span>  <span class="hljs-number">16</span>
<span class="hljs-number">3</span>   <span class="hljs-number">6</span>  <span class="hljs-number">17</span>
<span class="hljs-number">4</span>   <span class="hljs-number">7</span>  <span class="hljs-number">18</span>
<span class="hljs-number">5</span>   <span class="hljs-number">8</span>  <span class="hljs-number">19</span>
<span class="hljs-number">6</span>   <span class="hljs-number">9</span>  <span class="hljs-number">20</span>
<span class="hljs-number">7</span>  <span class="hljs-number">10</span>  <span class="hljs-number">21</span>
</code></pre>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 14</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Great answers. Only, when the <strong>size of the dataframe approaches million rows</strong>, many of the methods tend to take ages when using <code>df[df['col']==val]</code>. I wanted to have all possible values of "another_column" that correspond to specific values in "some_column" (in this case in a dictionary). This worked and fast.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">s=datetime.datetime.now()

my_dict={}

<span class="hljs-keyword">for</span> i, my_key <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(df[<span class="hljs-string">'some_column'</span>].values): 
    <span class="hljs-keyword">if</span> i%<span class="hljs-number">100</span>==<span class="hljs-number">0</span>:
        <span class="hljs-built_in">print</span>(i)  <span class="hljs-comment"># to see the progress</span>
    <span class="hljs-keyword">if</span> my_key <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> my_dict.keys():
        my_dict[my_key]={}
        my_dict[my_key][<span class="hljs-string">'values'</span>]=[df.iloc[i][<span class="hljs-string">'another_column'</span>]]
    <span class="hljs-keyword">else</span>:
        my_dict[my_key][<span class="hljs-string">'values'</span>].append(df.iloc[i][<span class="hljs-string">'another_column'</span>])
        
e=datetime.datetime.now()

<span class="hljs-built_in">print</span>(<span class="hljs-string">'operation took '</span>+<span class="hljs-built_in">str</span>(e-s)+<span class="hljs-string">' seconds'</span>)```

</code></pre>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/percentage-height-html-5css-1657387471048">Percentage Height HTML 5/CSS</a><a href="/questions/how-do-i-count-the-occurrences-of-a-list-item-1657387916234">How do I count the occurrences of a list item?</a><a href="/questions/what-is-the-explicit-promise-construction-antipattern-and-how-do-i-avoid-it-1657384436212">What is the explicit promise construction antipattern and how do I avoid it?</a><a href="/questions/how-to-determine-equality-for-two-javascript-objects-1657387638650">How to determine equality for two JavaScript objects?</a><a href="/questions/using-regular-expressions-to-parse-html:-why-not-1657387543969">Using regular expressions to parse HTML: why not?</a><a href="/questions/how-can-i-return-pivot-table-output-in-mysql-1657384715043">How can I return pivot table output in MySQL?</a><a href="/questions/using-asyncawait-with-a-foreach-loop-1657384512667">Using async/await with a forEach loop</a><a href="/questions/how-to-create-a-mysql-hierarchical-recursive-query-1657387662163">How to create a MySQL hierarchical recursive query?</a><a href="/questions/how-can-i-access-and-process-nested-objects-arrays-or-json-1657384332823">How can I access and process nested objects, arrays, or JSON?</a><a href="/questions/why-is-24.0000-not-equal-to-24.0000-in-matlab-1657388376753">Why is 24.0000 not equal to 24.0000 in MATLAB?</a><a href="/questions/why-should-there-be-spaces-around-&#x27;&#x27;-and-&#x27;&#x27;-in-bash-1657387984122">Why should there be spaces around &#x27;[&#x27; and &#x27;]&#x27; in Bash?</a><a href="/questions/how-can-i-pivot-a-dataframe-1657384433802">How can I pivot a dataframe?</a><a href="/questions/how-do-i-sort-a-dictionary-by-value-1657385485049">How do I sort a dictionary by value?</a><a href="/questions/daylight-saving-time-and-time-zone-best-practices-closed-1657387973687">Daylight saving time and time zone best practices [closed]</a><a href="/questions/dollar(document).ready-equivalent-without-jquery-1657388504115">$(document).ready equivalent without jQuery</a><a href="/questions/serialize-and-deserialize-json-and-json-array-in-unity-1657388273270">Serialize and Deserialize Json and Json Array in Unity</a><a href="/questions/sort-array-of-objects-by-string-property-value-1657384860090">Sort array of objects by string property value</a><a href="/questions/how-to-remove-%22noise%22-from-gccclang-assembly-output-1657387612391">How to remove &quot;noise&quot; from GCC/clang assembly output?</a><a href="/questions/my-attempt-at-value-initialization-is-interpreted-as-a-function-declaration-and-why-doesn&#x27;t-a-a(())-solve-it-1657388474057">My attempt at value initialization is interpreted as a function declaration, and why doesn&#x27;t A a(()); solve it?</a><a href="/questions/how-to-manage-startactivityforresult-on-android-1657387967393">How to manage startActivityForResult on Android</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;To select rows whose column value equals a scalar, \u0026lt;code\u0026gt;some_value\u0026lt;/code\u0026gt;, use \u0026lt;code\u0026gt;==\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df.loc[df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;column_name\u0026apos;\u0026lt;/span\u0026gt;] == some_value]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;To select rows whose column value is in an iterable, \u0026lt;code\u0026gt;some_values\u0026lt;/code\u0026gt;, use \u0026lt;code\u0026gt;isin\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df.loc[df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;column_name\u0026apos;\u0026lt;/span\u0026gt;].isin(some_values)]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Combine multiple conditions with \u0026lt;code\u0026gt;\u0026amp;amp;\u0026lt;/code\u0026gt;: \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df.loc[(df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;column_name\u0026apos;\u0026lt;/span\u0026gt;] \u0026amp;gt;= A) \u0026amp;amp; (df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;column_name\u0026apos;\u0026lt;/span\u0026gt;] \u0026amp;lt;= B)]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Note the parentheses. Due to Python\u0026apos;s \u0026lt;a href=\u0026quot;https://docs.python.org/3/reference/expressions.html#operator-precedence\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;operator precedence rules\u0026lt;/a\u0026gt;, \u0026lt;code\u0026gt;\u0026amp;amp;\u0026lt;/code\u0026gt; binds more tightly than \u0026lt;code\u0026gt;\u0026amp;lt;=\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;\u0026amp;gt;=\u0026lt;/code\u0026gt;. Thus, the parentheses in the last example are necessary. Without the parentheses \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;column_name\u0026apos;\u0026lt;/span\u0026gt;] \u0026amp;gt;= A \u0026amp;amp; df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;column_name\u0026apos;\u0026lt;/span\u0026gt;] \u0026amp;lt;= B\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;is parsed as \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;column_name\u0026apos;\u0026lt;/span\u0026gt;] \u0026amp;gt;= (A \u0026amp;amp; df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;column_name\u0026apos;\u0026lt;/span\u0026gt;]) \u0026amp;lt;= B\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;which results in a \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/36921951/truth-value-of-a-series-is-ambiguous-use-a-empty-a-bool-a-item-a-any-o\u0026quot;\u0026gt;Truth value of a Series is ambiguous error\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;To select rows whose column value \u0026lt;em\u0026gt;does not equal\u0026lt;/em\u0026gt; \u0026lt;code\u0026gt;some_value\u0026lt;/code\u0026gt;, use \u0026lt;code\u0026gt;!=\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df.loc[df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;column_name\u0026apos;\u0026lt;/span\u0026gt;] != some_value]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;isin\u0026lt;/code\u0026gt; returns a boolean Series, so to select rows whose value is \u0026lt;em\u0026gt;not\u0026lt;/em\u0026gt; in \u0026lt;code\u0026gt;some_values\u0026lt;/code\u0026gt;, negate the boolean Series using \u0026lt;code\u0026gt;~\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df.loc[~df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;column_name\u0026apos;\u0026lt;/span\u0026gt;].isin(some_values)]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;For example,\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; pandas \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; pd\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; numpy \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; np\ndf = pd.DataFrame({\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo bar foo bar foo bar foo foo\u0026apos;\u0026lt;/span\u0026gt;.split(),\n                   \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;B\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;one one two three two two one three\u0026apos;\u0026lt;/span\u0026gt;.split(),\n                   \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;C\u0026apos;\u0026lt;/span\u0026gt;: np.arange(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;D\u0026apos;\u0026lt;/span\u0026gt;: np.arange(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;) * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;})\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(df)\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#      A      B  C   D\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 0  foo    one  0   0\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 1  bar    one  1   2\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 2  foo    two  2   4\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 3  bar  three  3   6\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 4  foo    two  4   8\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 5  bar    two  5  10\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 6  foo    one  6  12\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 7  foo  three  7  14\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(df.loc[df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;] == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;])\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;yields\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;     A      B  C   D\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  foo    two  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  foo    two  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  foo  three  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;If you have multiple values you want to include, put them in a\nlist (or more generally, any iterable) and use \u0026lt;code\u0026gt;isin\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(df.loc[df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;B\u0026apos;\u0026lt;/span\u0026gt;].isin([\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;one\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;three\u0026apos;\u0026lt;/span\u0026gt;])])\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;yields\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;     A      B  C   D\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  bar    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;  bar  three  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  foo  three  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;Note, however, that if you wish to do this many times, it is more efficient to\nmake an index first, and then use \u0026lt;code\u0026gt;df.loc\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df = df.set_index([\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;B\u0026apos;\u0026lt;/span\u0026gt;])\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(df.loc[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;one\u0026apos;\u0026lt;/span\u0026gt;])\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;yields\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;       A  C   D\nB              \none  foo  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\none  bar  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;\none  foo  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;or, to include multiple values from the index use \u0026lt;code\u0026gt;df.index.isin\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df.loc[df.index.isin([\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;one\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;two\u0026apos;\u0026lt;/span\u0026gt;])]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;yields\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;       A  C   D\nB              \none  foo  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\none  bar  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;\ntwo  foo  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\ntwo  foo  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\ntwo  bar  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;\none  foo  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;There are several ways to select rows from a Pandas dataframe:\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;Boolean indexing (\u0026lt;code\u0026gt;df[df[\u0026apos;col\u0026apos;] == value\u0026lt;/code\u0026gt;] )\u0026lt;/strong\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;Positional indexing (\u0026lt;code\u0026gt;df.iloc[...]\u0026lt;/code\u0026gt;)\u0026lt;/strong\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;Label indexing (\u0026lt;code\u0026gt;df.xs(...)\u0026lt;/code\u0026gt;)\u0026lt;/strong\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;df.query(...)\u0026lt;/code\u0026gt; API\u0026lt;/strong\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;Below I show you examples of each, with advice when to use certain techniques. Assume our criterion is column \u0026lt;code\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/code\u0026gt; == \u0026lt;code\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;(Note on performance: For each base type, we can keep things simple by using the Pandas API or we can venture outside the API, usually into NumPy, and speed things up.)\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Setup\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The first thing we\u0026apos;ll need is to identify a condition that will act as our criterion for selecting rows. We\u0026apos;ll start with the OP\u0026apos;s case \u0026lt;code\u0026gt;column_name == some_value\u0026lt;/code\u0026gt;, and include some other common use cases.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Borrowing from @unutbu:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; pandas \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; pd, numpy \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; np\n\ndf = pd.DataFrame({\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo bar foo bar foo bar foo foo\u0026apos;\u0026lt;/span\u0026gt;.split(),\n                   \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;B\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;one one two three two two one three\u0026apos;\u0026lt;/span\u0026gt;.split(),\n                   \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;C\u0026apos;\u0026lt;/span\u0026gt;: np.arange(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;D\u0026apos;\u0026lt;/span\u0026gt;: np.arange(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;) * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;})\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;h1\u0026gt;\u0026lt;strong\u0026gt;1. Boolean indexing\u0026lt;/strong\u0026gt;\u0026lt;/h1\u0026gt;\n\u0026lt;p\u0026gt;... Boolean indexing requires finding the true value of each row\u0026apos;s \u0026lt;code\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/code\u0026gt; column being equal to \u0026lt;code\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/code\u0026gt;, then using those truth values to identify which rows to keep.  Typically, we\u0026apos;d name this series, an array of truth values, \u0026lt;code\u0026gt;mask\u0026lt;/code\u0026gt;.  We\u0026apos;ll do so here as well.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;mask = df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;] == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;We can then use this mask to slice or index the data frame\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df[mask]\n\n     A      B  C   D\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  foo    two  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  foo    two  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  foo  three  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This is one of the simplest ways to accomplish this task and if performance or intuitiveness isn\u0026apos;t an issue, this should be your chosen method.  However, if performance is a concern, then you might want to consider an alternative way of creating the \u0026lt;code\u0026gt;mask\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;h1\u0026gt;\u0026lt;strong\u0026gt;2. Positional indexing\u0026lt;/strong\u0026gt;\u0026lt;/h1\u0026gt;\n\u0026lt;p\u0026gt;Positional indexing (\u0026lt;code\u0026gt;df.iloc[...]\u0026lt;/code\u0026gt;) has its use cases, but this isn\u0026apos;t one of them.  In order to identify where to slice, we first need to perform the same boolean analysis we did above.  This leaves us performing one extra step to accomplish the same task.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;mask = df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;] == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;\npos = np.flatnonzero(mask)\ndf.iloc[pos]\n\n     A      B  C   D\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  foo    two  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  foo    two  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  foo  three  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h1\u0026gt;\u0026lt;strong\u0026gt;3. Label indexing\u0026lt;/strong\u0026gt;\u0026lt;/h1\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Label\u0026lt;/em\u0026gt; indexing can be very handy, but in this case, we are again doing more work for no benefit\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df.set_index(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;, append=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;, drop=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;).xs(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;, level=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;)\n\n     A      B  C   D\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  foo    two  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  foo    two  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  foo  three  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h1\u0026gt;\u0026lt;strong\u0026gt;4. \u0026lt;code\u0026gt;df.query()\u0026lt;/code\u0026gt; API\u0026lt;/strong\u0026gt;\u0026lt;/h1\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;\u0026lt;code\u0026gt;pd.DataFrame.query\u0026lt;/code\u0026gt;\u0026lt;/em\u0026gt; is a very elegant/intuitive way to perform this task, but is often slower. \u0026lt;strong\u0026gt;However\u0026lt;/strong\u0026gt;, if you pay attention to the timings below, for large data, the query is very efficient. More so than the standard approach and of similar magnitude as my best suggestion.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df.query(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A == \u0026quot;foo\u0026quot;\u0026apos;\u0026lt;/span\u0026gt;)\n\n     A      B  C   D\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  foo    two  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  foo    two  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  foo  three  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;My preference is to use the \u0026lt;code\u0026gt;Boolean\u0026lt;/code\u0026gt; \u0026lt;code\u0026gt;mask\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Actual improvements can be made by modifying how we create our \u0026lt;code\u0026gt;Boolean\u0026lt;/code\u0026gt; \u0026lt;code\u0026gt;mask\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;mask\u0026lt;/code\u0026gt; alternative 1\u0026lt;/strong\u0026gt;\n\u0026lt;em\u0026gt;Use the underlying NumPy array and forgo the overhead of creating another \u0026lt;code\u0026gt;pd.Series\u0026lt;/code\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;mask = df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;].values == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;I\u0026apos;ll show more complete time tests at the end, but just take a look at the performance gains we get using the sample data frame.  First, we look at the difference in creating the \u0026lt;code\u0026gt;mask\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;%timeit mask = df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;].values == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;\n%timeit mask = df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;] == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5.84\u0026lt;/span\u0026gt; µs ± \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;195\u0026lt;/span\u0026gt; ns per loop (mean ± std. dev. of \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt; runs, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100000\u0026lt;/span\u0026gt; loops each)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;166\u0026lt;/span\u0026gt; µs ± \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4.45\u0026lt;/span\u0026gt; µs per loop (mean ± std. dev. of \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt; runs, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt; loops each)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Evaluating the \u0026lt;code\u0026gt;mask\u0026lt;/code\u0026gt; with the NumPy array is ~ 30 times faster.  This is partly due to NumPy evaluation often being faster. It is also partly due to the lack of overhead necessary to build an index and a corresponding \u0026lt;code\u0026gt;pd.Series\u0026lt;/code\u0026gt; object.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Next, we\u0026apos;ll look at the timing for slicing with one \u0026lt;code\u0026gt;mask\u0026lt;/code\u0026gt; versus the other.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;mask = df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;].values == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;\n%timeit df[mask]\nmask = df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;] == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;\n%timeit df[mask]\n\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;219\u0026lt;/span\u0026gt; µs ± \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12.3\u0026lt;/span\u0026gt; µs per loop (mean ± std. dev. of \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt; runs, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt; loops each)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;239\u0026lt;/span\u0026gt; µs ± \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7.03\u0026lt;/span\u0026gt; µs per loop (mean ± std. dev. of \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt; runs, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt; loops each)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The performance gains aren\u0026apos;t as pronounced.  We\u0026apos;ll see if this holds up over more robust testing.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;mask\u0026lt;/code\u0026gt; alternative 2\u0026lt;/strong\u0026gt;\nWe could have reconstructed the data frame as well.  There is a big caveat when reconstructing a dataframeyou must take care of the \u0026lt;code\u0026gt;dtypes\u0026lt;/code\u0026gt; when doing so!\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Instead of \u0026lt;code\u0026gt;df[mask]\u0026lt;/code\u0026gt; we will do this\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;pd.DataFrame(df.values[mask], df.index[mask], df.columns).astype(df.dtypes)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;If the data frame is of mixed type, which our example is, then when we get \u0026lt;code\u0026gt;df.values\u0026lt;/code\u0026gt; the resulting array is of \u0026lt;code\u0026gt;dtype\u0026lt;/code\u0026gt; \u0026lt;code\u0026gt;object\u0026lt;/code\u0026gt; and consequently, all columns of the new data frame will be of \u0026lt;code\u0026gt;dtype\u0026lt;/code\u0026gt; \u0026lt;code\u0026gt;object\u0026lt;/code\u0026gt;.  Thus requiring the \u0026lt;code\u0026gt;astype(df.dtypes)\u0026lt;/code\u0026gt; and killing any potential performance gains.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;%timeit df[m]\n%timeit pd.DataFrame(df.values[mask], df.index[mask], df.columns).astype(df.dtypes)\n\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;216\u0026lt;/span\u0026gt; µs ± \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10.4\u0026lt;/span\u0026gt; µs per loop (mean ± std. dev. of \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt; runs, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt; loops each)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.43\u0026lt;/span\u0026gt; ms ± \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;39.6\u0026lt;/span\u0026gt; µs per loop (mean ± std. dev. of \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt; runs, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt; loops each)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;However, if the data frame is not of mixed type, this is a very useful way to do it.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Given\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;np.random.seed([\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1415\u0026lt;/span\u0026gt;])\nd1 = pd.DataFrame(np.random.randint(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;, size=(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;)), columns=\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ABCDE\u0026apos;\u0026lt;/span\u0026gt;))\n\nd1\n\n   A  B  C  D  E\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;%%timeit\nmask = d1[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;].values == \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;\nd1[mask]\n\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;179\u0026lt;/span\u0026gt; µs ± \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8.73\u0026lt;/span\u0026gt; µs per loop (mean ± std. dev. of \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt; runs, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt; loops each)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Versus\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;%%timeit\nmask = d1[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;].values == \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;\npd.DataFrame(d1.values[mask], d1.index[mask], d1.columns)\n\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;87\u0026lt;/span\u0026gt; µs ± \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5.12\u0026lt;/span\u0026gt; µs per loop (mean ± std. dev. of \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt; runs, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt; loops each)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;We cut the time in half.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;mask\u0026lt;/code\u0026gt; alternative 3\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;@unutbu also shows us how to use \u0026lt;code\u0026gt;pd.Series.isin\u0026lt;/code\u0026gt; to account for each element of \u0026lt;code\u0026gt;df[\u0026apos;A\u0026apos;]\u0026lt;/code\u0026gt; being in a set of values.  This evaluates to the same thing if our set of values is a set of one value, namely \u0026lt;code\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/code\u0026gt;.  But it also generalizes to include larger sets of values if needed.  Turns out, this is still pretty fast even though it is a more general solution.  The only real loss is in intuitiveness for those not familiar with the concept.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;mask = df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;].isin([\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;])\ndf[mask]\n\n     A      B  C   D\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  foo    two  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  foo    two  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  foo  three  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;However, as before, we can utilize NumPy to improve performance while sacrificing virtually nothing. We\u0026apos;ll use \u0026lt;code\u0026gt;np.in1d\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;mask = np.in1d(df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;].values, [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;])\ndf[mask]\n\n     A      B  C   D\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  foo    two  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  foo    two  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  foo  three  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Timing\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I\u0026apos;ll include other concepts mentioned in other posts as well for reference.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Code Below\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Each \u0026lt;em\u0026gt;column\u0026lt;/em\u0026gt; in this table represents a different length data frame over which we test each function. Each column shows relative time taken, with the fastest function given a base index of \u0026lt;code\u0026gt;1.0\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;res.div(res.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;min\u0026lt;/span\u0026gt;())\n\n                         \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;        \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30\u0026lt;/span\u0026gt;        \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;       \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300\u0026lt;/span\u0026gt;       \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;      \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3000\u0026lt;/span\u0026gt;      \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;     \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30000\u0026lt;/span\u0026gt;\nmask_standard         \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.156872\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.850663\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.034149\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.166312\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.164541\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3.090372\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.981326\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3.131151\u0026lt;/span\u0026gt;\nmask_standard_loc     \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.879035\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.782366\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.988823\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.338112\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.361391\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3.036131\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.998112\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.990103\u0026lt;/span\u0026gt;\nmask_with_values      \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.010166\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.000000\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.005113\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.026363\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.028698\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.293741\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.007824\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.016919\u0026lt;/span\u0026gt;\nmask_with_values_loc  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.196843\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.300228\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.000000\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.000000\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.038989\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.219233\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.037020\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.000000\u0026lt;/span\u0026gt;\nquery                 \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4.997304\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4.765554\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5.934096\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4.500559\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.997924\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.397013\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.680447\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.398190\u0026lt;/span\u0026gt;\nxs_label              \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4.124597\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4.272363\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5.596152\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4.295331\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4.676591\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5.710680\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6.032809\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8.950255\u0026lt;/span\u0026gt;\nmask_with_isin        \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.674055\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.679935\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.847972\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.724183\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.345111\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.405231\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.253554\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.264760\u0026lt;/span\u0026gt;\nmask_with_in1d        \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.000000\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.083807\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.220493\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.101929\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.000000\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.000000\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.000000\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.144175\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;You\u0026apos;ll notice that the fastest times seem to be shared between \u0026lt;code\u0026gt;mask_with_values\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;mask_with_in1d\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;res.T.plot(loglog=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/ljeTd.png\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/ljeTd.png\u0026quot; alt=\u0026quot;Enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Functions\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;mask_standard\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;df\u0026lt;/span\u0026gt;):\n    mask = df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;] == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; df[mask]\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;mask_standard_loc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;df\u0026lt;/span\u0026gt;):\n    mask = df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;] == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; df.loc[mask]\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;mask_with_values\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;df\u0026lt;/span\u0026gt;):\n    mask = df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;].values == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; df[mask]\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;mask_with_values_loc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;df\u0026lt;/span\u0026gt;):\n    mask = df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;].values == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; df.loc[mask]\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;df\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; df.query(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A == \u0026quot;foo\u0026quot;\u0026apos;\u0026lt;/span\u0026gt;)\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;xs_label\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;df\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; df.set_index(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;, append=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;, drop=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;).xs(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;, level=-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;)\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;mask_with_isin\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;df\u0026lt;/span\u0026gt;):\n    mask = df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;].isin([\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;])\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; df[mask]\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;mask_with_in1d\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;df\u0026lt;/span\u0026gt;):\n    mask = np.in1d(df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;].values, [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;])\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; df[mask]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Testing\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;res = pd.DataFrame(\n    index=[\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mask_standard\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mask_standard_loc\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mask_with_values\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mask_with_values_loc\u0026apos;\u0026lt;/span\u0026gt;,\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;query\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;xs_label\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mask_with_isin\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mask_with_in1d\u0026apos;\u0026lt;/span\u0026gt;\n    ],\n    columns=[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3000\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30000\u0026lt;/span\u0026gt;],\n    dtype=\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;float\u0026lt;/span\u0026gt;\n)\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; j \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; res.columns:\n    d = pd.concat([df] * j, ignore_index=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; i \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; res.index:a\n        stmt = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;{}(d)\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;format\u0026lt;/span\u0026gt;(i)\n        setp = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;from __main__ import d, {}\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;format\u0026lt;/span\u0026gt;(i)\n        res.at[i, j] = timeit(stmt, setp, number=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Special Timing\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Looking at the special case when we have a single non-object \u0026lt;code\u0026gt;dtype\u0026lt;/code\u0026gt; for the entire data frame.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Code Below\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;spec.div(spec.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;min\u0026lt;/span\u0026gt;())\n\n                     \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;        \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30\u0026lt;/span\u0026gt;        \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;       \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300\u0026lt;/span\u0026gt;       \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;      \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3000\u0026lt;/span\u0026gt;      \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;     \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30000\u0026lt;/span\u0026gt;\nmask_with_values  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.009030\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.000000\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.194276\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.000000\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.236892\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.095343\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.000000\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.000000\u0026lt;/span\u0026gt;\nmask_with_in1d    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.104638\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.094524\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.156930\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.072094\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.000000\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.000000\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.040043\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.027100\u0026lt;/span\u0026gt;\nreconstruct       \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.000000\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.142838\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.000000\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.355440\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.650270\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.222181\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.294913\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3.406735\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Turns out, reconstruction isn\u0026apos;t worth it past a few hundred rows.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;spec.T.plot(loglog=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/K1bNc.png\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/K1bNc.png\u0026quot; alt=\u0026quot;Enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Functions\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;np.random.seed([\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1415\u0026lt;/span\u0026gt;])\nd1 = pd.DataFrame(np.random.randint(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;, size=(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;)), columns=\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ABCDE\u0026apos;\u0026lt;/span\u0026gt;))\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;mask_with_values\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;df\u0026lt;/span\u0026gt;):\n    mask = df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;].values == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; df[mask]\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;mask_with_in1d\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;df\u0026lt;/span\u0026gt;):\n    mask = np.in1d(df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;].values, [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;])\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; df[mask]\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reconstruct\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;df\u0026lt;/span\u0026gt;):\n    v = df.values\n    mask = np.in1d(df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;].values, [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;])\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; pd.DataFrame(v[mask], df.index[mask], df.columns)\n\nspec = pd.DataFrame(\n    index=[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mask_with_values\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mask_with_in1d\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;reconstruct\u0026apos;\u0026lt;/span\u0026gt;],\n    columns=[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3000\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30000\u0026lt;/span\u0026gt;],\n    dtype=\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;float\u0026lt;/span\u0026gt;\n)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Testing\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; j \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; spec.columns:\n    d = pd.concat([df] * j, ignore_index=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; i \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; spec.index:\n        stmt = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;{}(d)\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;format\u0026lt;/span\u0026gt;(i)\n        setp = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;from __main__ import d, {}\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;format\u0026lt;/span\u0026gt;(i)\n        spec.at[i, j] = timeit(stmt, setp, number=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;h3\u0026gt;tl;dr\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;The Pandas equivalent to\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;select * \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; table where column_name = some_value\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;is\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;table[table.column_name == some_value]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Multiple conditions:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;table[(table.column_name == some_value) | (table.column_name2 == some_value2)]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;or\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;table.query(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;column_name == some_value | column_name2 == some_value2\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h3\u0026gt;Code example\u0026lt;/h3\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; pandas \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; pd\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Create data set\u0026lt;/span\u0026gt;\nd = {\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;:[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;111\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;222\u0026lt;/span\u0026gt;],\n     \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;bar\u0026apos;\u0026lt;/span\u0026gt;:[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;333\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;444\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;555\u0026lt;/span\u0026gt;]}\ndf = pd.DataFrame(d)\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Full dataframe:\u0026lt;/span\u0026gt;\ndf\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Shows:\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#    bar   foo\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 0  333   100\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 1  444   111\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 2  555   222\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Output only the row(s) in df where foo is 222:\u0026lt;/span\u0026gt;\ndf[df.foo == \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;222\u0026lt;/span\u0026gt;]\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Shows:\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#    bar  foo\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 2  555  222\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;In the above code it is the line \u0026lt;code\u0026gt;df[df.foo == 222]\u0026lt;/code\u0026gt; that gives the rows based on the column value, \u0026lt;code\u0026gt;222\u0026lt;/code\u0026gt; in this case.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Multiple conditions are also possible:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df[(df.foo == \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;222\u0026lt;/span\u0026gt;) | (df.bar == \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;444\u0026lt;/span\u0026gt;)]\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#    bar  foo\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 1  444  111\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 2  555  222\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;But at that point I would recommend using the \u0026lt;a href=\u0026quot;https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.query.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;query\u0026lt;/a\u0026gt; function, since it\u0026apos;s less verbose and yields the same result:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df.query(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo == 222 | bar == 444\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I find the syntax of the previous answers to be redundant and difficult to remember. Pandas introduced the \u0026lt;code\u0026gt;query()\u0026lt;/code\u0026gt; method in v0.13 and I much prefer it. For your question, you could do \u0026lt;code\u0026gt;df.query(\u0026apos;col == val\u0026apos;)\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Reproduced from \u0026lt;a href=\u0026quot;http://pandas.pydata.org/pandas-docs/version/0.17.0/indexing.html#indexing-query\u0026quot;\u0026gt;http://pandas.pydata.org/pandas-docs/version/0.17.0/indexing.html#indexing-query\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;In [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;167\u0026lt;/span\u0026gt;]: n = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;\n\nIn [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;168\u0026lt;/span\u0026gt;]: df = pd.DataFrame(np.random.rand(n, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;), columns=\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;abc\u0026apos;\u0026lt;/span\u0026gt;))\n\nIn [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;169\u0026lt;/span\u0026gt;]: df\nOut[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;169\u0026lt;/span\u0026gt;]: \n          a         b         c\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.687704\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.582314\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.281645\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.250846\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.610021\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.420121\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.624328\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.401816\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.932146\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.011763\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.022921\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.244186\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.590198\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.325680\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.890392\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.598892\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.296424\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.007312\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.634625\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.803069\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.123872\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.924168\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.325076\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.303746\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.116822\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.364564\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.454607\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.986142\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.751953\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.561512\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# pure python\u0026lt;/span\u0026gt;\nIn [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;170\u0026lt;/span\u0026gt;]: df[(df.a \u0026amp;lt; df.b) \u0026amp;amp; (df.b \u0026amp;lt; df.c)]\nOut[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;170\u0026lt;/span\u0026gt;]: \n          a         b         c\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.011763\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.022921\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.244186\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.116822\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.364564\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.454607\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# query\u0026lt;/span\u0026gt;\nIn [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;171\u0026lt;/span\u0026gt;]: df.query(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;(a \u0026amp;lt; b) \u0026amp;amp; (b \u0026amp;lt; c)\u0026apos;\u0026lt;/span\u0026gt;)\nOut[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;171\u0026lt;/span\u0026gt;]: \n          a         b         c\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.011763\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.022921\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.244186\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.116822\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.364564\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.454607\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You can also access variables in the environment by prepending an \u0026lt;code\u0026gt;@\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;exclude = (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;red\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;orange\u0026apos;\u0026lt;/span\u0026gt;)\ndf.query(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;color not in @exclude\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;h3\u0026gt;More flexibility using \u0026lt;code\u0026gt;.query\u0026lt;/code\u0026gt; with pandas \u0026amp;gt;= 0.25.0:\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;Since pandas \u0026amp;gt;= 0.25.0 we can use the \u0026lt;code\u0026gt;query\u0026lt;/code\u0026gt; method to filter dataframes with pandas methods and even column names which have spaces. Normally the spaces in column names would give an error, but now we can solve that using a backtick (`) - see \u0026lt;a href=\u0026quot;https://github.com/pandas-dev/pandas/issues/6508\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;GitHub\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Example dataframe\u0026lt;/span\u0026gt;\ndf = pd.DataFrame({\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Sender email\u0026apos;\u0026lt;/span\u0026gt;:[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ex@example.com\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;reply@shop.com\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;buy@shop.com\u0026quot;\u0026lt;/span\u0026gt;]})\n\n     Sender email\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  ex@example.com\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  reply@shop.com\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;    buy@shop.com\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Using \u0026lt;code\u0026gt;.query\u0026lt;/code\u0026gt; with method \u0026lt;code\u0026gt;str.endswith\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df.query(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;`Sender email`.str.endswith(\u0026quot;@shop.com\u0026quot;)\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Output\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;     Sender email\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  reply@shop.com\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;    buy@shop.com\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;Also we can use local variables by prefixing it with an \u0026lt;code\u0026gt;@\u0026lt;/code\u0026gt; in our query:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;domain = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;shop.com\u0026apos;\u0026lt;/span\u0026gt;\ndf.query(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;`Sender email`.str.endswith(@domain)\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Output\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;     Sender email\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  reply@shop.com\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;    buy@shop.com\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;For selecting only specific columns out of multiple columns for a given value in Pandas:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;select col_name1, col_name2 \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; table where column_name = some_value.\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Options \u0026lt;a href=\u0026quot;https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.loc.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;loc\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df.loc[df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;column_name\u0026apos;\u0026lt;/span\u0026gt;] == some_value, [col_name1, col_name2]]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;or \u0026lt;a href=\u0026quot;https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.query.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;query\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df.query(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;column_name == some_value\u0026apos;\u0026lt;/span\u0026gt;)[[col_name1, col_name2]]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Faster results can be achieved using \u0026lt;a href=\u0026quot;https://docs.scipy.org/doc/numpy/reference/generated/numpy.where.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;numpy.where\u0026lt;/a\u0026gt;. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For example, with \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/17071871/select-rows-from-a-dataframe-based-on-values-in-a-column-in-pandas/17071908#17071908\u0026quot;\u0026gt;unubtu\u0026apos;s setup\u0026lt;/a\u0026gt; -\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;In [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;76\u0026lt;/span\u0026gt;]: df.iloc[np.where(df.A.values==\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;)]\nOut[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;76\u0026lt;/span\u0026gt;]: \n     A      B  C   D\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  foo    two  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  foo    two  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  foo  three  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Timing comparisons:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;In [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;68\u0026lt;/span\u0026gt;]: %timeit df.iloc[np.where(df.A.values==\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;)]  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# fastest\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt; loops, best of \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;380\u0026lt;/span\u0026gt; µs per loop\n\nIn [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;69\u0026lt;/span\u0026gt;]: %timeit df.loc[df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;] == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt; loops, best of \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;745\u0026lt;/span\u0026gt; µs per loop\n\nIn [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;71\u0026lt;/span\u0026gt;]: %timeit df.loc[df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;].isin([\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;])]\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt; loops, best of \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;562\u0026lt;/span\u0026gt; µs per loop\n\nIn [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;72\u0026lt;/span\u0026gt;]: %timeit df[df.A==\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt; loops, best of \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;796\u0026lt;/span\u0026gt; µs per loop\n\nIn [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;74\u0026lt;/span\u0026gt;]: %timeit df.query(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;(A==\u0026quot;foo\u0026quot;)\u0026apos;\u0026lt;/span\u0026gt;)  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# slowest\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt; loops, best of \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.71\u0026lt;/span\u0026gt; ms per loop\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In newer versions of Pandas, inspired by the documentation (\u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://pandas.pydata.org/docs/user_guide/10min.html#viewing-data\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Viewing data\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;):\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df[df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;colume_name\u0026quot;\u0026lt;/span\u0026gt;] == some_value] \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#Scalar, True/False..\u0026lt;/span\u0026gt;\n\ndf[df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;colume_name\u0026quot;\u0026lt;/span\u0026gt;] == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;some_value\u0026quot;\u0026lt;/span\u0026gt;] \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#String\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Combine multiple conditions by putting the clause in parentheses, \u0026lt;code\u0026gt;()\u0026lt;/code\u0026gt;, and combining them with \u0026lt;code\u0026gt;\u0026amp;amp;\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;|\u0026lt;/code\u0026gt; (and/or). Like this:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df[(df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;colume_name\u0026quot;\u0026lt;/span\u0026gt;] == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;some_value1\u0026quot;\u0026lt;/span\u0026gt;) \u0026amp;amp; (pd[pd[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;colume_name\u0026quot;\u0026lt;/span\u0026gt;] == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;some_value2\u0026quot;\u0026lt;/span\u0026gt;])]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Other filters\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;pandas.notna(df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;colume_name\u0026quot;\u0026lt;/span\u0026gt;]) == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Not NaN\u0026lt;/span\u0026gt;\ndf[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;colume_name\u0026apos;\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt;.contains(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;text\u0026quot;\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Search for \u0026quot;text\u0026quot;\u0026lt;/span\u0026gt;\ndf[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;colume_name\u0026apos;\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt;.lower().\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt;.contains(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;text\u0026quot;\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Search for \u0026quot;text\u0026quot;, after converting  to lowercase\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here is a simple example  \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; pandas \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; DataFrame\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Create data set\u0026lt;/span\u0026gt;\nd = {\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Revenue\u0026apos;\u0026lt;/span\u0026gt;:[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;111\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;222\u0026lt;/span\u0026gt;], \n     \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Cost\u0026apos;\u0026lt;/span\u0026gt;:[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;333\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;444\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;555\u0026lt;/span\u0026gt;]}\ndf = DataFrame(d)\n\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# mask = Return True when the value in column \u0026quot;Revenue\u0026quot; is equal to 111\u0026lt;/span\u0026gt;\nmask = df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Revenue\u0026apos;\u0026lt;/span\u0026gt;] == \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;111\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; mask\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Result:\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 0    False\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 1     True\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 2    False\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Name: Revenue, dtype: bool\u0026lt;/span\u0026gt;\n\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Select * FROM df WHERE Revenue = 111\u0026lt;/span\u0026gt;\ndf[mask]\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Result:\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#    Cost    Revenue\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 1  444     111\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;To append to this famous question (though a bit too late): You can also do \u0026lt;code\u0026gt;df.groupby(\u0026apos;column_name\u0026apos;).get_group(\u0026apos;column_desired_value\u0026apos;).reset_index()\u0026lt;/code\u0026gt; to make a new data frame with specified column having a particular value. E.g.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; pandas \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; pd\ndf = pd.DataFrame({\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo bar foo bar foo bar foo foo\u0026apos;\u0026lt;/span\u0026gt;.split(),\n                   \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;B\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;one one two three two two one three\u0026apos;\u0026lt;/span\u0026gt;.split()})\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Original dataframe:\u0026quot;\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(df)\n\nb_is_two_dataframe = pd.DataFrame(df.groupby(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;B\u0026apos;\u0026lt;/span\u0026gt;).get_group(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;two\u0026apos;\u0026lt;/span\u0026gt;).reset_index()).drop(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;index\u0026apos;\u0026lt;/span\u0026gt;, axis = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;) \n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;NOTE:\u0026lt;/span\u0026gt; the final drop is to remove the extra index column returned by groupby object\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Sub dataframe where B is two:\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(b_is_two_dataframe)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Run this gives:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;Original dataframe:\n     A      B\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  foo    one\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  bar    one\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  foo    two\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;  bar  three\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  foo    two\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;  bar    two\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  foo    one\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  foo  three\nSub dataframe where B \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; two:\n     A    B\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  foo  two\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  foo  two\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  bar  two\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can also use .apply:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df.apply(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; row: row[df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;B\u0026apos;\u0026lt;/span\u0026gt;].isin([\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;one\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;three\u0026apos;\u0026lt;/span\u0026gt;])])\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;It actually works row-wise (i.e., applies the function to each row).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The output is \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;   A      B  C   D\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  bar    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;  bar  three  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  foo    one  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  foo  three  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The results is the same as using as mentioned by @unutbu\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df[[df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;B\u0026apos;\u0026lt;/span\u0026gt;].isin([\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;one\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;three\u0026apos;\u0026lt;/span\u0026gt;])]]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you want to make query to your dataframe repeatedly and speed is important to you, the best thing is to convert your dataframe to dictionary and then by doing this you can make query thousands of times faster.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;my_df = df.set_index(column_name)\nmy_dict = my_df.to_dict(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;index\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;After make my_dict dictionary you can go through:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; some_value \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; my_dict.keys():\n   my_result = my_dict[some_value]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;If you have duplicated values in column_name you can\u0026apos;t make a dictionary. but you can use:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;my_result = my_df.loc[some_value]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;h3\u0026gt;SQL statements on DataFrames to select rows using DuckDB\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;With \u0026lt;a href=\u0026quot;https://duckdb.org/docs/guides/python/sql_on_pandas\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;duckdb\u0026lt;/a\u0026gt; we can query pandas DataFrames with SQL statements, in a \u0026lt;a href=\u0026quot;https://duckdb.org/2021/05/14/sql-on-pandas.html\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;highly performant way\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Since the question is \u0026lt;em\u0026gt;How do I select rows from a DataFrame based on column values?\u0026lt;/em\u0026gt;, and the example in the question is a SQL query, this answer looks logical in this topic.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Example\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;In [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;]: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; duckdb\n\nIn [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;]: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; pandas \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; pd\n\nIn [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;]: con = duckdb.connect()\n\nIn [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;]: df = pd.DataFrame({\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;range\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;B\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;range\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;22\u0026lt;/span\u0026gt;)})\n\nIn [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;]: df\nOut[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;]:\n     A   B\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;13\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;15\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;17\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;18\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;19\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;21\u0026lt;/span\u0026gt;\n\nIn [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;]: results = con.execute(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SELECT * FROM df where A \u0026amp;gt; 2\u0026quot;\u0026lt;/span\u0026gt;).df()\n\nIn [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;]: results\nOut[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;]:\n    A   B\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;15\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;17\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;18\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;19\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;21\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Great answers. Only, when the \u0026lt;strong\u0026gt;size of the dataframe approaches million rows\u0026lt;/strong\u0026gt;, many of the methods tend to take ages when using \u0026lt;code\u0026gt;df[df[\u0026apos;col\u0026apos;]==val]\u0026lt;/code\u0026gt;. I wanted to have all possible values of \u0026quot;another_column\u0026quot; that correspond to specific values in \u0026quot;some_column\u0026quot; (in this case in a dictionary). This worked and fast.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;s=datetime.datetime.now()\n\nmy_dict={}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; i, my_key \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;enumerate\u0026lt;/span\u0026gt;(df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;some_column\u0026apos;\u0026lt;/span\u0026gt;].values): \n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; i%\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;==\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;:\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(i)  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# to see the progress\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; my_key \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; my_dict.keys():\n        my_dict[my_key]={}\n        my_dict[my_key][\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;values\u0026apos;\u0026lt;/span\u0026gt;]=[df.iloc[i][\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;another_column\u0026apos;\u0026lt;/span\u0026gt;]]\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n        my_dict[my_key][\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;values\u0026apos;\u0026lt;/span\u0026gt;].append(df.iloc[i][\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;another_column\u0026apos;\u0026lt;/span\u0026gt;])\n        \ne=datetime.datetime.now()\n\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;operation took \u0026apos;\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt;(e-s)+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos; seconds\u0026apos;\u0026lt;/span\u0026gt;)```\n\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":188,"title":"How do I select rows from a DataFrame based on column values?","content":"\n                \n\u0026lt;p\u0026gt;How can I select rows from a \u0026lt;code\u0026gt;DataFrame\u0026lt;/code\u0026gt; based on values in some column in Pandas?\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;In SQL, I would use:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;table\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;WHERE\u0026lt;/span\u0026gt; column_name \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; some_value\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","slug":"how-do-i-select-rows-from-a-dataframe-based-on-column-values-1657384901065","postType":"QUESTION","createdAt":"2022-07-09T16:41:41.000Z","updatedAt":"2022-07-09T16:41:41.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"Percentage Height HTML 5/CSS","slug":"percentage-height-html-5css-1657387471048"},{"title":"How do I count the occurrences of a list item?","slug":"how-do-i-count-the-occurrences-of-a-list-item-1657387916234"},{"title":"What is the explicit promise construction antipattern and how do I avoid it?","slug":"what-is-the-explicit-promise-construction-antipattern-and-how-do-i-avoid-it-1657384436212"},{"title":"How to determine equality for two JavaScript objects?","slug":"how-to-determine-equality-for-two-javascript-objects-1657387638650"},{"title":"Using regular expressions to parse HTML: why not?","slug":"using-regular-expressions-to-parse-html:-why-not-1657387543969"},{"title":"How can I return pivot table output in MySQL?","slug":"how-can-i-return-pivot-table-output-in-mysql-1657384715043"},{"title":"Using async/await with a forEach loop","slug":"using-asyncawait-with-a-foreach-loop-1657384512667"},{"title":"How to create a MySQL hierarchical recursive query?","slug":"how-to-create-a-mysql-hierarchical-recursive-query-1657387662163"},{"title":"How can I access and process nested objects, arrays, or JSON?","slug":"how-can-i-access-and-process-nested-objects-arrays-or-json-1657384332823"},{"title":"Why is 24.0000 not equal to 24.0000 in MATLAB?","slug":"why-is-24.0000-not-equal-to-24.0000-in-matlab-1657388376753"},{"title":"Why should there be spaces around '[' and ']' in Bash?","slug":"why-should-there-be-spaces-around-''-and-''-in-bash-1657387984122"},{"title":"How can I pivot a dataframe?","slug":"how-can-i-pivot-a-dataframe-1657384433802"},{"title":"How do I sort a dictionary by value?","slug":"how-do-i-sort-a-dictionary-by-value-1657385485049"},{"title":"Daylight saving time and time zone best practices [closed]","slug":"daylight-saving-time-and-time-zone-best-practices-closed-1657387973687"},{"title":"$(document).ready equivalent without jQuery","slug":"dollar(document).ready-equivalent-without-jquery-1657388504115"},{"title":"Serialize and Deserialize Json and Json Array in Unity","slug":"serialize-and-deserialize-json-and-json-array-in-unity-1657388273270"},{"title":"Sort array of objects by string property value","slug":"sort-array-of-objects-by-string-property-value-1657384860090"},{"title":"How to remove \"noise\" from GCC/clang assembly output?","slug":"how-to-remove-\"noise\"-from-gccclang-assembly-output-1657387612391"},{"title":"My attempt at value initialization is interpreted as a function declaration, and why doesn't A a(()); solve it?","slug":"my-attempt-at-value-initialization-is-interpreted-as-a-function-declaration-and-why-doesn't-a-a(())-solve-it-1657388474057"},{"title":"How to manage startActivityForResult on Android","slug":"how-to-manage-startactivityforresult-on-android-1657387967393"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-do-i-select-rows-from-a-dataframe-based-on-column-values-1657384901065"},"buildId":"BnkbnjkWYxefPXjTJLVVv","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>