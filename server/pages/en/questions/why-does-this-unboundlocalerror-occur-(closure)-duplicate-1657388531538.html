<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find the solution to any question. We focus on finding the fastest possible solution for users. Main topics like coding, learning. - solutionschecker.com"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><link name="keywords" content="solutions checker, solution checker, how to, solution for, check for solution, resolve question, what is, what solution for, find solution"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://solutionschecker.com","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://solutionschecker.com/questions","name":"Questions"}},{"@type":"ListItem","position":3,"item":{"@id":"https://solutionschecker.com/questions/why-does-this-unboundlocalerror-occur-(closure)-duplicate-1657388531538","name":"Questions"}}]}</script><title>Why does this UnboundLocalError occur (closure)? [duplicate] | Solution Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="
            
        
            
                
                    
                        This question already has answers here:
                        
                    
                
            
                    
                        How can I change a global variable from within a function?
                            
                                (8 answers)
                            
                    
                    
                        Using global variables in a function
                            
                                (24 answers)
                            
                    
                Closed 5 years ago.
        


    

What am I doing wrong here?
counter = 0

def increment():
  counter += 1

increment()

The above code throws an UnboundLocalError.
    "/><meta property="og:title" content="Why does this UnboundLocalError occur (closure)? [duplicate] | Solution Checker"/><meta property="og:description" content="
            
        
            
                
                    
                        This question already has answers here:
                        
                    
                
            
                    
                        How can I change a global variable from within a function?
                            
                                (8 answers)
                            
                    
                    
                        Using global variables in a function
                            
                                (24 answers)
                            
                    
                Closed 5 years ago.
        


    

What am I doing wrong here?
counter = 0

def increment():
  counter += 1

increment()

The above code throws an UnboundLocalError.
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"Why does this UnboundLocalError occur (closure)? [duplicate]","text":"\n            \n        \n            \n                \n                    \n                        This question already has answers here:\n                        \n                    \n                \n            \n                    \n                        How can I change a global variable from within a function?\n                            \n                                (8 answers)\n                            \n                    \n                    \n                        Using global variables in a function\n                            \n                                (24 answers)\n                            \n                    \n                Closed 5 years ago.\n        \n\n\n    \n\nWhat am I doing wrong here?\ncounter = 0\n\ndef increment():\n  counter += 1\n\nincrement()\n\nThe above code throws an UnboundLocalError.\n    ","answerCount":8,"upVoteCount":500,"suggestedAnswer":[{"text":"Python doesn&apos;t have variable declarations, so it has to figure out the scope of variables itself.  It does so by a simple rule:  If there is an assignment to a variable inside a function, that variable is considered local.[1]  Thus, the line\n\ncounter += 1\n\n\nimplicitly makes counter local to increment().  Trying to execute this line, though, will try to read the value of the local variable counter before it is assigned, resulting in an UnboundLocalError.[2]\n\nIf counter is a global variable, the global keyword will help.  If increment() is a local function and counter a local variable, you can use nonlocal in Python 3.x.\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"You need to use the global statement so that you are modifying the global variable counter, instead of a local variable:\n\ncounter = 0\n\ndef increment():\n  global counter\n  counter += 1\n\nincrement()\n\n\nIf the enclosing scope that counter is defined in is not the global scope, on Python 3.x you could use the nonlocal statement.  In the same situation on Python 2.x you would have no way to reassign to the nonlocal name counter, so you would need to make counter mutable and modify it:\n\ncounter = [0]\n\ndef increment():\n  counter[0] += 1\n\nincrement()\nprint counter[0]  # prints &apos;1&apos;\n\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"To answer the question in your subject line,* yes, there are closures in Python, except they only apply inside a function, and also (in Python 2.x) they are read-only; you can&apos;t re-bind the name to a different object (though if the object is mutable, you can modify its contents). In Python 3.x, you can use the nonlocal keyword to modify a closure variable.\n\ndef incrementer():\n    counter = 0\n    def increment():\n        nonlocal counter\n        counter += 1\n        return counter\n    return increment\n\nincrement = incrementer()\n\nincrement()   # 1\nincrement()   # 2\n\n\n* The question origially asked about closures in Python.\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"The reason why your code throws an UnboundLocalError is already well explained in other answers.\nBut it seems to me that you&apos;re trying to build something that works like itertools.count().\nSo try it out, and see if it suits your case:\n&gt;&gt;&gt; from itertools import count\n&gt;&gt;&gt; counter = count(0)\n&gt;&gt;&gt; counter\ncount(0)\n&gt;&gt;&gt; next(counter)\n0\n&gt;&gt;&gt; counter\ncount(1)\n&gt;&gt;&gt; next(counter)\n1\n&gt;&gt;&gt; counter\ncount(2)\n\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"Python has lexical scoping by default, which means that although an enclosed scope can access values in its enclosing scope, it cannot modify them (unless they&apos;re declared global with the global keyword).\n\nA closure binds values in the enclosing environment to names in the local environment. The local environment can then use the bound value, and even reassign that name to something else, but it can&apos;t modify the binding in the enclosing environment.\n\nIn your case you are trying to treat counter as a local variable rather than a bound value. Note that this code, which binds the value of x assigned in the enclosing environment, works fine:\n\n&gt;&gt;&gt; x = 1\n\n&gt;&gt;&gt; def f():\n&gt;&gt;&gt;  return x\n\n&gt;&gt;&gt; f()\n1\n\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"To modify a global variable inside a function, you must use the global keyword.\n\nWhen you try to do this without the line\n\nglobal counter\n\n\ninside of the definition of increment, a local variable named counter is created so as to keep you from mucking up the counter variable that the whole program may depend on.\n\nNote that you only need to use global when you are modifying the variable; you could read counter from within increment without the need for the global statement.\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"Try this:\ncounter = 0\n\ndef increment():\n  global counter\n  counter += 1\n\nincrement()\n\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"Python is not purely lexically scoped.\nSee Using global variables in a function.\nAnd Notes on Python variable scope.\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="22"/><link rel="preload" href="/_next/static/css/c116652e2d6f4ad0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c116652e2d6f4ad0.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-260362324a06d105.js" defer=""></script><script src="/_next/static/chunks/294-106ef8570fa99deb.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-50e201fdaa1e0fd1.js" defer=""></script><script src="/_next/static/5tS3Jli5j89_wXapXajXn/_buildManifest.js" defer=""></script><script src="/_next/static/5tS3Jli5j89_wXapXajXn/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h1 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h1></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/why-does-this-unboundlocalerror-occur-(closure)-duplicate-1657388531538#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/why-does-this-unboundlocalerror-occur-(closure)-duplicate-1657388531538"><h1>Why does this UnboundLocalError occur (closure)? [duplicate]</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"></div></div><div class="question-content mt-5">
                    <div>
            <aside class="s-notice s-notice__info post-notice js-post-notice mb16" role="status">
        <div class="d-flex fd-column fw-nowrap">
            <div class="d-flex fw-nowrap">
                <div class="flex--item wmn0 fl1 lh-lg">
                    <div class="flex--item fl1 lh-lg">
                        <b>This question already has answers here</b>:
                        
                    </div>
                </div>
            </div>
                    <div class="flex--item mb0 mt4">
                        <a href="/questions/41369408/how-can-i-change-a-global-variable-from-within-a-function" dir="ltr">How can I change a global variable from within a function?</a>
                            <span class="question-originals-answer-count">
                                (8 answers)
                            </span>
                    </div>
                    <div class="flex--item mb0 mt4">
                        <a href="/questions/423379/using-global-variables-in-a-function" dir="ltr">Using global variables in a function</a>
                            <span class="question-originals-answer-count">
                                (24 answers)
                            </span>
                    </div>
                <div class="flex--item mb0 mt8">Closed <span title="2016-12-29 06:42:07Z" class="relativetime">5 years ago</span>.</div>
        </div>
</aside>

    </div>

<p>What am I doing wrong here?</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">counter = <span class="hljs-number">0</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">increment</span>():
  counter += <span class="hljs-number">1</span>

increment()
</code></pre>
<p>The above code throws an <code>UnboundLocalError</code>.</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><h1 class="text-lg font-semibold mb-5">Navigate to solutions: </h1><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 1</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Python doesn't have variable declarations, so it has to figure out the <a href="http://docs.python.org/3.3/tutorial/classes.html#python-scopes-and-namespaces">scope</a> of variables itself.  It does so by a simple rule:  If there is an assignment to a variable inside a function, that variable is considered local.<sup><a href="http://docs.python.org/3.3/faq/programming.html#what-are-the-rules-for-local-and-global-variables-in-python">[1]</a></sup>  Thus, the line</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">counter += <span class="hljs-number">1</span>
</code></pre>

<p>implicitly makes <code>counter</code> local to <code>increment()</code>.  Trying to execute this line, though, will try to read the value of the local variable <code>counter</code> before it is assigned, resulting in an <a href="http://docs.python.org/3.3/library/exceptions.html#UnboundLocalError"><code>UnboundLocalError</code></a>.<sup><a href="http://docs.python.org/3.3/faq/programming.html#why-am-i-getting-an-unboundlocalerror-when-the-variable-has-a-value">[2]</a></sup></p>

<p>If <code>counter</code> is a global variable, the <a href="http://docs.python.org/3.3/reference/simple_stmts.html#the-global-statement"><code>global</code></a> keyword will help.  If <code>increment()</code> is a local function and <code>counter</code> a local variable, you can use <a href="http://docs.python.org/3.3/reference/simple_stmts.html#the-nonlocal-statement"><code>nonlocal</code></a> in Python 3.x.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 2</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You need to use the <a href="http://docs.python.org/py3k/reference/simple_stmts.html#the-global-statement">global statement</a> so that you are modifying the global variable counter, instead of a local variable:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">counter = <span class="hljs-number">0</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">increment</span>():
  <span class="hljs-keyword">global</span> counter
  counter += <span class="hljs-number">1</span>

increment()
</code></pre>

<p>If the enclosing scope that <code>counter</code> is defined in is not the global scope, on Python 3.x you could use the <a href="http://docs.python.org/py3k/reference/simple_stmts.html#the-nonlocal-statement">nonlocal statement</a>.  In the same situation on Python 2.x you would have no way to reassign to the nonlocal name <code>counter</code>, so you would need to make <code>counter</code> mutable and modify it:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">counter = [<span class="hljs-number">0</span>]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">increment</span>():
  counter[<span class="hljs-number">0</span>] += <span class="hljs-number">1</span>

increment()
<span class="hljs-built_in">print</span> counter[<span class="hljs-number">0</span>]  <span class="hljs-comment"># prints '1'</span>
</code></pre>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 3</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>To answer the question in your subject line,* yes, there are closures in Python, except they only apply inside a function, and also (in Python 2.x) they are read-only; you can't re-bind the name to a different object (though if the object is mutable, you can modify its contents). In Python 3.x, you can use the <a href="https://docs.python.org/3/reference/simple_stmts.html?highlight=nonlocal#nonlocal" rel="noreferrer"><code>nonlocal</code></a> keyword to modify a closure variable.</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">incrementer</span>():
    counter = <span class="hljs-number">0</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">increment</span>():
        <span class="hljs-keyword">nonlocal</span> counter
        counter += <span class="hljs-number">1</span>
        <span class="hljs-keyword">return</span> counter
    <span class="hljs-keyword">return</span> increment

increment = incrementer()

increment()   <span class="hljs-comment"># 1</span>
increment()   <span class="hljs-comment"># 2</span>
</code></pre>

<p>* The question origially asked about closures in Python.</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 4</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The reason why your code throws an <code>UnboundLocalError</code> is already well explained in other answers.</p>
<p>But it seems to me that you're trying to build something that works like <a href="http://docs.python.org/library/itertools.html#itertools.count" rel="nofollow noreferrer"><code>itertools.count()</code></a>.</p>
<p>So try it out, and see if it suits your case:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> itertools <span class="hljs-keyword">import</span> count
<span class="hljs-meta">&gt;&gt;&gt; </span>counter = count(<span class="hljs-number">0</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>counter
count(<span class="hljs-number">0</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">next</span>(counter)
<span class="hljs-number">0</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>counter
count(<span class="hljs-number">1</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">next</span>(counter)
<span class="hljs-number">1</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>counter
count(<span class="hljs-number">2</span>)
</code></pre>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 5</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Python has lexical scoping by default, which means that although an enclosed scope can access values in its enclosing scope, it cannot modify them (unless they're declared global with the <a href="http://docs.python.org/3.3/reference/simple_stmts.html#the-global-statement" rel="noreferrer"><code>global</code></a> keyword).</p>

<p>A closure binds values in the <em>enclosing</em> environment to names in the <em>local</em> environment. The local environment can then use the bound value, and even reassign that name to something else, but it can't modify the binding in the enclosing environment.</p>

<p>In your case you are trying to treat <code>counter</code> as a local variable rather than a bound value. Note that this code, which binds the value of <code>x</code> assigned in the enclosing environment, works fine:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-meta">&gt;&gt;&gt; </span>x = <span class="hljs-number">1</span>

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">f</span>():
<span class="hljs-meta">&gt;&gt;&gt; </span> <span class="hljs-keyword">return</span> x

<span class="hljs-meta">&gt;&gt;&gt; </span>f()
<span class="hljs-number">1</span>
</code></pre>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 6</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>To modify a global variable inside a function, you must use the global keyword.</p>

<p>When you try to do this without the line</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">global</span> counter
</code></pre>

<p>inside of the definition of increment, a local variable named counter is created so as to keep you from mucking up the counter variable that the whole program may depend on.</p>

<p>Note that you only need to use global when you are modifying the variable; you could read counter from within increment without the need for the global statement.</p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 7</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Try this:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">counter = <span class="hljs-number">0</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">increment</span>():
  <span class="hljs-keyword">global</span> counter
  counter += <span class="hljs-number">1</span>

increment()
</code></pre>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 8</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Python is not purely lexically scoped.</p>
<p>See <em><a href="https://stackoverflow.com/questions/423379/using-global-variables-in-a-function-other-than-the-one-that-created-them/">Using global variables in a function</a></em>.</p>
<p>And <em><a href="https://www.saltycrane.com/blog/2008/01/python-variable-scope-notes/" rel="nofollow noreferrer">Notes on Python variable scope</a></em>.</p>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/how-do-i-use-arrays-in-c++-1657387456118">How do I use arrays in C++?</a><a href="/questions/example-images-for-code-and-mark-up-qandas-closed-1657387690222">Example images for code and mark-up Q&amp;As [closed]</a><a href="/questions/how-to-reshape-data-from-long-to-wide-format-1657384486421">How to reshape data from long to wide format</a><a href="/questions/command-not-found-error-in-bash-variable-assignment-1657388326347">Command not found error in Bash variable assignment</a><a href="/questions/%22is%22-operator-behaves-unexpectedly-with-integers-1657387563823">&quot;is&quot; operator behaves unexpectedly with integers</a><a href="/questions/why-is-using-%22for...in%22-for-array-iteration-a-bad-idea-1657384653458">Why is using &quot;for...in&quot; for array iteration a bad idea?</a><a href="/questions/firebase-query-if-child-of-child-contains-a-value-1657387841291">Firebase query if child of child contains a value</a><a href="/questions/how-to-filter-pandas-dataframe-using-&#x27;in&#x27;-and-&#x27;not-in&#x27;-like-in-sql-1657387371355">How to filter Pandas dataframe using &#x27;in&#x27; and &#x27;not in&#x27; like in SQL</a><a href="/questions/pandas-merging-101-1657384447080">Pandas Merging 101</a><a href="/questions/web-scraping-javascript-page-with-python-1657388240875">Web-scraping JavaScript page with Python</a><a href="/questions/is-there-a-%22previous-sibling%22-selector-1657384771067">Is there a &quot;previous sibling&quot; selector?</a><a href="/questions/simulating-group_concat-mysql-function-in-microsoft-sql-server-2005-1657384832169">Simulating group_concat MySQL function in Microsoft SQL Server 2005?</a><a href="/questions/how-to-use-threetenabp-in-android-project-1657384345704">How to use ThreeTenABP in Android Project</a><a href="/questions/how-do-i-properly-compare-strings-in-c-1657387467202">How do I properly compare strings in C?</a><a href="/questions/relative-imports-for-the-billionth-time-1657387756383">Relative imports for the billionth time</a><a href="/questions/determine-whether-two-date-ranges-overlap-1657387924335">Determine Whether Two Date Ranges Overlap</a><a href="/questions/when-should-i-wrap-quotes-around-a-shell-variable-1657384659265">When should I wrap quotes around a shell variable?</a><a href="/questions/why-is-my-spring-@autowired-field-null-1657384705291">Why is my Spring @Autowired field null?</a><a href="/questions/why-aren&#x27;t-variable-length-arrays-part-of-the-c++-standard-1657384712975">Why aren&#x27;t variable-length arrays part of the C++ standard?</a><a href="/questions/what-are-the-nuances-of-scope-prototypal-prototypical-inheritance-in-angularjs-1657387340067">What are the nuances of scope prototypal / prototypical inheritance in AngularJS?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;Python doesn\u0026apos;t have variable declarations, so it has to figure out the \u0026lt;a href=\u0026quot;http://docs.python.org/3.3/tutorial/classes.html#python-scopes-and-namespaces\u0026quot;\u0026gt;scope\u0026lt;/a\u0026gt; of variables itself.  It does so by a simple rule:  If there is an assignment to a variable inside a function, that variable is considered local.\u0026lt;sup\u0026gt;\u0026lt;a href=\u0026quot;http://docs.python.org/3.3/faq/programming.html#what-are-the-rules-for-local-and-global-variables-in-python\u0026quot;\u0026gt;[1]\u0026lt;/a\u0026gt;\u0026lt;/sup\u0026gt;  Thus, the line\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;counter += \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;implicitly makes \u0026lt;code\u0026gt;counter\u0026lt;/code\u0026gt; local to \u0026lt;code\u0026gt;increment()\u0026lt;/code\u0026gt;.  Trying to execute this line, though, will try to read the value of the local variable \u0026lt;code\u0026gt;counter\u0026lt;/code\u0026gt; before it is assigned, resulting in an \u0026lt;a href=\u0026quot;http://docs.python.org/3.3/library/exceptions.html#UnboundLocalError\u0026quot;\u0026gt;\u0026lt;code\u0026gt;UnboundLocalError\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;.\u0026lt;sup\u0026gt;\u0026lt;a href=\u0026quot;http://docs.python.org/3.3/faq/programming.html#why-am-i-getting-an-unboundlocalerror-when-the-variable-has-a-value\u0026quot;\u0026gt;[2]\u0026lt;/a\u0026gt;\u0026lt;/sup\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If \u0026lt;code\u0026gt;counter\u0026lt;/code\u0026gt; is a global variable, the \u0026lt;a href=\u0026quot;http://docs.python.org/3.3/reference/simple_stmts.html#the-global-statement\u0026quot;\u0026gt;\u0026lt;code\u0026gt;global\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; keyword will help.  If \u0026lt;code\u0026gt;increment()\u0026lt;/code\u0026gt; is a local function and \u0026lt;code\u0026gt;counter\u0026lt;/code\u0026gt; a local variable, you can use \u0026lt;a href=\u0026quot;http://docs.python.org/3.3/reference/simple_stmts.html#the-nonlocal-statement\u0026quot;\u0026gt;\u0026lt;code\u0026gt;nonlocal\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; in Python 3.x.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You need to use the \u0026lt;a href=\u0026quot;http://docs.python.org/py3k/reference/simple_stmts.html#the-global-statement\u0026quot;\u0026gt;global statement\u0026lt;/a\u0026gt; so that you are modifying the global variable counter, instead of a local variable:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;counter = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;increment\u0026lt;/span\u0026gt;():\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;global\u0026lt;/span\u0026gt; counter\n  counter += \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n\nincrement()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;If the enclosing scope that \u0026lt;code\u0026gt;counter\u0026lt;/code\u0026gt; is defined in is not the global scope, on Python 3.x you could use the \u0026lt;a href=\u0026quot;http://docs.python.org/py3k/reference/simple_stmts.html#the-nonlocal-statement\u0026quot;\u0026gt;nonlocal statement\u0026lt;/a\u0026gt;.  In the same situation on Python 2.x you would have no way to reassign to the nonlocal name \u0026lt;code\u0026gt;counter\u0026lt;/code\u0026gt;, so you would need to make \u0026lt;code\u0026gt;counter\u0026lt;/code\u0026gt; mutable and modify it:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;counter = [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;]\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;increment\u0026lt;/span\u0026gt;():\n  counter[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;] += \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n\nincrement()\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; counter[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;]  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# prints \u0026apos;1\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;To answer the question in your subject line,* yes, there are closures in Python, except they only apply inside a function, and also (in Python 2.x) they are read-only; you can\u0026apos;t re-bind the name to a different object (though if the object is mutable, you can modify its contents). In Python 3.x, you can use the \u0026lt;a href=\u0026quot;https://docs.python.org/3/reference/simple_stmts.html?highlight=nonlocal#nonlocal\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;nonlocal\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; keyword to modify a closure variable.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;incrementer\u0026lt;/span\u0026gt;():\n    counter = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;increment\u0026lt;/span\u0026gt;():\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;nonlocal\u0026lt;/span\u0026gt; counter\n        counter += \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; counter\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; increment\n\nincrement = incrementer()\n\nincrement()   \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 1\u0026lt;/span\u0026gt;\nincrement()   \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# 2\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;* The question origially asked about closures in Python.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The reason why your code throws an \u0026lt;code\u0026gt;UnboundLocalError\u0026lt;/code\u0026gt; is already well explained in other answers.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;But it seems to me that you\u0026apos;re trying to build something that works like \u0026lt;a href=\u0026quot;http://docs.python.org/library/itertools.html#itertools.count\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;itertools.count()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;So try it out, and see if it suits your case:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; itertools \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; count\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;counter = count(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;counter\ncount(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;(counter)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;counter\ncount(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;(counter)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;counter\ncount(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Python has lexical scoping by default, which means that although an enclosed scope can access values in its enclosing scope, it cannot modify them (unless they\u0026apos;re declared global with the \u0026lt;a href=\u0026quot;http://docs.python.org/3.3/reference/simple_stmts.html#the-global-statement\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;global\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; keyword).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;A closure binds values in the \u0026lt;em\u0026gt;enclosing\u0026lt;/em\u0026gt; environment to names in the \u0026lt;em\u0026gt;local\u0026lt;/em\u0026gt; environment. The local environment can then use the bound value, and even reassign that name to something else, but it can\u0026apos;t modify the binding in the enclosing environment.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In your case you are trying to treat \u0026lt;code\u0026gt;counter\u0026lt;/code\u0026gt; as a local variable rather than a bound value. Note that this code, which binds the value of \u0026lt;code\u0026gt;x\u0026lt;/code\u0026gt; assigned in the enclosing environment, works fine:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;x = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;f\u0026lt;/span\u0026gt;():\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; x\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;f()\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;To modify a global variable inside a function, you must use the global keyword.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;When you try to do this without the line\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;global\u0026lt;/span\u0026gt; counter\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;inside of the definition of increment, a local variable named counter is created so as to keep you from mucking up the counter variable that the whole program may depend on.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Note that you only need to use global when you are modifying the variable; you could read counter from within increment without the need for the global statement.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Try this:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;counter = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;increment\u0026lt;/span\u0026gt;():\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;global\u0026lt;/span\u0026gt; counter\n  counter += \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n\nincrement()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Python is not purely lexically scoped.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;See \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/423379/using-global-variables-in-a-function-other-than-the-one-that-created-them/\u0026quot;\u0026gt;Using global variables in a function\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;And \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://www.saltycrane.com/blog/2008/01/python-variable-scope-notes/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Notes on Python variable scope\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n    "],"id":598,"title":"Why does this UnboundLocalError occur (closure)? [duplicate]","content":"\n                    \u0026lt;div\u0026gt;\n            \u0026lt;aside class=\u0026quot;s-notice s-notice__info post-notice js-post-notice mb16\u0026quot; role=\u0026quot;status\u0026quot;\u0026gt;\n        \u0026lt;div class=\u0026quot;d-flex fd-column fw-nowrap\u0026quot;\u0026gt;\n            \u0026lt;div class=\u0026quot;d-flex fw-nowrap\u0026quot;\u0026gt;\n                \u0026lt;div class=\u0026quot;flex--item wmn0 fl1 lh-lg\u0026quot;\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item fl1 lh-lg\u0026quot;\u0026gt;\n                        \u0026lt;b\u0026gt;This question already has answers here\u0026lt;/b\u0026gt;:\n                        \n                    \u0026lt;/div\u0026gt;\n                \u0026lt;/div\u0026gt;\n            \u0026lt;/div\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item mb0 mt4\u0026quot;\u0026gt;\n                        \u0026lt;a href=\u0026quot;/questions/41369408/how-can-i-change-a-global-variable-from-within-a-function\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;How can I change a global variable from within a function?\u0026lt;/a\u0026gt;\n                            \u0026lt;span class=\u0026quot;question-originals-answer-count\u0026quot;\u0026gt;\n                                (8 answers)\n                            \u0026lt;/span\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item mb0 mt4\u0026quot;\u0026gt;\n                        \u0026lt;a href=\u0026quot;/questions/423379/using-global-variables-in-a-function\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;Using global variables in a function\u0026lt;/a\u0026gt;\n                            \u0026lt;span class=\u0026quot;question-originals-answer-count\u0026quot;\u0026gt;\n                                (24 answers)\n                            \u0026lt;/span\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                \u0026lt;div class=\u0026quot;flex--item mb0 mt8\u0026quot;\u0026gt;Closed \u0026lt;span title=\u0026quot;2016-12-29 06:42:07Z\u0026quot; class=\u0026quot;relativetime\u0026quot;\u0026gt;5 years ago\u0026lt;/span\u0026gt;.\u0026lt;/div\u0026gt;\n        \u0026lt;/div\u0026gt;\n\u0026lt;/aside\u0026gt;\n\n    \u0026lt;/div\u0026gt;\n\n\u0026lt;p\u0026gt;What am I doing wrong here?\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;counter = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;increment\u0026lt;/span\u0026gt;():\n  counter += \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n\nincrement()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The above code throws an \u0026lt;code\u0026gt;UnboundLocalError\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n    ","slug":"why-does-this-unboundlocalerror-occur-(closure)-duplicate-1657388531538","postType":"QUESTION","createdAt":"2022-07-09T17:42:11.000Z","updatedAt":"2022-07-09T17:42:11.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"How do I use arrays in C++?","slug":"how-do-i-use-arrays-in-c++-1657387456118"},{"title":"Example images for code and mark-up Q\u0026As [closed]","slug":"example-images-for-code-and-mark-up-qandas-closed-1657387690222"},{"title":"How to reshape data from long to wide format","slug":"how-to-reshape-data-from-long-to-wide-format-1657384486421"},{"title":"Command not found error in Bash variable assignment","slug":"command-not-found-error-in-bash-variable-assignment-1657388326347"},{"title":"\"is\" operator behaves unexpectedly with integers","slug":"\"is\"-operator-behaves-unexpectedly-with-integers-1657387563823"},{"title":"Why is using \"for...in\" for array iteration a bad idea?","slug":"why-is-using-\"for...in\"-for-array-iteration-a-bad-idea-1657384653458"},{"title":"Firebase query if child of child contains a value","slug":"firebase-query-if-child-of-child-contains-a-value-1657387841291"},{"title":"How to filter Pandas dataframe using 'in' and 'not in' like in SQL","slug":"how-to-filter-pandas-dataframe-using-'in'-and-'not-in'-like-in-sql-1657387371355"},{"title":"Pandas Merging 101","slug":"pandas-merging-101-1657384447080"},{"title":"Web-scraping JavaScript page with Python","slug":"web-scraping-javascript-page-with-python-1657388240875"},{"title":"Is there a \"previous sibling\" selector?","slug":"is-there-a-\"previous-sibling\"-selector-1657384771067"},{"title":"Simulating group_concat MySQL function in Microsoft SQL Server 2005?","slug":"simulating-group_concat-mysql-function-in-microsoft-sql-server-2005-1657384832169"},{"title":"How to use ThreeTenABP in Android Project","slug":"how-to-use-threetenabp-in-android-project-1657384345704"},{"title":"How do I properly compare strings in C?","slug":"how-do-i-properly-compare-strings-in-c-1657387467202"},{"title":"Relative imports for the billionth time","slug":"relative-imports-for-the-billionth-time-1657387756383"},{"title":"Determine Whether Two Date Ranges Overlap","slug":"determine-whether-two-date-ranges-overlap-1657387924335"},{"title":"When should I wrap quotes around a shell variable?","slug":"when-should-i-wrap-quotes-around-a-shell-variable-1657384659265"},{"title":"Why is my Spring @Autowired field null?","slug":"why-is-my-spring-@autowired-field-null-1657384705291"},{"title":"Why aren't variable-length arrays part of the C++ standard?","slug":"why-aren't-variable-length-arrays-part-of-the-c++-standard-1657384712975"},{"title":"What are the nuances of scope prototypal / prototypical inheritance in AngularJS?","slug":"what-are-the-nuances-of-scope-prototypal-prototypical-inheritance-in-angularjs-1657387340067"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"why-does-this-unboundlocalerror-occur-(closure)-duplicate-1657388531538"},"buildId":"5tS3Jli5j89_wXapXajXn","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>