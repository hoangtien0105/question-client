<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find the solution to any question. We focus on finding the fastest possible solution for users. Main topics like coding, learning. - solutionschecker.com"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><link name="keywords" content="solutions checker, solution checker, how to, solution for, check for solution, resolve question, what is, what solution for, find solution"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://solutionschecker.com","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://solutionschecker.com/questions","name":"Questions"}},{"@type":"ListItem","position":3,"item":{"@id":"https://solutionschecker.com/questions/what-is-the-best-regular-expression-to-check-if-a-string-is-a-valid-url-1657387618306","name":"Questions"}}]}</script><title>What is the best regular expression to check if a string is a valid URL? | Solution Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="How can I check if a given string is a valid URL address?

My knowledge of regular expressions is basic and doesn&#x27;t allow me to choose from the hundreds of regular expressions I&#x27;ve already seen on the web.
    "/><meta property="og:title" content="What is the best regular expression to check if a string is a valid URL? | Solution Checker"/><meta property="og:description" content="How can I check if a given string is a valid URL address?

My knowledge of regular expressions is basic and doesn&#x27;t allow me to choose from the hundreds of regular expressions I&#x27;ve already seen on the web.
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"What is the best regular expression to check if a string is a valid URL?","text":"How can I check if a given string is a valid URL address?\n\nMy knowledge of regular expressions is basic and doesn&apos;t allow me to choose from the hundreds of regular expressions I&apos;ve already seen on the web.\n    ","answerCount":30,"upVoteCount":500,"suggestedAnswer":[{"text":"I wrote my URL (actually IRI, internationalized) pattern to comply with RFC 3987 (http://www.faqs.org/rfcs/rfc3987.html). These are in PCRE syntax.\n\nFor absolute IRIs (internationalized):\n\n/^[a-z](?:[-a-z0-9\\+\\.])*:(?:\\/\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:])*@)?(?:\\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+\\.[-a-z0-9\\._~!\\$&amp;&apos;\\(\\)\\*\\+,;=:]+)\\]|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3}|(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=])*)(?::[0-9]*)?(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@]))*)*|\\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@]))*)*)?|(?:(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@])))(?:\\?(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@])|[\\x{E000}-\\x{F8FF}\\x{F0000}-\\x{FFFFD}\\x{100000}-\\x{10FFFD}\\/\\?])*)?(?:\\#(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@])|[\\/\\?])*)?$/i\n\n\nTo also allow relative IRIs:\n\n/^(?:[a-z](?:[-a-z0-9\\+\\.])*:(?:\\/\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:])*@)?(?:\\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+\\.[-a-z0-9\\._~!\\$&amp;&apos;\\(\\)\\*\\+,;=:]+)\\]|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3}|(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=])*)(?::[0-9]*)?(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@]))*)*|\\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@]))*)*)?|(?:(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@])))(?:\\?(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@])|[\\x{E000}-\\x{F8FF}\\x{F0000}-\\x{FFFFD}\\x{100000}-\\x{10FFFD}\\/\\?])*)?(?:\\#(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@])|[\\/\\?])*)?|(?:\\/\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:])*@)?(?:\\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+\\.[-a-z0-9\\._~!\\$&amp;&apos;\\(\\)\\*\\+,;=:]+)\\]|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3}|(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=])*)(?::[0-9]*)?(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@]))*)*|\\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@]))*)*)?|(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=@])+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@])))(?:\\?(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@])|[\\x{E000}-\\x{F8FF}\\x{F0000}-\\x{FFFFD}\\x{100000}-\\x{10FFFD}\\/\\?])*)?(?:\\#(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;&apos;\\(\\)\\*\\+,;=:@])|[\\/\\?])*)?)$/i\n\n\nHow they were compiled (in PHP):\n\n&lt;?php\n\n/* Regex convenience functions (character class, non-capturing group) */\nfunction cc($str, $suffix = &apos;&apos;, $negate = false) {\n    return &apos;[&apos; . ($negate ? &apos;^&apos; : &apos;&apos;) . $str . &apos;]&apos; . $suffix;\n}\nfunction ncg($str, $suffix = &apos;&apos;) {\n    return &apos;(?:&apos; . $str . &apos;)&apos; . $suffix;\n}\n\n/* Preserved from RFC3986 */\n\n$ALPHA = &apos;a-z&apos;;\n$DIGIT = &apos;0-9&apos;;\n$HEXDIG = $DIGIT . &apos;a-f&apos;;\n\n$sub_delims = &apos;!\\\\$&amp;\\&apos;\\\\(\\\\)\\\\*\\\\+,;=&apos;;\n$gen_delims = &apos;:\\\\/\\\\?\\\\#\\\\[\\\\]@&apos;;\n$reserved = $gen_delims . $sub_delims;\n$unreserved = &apos;-&apos; . $ALPHA . $DIGIT . &apos;\\\\._~&apos;;\n\n$pct_encoded = &apos;%&apos; . cc($HEXDIG) . cc($HEXDIG);\n\n$dec_octet = ncg(implode(&apos;|&apos;, array(\n    cc($DIGIT),\n    cc(&apos;1-9&apos;) . cc($DIGIT),\n    &apos;1&apos; . cc($DIGIT) . cc($DIGIT),\n    &apos;2&apos; . cc(&apos;0-4&apos;) . cc($DIGIT),\n    &apos;25&apos; . cc(&apos;0-5&apos;)\n)));\n\n$IPv4address = $dec_octet . ncg(&apos;\\\\.&apos; . $dec_octet, &apos;{3}&apos;);\n\n$h16 = cc($HEXDIG, &apos;{1,4}&apos;);\n$ls32 = ncg($h16 . &apos;:&apos; . $h16 . &apos;|&apos; . $IPv4address);\n\n$IPv6address = ncg(implode(&apos;|&apos;, array(\n    ncg($h16 . &apos;:&apos;, &apos;{6}&apos;) . $ls32,\n    &apos;::&apos; . ncg($h16 . &apos;:&apos;, &apos;{5}&apos;) . $ls32,\n    ncg($h16, &apos;?&apos;) . &apos;::&apos; . ncg($h16 . &apos;:&apos;, &apos;{4}&apos;) . $ls32,\n    ncg($h16 . &apos;:&apos; . $h16, &apos;?&apos;) . &apos;::&apos; . ncg($h16 . &apos;:&apos;, &apos;{3}&apos;) . $ls32,\n    ncg(ncg($h16 . &apos;:&apos;, &apos;{0,2}&apos;) . $h16, &apos;?&apos;) . &apos;::&apos; . ncg($h16 . &apos;:&apos;, &apos;{2}&apos;) . $ls32,\n    ncg(ncg($h16 . &apos;:&apos;, &apos;{0,3}&apos;) . $h16, &apos;?&apos;) . &apos;::&apos; . $h16 . &apos;:&apos; . $ls32,\n    ncg(ncg($h16 . &apos;:&apos;, &apos;{0,4}&apos;) . $h16, &apos;?&apos;) . &apos;::&apos; . $ls32,\n    ncg(ncg($h16 . &apos;:&apos;, &apos;{0,5}&apos;) . $h16, &apos;?&apos;) . &apos;::&apos; . $h16,\n    ncg(ncg($h16 . &apos;:&apos;, &apos;{0,6}&apos;) . $h16, &apos;?&apos;) . &apos;::&apos;,\n)));\n\n$IPvFuture = &apos;v&apos; . cc($HEXDIG, &apos;+&apos;) . cc($unreserved . $sub_delims . &apos;:&apos;, &apos;+&apos;);\n\n$IP_literal = &apos;\\\\[&apos; . ncg(implode(&apos;|&apos;, array($IPv6address, $IPvFuture))) . &apos;\\\\]&apos;;\n\n$port = cc($DIGIT, &apos;*&apos;);\n\n$scheme = cc($ALPHA) . ncg(cc(&apos;-&apos; . $ALPHA . $DIGIT . &apos;\\\\+\\\\.&apos;), &apos;*&apos;);\n\n/* New or changed in RFC3987 */\n\n$iprivate = &apos;\\x{E000}-\\x{F8FF}\\x{F0000}-\\x{FFFFD}\\x{100000}-\\x{10FFFD}&apos;;\n\n$ucschar = &apos;\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}&apos; .\n    &apos;\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}&apos; .\n    &apos;\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}&apos; .\n    &apos;\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}&apos; .\n    &apos;\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}&apos; .\n    &apos;\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}&apos;;\n\n$iunreserved = &apos;-&apos; . $ALPHA . $DIGIT . &apos;\\\\._~&apos; . $ucschar;\n\n$ipchar = ncg($pct_encoded . &apos;|&apos; . cc($iunreserved . $sub_delims . &apos;:@&apos;));\n\n$ifragment = ncg($ipchar . &apos;|&apos; . cc(&apos;\\\\/\\\\?&apos;), &apos;*&apos;);\n\n$iquery = ncg($ipchar . &apos;|&apos; . cc($iprivate . &apos;\\\\/\\\\?&apos;), &apos;*&apos;);\n\n$isegment_nz_nc = ncg($pct_encoded . &apos;|&apos; . cc($iunreserved . $sub_delims . &apos;@&apos;), &apos;+&apos;);\n$isegment_nz = ncg($ipchar, &apos;+&apos;);\n$isegment = ncg($ipchar, &apos;*&apos;);\n\n$ipath_empty = &apos;(?!&apos; . $ipchar . &apos;)&apos;;\n$ipath_rootless = ncg($isegment_nz) . ncg(&apos;\\\\/&apos; . $isegment, &apos;*&apos;);\n$ipath_noscheme = ncg($isegment_nz_nc) . ncg(&apos;\\\\/&apos; . $isegment, &apos;*&apos;);\n$ipath_absolute = &apos;\\\\/&apos; . ncg($ipath_rootless, &apos;?&apos;); // Spec says isegment-nz *( &quot;/&quot; isegment )\n$ipath_abempty = ncg(&apos;\\\\/&apos; . $isegment, &apos;*&apos;);\n\n$ipath = ncg(implode(&apos;|&apos;, array(\n    $ipath_abempty,\n    $ipath_absolute,\n    $ipath_noscheme,\n    $ipath_rootless,\n    $ipath_empty\n))) . &apos;)&apos;;\n\n$ireg_name = ncg($pct_encoded . &apos;|&apos; . cc($iunreserved . $sub_delims . &apos;@&apos;), &apos;*&apos;);\n\n$ihost = ncg(implode(&apos;|&apos;, array($IP_literal, $IPv4address, $ireg_name)));\n$iuserinfo = ncg($pct_encoded . &apos;|&apos; . cc($iunreserved . $sub_delims . &apos;:&apos;), &apos;*&apos;);\n$iauthority = ncg($iuserinfo . &apos;@&apos;, &apos;?&apos;) . $ihost . ncg(&apos;:&apos; . $port, &apos;?&apos;);\n\n$irelative_part = ncg(implode(&apos;|&apos;, array(\n    &apos;\\\\/\\\\/&apos; . $iauthority . $ipath_abempty . &apos;&apos;,\n    &apos;&apos; . $ipath_absolute . &apos;&apos;,\n    &apos;&apos; . $ipath_noscheme . &apos;&apos;,\n    &apos;&apos; . $ipath_empty . &apos;&apos;\n)));\n\n$irelative_ref = $irelative_part . ncg(&apos;\\\\?&apos; . $iquery, &apos;?&apos;) . ncg(&apos;\\\\#&apos; . $ifragment, &apos;?&apos;);\n\n$ihier_part = ncg(implode(&apos;|&apos;, array(\n    &apos;\\\\/\\\\/&apos; . $iauthority . $ipath_abempty . &apos;&apos;,\n    &apos;&apos; . $ipath_absolute . &apos;&apos;,\n    &apos;&apos; . $ipath_rootless . &apos;&apos;,\n    &apos;&apos; . $ipath_empty . &apos;&apos;\n)));\n\n$absolute_IRI = $scheme . &apos;:&apos; . $ihier_part . ncg(&apos;\\\\?&apos; . $iquery, &apos;?&apos;);\n\n$IRI = $scheme . &apos;:&apos; . $ihier_part . ncg(&apos;\\\\?&apos; . $iquery, &apos;?&apos;) . ncg(&apos;\\\\#&apos; . $ifragment, &apos;?&apos;);\n\n$IRI_reference = ncg($IRI . &apos;|&apos; . $irelative_ref);\n\n\nEdit 7 March 2011: Because of the way PHP handles backslashes in quoted strings, these are unusable by default. You&apos;ll need to double-escape backslashes except where the backslash has a special meaning in regex. You can do that this way:\n\n$escape_backslash = &apos;/(?&lt;!\\\\)\\\\(?![\\[\\]\\\\\\^\\$\\.\\|\\*\\+\\(\\)QEnrtaefvdwsDWSbAZzB1-9GX]|x\\{[0-9a-f]{1,4}\\}|\\c[A-Z]|)/&apos;;\n$absolute_IRI = preg_replace($escape_backslash, &apos;\\\\\\\\&apos;, $absolute_IRI);\n$IRI = preg_replace($escape_backslash, &apos;\\\\\\\\&apos;, $IRI);\n$IRI_reference = preg_replace($escape_backslash, &apos;\\\\\\\\&apos;, $IRI_reference);\n\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"I&apos;ve just written up a blog post for a great solution for recognizing URLs in most used formats such as:\n\n\nwww.google.com\nhttp://www.google.com\nmailto:somebody@google.com\nsomebody@google.com\nwww.url-with-querystring.com/?url=has-querystring\n\n\nThe regular expression used is:\n\n/((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[-;:&amp;=\\+\\$,\\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&amp;=\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[\\+~%\\/.\\w-_]*)?\\??(?:[-\\+=&amp;;%@.\\w_]*)#?(?:[\\w]*))?)/\n\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"What platform? If using .NET, use System.Uri.TryCreate, not a regex.\n\nFor example:\n\nstatic bool IsValidUrl(string urlString)\n{\n    Uri uri;\n    return Uri.TryCreate(urlString, UriKind.Absolute, out uri)\n        &amp;&amp; (uri.Scheme == Uri.UriSchemeHttp\n         || uri.Scheme == Uri.UriSchemeHttps\n         || uri.Scheme == Uri.UriSchemeFtp\n         || uri.Scheme == Uri.UriSchemeMailto\n            /*...*/);\n}\n\n// In test fixture...\n\n[Test]\nvoid IsValidUrl_Test()\n{\n    Assert.True(IsValidUrl(&quot;http://www.example.com&quot;));\n    Assert.False(IsValidUrl(&quot;javascript:alert(&apos;xss&apos;)&quot;));\n    Assert.False(IsValidUrl(&quot;&quot;));\n    Assert.False(IsValidUrl(null));\n}\n\n\n(Thanks to @Yoshi for the tip about javascript:)\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"Here&apos;s what RegexBuddy uses.\n\n(\\b(https?|ftp|file)://)?[-A-Za-z0-9+&amp;@#/%?=~_|!:,.;]+[-A-Za-z0-9+&amp;@#/%=~_|]\n\n\nIt matches these below (inside the ** ** marks):  \n\n**http://www.regexbuddy.com**  \n**http://www.regexbuddy.com/**  \n**http://www.regexbuddy.com/index.html**  \n**http://www.regexbuddy.com/index.html?source=library**  \n\n\nYou can download RegexBuddy at http://www.regexbuddy.com/download.html. \n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"Mathias Bynens has a great article on the best comparison of a lot of regular expressions: In search of the perfect URL validation regex\n\nThe best one posted is a little long, but it matches just about anything you can throw at it.\n\nJavaScript version\n\n/^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i\n\n\nPHP version\n\n_^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\x{00a1}-\\x{ffff}0-9]-*)*[a-z\\x{00a1}-\\x{ffff}0-9]+)(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}0-9]-*)*[a-z\\x{00a1}-\\x{ffff}0-9]+)*(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$_iuS\n\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"With regard to eyelidness&apos; answer post that reads &quot;This is based on my reading of the URI specification.&quot;: Thanks Eyelidness, yours is the perfect solution I sought, as it is based on the URI spec! Superb work. :)\n\nI had to make two amendments. The first to get the regexp to match IP address URLs correctly in PHP (v5.2.10) with the preg_match() function.\n\nI had to add one more set of parenthesis to the line above &quot;IP Address&quot; around the pipes:\n\n)|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}(?#\n\n\nNot sure why.\n\nI have also reduced the top level domain minimum length from 3 to 2 letters to support .co.uk and similar.\n\nFinal code:\n\n/^(https?|ftp):\\/\\/(?#                                      protocol\n)(([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;\\?&amp;=-]|%[0-9a-f]{2})+(?#         username\n)(:([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;\\?&amp;=-]|%[0-9a-f]{2})+)?(?#      password\n)@)?(?#                                                     auth requires @\n)((([a-z0-9]\\.|[a-z0-9][a-z0-9-]*[a-z0-9]\\.)*(?#             domain segments AND\n)[a-z][a-z0-9-]*[a-z0-9](?#                                 top level domain  OR\n)|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}(?#\n    )(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?#             IP address\n))(:\\d+)?(?#                                                port\n))(((\\/+([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;:@&amp;=-]|%[0-9a-f]{2})*)*(?# path\n)(\\?([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;:@&amp;=-]|%[0-9a-f]{2})*)(?#      query string\n)?)?)?(?#                                                   path and query string optional\n)(#([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;:@&amp;=-]|%[0-9a-f]{2})*)?(?#      fragment\n)$/i\n\n\nThis modified version was not checked against the URI specification so I can&apos;t vouch for it&apos;s compliance, it was altered to handle URLs on local network environments and two digit TLDs as well as other kinds of Web URL, and to work better in the PHP setup I use.\n\nAs PHP code:\n\ndefine(&apos;URL_FORMAT&apos;, \n&apos;/^(https?):\\/\\/&apos;.                                         // protocol\n&apos;(([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;\\?&amp;=-]|%[0-9a-f]{2})+&apos;.         // username\n&apos;(:([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;\\?&amp;=-]|%[0-9a-f]{2})+)?&apos;.      // password\n&apos;@)?(?#&apos;.                                                  // auth requires @\n&apos;)((([a-z0-9]\\.|[a-z0-9][a-z0-9-]*[a-z0-9]\\.)*&apos;.                      // domain segments AND\n&apos;[a-z][a-z0-9-]*[a-z0-9]&apos;.                                 // top level domain  OR\n&apos;|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}&apos;.\n&apos;(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])&apos;.                 // IP address\n&apos;)(:\\d+)?&apos;.                                                // port\n&apos;)(((\\/+([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;:@&amp;=-]|%[0-9a-f]{2})*)*&apos;. // path\n&apos;(\\?([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;:@&amp;=-]|%[0-9a-f]{2})*)&apos;.      // query string\n&apos;?)?)?&apos;.                                                   // path and query string optional\n&apos;(#([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;:@&amp;=-]|%[0-9a-f]{2})*)?&apos;.      // fragment\n&apos;$/i&apos;);\n\n\nHere is a test program in PHP which validates a variety of URLs using the regex:\n\n&lt;?php\n\ndefine(&apos;URL_FORMAT&apos;,\n&apos;/^(https?):\\/\\/&apos;.                                         // protocol\n&apos;(([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;\\?&amp;=-]|%[0-9a-f]{2})+&apos;.         // username\n&apos;(:([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;\\?&amp;=-]|%[0-9a-f]{2})+)?&apos;.      // password\n&apos;@)?(?#&apos;.                                                  // auth requires @\n&apos;)((([a-z0-9]\\.|[a-z0-9][a-z0-9-]*[a-z0-9]\\.)*&apos;.                      // domain segments AND\n&apos;[a-z][a-z0-9-]*[a-z0-9]&apos;.                                 // top level domain  OR\n&apos;|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}&apos;.\n&apos;(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])&apos;.                 // IP address\n&apos;)(:\\d+)?&apos;.                                                // port\n&apos;)(((\\/+([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;:@&amp;=-]|%[0-9a-f]{2})*)*&apos;. // path\n&apos;(\\?([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;:@&amp;=-]|%[0-9a-f]{2})*)&apos;.      // query string\n&apos;?)?)?&apos;.                                                   // path and query string optional\n&apos;(#([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;:@&amp;=-]|%[0-9a-f]{2})*)?&apos;.      // fragment\n&apos;$/i&apos;);\n\n/**\n * Verify the syntax of the given URL. \n * \n * @access public\n * @param $url The URL to verify.\n * @return boolean\n */\nfunction is_valid_url($url) {\n  if (str_starts_with(strtolower($url), &apos;http://localhost&apos;)) {\n    return true;\n  }\n  return preg_match(URL_FORMAT, $url);\n}\n\n\n/**\n * String starts with something\n * \n * This function will return true only if input string starts with\n * niddle\n * \n * @param string $string Input string\n * @param string $niddle Needle string\n * @return boolean\n */\nfunction str_starts_with($string, $niddle) {\n      return substr($string, 0, strlen($niddle)) == $niddle;\n}\n\n\n/**\n * Test a URL for validity and count results.\n * @param url url\n * @param expected expected result (true or false)\n */\n\n$numtests = 0;\n$passed = 0;\n\nfunction test_url($url, $expected) {\n  global $numtests, $passed;\n  $numtests++;\n  $valid = is_valid_url($url);\n  echo &quot;URL Valid?: &quot; . ($valid?&quot;yes&quot;:&quot;no&quot;) . &quot; for URL: $url. Expected: &quot;.($expected?&quot;yes&quot;:&quot;no&quot;).&quot;. &quot;;\n  if($valid == $expected) {\n    echo &quot;PASS\\n&quot;; $passed++;\n  } else {\n    echo &quot;FAIL\\n&quot;;\n  }\n}\n\necho &quot;URL Tests:\\n\\n&quot;;\n\ntest_url(&quot;http://localserver/projects/public/assets/javascript/widgets/UserBoxMenu/widget.css&quot;, true);\ntest_url(&quot;http://www.google.com&quot;, true);\ntest_url(&quot;http://www.google.co.uk/projects/my%20folder/test.php&quot;, true);\ntest_url(&quot;https://myserver.localdomain&quot;, true);\ntest_url(&quot;http://192.168.1.120/projects/index.php&quot;, true);\ntest_url(&quot;http://192.168.1.1/projects/index.php&quot;, true);\ntest_url(&quot;http://projectpier-server.localdomain/projects/public/assets/javascript/widgets/UserBoxMenu/widget.css&quot;, true);\ntest_url(&quot;https://2.4.168.19/project-pier?c=test&amp;a=b&quot;, true);\ntest_url(&quot;https://localhost/a/b/c/test.php?c=controller&amp;arg1=20&amp;arg2=20&quot;, true);\ntest_url(&quot;http://user:password@localhost/a/b/c/test.php?c=controller&amp;arg1=20&amp;arg2=20&quot;, true);\n\necho &quot;\\n$passed out of $numtests tests passed.\\n\\n&quot;;\n\n?&gt;\n\n\nThanks again to eyelidness for the regex!\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"The post Getting parts of a URL (Regex) discusses parsing a URL to identify its various components. If you want to check if a URL is well-formed, it should be sufficient for your needs.\n\nIf you need to check if it&apos;s actually valid, you&apos;ll eventually have to try to access whatever&apos;s on the other end.\n\nIn general, though, you&apos;d probably be better off using a function that&apos;s supplied to you by your framework or another library. Many platforms include functions that parse URLs. For example, there&apos;s Python&apos;s urlparse module, and in .NET you could use the System.Uri class&apos;s constructor as a means of validating the URL.\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"This might not be a job for regexes, but for existing tools in your language of choice.  You probably want to use existing code that has already been written, tested, and debugged.\n\nIn PHP, use the parse_url function.\n\nPerl: URI module.\n\nRuby: URI module.\n\n.NET: &apos;Uri&apos; class\n\nRegexes are not a magic wand you wave at every problem that happens to involve strings.\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"This will match all URLs\n\n\nwith or without http/https   \nwith or without www\n\n\n...including sub-domains and those new top-level domain name extensions such as \n  .museum, \n  .academy, \n  .foundation\n  etc. which can have up to 63 characters (not just .com, .net, .info etc.)\n\n(([\\w]+:)?//)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,63}(:[\\d]+)?(/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?\n\n\nBecause today maximum length of the available top-level domain name extension is 13 characters such as .international, you can change the number 63 in expression to 13 to prevent someone misusing it.\n\nas javascript\n\n\n\nvar urlreg=/(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,63}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?/;\n\n$(&apos;textarea&apos;).on(&apos;input&apos;,function(){\n  var url = $(this).val();\n  $(this).toggleClass(&apos;invalid&apos;, urlreg.test(url) == false)\n});\n\n$(&apos;textarea&apos;).trigger(&apos;input&apos;);\ntextarea{color:green;}\n.invalid{color:red;}\n&lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;textarea&gt;http://www.google.com&lt;/textarea&gt;\n&lt;textarea&gt;http//www.google.com&lt;/textarea&gt;\n&lt;textarea&gt;googlecom&lt;/textarea&gt;\n&lt;textarea&gt;https://www.google.com&lt;/textarea&gt;\n Run code snippetHide resultsExpand snippet\n\n\n\nWikipedia Article: List of all internet top-level domains\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"Non-validating URI-reference Parser\nFor reference purposes, here&apos;s the IETF Spec: (TXT | HTML). In particular, Appendix B. Parsing a URI Reference with a Regular Expression demonstrates how to parse a valid regex. This is described as,\n\nfor an example of a non-validating URI-reference parser that will take any given string and extract the URI components.\n\nHere&apos;s the regex they provide:\n ^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?\n\nAs someone else said, it&apos;s probably best to leave this to a lib/framework you&apos;re already using.\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)?[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$\n\n\nlive demo: https://regex101.com/r/HUNasA/2\n\nI have tested various expressions to match my requirements. \n\nAs a user I can hit browser search bar with following strings:\n\nvalid urls\n\n\nhttps://www.google.com\nhttp://www.google.com\nhttp://google.com/\nhttps://google.com/\nwww.google.com\ngoogle.com\nhttps://www.google.com.ua\nhttp://www.google.com.ua\nhttp://google.com.ua\nhttps://google.com.ua/\nwww.google.com.ua\ngoogle.com.ua\nhttps://mail.google.com\nhttp://mail.google.com\nmail.google.com\n\n\ninvalid urls\n\n\nhttp://google\nhttps://google.c\ngoogle\ngoogle.\n.google\n.google.com\ngoole.c\n...\n\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"The best regular expression for URL for me would be:\n\n&quot;(([\\w]+:)?//)?(([\\d\\w]|%[a-fA-F\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?&quot;\n\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"Here is a good rule that covers all possible cases: ports, params and etc\n\n/(https?:\\/\\/(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9])(:?\\d*)\\/?([a-z_\\/0-9\\-#.]*)\\??([a-z_\\/0-9\\-#=&amp;]*)/g\n\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"        function validateURL(textval) {\n            var urlregex = new RegExp(\n            &quot;^(http|https|ftp)\\://([a-zA-Z0-9\\.\\-]+(\\:[a-zA-Z0-9\\.&amp;amp;%\\$\\-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|localhost|([a-zA-Z0-9\\-]+\\.)*[a-zA-Z0-9\\-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(\\:[0-9]+)*(/($|[a-zA-Z0-9\\.\\,\\?\\&apos;\\\\\\+&amp;amp;%\\$#\\=~_\\-]+))*$&quot;);\n            return urlregex.test(textval);\n        }\n\n\nMatches \nhttp://site.com/dir/file.php?var=moo | ftp://user:pass@site.com:21/file/dir\n\nNon-Matches \nsite.com | http://site.com/dir//\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0},{"text":"I was not able to find the regex I was looking for so I modified a regex to fullfill my requirements, and apparently it seems to work fine now. My requirements were:\n\n\nMatch URLs w/o protocol (www.gooogle.com)\nMatch URLs with query parameters and path (http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1&amp;key2=value2e)\nDon&apos;t match URLs where there are not acceptable characters (e.g. &quot;&apos;£), for instance: (www.google.com/somthing&quot;/somethingmore)\n\n\nHere what I came up with, any suggestion is appreciated:\n\n@Test\n    public void testWebsiteUrl(){\n        String regularExpression = &quot;((http|ftp|https):\\\\/\\\\/)?[\\\\w\\\\-_]+(\\\\.[\\\\w\\\\-_]+)+([\\\\w\\\\-\\\\.,@?^=%&amp;amp;:/~\\\\+#]*[\\\\w\\\\-\\\\@?^=%&amp;amp;/~\\\\+#])?&quot;;\n\n        assertTrue(&quot;www.google.com&quot;.matches(regularExpression));\n        assertTrue(&quot;www.google.co.uk&quot;.matches(regularExpression));\n        assertTrue(&quot;http://www.google.com&quot;.matches(regularExpression));\n        assertTrue(&quot;http://www.google.co.uk&quot;.matches(regularExpression));\n        assertTrue(&quot;https://www.google.com&quot;.matches(regularExpression));\n        assertTrue(&quot;https://www.google.co.uk&quot;.matches(regularExpression));\n        assertTrue(&quot;google.com&quot;.matches(regularExpression));\n        assertTrue(&quot;google.co.uk&quot;.matches(regularExpression));\n        assertTrue(&quot;google.mu&quot;.matches(regularExpression));\n        assertTrue(&quot;mes.intnet.mu&quot;.matches(regularExpression));\n        assertTrue(&quot;cse.uom.ac.mu&quot;.matches(regularExpression));\n\n        assertTrue(&quot;http://www.google.com/path&quot;.matches(regularExpression));\n        assertTrue(&quot;http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1&amp;key2=value2e&quot;.matches(regularExpression));\n        assertTrue(&quot;http://www.google.com/?queryparam=123&quot;.matches(regularExpression));\n        assertTrue(&quot;http://www.google.com/path?queryparam=123&quot;.matches(regularExpression));\n\n        assertFalse(&quot;www..dr.google&quot;.matches(regularExpression));\n\n        assertFalse(&quot;www:google.com&quot;.matches(regularExpression));\n\n        assertFalse(&quot;https://www@.google.com&quot;.matches(regularExpression));\n\n        assertFalse(&quot;https://www.google.com\\&quot;&quot;.matches(regularExpression));\n        assertFalse(&quot;https://www.google.com&apos;&quot;.matches(regularExpression));\n\n        assertFalse(&quot;http://www.google.com/path&apos;&quot;.matches(regularExpression));\n        assertFalse(&quot;http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1&amp;key2=value2e&apos;&quot;.matches(regularExpression));\n        assertFalse(&quot;http://www.google.com/?queryparam=123&apos;&quot;.matches(regularExpression));\n        assertFalse(&quot;http://www.google.com/path?queryparam=12&apos;3&quot;.matches(regularExpression));\n\n    }\n\n    ","url":"/questions/[slug]#solution15","@type":"Answer","upvoteCount":0},{"text":"I wrote a little groovy version that you can run\nit matches the following URLs (which is good enough for me)\npublic static void main(args) {\n    String url = &quot;go to http://www.m.abut.ly/abc its awesome&quot;\n    url = url.replaceAll(/https?:\\/\\/w{0,3}\\w*?\\.(\\w*?\\.)?\\w{2,3}\\S*|www\\.(\\w*?\\.)?\\w*?\\.\\w{2,3}\\S*|(\\w*?\\.)?\\w*?\\.\\w{2,3}[\\/\\?]\\S*/ , { it -&gt;\n        &quot;woof${it}woof&quot;\n    })\n    println url \n}\n\nhttp://google.com\nhttp://google.com/help.php\nhttp://google.com/help.php?a=5\n\nhttp://www.google.com\nhttp://www.google.com/help.php\nhttp://www.google.com?a=5\n\ngoogle.com?a=5\ngoogle.com/help.php\ngoogle.com/help.php?a=5\n\nhttp://www.m.google.com/help.php?a=5 (and all its permutations)\nwww.m.google.com/help.php?a=5 (and all its permutations)\nm.google.com/help.php?a=5 (and all its permutations)\n\nThe important thing for any URLs that don&apos;t start with http or www is that they must include a / or ?\nI bet this can be tweaked a little more but it does the job pretty nice for being so short and compact... because you can pretty much split it in 3:\nfind anything that starts with http:\nhttps?:\\/\\/w{0,3}\\w*?\\.\\w{2,3}\\S*\n\nfind anything that starts with www:\nwww\\.\\w*?\\.\\w{2,3}\\S*\n\nor find anything that must have a text then a dot then at least 2 letters and then a ? or /:\n\\w*?\\.\\w{2,3}[\\/\\?]\\S*\n\n    ","url":"/questions/[slug]#solution16","@type":"Answer","upvoteCount":0},{"text":"function validateURL(textval) {\n            var urlregex = new RegExp(\n            &quot;^(http|https|ftp)\\://[a-zA-Z0-9\\-\\.]+\\.[a-zA-Z]{2,3}(:[a-zA-Z0-9]*)?/?([a-zA-Z0-9\\-\\._\\?\\,\\&apos;/\\\\\\+&amp;amp;%\\$#\\=~])*$&quot;);\n            return urlregex.test(textval);\n        }\n\n\nMatches \nhttp://www.asdah.com/~joe | ftp://ftp.asdah.co.uk:2828/asdah%20asdah.gif | https://asdah.gov/asdh-ah.as\n    ","url":"/questions/[slug]#solution17","@type":"Answer","upvoteCount":0},{"text":"If you really search for the ultimate match, you probably find it on &quot;A Good Url Regular Expression?&quot;.\n\nBut a regex that really matches all possible domains and allows anything that is allowed according to RFCs is horribly long and unreadable, trust me ;-)\n    ","url":"/questions/[slug]#solution18","@type":"Answer","upvoteCount":0},{"text":"I&apos;ve been working on an in-depth article discussing URI validation using regular expressions. It is based on RFC3986.  \n\nRegular Expression URI Validation\n\nAlthough the article is not yet complete, I have come up with a PHP function which does a pretty good job of validating HTTP and FTP URLs. Here is the current version:\n\n\n\n// function url_valid($url) { Rev:20110423_2000\n//\n// Return associative array of valid URI components, or FALSE if $url is not\n// RFC-3986 compliant. If the passed URL begins with: &quot;www.&quot; or &quot;ftp.&quot;, then\n// &quot;http://&quot; or &quot;ftp://&quot; is prepended and the corrected full-url is stored in\n// the return array with a key name &quot;url&quot;. This value should be used by the caller.\n//\n// Return value: FALSE if $url is not valid, otherwise array of URI components:\n// e.g.\n// Given: &quot;http://www.jmrware.com:80/articles?height=10&amp;width=75#fragone&quot;\n// Array(\n//    [scheme] =&gt; http\n//    [authority] =&gt; www.jmrware.com:80\n//    [userinfo] =&gt;\n//    [host] =&gt; www.jmrware.com\n//    [IP_literal] =&gt;\n//    [IPV6address] =&gt;\n//    [ls32] =&gt;\n//    [IPvFuture] =&gt;\n//    [IPv4address] =&gt;\n//    [regname] =&gt; www.jmrware.com\n//    [port] =&gt; 80\n//    [path_abempty] =&gt; /articles\n//    [query] =&gt; height=10&amp;width=75\n//    [fragment] =&gt; fragone\n//    [url] =&gt; http://www.jmrware.com:80/articles?height=10&amp;width=75#fragone\n// )\nfunction url_valid($url) {\n    if (strpos($url, &apos;www.&apos;) === 0) $url = &apos;http://&apos;. $url;\n    if (strpos($url, &apos;ftp.&apos;) === 0) $url = &apos;ftp://&apos;. $url;\n    if (!preg_match(&apos;/# Valid absolute URI having a non-empty, valid DNS host.\n        ^\n        (?P&lt;scheme&gt;[A-Za-z][A-Za-z0-9+\\-.]*):\\/\\/\n        (?P&lt;authority&gt;\n          (?:(?P&lt;userinfo&gt;(?:[A-Za-z0-9\\-._~!$&amp;\\&apos;()*+,;=:]|%[0-9A-Fa-f]{2})*)@)?\n          (?P&lt;host&gt;\n            (?P&lt;IP_literal&gt;\n              \\[\n              (?:\n                (?P&lt;IPV6address&gt;\n                  (?:                                                (?:[0-9A-Fa-f]{1,4}:){6}\n                  |                                                ::(?:[0-9A-Fa-f]{1,4}:){5}\n                  | (?:                          [0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){4}\n                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,1}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){3}\n                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){2}\n                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})?::   [0-9A-Fa-f]{1,4}:\n                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})?::\n                  )\n                  (?P&lt;ls32&gt;[0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{1,4}\n                  | (?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}\n                       (?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\n                  )\n                |   (?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::   [0-9A-Fa-f]{1,4}\n                |   (?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::\n                )\n              | (?P&lt;IPvFuture&gt;[Vv][0-9A-Fa-f]+\\.[A-Za-z0-9\\-._~!$&amp;\\&apos;()*+,;=:]+)\n              )\n              \\]\n            )\n          | (?P&lt;IPv4address&gt;(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}\n                               (?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))\n          | (?P&lt;regname&gt;(?:[A-Za-z0-9\\-._~!$&amp;\\&apos;()*+,;=]|%[0-9A-Fa-f]{2})+)\n          )\n          (?::(?P&lt;port&gt;[0-9]*))?\n        )\n        (?P&lt;path_abempty&gt;(?:\\/(?:[A-Za-z0-9\\-._~!$&amp;\\&apos;()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)\n        (?:\\?(?P&lt;query&gt;       (?:[A-Za-z0-9\\-._~!$&amp;\\&apos;()*+,;=:@\\\\/?]|%[0-9A-Fa-f]{2})*))?\n        (?:\\#(?P&lt;fragment&gt;    (?:[A-Za-z0-9\\-._~!$&amp;\\&apos;()*+,;=:@\\\\/?]|%[0-9A-Fa-f]{2})*))?\n        $\n        /mx&apos;, $url, $m)) return FALSE;\n    switch ($m[&apos;scheme&apos;]) {\n    case &apos;https&apos;:\n    case &apos;http&apos;:\n        if ($m[&apos;userinfo&apos;]) return FALSE; // HTTP scheme does not allow userinfo.\n        break;\n    case &apos;ftps&apos;:\n    case &apos;ftp&apos;:\n        break;\n    default:\n        return FALSE;   // Unrecognized URI scheme. Default to FALSE.\n    }\n    // Validate host name conforms to DNS &quot;dot-separated-parts&quot;.\n    if ($m[&apos;regname&apos;]) { // If host regname specified, check for DNS conformance.\n        if (!preg_match(&apos;/# HTTP DNS host name.\n            ^                      # Anchor to beginning of string.\n            (?!.{256})             # Overall host length is less than 256 chars.\n            (?:                    # Group dot separated host part alternatives.\n              [A-Za-z0-9]\\.        # Either a single alphanum followed by dot\n            |                      # or... part has more than one char (63 chars max).\n              [A-Za-z0-9]          # Part first char is alphanum (no dash).\n              [A-Za-z0-9\\-]{0,61}  # Internal chars are alphanum plus dash.\n              [A-Za-z0-9]          # Part last char is alphanum (no dash).\n              \\.                   # Each part followed by literal dot.\n            )*                     # Zero or more parts before top level domain.\n            (?:                    # Explicitly specify top level domains.\n              com|edu|gov|int|mil|net|org|biz|\n              info|name|pro|aero|coop|museum|\n              asia|cat|jobs|mobi|tel|travel|\n              [A-Za-z]{2})         # Country codes are exactly two alpha chars.\n              \\.?                  # Top level domain can end in a dot.\n            $                      # Anchor to end of string.\n            /ix&apos;, $m[&apos;host&apos;])) return FALSE;\n    }\n    $m[&apos;url&apos;] = $url;\n    for ($i = 0; isset($m[$i]); ++$i) unset($m[$i]);\n    return $m; // return TRUE == array of useful named $matches plus the valid $url.\n}\n\n\nThis function utilizes two regexes; one to match a subset of valid generic URIs (absolute ones having a non-empty host), and a second to validate the DNS &quot;dot-separated-parts&quot; host name. Although this function currently validates only HTTP and FTP schemes, it is structured such that it can be easily extended to handle other schemes.\n    ","url":"/questions/[slug]#solution19","@type":"Answer","upvoteCount":0},{"text":"I use this regex:\n\n((https?:)?//)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,63}(:[\\d]+)?(/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?\n\n\nTo support both:\n\nhttp://stackoverflow.com\nhttps://stackoverflow.com\n\n\nAnd:    \n\n//stackoverflow.com\n\n    ","url":"/questions/[slug]#solution20","@type":"Answer","upvoteCount":0},{"text":"Here&apos;s a ready-to-go Java version from the Android source code.  This is the best one I&apos;ve found.\n\npublic static final Matcher WEB  = Pattern.compile(new StringBuilder()                 \n.append(&quot;((?:(http|https|Http|Https|rtsp|Rtsp):&quot;)                      \n.append(&quot;\\\\/\\\\/(?:(?:[a-zA-Z0-9\\\\$\\\\-\\\\_\\\\.\\\\+\\\\!\\\\*\\\\&apos;\\\\(\\\\)&quot;)                         \n.append(&quot;\\\\,\\\\;\\\\?\\\\&amp;\\\\=]|(?:\\\\%[a-fA-F0-9]{2})){1,64}(?:\\\\:(?:[a-zA-Z0-9\\\\$\\\\-\\\\_&quot;)                         \n.append(&quot;\\\\.\\\\+\\\\!\\\\*\\\\&apos;\\\\(\\\\)\\\\,\\\\;\\\\?\\\\&amp;\\\\=]|(?:\\\\%[a-fA-F0-9]{2})){1,25})?\\\\@)?)?&quot;)                         \n.append(&quot;((?:(?:[a-zA-Z0-9][a-zA-Z0-9\\\\-]{0,64}\\\\.)+&quot;)   // named host                            \n.append(&quot;(?:&quot;)   // plus top level domain                         \n.append(&quot;(?:aero|arpa|asia|a[cdefgilmnoqrstuwxz])&quot;)                         \n.append(&quot;|(?:biz|b[abdefghijmnorstvwyz])&quot;)                         \n.append(&quot;|(?:cat|com|coop|c[acdfghiklmnoruvxyz])&quot;)                         \n.append(&quot;|d[ejkmoz]&quot;)                         \n.append(&quot;|(?:edu|e[cegrstu])&quot;)                         \n.append(&quot;|f[ijkmor]&quot;)                         \n.append(&quot;|(?:gov|g[abdefghilmnpqrstuwy])&quot;)                         \n.append(&quot;|h[kmnrtu]&quot;)                         \n.append(&quot;|(?:info|int|i[delmnoqrst])&quot;)                         \n.append(&quot;|(?:jobs|j[emop])&quot;)                         \n.append(&quot;|k[eghimnrwyz]&quot;)                         \n.append(&quot;|l[abcikrstuvy]&quot;)                         \n.append(&quot;|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])&quot;)                         \n.append(&quot;|(?:name|net|n[acefgilopruz])&quot;)                         \n.append(&quot;|(?:org|om)&quot;)                         \n.append(&quot;|(?:pro|p[aefghklmnrstwy])&quot;)                         \n.append(&quot;|qa&quot;)                         \n.append(&quot;|r[eouw]&quot;)                         \n.append(&quot;|s[abcdeghijklmnortuvyz]&quot;)                         \n.append(&quot;|(?:tel|travel|t[cdfghjklmnoprtvwz])&quot;)                         \n.append(&quot;|u[agkmsyz]&quot;)                         \n.append(&quot;|v[aceginu]&quot;)                         \n.append(&quot;|w[fs]&quot;)                         \n.append(&quot;|y[etu]&quot;)                         \n.append(&quot;|z[amw]))&quot;)                         \n.append(&quot;|(?:(?:25[0-5]|2[0-4]&quot;) // or ip address                                                 \n.append(&quot;[0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])\\\\.(?:25[0-5]|2[0-4][0-9]&quot;)                             \n.append(&quot;|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\\\.(?:25[0-5]|2[0-4][0-9]|[0-1]&quot;)                         \n.append(&quot;[0-9]{2}|[1-9][0-9]|[1-9]|0)\\\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}&quot;)                         \n.append(&quot;|[1-9][0-9]|[0-9])))&quot;)                         \n.append(&quot;(?:\\\\:\\\\d{1,5})?)&quot;) // plus option port number                             \n.append(&quot;(\\\\/(?:(?:[a-zA-Z0-9\\\\;\\\\/\\\\?\\\\:\\\\@\\\\&amp;\\\\=\\\\#\\\\~&quot;)  // plus option query params                         \n.append(&quot;\\\\-\\\\.\\\\+\\\\!\\\\*\\\\&apos;\\\\(\\\\)\\\\,\\\\_])|(?:\\\\%[a-fA-F0-9]{2}))*)?&quot;)                         \n.append(&quot;(?:\\\\b|$)&quot;).toString()                 \n).matcher(&quot;&quot;);\n\n    ","url":"/questions/[slug]#solution21","@type":"Answer","upvoteCount":0},{"text":"I hope it&apos;s helpful for you...\n\n^(http|https):\\/\\/+[\\www\\d]+\\.[\\w]+(\\/[\\w\\d]+)?\n\n    ","url":"/questions/[slug]#solution22","@type":"Answer","upvoteCount":0},{"text":"For Python, this is the actual URL validating regex used in Django 1.5.1:\n\nimport re\nregex = re.compile(\n        r&apos;^(?:http|ftp)s?://&apos;  # http:// or https://\n        r&apos;(?:(?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+(?:[A-Z]{2,6}\\.?|[A-Z0-9-]{2,}\\.?)|&apos;  # domain...\n        r&apos;localhost|&apos;  # localhost...\n        r&apos;\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|&apos;  # ...or ipv4\n        r&apos;\\[?[A-F0-9]*:[A-F0-9:]+\\]?)&apos;  # ...or ipv6\n        r&apos;(?::\\d+)?&apos;  # optional port\n        r&apos;(?:/?|[/?]\\S+)$&apos;, re.IGNORECASE)\n\n\nThis does both ipv4 and ipv6 addresses as well as ports and GET parameters.\n\nFound in the code here, Line 44.\n    ","url":"/questions/[slug]#solution23","@type":"Answer","upvoteCount":0},{"text":"This one works for me very well. (https?|ftp)://(www\\d?|[a-zA-Z0-9]+)?\\.[a-zA-Z0-9-]+(\\:|\\.)([a-zA-Z0-9.]+|(\\d+)?)([/?:].*)?\n    ","url":"/questions/[slug]#solution24","@type":"Answer","upvoteCount":0},{"text":"Here is a regex I made which extracts the different parts from an URL:\n\n^((?:https?|ftp):\\/\\/?)?([^:/\\s.]+\\.[^:/\\s]|localhost)(:\\d+)?((?:\\/\\w+)*\\/)?([\\w\\-.]+[^#?\\s]+)?([^#]+)?(#[\\w-]+)?$\n\n((?:https?|ftp):\\/\\/?)?(group 1): extracts the protocol\n([^:/\\s.]+\\.[^:/\\s]|localhost)(group 2): extracts the hostname\n(:\\d+)?(group 3): extracts the port number\n((?:\\/\\w+)*\\/)?([\\w\\-.]+[^#?\\s]+)?(groups 4 &amp; 5): extracts the path part\n([^#]+)?(group 6): extracts the query part\n(#[\\w-]+)?(group 7): extracts the hash part\n\nFor every part of the regex listed above, you can remove the ending ? to force it (or add one to make it facultative). You can also remove the ^ at the beginning and $ at the end of the regex so it won&apos;t need to match the whole string.\n\nSee it on regex101.\n\nNote: this regex is not 100% safe and may accept some strings which are not necessarily valid URLs but it does indeed validate some criterias. Its main goal was to extract the different parts of an URL not to validate it.\n    ","url":"/questions/[slug]#solution25","@type":"Answer","upvoteCount":0},{"text":"For convenience here&apos;s a one-liner regexp for URL&apos;s that will also match localhost where you&apos;re more likely to have ports than .com or similar.\n\n(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}(\\.[a-z]{2,6}|:[0-9]{3,4})\\b([-a-zA-Z0-9@:%_\\+.~#?&amp;\\/\\/=]*)\n\n    ","url":"/questions/[slug]#solution26","@type":"Answer","upvoteCount":0},{"text":"I found the following Regex for URLs, tested successfully with 500+ URLs:\n\n/\\b(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\x{00a1}-\\x{ffff}0-9]+-?)*[a-z\\x{00a1}-\\x{ffff}0-9]+)(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}0-9]+-?)*[a-z\\x{00a1}-\\x{ffff}0-9]+)*(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?\\b/gi\n\nI know it looks ugly, but the good thing is that it works. :)\n\nExplanation and demo with 581 random URLs on regex101.\n\nSource: In search of the perfect URL validation regex\n    ","url":"/questions/[slug]#solution27","@type":"Answer","upvoteCount":0},{"text":"To Match a URL there are various option and it depend on you requirement.\nbelow are few.\n\n_(^|[\\s.:;?\\-\\]&lt;\\(])(https?://[-\\w;/?:@&amp;=+$\\|\\_.!~*\\|&apos;()\\[\\]%#,]+[\\w/#](\\(\\))?)(?=$|[\\s&apos;,\\|\\(\\).:;?\\-\\[\\]&gt;\\)])_i\n\n#\\b(([\\w-]+://?|www[.])[^\\s()&lt;&gt;]+(?:\\([\\w\\d]+\\)|([^[:punct:]\\s]|/)))#iS\n\n\nAnd there is a link which gives you more than 10 different variations of validation for URL.\n\nhttps://mathiasbynens.be/demo/url-regex\n    ","url":"/questions/[slug]#solution28","@type":"Answer","upvoteCount":0},{"text":"I tried to formulate my version of url. My requirement was to capture instances in a String where possible url can be cse.uom.ac.mu - noting that it is not preceded by http nor www\n\nString regularExpression = &quot;((((ht{2}ps?://)?)((w{3}\\\\.)?))?)[^.&amp;&amp;[a-zA-Z0-9]][a-zA-Z0-9.-]+[^.&amp;&amp;[a-zA-Z0-9]](\\\\.[a-zA-Z]{2,3})&quot;;\n\nassertTrue(&quot;www.google.com&quot;.matches(regularExpression));\nassertTrue(&quot;www.google.co.uk&quot;.matches(regularExpression));\nassertTrue(&quot;http://www.google.com&quot;.matches(regularExpression));\nassertTrue(&quot;http://www.google.co.uk&quot;.matches(regularExpression));\nassertTrue(&quot;https://www.google.com&quot;.matches(regularExpression));\nassertTrue(&quot;https://www.google.co.uk&quot;.matches(regularExpression));\nassertTrue(&quot;google.com&quot;.matches(regularExpression));\nassertTrue(&quot;google.co.uk&quot;.matches(regularExpression));\nassertTrue(&quot;google.mu&quot;.matches(regularExpression));\nassertTrue(&quot;mes.intnet.mu&quot;.matches(regularExpression));\nassertTrue(&quot;cse.uom.ac.mu&quot;.matches(regularExpression));\n\n//cannot contain 2 &apos;.&apos; after www\nassertFalse(&quot;www..dr.google&quot;.matches(regularExpression));\n\n//cannot contain 2 &apos;.&apos; just before com\nassertFalse(&quot;www.dr.google..com&quot;.matches(regularExpression));\n\n// to test case where url www must be followed with a &apos;.&apos;\nassertFalse(&quot;www:google.com&quot;.matches(regularExpression));\n\n// to test case where url www must be followed with a &apos;.&apos;\n//assertFalse(&quot;http://wwwe.google.com&quot;.matches(regularExpression));\n\n// to test case where www must be preceded with a &apos;.&apos;\nassertFalse(&quot;https://www@.google.com&quot;.matches(regularExpression));\n\n    ","url":"/questions/[slug]#solution29","@type":"Answer","upvoteCount":0},{"text":"whats wrong with plain and simple FILTER_VALIDATE_URL ?\n\n $url = &quot;http://www.example.com&quot;;\n\nif(!filter_var($url, FILTER_VALIDATE_URL))\n  {\n  echo &quot;URL is not valid&quot;;\n  }\nelse\n  {\n  echo &quot;URL is valid&quot;;\n  }\n\n\nI know its not the question exactly but it did the job for me when I needed to validate urls so thought it might be useful to others who come across this post looking for the same thing\n    ","url":"/questions/[slug]#solution30","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="22"/><link rel="preload" href="/_next/static/css/c116652e2d6f4ad0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c116652e2d6f4ad0.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c0d2dcb5e85faf18.js" defer=""></script><script src="/_next/static/chunks/294-106ef8570fa99deb.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-50e201fdaa1e0fd1.js" defer=""></script><script src="/_next/static/DSpI0pSdXueTMCIVyw0q4/_buildManifest.js" defer=""></script><script src="/_next/static/DSpI0pSdXueTMCIVyw0q4/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h1 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h1></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/what-is-the-best-regular-expression-to-check-if-a-string-is-a-valid-url-1657387618306#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/what-is-the-best-regular-expression-to-check-if-a-string-is-a-valid-url-1657387618306"><h1>What is the best regular expression to check if a string is a valid URL?</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"></div></div><div class="question-content mt-5">
                
<p>How can I check if a given string is a valid URL address?</p>

<p>My knowledge of regular expressions is basic and doesn't allow me to choose from the hundreds of regular expressions I've already seen on the web.</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><h1 class="text-lg font-semibold mb-5">Navigate to solutions: </h1><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li><li class="pagination-solution-item"><span data-id="#solution17" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">17</span></li><li class="pagination-solution-item"><span data-id="#solution18" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">18</span></li><li class="pagination-solution-item"><span data-id="#solution19" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">19</span></li><li class="pagination-solution-item"><span data-id="#solution20" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">20</span></li><li class="pagination-solution-item"><span data-id="#solution21" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">21</span></li><li class="pagination-solution-item"><span data-id="#solution22" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">22</span></li><li class="pagination-solution-item"><span data-id="#solution23" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">23</span></li><li class="pagination-solution-item"><span data-id="#solution24" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">24</span></li><li class="pagination-solution-item"><span data-id="#solution25" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">25</span></li><li class="pagination-solution-item"><span data-id="#solution26" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">26</span></li><li class="pagination-solution-item"><span data-id="#solution27" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">27</span></li><li class="pagination-solution-item"><span data-id="#solution28" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">28</span></li><li class="pagination-solution-item"><span data-id="#solution29" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">29</span></li><li class="pagination-solution-item"><span data-id="#solution30" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">30</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 1</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I wrote my URL (actually IRI, internationalized) pattern to comply with RFC 3987 (<a href="http://www.faqs.org/rfcs/rfc3987.html" rel="noreferrer">http://www.faqs.org/rfcs/rfc3987.html</a>). These are in PCRE syntax.</p>

<p>For absolute IRIs (internationalized):</p>

<pre class="default s-code-block"><code class="hljs language-ruby">/^[a-z](<span class="hljs-string">?:</span>[-a-z0-<span class="hljs-number">9</span>\+\.])*<span class="hljs-symbol">:</span>(<span class="hljs-string">?:\/\/</span>(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span><span class="hljs-string">%[0-9a-f]</span>[<span class="hljs-number">0</span>-9a-f]|<span class="hljs-params">[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'\(\)\*\+,;=:])*@)?(?:\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-9a-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}<span class="hljs-symbol">:</span>){<span class="hljs-number">0</span>,<span class="hljs-number">6</span>}[<span class="hljs-number">0</span>-9a-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})<span class="hljs-string">?:</span><span class="hljs-symbol">:</span>)|<span class="hljs-params">v[0-9a-f]+\.[-a-z0-9\._~!\$&amp;'\(\)\*\+,;=:]+)\]</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>}|<span class="hljs-params">(?:%[0-9a-f][0-9a-f]</span>|[-a-z0-<span class="hljs-number">9</span>\._~\x{<span class="hljs-variable constant_">A0</span>}-\x{<span class="hljs-variable constant_">D7FF</span>}\x{<span class="hljs-variable constant_">F900</span>}-\x{<span class="hljs-variable constant_">FDCF</span>}\x{<span class="hljs-variable constant_">FDF0</span>}-\x{<span class="hljs-variable constant_">FFEF</span>}\x{<span class="hljs-number">10000</span>}-\x{1FFFD}\x{<span class="hljs-number">20000</span>}-\x{2FFFD}\x{<span class="hljs-number">30000</span>}-\x{3FFFD}\x{<span class="hljs-number">40000</span>}-\x{4FFFD}\x{<span class="hljs-number">50000</span>}-\x{5FFFD}\x{<span class="hljs-number">60000</span>}-\x{6FFFD}\x{<span class="hljs-number">70000</span>}-\x{7FFFD}\x{<span class="hljs-number">80000</span>}-\x{8FFFD}\x{<span class="hljs-number">90000</span>}-\x{9FFFD}\x{<span class="hljs-variable constant_">A0000</span>}-\x{<span class="hljs-variable constant_">AFFFD</span>}\x{<span class="hljs-variable constant_">B0000</span>}-\x{<span class="hljs-variable constant_">BFFFD</span>}\x{<span class="hljs-variable constant_">C0000</span>}-\x{<span class="hljs-variable constant_">CFFFD</span>}\x{<span class="hljs-variable constant_">D0000</span>}-\x{<span class="hljs-variable constant_">DFFFD</span>}\x{<span class="hljs-variable constant_">E1000</span>}-\x{<span class="hljs-variable constant_">EFFFD</span>}!\<span class="hljs-variable">$&amp;</span><span class="hljs-string">'\(\)\*\+,;=])*)(?::[0-9]*)?(?:\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'</span>\(\)\*\+,;=<span class="hljs-symbol">:</span>@]))*)*|<span class="hljs-params">\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]</span>|[-a-z0-<span class="hljs-number">9</span>\._~\x{<span class="hljs-variable constant_">A0</span>}-\x{<span class="hljs-variable constant_">D7FF</span>}\x{<span class="hljs-variable constant_">F900</span>}-\x{<span class="hljs-variable constant_">FDCF</span>}\x{<span class="hljs-variable constant_">FDF0</span>}-\x{<span class="hljs-variable constant_">FFEF</span>}\x{<span class="hljs-number">10000</span>}-\x{1FFFD}\x{<span class="hljs-number">20000</span>}-\x{2FFFD}\x{<span class="hljs-number">30000</span>}-\x{3FFFD}\x{<span class="hljs-number">40000</span>}-\x{4FFFD}\x{<span class="hljs-number">50000</span>}-\x{5FFFD}\x{<span class="hljs-number">60000</span>}-\x{6FFFD}\x{<span class="hljs-number">70000</span>}-\x{7FFFD}\x{<span class="hljs-number">80000</span>}-\x{8FFFD}\x{<span class="hljs-number">90000</span>}-\x{9FFFD}\x{<span class="hljs-variable constant_">A0000</span>}-\x{<span class="hljs-variable constant_">AFFFD</span>}\x{<span class="hljs-variable constant_">B0000</span>}-\x{<span class="hljs-variable constant_">BFFFD</span>}\x{<span class="hljs-variable constant_">C0000</span>}-\x{<span class="hljs-variable constant_">CFFFD</span>}\x{<span class="hljs-variable constant_">D0000</span>}-\x{<span class="hljs-variable constant_">DFFFD</span>}\x{<span class="hljs-variable constant_">E1000</span>}-\x{<span class="hljs-variable constant_">EFFFD</span>}!\<span class="hljs-variable">$&amp;</span><span class="hljs-string">'\(\)\*\+,;=:@]))+)(?:\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'</span>\(\)\*\+,;=<span class="hljs-symbol">:</span>@]))*)*)<span class="hljs-string">?|</span>(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span><span class="hljs-string">%[0-9a-f]</span>[<span class="hljs-number">0</span>-9a-f]|<span class="hljs-params">[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'\(\)\*\+,;=:@]))+)(?:\/(?:(?:%[0-9a-f][0-9a-f]</span>|[-a-z0-<span class="hljs-number">9</span>\._~\x{<span class="hljs-variable constant_">A0</span>}-\x{<span class="hljs-variable constant_">D7FF</span>}\x{<span class="hljs-variable constant_">F900</span>}-\x{<span class="hljs-variable constant_">FDCF</span>}\x{<span class="hljs-variable constant_">FDF0</span>}-\x{<span class="hljs-variable constant_">FFEF</span>}\x{<span class="hljs-number">10000</span>}-\x{1FFFD}\x{<span class="hljs-number">20000</span>}-\x{2FFFD}\x{<span class="hljs-number">30000</span>}-\x{3FFFD}\x{<span class="hljs-number">40000</span>}-\x{4FFFD}\x{<span class="hljs-number">50000</span>}-\x{5FFFD}\x{<span class="hljs-number">60000</span>}-\x{6FFFD}\x{<span class="hljs-number">70000</span>}-\x{7FFFD}\x{<span class="hljs-number">80000</span>}-\x{8FFFD}\x{<span class="hljs-number">90000</span>}-\x{9FFFD}\x{<span class="hljs-variable constant_">A0000</span>}-\x{<span class="hljs-variable constant_">AFFFD</span>}\x{<span class="hljs-variable constant_">B0000</span>}-\x{<span class="hljs-variable constant_">BFFFD</span>}\x{<span class="hljs-variable constant_">C0000</span>}-\x{<span class="hljs-variable constant_">CFFFD</span>}\x{<span class="hljs-variable constant_">D0000</span>}-\x{<span class="hljs-variable constant_">DFFFD</span>}\x{<span class="hljs-variable constant_">E1000</span>}-\x{<span class="hljs-variable constant_">EFFFD</span>}!\<span class="hljs-variable">$&amp;</span><span class="hljs-string">'\(\)\*\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'</span>\(\)\*\+,;=<span class="hljs-symbol">:</span>@])))(<span class="hljs-string">?:\?</span>(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span><span class="hljs-string">%[0-9a-f]</span>[<span class="hljs-number">0</span>-9a-f]|<span class="hljs-params">[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'\(\)\*\+,;=:@])</span>|[\x{<span class="hljs-variable constant_">E000</span>}-\x{<span class="hljs-variable constant_">F8FF</span>}\x{<span class="hljs-variable constant_">F0000</span>}-\x{<span class="hljs-variable constant_">FFFFD</span>}\x{<span class="hljs-number">100000</span>}-\x{10FFFD}\/\<span class="hljs-string">?]</span>)*)<span class="hljs-string">?(</span><span class="hljs-string">?:\#</span>(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span><span class="hljs-string">%[0-9a-f]</span>[<span class="hljs-number">0</span>-9a-f]|<span class="hljs-params">[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'\(\)\*\+,;=:@])</span>|[\/\<span class="hljs-string">?]</span>)*)<span class="hljs-string">?$</span>/i
</code></pre>

<p>To also allow relative IRIs:</p>

<pre class="default s-code-block"><code class="hljs language-ruby">/^(<span class="hljs-string">?:</span>[a-z](<span class="hljs-string">?:</span>[-a-z0-<span class="hljs-number">9</span>\+\.])*<span class="hljs-symbol">:</span>(<span class="hljs-string">?:\/\/</span>(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span><span class="hljs-string">%[0-9a-f]</span>[<span class="hljs-number">0</span>-9a-f]|<span class="hljs-params">[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'\(\)\*\+,;=:])*@)?(?:\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-9a-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}<span class="hljs-symbol">:</span>){<span class="hljs-number">0</span>,<span class="hljs-number">6</span>}[<span class="hljs-number">0</span>-9a-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})<span class="hljs-string">?:</span><span class="hljs-symbol">:</span>)|<span class="hljs-params">v[0-9a-f]+\.[-a-z0-9\._~!\$&amp;'\(\)\*\+,;=:]+)\]</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>}|<span class="hljs-params">(?:%[0-9a-f][0-9a-f]</span>|[-a-z0-<span class="hljs-number">9</span>\._~\x{<span class="hljs-variable constant_">A0</span>}-\x{<span class="hljs-variable constant_">D7FF</span>}\x{<span class="hljs-variable constant_">F900</span>}-\x{<span class="hljs-variable constant_">FDCF</span>}\x{<span class="hljs-variable constant_">FDF0</span>}-\x{<span class="hljs-variable constant_">FFEF</span>}\x{<span class="hljs-number">10000</span>}-\x{1FFFD}\x{<span class="hljs-number">20000</span>}-\x{2FFFD}\x{<span class="hljs-number">30000</span>}-\x{3FFFD}\x{<span class="hljs-number">40000</span>}-\x{4FFFD}\x{<span class="hljs-number">50000</span>}-\x{5FFFD}\x{<span class="hljs-number">60000</span>}-\x{6FFFD}\x{<span class="hljs-number">70000</span>}-\x{7FFFD}\x{<span class="hljs-number">80000</span>}-\x{8FFFD}\x{<span class="hljs-number">90000</span>}-\x{9FFFD}\x{<span class="hljs-variable constant_">A0000</span>}-\x{<span class="hljs-variable constant_">AFFFD</span>}\x{<span class="hljs-variable constant_">B0000</span>}-\x{<span class="hljs-variable constant_">BFFFD</span>}\x{<span class="hljs-variable constant_">C0000</span>}-\x{<span class="hljs-variable constant_">CFFFD</span>}\x{<span class="hljs-variable constant_">D0000</span>}-\x{<span class="hljs-variable constant_">DFFFD</span>}\x{<span class="hljs-variable constant_">E1000</span>}-\x{<span class="hljs-variable constant_">EFFFD</span>}!\<span class="hljs-variable">$&amp;</span><span class="hljs-string">'\(\)\*\+,;=])*)(?::[0-9]*)?(?:\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'</span>\(\)\*\+,;=<span class="hljs-symbol">:</span>@]))*)*|<span class="hljs-params">\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]</span>|[-a-z0-<span class="hljs-number">9</span>\._~\x{<span class="hljs-variable constant_">A0</span>}-\x{<span class="hljs-variable constant_">D7FF</span>}\x{<span class="hljs-variable constant_">F900</span>}-\x{<span class="hljs-variable constant_">FDCF</span>}\x{<span class="hljs-variable constant_">FDF0</span>}-\x{<span class="hljs-variable constant_">FFEF</span>}\x{<span class="hljs-number">10000</span>}-\x{1FFFD}\x{<span class="hljs-number">20000</span>}-\x{2FFFD}\x{<span class="hljs-number">30000</span>}-\x{3FFFD}\x{<span class="hljs-number">40000</span>}-\x{4FFFD}\x{<span class="hljs-number">50000</span>}-\x{5FFFD}\x{<span class="hljs-number">60000</span>}-\x{6FFFD}\x{<span class="hljs-number">70000</span>}-\x{7FFFD}\x{<span class="hljs-number">80000</span>}-\x{8FFFD}\x{<span class="hljs-number">90000</span>}-\x{9FFFD}\x{<span class="hljs-variable constant_">A0000</span>}-\x{<span class="hljs-variable constant_">AFFFD</span>}\x{<span class="hljs-variable constant_">B0000</span>}-\x{<span class="hljs-variable constant_">BFFFD</span>}\x{<span class="hljs-variable constant_">C0000</span>}-\x{<span class="hljs-variable constant_">CFFFD</span>}\x{<span class="hljs-variable constant_">D0000</span>}-\x{<span class="hljs-variable constant_">DFFFD</span>}\x{<span class="hljs-variable constant_">E1000</span>}-\x{<span class="hljs-variable constant_">EFFFD</span>}!\<span class="hljs-variable">$&amp;</span><span class="hljs-string">'\(\)\*\+,;=:@]))+)(?:\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'</span>\(\)\*\+,;=<span class="hljs-symbol">:</span>@]))*)*)<span class="hljs-string">?|</span>(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span><span class="hljs-string">%[0-9a-f]</span>[<span class="hljs-number">0</span>-9a-f]|<span class="hljs-params">[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'\(\)\*\+,;=:@]))+)(?:\/(?:(?:%[0-9a-f][0-9a-f]</span>|[-a-z0-<span class="hljs-number">9</span>\._~\x{<span class="hljs-variable constant_">A0</span>}-\x{<span class="hljs-variable constant_">D7FF</span>}\x{<span class="hljs-variable constant_">F900</span>}-\x{<span class="hljs-variable constant_">FDCF</span>}\x{<span class="hljs-variable constant_">FDF0</span>}-\x{<span class="hljs-variable constant_">FFEF</span>}\x{<span class="hljs-number">10000</span>}-\x{1FFFD}\x{<span class="hljs-number">20000</span>}-\x{2FFFD}\x{<span class="hljs-number">30000</span>}-\x{3FFFD}\x{<span class="hljs-number">40000</span>}-\x{4FFFD}\x{<span class="hljs-number">50000</span>}-\x{5FFFD}\x{<span class="hljs-number">60000</span>}-\x{6FFFD}\x{<span class="hljs-number">70000</span>}-\x{7FFFD}\x{<span class="hljs-number">80000</span>}-\x{8FFFD}\x{<span class="hljs-number">90000</span>}-\x{9FFFD}\x{<span class="hljs-variable constant_">A0000</span>}-\x{<span class="hljs-variable constant_">AFFFD</span>}\x{<span class="hljs-variable constant_">B0000</span>}-\x{<span class="hljs-variable constant_">BFFFD</span>}\x{<span class="hljs-variable constant_">C0000</span>}-\x{<span class="hljs-variable constant_">CFFFD</span>}\x{<span class="hljs-variable constant_">D0000</span>}-\x{<span class="hljs-variable constant_">DFFFD</span>}\x{<span class="hljs-variable constant_">E1000</span>}-\x{<span class="hljs-variable constant_">EFFFD</span>}!\<span class="hljs-variable">$&amp;</span><span class="hljs-string">'\(\)\*\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'</span>\(\)\*\+,;=<span class="hljs-symbol">:</span>@])))(<span class="hljs-string">?:\?</span>(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span><span class="hljs-string">%[0-9a-f]</span>[<span class="hljs-number">0</span>-9a-f]|<span class="hljs-params">[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'\(\)\*\+,;=:@])</span>|[\x{<span class="hljs-variable constant_">E000</span>}-\x{<span class="hljs-variable constant_">F8FF</span>}\x{<span class="hljs-variable constant_">F0000</span>}-\x{<span class="hljs-variable constant_">FFFFD</span>}\x{<span class="hljs-number">100000</span>}-\x{10FFFD}\/\<span class="hljs-string">?]</span>)*)<span class="hljs-string">?(</span><span class="hljs-string">?:\#</span>(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span><span class="hljs-string">%[0-9a-f]</span>[<span class="hljs-number">0</span>-9a-f]|<span class="hljs-params">[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'\(\)\*\+,;=:@])</span>|[\/\<span class="hljs-string">?]</span>)*)<span class="hljs-string">?|</span>(<span class="hljs-string">?:\/\/</span>(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span><span class="hljs-string">%[0-9a-f]</span>[<span class="hljs-number">0</span>-9a-f]|<span class="hljs-params">[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'\(\)\*\+,;=:])*@)?(?:\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>})|<span class="hljs-params">(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}</span>|(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-9a-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}<span class="hljs-symbol">:</span>){<span class="hljs-number">0</span>,<span class="hljs-number">6</span>}[<span class="hljs-number">0</span>-9a-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})<span class="hljs-string">?:</span><span class="hljs-symbol">:</span>)|<span class="hljs-params">v[0-9a-f]+\.[-a-z0-9\._~!\$&amp;'\(\)\*\+,;=:]+)\]</span>|(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">[1-9][0-9]</span>|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-params">2[0-4][0-9]</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">3</span>}|<span class="hljs-params">(?:%[0-9a-f][0-9a-f]</span>|[-a-z0-<span class="hljs-number">9</span>\._~\x{<span class="hljs-variable constant_">A0</span>}-\x{<span class="hljs-variable constant_">D7FF</span>}\x{<span class="hljs-variable constant_">F900</span>}-\x{<span class="hljs-variable constant_">FDCF</span>}\x{<span class="hljs-variable constant_">FDF0</span>}-\x{<span class="hljs-variable constant_">FFEF</span>}\x{<span class="hljs-number">10000</span>}-\x{1FFFD}\x{<span class="hljs-number">20000</span>}-\x{2FFFD}\x{<span class="hljs-number">30000</span>}-\x{3FFFD}\x{<span class="hljs-number">40000</span>}-\x{4FFFD}\x{<span class="hljs-number">50000</span>}-\x{5FFFD}\x{<span class="hljs-number">60000</span>}-\x{6FFFD}\x{<span class="hljs-number">70000</span>}-\x{7FFFD}\x{<span class="hljs-number">80000</span>}-\x{8FFFD}\x{<span class="hljs-number">90000</span>}-\x{9FFFD}\x{<span class="hljs-variable constant_">A0000</span>}-\x{<span class="hljs-variable constant_">AFFFD</span>}\x{<span class="hljs-variable constant_">B0000</span>}-\x{<span class="hljs-variable constant_">BFFFD</span>}\x{<span class="hljs-variable constant_">C0000</span>}-\x{<span class="hljs-variable constant_">CFFFD</span>}\x{<span class="hljs-variable constant_">D0000</span>}-\x{<span class="hljs-variable constant_">DFFFD</span>}\x{<span class="hljs-variable constant_">E1000</span>}-\x{<span class="hljs-variable constant_">EFFFD</span>}!\<span class="hljs-variable">$&amp;</span><span class="hljs-string">'\(\)\*\+,;=])*)(?::[0-9]*)?(?:\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'</span>\(\)\*\+,;=<span class="hljs-symbol">:</span>@]))*)*|<span class="hljs-params">\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]</span>|[-a-z0-<span class="hljs-number">9</span>\._~\x{<span class="hljs-variable constant_">A0</span>}-\x{<span class="hljs-variable constant_">D7FF</span>}\x{<span class="hljs-variable constant_">F900</span>}-\x{<span class="hljs-variable constant_">FDCF</span>}\x{<span class="hljs-variable constant_">FDF0</span>}-\x{<span class="hljs-variable constant_">FFEF</span>}\x{<span class="hljs-number">10000</span>}-\x{1FFFD}\x{<span class="hljs-number">20000</span>}-\x{2FFFD}\x{<span class="hljs-number">30000</span>}-\x{3FFFD}\x{<span class="hljs-number">40000</span>}-\x{4FFFD}\x{<span class="hljs-number">50000</span>}-\x{5FFFD}\x{<span class="hljs-number">60000</span>}-\x{6FFFD}\x{<span class="hljs-number">70000</span>}-\x{7FFFD}\x{<span class="hljs-number">80000</span>}-\x{8FFFD}\x{<span class="hljs-number">90000</span>}-\x{9FFFD}\x{<span class="hljs-variable constant_">A0000</span>}-\x{<span class="hljs-variable constant_">AFFFD</span>}\x{<span class="hljs-variable constant_">B0000</span>}-\x{<span class="hljs-variable constant_">BFFFD</span>}\x{<span class="hljs-variable constant_">C0000</span>}-\x{<span class="hljs-variable constant_">CFFFD</span>}\x{<span class="hljs-variable constant_">D0000</span>}-\x{<span class="hljs-variable constant_">DFFFD</span>}\x{<span class="hljs-variable constant_">E1000</span>}-\x{<span class="hljs-variable constant_">EFFFD</span>}!\<span class="hljs-variable">$&amp;</span><span class="hljs-string">'\(\)\*\+,;=:@]))+)(?:\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'</span>\(\)\*\+,;=<span class="hljs-symbol">:</span>@]))*)*)<span class="hljs-string">?|</span>(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span><span class="hljs-string">%[0-9a-f]</span>[<span class="hljs-number">0</span>-9a-f]|<span class="hljs-params">[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'\(\)\*\+,;=@])+)(?:\/(?:(?:%[0-9a-f][0-9a-f]</span>|[-a-z0-<span class="hljs-number">9</span>\._~\x{<span class="hljs-variable constant_">A0</span>}-\x{<span class="hljs-variable constant_">D7FF</span>}\x{<span class="hljs-variable constant_">F900</span>}-\x{<span class="hljs-variable constant_">FDCF</span>}\x{<span class="hljs-variable constant_">FDF0</span>}-\x{<span class="hljs-variable constant_">FFEF</span>}\x{<span class="hljs-number">10000</span>}-\x{1FFFD}\x{<span class="hljs-number">20000</span>}-\x{2FFFD}\x{<span class="hljs-number">30000</span>}-\x{3FFFD}\x{<span class="hljs-number">40000</span>}-\x{4FFFD}\x{<span class="hljs-number">50000</span>}-\x{5FFFD}\x{<span class="hljs-number">60000</span>}-\x{6FFFD}\x{<span class="hljs-number">70000</span>}-\x{7FFFD}\x{<span class="hljs-number">80000</span>}-\x{8FFFD}\x{<span class="hljs-number">90000</span>}-\x{9FFFD}\x{<span class="hljs-variable constant_">A0000</span>}-\x{<span class="hljs-variable constant_">AFFFD</span>}\x{<span class="hljs-variable constant_">B0000</span>}-\x{<span class="hljs-variable constant_">BFFFD</span>}\x{<span class="hljs-variable constant_">C0000</span>}-\x{<span class="hljs-variable constant_">CFFFD</span>}\x{<span class="hljs-variable constant_">D0000</span>}-\x{<span class="hljs-variable constant_">DFFFD</span>}\x{<span class="hljs-variable constant_">E1000</span>}-\x{<span class="hljs-variable constant_">EFFFD</span>}!\<span class="hljs-variable">$&amp;</span><span class="hljs-string">'\(\)\*\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'</span>\(\)\*\+,;=<span class="hljs-symbol">:</span>@])))(<span class="hljs-string">?:\?</span>(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span><span class="hljs-string">%[0-9a-f]</span>[<span class="hljs-number">0</span>-9a-f]|<span class="hljs-params">[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'\(\)\*\+,;=:@])</span>|[\x{<span class="hljs-variable constant_">E000</span>}-\x{<span class="hljs-variable constant_">F8FF</span>}\x{<span class="hljs-variable constant_">F0000</span>}-\x{<span class="hljs-variable constant_">FFFFD</span>}\x{<span class="hljs-number">100000</span>}-\x{10FFFD}\/\<span class="hljs-string">?]</span>)*)<span class="hljs-string">?(</span><span class="hljs-string">?:\#</span>(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span><span class="hljs-string">%[0-9a-f]</span>[<span class="hljs-number">0</span>-9a-f]|<span class="hljs-params">[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;'\(\)\*\+,;=:@])</span>|[\/\<span class="hljs-string">?]</span>)*)<span class="hljs-string">?)</span><span class="hljs-variable">$/</span>i
</code></pre>

<p>How they were compiled (in PHP):</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-comment">/* Regex convenience functions (character class, non-capturing group) */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cc</span>(<span class="hljs-params"><span class="hljs-variable">$str</span>, <span class="hljs-variable">$suffix</span> = <span class="hljs-string">''</span>, <span class="hljs-variable">$negate</span> = <span class="hljs-literal">false</span></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">'['</span> . (<span class="hljs-variable">$negate</span> ? <span class="hljs-string">'^'</span> : <span class="hljs-string">''</span>) . <span class="hljs-variable">$str</span> . <span class="hljs-string">']'</span> . <span class="hljs-variable">$suffix</span>;
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ncg</span>(<span class="hljs-params"><span class="hljs-variable">$str</span>, <span class="hljs-variable">$suffix</span> = <span class="hljs-string">''</span></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">'(?:'</span> . <span class="hljs-variable">$str</span> . <span class="hljs-string">')'</span> . <span class="hljs-variable">$suffix</span>;
}

<span class="hljs-comment">/* Preserved from RFC3986 */</span>

<span class="hljs-variable">$ALPHA</span> = <span class="hljs-string">'a-z'</span>;
<span class="hljs-variable">$DIGIT</span> = <span class="hljs-string">'0-9'</span>;
<span class="hljs-variable">$HEXDIG</span> = <span class="hljs-variable">$DIGIT</span> . <span class="hljs-string">'a-f'</span>;

<span class="hljs-variable">$sub_delims</span> = <span class="hljs-string">'!\\$&amp;\'\\(\\)\\*\\+,;='</span>;
<span class="hljs-variable">$gen_delims</span> = <span class="hljs-string">':\\/\\?\\#\\[\\]@'</span>;
<span class="hljs-variable">$reserved</span> = <span class="hljs-variable">$gen_delims</span> . <span class="hljs-variable">$sub_delims</span>;
<span class="hljs-variable">$unreserved</span> = <span class="hljs-string">'-'</span> . <span class="hljs-variable">$ALPHA</span> . <span class="hljs-variable">$DIGIT</span> . <span class="hljs-string">'\\._~'</span>;

<span class="hljs-variable">$pct_encoded</span> = <span class="hljs-string">'%'</span> . <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-variable">$HEXDIG</span>) . <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-variable">$HEXDIG</span>);

<span class="hljs-variable">$dec_octet</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-title function_ invoke__">implode</span>(<span class="hljs-string">'|'</span>, <span class="hljs-keyword">array</span>(
    <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-variable">$DIGIT</span>),
    <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-string">'1-9'</span>) . <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-variable">$DIGIT</span>),
    <span class="hljs-string">'1'</span> . <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-variable">$DIGIT</span>) . <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-variable">$DIGIT</span>),
    <span class="hljs-string">'2'</span> . <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-string">'0-4'</span>) . <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-variable">$DIGIT</span>),
    <span class="hljs-string">'25'</span> . <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-string">'0-5'</span>)
)));

<span class="hljs-variable">$IPv4address</span> = <span class="hljs-variable">$dec_octet</span> . <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-string">'\\.'</span> . <span class="hljs-variable">$dec_octet</span>, <span class="hljs-string">'{3}'</span>);

<span class="hljs-variable">$h16</span> = <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-variable">$HEXDIG</span>, <span class="hljs-string">'{1,4}'</span>);
<span class="hljs-variable">$ls32</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$h16</span> . <span class="hljs-string">':'</span> . <span class="hljs-variable">$h16</span> . <span class="hljs-string">'|'</span> . <span class="hljs-variable">$IPv4address</span>);

<span class="hljs-variable">$IPv6address</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-title function_ invoke__">implode</span>(<span class="hljs-string">'|'</span>, <span class="hljs-keyword">array</span>(
    <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$h16</span> . <span class="hljs-string">':'</span>, <span class="hljs-string">'{6}'</span>) . <span class="hljs-variable">$ls32</span>,
    <span class="hljs-string">'::'</span> . <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$h16</span> . <span class="hljs-string">':'</span>, <span class="hljs-string">'{5}'</span>) . <span class="hljs-variable">$ls32</span>,
    <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$h16</span>, <span class="hljs-string">'?'</span>) . <span class="hljs-string">'::'</span> . <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$h16</span> . <span class="hljs-string">':'</span>, <span class="hljs-string">'{4}'</span>) . <span class="hljs-variable">$ls32</span>,
    <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$h16</span> . <span class="hljs-string">':'</span> . <span class="hljs-variable">$h16</span>, <span class="hljs-string">'?'</span>) . <span class="hljs-string">'::'</span> . <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$h16</span> . <span class="hljs-string">':'</span>, <span class="hljs-string">'{3}'</span>) . <span class="hljs-variable">$ls32</span>,
    <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$h16</span> . <span class="hljs-string">':'</span>, <span class="hljs-string">'{0,2}'</span>) . <span class="hljs-variable">$h16</span>, <span class="hljs-string">'?'</span>) . <span class="hljs-string">'::'</span> . <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$h16</span> . <span class="hljs-string">':'</span>, <span class="hljs-string">'{2}'</span>) . <span class="hljs-variable">$ls32</span>,
    <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$h16</span> . <span class="hljs-string">':'</span>, <span class="hljs-string">'{0,3}'</span>) . <span class="hljs-variable">$h16</span>, <span class="hljs-string">'?'</span>) . <span class="hljs-string">'::'</span> . <span class="hljs-variable">$h16</span> . <span class="hljs-string">':'</span> . <span class="hljs-variable">$ls32</span>,
    <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$h16</span> . <span class="hljs-string">':'</span>, <span class="hljs-string">'{0,4}'</span>) . <span class="hljs-variable">$h16</span>, <span class="hljs-string">'?'</span>) . <span class="hljs-string">'::'</span> . <span class="hljs-variable">$ls32</span>,
    <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$h16</span> . <span class="hljs-string">':'</span>, <span class="hljs-string">'{0,5}'</span>) . <span class="hljs-variable">$h16</span>, <span class="hljs-string">'?'</span>) . <span class="hljs-string">'::'</span> . <span class="hljs-variable">$h16</span>,
    <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$h16</span> . <span class="hljs-string">':'</span>, <span class="hljs-string">'{0,6}'</span>) . <span class="hljs-variable">$h16</span>, <span class="hljs-string">'?'</span>) . <span class="hljs-string">'::'</span>,
)));

<span class="hljs-variable">$IPvFuture</span> = <span class="hljs-string">'v'</span> . <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-variable">$HEXDIG</span>, <span class="hljs-string">'+'</span>) . <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-variable">$unreserved</span> . <span class="hljs-variable">$sub_delims</span> . <span class="hljs-string">':'</span>, <span class="hljs-string">'+'</span>);

<span class="hljs-variable">$IP_literal</span> = <span class="hljs-string">'\\['</span> . <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-title function_ invoke__">implode</span>(<span class="hljs-string">'|'</span>, <span class="hljs-keyword">array</span>(<span class="hljs-variable">$IPv6address</span>, <span class="hljs-variable">$IPvFuture</span>))) . <span class="hljs-string">'\\]'</span>;

<span class="hljs-variable">$port</span> = <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-variable">$DIGIT</span>, <span class="hljs-string">'*'</span>);

<span class="hljs-variable">$scheme</span> = <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-variable">$ALPHA</span>) . <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-string">'-'</span> . <span class="hljs-variable">$ALPHA</span> . <span class="hljs-variable">$DIGIT</span> . <span class="hljs-string">'\\+\\.'</span>), <span class="hljs-string">'*'</span>);

<span class="hljs-comment">/* New or changed in RFC3987 */</span>

<span class="hljs-variable">$iprivate</span> = <span class="hljs-string">'\x{E000}-\x{F8FF}\x{F0000}-\x{FFFFD}\x{100000}-\x{10FFFD}'</span>;

<span class="hljs-variable">$ucschar</span> = <span class="hljs-string">'\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}'</span> .
    <span class="hljs-string">'\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}'</span> .
    <span class="hljs-string">'\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}'</span> .
    <span class="hljs-string">'\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}'</span> .
    <span class="hljs-string">'\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}'</span> .
    <span class="hljs-string">'\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}'</span>;

<span class="hljs-variable">$iunreserved</span> = <span class="hljs-string">'-'</span> . <span class="hljs-variable">$ALPHA</span> . <span class="hljs-variable">$DIGIT</span> . <span class="hljs-string">'\\._~'</span> . <span class="hljs-variable">$ucschar</span>;

<span class="hljs-variable">$ipchar</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$pct_encoded</span> . <span class="hljs-string">'|'</span> . <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-variable">$iunreserved</span> . <span class="hljs-variable">$sub_delims</span> . <span class="hljs-string">':@'</span>));

<span class="hljs-variable">$ifragment</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$ipchar</span> . <span class="hljs-string">'|'</span> . <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-string">'\\/\\?'</span>), <span class="hljs-string">'*'</span>);

<span class="hljs-variable">$iquery</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$ipchar</span> . <span class="hljs-string">'|'</span> . <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-variable">$iprivate</span> . <span class="hljs-string">'\\/\\?'</span>), <span class="hljs-string">'*'</span>);

<span class="hljs-variable">$isegment_nz_nc</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$pct_encoded</span> . <span class="hljs-string">'|'</span> . <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-variable">$iunreserved</span> . <span class="hljs-variable">$sub_delims</span> . <span class="hljs-string">'@'</span>), <span class="hljs-string">'+'</span>);
<span class="hljs-variable">$isegment_nz</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$ipchar</span>, <span class="hljs-string">'+'</span>);
<span class="hljs-variable">$isegment</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$ipchar</span>, <span class="hljs-string">'*'</span>);

<span class="hljs-variable">$ipath_empty</span> = <span class="hljs-string">'(?!'</span> . <span class="hljs-variable">$ipchar</span> . <span class="hljs-string">')'</span>;
<span class="hljs-variable">$ipath_rootless</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$isegment_nz</span>) . <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-string">'\\/'</span> . <span class="hljs-variable">$isegment</span>, <span class="hljs-string">'*'</span>);
<span class="hljs-variable">$ipath_noscheme</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$isegment_nz_nc</span>) . <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-string">'\\/'</span> . <span class="hljs-variable">$isegment</span>, <span class="hljs-string">'*'</span>);
<span class="hljs-variable">$ipath_absolute</span> = <span class="hljs-string">'\\/'</span> . <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$ipath_rootless</span>, <span class="hljs-string">'?'</span>); <span class="hljs-comment">// Spec says isegment-nz *( "/" isegment )</span>
<span class="hljs-variable">$ipath_abempty</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-string">'\\/'</span> . <span class="hljs-variable">$isegment</span>, <span class="hljs-string">'*'</span>);

<span class="hljs-variable">$ipath</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-title function_ invoke__">implode</span>(<span class="hljs-string">'|'</span>, <span class="hljs-keyword">array</span>(
    <span class="hljs-variable">$ipath_abempty</span>,
    <span class="hljs-variable">$ipath_absolute</span>,
    <span class="hljs-variable">$ipath_noscheme</span>,
    <span class="hljs-variable">$ipath_rootless</span>,
    <span class="hljs-variable">$ipath_empty</span>
))) . <span class="hljs-string">')'</span>;

<span class="hljs-variable">$ireg_name</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$pct_encoded</span> . <span class="hljs-string">'|'</span> . <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-variable">$iunreserved</span> . <span class="hljs-variable">$sub_delims</span> . <span class="hljs-string">'@'</span>), <span class="hljs-string">'*'</span>);

<span class="hljs-variable">$ihost</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-title function_ invoke__">implode</span>(<span class="hljs-string">'|'</span>, <span class="hljs-keyword">array</span>(<span class="hljs-variable">$IP_literal</span>, <span class="hljs-variable">$IPv4address</span>, <span class="hljs-variable">$ireg_name</span>)));
<span class="hljs-variable">$iuserinfo</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$pct_encoded</span> . <span class="hljs-string">'|'</span> . <span class="hljs-title function_ invoke__">cc</span>(<span class="hljs-variable">$iunreserved</span> . <span class="hljs-variable">$sub_delims</span> . <span class="hljs-string">':'</span>), <span class="hljs-string">'*'</span>);
<span class="hljs-variable">$iauthority</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$iuserinfo</span> . <span class="hljs-string">'@'</span>, <span class="hljs-string">'?'</span>) . <span class="hljs-variable">$ihost</span> . <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-string">':'</span> . <span class="hljs-variable">$port</span>, <span class="hljs-string">'?'</span>);

<span class="hljs-variable">$irelative_part</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-title function_ invoke__">implode</span>(<span class="hljs-string">'|'</span>, <span class="hljs-keyword">array</span>(
    <span class="hljs-string">'\\/\\/'</span> . <span class="hljs-variable">$iauthority</span> . <span class="hljs-variable">$ipath_abempty</span> . <span class="hljs-string">''</span>,
    <span class="hljs-string">''</span> . <span class="hljs-variable">$ipath_absolute</span> . <span class="hljs-string">''</span>,
    <span class="hljs-string">''</span> . <span class="hljs-variable">$ipath_noscheme</span> . <span class="hljs-string">''</span>,
    <span class="hljs-string">''</span> . <span class="hljs-variable">$ipath_empty</span> . <span class="hljs-string">''</span>
)));

<span class="hljs-variable">$irelative_ref</span> = <span class="hljs-variable">$irelative_part</span> . <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-string">'\\?'</span> . <span class="hljs-variable">$iquery</span>, <span class="hljs-string">'?'</span>) . <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-string">'\\#'</span> . <span class="hljs-variable">$ifragment</span>, <span class="hljs-string">'?'</span>);

<span class="hljs-variable">$ihier_part</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-title function_ invoke__">implode</span>(<span class="hljs-string">'|'</span>, <span class="hljs-keyword">array</span>(
    <span class="hljs-string">'\\/\\/'</span> . <span class="hljs-variable">$iauthority</span> . <span class="hljs-variable">$ipath_abempty</span> . <span class="hljs-string">''</span>,
    <span class="hljs-string">''</span> . <span class="hljs-variable">$ipath_absolute</span> . <span class="hljs-string">''</span>,
    <span class="hljs-string">''</span> . <span class="hljs-variable">$ipath_rootless</span> . <span class="hljs-string">''</span>,
    <span class="hljs-string">''</span> . <span class="hljs-variable">$ipath_empty</span> . <span class="hljs-string">''</span>
)));

<span class="hljs-variable">$absolute_IRI</span> = <span class="hljs-variable">$scheme</span> . <span class="hljs-string">':'</span> . <span class="hljs-variable">$ihier_part</span> . <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-string">'\\?'</span> . <span class="hljs-variable">$iquery</span>, <span class="hljs-string">'?'</span>);

<span class="hljs-variable">$IRI</span> = <span class="hljs-variable">$scheme</span> . <span class="hljs-string">':'</span> . <span class="hljs-variable">$ihier_part</span> . <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-string">'\\?'</span> . <span class="hljs-variable">$iquery</span>, <span class="hljs-string">'?'</span>) . <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-string">'\\#'</span> . <span class="hljs-variable">$ifragment</span>, <span class="hljs-string">'?'</span>);

<span class="hljs-variable">$IRI_reference</span> = <span class="hljs-title function_ invoke__">ncg</span>(<span class="hljs-variable">$IRI</span> . <span class="hljs-string">'|'</span> . <span class="hljs-variable">$irelative_ref</span>);
</code></pre>

<p>Edit 7 March 2011: Because of the way PHP handles backslashes in quoted strings, these are unusable by default. You'll need to double-escape backslashes except where the backslash has a special meaning in regex. You can do that this way:</p>

<pre class="default s-code-block"><code class="hljs language-bash"><span class="hljs-variable">$escape_backslash</span> = <span class="hljs-string">'/(?&lt;!\\)\\(?![\[\]\\\^\$\.\|\*\+\(\)QEnrtaefvdwsDWSbAZzB1-9GX]|x\{[0-9a-f]{1,4}\}|\c[A-Z]|)/'</span>;
<span class="hljs-variable">$absolute_IRI</span> = preg_replace(<span class="hljs-variable">$escape_backslash</span>, <span class="hljs-string">'\\\\'</span>, <span class="hljs-variable">$absolute_IRI</span>);
<span class="hljs-variable">$IRI</span> = preg_replace(<span class="hljs-variable">$escape_backslash</span>, <span class="hljs-string">'\\\\'</span>, <span class="hljs-variable">$IRI</span>);
<span class="hljs-variable">$IRI_reference</span> = preg_replace(<span class="hljs-variable">$escape_backslash</span>, <span class="hljs-string">'\\\\'</span>, <span class="hljs-variable">$IRI_reference</span>);
</code></pre>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 2</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I've just written up a blog post for a great solution for recognizing URLs in most used formats such as:</p>

<ul>
<li><code>www.google.com</code></li>
<li><code>http://www.google.com</code></li>
<li><code>mailto:somebody@google.com</code></li>
<li><code>somebody@google.com</code></li>
<li><code>www.url-with-querystring.com/?url=has-querystring</code></li>
</ul>

<p>The regular expression used is:</p>

<pre class="default s-code-block"><code class="hljs language-ruby">/((([A-Za-z]{<span class="hljs-number">3</span>,<span class="hljs-number">9</span>}<span class="hljs-symbol">:</span>(<span class="hljs-string">?:\/\/</span>)<span class="hljs-string">?)</span>(<span class="hljs-string">?:</span>[-;<span class="hljs-symbol">:&amp;</span>=\+\<span class="hljs-variable">$,</span>\w]+@)<span class="hljs-string">?[</span>A-Za-z0-<span class="hljs-number">9</span>.-]+|<span class="hljs-params">(?:www.</span>|[-;<span class="hljs-symbol">:&amp;</span>=\+\<span class="hljs-variable">$,</span>\w]+@)[A-Za-z0-<span class="hljs-number">9</span>.-]+)((<span class="hljs-string">?:\/</span>[\+~%\/.\w-_]*)<span class="hljs-string">?\?</span><span class="hljs-string">?(</span><span class="hljs-string">?:</span>[-\+=&amp;;%@.\w_]*)<span class="hljs-comment">#?(?:[\w]*))?)/</span>
</code></pre>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 3</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>What platform? If using .NET, use <a href="http://msdn.microsoft.com/en-us/library/system.uri.trycreate" rel="noreferrer"><code>System.Uri.TryCreate</code></a>, not a regex.</p>

<p>For example:</p>

<pre class="default s-code-block"><code class="hljs language-csharp"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">IsValidUrl</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> urlString</span>)</span>
{
    Uri uri;
    <span class="hljs-keyword">return</span> Uri.TryCreate(urlString, UriKind.Absolute, <span class="hljs-keyword">out</span> uri)
        &amp;&amp; (uri.Scheme == Uri.UriSchemeHttp
         || uri.Scheme == Uri.UriSchemeHttps
         || uri.Scheme == Uri.UriSchemeFtp
         || uri.Scheme == Uri.UriSchemeMailto
            <span class="hljs-comment">/*...*/</span>);
}

<span class="hljs-comment">// In test fixture...</span>

[<span class="hljs-meta">Test</span>]
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">IsValidUrl_Test</span>()</span>
{
    Assert.True(IsValidUrl(<span class="hljs-string">"http://www.example.com"</span>));
    Assert.False(IsValidUrl(<span class="hljs-string">"javascript:alert('xss')"</span>));
    Assert.False(IsValidUrl(<span class="hljs-string">""</span>));
    Assert.False(IsValidUrl(<span class="hljs-literal">null</span>));
}
</code></pre>

<p>(Thanks to <a href="https://stackoverflow.com/users/450141/yoshi">@Yoshi</a> for the tip about <code>javascript:</code>)</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 4</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here's what <a href="http://en.wikipedia.org/wiki/RegexBuddy" rel="noreferrer">RegexBuddy</a> uses.</p>

<pre class="default s-code-block"><code class="hljs language-ruby">(\b(https?|<span class="hljs-params">ftp</span>|file)<span class="hljs-symbol">://</span>)<span class="hljs-string">?[</span>-A-Za-z0-<span class="hljs-number">9</span>+&amp;@<span class="hljs-comment">#/%?=~_|!:,.;]+[-A-Za-z0-9+&amp;@#/%=~_|]</span>
</code></pre>

<p>It matches these below (inside the <code>** **</code> marks):  </p>

<pre class="default s-code-block"><code class="hljs language-bash">**http://www.regexbuddy.com**  
**http://www.regexbuddy.com/**  
**http://www.regexbuddy.com/index.html**  
**http://www.regexbuddy.com/index.html?<span class="hljs-built_in">source</span>=library**  
</code></pre>

<p>You can download RegexBuddy at <strong><a href="http://www.regexbuddy.com/download.html" rel="noreferrer">http://www.regexbuddy.com/download.html</a></strong>. </p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 5</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Mathias Bynens has a great article on the best comparison of a lot of regular expressions: <a href="http://mathiasbynens.be/demo/url-regex">In search of the perfect URL validation regex</a></p>

<p><a href="https://gist.github.com/729294">The best one posted</a> is a little long, but it matches just about anything you can throw at it.</p>

<h3>JavaScript version</h3>

<pre class="default s-code-block"><code class="hljs language-ruby">/^(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span>https?|<span class="hljs-params">ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10</span>|<span class="hljs-number">127</span>)(<span class="hljs-string">?:\.\d</span>{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>}){<span class="hljs-number">3</span>})(<span class="hljs-string">?!</span>(<span class="hljs-string">?:</span><span class="hljs-number">169</span>\.<span class="hljs-number">254</span>|<span class="hljs-params">192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]</span>|<span class="hljs-number">2</span>\d|<span class="hljs-params">3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?</span>|<span class="hljs-number">1</span>\d\d|<span class="hljs-params">2[01]\d</span>|<span class="hljs-number">22</span>[<span class="hljs-number">0</span>-<span class="hljs-number">3</span>])(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span><span class="hljs-number">1</span>?\d{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>}|<span class="hljs-params">2[0-4]\d</span>|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])){<span class="hljs-number">2</span>}(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\d?|<span class="hljs-params">1\d\d</span>|<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d|<span class="hljs-params">25[0-4]))</span>|(<span class="hljs-string">?:</span>(<span class="hljs-string">?:</span>[a-z\u00a1-\uffff0-<span class="hljs-number">9</span>]-*)*[a-z\u00a1-\uffff0-<span class="hljs-number">9</span>]+)(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[a-z\u00a1-\uffff0-<span class="hljs-number">9</span>]-*)*[a-z\u00a1-\uffff0-<span class="hljs-number">9</span>]+)*(<span class="hljs-string">?:\.</span>(<span class="hljs-string">?:</span>[a-z\u00a1-\uffff]{<span class="hljs-number">2</span>,}))\.<span class="hljs-string">?)</span>(<span class="hljs-string">?:</span><span class="hljs-symbol">:</span>\d{<span class="hljs-number">2</span>,<span class="hljs-number">5</span>})<span class="hljs-string">?(</span><span class="hljs-string">?:</span>[<span class="hljs-regexp">/?#]\S*)?$/i</span>
</code></pre>

<h3>PHP version</h3>

<pre class="default s-code-block"><code class="hljs language-perl"><span class="hljs-number">_</span>^(?:(?:https?|ftp):<span class="hljs-regexp">//</span>)(?:\S+(?::\S*)?@)?(?:(?!(?:<span class="hljs-number">10</span>|<span class="hljs-number">127</span>)(?:\.\d{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>})<span class="hljs-string">{3}</span>)(?!(?:<span class="hljs-number">169</span>\.<span class="hljs-number">254</span>|<span class="hljs-number">192</span>\.<span class="hljs-number">168</span>)(?:\.\d{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>})<span class="hljs-string">{2}</span>)(?!<span class="hljs-number">172</span>\.(?:<span class="hljs-number">1</span>[<span class="hljs-number">6</span>-<span class="hljs-number">9</span>]|<span class="hljs-number">2</span>\d|<span class="hljs-number">3</span>[<span class="hljs-number">0</span>-<span class="hljs-number">1</span>])(?:\.\d{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>})<span class="hljs-string">{2}</span>)(?:[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\d?|<span class="hljs-number">1</span>\d\d|<span class="hljs-number">2</span>[<span class="hljs-number">01</span>]\d|<span class="hljs-number">22</span>[<span class="hljs-number">0</span>-<span class="hljs-number">3</span>])(?:\.(?:<span class="hljs-number">1</span>?\d{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>}|<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>]))<span class="hljs-string">{2}</span>(?:\.(?:[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\d?|<span class="hljs-number">1</span>\d\d|<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]))|(?:(?:[a-z\<span class="hljs-keyword">x</span><span class="hljs-string">{00a1}</span>-\<span class="hljs-keyword">x</span><span class="hljs-string">{ffff}</span><span class="hljs-number">0</span>-<span class="hljs-number">9</span>]-*)*[a-z\<span class="hljs-keyword">x</span><span class="hljs-string">{00a1}</span>-\<span class="hljs-keyword">x</span><span class="hljs-string">{ffff}</span><span class="hljs-number">0</span>-<span class="hljs-number">9</span>]+)(?:\.(?:[a-z\<span class="hljs-keyword">x</span><span class="hljs-string">{00a1}</span>-\<span class="hljs-keyword">x</span><span class="hljs-string">{ffff}</span><span class="hljs-number">0</span>-<span class="hljs-number">9</span>]-*)*[a-z\<span class="hljs-keyword">x</span><span class="hljs-string">{00a1}</span>-\<span class="hljs-keyword">x</span><span class="hljs-string">{ffff}</span><span class="hljs-number">0</span>-<span class="hljs-number">9</span>]+)*(?:\.(?:[a-z\<span class="hljs-keyword">x</span><span class="hljs-string">{00a1}</span>-\<span class="hljs-keyword">x</span><span class="hljs-string">{ffff}</span>]{<span class="hljs-number">2</span>,}))\.?)(?::\d{<span class="hljs-number">2</span>,<span class="hljs-number">5</span>})?(?:[/?<span class="hljs-comment">#]\S*)?$_iuS</span>
</code></pre>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 6</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>With regard to <strong>eyelidness</strong>' answer post that reads "This is based on my reading of the URI specification.": Thanks Eyelidness, yours is the perfect solution I sought, as it is based on the URI spec! Superb work. :)</p>

<p>I had to make two amendments. The first to get the regexp to match IP address URLs correctly in PHP (v5.2.10) with the preg_match() function.</p>

<p>I had to add one more set of parenthesis to the line above "IP Address" around the pipes:</p>

<pre class="default s-code-block"><code class="hljs language-bash">)|((\d|[1-9]\d|1\d{2}|2[0-4][0-9]|25[0-5])\.){3}(?<span class="hljs-comment">#</span>
</code></pre>

<p>Not sure why.</p>

<p>I have also reduced the top level domain minimum length from 3 to 2 letters to support .co.uk and similar.</p>

<p>Final code:</p>

<pre class="default s-code-block"><code class="hljs language-bash">/^(https?|ftp):\/\/(?<span class="hljs-comment">#                                      protocol</span>
)(([a-z0-9<span class="hljs-variable">$_</span>\.\+!\*\<span class="hljs-string">'\(\),;\?&amp;=-]|%[0-9a-f]{2})+(?#         username
)(:([a-z0-9$_\.\+!\*\'</span>\(\),;\?&amp;=-]|%[0-9a-f]{2})+)?(?<span class="hljs-comment">#      password</span>
)@)?(?<span class="hljs-comment">#                                                     auth requires @</span>
)((([a-z0-9]\.|[a-z0-9][a-z0-9-]*[a-z0-9]\.)*(?<span class="hljs-comment">#             domain segments AND</span>
)[a-z][a-z0-9-]*[a-z0-9](?<span class="hljs-comment">#                                 top level domain  OR</span>
)|((\d|[1-9]\d|1\d{2}|2[0-4][0-9]|25[0-5])\.){3}(?<span class="hljs-comment">#</span>
    )(\d|[1-9]\d|1\d{2}|2[0-4][0-9]|25[0-5])(?<span class="hljs-comment">#             IP address</span>
))(:\d+)?(?<span class="hljs-comment">#                                                port</span>
))(((\/+([a-z0-9<span class="hljs-variable">$_</span>\.\+!\*\<span class="hljs-string">'\(\),;:@&amp;=-]|%[0-9a-f]{2})*)*(?# path
)(\?([a-z0-9$_\.\+!\*\'</span>\(\),;:@&amp;=-]|%[0-9a-f]{2})*)(?<span class="hljs-comment">#      query string</span>
)?)?)?(?<span class="hljs-comment">#                                                   path and query string optional</span>
)(<span class="hljs-comment">#([a-z0-9$_\.\+!\*\'\(\),;:@&amp;=-]|%[0-9a-f]{2})*)?(?#      fragment</span>
)$/i
</code></pre>

<p>This modified version was not checked against the URI specification so I can't vouch for it's compliance, it was altered to handle URLs on local network environments and two digit TLDs as well as other kinds of Web URL, and to work better in the PHP setup I use.</p>

<p>As <strong>PHP</strong> code:</p>

<pre class="default s-code-block"><code class="hljs language-dart">define(<span class="hljs-string">'URL_FORMAT'</span>, 
<span class="hljs-string">'/^(https?):\/\/'</span>.                                         <span class="hljs-comment">// protocol</span>
<span class="hljs-string">'(([a-z0-9<span class="hljs-subst">$_</span>\.\+!\*\'\(\),;\?&amp;=-]|%[0-9a-f]{2})+'</span>.         <span class="hljs-comment">// username</span>
<span class="hljs-string">'(:([a-z0-9<span class="hljs-subst">$_</span>\.\+!\*\'\(\),;\?&amp;=-]|%[0-9a-f]{2})+)?'</span>.      <span class="hljs-comment">// password</span>
<span class="hljs-string">'@)?(?#'</span>.                                                  <span class="hljs-comment">// auth requires @</span>
<span class="hljs-string">')((([a-z0-9]\.|[a-z0-9][a-z0-9-]*[a-z0-9]\.)*'</span>.                      <span class="hljs-comment">// domain segments AND</span>
<span class="hljs-string">'[a-z][a-z0-9-]*[a-z0-9]'</span>.                                 <span class="hljs-comment">// top level domain  OR</span>
<span class="hljs-string">'|((\d|[1-9]\d|1\d{2}|2[0-4][0-9]|25[0-5])\.){3}'</span>.
<span class="hljs-string">'(\d|[1-9]\d|1\d{2}|2[0-4][0-9]|25[0-5])'</span>.                 <span class="hljs-comment">// IP address</span>
<span class="hljs-string">')(:\d+)?'</span>.                                                <span class="hljs-comment">// port</span>
<span class="hljs-string">')(((\/+([a-z0-9<span class="hljs-subst">$_</span>\.\+!\*\'\(\),;:@&amp;=-]|%[0-9a-f]{2})*)*'</span>. <span class="hljs-comment">// path</span>
<span class="hljs-string">'(\?([a-z0-9<span class="hljs-subst">$_</span>\.\+!\*\'\(\),;:@&amp;=-]|%[0-9a-f]{2})*)'</span>.      <span class="hljs-comment">// query string</span>
<span class="hljs-string">'?)?)?'</span>.                                                   <span class="hljs-comment">// path and query string optional</span>
<span class="hljs-string">'(#([a-z0-9<span class="hljs-subst">$_</span>\.\+!\*\'\(\),;:@&amp;=-]|%[0-9a-f]{2})*)?'</span>.      <span class="hljs-comment">// fragment</span>
<span class="hljs-string">'$/i'</span>);
</code></pre>

<p>Here is a test program in PHP which validates a variety of URLs using the regex:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-title function_ invoke__">define</span>(<span class="hljs-string">'URL_FORMAT'</span>,
<span class="hljs-string">'/^(https?):\/\/'</span>.                                         // protocol
<span class="hljs-string">'(([a-z0-9$_\.\+!\*\'\(\),;\?&amp;=-]|%[0-9a-f]{2})+'</span>.         // username
<span class="hljs-string">'(:([a-z0-9$_\.\+!\*\'\(\),;\?&amp;=-]|%[0-9a-f]{2})+)?'</span>.      // password
<span class="hljs-string">'@)?(?#'</span>.                                                  // auth requires @
<span class="hljs-string">')((([a-z0-9]\.|[a-z0-9][a-z0-9-]*[a-z0-9]\.)*'</span>.                      // domain segments AND
<span class="hljs-string">'[a-z][a-z0-9-]*[a-z0-9]'</span>.                                 // top level domain  OR
<span class="hljs-string">'|((\d|[1-9]\d|1\d{2}|2[0-4][0-9]|25[0-5])\.){3}'</span>.
<span class="hljs-string">'(\d|[1-9]\d|1\d{2}|2[0-4][0-9]|25[0-5])'</span>.                 // IP address
<span class="hljs-string">')(:\d+)?'</span>.                                                // port
<span class="hljs-string">')(((\/+([a-z0-9$_\.\+!\*\'\(\),;:@&amp;=-]|%[0-9a-f]{2})*)*'</span>. // path
<span class="hljs-string">'(\?([a-z0-9$_\.\+!\*\'\(\),;:@&amp;=-]|%[0-9a-f]{2})*)'</span>.      // query <span class="hljs-keyword">string</span>
<span class="hljs-string">'?)?)?'</span>.                                                   // path <span class="hljs-keyword">and</span> query <span class="hljs-keyword">string</span> optional
<span class="hljs-string">'(#([a-z0-9$_\.\+!\*\'\(\),;:@&amp;=-]|%[0-9a-f]{2})*)?'</span>.      // fragment
<span class="hljs-string">'$/i'</span>);

<span class="hljs-comment">/**
 * Verify the syntax of the given URL. 
 * 
 * <span class="hljs-doctag">@access</span> public
 * <span class="hljs-doctag">@param</span> $url The URL to verify.
 * <span class="hljs-doctag">@return</span> boolean
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">is_valid_url</span>(<span class="hljs-params"><span class="hljs-variable">$url</span></span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">str_starts_with</span>(<span class="hljs-title function_ invoke__">strtolower</span>(<span class="hljs-variable">$url</span>), <span class="hljs-string">'http://localhost'</span>)) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">preg_match</span>(URL_FORMAT, <span class="hljs-variable">$url</span>);
}


<span class="hljs-comment">/**
 * String starts with something
 * 
 * This function will return true only if input string starts with
 * niddle
 * 
 * <span class="hljs-doctag">@param</span> string $string Input string
 * <span class="hljs-doctag">@param</span> string $niddle Needle string
 * <span class="hljs-doctag">@return</span> boolean
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">str_starts_with</span>(<span class="hljs-params"><span class="hljs-variable">$string</span>, <span class="hljs-variable">$niddle</span></span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">substr</span>(<span class="hljs-variable">$string</span>, <span class="hljs-number">0</span>, <span class="hljs-title function_ invoke__">strlen</span>(<span class="hljs-variable">$niddle</span>)) == <span class="hljs-variable">$niddle</span>;
}


<span class="hljs-comment">/**
 * Test a URL for validity and count results.
 * <span class="hljs-doctag">@param</span> url url
 * <span class="hljs-doctag">@param</span> expected expected result (true or false)
 */</span>

<span class="hljs-variable">$numtests</span> = <span class="hljs-number">0</span>;
<span class="hljs-variable">$passed</span> = <span class="hljs-number">0</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test_url</span>(<span class="hljs-params"><span class="hljs-variable">$url</span>, <span class="hljs-variable">$expected</span></span>) </span>{
  <span class="hljs-keyword">global</span> <span class="hljs-variable">$numtests</span>, <span class="hljs-variable">$passed</span>;
  <span class="hljs-variable">$numtests</span>++;
  <span class="hljs-variable">$valid</span> = <span class="hljs-title function_ invoke__">is_valid_url</span>(<span class="hljs-variable">$url</span>);
  <span class="hljs-keyword">echo</span> <span class="hljs-string">"URL Valid?: "</span> . (<span class="hljs-variable">$valid</span>?<span class="hljs-string">"yes"</span>:<span class="hljs-string">"no"</span>) . <span class="hljs-string">" for URL: <span class="hljs-subst">$url</span>. Expected: "</span>.(<span class="hljs-variable">$expected</span>?<span class="hljs-string">"yes"</span>:<span class="hljs-string">"no"</span>).<span class="hljs-string">". "</span>;
  <span class="hljs-keyword">if</span>(<span class="hljs-variable">$valid</span> == <span class="hljs-variable">$expected</span>) {
    <span class="hljs-keyword">echo</span> <span class="hljs-string">"PASS\n"</span>; <span class="hljs-variable">$passed</span>++;
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">echo</span> <span class="hljs-string">"FAIL\n"</span>;
  }
}

<span class="hljs-keyword">echo</span> <span class="hljs-string">"URL Tests:\n\n"</span>;

<span class="hljs-title function_ invoke__">test_url</span>(<span class="hljs-string">"http://localserver/projects/public/assets/javascript/widgets/UserBoxMenu/widget.css"</span>, <span class="hljs-literal">true</span>);
<span class="hljs-title function_ invoke__">test_url</span>(<span class="hljs-string">"http://www.google.com"</span>, <span class="hljs-literal">true</span>);
<span class="hljs-title function_ invoke__">test_url</span>(<span class="hljs-string">"http://www.google.co.uk/projects/my%20folder/test.php"</span>, <span class="hljs-literal">true</span>);
<span class="hljs-title function_ invoke__">test_url</span>(<span class="hljs-string">"https://myserver.localdomain"</span>, <span class="hljs-literal">true</span>);
<span class="hljs-title function_ invoke__">test_url</span>(<span class="hljs-string">"http://192.168.1.120/projects/index.php"</span>, <span class="hljs-literal">true</span>);
<span class="hljs-title function_ invoke__">test_url</span>(<span class="hljs-string">"http://192.168.1.1/projects/index.php"</span>, <span class="hljs-literal">true</span>);
<span class="hljs-title function_ invoke__">test_url</span>(<span class="hljs-string">"http://projectpier-server.localdomain/projects/public/assets/javascript/widgets/UserBoxMenu/widget.css"</span>, <span class="hljs-literal">true</span>);
<span class="hljs-title function_ invoke__">test_url</span>(<span class="hljs-string">"https://2.4.168.19/project-pier?c=test&amp;a=b"</span>, <span class="hljs-literal">true</span>);
<span class="hljs-title function_ invoke__">test_url</span>(<span class="hljs-string">"https://localhost/a/b/c/test.php?c=controller&amp;arg1=20&amp;arg2=20"</span>, <span class="hljs-literal">true</span>);
<span class="hljs-title function_ invoke__">test_url</span>(<span class="hljs-string">"http://user:password@localhost/a/b/c/test.php?c=controller&amp;arg1=20&amp;arg2=20"</span>, <span class="hljs-literal">true</span>);

<span class="hljs-keyword">echo</span> <span class="hljs-string">"\n<span class="hljs-subst">$passed</span> out of <span class="hljs-subst">$numtests</span> tests passed.\n\n"</span>;

<span class="hljs-meta">?&gt;</span>
</code></pre>

<p>Thanks again to <strong>eyelidness</strong> for the regex!</p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 7</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The post <a href="https://stackoverflow.com/questions/27745/getting-parts-of-a-url-regex#27755">Getting parts of a URL (Regex)</a> discusses parsing a URL to identify its various components. If you want to check if a URL is well-formed, it should be sufficient for your needs.</p>

<p>If you need to check if it's actually valid, you'll eventually have to try to access whatever's on the other end.</p>

<p>In general, though, you'd probably be better off using a function that's supplied to you by your framework or another library. Many platforms include functions that parse URLs. For example, there's Python's <a href="https://docs.python.org/3/library/urllib.parse.html" rel="nofollow noreferrer">urlparse</a> module, and in .NET you could use the <a href="http://msdn.microsoft.com/en-us/library/aa332621.aspx" rel="nofollow noreferrer">System.Uri class's constructor</a> as a means of validating the URL.</p>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 8</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>This might not be a job for regexes, but for existing tools in your language of choice.</strong>  You probably want to use existing code that has already been written, tested, and debugged.</p>

<p>In PHP, use the <a href="http://php.net/manual/en/function.parse-url.php"><code>parse_url</code></a> function.</p>

<p>Perl: <a href="http://search.cpan.org/dist/URI/"><code>URI</code> module</a>.</p>

<p>Ruby: <a href="http://www.ruby-doc.org/stdlib-1.9.3/libdoc/uri/rdoc/URI.html"><code>URI</code> module</a>.</p>

<p>.NET: <a href="http://msdn.microsoft.com/en-us/library/txt7706a.aspx">'Uri' class</a></p>

<p><strong>Regexes are not a magic wand you wave at every problem that happens to involve strings.</strong></p>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 9</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This will match all URLs</p>

<ul>
<li>with or without <em>http</em>/<em>https</em>   </li>
<li>with or without <em>www</em></li>
</ul>

<p>...including sub-domains and those new top-level domain name extensions such as 
  .<em>museum</em>, 
  .<em>academy</em>, 
  .<em>foundation</em>
  etc. which can have up to 63 characters (not just .<em>com</em>, .<em>net</em>, .<em>info</em> etc.)</p>

<pre class="default s-code-block"><code class="hljs language-ruby">(([\w]+<span class="hljs-symbol">:</span>)<span class="hljs-string">?/</span>/)<span class="hljs-string">?(</span>([\d\w]|<span class="hljs-params">%[a-fA-f\d]{2,2})+(:([\d\w]</span>|<span class="hljs-string">%[a-fA-f\d]</span>{<span class="hljs-number">2</span>,<span class="hljs-number">2</span>})+)<span class="hljs-string">?@</span>)<span class="hljs-string">?(</span>[\d\w][-\d\w]{<span class="hljs-number">0</span>,<span class="hljs-number">253</span>}[\d\w]\.)+[\w]{<span class="hljs-number">2</span>,<span class="hljs-number">63</span>}(<span class="hljs-symbol">:</span>[\d]+)<span class="hljs-string">?(</span>/([-+_~.\d\w]|<span class="hljs-params">%[a-fA-f\d]{2,2})*)*(\?(&amp;?([-+_~.\d\w]</span>|<span class="hljs-string">%[a-fA-f\d]</span>{<span class="hljs-number">2</span>,<span class="hljs-number">2</span>})=<span class="hljs-string">?)</span>*)<span class="hljs-string">?(</span><span class="hljs-comment">#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?</span>
</code></pre>

<p>Because today maximum length of the available top-level domain name extension is 13 characters such as .<em>international</em>, you can change the number 63 in expression to 13 to prevent someone misusing it.</p>

<p>as javascript</p>

<p></p><div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> urlreg=<span class="hljs-regexp">/(([\w]+:)?\/\/)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,63}(:[\d]+)?(\/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&amp;?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?/</span>;

$(<span class="hljs-string">'textarea'</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">'input'</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>){
  <span class="hljs-keyword">var</span> url = $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">val</span>();
  $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">toggleClass</span>(<span class="hljs-string">'invalid'</span>, urlreg.<span class="hljs-title function_">test</span>(url) == <span class="hljs-literal">false</span>)
});

$(<span class="hljs-string">'textarea'</span>).<span class="hljs-title function_">trigger</span>(<span class="hljs-string">'input'</span>);</code></pre>
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">textarea</span>{<span class="hljs-attribute">color</span>:green;}
<span class="hljs-selector-class">.invalid</span>{<span class="hljs-attribute">color</span>:red;}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">textarea</span>&gt;</span>http://www.google.com<span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">textarea</span>&gt;</span>http//www.google.com<span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">textarea</span>&gt;</span>googlecom<span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">textarea</span>&gt;</span>https://www.google.com<span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif1" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>

<p>Wikipedia Article: <a href="http://en.wikipedia.org/wiki/List_of_Internet_top-level_domains" rel="noreferrer">List of all internet top-level domains</a></p>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 10</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h1>Non-validating URI-reference Parser</h1>
<p>For reference purposes, here's the IETF Spec: (<a href="http://www.ietf.org/rfc/rfc3986.txt" rel="nofollow noreferrer">TXT</a> | <a href="https://www.rfc-editor.org/rfc/rfc3986#appendix-B" rel="nofollow noreferrer">HTML</a>). In particular, <em>Appendix B. <strong>Parsing</strong> a URI Reference with a Regular Expression</em> demonstrates how to parse a <strong>valid regex</strong>. This is described as,</p>
<blockquote>
<p>for an example of a non-validating URI-reference parser that will take any given string and extract the URI components.</p>
</blockquote>
<p>Here's the regex they provide:</p>
<pre class="default s-code-block"><code class="hljs language-ruby"> ^(([^<span class="hljs-symbol">:/<span class="hljs-string">?#</span></span>]+)<span class="hljs-symbol">:</span>)<span class="hljs-string">?(</span>/<span class="hljs-regexp">/([^/</span><span class="hljs-string">?#</span>]*))<span class="hljs-string">?(</span>[^<span class="hljs-string">?#</span>]*)(\<span class="hljs-string">?(</span>[^<span class="hljs-comment">#]*))?(#(.*))?</span>
</code></pre>
<p>As someone else said, it's probably best to leave this to a lib/framework you're already using.</p>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 11</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="default s-code-block"><code class="hljs language-scss">^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?<span class="hljs-selector-attr">[a-z0-9]</span>+([\-\.]{<span class="hljs-number">1</span>}[a-z0-<span class="hljs-number">9</span>]+)*\.<span class="hljs-selector-attr">[a-z]</span>{<span class="hljs-number">2</span>,<span class="hljs-number">5</span>}(:[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">1</span>,<span class="hljs-number">5</span>})?(\/.*)?$
</code></pre>

<p>live demo: <a href="https://regex101.com/r/HUNasA/2" rel="noreferrer">https://regex101.com/r/HUNasA/2</a></p>

<p>I have tested various expressions to match my requirements. </p>

<p>As a user I can hit browser search bar with following strings:</p>

<p><strong>valid urls</strong></p>

<ul>
<li><a href="https://www.google.com" rel="noreferrer">https://www.google.com</a></li>
<li><a href="http://www.google.com" rel="noreferrer">http://www.google.com</a></li>
<li><a href="http://google.com/" rel="noreferrer">http://google.com/</a></li>
<li><a href="https://google.com/" rel="noreferrer">https://google.com/</a></li>
<li>www.google.com</li>
<li>google.com</li>
<li><a href="https://www.google.com.ua" rel="noreferrer">https://www.google.com.ua</a></li>
<li><a href="http://www.google.com.ua" rel="noreferrer">http://www.google.com.ua</a></li>
<li><a href="http://google.com.ua" rel="noreferrer">http://google.com.ua</a></li>
<li><a href="https://google.com.ua/" rel="noreferrer">https://google.com.ua/</a></li>
<li>www.google.com.ua</li>
<li>google.com.ua</li>
<li><a href="https://mail.google.com" rel="noreferrer">https://mail.google.com</a></li>
<li><a href="http://mail.google.com" rel="noreferrer">http://mail.google.com</a></li>
<li>mail.google.com</li>
</ul>

<p><strong>invalid urls</strong></p>

<ul>
<li><a href="http://google" rel="noreferrer">http://google</a></li>
<li><a href="https://google.c" rel="noreferrer">https://google.c</a></li>
<li>google</li>
<li>google.</li>
<li>.google</li>
<li>.google.com</li>
<li>goole.c</li>
<li>...</li>
</ul>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 12</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The best regular expression for URL for me would be:</p>

<pre class="default s-code-block"><code class="hljs language-scss">"(([\w]+:)?<span class="hljs-comment">//)?(([\d\w]|%[a-fA-F\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,4}(:[\d]+)?(/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&amp;?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?"</span>
</code></pre>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 13</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here is a good rule that covers all possible cases: ports, params and etc</p>

<pre class="default s-code-block"><code class="hljs language-ruby">/(<span class="hljs-symbol">https?:</span>\/\/(<span class="hljs-string">?:</span>[a-z0-<span class="hljs-number">9</span>](<span class="hljs-string">?:</span>[a-z0-<span class="hljs-number">9</span>-]{<span class="hljs-number">0</span>,<span class="hljs-number">61</span>}[a-z0-<span class="hljs-number">9</span>])<span class="hljs-string">?\.</span>)+[a-z0-<span class="hljs-number">9</span>][a-z0-<span class="hljs-number">9</span>-]{<span class="hljs-number">0</span>,<span class="hljs-number">61</span>}[a-z0-<span class="hljs-number">9</span>])(<span class="hljs-symbol">:<span class="hljs-string">?\d</span>*</span>)\/<span class="hljs-string">?(</span>[a-z_\/<span class="hljs-number">0</span>-<span class="hljs-number">9</span>\-<span class="hljs-comment">#.]*)\??([a-z_\/0-9\-#=&amp;]*)/g</span>
</code></pre>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 14</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="default s-code-block"><code class="hljs language-delphi">        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">validateURL</span><span class="hljs-params">(textval)</span> <span class="hljs-comment">{
            var urlregex = new RegExp(
            "^(http|https|ftp)\://([a-zA-Z0-9\.\-]+(\:[a-zA-Z0-9\.&amp;amp;%\$\-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}</span>[0-9]<span class="hljs-comment">{2}</span>|[1-9]<span class="hljs-comment">{1}</span>[0-9]<span class="hljs-comment">{1}</span>|[1-9])\.<span class="hljs-params">(25[0-5]|2[0-4][0-9]|[0-1]<span class="hljs-comment">{1}</span>[0-9]<span class="hljs-comment">{2}</span>|[1-9]<span class="hljs-comment">{1}</span>[0-9]<span class="hljs-comment">{1}</span>|[1-9]|0)</span>\.<span class="hljs-params">(25[0-5]|2[0-4][0-9]|[0-1]<span class="hljs-comment">{1}</span>[0-9]<span class="hljs-comment">{2}</span>|[1-9]<span class="hljs-comment">{1}</span>[0-9]<span class="hljs-comment">{1}</span>|[1-9]|0)</span>\.<span class="hljs-params">(25[0-5]|2[0-4][0-9]|[0-1]<span class="hljs-comment">{1}</span>[0-9]<span class="hljs-comment">{2}</span>|[1-9]<span class="hljs-comment">{1}</span>[0-9]<span class="hljs-comment">{1}</span>|[0-9])</span>|<span class="hljs-title">localhost</span>|<span class="hljs-params">([a-zA-Z0-9\-]+\.)</span>*[<span class="hljs-title">a</span>-<span class="hljs-title">zA</span>-<span class="hljs-title">Z0</span>-9\-]+\.<span class="hljs-params">(com|edu|gov|int|mil|net|org|biz|arpa|info|<span class="hljs-keyword">name</span>|pro|aero|coop|museum|[a-zA-Z]<span class="hljs-comment">{2}</span>)</span>)<span class="hljs-params">(\:[0-9]+)</span>*<span class="hljs-params">(/($|[a-zA-Z0-9\.\,\?\<span class="hljs-string">'\\\+&amp;amp;%\$#\=~_\-]+))*$");
            return urlregex.test(textval);
        }
</span></span></span></code></pre>

<p>Matches 
<a href="http://site.com/dir/file.php?var=moo" rel="noreferrer">http://site.com/dir/file.php?var=moo</a> | <a href="ftp://user:pass@site.com:21/file/dir" rel="noreferrer">ftp://user:pass@site.com:21/file/dir</a></p>

<p>Non-Matches 
site.com | <a href="http://site.com/dir//" rel="noreferrer">http://site.com/dir//</a></p>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 15</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I was not able to find the regex I was looking for so I modified a regex to fullfill my requirements, and apparently it seems to work fine now. My requirements were:</p>

<ul>
<li>Match URLs w/o protocol (www.gooogle.com)</li>
<li>Match URLs with query parameters and path (<a href="http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1&amp;key2=value2e" rel="noreferrer">http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1&amp;key2=value2e</a>)</li>
<li>Don't match URLs where there are not acceptable characters (e.g. "'£), for instance: (www.google.com/somthing"/somethingmore)</li>
</ul>

<p>Here what I came up with, any suggestion is appreciated:</p>

<pre class="default s-code-block"><code class="hljs language-swift"><span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> void testWebsiteUrl(){
        <span class="hljs-type">String</span> regularExpression <span class="hljs-operator">=</span> <span class="hljs-string">"((http|ftp|https):<span class="hljs-subst">\\</span>/<span class="hljs-subst">\\</span>/)?[<span class="hljs-subst">\\</span>w<span class="hljs-subst">\\</span>-_]+(<span class="hljs-subst">\\</span>.[<span class="hljs-subst">\\</span>w<span class="hljs-subst">\\</span>-_]+)+([<span class="hljs-subst">\\</span>w<span class="hljs-subst">\\</span>-<span class="hljs-subst">\\</span>.,@?^=%&amp;amp;:/~<span class="hljs-subst">\\</span>+#]*[<span class="hljs-subst">\\</span>w<span class="hljs-subst">\\</span>-<span class="hljs-subst">\\</span>@?^=%&amp;amp;/~<span class="hljs-subst">\\</span>+#])?"</span>;

        assertTrue(<span class="hljs-string">"www.google.com"</span>.matches(regularExpression));
        assertTrue(<span class="hljs-string">"www.google.co.uk"</span>.matches(regularExpression));
        assertTrue(<span class="hljs-string">"http://www.google.com"</span>.matches(regularExpression));
        assertTrue(<span class="hljs-string">"http://www.google.co.uk"</span>.matches(regularExpression));
        assertTrue(<span class="hljs-string">"https://www.google.com"</span>.matches(regularExpression));
        assertTrue(<span class="hljs-string">"https://www.google.co.uk"</span>.matches(regularExpression));
        assertTrue(<span class="hljs-string">"google.com"</span>.matches(regularExpression));
        assertTrue(<span class="hljs-string">"google.co.uk"</span>.matches(regularExpression));
        assertTrue(<span class="hljs-string">"google.mu"</span>.matches(regularExpression));
        assertTrue(<span class="hljs-string">"mes.intnet.mu"</span>.matches(regularExpression));
        assertTrue(<span class="hljs-string">"cse.uom.ac.mu"</span>.matches(regularExpression));

        assertTrue(<span class="hljs-string">"http://www.google.com/path"</span>.matches(regularExpression));
        assertTrue(<span class="hljs-string">"http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1&amp;key2=value2e"</span>.matches(regularExpression));
        assertTrue(<span class="hljs-string">"http://www.google.com/?queryparam=123"</span>.matches(regularExpression));
        assertTrue(<span class="hljs-string">"http://www.google.com/path?queryparam=123"</span>.matches(regularExpression));

        assertFalse(<span class="hljs-string">"www..dr.google"</span>.matches(regularExpression));

        assertFalse(<span class="hljs-string">"www:google.com"</span>.matches(regularExpression));

        assertFalse(<span class="hljs-string">"https://www@.google.com"</span>.matches(regularExpression));

        assertFalse(<span class="hljs-string">"https://www.google.com<span class="hljs-subst">\"</span>"</span>.matches(regularExpression));
        assertFalse(<span class="hljs-string">"https://www.google.com'"</span>.matches(regularExpression));

        assertFalse(<span class="hljs-string">"http://www.google.com/path'"</span>.matches(regularExpression));
        assertFalse(<span class="hljs-string">"http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1&amp;key2=value2e'"</span>.matches(regularExpression));
        assertFalse(<span class="hljs-string">"http://www.google.com/?queryparam=123'"</span>.matches(regularExpression));
        assertFalse(<span class="hljs-string">"http://www.google.com/path?queryparam=12'3"</span>.matches(regularExpression));

    }
</code></pre>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 16</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I wrote a little groovy version that you can run</p>
<p>it matches the following URLs (which is good enough for me)</p>
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(args)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> <span class="hljs-string">"go to http://www.m.abut.ly/abc its awesome"</span>
    url = url.replaceAll(/https?:\/\/w{<span class="hljs-number">0</span>,<span class="hljs-number">3</span>}\w*?\.(\w*?\.)?\w{<span class="hljs-number">2</span>,<span class="hljs-number">3</span>}\S*|www\.(\w*?\.)?\w*?\.\w{<span class="hljs-number">2</span>,<span class="hljs-number">3</span>}\S*|(\w*?\.)?\w*?\.\w{<span class="hljs-number">2</span>,<span class="hljs-number">3</span>}[\/\?]\S*/ , { it -&gt;
        <span class="hljs-string">"woof${it}woof"</span>
    })
    println url 
}
</code></pre>
<pre class="lang-none s-code-block"><code>http://google.com
http://google.com/help.php
http://google.com/help.php?a=5

http://www.google.com
http://www.google.com/help.php
http://www.google.com?a=5

google.com?a=5
google.com/help.php
google.com/help.php?a=5

http://www.m.google.com/help.php?a=5 (and all its permutations)
www.m.google.com/help.php?a=5 (and all its permutations)
m.google.com/help.php?a=5 (and all its permutations)
</code></pre>
<p>The important thing for any URLs that don't start with <code>http</code> or <code>www</code> is that they must include a <code>/</code> or <code>?</code></p>
<p>I bet this can be tweaked a little more but it does the job pretty nice for being so short and compact... because you can pretty much split it in 3:</p>
<p>find anything that starts with <code>http</code>:</p>
<pre class="lang-none s-code-block"><code>https?:\/\/w{0,3}\w*?\.\w{2,3}\S*
</code></pre>
<p>find anything that starts with <code>www</code>:</p>
<pre class="lang-none s-code-block"><code>www\.\w*?\.\w{2,3}\S*
</code></pre>
<p>or find anything that must have a text then a dot then at least 2 letters and then a <code>?</code> or <code>/</code>:</p>
<pre class="lang-none s-code-block"><code>\w*?\.\w{2,3}[\/\?]\S*
</code></pre>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 17</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="default s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">validateURL</span>(<span class="hljs-params">textval</span>) {
            <span class="hljs-keyword">var</span> urlregex = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(
            <span class="hljs-string">"^(http|https|ftp)\://[a-zA-Z0-9\-\.]+\.[a-zA-Z]{2,3}(:[a-zA-Z0-9]*)?/?([a-zA-Z0-9\-\._\?\,\'/\\\+&amp;amp;%\$#\=~])*$"</span>);
            <span class="hljs-keyword">return</span> urlregex.<span class="hljs-title function_">test</span>(textval);
        }
</code></pre>

<p>Matches 
<a href="http://www.asdah.com/~joe">http://www.asdah.com/~joe</a> | <a href="ftp://ftp.asdah.co.uk:2828/asdah%20asdah.gif">ftp://ftp.asdah.co.uk:2828/asdah%20asdah.gif</a> | <a href="https://asdah.gov/asdh-ah.as">https://asdah.gov/asdh-ah.as</a></p>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 18</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you really search for the <strong>ultimate</strong> match, you probably find it on "<a href="http://flanders.co.nz/2009/11/08/a-good-url-regular-expression-repost/" rel="nofollow noreferrer">A Good Url Regular Expression?</a>".</p>

<p>But a regex that really matches all possible domains and allows anything that is allowed according to RFCs is horribly long and unreadable, trust me ;-)</p>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 19</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I've been working on an in-depth article discussing URI validation using regular expressions. It is based on RFC3986.  </p>

<p><a href="http://jmrware.com/articles/2009/uri_regexp/URI_regex.html" rel="nofollow">Regular Expression URI Validation</a></p>

<p>Although the article is not yet complete, I have come up with a PHP function which does a pretty good job of validating HTTP and FTP URLs. Here is the current version:</p>



<pre class="lang-php s-code-block"><code class="hljs language-php"><span class="hljs-comment">// function url_valid($url) { Rev:20110423_2000</span>
<span class="hljs-comment">//</span>
<span class="hljs-comment">// Return associative array of valid URI components, or FALSE if $url is not</span>
<span class="hljs-comment">// RFC-3986 compliant. If the passed URL begins with: "www." or "ftp.", then</span>
<span class="hljs-comment">// "http://" or "ftp://" is prepended and the corrected full-url is stored in</span>
<span class="hljs-comment">// the return array with a key name "url". This value should be used by the caller.</span>
<span class="hljs-comment">//</span>
<span class="hljs-comment">// Return value: FALSE if $url is not valid, otherwise array of URI components:</span>
<span class="hljs-comment">// e.g.</span>
<span class="hljs-comment">// Given: "http://www.jmrware.com:80/articles?height=10&amp;width=75#fragone"</span>
<span class="hljs-comment">// Array(</span>
<span class="hljs-comment">//    [scheme] =&gt; http</span>
<span class="hljs-comment">//    [authority] =&gt; www.jmrware.com:80</span>
<span class="hljs-comment">//    [userinfo] =&gt;</span>
<span class="hljs-comment">//    [host] =&gt; www.jmrware.com</span>
<span class="hljs-comment">//    [IP_literal] =&gt;</span>
<span class="hljs-comment">//    [IPV6address] =&gt;</span>
<span class="hljs-comment">//    [ls32] =&gt;</span>
<span class="hljs-comment">//    [IPvFuture] =&gt;</span>
<span class="hljs-comment">//    [IPv4address] =&gt;</span>
<span class="hljs-comment">//    [regname] =&gt; www.jmrware.com</span>
<span class="hljs-comment">//    [port] =&gt; 80</span>
<span class="hljs-comment">//    [path_abempty] =&gt; /articles</span>
<span class="hljs-comment">//    [query] =&gt; height=10&amp;width=75</span>
<span class="hljs-comment">//    [fragment] =&gt; fragone</span>
<span class="hljs-comment">//    [url] =&gt; http://www.jmrware.com:80/articles?height=10&amp;width=75#fragone</span>
<span class="hljs-comment">// )</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">url_valid</span>(<span class="hljs-params"><span class="hljs-variable">$url</span></span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">strpos</span>(<span class="hljs-variable">$url</span>, <span class="hljs-string">'www.'</span>) === <span class="hljs-number">0</span>) <span class="hljs-variable">$url</span> = <span class="hljs-string">'http://'</span>. <span class="hljs-variable">$url</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">strpos</span>(<span class="hljs-variable">$url</span>, <span class="hljs-string">'ftp.'</span>) === <span class="hljs-number">0</span>) <span class="hljs-variable">$url</span> = <span class="hljs-string">'ftp://'</span>. <span class="hljs-variable">$url</span>;
    <span class="hljs-keyword">if</span> (!<span class="hljs-title function_ invoke__">preg_match</span>(<span class="hljs-string">'/# Valid absolute URI having a non-empty, valid DNS host.
        ^
        (?P&lt;scheme&gt;[A-Za-z][A-Za-z0-9+\-.]*):\/\/
        (?P&lt;authority&gt;
          (?:(?P&lt;userinfo&gt;(?:[A-Za-z0-9\-._~!$&amp;\'()*+,;=:]|%[0-9A-Fa-f]{2})*)@)?
          (?P&lt;host&gt;
            (?P&lt;IP_literal&gt;
              \[
              (?:
                (?P&lt;IPV6address&gt;
                  (?:                                                (?:[0-9A-Fa-f]{1,4}:){6}
                  |                                                ::(?:[0-9A-Fa-f]{1,4}:){5}
                  | (?:                          [0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){4}
                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,1}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){3}
                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){2}
                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})?::   [0-9A-Fa-f]{1,4}:
                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})?::
                  )
                  (?P&lt;ls32&gt;[0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{1,4}
                  | (?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}
                       (?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)
                  )
                |   (?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::   [0-9A-Fa-f]{1,4}
                |   (?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::
                )
              | (?P&lt;IPvFuture&gt;[Vv][0-9A-Fa-f]+\.[A-Za-z0-9\-._~!$&amp;\'()*+,;=:]+)
              )
              \]
            )
          | (?P&lt;IPv4address&gt;(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}
                               (?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))
          | (?P&lt;regname&gt;(?:[A-Za-z0-9\-._~!$&amp;\'()*+,;=]|%[0-9A-Fa-f]{2})+)
          )
          (?::(?P&lt;port&gt;[0-9]*))?
        )
        (?P&lt;path_abempty&gt;(?:\/(?:[A-Za-z0-9\-._~!$&amp;\'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)
        (?:\?(?P&lt;query&gt;       (?:[A-Za-z0-9\-._~!$&amp;\'()*+,;=:@\\/?]|%[0-9A-Fa-f]{2})*))?
        (?:\#(?P&lt;fragment&gt;    (?:[A-Za-z0-9\-._~!$&amp;\'()*+,;=:@\\/?]|%[0-9A-Fa-f]{2})*))?
        $
        /mx'</span>, <span class="hljs-variable">$url</span>, <span class="hljs-variable">$m</span>)) <span class="hljs-keyword">return</span> <span class="hljs-literal">FALSE</span>;
    <span class="hljs-keyword">switch</span> (<span class="hljs-variable">$m</span>[<span class="hljs-string">'scheme'</span>]) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'https'</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-string">'http'</span>:
        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$m</span>[<span class="hljs-string">'userinfo'</span>]) <span class="hljs-keyword">return</span> <span class="hljs-literal">FALSE</span>; <span class="hljs-comment">// HTTP scheme does not allow userinfo.</span>
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">'ftps'</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-string">'ftp'</span>:
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">default</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">FALSE</span>;   <span class="hljs-comment">// Unrecognized URI scheme. Default to FALSE.</span>
    }
    <span class="hljs-comment">// Validate host name conforms to DNS "dot-separated-parts".</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable">$m</span>[<span class="hljs-string">'regname'</span>]) { <span class="hljs-comment">// If host regname specified, check for DNS conformance.</span>
        <span class="hljs-keyword">if</span> (!<span class="hljs-title function_ invoke__">preg_match</span>(<span class="hljs-string">'/# HTTP DNS host name.
            ^                      # Anchor to beginning of string.
            (?!.{256})             # Overall host length is less than 256 chars.
            (?:                    # Group dot separated host part alternatives.
              [A-Za-z0-9]\.        # Either a single alphanum followed by dot
            |                      # or... part has more than one char (63 chars max).
              [A-Za-z0-9]          # Part first char is alphanum (no dash).
              [A-Za-z0-9\-]{0,61}  # Internal chars are alphanum plus dash.
              [A-Za-z0-9]          # Part last char is alphanum (no dash).
              \.                   # Each part followed by literal dot.
            )*                     # Zero or more parts before top level domain.
            (?:                    # Explicitly specify top level domains.
              com|edu|gov|int|mil|net|org|biz|
              info|name|pro|aero|coop|museum|
              asia|cat|jobs|mobi|tel|travel|
              [A-Za-z]{2})         # Country codes are exactly two alpha chars.
              \.?                  # Top level domain can end in a dot.
            $                      # Anchor to end of string.
            /ix'</span>, <span class="hljs-variable">$m</span>[<span class="hljs-string">'host'</span>])) <span class="hljs-keyword">return</span> <span class="hljs-literal">FALSE</span>;
    }
    <span class="hljs-variable">$m</span>[<span class="hljs-string">'url'</span>] = <span class="hljs-variable">$url</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-variable">$i</span> = <span class="hljs-number">0</span>; <span class="hljs-keyword">isset</span>(<span class="hljs-variable">$m</span>[<span class="hljs-variable">$i</span>]); ++<span class="hljs-variable">$i</span>) <span class="hljs-keyword">unset</span>(<span class="hljs-variable">$m</span>[<span class="hljs-variable">$i</span>]);
    <span class="hljs-keyword">return</span> <span class="hljs-variable">$m</span>; <span class="hljs-comment">// return TRUE == array of useful named $matches plus the valid $url.</span>
}
</code></pre>

<p>This function utilizes two regexes; one to match a subset of valid generic URIs (absolute ones having a non-empty host), and a second to validate the DNS "dot-separated-parts" host name. Although this function currently validates only HTTP and FTP schemes, it is structured such that it can be easily extended to handle other schemes.</p>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 20</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I use this regex:</p>

<pre class="default s-code-block"><code class="hljs language-ruby">((<span class="hljs-symbol">https?:</span>)<span class="hljs-string">?/</span>/)<span class="hljs-string">?(</span>([\d\w]|<span class="hljs-params">%[a-fA-f\d]{2,2})+(:([\d\w]</span>|<span class="hljs-string">%[a-fA-f\d]</span>{<span class="hljs-number">2</span>,<span class="hljs-number">2</span>})+)<span class="hljs-string">?@</span>)<span class="hljs-string">?(</span>[\d\w][-\d\w]{<span class="hljs-number">0</span>,<span class="hljs-number">253</span>}[\d\w]\.)+[\w]{<span class="hljs-number">2</span>,<span class="hljs-number">63</span>}(<span class="hljs-symbol">:</span>[\d]+)<span class="hljs-string">?(</span>/([-+_~.\d\w]|<span class="hljs-params">%[a-fA-f\d]{2,2})*)*(\?(&amp;?([-+_~.\d\w]</span>|<span class="hljs-string">%[a-fA-f\d]</span>{<span class="hljs-number">2</span>,<span class="hljs-number">2</span>})=<span class="hljs-string">?)</span>*)<span class="hljs-string">?(</span><span class="hljs-comment">#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?</span>
</code></pre>

<p>To support both:</p>

<pre class="default s-code-block"><code class="hljs language-bash">http://stackoverflow.com
https://stackoverflow.com
</code></pre>

<p>And:    </p>

<pre class="default s-code-block"><code class="hljs language-bash">//stackoverflow.com
</code></pre>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 21</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here's a ready-to-go Java version from the Android source code.  This is the best one I've found.</p>

<pre class="default s-code-block"><code class="hljs language-swift"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Matcher</span> <span class="hljs-type">WEB</span>  <span class="hljs-operator">=</span> <span class="hljs-type">Pattern</span>.compile(new <span class="hljs-type">StringBuilder</span>()                 
.append(<span class="hljs-string">"((?:(http|https|Http|Https|rtsp|Rtsp):"</span>)                      
.append(<span class="hljs-string">"<span class="hljs-subst">\\</span>/<span class="hljs-subst">\\</span>/(?:(?:[a-zA-Z0-9<span class="hljs-subst">\\</span>$<span class="hljs-subst">\\</span>-<span class="hljs-subst">\\</span>_<span class="hljs-subst">\\</span>.<span class="hljs-subst">\\</span>+<span class="hljs-subst">\\</span>!<span class="hljs-subst">\\</span>*<span class="hljs-subst">\\</span>'<span class="hljs-subst">\\</span>(<span class="hljs-subst">\\</span>)"</span>)                         
.append(<span class="hljs-string">"<span class="hljs-subst">\\</span>,<span class="hljs-subst">\\</span>;<span class="hljs-subst">\\</span>?<span class="hljs-subst">\\</span>&amp;<span class="hljs-subst">\\</span>=]|(?:<span class="hljs-subst">\\</span>%[a-fA-F0-9]{2})){1,64}(?:<span class="hljs-subst">\\</span>:(?:[a-zA-Z0-9<span class="hljs-subst">\\</span>$<span class="hljs-subst">\\</span>-<span class="hljs-subst">\\</span>_"</span>)                         
.append(<span class="hljs-string">"<span class="hljs-subst">\\</span>.<span class="hljs-subst">\\</span>+<span class="hljs-subst">\\</span>!<span class="hljs-subst">\\</span>*<span class="hljs-subst">\\</span>'<span class="hljs-subst">\\</span>(<span class="hljs-subst">\\</span>)<span class="hljs-subst">\\</span>,<span class="hljs-subst">\\</span>;<span class="hljs-subst">\\</span>?<span class="hljs-subst">\\</span>&amp;<span class="hljs-subst">\\</span>=]|(?:<span class="hljs-subst">\\</span>%[a-fA-F0-9]{2})){1,25})?<span class="hljs-subst">\\</span>@)?)?"</span>)                         
.append(<span class="hljs-string">"((?:(?:[a-zA-Z0-9][a-zA-Z0-9<span class="hljs-subst">\\</span>-]{0,64}<span class="hljs-subst">\\</span>.)+"</span>)   <span class="hljs-comment">// named host                            </span>
.append(<span class="hljs-string">"(?:"</span>)   <span class="hljs-comment">// plus top level domain                         </span>
.append(<span class="hljs-string">"(?:aero|arpa|asia|a[cdefgilmnoqrstuwxz])"</span>)                         
.append(<span class="hljs-string">"|(?:biz|b[abdefghijmnorstvwyz])"</span>)                         
.append(<span class="hljs-string">"|(?:cat|com|coop|c[acdfghiklmnoruvxyz])"</span>)                         
.append(<span class="hljs-string">"|d[ejkmoz]"</span>)                         
.append(<span class="hljs-string">"|(?:edu|e[cegrstu])"</span>)                         
.append(<span class="hljs-string">"|f[ijkmor]"</span>)                         
.append(<span class="hljs-string">"|(?:gov|g[abdefghilmnpqrstuwy])"</span>)                         
.append(<span class="hljs-string">"|h[kmnrtu]"</span>)                         
.append(<span class="hljs-string">"|(?:info|int|i[delmnoqrst])"</span>)                         
.append(<span class="hljs-string">"|(?:jobs|j[emop])"</span>)                         
.append(<span class="hljs-string">"|k[eghimnrwyz]"</span>)                         
.append(<span class="hljs-string">"|l[abcikrstuvy]"</span>)                         
.append(<span class="hljs-string">"|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])"</span>)                         
.append(<span class="hljs-string">"|(?:name|net|n[acefgilopruz])"</span>)                         
.append(<span class="hljs-string">"|(?:org|om)"</span>)                         
.append(<span class="hljs-string">"|(?:pro|p[aefghklmnrstwy])"</span>)                         
.append(<span class="hljs-string">"|qa"</span>)                         
.append(<span class="hljs-string">"|r[eouw]"</span>)                         
.append(<span class="hljs-string">"|s[abcdeghijklmnortuvyz]"</span>)                         
.append(<span class="hljs-string">"|(?:tel|travel|t[cdfghjklmnoprtvwz])"</span>)                         
.append(<span class="hljs-string">"|u[agkmsyz]"</span>)                         
.append(<span class="hljs-string">"|v[aceginu]"</span>)                         
.append(<span class="hljs-string">"|w[fs]"</span>)                         
.append(<span class="hljs-string">"|y[etu]"</span>)                         
.append(<span class="hljs-string">"|z[amw]))"</span>)                         
.append(<span class="hljs-string">"|(?:(?:25[0-5]|2[0-4]"</span>) <span class="hljs-comment">// or ip address                                                 </span>
.append(<span class="hljs-string">"[0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])<span class="hljs-subst">\\</span>.(?:25[0-5]|2[0-4][0-9]"</span>)                             
.append(<span class="hljs-string">"|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)<span class="hljs-subst">\\</span>.(?:25[0-5]|2[0-4][0-9]|[0-1]"</span>)                         
.append(<span class="hljs-string">"[0-9]{2}|[1-9][0-9]|[1-9]|0)<span class="hljs-subst">\\</span>.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}"</span>)                         
.append(<span class="hljs-string">"|[1-9][0-9]|[0-9])))"</span>)                         
.append(<span class="hljs-string">"(?:<span class="hljs-subst">\\</span>:<span class="hljs-subst">\\</span>d{1,5})?)"</span>) <span class="hljs-comment">// plus option port number                             </span>
.append(<span class="hljs-string">"(<span class="hljs-subst">\\</span>/(?:(?:[a-zA-Z0-9<span class="hljs-subst">\\</span>;<span class="hljs-subst">\\</span>/<span class="hljs-subst">\\</span>?<span class="hljs-subst">\\</span>:<span class="hljs-subst">\\</span>@<span class="hljs-subst">\\</span>&amp;<span class="hljs-subst">\\</span>=<span class="hljs-subst">\\</span>#<span class="hljs-subst">\\</span>~"</span>)  <span class="hljs-comment">// plus option query params                         </span>
.append(<span class="hljs-string">"<span class="hljs-subst">\\</span>-<span class="hljs-subst">\\</span>.<span class="hljs-subst">\\</span>+<span class="hljs-subst">\\</span>!<span class="hljs-subst">\\</span>*<span class="hljs-subst">\\</span>'<span class="hljs-subst">\\</span>(<span class="hljs-subst">\\</span>)<span class="hljs-subst">\\</span>,<span class="hljs-subst">\\</span>_])|(?:<span class="hljs-subst">\\</span>%[a-fA-F0-9]{2}))*)?"</span>)                         
.append(<span class="hljs-string">"(?:<span class="hljs-subst">\\</span>b|$)"</span>).toString()                 
).matcher(<span class="hljs-string">""</span>);
</code></pre>
    </div></div></div></div><div id="solution22" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 22</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I hope it's helpful for you...</p>

<pre class="default s-code-block"><code class="hljs language-makefile"><span class="hljs-section">^(http|https):\/\/+[\www\d]+\.[\w]+(\/[\w\d]+)?</span>
</code></pre>
    </div></div></div></div><div id="solution23" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 23</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>For Python, this is the actual URL validating regex used in Django 1.5.1:</p>

<pre class="default s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> re
regex = re.<span class="hljs-built_in">compile</span>(
        <span class="hljs-string">r'^(?:http|ftp)s?://'</span>  <span class="hljs-comment"># http:// or https://</span>
        <span class="hljs-string">r'(?:(?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\.)+(?:[A-Z]{2,6}\.?|[A-Z0-9-]{2,}\.?)|'</span>  <span class="hljs-comment"># domain...</span>
        <span class="hljs-string">r'localhost|'</span>  <span class="hljs-comment"># localhost...</span>
        <span class="hljs-string">r'\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|'</span>  <span class="hljs-comment"># ...or ipv4</span>
        <span class="hljs-string">r'\[?[A-F0-9]*:[A-F0-9:]+\]?)'</span>  <span class="hljs-comment"># ...or ipv6</span>
        <span class="hljs-string">r'(?::\d+)?'</span>  <span class="hljs-comment"># optional port</span>
        <span class="hljs-string">r'(?:/?|[/?]\S+)$'</span>, re.IGNORECASE)
</code></pre>

<p>This does both ipv4 and ipv6 addresses as well as ports and GET parameters.</p>

<p>Found in the <a href="https://github.com/django/django/blob/master/django/core/validators.py" rel="nofollow">code here</a>, Line 44.</p>
    </div></div></div></div><div id="solution24" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 24</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This one works for me very well. <code>(https?|ftp)://(www\d?|[a-zA-Z0-9]+)?\.[a-zA-Z0-9-]+(\:|\.)([a-zA-Z0-9.]+|(\d+)?)([/?:].*)?</code></p>
    </div></div></div></div><div id="solution25" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 25</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here is a regex I made which extracts the different parts from an URL:</p>

<p><code>^((?:https?|ftp):\/\/?)?([^:/\s.]+\.[^:/\s]|localhost)(:\d+)?((?:\/\w+)*\/)?([\w\-.]+[^#?\s]+)?([^#]+)?(#[\w-]+)?$</code></p>

<p><code>((?:https?|ftp):\/\/?)?</code><em>(group 1)</em>: extracts the protocol<br>
<code>([^:/\s.]+\.[^:/\s]|localhost)</code><em>(group 2)</em>: extracts the hostname<br>
<code>(:\d+)?</code><em>(group 3)</em>: extracts the port number<br>
<code>((?:\/\w+)*\/)?([\w\-.]+[^#?\s]+)?</code><em>(groups 4 &amp; 5)</em>: extracts the path part<br>
<code>([^#]+)?</code><em>(group 6)</em>: extracts the query part<br>
<code>(#[\w-]+)?</code><em>(group 7)</em>: extracts the hash part</p>

<p>For every part of the regex listed above, you can remove the ending <code>?</code> to force it (or add one to make it facultative). You can also remove the <code>^</code> at the beginning and <code>$</code> at the end of the regex so it won't need to match the whole string.</p>

<p>See it on <a href="https://regex101.com/r/Q2ilqN/7" rel="nofollow noreferrer">regex101</a>.</p>

<p><strong><em>Note:</em></strong><em> this regex is not 100% safe and may accept some strings which are not necessarily valid URLs but it does indeed validate some criterias. Its main goal was to extract the different parts of an URL not to validate it.</em></p>
    </div></div></div></div><div id="solution26" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 26</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>For convenience here's a one-liner regexp for URL's that will also match localhost where you're more likely to have ports than <code>.com</code> or similar.</p>

<pre class="default s-code-block"><code class="hljs language-ruby">(http(s)<span class="hljs-string">?:\/\/</span>.)<span class="hljs-string">?(</span>www\.)<span class="hljs-string">?[</span>-a-zA-<span class="hljs-variable constant_">Z0</span>-<span class="hljs-number">9</span>@<span class="hljs-symbol">:%</span>._\+~<span class="hljs-comment">#=]{2,256}(\.[a-z]{2,6}|:[0-9]{3,4})\b([-a-zA-Z0-9@:%_\+.~#?&amp;\/\/=]*)</span>
</code></pre>
    </div></div></div></div><div id="solution27" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 27</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I found the following Regex for URLs, <strong>tested successfully with 500+ URLs</strong>:</p>

<p><code>/\b(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\x{00a1}-\x{ffff}0-9]+-?)*[a-z\x{00a1}-\x{ffff}0-9]+)(?:\.(?:[a-z\x{00a1}-\x{ffff}0-9]+-?)*[a-z\x{00a1}-\x{ffff}0-9]+)*(?:\.(?:[a-z\x{00a1}-\x{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?\b/gi</code></p>

<p><em>I know it looks ugly, but the good thing is that it works. :)</em></p>

<p><a href="https://regex101.com/r/hU9aV3/5" rel="nofollow">Explanation and demo with <strong>581 random URLs</strong> on regex101.</a></p>

<p>Source: <a href="https://mathiasbynens.be/demo/url-regex" rel="nofollow">In search of the perfect URL validation regex</a></p>
    </div></div></div></div><div id="solution28" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 28</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>To Match a URL there are various option and it depend on you requirement.
below are few.</p>

<pre class="default s-code-block"><code class="hljs language-perl"><span class="hljs-number">_</span>(^|[\s.:;?\-\]&lt;\(])(https?:<span class="hljs-regexp">//</span>[-\w;<span class="hljs-regexp">/?:@&amp;=+$\|\_.!~*\|'()\[\]%#,]+[\w/</span><span class="hljs-comment">#](\(\))?)(?=$|[\s',\|\(\).:;?\-\[\]&gt;\)])_i</span>

<span class="hljs-comment">#\b(([\w-]+://?|www[.])[^\s()&lt;&gt;]+(?:\([\w\d]+\)|([^[:punct:]\s]|/)))#iS</span>
</code></pre>

<p>And there is a link which gives you more than 10 different variations of validation for URL.</p>

<p><a href="https://mathiasbynens.be/demo/url-regex" rel="nofollow">https://mathiasbynens.be/demo/url-regex</a></p>
    </div></div></div></div><div id="solution29" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 29</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I tried to formulate my version of url. My requirement was to capture instances in a String where possible url can be cse.uom.ac.mu - noting that it is not preceded by http nor www</p>

<pre class="default s-code-block"><code class="hljs language-sql">String regularExpression <span class="hljs-operator">=</span> "((((ht{2}ps?://)?)((w{3}\\.)?))?)[^.&amp;&amp;[a-zA-Z0-9]][a-zA-Z0-9.-]+[^.&amp;&amp;[a-zA-Z0-9]](\\.[a-zA-Z]{2,3})";

assertTrue("www.google.com".<span class="hljs-keyword">matches</span>(regularExpression));
assertTrue("www.google.co.uk".<span class="hljs-keyword">matches</span>(regularExpression));
assertTrue("http://www.google.com".<span class="hljs-keyword">matches</span>(regularExpression));
assertTrue("http://www.google.co.uk".<span class="hljs-keyword">matches</span>(regularExpression));
assertTrue("https://www.google.com".<span class="hljs-keyword">matches</span>(regularExpression));
assertTrue("https://www.google.co.uk".<span class="hljs-keyword">matches</span>(regularExpression));
assertTrue("google.com".<span class="hljs-keyword">matches</span>(regularExpression));
assertTrue("google.co.uk".<span class="hljs-keyword">matches</span>(regularExpression));
assertTrue("google.mu".<span class="hljs-keyword">matches</span>(regularExpression));
assertTrue("mes.intnet.mu".<span class="hljs-keyword">matches</span>(regularExpression));
assertTrue("cse.uom.ac.mu".<span class="hljs-keyword">matches</span>(regularExpression));

<span class="hljs-operator">/</span><span class="hljs-operator">/</span>cannot contain <span class="hljs-number">2</span> <span class="hljs-string">'.'</span> after www
assertFalse("www..dr.google".<span class="hljs-keyword">matches</span>(regularExpression));

<span class="hljs-operator">/</span><span class="hljs-operator">/</span>cannot contain <span class="hljs-number">2</span> <span class="hljs-string">'.'</span> just before com
assertFalse("www.dr.google..com".<span class="hljs-keyword">matches</span>(regularExpression));

<span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-keyword">to</span> test <span class="hljs-keyword">case</span> <span class="hljs-keyword">where</span> url www must be followed <span class="hljs-keyword">with</span> a <span class="hljs-string">'.'</span>
assertFalse("www:google.com".<span class="hljs-keyword">matches</span>(regularExpression));

<span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-keyword">to</span> test <span class="hljs-keyword">case</span> <span class="hljs-keyword">where</span> url www must be followed <span class="hljs-keyword">with</span> a <span class="hljs-string">'.'</span>
<span class="hljs-operator">/</span><span class="hljs-operator">/</span>assertFalse("http://wwwe.google.com".<span class="hljs-keyword">matches</span>(regularExpression));

<span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-keyword">to</span> test <span class="hljs-keyword">case</span> <span class="hljs-keyword">where</span> www must be preceded <span class="hljs-keyword">with</span> a <span class="hljs-string">'.'</span>
assertFalse("https://www@.google.com".<span class="hljs-keyword">matches</span>(regularExpression));
</code></pre>
    </div></div></div></div><div id="solution30" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 30</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>whats wrong with plain and simple FILTER_VALIDATE_URL ?</p>

<pre class="default s-code-block"><code class="hljs language-bash"> <span class="hljs-variable">$url</span> = <span class="hljs-string">"http://www.example.com"</span>;

<span class="hljs-keyword">if</span>(!filter_var(<span class="hljs-variable">$url</span>, FILTER_VALIDATE_URL))
  {
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"URL is not valid"</span>;
  }
<span class="hljs-keyword">else</span>
  {
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"URL is valid"</span>;
  }
</code></pre>

<p>I know its not the question exactly but it did the job for me when I needed to validate urls so thought it might be useful to others who come across this post looking for the same thing</p>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/iterating-over-dictionaries-using-&#x27;for&#x27;-loops-1657388334481">Iterating over dictionaries using &#x27;for&#x27; loops</a><a href="/questions/how-do-i-execute-a-program-or-call-a-system-command-1657385465629">How do I execute a program or call a system command?</a><a href="/questions/what-is-the-difference-between-a-definition-and-a-declaration-1657387851618">What is the difference between a definition and a declaration?</a><a href="/questions/list-of-lists-changes-reflected-across-sublists-unexpectedly-1657384393720">List of lists changes reflected across sublists unexpectedly</a><a href="/questions/php-mail-function-doesn&#x27;t-complete-sending-of-e-mail-1657384307499">PHP mail function doesn&#x27;t complete sending of e-mail</a><a href="/questions/how-do-i-redirect-to-another-webpage-1657384869767">How do I redirect to another webpage?</a><a href="/questions/safely-turning-a-json-string-into-an-object-1657388194824">Safely turning a JSON string into an object</a><a href="/questions/why-is-using-&#x27;eval&#x27;-a-bad-practice-1657387348760">Why is using &#x27;eval&#x27; a bad practice?</a><a href="/questions/what-is-dom-event-delegation-1657387625599">What is DOM Event delegation?</a><a href="/questions/deep-cloning-objects-1657387930865">Deep cloning objects</a><a href="/questions/how-to-avoid-using-select-in-excel-vba-1657384286300">How to avoid using Select in Excel VBA</a><a href="/questions/how-do-i-sort-a-dictionary-by-value-1657385485049">How do I sort a dictionary by value?</a><a href="/questions/how-to-make-a-great-r-reproducible-example-1657384198173">How to make a great R reproducible example</a><a href="/questions/jquery-ajax-post-example-with-php-1657387402634">jQuery Ajax POST example with PHP</a><a href="/questions/how-to-deal-with-mysqli-problems-mysqli_fetch_array():-argument-1-must-be-of-type-mysqli_result-1657384360922">How to deal with mysqli problems? mysqli_fetch_array(): Argument #1 must be of type mysqli_result</a><a href="/questions/r-cannot-be-resolved-android-error-1657388526258">R cannot be resolved - Android error</a><a href="/questions/what-is-the-difference-between-%22px%22-%22dip%22-%22dp%22-and-%22sp%22-1657388093250">What is the difference between &quot;px&quot;, &quot;dip&quot;, &quot;dp&quot; and &quot;sp&quot;?</a><a href="/questions/why-are-these-numbers-not-equal-1657384729559">Why are these numbers not equal?</a><a href="/questions/how-do-you-get-the-footer-to-stay-at-the-bottom-of-a-web-page-1657387817544">How do you get the footer to stay at the bottom of a Web page?</a><a href="/questions/what-happens-if-you-use-the-32-bit-int-0x80-linux-abi-in-64-bit-code-1657388560485">What happens if you use the 32-bit int 0x80 Linux ABI in 64-bit code?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;I wrote my URL (actually IRI, internationalized) pattern to comply with RFC 3987 (\u0026lt;a href=\u0026quot;http://www.faqs.org/rfcs/rfc3987.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://www.faqs.org/rfcs/rfc3987.html\u0026lt;/a\u0026gt;). These are in PCRE syntax.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For absolute IRIs (internationalized):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-ruby\u0026quot;\u0026gt;/^[a-z](\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[-a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;\\+\\.])*\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\/\\/\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;%[0-9a-f]\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\\(\\)\\*\\+,;=:])*@)?(?:\\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;}\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;}[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;})\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;)|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;v[0-9a-f]+\\.[-a-z0-9\\._~!\\$\u0026amp;amp;\u0026apos;\\(\\)\\*\\+,;=:]+)\\]\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;}|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:%[0-9a-f][0-9a-f]\u0026lt;/span\u0026gt;|[-a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;\\._~\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D7FF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;F900\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDCF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDF0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FFEF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;}-\\x{1FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20000\u0026lt;/span\u0026gt;}-\\x{2FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30000\u0026lt;/span\u0026gt;}-\\x{3FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;40000\u0026lt;/span\u0026gt;}-\\x{4FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50000\u0026lt;/span\u0026gt;}-\\x{5FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;60000\u0026lt;/span\u0026gt;}-\\x{6FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;70000\u0026lt;/span\u0026gt;}-\\x{7FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;80000\u0026lt;/span\u0026gt;}-\\x{8FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;90000\u0026lt;/span\u0026gt;}-\\x{9FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;AFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;B0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;BFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;C0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;DFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;E1000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;EFFFD\u0026lt;/span\u0026gt;}!\\\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$\u0026amp;amp;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\(\\)\\*\\+,;=])*)(?::[0-9]*)?(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\u0026lt;/span\u0026gt;\\(\\)\\*\\+,;=\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;@]))*)*|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]\u0026lt;/span\u0026gt;|[-a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;\\._~\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D7FF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;F900\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDCF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDF0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FFEF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;}-\\x{1FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20000\u0026lt;/span\u0026gt;}-\\x{2FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30000\u0026lt;/span\u0026gt;}-\\x{3FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;40000\u0026lt;/span\u0026gt;}-\\x{4FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50000\u0026lt;/span\u0026gt;}-\\x{5FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;60000\u0026lt;/span\u0026gt;}-\\x{6FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;70000\u0026lt;/span\u0026gt;}-\\x{7FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;80000\u0026lt;/span\u0026gt;}-\\x{8FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;90000\u0026lt;/span\u0026gt;}-\\x{9FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;AFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;B0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;BFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;C0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;DFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;E1000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;EFFFD\u0026lt;/span\u0026gt;}!\\\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$\u0026amp;amp;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\u0026lt;/span\u0026gt;\\(\\)\\*\\+,;=\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;@]))*)*)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?|\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;%[0-9a-f]\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]\u0026lt;/span\u0026gt;|[-a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;\\._~\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D7FF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;F900\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDCF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDF0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FFEF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;}-\\x{1FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20000\u0026lt;/span\u0026gt;}-\\x{2FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30000\u0026lt;/span\u0026gt;}-\\x{3FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;40000\u0026lt;/span\u0026gt;}-\\x{4FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50000\u0026lt;/span\u0026gt;}-\\x{5FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;60000\u0026lt;/span\u0026gt;}-\\x{6FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;70000\u0026lt;/span\u0026gt;}-\\x{7FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;80000\u0026lt;/span\u0026gt;}-\\x{8FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;90000\u0026lt;/span\u0026gt;}-\\x{9FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;AFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;B0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;BFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;C0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;DFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;E1000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;EFFFD\u0026lt;/span\u0026gt;}!\\\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$\u0026amp;amp;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\(\\)\\*\\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\u0026lt;/span\u0026gt;\\(\\)\\*\\+,;=\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;@])))(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\?\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;%[0-9a-f]\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\\(\\)\\*\\+,;=:@])\u0026lt;/span\u0026gt;|[\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;E000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;F8FF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;F0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100000\u0026lt;/span\u0026gt;}-\\x{10FFFD}\\/\\\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?]\u0026lt;/span\u0026gt;)*)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\#\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;%[0-9a-f]\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\\(\\)\\*\\+,;=:@])\u0026lt;/span\u0026gt;|[\\/\\\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?]\u0026lt;/span\u0026gt;)*)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?$\u0026lt;/span\u0026gt;/i\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;To also allow relative IRIs:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-ruby\u0026quot;\u0026gt;/^(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[a-z](\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[-a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;\\+\\.])*\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\/\\/\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;%[0-9a-f]\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\\(\\)\\*\\+,;=:])*@)?(?:\\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;}\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;}[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;})\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;)|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;v[0-9a-f]+\\.[-a-z0-9\\._~!\\$\u0026amp;amp;\u0026apos;\\(\\)\\*\\+,;=:]+)\\]\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;}|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:%[0-9a-f][0-9a-f]\u0026lt;/span\u0026gt;|[-a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;\\._~\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D7FF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;F900\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDCF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDF0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FFEF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;}-\\x{1FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20000\u0026lt;/span\u0026gt;}-\\x{2FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30000\u0026lt;/span\u0026gt;}-\\x{3FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;40000\u0026lt;/span\u0026gt;}-\\x{4FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50000\u0026lt;/span\u0026gt;}-\\x{5FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;60000\u0026lt;/span\u0026gt;}-\\x{6FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;70000\u0026lt;/span\u0026gt;}-\\x{7FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;80000\u0026lt;/span\u0026gt;}-\\x{8FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;90000\u0026lt;/span\u0026gt;}-\\x{9FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;AFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;B0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;BFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;C0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;DFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;E1000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;EFFFD\u0026lt;/span\u0026gt;}!\\\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$\u0026amp;amp;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\(\\)\\*\\+,;=])*)(?::[0-9]*)?(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\u0026lt;/span\u0026gt;\\(\\)\\*\\+,;=\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;@]))*)*|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]\u0026lt;/span\u0026gt;|[-a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;\\._~\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D7FF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;F900\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDCF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDF0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FFEF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;}-\\x{1FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20000\u0026lt;/span\u0026gt;}-\\x{2FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30000\u0026lt;/span\u0026gt;}-\\x{3FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;40000\u0026lt;/span\u0026gt;}-\\x{4FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50000\u0026lt;/span\u0026gt;}-\\x{5FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;60000\u0026lt;/span\u0026gt;}-\\x{6FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;70000\u0026lt;/span\u0026gt;}-\\x{7FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;80000\u0026lt;/span\u0026gt;}-\\x{8FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;90000\u0026lt;/span\u0026gt;}-\\x{9FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;AFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;B0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;BFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;C0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;DFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;E1000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;EFFFD\u0026lt;/span\u0026gt;}!\\\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$\u0026amp;amp;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\u0026lt;/span\u0026gt;\\(\\)\\*\\+,;=\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;@]))*)*)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?|\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;%[0-9a-f]\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]\u0026lt;/span\u0026gt;|[-a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;\\._~\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D7FF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;F900\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDCF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDF0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FFEF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;}-\\x{1FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20000\u0026lt;/span\u0026gt;}-\\x{2FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30000\u0026lt;/span\u0026gt;}-\\x{3FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;40000\u0026lt;/span\u0026gt;}-\\x{4FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50000\u0026lt;/span\u0026gt;}-\\x{5FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;60000\u0026lt;/span\u0026gt;}-\\x{6FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;70000\u0026lt;/span\u0026gt;}-\\x{7FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;80000\u0026lt;/span\u0026gt;}-\\x{8FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;90000\u0026lt;/span\u0026gt;}-\\x{9FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;AFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;B0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;BFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;C0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;DFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;E1000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;EFFFD\u0026lt;/span\u0026gt;}!\\\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$\u0026amp;amp;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\(\\)\\*\\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\u0026lt;/span\u0026gt;\\(\\)\\*\\+,;=\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;@])))(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\?\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;%[0-9a-f]\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\\(\\)\\*\\+,;=:@])\u0026lt;/span\u0026gt;|[\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;E000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;F8FF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;F0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100000\u0026lt;/span\u0026gt;}-\\x{10FFFD}\\/\\\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?]\u0026lt;/span\u0026gt;)*)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\#\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;%[0-9a-f]\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\\(\\)\\*\\+,;=:@])\u0026lt;/span\u0026gt;|[\\/\\\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?]\u0026lt;/span\u0026gt;)*)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?|\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\/\\/\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;%[0-9a-f]\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\\(\\)\\*\\+,;=:])*@)?(?:\\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;}\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;}[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;})\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;)|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;v[0-9a-f]+\\.[-a-z0-9\\._~!\\$\u0026amp;amp;\u0026apos;\\(\\)\\*\\+,;=:]+)\\]\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[1-9][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4][0-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;}|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:%[0-9a-f][0-9a-f]\u0026lt;/span\u0026gt;|[-a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;\\._~\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D7FF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;F900\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDCF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDF0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FFEF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;}-\\x{1FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20000\u0026lt;/span\u0026gt;}-\\x{2FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30000\u0026lt;/span\u0026gt;}-\\x{3FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;40000\u0026lt;/span\u0026gt;}-\\x{4FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50000\u0026lt;/span\u0026gt;}-\\x{5FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;60000\u0026lt;/span\u0026gt;}-\\x{6FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;70000\u0026lt;/span\u0026gt;}-\\x{7FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;80000\u0026lt;/span\u0026gt;}-\\x{8FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;90000\u0026lt;/span\u0026gt;}-\\x{9FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;AFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;B0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;BFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;C0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;DFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;E1000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;EFFFD\u0026lt;/span\u0026gt;}!\\\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$\u0026amp;amp;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\(\\)\\*\\+,;=])*)(?::[0-9]*)?(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\u0026lt;/span\u0026gt;\\(\\)\\*\\+,;=\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;@]))*)*|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]\u0026lt;/span\u0026gt;|[-a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;\\._~\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D7FF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;F900\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDCF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDF0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FFEF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;}-\\x{1FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20000\u0026lt;/span\u0026gt;}-\\x{2FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30000\u0026lt;/span\u0026gt;}-\\x{3FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;40000\u0026lt;/span\u0026gt;}-\\x{4FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50000\u0026lt;/span\u0026gt;}-\\x{5FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;60000\u0026lt;/span\u0026gt;}-\\x{6FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;70000\u0026lt;/span\u0026gt;}-\\x{7FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;80000\u0026lt;/span\u0026gt;}-\\x{8FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;90000\u0026lt;/span\u0026gt;}-\\x{9FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;AFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;B0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;BFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;C0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;DFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;E1000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;EFFFD\u0026lt;/span\u0026gt;}!\\\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$\u0026amp;amp;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\u0026lt;/span\u0026gt;\\(\\)\\*\\+,;=\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;@]))*)*)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?|\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;%[0-9a-f]\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\\(\\)\\*\\+,;=@])+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]\u0026lt;/span\u0026gt;|[-a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;\\._~\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D7FF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;F900\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDCF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FDF0\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FFEF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;}-\\x{1FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20000\u0026lt;/span\u0026gt;}-\\x{2FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30000\u0026lt;/span\u0026gt;}-\\x{3FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;40000\u0026lt;/span\u0026gt;}-\\x{4FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50000\u0026lt;/span\u0026gt;}-\\x{5FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;60000\u0026lt;/span\u0026gt;}-\\x{6FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;70000\u0026lt;/span\u0026gt;}-\\x{7FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;80000\u0026lt;/span\u0026gt;}-\\x{8FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;90000\u0026lt;/span\u0026gt;}-\\x{9FFFD}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;A0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;AFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;B0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;BFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;C0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;D0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;DFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;E1000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;EFFFD\u0026lt;/span\u0026gt;}!\\\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$\u0026amp;amp;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\(\\)\\*\\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\u0026lt;/span\u0026gt;\\(\\)\\*\\+,;=\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;@])))(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\?\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;%[0-9a-f]\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\\(\\)\\*\\+,;=:@])\u0026lt;/span\u0026gt;|[\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;E000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;F8FF\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;F0000\u0026lt;/span\u0026gt;}-\\x{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FFFFD\u0026lt;/span\u0026gt;}\\x{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100000\u0026lt;/span\u0026gt;}-\\x{10FFFD}\\/\\\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?]\u0026lt;/span\u0026gt;)*)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\#\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;%[0-9a-f]\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-9a-f]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$\u0026amp;amp;\u0026apos;\\(\\)\\*\\+,;=:@])\u0026lt;/span\u0026gt;|[\\/\\\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?]\u0026lt;/span\u0026gt;)*)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?)\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$/\u0026lt;/span\u0026gt;i\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;How they were compiled (in PHP):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;?php\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* Regex convenience functions (character class, non-capturing group) */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$str\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$suffix\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$negate\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;[\u0026apos;\u0026lt;/span\u0026gt; . (\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$negate\u0026lt;/span\u0026gt; ? \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;^\u0026apos;\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$str\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;]\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$suffix\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$str\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$suffix\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;(?:\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$str\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;)\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$suffix\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* Preserved from RFC3986 */\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ALPHA\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a-z\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$DIGIT\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;0-9\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$HEXDIG\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$DIGIT\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a-f\u0026apos;\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sub_delims\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;!\\\\$\u0026amp;amp;\\\u0026apos;\\\\(\\\\)\\\\*\\\\+,;=\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$gen_delims\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\\\\/\\\\?\\\\#\\\\[\\\\]@\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$reserved\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$gen_delims\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sub_delims\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$unreserved\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ALPHA\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$DIGIT\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\._~\u0026apos;\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pct_encoded\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;%\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$HEXDIG\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$HEXDIG\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$dec_octet\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;implode\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\n    \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$DIGIT\u0026lt;/span\u0026gt;),\n    \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;1-9\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$DIGIT\u0026lt;/span\u0026gt;),\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;1\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$DIGIT\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$DIGIT\u0026lt;/span\u0026gt;),\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;0-4\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$DIGIT\u0026lt;/span\u0026gt;),\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;25\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;0-5\u0026apos;\u0026lt;/span\u0026gt;)\n)));\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IPv4address\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$dec_octet\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\.\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$dec_octet\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;{3}\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$HEXDIG\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;{1,4}\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ls32\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IPv4address\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IPv6address\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;implode\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\n    \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;{6}\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ls32\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;::\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;{5}\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ls32\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;::\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;{4}\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ls32\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;::\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;{3}\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ls32\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;{0,2}\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;::\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;{2}\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ls32\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;{0,3}\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;::\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ls32\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;{0,4}\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;::\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ls32\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;{0,5}\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;::\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;{0,6}\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$h16\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;::\u0026apos;\u0026lt;/span\u0026gt;,\n)));\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IPvFuture\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;v\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$HEXDIG\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;+\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$unreserved\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sub_delims\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;+\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IP_literal\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\[\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;implode\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IPv6address\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IPvFuture\u0026lt;/span\u0026gt;))) . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\]\u0026apos;\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$port\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$DIGIT\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$scheme\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ALPHA\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ALPHA\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$DIGIT\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\+\\\\.\u0026apos;\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* New or changed in RFC3987 */\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$iprivate\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\x{E000}-\\x{F8FF}\\x{F0000}-\\x{FFFFD}\\x{100000}-\\x{10FFFD}\u0026apos;\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ucschar\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\u0026apos;\u0026lt;/span\u0026gt; .\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\u0026apos;\u0026lt;/span\u0026gt; .\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\u0026apos;\u0026lt;/span\u0026gt; .\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\u0026apos;\u0026lt;/span\u0026gt; .\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\u0026apos;\u0026lt;/span\u0026gt; .\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}\u0026apos;\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$iunreserved\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ALPHA\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$DIGIT\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\._~\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ucschar\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipchar\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pct_encoded\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$iunreserved\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sub_delims\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:@\u0026apos;\u0026lt;/span\u0026gt;));\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ifragment\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipchar\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\/\\\\?\u0026apos;\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$iquery\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipchar\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$iprivate\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\/\\\\?\u0026apos;\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$isegment_nz_nc\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pct_encoded\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$iunreserved\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sub_delims\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;@\u0026apos;\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;+\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$isegment_nz\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipchar\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;+\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$isegment\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipchar\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_empty\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;(?!\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipchar\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;)\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_rootless\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$isegment_nz\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\/\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$isegment\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_noscheme\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$isegment_nz_nc\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\/\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$isegment\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_absolute\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\/\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_rootless\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?\u0026apos;\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Spec says isegment-nz *( \u0026quot;/\u0026quot; isegment )\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_abempty\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\/\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$isegment\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;implode\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_abempty\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_absolute\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_noscheme\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_rootless\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_empty\u0026lt;/span\u0026gt;\n))) . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;)\u0026apos;\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ireg_name\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pct_encoded\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$iunreserved\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sub_delims\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;@\u0026apos;\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ihost\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;implode\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IP_literal\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IPv4address\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ireg_name\u0026lt;/span\u0026gt;)));\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$iuserinfo\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pct_encoded\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;cc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$iunreserved\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sub_delims\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$iauthority\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$iuserinfo\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;@\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ihost\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$port\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$irelative_part\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;implode\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\/\\\\/\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$iauthority\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_abempty\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_absolute\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_noscheme\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_empty\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;\n)));\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$irelative_ref\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$irelative_part\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\?\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$iquery\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\#\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ifragment\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ihier_part\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;implode\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\/\\\\/\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$iauthority\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_abempty\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_absolute\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_rootless\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ipath_empty\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;\n)));\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$absolute_IRI\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$scheme\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ihier_part\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\?\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$iquery\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IRI\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$scheme\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ihier_part\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\?\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$iquery\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?\u0026apos;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\#\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ifragment\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IRI_reference\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ncg\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IRI\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|\u0026apos;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$irelative_ref\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Edit 7 March 2011: Because of the way PHP handles backslashes in quoted strings, these are unusable by default. You\u0026apos;ll need to double-escape backslashes except where the backslash has a special meaning in regex. You can do that this way:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$escape_backslash\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/(?\u0026amp;lt;!\\\\)\\\\(?![\\[\\]\\\\\\^\\$\\.\\|\\*\\+\\(\\)QEnrtaefvdwsDWSbAZzB1-9GX]|x\\{[0-9a-f]{1,4}\\}|\\c[A-Z]|)/\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$absolute_IRI\u0026lt;/span\u0026gt; = preg_replace(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$escape_backslash\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\\\\\\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$absolute_IRI\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IRI\u0026lt;/span\u0026gt; = preg_replace(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$escape_backslash\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\\\\\\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IRI\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IRI_reference\u0026lt;/span\u0026gt; = preg_replace(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$escape_backslash\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\\\\\\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IRI_reference\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I\u0026apos;ve just written up a blog post for a great solution for recognizing URLs in most used formats such as:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;www.google.com\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;http://www.google.com\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;mailto:somebody@google.com\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;somebody@google.com\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;www.url-with-querystring.com/?url=has-querystring\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;The regular expression used is:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-ruby\u0026quot;\u0026gt;/((([A-Za-z]{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;}\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\/\\/\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?)\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[-;\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026amp;amp;\u0026lt;/span\u0026gt;=\\+\\\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$,\u0026lt;/span\u0026gt;\\w]+@)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?[\u0026lt;/span\u0026gt;A-Za-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;.-]+|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(?:www.\u0026lt;/span\u0026gt;|[-;\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026amp;amp;\u0026lt;/span\u0026gt;=\\+\\\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$,\u0026lt;/span\u0026gt;\\w]+@)[A-Za-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;.-]+)((\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\/\u0026lt;/span\u0026gt;[\\+~%\\/.\\w-_]*)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?\\?\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[-\\+=\u0026amp;amp;;%@.\\w_]*)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#?(?:[\\w]*))?)/\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;What platform? If using .NET, use \u0026lt;a href=\u0026quot;http://msdn.microsoft.com/en-us/library/system.uri.trycreate\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;System.Uri.TryCreate\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;, not a regex.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For example:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;bool\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;IsValidUrl\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt; urlString\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\n{\n    Uri uri;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; Uri.TryCreate(urlString, UriKind.Absolute, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;out\u0026lt;/span\u0026gt; uri)\n        \u0026amp;amp;\u0026amp;amp; (uri.Scheme == Uri.UriSchemeHttp\n         || uri.Scheme == Uri.UriSchemeHttps\n         || uri.Scheme == Uri.UriSchemeFtp\n         || uri.Scheme == Uri.UriSchemeMailto\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/*...*/\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// In test fixture...\u0026lt;/span\u0026gt;\n\n[\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;Test\u0026lt;/span\u0026gt;]\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;IsValidUrl_Test\u0026lt;/span\u0026gt;()\u0026lt;/span\u0026gt;\n{\n    Assert.True(IsValidUrl(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://www.example.com\u0026quot;\u0026lt;/span\u0026gt;));\n    Assert.False(IsValidUrl(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;javascript:alert(\u0026apos;xss\u0026apos;)\u0026quot;\u0026lt;/span\u0026gt;));\n    Assert.False(IsValidUrl(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;));\n    Assert.False(IsValidUrl(\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;));\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;(Thanks to \u0026lt;a href=\u0026quot;https://stackoverflow.com/users/450141/yoshi\u0026quot;\u0026gt;@Yoshi\u0026lt;/a\u0026gt; for the tip about \u0026lt;code\u0026gt;javascript:\u0026lt;/code\u0026gt;)\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here\u0026apos;s what \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/RegexBuddy\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;RegexBuddy\u0026lt;/a\u0026gt; uses.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-ruby\u0026quot;\u0026gt;(\\b(https?|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;ftp\u0026lt;/span\u0026gt;|file)\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;://\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?[\u0026lt;/span\u0026gt;-A-Za-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;+\u0026amp;amp;@\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#/%?=~_|!:,.;]+[-A-Za-z0-9+\u0026amp;amp;@#/%=~_|]\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;It matches these below (inside the \u0026lt;code\u0026gt;** **\u0026lt;/code\u0026gt; marks):  \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;**http://www.regexbuddy.com**  \n**http://www.regexbuddy.com/**  \n**http://www.regexbuddy.com/index.html**  \n**http://www.regexbuddy.com/index.html?\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;source\u0026lt;/span\u0026gt;=library**  \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You can download RegexBuddy at \u0026lt;strong\u0026gt;\u0026lt;a href=\u0026quot;http://www.regexbuddy.com/download.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://www.regexbuddy.com/download.html\u0026lt;/a\u0026gt;\u0026lt;/strong\u0026gt;. \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Mathias Bynens has a great article on the best comparison of a lot of regular expressions: \u0026lt;a href=\u0026quot;http://mathiasbynens.be/demo/url-regex\u0026quot;\u0026gt;In search of the perfect URL validation regex\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://gist.github.com/729294\u0026quot;\u0026gt;The best one posted\u0026lt;/a\u0026gt; is a little long, but it matches just about anything you can throw at it.\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;JavaScript version\u0026lt;/h3\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-ruby\u0026quot;\u0026gt;/^(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;https?|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;127\u0026lt;/span\u0026gt;)(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\\d\u0026lt;/span\u0026gt;{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;}){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?!\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;169\u0026lt;/span\u0026gt;\\.\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;254\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;\\d|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\\d\\d|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[01]\\d\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;22\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;?\\d{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;}|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;2[0-4]\\d\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])){\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;}(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]\\d?|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;1\\d\\d\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;]\\d|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;25[0-4]))\u0026lt;/span\u0026gt;|(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[a-z\\u00a1-\\uffff0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]-*)*[a-z\\u00a1-\\uffff0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]+)(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[a-z\\u00a1-\\uffff0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]-*)*[a-z\\u00a1-\\uffff0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]+)*(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\.\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[a-z\\u00a1-\\uffff]{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,}))\\.\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?)\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;\\d{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;})\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/?#]\\S*)?$/i\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h3\u0026gt;PHP version\u0026lt;/h3\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-perl\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;_\u0026lt;/span\u0026gt;^(?:(?:https?|ftp):\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;//\u0026lt;/span\u0026gt;)(?:\\S+(?::\\S*)?@)?(?:(?!(?:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;127\u0026lt;/span\u0026gt;)(?:\\.\\d{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;{3}\u0026lt;/span\u0026gt;)(?!(?:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;169\u0026lt;/span\u0026gt;\\.\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;254\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;192\u0026lt;/span\u0026gt;\\.\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;168\u0026lt;/span\u0026gt;)(?:\\.\\d{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;{2}\u0026lt;/span\u0026gt;)(?!\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;172\u0026lt;/span\u0026gt;\\.(?:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;\\d|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;])(?:\\.\\d{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;})\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;{2}\u0026lt;/span\u0026gt;)(?:[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]\\d?|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\\d\\d|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;01\u0026lt;/span\u0026gt;]\\d|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;22\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;])(?:\\.(?:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;?\\d{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;}|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;]\\d|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;]))\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;{2}\u0026lt;/span\u0026gt;(?:\\.(?:[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]\\d?|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\\d\\d|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;]\\d|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;]))|(?:(?:[a-z\\\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;{00a1}\u0026lt;/span\u0026gt;-\\\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;{ffff}\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]-*)*[a-z\\\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;{00a1}\u0026lt;/span\u0026gt;-\\\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;{ffff}\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]+)(?:\\.(?:[a-z\\\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;{00a1}\u0026lt;/span\u0026gt;-\\\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;{ffff}\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]-*)*[a-z\\\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;{00a1}\u0026lt;/span\u0026gt;-\\\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;{ffff}\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]+)*(?:\\.(?:[a-z\\\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;{00a1}\u0026lt;/span\u0026gt;-\\\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;{ffff}\u0026lt;/span\u0026gt;]{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,}))\\.?)(?::\\d{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;})?(?:[/?\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#]\\S*)?$_iuS\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;With regard to \u0026lt;strong\u0026gt;eyelidness\u0026lt;/strong\u0026gt;\u0026apos; answer post that reads \u0026quot;This is based on my reading of the URI specification.\u0026quot;: Thanks Eyelidness, yours is the perfect solution I sought, as it is based on the URI spec! Superb work. :)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I had to make two amendments. The first to get the regexp to match IP address URLs correctly in PHP (v5.2.10) with the preg_match() function.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I had to add one more set of parenthesis to the line above \u0026quot;IP Address\u0026quot; around the pipes:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;)|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}(?\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Not sure why.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I have also reduced the top level domain minimum length from 3 to 2 letters to support .co.uk and similar.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Final code:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;/^(https?|ftp):\\/\\/(?\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#                                      protocol\u0026lt;/span\u0026gt;\n)(([a-z0-9\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$_\u0026lt;/span\u0026gt;\\.\\+!\\*\\\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\(\\),;\\?\u0026amp;amp;=-]|%[0-9a-f]{2})+(?#         username\n)(:([a-z0-9$_\\.\\+!\\*\\\u0026apos;\u0026lt;/span\u0026gt;\\(\\),;\\?\u0026amp;amp;=-]|%[0-9a-f]{2})+)?(?\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#      password\u0026lt;/span\u0026gt;\n)@)?(?\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#                                                     auth requires @\u0026lt;/span\u0026gt;\n)((([a-z0-9]\\.|[a-z0-9][a-z0-9-]*[a-z0-9]\\.)*(?\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#             domain segments AND\u0026lt;/span\u0026gt;\n)[a-z][a-z0-9-]*[a-z0-9](?\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#                                 top level domain  OR\u0026lt;/span\u0026gt;\n)|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}(?\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#\u0026lt;/span\u0026gt;\n    )(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#             IP address\u0026lt;/span\u0026gt;\n))(:\\d+)?(?\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#                                                port\u0026lt;/span\u0026gt;\n))(((\\/+([a-z0-9\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$_\u0026lt;/span\u0026gt;\\.\\+!\\*\\\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\(\\),;:@\u0026amp;amp;=-]|%[0-9a-f]{2})*)*(?# path\n)(\\?([a-z0-9$_\\.\\+!\\*\\\u0026apos;\u0026lt;/span\u0026gt;\\(\\),;:@\u0026amp;amp;=-]|%[0-9a-f]{2})*)(?\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#      query string\u0026lt;/span\u0026gt;\n)?)?)?(?\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#                                                   path and query string optional\u0026lt;/span\u0026gt;\n)(\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#([a-z0-9$_\\.\\+!\\*\\\u0026apos;\\(\\),;:@\u0026amp;amp;=-]|%[0-9a-f]{2})*)?(?#      fragment\u0026lt;/span\u0026gt;\n)$/i\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This modified version was not checked against the URI specification so I can\u0026apos;t vouch for it\u0026apos;s compliance, it was altered to handle URLs on local network environments and two digit TLDs as well as other kinds of Web URL, and to work better in the PHP setup I use.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;As \u0026lt;strong\u0026gt;PHP\u0026lt;/strong\u0026gt; code:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-dart\u0026quot;\u0026gt;define(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;URL_FORMAT\u0026apos;\u0026lt;/span\u0026gt;, \n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/^(https?):\\/\\/\u0026apos;\u0026lt;/span\u0026gt;.                                         \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// protocol\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;(([a-z0-9\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$_\u0026lt;/span\u0026gt;\\.\\+!\\*\\\u0026apos;\\(\\),;\\?\u0026amp;amp;=-]|%[0-9a-f]{2})+\u0026apos;\u0026lt;/span\u0026gt;.         \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// username\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;(:([a-z0-9\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$_\u0026lt;/span\u0026gt;\\.\\+!\\*\\\u0026apos;\\(\\),;\\?\u0026amp;amp;=-]|%[0-9a-f]{2})+)?\u0026apos;\u0026lt;/span\u0026gt;.      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// password\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;@)?(?#\u0026apos;\u0026lt;/span\u0026gt;.                                                  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// auth requires @\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;)((([a-z0-9]\\.|[a-z0-9][a-z0-9-]*[a-z0-9]\\.)*\u0026apos;\u0026lt;/span\u0026gt;.                      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// domain segments AND\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;[a-z][a-z0-9-]*[a-z0-9]\u0026apos;\u0026lt;/span\u0026gt;.                                 \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// top level domain  OR\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}\u0026apos;\u0026lt;/span\u0026gt;.\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\u0026apos;\u0026lt;/span\u0026gt;.                 \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// IP address\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;)(:\\d+)?\u0026apos;\u0026lt;/span\u0026gt;.                                                \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// port\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;)(((\\/+([a-z0-9\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$_\u0026lt;/span\u0026gt;\\.\\+!\\*\\\u0026apos;\\(\\),;:@\u0026amp;amp;=-]|%[0-9a-f]{2})*)*\u0026apos;\u0026lt;/span\u0026gt;. \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// path\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;(\\?([a-z0-9\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$_\u0026lt;/span\u0026gt;\\.\\+!\\*\\\u0026apos;\\(\\),;:@\u0026amp;amp;=-]|%[0-9a-f]{2})*)\u0026apos;\u0026lt;/span\u0026gt;.      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// query string\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?)?)?\u0026apos;\u0026lt;/span\u0026gt;.                                                   \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// path and query string optional\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;(#([a-z0-9\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$_\u0026lt;/span\u0026gt;\\.\\+!\\*\\\u0026apos;\\(\\),;:@\u0026amp;amp;=-]|%[0-9a-f]{2})*)?\u0026apos;\u0026lt;/span\u0026gt;.      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// fragment\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;$/i\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Here is a test program in PHP which validates a variety of URLs using the regex:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;?php\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;URL_FORMAT\u0026apos;\u0026lt;/span\u0026gt;,\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/^(https?):\\/\\/\u0026apos;\u0026lt;/span\u0026gt;.                                         // protocol\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;(([a-z0-9$_\\.\\+!\\*\\\u0026apos;\\(\\),;\\?\u0026amp;amp;=-]|%[0-9a-f]{2})+\u0026apos;\u0026lt;/span\u0026gt;.         // username\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;(:([a-z0-9$_\\.\\+!\\*\\\u0026apos;\\(\\),;\\?\u0026amp;amp;=-]|%[0-9a-f]{2})+)?\u0026apos;\u0026lt;/span\u0026gt;.      // password\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;@)?(?#\u0026apos;\u0026lt;/span\u0026gt;.                                                  // auth requires @\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;)((([a-z0-9]\\.|[a-z0-9][a-z0-9-]*[a-z0-9]\\.)*\u0026apos;\u0026lt;/span\u0026gt;.                      // domain segments AND\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;[a-z][a-z0-9-]*[a-z0-9]\u0026apos;\u0026lt;/span\u0026gt;.                                 // top level domain  OR\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}\u0026apos;\u0026lt;/span\u0026gt;.\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\u0026apos;\u0026lt;/span\u0026gt;.                 // IP address\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;)(:\\d+)?\u0026apos;\u0026lt;/span\u0026gt;.                                                // port\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;)(((\\/+([a-z0-9$_\\.\\+!\\*\\\u0026apos;\\(\\),;:@\u0026amp;amp;=-]|%[0-9a-f]{2})*)*\u0026apos;\u0026lt;/span\u0026gt;. // path\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;(\\?([a-z0-9$_\\.\\+!\\*\\\u0026apos;\\(\\),;:@\u0026amp;amp;=-]|%[0-9a-f]{2})*)\u0026apos;\u0026lt;/span\u0026gt;.      // query \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?)?)?\u0026apos;\u0026lt;/span\u0026gt;.                                                   // path \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;and\u0026lt;/span\u0026gt; query \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt; optional\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;(#([a-z0-9$_\\.\\+!\\*\\\u0026apos;\\(\\),;:@\u0026amp;amp;=-]|%[0-9a-f]{2})*)?\u0026apos;\u0026lt;/span\u0026gt;.      // fragment\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;$/i\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/**\n * Verify the syntax of the given URL. \n * \n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@access\u0026lt;/span\u0026gt; public\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@param\u0026lt;/span\u0026gt; $url The URL to verify.\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@return\u0026lt;/span\u0026gt; boolean\n */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;is_valid_url\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$url\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;str_starts_with\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;strtolower\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$url\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;http://localhost\u0026apos;\u0026lt;/span\u0026gt;)) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n  }\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;preg_match\u0026lt;/span\u0026gt;(URL_FORMAT, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$url\u0026lt;/span\u0026gt;);\n}\n\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/**\n * String starts with something\n * \n * This function will return true only if input string starts with\n * niddle\n * \n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@param\u0026lt;/span\u0026gt; string $string Input string\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@param\u0026lt;/span\u0026gt; string $niddle Needle string\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@return\u0026lt;/span\u0026gt; boolean\n */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;str_starts_with\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$string\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$niddle\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$string\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;strlen\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$niddle\u0026lt;/span\u0026gt;)) == \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$niddle\u0026lt;/span\u0026gt;;\n}\n\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/**\n * Test a URL for validity and count results.\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@param\u0026lt;/span\u0026gt; url url\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@param\u0026lt;/span\u0026gt; expected expected result (true or false)\n */\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$numtests\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$passed\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;test_url\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$url\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$expected\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;global\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$numtests\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$passed\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$numtests\u0026lt;/span\u0026gt;++;\n  \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$valid\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;is_valid_url\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$url\u0026lt;/span\u0026gt;);\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;URL Valid?: \u0026quot;\u0026lt;/span\u0026gt; . (\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$valid\u0026lt;/span\u0026gt;?\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;yes\u0026quot;\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;no\u0026quot;\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; for URL: \u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$url\u0026lt;/span\u0026gt;. Expected: \u0026quot;\u0026lt;/span\u0026gt;.(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$expected\u0026lt;/span\u0026gt;?\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;yes\u0026quot;\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;no\u0026quot;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;. \u0026quot;\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$valid\u0026lt;/span\u0026gt; == \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$expected\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;PASS\\n\u0026quot;\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$passed\u0026lt;/span\u0026gt;++;\n  } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;FAIL\\n\u0026quot;\u0026lt;/span\u0026gt;;\n  }\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;URL Tests:\\n\\n\u0026quot;\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;test_url\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://localserver/projects/public/assets/javascript/widgets/UserBoxMenu/widget.css\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;test_url\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://www.google.com\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;test_url\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://www.google.co.uk/projects/my%20folder/test.php\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;test_url\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;https://myserver.localdomain\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;test_url\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://192.168.1.120/projects/index.php\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;test_url\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://192.168.1.1/projects/index.php\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;test_url\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://projectpier-server.localdomain/projects/public/assets/javascript/widgets/UserBoxMenu/widget.css\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;test_url\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;https://2.4.168.19/project-pier?c=test\u0026amp;amp;a=b\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;test_url\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;https://localhost/a/b/c/test.php?c=controller\u0026amp;amp;arg1=20\u0026amp;amp;arg2=20\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;test_url\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://user:password@localhost/a/b/c/test.php?c=controller\u0026amp;amp;arg1=20\u0026amp;amp;arg2=20\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\\n\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$passed\u0026lt;/span\u0026gt; out of \u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$numtests\u0026lt;/span\u0026gt; tests passed.\\n\\n\u0026quot;\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;?\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Thanks again to \u0026lt;strong\u0026gt;eyelidness\u0026lt;/strong\u0026gt; for the regex!\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The post \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/27745/getting-parts-of-a-url-regex#27755\u0026quot;\u0026gt;Getting parts of a URL (Regex)\u0026lt;/a\u0026gt; discusses parsing a URL to identify its various components. If you want to check if a URL is well-formed, it should be sufficient for your needs.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you need to check if it\u0026apos;s actually valid, you\u0026apos;ll eventually have to try to access whatever\u0026apos;s on the other end.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In general, though, you\u0026apos;d probably be better off using a function that\u0026apos;s supplied to you by your framework or another library. Many platforms include functions that parse URLs. For example, there\u0026apos;s Python\u0026apos;s \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/urllib.parse.html\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;urlparse\u0026lt;/a\u0026gt; module, and in .NET you could use the \u0026lt;a href=\u0026quot;http://msdn.microsoft.com/en-us/library/aa332621.aspx\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;System.Uri class\u0026apos;s constructor\u0026lt;/a\u0026gt; as a means of validating the URL.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;This might not be a job for regexes, but for existing tools in your language of choice.\u0026lt;/strong\u0026gt;  You probably want to use existing code that has already been written, tested, and debugged.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In PHP, use the \u0026lt;a href=\u0026quot;http://php.net/manual/en/function.parse-url.php\u0026quot;\u0026gt;\u0026lt;code\u0026gt;parse_url\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; function.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Perl: \u0026lt;a href=\u0026quot;http://search.cpan.org/dist/URI/\u0026quot;\u0026gt;\u0026lt;code\u0026gt;URI\u0026lt;/code\u0026gt; module\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Ruby: \u0026lt;a href=\u0026quot;http://www.ruby-doc.org/stdlib-1.9.3/libdoc/uri/rdoc/URI.html\u0026quot;\u0026gt;\u0026lt;code\u0026gt;URI\u0026lt;/code\u0026gt; module\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;.NET: \u0026lt;a href=\u0026quot;http://msdn.microsoft.com/en-us/library/txt7706a.aspx\u0026quot;\u0026gt;\u0026apos;Uri\u0026apos; class\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Regexes are not a magic wand you wave at every problem that happens to involve strings.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This will match all URLs\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;with or without \u0026lt;em\u0026gt;http\u0026lt;/em\u0026gt;/\u0026lt;em\u0026gt;https\u0026lt;/em\u0026gt;   \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;with or without \u0026lt;em\u0026gt;www\u0026lt;/em\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;...including sub-domains and those new top-level domain name extensions such as \n  .\u0026lt;em\u0026gt;museum\u0026lt;/em\u0026gt;, \n  .\u0026lt;em\u0026gt;academy\u0026lt;/em\u0026gt;, \n  .\u0026lt;em\u0026gt;foundation\u0026lt;/em\u0026gt;\n  etc. which can have up to 63 characters (not just .\u0026lt;em\u0026gt;com\u0026lt;/em\u0026gt;, .\u0026lt;em\u0026gt;net\u0026lt;/em\u0026gt;, .\u0026lt;em\u0026gt;info\u0026lt;/em\u0026gt; etc.)\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-ruby\u0026quot;\u0026gt;(([\\w]+\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?/\u0026lt;/span\u0026gt;/)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;([\\d\\w]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;%[a-fA-f\\d]{2,2})+(:([\\d\\w]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;%[a-fA-f\\d]\u0026lt;/span\u0026gt;{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;})+)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?@\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;[\\d\\w][-\\d\\w]{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;253\u0026lt;/span\u0026gt;}[\\d\\w]\\.)+[\\w]{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;63\u0026lt;/span\u0026gt;}(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;[\\d]+)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;/([-+_~.\\d\\w]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;%[a-fA-f\\d]{2,2})*)*(\\?(\u0026amp;amp;?([-+_~.\\d\\w]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;%[a-fA-f\\d]\u0026lt;/span\u0026gt;{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;})=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?)\u0026lt;/span\u0026gt;*)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Because today maximum length of the available top-level domain name extension is 13 characters such as .\u0026lt;em\u0026gt;international\u0026lt;/em\u0026gt;, you can change the number 63 in expression to 13 to prevent someone misusing it.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;as javascript\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; urlreg=\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,63}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(\u0026amp;amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?/\u0026lt;/span\u0026gt;;\n\n$(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;textarea\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;input\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; url = $(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;val\u0026lt;/span\u0026gt;();\n  $(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toggleClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;invalid\u0026apos;\u0026lt;/span\u0026gt;, urlreg.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;test\u0026lt;/span\u0026gt;(url) == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;)\n});\n\n$(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;textarea\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;trigger\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;input\u0026apos;\u0026lt;/span\u0026gt;);\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;textarea\u0026lt;/span\u0026gt;{\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;color\u0026lt;/span\u0026gt;:green;}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.invalid\u0026lt;/span\u0026gt;{\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;color\u0026lt;/span\u0026gt;:red;}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;src\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;textarea\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;http://www.google.com\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;textarea\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;textarea\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;http//www.google.com\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;textarea\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;textarea\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;googlecom\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;textarea\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;textarea\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;https://www.google.com\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;textarea\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif1\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Wikipedia Article: \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/List_of_Internet_top-level_domains\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;List of all internet top-level domains\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h1\u0026gt;Non-validating URI-reference Parser\u0026lt;/h1\u0026gt;\n\u0026lt;p\u0026gt;For reference purposes, here\u0026apos;s the IETF Spec: (\u0026lt;a href=\u0026quot;http://www.ietf.org/rfc/rfc3986.txt\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;TXT\u0026lt;/a\u0026gt; | \u0026lt;a href=\u0026quot;https://www.rfc-editor.org/rfc/rfc3986#appendix-B\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;HTML\u0026lt;/a\u0026gt;). In particular, \u0026lt;em\u0026gt;Appendix B. \u0026lt;strong\u0026gt;Parsing\u0026lt;/strong\u0026gt; a URI Reference with a Regular Expression\u0026lt;/em\u0026gt; demonstrates how to parse a \u0026lt;strong\u0026gt;valid regex\u0026lt;/strong\u0026gt;. This is described as,\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;for an example of a non-validating URI-reference parser that will take any given string and extract the URI components.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;Here\u0026apos;s the regex they provide:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-ruby\u0026quot;\u0026gt; ^(([^\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:/\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?#\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;]+)\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;/\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/([^/\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?#\u0026lt;/span\u0026gt;]*))\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;[^\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?#\u0026lt;/span\u0026gt;]*)(\\\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;[^\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#]*))?(#(.*))?\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;As someone else said, it\u0026apos;s probably best to leave this to a lib/framework you\u0026apos;re already using.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)?\u0026lt;span class=\u0026quot;hljs-selector-attr\u0026quot;\u0026gt;[a-z0-9]\u0026lt;/span\u0026gt;+([\\-\\.]{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;}[a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]+)*\\.\u0026lt;span class=\u0026quot;hljs-selector-attr\u0026quot;\u0026gt;[a-z]\u0026lt;/span\u0026gt;{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;}(:[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;]{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;})?(\\/.*)?$\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;live demo: \u0026lt;a href=\u0026quot;https://regex101.com/r/HUNasA/2\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://regex101.com/r/HUNasA/2\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I have tested various expressions to match my requirements. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;As a user I can hit browser search bar with following strings:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;valid urls\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://www.google.com\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://www.google.com\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://www.google.com\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://www.google.com\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://google.com/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://google.com/\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://google.com/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://google.com/\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;www.google.com\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;google.com\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://www.google.com.ua\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://www.google.com.ua\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://www.google.com.ua\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://www.google.com.ua\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://google.com.ua\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://google.com.ua\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://google.com.ua/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://google.com.ua/\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;www.google.com.ua\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;google.com.ua\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://mail.google.com\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://mail.google.com\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://mail.google.com\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://mail.google.com\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;mail.google.com\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;invalid urls\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://google\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://google\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://google.c\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://google.c\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;google\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;google.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;.google\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;.google.com\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;goole.c\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;...\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The best regular expression for URL for me would be:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026quot;(([\\w]+:)?\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//)?(([\\d\\w]|%[a-fA-F\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(\u0026amp;amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here is a good rule that covers all possible cases: ports, params and etc\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-ruby\u0026quot;\u0026gt;/(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;https?:\u0026lt;/span\u0026gt;\\/\\/(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;](\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\u0026lt;/span\u0026gt;[a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;-]{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;61\u0026lt;/span\u0026gt;}[a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;])\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?\\.\u0026lt;/span\u0026gt;)+[a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;][a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;-]{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;61\u0026lt;/span\u0026gt;}[a-z0-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;])(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?\\d\u0026lt;/span\u0026gt;*\u0026lt;/span\u0026gt;)\\/\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;[a-z_\\/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;\\-\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#.]*)\\??([a-z_\\/0-9\\-#=\u0026amp;amp;]*)/g\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-delphi\u0026quot;\u0026gt;        \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;validateURL\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(textval)\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;{\n            var urlregex = new RegExp(\n            \u0026quot;^(http|https|ftp)\\://([a-zA-Z0-9\\.\\-]+(\\:[a-zA-Z0-9\\.\u0026amp;amp;amp;%\\$\\-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}\u0026lt;/span\u0026gt;[0-9]\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;{2}\u0026lt;/span\u0026gt;|[1-9]\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;{1}\u0026lt;/span\u0026gt;[0-9]\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;{1}\u0026lt;/span\u0026gt;|[1-9])\\.\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(25[0-5]|2[0-4][0-9]|[0-1]\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;{1}\u0026lt;/span\u0026gt;[0-9]\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;{2}\u0026lt;/span\u0026gt;|[1-9]\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;{1}\u0026lt;/span\u0026gt;[0-9]\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;{1}\u0026lt;/span\u0026gt;|[1-9]|0)\u0026lt;/span\u0026gt;\\.\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(25[0-5]|2[0-4][0-9]|[0-1]\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;{1}\u0026lt;/span\u0026gt;[0-9]\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;{2}\u0026lt;/span\u0026gt;|[1-9]\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;{1}\u0026lt;/span\u0026gt;[0-9]\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;{1}\u0026lt;/span\u0026gt;|[1-9]|0)\u0026lt;/span\u0026gt;\\.\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(25[0-5]|2[0-4][0-9]|[0-1]\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;{1}\u0026lt;/span\u0026gt;[0-9]\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;{2}\u0026lt;/span\u0026gt;|[1-9]\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;{1}\u0026lt;/span\u0026gt;[0-9]\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;{1}\u0026lt;/span\u0026gt;|[0-9])\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;localhost\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;([a-zA-Z0-9\\-]+\\.)\u0026lt;/span\u0026gt;*[\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;zA\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Z0\u0026lt;/span\u0026gt;-9\\-]+\\.\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(com|edu|gov|int|mil|net|org|biz|arpa|info|\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;|pro|aero|coop|museum|[a-zA-Z]\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;{2}\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\\:[0-9]+)\u0026lt;/span\u0026gt;*\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(/($|[a-zA-Z0-9\\.\\,\\?\\\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\\\+\u0026amp;amp;amp;%\\$#\\=~_\\-]+))*$\u0026quot;);\n            return urlregex.test(textval);\n        }\n\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Matches \n\u0026lt;a href=\u0026quot;http://site.com/dir/file.php?var=moo\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://site.com/dir/file.php?var=moo\u0026lt;/a\u0026gt; | \u0026lt;a href=\u0026quot;ftp://user:pass@site.com:21/file/dir\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;ftp://user:pass@site.com:21/file/dir\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Non-Matches \nsite.com | \u0026lt;a href=\u0026quot;http://site.com/dir//\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://site.com/dir//\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I was not able to find the regex I was looking for so I modified a regex to fullfill my requirements, and apparently it seems to work fine now. My requirements were:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Match URLs w/o protocol (www.gooogle.com)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Match URLs with query parameters and path (\u0026lt;a href=\u0026quot;http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1\u0026amp;amp;key2=value2e\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1\u0026amp;amp;key2=value2e\u0026lt;/a\u0026gt;)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Don\u0026apos;t match URLs where there are not acceptable characters (e.g. \u0026quot;\u0026apos;£), for instance: (www.google.com/somthing\u0026quot;/somethingmore)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Here what I came up with, any suggestion is appreciated:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-swift\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Test\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; void testWebsiteUrl(){\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; regularExpression \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;((http|ftp|https):\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;/\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;/)?[\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;w\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;-_]+(\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;.[\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;w\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;-_]+)+([\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;w\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;.,@?^=%\u0026amp;amp;amp;:/~\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;+#]*[\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;w\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;@?^=%\u0026amp;amp;amp;/~\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;+#])?\u0026quot;\u0026lt;/span\u0026gt;;\n\n        assertTrue(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;www.google.com\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n        assertTrue(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;www.google.co.uk\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n        assertTrue(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://www.google.com\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n        assertTrue(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://www.google.co.uk\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n        assertTrue(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;https://www.google.com\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n        assertTrue(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;https://www.google.co.uk\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n        assertTrue(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;google.com\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n        assertTrue(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;google.co.uk\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n        assertTrue(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;google.mu\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n        assertTrue(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;mes.intnet.mu\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n        assertTrue(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;cse.uom.ac.mu\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n\n        assertTrue(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://www.google.com/path\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n        assertTrue(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1\u0026amp;amp;key2=value2e\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n        assertTrue(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://www.google.com/?queryparam=123\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n        assertTrue(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://www.google.com/path?queryparam=123\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n\n        assertFalse(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;www..dr.google\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n\n        assertFalse(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;www:google.com\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n\n        assertFalse(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;https://www@.google.com\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n\n        assertFalse(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;https://www.google.com\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\u0026quot;\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n        assertFalse(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;https://www.google.com\u0026apos;\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n\n        assertFalse(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://www.google.com/path\u0026apos;\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n        assertFalse(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1\u0026amp;amp;key2=value2e\u0026apos;\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n        assertFalse(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://www.google.com/?queryparam=123\u0026apos;\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n        assertFalse(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://www.google.com/path?queryparam=12\u0026apos;3\u0026quot;\u0026lt;/span\u0026gt;.matches(regularExpression));\n\n    }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I wrote a little groovy version that you can run\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;it matches the following URLs (which is good enough for me)\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(args)\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;url\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;go to http://www.m.abut.ly/abc its awesome\u0026quot;\u0026lt;/span\u0026gt;\n    url = url.replaceAll(/https?:\\/\\/w{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;}\\w*?\\.(\\w*?\\.)?\\w{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;}\\S*|www\\.(\\w*?\\.)?\\w*?\\.\\w{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;}\\S*|(\\w*?\\.)?\\w*?\\.\\w{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;}[\\/\\?]\\S*/ , { it -\u0026amp;gt;\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;woof${it}woof\u0026quot;\u0026lt;/span\u0026gt;\n    })\n    println url \n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-none s-code-block\u0026quot;\u0026gt;\u0026lt;code\u0026gt;http://google.com\nhttp://google.com/help.php\nhttp://google.com/help.php?a=5\n\nhttp://www.google.com\nhttp://www.google.com/help.php\nhttp://www.google.com?a=5\n\ngoogle.com?a=5\ngoogle.com/help.php\ngoogle.com/help.php?a=5\n\nhttp://www.m.google.com/help.php?a=5 (and all its permutations)\nwww.m.google.com/help.php?a=5 (and all its permutations)\nm.google.com/help.php?a=5 (and all its permutations)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The important thing for any URLs that don\u0026apos;t start with \u0026lt;code\u0026gt;http\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;www\u0026lt;/code\u0026gt; is that they must include a \u0026lt;code\u0026gt;/\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I bet this can be tweaked a little more but it does the job pretty nice for being so short and compact... because you can pretty much split it in 3:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;find anything that starts with \u0026lt;code\u0026gt;http\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-none s-code-block\u0026quot;\u0026gt;\u0026lt;code\u0026gt;https?:\\/\\/w{0,3}\\w*?\\.\\w{2,3}\\S*\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;find anything that starts with \u0026lt;code\u0026gt;www\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-none s-code-block\u0026quot;\u0026gt;\u0026lt;code\u0026gt;www\\.\\w*?\\.\\w{2,3}\\S*\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;or find anything that must have a text then a dot then at least 2 letters and then a \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;/\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-none s-code-block\u0026quot;\u0026gt;\u0026lt;code\u0026gt;\\w*?\\.\\w{2,3}[\\/\\?]\\S*\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;validateURL\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;textval\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; urlregex = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;^(http|https|ftp)\\://[a-zA-Z0-9\\-\\.]+\\.[a-zA-Z]{2,3}(:[a-zA-Z0-9]*)?/?([a-zA-Z0-9\\-\\._\\?\\,\\\u0026apos;/\\\\\\+\u0026amp;amp;amp;%\\$#\\=~])*$\u0026quot;\u0026lt;/span\u0026gt;);\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; urlregex.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;test\u0026lt;/span\u0026gt;(textval);\n        }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Matches \n\u0026lt;a href=\u0026quot;http://www.asdah.com/~joe\u0026quot;\u0026gt;http://www.asdah.com/~joe\u0026lt;/a\u0026gt; | \u0026lt;a href=\u0026quot;ftp://ftp.asdah.co.uk:2828/asdah%20asdah.gif\u0026quot;\u0026gt;ftp://ftp.asdah.co.uk:2828/asdah%20asdah.gif\u0026lt;/a\u0026gt; | \u0026lt;a href=\u0026quot;https://asdah.gov/asdh-ah.as\u0026quot;\u0026gt;https://asdah.gov/asdh-ah.as\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you really search for the \u0026lt;strong\u0026gt;ultimate\u0026lt;/strong\u0026gt; match, you probably find it on \u0026quot;\u0026lt;a href=\u0026quot;http://flanders.co.nz/2009/11/08/a-good-url-regular-expression-repost/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;A Good Url Regular Expression?\u0026lt;/a\u0026gt;\u0026quot;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;But a regex that really matches all possible domains and allows anything that is allowed according to RFCs is horribly long and unreadable, trust me ;-)\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I\u0026apos;ve been working on an in-depth article discussing URI validation using regular expressions. It is based on RFC3986.  \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://jmrware.com/articles/2009/uri_regexp/URI_regex.html\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;Regular Expression URI Validation\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Although the article is not yet complete, I have come up with a PHP function which does a pretty good job of validating HTTP and FTP URLs. Here is the current version:\u0026lt;/p\u0026gt;\n\n\n\n\u0026lt;pre class=\u0026quot;lang-php s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// function url_valid($url) { Rev:20110423_2000\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Return associative array of valid URI components, or FALSE if $url is not\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// RFC-3986 compliant. If the passed URL begins with: \u0026quot;www.\u0026quot; or \u0026quot;ftp.\u0026quot;, then\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// \u0026quot;http://\u0026quot; or \u0026quot;ftp://\u0026quot; is prepended and the corrected full-url is stored in\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// the return array with a key name \u0026quot;url\u0026quot;. This value should be used by the caller.\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Return value: FALSE if $url is not valid, otherwise array of URI components:\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// e.g.\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Given: \u0026quot;http://www.jmrware.com:80/articles?height=10\u0026amp;amp;width=75#fragone\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Array(\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//    [scheme] =\u0026amp;gt; http\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//    [authority] =\u0026amp;gt; www.jmrware.com:80\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//    [userinfo] =\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//    [host] =\u0026amp;gt; www.jmrware.com\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//    [IP_literal] =\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//    [IPV6address] =\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//    [ls32] =\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//    [IPvFuture] =\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//    [IPv4address] =\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//    [regname] =\u0026amp;gt; www.jmrware.com\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//    [port] =\u0026amp;gt; 80\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//    [path_abempty] =\u0026amp;gt; /articles\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//    [query] =\u0026amp;gt; height=10\u0026amp;amp;width=75\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//    [fragment] =\u0026amp;gt; fragone\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//    [url] =\u0026amp;gt; http://www.jmrware.com:80/articles?height=10\u0026amp;amp;width=75#fragone\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// )\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;url_valid\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$url\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;strpos\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$url\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;www.\u0026apos;\u0026lt;/span\u0026gt;) === \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$url\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;http://\u0026apos;\u0026lt;/span\u0026gt;. \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$url\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;strpos\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$url\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ftp.\u0026apos;\u0026lt;/span\u0026gt;) === \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$url\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ftp://\u0026apos;\u0026lt;/span\u0026gt;. \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$url\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;preg_match\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/# Valid absolute URI having a non-empty, valid DNS host.\n        ^\n        (?P\u0026amp;lt;scheme\u0026amp;gt;[A-Za-z][A-Za-z0-9+\\-.]*):\\/\\/\n        (?P\u0026amp;lt;authority\u0026amp;gt;\n          (?:(?P\u0026amp;lt;userinfo\u0026amp;gt;(?:[A-Za-z0-9\\-._~!$\u0026amp;amp;\\\u0026apos;()*+,;=:]|%[0-9A-Fa-f]{2})*)@)?\n          (?P\u0026amp;lt;host\u0026amp;gt;\n            (?P\u0026amp;lt;IP_literal\u0026amp;gt;\n              \\[\n              (?:\n                (?P\u0026amp;lt;IPV6address\u0026amp;gt;\n                  (?:                                                (?:[0-9A-Fa-f]{1,4}:){6}\n                  |                                                ::(?:[0-9A-Fa-f]{1,4}:){5}\n                  | (?:                          [0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){4}\n                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,1}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){3}\n                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){2}\n                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})?::   [0-9A-Fa-f]{1,4}:\n                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})?::\n                  )\n                  (?P\u0026amp;lt;ls32\u0026amp;gt;[0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{1,4}\n                  | (?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}\n                       (?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\n                  )\n                |   (?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::   [0-9A-Fa-f]{1,4}\n                |   (?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::\n                )\n              | (?P\u0026amp;lt;IPvFuture\u0026amp;gt;[Vv][0-9A-Fa-f]+\\.[A-Za-z0-9\\-._~!$\u0026amp;amp;\\\u0026apos;()*+,;=:]+)\n              )\n              \\]\n            )\n          | (?P\u0026amp;lt;IPv4address\u0026amp;gt;(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}\n                               (?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))\n          | (?P\u0026amp;lt;regname\u0026amp;gt;(?:[A-Za-z0-9\\-._~!$\u0026amp;amp;\\\u0026apos;()*+,;=]|%[0-9A-Fa-f]{2})+)\n          )\n          (?::(?P\u0026amp;lt;port\u0026amp;gt;[0-9]*))?\n        )\n        (?P\u0026amp;lt;path_abempty\u0026amp;gt;(?:\\/(?:[A-Za-z0-9\\-._~!$\u0026amp;amp;\\\u0026apos;()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)\n        (?:\\?(?P\u0026amp;lt;query\u0026amp;gt;       (?:[A-Za-z0-9\\-._~!$\u0026amp;amp;\\\u0026apos;()*+,;=:@\\\\/?]|%[0-9A-Fa-f]{2})*))?\n        (?:\\#(?P\u0026amp;lt;fragment\u0026amp;gt;    (?:[A-Za-z0-9\\-._~!$\u0026amp;amp;\\\u0026apos;()*+,;=:@\\\\/?]|%[0-9A-Fa-f]{2})*))?\n        $\n        /mx\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$url\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$m\u0026lt;/span\u0026gt;)) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;FALSE\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;switch\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$m\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;scheme\u0026apos;\u0026lt;/span\u0026gt;]) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;https\u0026apos;\u0026lt;/span\u0026gt;:\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;http\u0026apos;\u0026lt;/span\u0026gt;:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$m\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;userinfo\u0026apos;\u0026lt;/span\u0026gt;]) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;FALSE\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// HTTP scheme does not allow userinfo.\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ftps\u0026apos;\u0026lt;/span\u0026gt;:\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ftp\u0026apos;\u0026lt;/span\u0026gt;:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;default\u0026lt;/span\u0026gt;:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;FALSE\u0026lt;/span\u0026gt;;   \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Unrecognized URI scheme. Default to FALSE.\u0026lt;/span\u0026gt;\n    }\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Validate host name conforms to DNS \u0026quot;dot-separated-parts\u0026quot;.\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$m\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;regname\u0026apos;\u0026lt;/span\u0026gt;]) { \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// If host regname specified, check for DNS conformance.\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;preg_match\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/# HTTP DNS host name.\n            ^                      # Anchor to beginning of string.\n            (?!.{256})             # Overall host length is less than 256 chars.\n            (?:                    # Group dot separated host part alternatives.\n              [A-Za-z0-9]\\.        # Either a single alphanum followed by dot\n            |                      # or... part has more than one char (63 chars max).\n              [A-Za-z0-9]          # Part first char is alphanum (no dash).\n              [A-Za-z0-9\\-]{0,61}  # Internal chars are alphanum plus dash.\n              [A-Za-z0-9]          # Part last char is alphanum (no dash).\n              \\.                   # Each part followed by literal dot.\n            )*                     # Zero or more parts before top level domain.\n            (?:                    # Explicitly specify top level domains.\n              com|edu|gov|int|mil|net|org|biz|\n              info|name|pro|aero|coop|museum|\n              asia|cat|jobs|mobi|tel|travel|\n              [A-Za-z]{2})         # Country codes are exactly two alpha chars.\n              \\.?                  # Top level domain can end in a dot.\n            $                      # Anchor to end of string.\n            /ix\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$m\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;host\u0026apos;\u0026lt;/span\u0026gt;])) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;FALSE\u0026lt;/span\u0026gt;;\n    }\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$m\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;url\u0026apos;\u0026lt;/span\u0026gt;] = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$url\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$i\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;isset\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$m\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$i\u0026lt;/span\u0026gt;]); ++\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$i\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;unset\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$m\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$i\u0026lt;/span\u0026gt;]);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$m\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// return TRUE == array of useful named $matches plus the valid $url.\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This function utilizes two regexes; one to match a subset of valid generic URIs (absolute ones having a non-empty host), and a second to validate the DNS \u0026quot;dot-separated-parts\u0026quot; host name. Although this function currently validates only HTTP and FTP schemes, it is structured such that it can be easily extended to handle other schemes.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I use this regex:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-ruby\u0026quot;\u0026gt;((\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;https?:\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?/\u0026lt;/span\u0026gt;/)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;([\\d\\w]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;%[a-fA-f\\d]{2,2})+(:([\\d\\w]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;%[a-fA-f\\d]\u0026lt;/span\u0026gt;{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;})+)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?@\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;[\\d\\w][-\\d\\w]{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;253\u0026lt;/span\u0026gt;}[\\d\\w]\\.)+[\\w]{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;63\u0026lt;/span\u0026gt;}(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:\u0026lt;/span\u0026gt;[\\d]+)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;/([-+_~.\\d\\w]|\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;%[a-fA-f\\d]{2,2})*)*(\\?(\u0026amp;amp;?([-+_~.\\d\\w]\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;%[a-fA-f\\d]\u0026lt;/span\u0026gt;{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;})=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?)\u0026lt;/span\u0026gt;*)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;To support both:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;http://stackoverflow.com\nhttps://stackoverflow.com\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And:    \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;//stackoverflow.com\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here\u0026apos;s a ready-to-go Java version from the Android source code.  This is the best one I\u0026apos;ve found.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-swift\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;final\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Matcher\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;WEB\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Pattern\u0026lt;/span\u0026gt;.compile(new \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;StringBuilder\u0026lt;/span\u0026gt;()                 \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;((?:(http|https|Http|Https|rtsp|Rtsp):\u0026quot;\u0026lt;/span\u0026gt;)                      \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;/\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;/(?:(?:[a-zA-Z0-9\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;$\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;_\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;!\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;*\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;\u0026apos;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;)\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;?\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;=]|(?:\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;%[a-fA-F0-9]{2})){1,64}(?:\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;:(?:[a-zA-Z0-9\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;$\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;_\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;!\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;*\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;\u0026apos;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;?\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;=]|(?:\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;%[a-fA-F0-9]{2})){1,25})?\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;@)?)?\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;((?:(?:[a-zA-Z0-9][a-zA-Z0-9\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;-]{0,64}\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;.)+\u0026quot;\u0026lt;/span\u0026gt;)   \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// named host                            \u0026lt;/span\u0026gt;\n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;(?:\u0026quot;\u0026lt;/span\u0026gt;)   \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// plus top level domain                         \u0026lt;/span\u0026gt;\n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;(?:aero|arpa|asia|a[cdefgilmnoqrstuwxz])\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|(?:biz|b[abdefghijmnorstvwyz])\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|(?:cat|com|coop|c[acdfghiklmnoruvxyz])\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|d[ejkmoz]\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|(?:edu|e[cegrstu])\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|f[ijkmor]\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|(?:gov|g[abdefghilmnpqrstuwy])\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|h[kmnrtu]\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|(?:info|int|i[delmnoqrst])\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|(?:jobs|j[emop])\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|k[eghimnrwyz]\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|l[abcikrstuvy]\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|(?:name|net|n[acefgilopruz])\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|(?:org|om)\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|(?:pro|p[aefghklmnrstwy])\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|qa\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|r[eouw]\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|s[abcdeghijklmnortuvyz]\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|(?:tel|travel|t[cdfghjklmnoprtvwz])\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|u[agkmsyz]\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|v[aceginu]\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|w[fs]\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|y[etu]\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|z[amw]))\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|(?:(?:25[0-5]|2[0-4]\u0026quot;\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// or ip address                                                 \u0026lt;/span\u0026gt;\n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;[0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;.(?:25[0-5]|2[0-4][0-9]\u0026quot;\u0026lt;/span\u0026gt;)                             \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;.(?:25[0-5]|2[0-4][0-9]|[0-1]\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;[0-9]{2}|[1-9][0-9]|[1-9]|0)\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;|[1-9][0-9]|[0-9])))\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;(?:\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;d{1,5})?)\u0026quot;\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// plus option port number                             \u0026lt;/span\u0026gt;\n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;(\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;/(?:(?:[a-zA-Z0-9\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;/\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;?\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;@\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;#\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;~\u0026quot;\u0026lt;/span\u0026gt;)  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// plus option query params                         \u0026lt;/span\u0026gt;\n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;!\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;*\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;\u0026apos;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;_])|(?:\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;%[a-fA-F0-9]{2}))*)?\u0026quot;\u0026lt;/span\u0026gt;)                         \n.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;(?:\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;\\\\\u0026lt;/span\u0026gt;b|$)\u0026quot;\u0026lt;/span\u0026gt;).toString()                 \n).matcher(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I hope it\u0026apos;s helpful for you...\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-makefile\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-section\u0026quot;\u0026gt;^(http|https):\\/\\/+[\\www\\d]+\\.[\\w]+(\\/[\\w\\d]+)?\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;For Python, this is the actual URL validating regex used in Django 1.5.1:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; re\nregex = re.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;compile\u0026lt;/span\u0026gt;(\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026apos;^(?:http|ftp)s?://\u0026apos;\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# http:// or https://\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026apos;(?:(?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+(?:[A-Z]{2,6}\\.?|[A-Z0-9-]{2,}\\.?)|\u0026apos;\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# domain...\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026apos;localhost|\u0026apos;\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# localhost...\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026apos;\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|\u0026apos;\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# ...or ipv4\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026apos;\\[?[A-F0-9]*:[A-F0-9:]+\\]?)\u0026apos;\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# ...or ipv6\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026apos;(?::\\d+)?\u0026apos;\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# optional port\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026apos;(?:/?|[/?]\\S+)$\u0026apos;\u0026lt;/span\u0026gt;, re.IGNORECASE)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This does both ipv4 and ipv6 addresses as well as ports and GET parameters.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Found in the \u0026lt;a href=\u0026quot;https://github.com/django/django/blob/master/django/core/validators.py\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;code here\u0026lt;/a\u0026gt;, Line 44.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This one works for me very well. \u0026lt;code\u0026gt;(https?|ftp)://(www\\d?|[a-zA-Z0-9]+)?\\.[a-zA-Z0-9-]+(\\:|\\.)([a-zA-Z0-9.]+|(\\d+)?)([/?:].*)?\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here is a regex I made which extracts the different parts from an URL:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;^((?:https?|ftp):\\/\\/?)?([^:/\\s.]+\\.[^:/\\s]|localhost)(:\\d+)?((?:\\/\\w+)*\\/)?([\\w\\-.]+[^#?\\s]+)?([^#]+)?(#[\\w-]+)?$\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;((?:https?|ftp):\\/\\/?)?\u0026lt;/code\u0026gt;\u0026lt;em\u0026gt;(group 1)\u0026lt;/em\u0026gt;: extracts the protocol\u0026lt;br\u0026gt;\n\u0026lt;code\u0026gt;([^:/\\s.]+\\.[^:/\\s]|localhost)\u0026lt;/code\u0026gt;\u0026lt;em\u0026gt;(group 2)\u0026lt;/em\u0026gt;: extracts the hostname\u0026lt;br\u0026gt;\n\u0026lt;code\u0026gt;(:\\d+)?\u0026lt;/code\u0026gt;\u0026lt;em\u0026gt;(group 3)\u0026lt;/em\u0026gt;: extracts the port number\u0026lt;br\u0026gt;\n\u0026lt;code\u0026gt;((?:\\/\\w+)*\\/)?([\\w\\-.]+[^#?\\s]+)?\u0026lt;/code\u0026gt;\u0026lt;em\u0026gt;(groups 4 \u0026amp;amp; 5)\u0026lt;/em\u0026gt;: extracts the path part\u0026lt;br\u0026gt;\n\u0026lt;code\u0026gt;([^#]+)?\u0026lt;/code\u0026gt;\u0026lt;em\u0026gt;(group 6)\u0026lt;/em\u0026gt;: extracts the query part\u0026lt;br\u0026gt;\n\u0026lt;code\u0026gt;(#[\\w-]+)?\u0026lt;/code\u0026gt;\u0026lt;em\u0026gt;(group 7)\u0026lt;/em\u0026gt;: extracts the hash part\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For every part of the regex listed above, you can remove the ending \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; to force it (or add one to make it facultative). You can also remove the \u0026lt;code\u0026gt;^\u0026lt;/code\u0026gt; at the beginning and \u0026lt;code\u0026gt;$\u0026lt;/code\u0026gt; at the end of the regex so it won\u0026apos;t need to match the whole string.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;See it on \u0026lt;a href=\u0026quot;https://regex101.com/r/Q2ilqN/7\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;regex101\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;Note:\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;em\u0026gt; this regex is not 100% safe and may accept some strings which are not necessarily valid URLs but it does indeed validate some criterias. Its main goal was to extract the different parts of an URL not to validate it.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;For convenience here\u0026apos;s a one-liner regexp for URL\u0026apos;s that will also match localhost where you\u0026apos;re more likely to have ports than \u0026lt;code\u0026gt;.com\u0026lt;/code\u0026gt; or similar.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-ruby\u0026quot;\u0026gt;(http(s)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?:\\/\\/\u0026lt;/span\u0026gt;.)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?(\u0026lt;/span\u0026gt;www\\.)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;?[\u0026lt;/span\u0026gt;-a-zA-\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;Z0\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;@\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;:%\u0026lt;/span\u0026gt;._\\+~\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#=]{2,256}(\\.[a-z]{2,6}|:[0-9]{3,4})\\b([-a-zA-Z0-9@:%_\\+.~#?\u0026amp;amp;\\/\\/=]*)\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I found the following Regex for URLs, \u0026lt;strong\u0026gt;tested successfully with 500+ URLs\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;/\\b(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\x{00a1}-\\x{ffff}0-9]+-?)*[a-z\\x{00a1}-\\x{ffff}0-9]+)(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}0-9]+-?)*[a-z\\x{00a1}-\\x{ffff}0-9]+)*(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?\\b/gi\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;I know it looks ugly, but the good thing is that it works. :)\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://regex101.com/r/hU9aV3/5\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;Explanation and demo with \u0026lt;strong\u0026gt;581 random URLs\u0026lt;/strong\u0026gt; on regex101.\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Source: \u0026lt;a href=\u0026quot;https://mathiasbynens.be/demo/url-regex\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;In search of the perfect URL validation regex\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;To Match a URL there are various option and it depend on you requirement.\nbelow are few.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-perl\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;_\u0026lt;/span\u0026gt;(^|[\\s.:;?\\-\\]\u0026amp;lt;\\(])(https?:\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;//\u0026lt;/span\u0026gt;[-\\w;\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/?:@\u0026amp;amp;=+$\\|\\_.!~*\\|\u0026apos;()\\[\\]%#,]+[\\w/\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#](\\(\\))?)(?=$|[\\s\u0026apos;,\\|\\(\\).:;?\\-\\[\\]\u0026amp;gt;\\)])_i\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#\\b(([\\w-]+://?|www[.])[^\\s()\u0026amp;lt;\u0026amp;gt;]+(?:\\([\\w\\d]+\\)|([^[:punct:]\\s]|/)))#iS\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And there is a link which gives you more than 10 different variations of validation for URL.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://mathiasbynens.be/demo/url-regex\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;https://mathiasbynens.be/demo/url-regex\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I tried to formulate my version of url. My requirement was to capture instances in a String where possible url can be cse.uom.ac.mu - noting that it is not preceded by http nor www\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;String regularExpression \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026quot;((((ht{2}ps?://)?)((w{3}\\\\.)?))?)[^.\u0026amp;amp;\u0026amp;amp;[a-zA-Z0-9]][a-zA-Z0-9.-]+[^.\u0026amp;amp;\u0026amp;amp;[a-zA-Z0-9]](\\\\.[a-zA-Z]{2,3})\u0026quot;;\n\nassertTrue(\u0026quot;www.google.com\u0026quot;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;matches\u0026lt;/span\u0026gt;(regularExpression));\nassertTrue(\u0026quot;www.google.co.uk\u0026quot;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;matches\u0026lt;/span\u0026gt;(regularExpression));\nassertTrue(\u0026quot;http://www.google.com\u0026quot;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;matches\u0026lt;/span\u0026gt;(regularExpression));\nassertTrue(\u0026quot;http://www.google.co.uk\u0026quot;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;matches\u0026lt;/span\u0026gt;(regularExpression));\nassertTrue(\u0026quot;https://www.google.com\u0026quot;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;matches\u0026lt;/span\u0026gt;(regularExpression));\nassertTrue(\u0026quot;https://www.google.co.uk\u0026quot;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;matches\u0026lt;/span\u0026gt;(regularExpression));\nassertTrue(\u0026quot;google.com\u0026quot;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;matches\u0026lt;/span\u0026gt;(regularExpression));\nassertTrue(\u0026quot;google.co.uk\u0026quot;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;matches\u0026lt;/span\u0026gt;(regularExpression));\nassertTrue(\u0026quot;google.mu\u0026quot;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;matches\u0026lt;/span\u0026gt;(regularExpression));\nassertTrue(\u0026quot;mes.intnet.mu\u0026quot;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;matches\u0026lt;/span\u0026gt;(regularExpression));\nassertTrue(\u0026quot;cse.uom.ac.mu\u0026quot;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;matches\u0026lt;/span\u0026gt;(regularExpression));\n\n\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;/\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;/\u0026lt;/span\u0026gt;cannot contain \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt; after www\nassertFalse(\u0026quot;www..dr.google\u0026quot;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;matches\u0026lt;/span\u0026gt;(regularExpression));\n\n\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;/\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;/\u0026lt;/span\u0026gt;cannot contain \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt; just before com\nassertFalse(\u0026quot;www.dr.google..com\u0026quot;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;matches\u0026lt;/span\u0026gt;(regularExpression));\n\n\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;/\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;/\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;to\u0026lt;/span\u0026gt; test \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;where\u0026lt;/span\u0026gt; url www must be followed \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;with\u0026lt;/span\u0026gt; a \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;\nassertFalse(\u0026quot;www:google.com\u0026quot;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;matches\u0026lt;/span\u0026gt;(regularExpression));\n\n\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;/\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;/\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;to\u0026lt;/span\u0026gt; test \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;where\u0026lt;/span\u0026gt; url www must be followed \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;with\u0026lt;/span\u0026gt; a \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;/\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;/\u0026lt;/span\u0026gt;assertFalse(\u0026quot;http://wwwe.google.com\u0026quot;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;matches\u0026lt;/span\u0026gt;(regularExpression));\n\n\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;/\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;/\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;to\u0026lt;/span\u0026gt; test \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;where\u0026lt;/span\u0026gt; www must be preceded \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;with\u0026lt;/span\u0026gt; a \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;\nassertFalse(\u0026quot;https://www@.google.com\u0026quot;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;matches\u0026lt;/span\u0026gt;(regularExpression));\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;whats wrong with plain and simple FILTER_VALIDATE_URL ?\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$url\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://www.example.com\u0026quot;\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(!filter_var(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$url\u0026lt;/span\u0026gt;, FILTER_VALIDATE_URL))\n  {\n  \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;URL is not valid\u0026quot;\u0026lt;/span\u0026gt;;\n  }\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;\n  {\n  \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;URL is valid\u0026quot;\u0026lt;/span\u0026gt;;\n  }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;I know its not the question exactly but it did the job for me when I needed to validate urls so thought it might be useful to others who come across this post looking for the same thing\u0026lt;/p\u0026gt;\n    "],"id":318,"title":"What is the best regular expression to check if a string is a valid URL?","content":"\n                \n\u0026lt;p\u0026gt;How can I check if a given string is a valid URL address?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;My knowledge of regular expressions is basic and doesn\u0026apos;t allow me to choose from the hundreds of regular expressions I\u0026apos;ve already seen on the web.\u0026lt;/p\u0026gt;\n    ","slug":"what-is-the-best-regular-expression-to-check-if-a-string-is-a-valid-url-1657387618306","postType":"QUESTION","createdAt":"2022-07-09T17:26:58.000Z","updatedAt":"2022-07-09T17:26:58.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"Iterating over dictionaries using 'for' loops","slug":"iterating-over-dictionaries-using-'for'-loops-1657388334481"},{"title":"How do I execute a program or call a system command?","slug":"how-do-i-execute-a-program-or-call-a-system-command-1657385465629"},{"title":"What is the difference between a definition and a declaration?","slug":"what-is-the-difference-between-a-definition-and-a-declaration-1657387851618"},{"title":"List of lists changes reflected across sublists unexpectedly","slug":"list-of-lists-changes-reflected-across-sublists-unexpectedly-1657384393720"},{"title":"PHP mail function doesn't complete sending of e-mail","slug":"php-mail-function-doesn't-complete-sending-of-e-mail-1657384307499"},{"title":"How do I redirect to another webpage?","slug":"how-do-i-redirect-to-another-webpage-1657384869767"},{"title":"Safely turning a JSON string into an object","slug":"safely-turning-a-json-string-into-an-object-1657388194824"},{"title":"Why is using 'eval' a bad practice?","slug":"why-is-using-'eval'-a-bad-practice-1657387348760"},{"title":"What is DOM Event delegation?","slug":"what-is-dom-event-delegation-1657387625599"},{"title":"Deep cloning objects","slug":"deep-cloning-objects-1657387930865"},{"title":"How to avoid using Select in Excel VBA","slug":"how-to-avoid-using-select-in-excel-vba-1657384286300"},{"title":"How do I sort a dictionary by value?","slug":"how-do-i-sort-a-dictionary-by-value-1657385485049"},{"title":"How to make a great R reproducible example","slug":"how-to-make-a-great-r-reproducible-example-1657384198173"},{"title":"jQuery Ajax POST example with PHP","slug":"jquery-ajax-post-example-with-php-1657387402634"},{"title":"How to deal with mysqli problems? mysqli_fetch_array(): Argument #1 must be of type mysqli_result","slug":"how-to-deal-with-mysqli-problems-mysqli_fetch_array():-argument-1-must-be-of-type-mysqli_result-1657384360922"},{"title":"R cannot be resolved - Android error","slug":"r-cannot-be-resolved-android-error-1657388526258"},{"title":"What is the difference between \"px\", \"dip\", \"dp\" and \"sp\"?","slug":"what-is-the-difference-between-\"px\"-\"dip\"-\"dp\"-and-\"sp\"-1657388093250"},{"title":"Why are these numbers not equal?","slug":"why-are-these-numbers-not-equal-1657384729559"},{"title":"How do you get the footer to stay at the bottom of a Web page?","slug":"how-do-you-get-the-footer-to-stay-at-the-bottom-of-a-web-page-1657387817544"},{"title":"What happens if you use the 32-bit int 0x80 Linux ABI in 64-bit code?","slug":"what-happens-if-you-use-the-32-bit-int-0x80-linux-abi-in-64-bit-code-1657388560485"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"what-is-the-best-regular-expression-to-check-if-a-string-is-a-valid-url-1657387618306"},"buildId":"DSpI0pSdXueTMCIVyw0q4","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>