<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find the solution to any question. We focus on finding the fastest possible solution for users. Main topics like coding, learning. - solutionschecker.com"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><link name="keywords" content="solutions checker, solution checker, how to, solution for, check for solution, resolve question, what is, what solution for, find solution"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://solutionschecker.com","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://solutionschecker.com/questions","name":"Questions"}},{"@type":"ListItem","position":3,"item":{"@id":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007","name":"Questions"}}]}</script><title>How do you use a variable in a regular expression? | Solution Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="I would like to create a String.replaceAll() method in JavaScript and I&#x27;m thinking that using a regex would be most terse way to do it.  However, I can&#x27;t figure out how to pass a variable in to a regex.  I can do this already which will replace all the instances of &quot;B&quot; with &quot;A&quot;.

&quot;ABABAB&quot;.replace(/B/g, &quot;A&quot;);


But I want to do something like this:

String.prototype.replaceAll = function(replaceThis, withThis) {
    this.replace(/replaceThis/g, withThis);
};


But obviously this will only replace the text &quot;replaceThis&quot;...so how do I pass this variable in to my regex string?
    "/><meta property="og:title" content="How do you use a variable in a regular expression? | Solution Checker"/><meta property="og:description" content="I would like to create a String.replaceAll() method in JavaScript and I&#x27;m thinking that using a regex would be most terse way to do it.  However, I can&#x27;t figure out how to pass a variable in to a regex.  I can do this already which will replace all the instances of &quot;B&quot; with &quot;A&quot;.

&quot;ABABAB&quot;.replace(/B/g, &quot;A&quot;);


But I want to do something like this:

String.prototype.replaceAll = function(replaceThis, withThis) {
    this.replace(/replaceThis/g, withThis);
};


But obviously this will only replace the text &quot;replaceThis&quot;...so how do I pass this variable in to my regex string?
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"How do you use a variable in a regular expression?","text":"I would like to create a String.replaceAll() method in JavaScript and I&apos;m thinking that using a regex would be most terse way to do it.  However, I can&apos;t figure out how to pass a variable in to a regex.  I can do this already which will replace all the instances of &quot;B&quot; with &quot;A&quot;.\n\n&quot;ABABAB&quot;.replace(/B/g, &quot;A&quot;);\n\n\nBut I want to do something like this:\n\nString.prototype.replaceAll = function(replaceThis, withThis) {\n    this.replace(/replaceThis/g, withThis);\n};\n\n\nBut obviously this will only replace the text &quot;replaceThis&quot;...so how do I pass this variable in to my regex string?\n    ","answerCount":23,"upVoteCount":500,"suggestedAnswer":[{"text":"Instead of using the /regex\\d/g syntax, you can construct a new RegExp object:\nvar replace = &quot;regex\\\\d&quot;;\nvar re = new RegExp(replace,&quot;g&quot;);\n\nYou can dynamically create regex objects this way. Then you will do:\n&quot;mystring1&quot;.replace(re, &quot;newstring&quot;);\n\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution1","@type":"Answer","upvoteCount":0},{"text":"As Eric Wendelin mentioned, you can do something like this:\n\nstr1 = &quot;pattern&quot;\nvar re = new RegExp(str1, &quot;g&quot;);\n&quot;pattern matching .&quot;.replace(re, &quot;regex&quot;);\n\n\nThis yields &quot;regex matching .&quot;. However, it will fail if str1 is &quot;.&quot;. You&apos;d expect the result to be &quot;pattern matching regex&quot;, replacing the period with &quot;regex&quot;, but it&apos;ll turn out to be...\n\nregexregexregexregexregexregexregexregexregexregexregexregexregexregexregexregexregexregex\n\n\nThis is because, although &quot;.&quot; is a String, in the RegExp constructor it&apos;s still interpreted as a regular expression, meaning any non-line-break character, meaning every character in the string. For this purpose, the following function may be useful:\n\n RegExp.quote = function(str) {\n     return str.replace(/([.?*+^$[\\]\\\\(){}|-])/g, &quot;\\\\$1&quot;);\n };\n\n\nThen you can do:\n\nstr1 = &quot;.&quot;\nvar re = new RegExp(RegExp.quote(str1), &quot;g&quot;);\n&quot;pattern matching .&quot;.replace(re, &quot;regex&quot;);\n\n\nyielding &quot;pattern matching regex&quot;.\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution2","@type":"Answer","upvoteCount":0},{"text":"\n  &quot;ABABAB&quot;.replace(/B/g, &quot;A&quot;);\n\n\nAs always: don&apos;t use regex unless you have to. For a simple string replace, the idiom is:\n\n&apos;ABABAB&apos;.split(&apos;B&apos;).join(&apos;A&apos;)\n\n\nThen you don&apos;t have to worry about the quoting issues mentioned in Gracenotes&apos;s answer.\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution3","@type":"Answer","upvoteCount":0},{"text":"If you want to get all occurrences (g), be case insensitive (i), and use boundaries so that it isn&apos;t a word within another word (\\\\b):\nre = new RegExp(`\\\\b${replaceThis}\\\\b`, &apos;gi&apos;);\n\n\nExample:\nlet inputString = &quot;I&apos;m John, or johnny, but I prefer john.&quot;;\nlet replaceThis = &quot;John&quot;;\nlet re = new RegExp(`\\\\b${replaceThis}\\\\b`, &apos;gi&apos;);\nconsole.log(inputString.replace(re, &quot;Jack&quot;)); // I&apos;m Jack, or johnny, but I prefer Jack.\n\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution4","@type":"Answer","upvoteCount":0},{"text":"This:\n\nvar txt=new RegExp(pattern,attributes);\n\n\nis equivalent to this:\n\nvar txt=/pattern/attributes;\n\n\nSee http://www.w3schools.com/jsref/jsref_obj_regexp.asp.\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution5","@type":"Answer","upvoteCount":0},{"text":"For anyone looking to use a variable with the match method, this worked for me:\nvar alpha = &apos;fig&apos;;\n&apos;food fight&apos;.match(alpha + &apos;ht&apos;)[0]; // fight\n\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution6","@type":"Answer","upvoteCount":0},{"text":"this.replace( new RegExp( replaceThis, &apos;g&apos; ), withThis );\n\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution7","@type":"Answer","upvoteCount":0},{"text":"You need to build the regular expression dynamically and for this you must use the new RegExp(string) constructor with escaping.\nThere is a built-in function in jQuery UI autocomplete widget called $.ui.autocomplete.escapeRegex:\n\nIt&apos;ll take a single string argument and escape all regex characters,\nmaking the result safe to pass to new RegExp().\n\nIf you are not using jQuery UI you can copy its definition from the source:\nfunction escapeRegex( value ) {\n    return value.replace( /[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, &quot;\\\\$&amp;&quot; );\n}\n\nAnd use it like this:\n&quot;[z-a][z-a][z-a]&quot;.replace(new RegExp(escapeRegex(&quot;[z-a]&quot;), &quot;g&quot;), &quot;[a-z]&quot;);\n//            escapeRegex(&quot;[z-a]&quot;)       -&gt; &quot;\\[z\\-a\\]&quot;\n// new RegExp(escapeRegex(&quot;[z-a]&quot;), &quot;g&quot;) -&gt; /\\[z\\-a\\]/g\n// end result                            -&gt; &quot;[a-z][a-z][a-z]&quot;\n\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution8","@type":"Answer","upvoteCount":0},{"text":"String.prototype.replaceAll = function (replaceThis, withThis) {\n   var re = new RegExp(replaceThis,&quot;g&quot;); \n   return this.replace(re, withThis);\n};\nvar aa = &quot;abab54..aba&quot;.replaceAll(&quot;\\\\.&quot;, &quot;v&quot;);\n\n\nTest with this tool \n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution9","@type":"Answer","upvoteCount":0},{"text":"String.prototype.replaceAll = function(a, b) {\n    return this.replace(new RegExp(a.replace(/([.?*+^$[\\]\\\\(){}|-])/ig, &quot;\\\\$1&quot;), &apos;ig&apos;), b)\n}\n\n\nTest it like:\n\nvar whatever = &apos;Some [b]random[/b] text in a [b]sentence.[/b]&apos;\n\nconsole.log(whatever.replaceAll(&quot;[&quot;, &quot;&lt;&quot;).replaceAll(&quot;]&quot;, &quot;&gt;&quot;))\n\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution10","@type":"Answer","upvoteCount":0},{"text":"And the CoffeeScript version of Steven Penny&apos;s answer, since this is #2 Google result....even if CoffeeScript is just JavaScript with a lot of characters removed...;)\nbaz = &quot;foo&quot;\nfilter = new RegExp(baz + &quot;d&quot;)\n&quot;food fight&quot;.match(filter)[0] // food\n\nAnd in my particular case:\nrobot.name = hubot\nfilter = new RegExp(robot.name)\nif msg.match.input.match(filter)\n  console.log &quot;True!&quot;\n\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution11","@type":"Answer","upvoteCount":0},{"text":"To satisfy my need to insert a variable/alias/function into a Regular Expression, this is what I came up with:\n\noldre = /xx\\(&quot;&quot;\\)/;\nfunction newre(e){\n    return RegExp(e.toString().replace(/\\//g,&quot;&quot;).replace(/xx/g, yy), &quot;g&quot;)\n};\n\nString.prototype.replaceAll = this.replace(newre(oldre), &quot;withThis&quot;);\n\n\nwhere &apos;oldre&apos; is the original regexp that I want to insert a variable,\n&apos;xx&apos; is the placeholder for that variable/alias/function,\nand &apos;yy&apos; is the actual variable name, alias, or function.\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution12","@type":"Answer","upvoteCount":0},{"text":"You can use a string as a regular expression. Dont forget to use new RegExp.\nExample:\nvar yourFunction = new RegExp(\n        &apos;^-?\\\\d+(?:\\\\.\\\\d{0,&apos; + yourVar + &apos;})?&apos;\n      )\n\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution13","@type":"Answer","upvoteCount":0},{"text":"Here&apos;s another replaceAll implementation:\n\n    String.prototype.replaceAll = function (stringToFind, stringToReplace) {\n        if ( stringToFind == stringToReplace) return this;\n        var temp = this;\n        var index = temp.indexOf(stringToFind);\n        while (index != -1) {\n            temp = temp.replace(stringToFind, stringToReplace);\n            index = temp.indexOf(stringToFind);\n        }\n        return temp;\n    };\n\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution14","@type":"Answer","upvoteCount":0},{"text":"You can use this if $1 does not work for you:\nvar pattern = new RegExp(&quot;amman&quot;, &quot;i&quot;);\n&quot;abc Amman efg&quot;.replace(pattern, &quot;&lt;b&gt;&quot; + &quot;abc Amman efg&quot;.match(pattern)[0] + &quot;&lt;/b&gt;&quot;);\n\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution15","@type":"Answer","upvoteCount":0},{"text":"While you can make dynamically-created RegExp&apos;s (as per the other responses to this question), I&apos;ll echo my comment from a similar post: The functional form of String.replace() is extremely useful and in many cases reduces the need for dynamically-created RegExp objects. (which are kind of a pain &apos;cause you have to express the input to the RegExp constructor as a string rather than use the slashes /[A-Z]+/ regexp literal format)\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution16","@type":"Answer","upvoteCount":0},{"text":"This self calling function will iterate over replacerItems using an index, and change replacerItems[index] globally on the string with each pass.   \n\n  const replacerItems = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];    \n\n    function replacer(str, index){\n          const item = replacerItems[index];\n          const regex = new RegExp(`[${item}]`, &quot;g&quot;);\n          const newStr = str.replace(regex, &quot;z&quot;);\n          if (index &lt; replacerItems.length - 1) {\n            return replacer(newStr, index + 1);\n          }\n          return newStr;\n    }\n\n// console.log(replacer(&apos;abcdefg&apos;, 0)) will output &apos;zzzdefg&apos;\n\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution17","@type":"Answer","upvoteCount":0},{"text":"None of these answers were clear to me. I eventually found a good explanation at How to use a variable in replace function of JavaScript\nThe simple answer is:\nvar search_term = new RegExp(search_term, &quot;g&quot;);\ntext = text.replace(search_term, replace_term);\n\nFor example:\n\n\n$(&quot;button&quot;).click(function() {\n  Find_and_replace(&quot;Lorem&quot;, &quot;Chocolate&quot;);\n  Find_and_replace(&quot;ipsum&quot;, &quot;ice-cream&quot;);\n});\n\nfunction Find_and_replace(search_term, replace_term) {\n  text = $(&quot;textbox&quot;).html();\n  var search_term = new RegExp(search_term, &quot;g&quot;);\n  text = text.replace(search_term, replace_term);\n  $(&quot;textbox&quot;).html(text);\n}\n&lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;textbox&gt;\n  Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum\n&lt;/textbox&gt;\n&lt;button&gt;Click me&lt;/button&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution18","@type":"Answer","upvoteCount":0},{"text":"You can always use indexOf repeatedly:\n\nString.prototype.replaceAll = function(substring, replacement) {\n    var result = &apos;&apos;;\n    var lastIndex = 0;\n\n    while(true) {\n        var index = this.indexOf(substring, lastIndex);\n        if(index === -1) break;\n        result += this.substring(lastIndex, index) + replacement;\n        lastIndex = index + substring.length;\n    }\n\n    return result + this.substring(lastIndex);\n};\n\n\nThis doesnt go into an infinite loop when the replacement contains the match.\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution19","@type":"Answer","upvoteCount":0},{"text":"One way to implement is by taking the value from a text field which is the one you want to replace and another is the &quot;replace with&quot; text field, getting the value from text-field in a variable and setting the variable to RegExp function to further replace. In my case I am using jQuery, but you can also do it by only JavaScript too.\nJavaScript code:\n  var replace =document.getElementById(&quot;replace}&quot;); // getting a value from a text field with I want to replace\n  var replace_with = document.getElementById(&quot;with&quot;); //Getting the value from another text fields with which I want to replace another string.\n\n  var sRegExInput = new RegExp(replace, &quot;g&quot;);\n  $(&quot;body&quot;).children().each(function() {\n    $(this).html($(this).html().replace(sRegExInput,replace_with));\n  });\n\nThis code is on the Onclick event of a button, and you can put this in a function to call.\nSo now you can pass a variable in the replace function.\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution20","@type":"Answer","upvoteCount":0},{"text":"For multiple replace without regular expressions I went with the following:\n\n      let str = &quot;I am a cat man. I like cats&quot;;\n      let find = &quot;cat&quot;;\n      let replace = &quot;dog&quot;;\n\n\n      // Count how many occurrences there are of the string to find \n      // inside the str to be examined.\n      let findCount = str.split(find).length - 1;\n\n      let loopCount = 0;\n\n      while (loopCount &lt; findCount) \n      {\n        str = str.replace(find, replace);\n        loopCount = loopCount + 1;\n      }  \n\n      console.log(str);\n      // I am a dog man. I like dogs\n\n\nThe important part of the solution was found here\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution21","@type":"Answer","upvoteCount":0},{"text":"If you pass the variable with the correct syntax, you can do this like so with the code below.\nThis has the added benefit of using the flags in the same variable.\nAlso you don&apos;t have to double escape \\ in the regular expression when it comes to \\w, etc.\n\n\nvar str = &apos;regexVariable example: This is my example of RegExp replacing with a regexVariable.&apos;\nvar reVar = /(.*?)(regex\\w+?iable)(.+?)/gi;\nvar resStr = str.replace(new RegExp(reVar), &apos;$1 :) :) :) $2 :) :) :)$3&apos;);\nconsole.log(resStr);\n\n// Returns:\n// :) :) :) regexVariable :) :) :) example: This is my example of RegExp replacing with a  :) :) :) regexVariable :) :) :).\n Run code snippetHide resultsExpand snippet\n\n\nThe prototype version as per the OP&apos;s example:\n\n\nvar str = &apos;regexVariable prototype: This is my example of RegExp replacing with a regexVariable.&apos;\n\nString.prototype.regexVariable = function(reFind, reReplace) {\nreturn str.replace(new RegExp(reFind), reReplace);\n}\n\nvar reVar = /(.*?)(regex\\w+?iable)(.+?)/gi;\n\nconsole.log(str.regexVariable(reVar, &apos;$1 :) :) :) $2 :) :) :)$3&apos;));\n\n// Returns:\n// :) :) :) regexVariable :) :) :) prototype: This is my example of replacing with a  :) :) :) regexVariable :) :) :).\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution22","@type":"Answer","upvoteCount":0},{"text":"As a relative JavaScript novice, the accepted answer https://stackoverflow.com/a/494046/1904943 is noted / appreciated, but it is not very intuitive.\nHere is a simpler interpretation, by example (using a simple JavaScript IDE).\nmyString = &apos;apple pie, banana loaf&apos;;\n\nconsole.log(myString.replaceAll(/pie/gi, &apos;PIE&apos;))\n// apple PIE, banana loaf\n\nconsole.log(myString.replaceAll(/\\bpie\\b/gi, &apos;PIE&apos;))\n// apple PIE, banana loaf\n\nconsole.log(myString.replaceAll(/pi/gi, &apos;PIE&apos;))\n// apple PIEe, banana loaf\n\nconsole.log(myString.replaceAll(/\\bpi\\b/gi, &apos;PIE&apos;))\n// [NO EFFECT] apple pie, banana loaf\n\nconst match_word = &apos;pie&apos;;\n\nconsole.log(myString.replaceAll(/match_word/gi, &apos;**PIE**&apos;))\n// [NO EFFECT] apple pie, banana loaf\n\nconsole.log(myString.replaceAll(/\\b`${bmatch_word}`\\b/gi, &apos;**PIE**&apos;))\n// [NO EFFECT] apple pie, banana loaf\n\n// ----------------------------------------\n// ... new RegExp(): be sure to \\-escape your backslashes: \\b &gt;&gt; \\\\b ...\n\nconst match_term = &apos;pie&apos;;\nconst match_re = new RegExp(`(\\\\b${match_term}\\\\b)`, &apos;gi&apos;)\n\nconsole.log(myString.replaceAll(match_re, &apos;PiE&apos;))\n// apple PiE, banana loaf\n\nconsole.log(myString.replace(match_re, &apos;**PIE**&apos;))\n// apple **PIE**, banana loaf\n\nconsole.log(myString.replaceAll(match_re, &apos;**PIE**&apos;))\n// apple **PIE**, banana loaf\n\nApplication\nE.g.: replacing (color highlighting) words in string / sentence, [optionally] if the search term matches a more than a user-defined proportion of the matched word.\nNote: original character case of matched term is retained. hl: highlight; re: regex | regular expression\nmySentence = &quot;Apple, boOk? BOoks; booKEd. BookMark, &apos;BookmarkeD&apos;, bOOkmarks! bookmakinG, Banana; bE, BeEn, beFore.&quot;\n\nfunction replacer(mySentence, hl_term, hl_re) {\n    console.log(&apos;mySentence [raw]:&apos;, mySentence)\n    console.log(&apos;hl_term:&apos;, hl_term, &apos;| hl_term.length:&apos;, hl_term.length)\n    cutoff = hl_term.length;\n    console.log(&apos;cutoff:&apos;, cutoff)\n\n    // `.match()` conveniently collects multiple matched items\n    // (including partial matches) into an [array]\n    const hl_terms  = mySentence.toLowerCase().match(hl_re, hl_term);\n    if (hl_terms == null) {\n        console.log(&apos;No matches to hl_term &quot;&apos; + hl_term + &apos;&quot;; echoing input string then exiting ...&apos;)\n        return mySentence;\n    }\n    console.log(&apos;hl_terms:&apos;, hl_terms)\n    for (let i = 0;  i &lt; hl_terms.length; i++) {\n        console.log(&apos;----------------------------------------&apos;)\n        console.log(&apos;[&apos; + i + &apos;]:&apos;, hl_terms[i], &apos;| length:&apos;, hl_terms[i].length, &apos;| parseInt(0.7(length)):&apos;, parseInt(0.7*hl_terms[i].length))\n        // TEST: if (hl_terms[i].length &gt;= cutoff*10) {\n        if (cutoff &gt;= parseInt(0.7 * hl_terms[i].length)) {\n            var match_term = hl_terms[i].toString();\n\n            console.log(&apos;matched term:&apos;, match_term, &apos;[cutoff length:&apos;, cutoff, &apos;| 0.7(matched term length):&apos;, parseInt(0.7 * hl_terms[i].length))\n\n            const match_re = new RegExp(`(\\\\b${match_term}\\\\b)`, &apos;gi&apos;)\n\n            mySentence = mySentence.replaceAll(match_re, &apos;&lt;font style=&quot;background:#ffe74e&quot;&gt;$1&lt;/font&gt;&apos;);\n        }\n        else {\n            var match_term = hl_terms[i].toString();\n            console.log(&apos;NO match:&apos;, match_term, &apos;[cutoff length:&apos;, cutoff, &apos;| 0.7(matched term length):&apos;, parseInt(0.7 * hl_terms[i].length))\n        }\n    }\n    return mySentence;\n}\n\n// TESTS:\n// const hl_term = &apos;be&apos;;\n// const hl_term = &apos;bee&apos;;\n// const hl_term = &apos;before&apos;;\n// const hl_term = &apos;book&apos;;\nconst hl_term = &apos;bookma&apos;;\n// const hl_term = &apos;Leibniz&apos;;\n\n// This regex matches from start of word:\nconst hl_re = new RegExp(`(\\\\b${hl_term}[A-z]*)\\\\b`, &apos;gi&apos;)\n\nmySentence = replacer(mySentence, hl_term, hl_re);\nconsole.log(&apos;mySentence [processed]:&apos;, mySentence)\n\nOutput\nmySentence [raw]: Apple, boOk? BOoks; booKEd. BookMark, &apos;BookmarkeD&apos;,\nbOOkmarks! bookmakinG, Banana; bE, BeEn, beFore.\n\nhl_term: bookma | hl_term.length: 6\ncutoff: 6\nhl_terms: Array(4) [ &quot;bookmark&quot;, &quot;bookmarked&quot;, &quot;bookmarks&quot;, &quot;bookmaking&quot; ]\n\n----------------------------------------\n[0]: bookmark | length: 8 | parseInt(0.7(length)): 5\nmatched term: bookmark [cutoff length: 6 | 0.7(matched term length): 5\n----------------------------------------\n[1]: bookmarked | length: 10 | parseInt(0.7(length)): 7\nNO match: bookmarked [cutoff length: 6 | 0.7(matched term length): 7\n----------------------------------------\n[2]: bookmarks | length: 9 | parseInt(0.7(length)): 6\nmatched term: bookmarks [cutoff length: 6 | 0.7(matched term length): 6\n----------------------------------------\n[3]: bookmaking | length: 10 | parseInt(0.7(length)): 7\nNO match: bookmaking [cutoff length: 6 | 0.7(matched term length): 7\n\nmySentence [processed]: Apple, boOk? BOoks; booKEd.\n&lt;font style=&quot;background:#ffe74e&quot;&gt;BookMark&lt;/font&gt;, &apos;BookmarkeD&apos;,\n&lt;font style=&quot;background:#ffe74e&quot;&gt;bOOkmarks&lt;/font&gt;! bookmakinG,\nBanana; bE, BeEn, beFore.\n\n    ","url":"https://solutionschecker.com/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#solution23","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="22"/><script id="google-analytics" data-nscript="beforeInteractive">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NXVLL8B');</script><link rel="preload" href="/_next/static/css/c116652e2d6f4ad0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c116652e2d6f4ad0.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-862498b6ec7885c3.js" defer=""></script><script src="/_next/static/chunks/294-106ef8570fa99deb.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-47289857226115f9.js" defer=""></script><script src="/_next/static/xZs8haGjOP63QuDE0kxeX/_buildManifest.js" defer=""></script><script src="/_next/static/xZs8haGjOP63QuDE0kxeX/_ssgManifest.js" defer=""></script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NXVLL8B"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h1 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h1></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-do-you-use-a-variable-in-a-regular-expression-1657387939007"><h1>How do you use a variable in a regular expression?</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"></div></div><div class="question-content mt-5">
                
<p>I would like to create a <code>String.replaceAll()</code> method in JavaScript and I'm thinking that using a regex would be most terse way to do it.  However, I can't figure out how to pass a variable in to a regex.  I can do this already which will replace all the instances of <code>"B"</code> with <code>"A"</code>.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-string">"ABABAB"</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/B/g</span>, <span class="hljs-string">"A"</span>);
</code></pre>

<p>But I want to do something like this:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">String</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">replaceAll</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">replaceThis, withThis</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/replaceThis/g</span>, withThis);
};
</code></pre>

<p>But obviously this will only replace the text <code>"replaceThis"</code>...so how do I pass this variable in to my regex string?</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><h1 class="text-lg font-semibold mb-5">Navigate to solutions: </h1><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li><li class="pagination-solution-item"><span data-id="#solution17" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">17</span></li><li class="pagination-solution-item"><span data-id="#solution18" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">18</span></li><li class="pagination-solution-item"><span data-id="#solution19" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">19</span></li><li class="pagination-solution-item"><span data-id="#solution20" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">20</span></li><li class="pagination-solution-item"><span data-id="#solution21" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">21</span></li><li class="pagination-solution-item"><span data-id="#solution22" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">22</span></li><li class="pagination-solution-item"><span data-id="#solution23" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">23</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 1</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Instead of using the <code>/regex\d/g</code> syntax, you can construct a new <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Regular_Expressions" rel="noreferrer">RegExp</a> object:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> replace = <span class="hljs-string">"regex\\d"</span>;
<span class="hljs-keyword">var</span> re = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(replace,<span class="hljs-string">"g"</span>);
</code></pre>
<p>You can dynamically create regex objects this way. Then you will do:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-string">"mystring1"</span>.<span class="hljs-title function_">replace</span>(re, <span class="hljs-string">"newstring"</span>);
</code></pre>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 2</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>As Eric Wendelin mentioned, you can do something like this:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">str1 = <span class="hljs-string">"pattern"</span>
<span class="hljs-keyword">var</span> re = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(str1, <span class="hljs-string">"g"</span>);
<span class="hljs-string">"pattern matching ."</span>.<span class="hljs-title function_">replace</span>(re, <span class="hljs-string">"regex"</span>);
</code></pre>

<p>This yields <code>"regex matching ."</code>. However, it will fail if str1 is <code>"."</code>. You'd expect the result to be <code>"pattern matching regex"</code>, replacing the period with <code>"regex"</code>, but it'll turn out to be...</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">regexregexregexregexregexregexregexregexregexregexregexregexregexregexregexregexregexregex
</code></pre>

<p>This is because, although <code>"."</code> is a String, in the RegExp constructor it's still interpreted as a regular expression, meaning any non-line-break character, meaning every character in the string. For this purpose, the following function may be useful:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"> <span class="hljs-title class_">RegExp</span>.<span class="hljs-property">quote</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">str</span>) {
     <span class="hljs-keyword">return</span> str.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/([.?*+^$[\]\\(){}|-])/g</span>, <span class="hljs-string">"\\$1"</span>);
 };
</code></pre>

<p>Then you can do:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">str1 = <span class="hljs-string">"."</span>
<span class="hljs-keyword">var</span> re = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-title class_">RegExp</span>.<span class="hljs-title function_">quote</span>(str1), <span class="hljs-string">"g"</span>);
<span class="hljs-string">"pattern matching ."</span>.<span class="hljs-title function_">replace</span>(re, <span class="hljs-string">"regex"</span>);
</code></pre>

<p>yielding <code>"pattern matching regex"</code>.</p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 3</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<blockquote>
  <p><code>"ABABAB".replace(/B/g, "A");</code></p>
</blockquote>

<p>As always: don't use regex unless you have to. For a simple string replace, the idiom is:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-string">'ABABAB'</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">'B'</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">'A'</span>)
</code></pre>

<p>Then you don't have to worry about the quoting issues mentioned in Gracenotes's answer.</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 4</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you want to get <em>all</em> occurrences (<code>g</code>), be case insensitive (<code>i</code>), and use boundaries so that it isn't a word within another word (<code>\\b</code>):</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">re = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`\\b<span class="hljs-subst">${replaceThis}</span>\\b`</span>, <span class="hljs-string">'gi'</span>);
</code></pre>
<hr>
<p>Example:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">let</span> inputString = <span class="hljs-string">"I'm John, or johnny, but I prefer john."</span>;
<span class="hljs-keyword">let</span> replaceThis = <span class="hljs-string">"John"</span>;
<span class="hljs-keyword">let</span> re = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`\\b<span class="hljs-subst">${replaceThis}</span>\\b`</span>, <span class="hljs-string">'gi'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(inputString.<span class="hljs-title function_">replace</span>(re, <span class="hljs-string">"Jack"</span>)); <span class="hljs-comment">// I'm Jack, or johnny, but I prefer Jack.</span>
</code></pre>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 5</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> txt=<span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(pattern,attributes);
</code></pre>

<p>is equivalent to this:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> txt=<span class="hljs-regexp">/pattern/</span>attributes;
</code></pre>

<p>See <a href="http://www.w3schools.com/jsref/jsref_obj_regexp.asp" rel="noreferrer">http://www.w3schools.com/jsref/jsref_obj_regexp.asp</a>.</p>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 6</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>For anyone looking to use a variable with the <strong>match</strong> method, this worked for me:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> alpha = <span class="hljs-string">'fig'</span>;
<span class="hljs-string">'food fight'</span>.<span class="hljs-title function_">match</span>(alpha + <span class="hljs-string">'ht'</span>)[<span class="hljs-number">0</span>]; <span class="hljs-comment">// fight</span>
</code></pre>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 7</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-title function_">replace</span>( <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>( replaceThis, <span class="hljs-string">'g'</span> ), withThis );
</code></pre>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 8</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You need to build the regular expression dynamically and for this <strong>you must use the <code>new RegExp(string)</code> constructor with escaping</strong>.</p>
<p>There is a built-in function in <a href="https://api.jqueryui.com/autocomplete/" rel="nofollow noreferrer">jQuery UI autocomplete widget</a> called <code>$.ui.autocomplete.escapeRegex</code>:</p>
<blockquote>
<p>It'll take a single string argument and escape all regex characters,
making the result safe to pass to <code>new RegExp()</code>.</p>
</blockquote>
<p>If you are not using jQuery UI you can copy its definition <a href="https://github.com/jquery/jquery-ui/blob/main/ui/widgets/autocomplete.js" rel="nofollow noreferrer">from the source</a>:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">escapeRegex</span>(<span class="hljs-params"> value </span>) {
    <span class="hljs-keyword">return</span> value.<span class="hljs-title function_">replace</span>( <span class="hljs-regexp">/[\-\[\]{}()*+?.,\\\^$|#\s]/g</span>, <span class="hljs-string">"\\$&amp;"</span> );
}
</code></pre>
<p>And use it like this:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-string">"[z-a][z-a][z-a]"</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(escapeRegex(<span class="hljs-string">"[z-a]"</span>), <span class="hljs-string">"g"</span>), <span class="hljs-string">"[a-z]"</span>);
<span class="hljs-comment">//            escapeRegex("[z-a]")       -&gt; "\[z\-a\]"</span>
<span class="hljs-comment">// new RegExp(escapeRegex("[z-a]"), "g") -&gt; /\[z\-a\]/g</span>
<span class="hljs-comment">// end result                            -&gt; "[a-z][a-z][a-z]"</span>
</code></pre>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 9</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">String</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">replaceAll</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">replaceThis, withThis</span>) {
   <span class="hljs-keyword">var</span> re = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(replaceThis,<span class="hljs-string">"g"</span>); 
   <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">replace</span>(re, withThis);
};
<span class="hljs-keyword">var</span> aa = <span class="hljs-string">"abab54..aba"</span>.<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">"\\."</span>, <span class="hljs-string">"v"</span>);
</code></pre>

<p>Test with this <a href="http://www.pagecolumn.com/tool/regtest.htm" rel="noreferrer">tool</a> </p>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 10</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">String</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">replaceAll</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(a.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/([.?*+^$[\]\\(){}|-])/ig</span>, <span class="hljs-string">"\\$1"</span>), <span class="hljs-string">'ig'</span>), b)
}
</code></pre>

<p>Test it like:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> whatever = <span class="hljs-string">'Some [b]random[/b] text in a [b]sentence.[/b]'</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(whatever.<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">"["</span>, <span class="hljs-string">"&lt;"</span>).<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">"]"</span>, <span class="hljs-string">"&gt;"</span>))
</code></pre>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 11</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>And the CoffeeScript version of <a href="https://stackoverflow.com/questions/494035/how-do-you-use-a-variable-in-a-regular-expression/13608644#13608644">Steven Penny's answer</a>, since this is #2 Google result....even if CoffeeScript is just JavaScript with a lot of characters removed...;)</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">baz = <span class="hljs-string">"foo"</span>
filter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(baz + <span class="hljs-string">"d"</span>)
<span class="hljs-string">"food fight"</span>.<span class="hljs-title function_">match</span>(filter)[<span class="hljs-number">0</span>] <span class="hljs-comment">// food</span>
</code></pre>
<p>And in my particular case:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">robot.<span class="hljs-property">name</span> = hubot
filter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(robot.<span class="hljs-property">name</span>)
<span class="hljs-keyword">if</span> msg.<span class="hljs-property">match</span>.<span class="hljs-property">input</span>.<span class="hljs-title function_">match</span>(filter)
  <span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span> <span class="hljs-string">"True!"</span>
</code></pre>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 12</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>To satisfy my need to insert a variable/alias/function into a Regular Expression, this is what I came up with:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">oldre = <span class="hljs-regexp">/xx\(""\)/</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">newre</span>(<span class="hljs-params">e</span>){
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">RegExp</span>(e.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\//g</span>,<span class="hljs-string">""</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/xx/g</span>, yy), <span class="hljs-string">"g"</span>)
};

<span class="hljs-title class_">String</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">replaceAll</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-title function_">newre</span>(oldre), <span class="hljs-string">"withThis"</span>);
</code></pre>

<p>where 'oldre' is the original regexp that I want to insert a variable,
'xx' is the placeholder for that variable/alias/function,
and 'yy' is the actual variable name, alias, or function.</p>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 13</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can use a string as a regular expression. Dont forget to use <strong>new RegExp</strong>.</p>
<p>Example:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> yourFunction = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(
        <span class="hljs-string">'^-?\\d+(?:\\.\\d{0,'</span> + yourVar + <span class="hljs-string">'})?'</span>
      )
</code></pre>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 14</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here's another replaceAll implementation:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">    <span class="hljs-title class_">String</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">replaceAll</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">stringToFind, stringToReplace</span>) {
        <span class="hljs-keyword">if</span> ( stringToFind == stringToReplace) <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
        <span class="hljs-keyword">var</span> temp = <span class="hljs-variable language_">this</span>;
        <span class="hljs-keyword">var</span> index = temp.<span class="hljs-title function_">indexOf</span>(stringToFind);
        <span class="hljs-keyword">while</span> (index != -<span class="hljs-number">1</span>) {
            temp = temp.<span class="hljs-title function_">replace</span>(stringToFind, stringToReplace);
            index = temp.<span class="hljs-title function_">indexOf</span>(stringToFind);
        }
        <span class="hljs-keyword">return</span> temp;
    };
</code></pre>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 15</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can use this if <code>$1</code> does not work for you:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> pattern = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">"amman"</span>, <span class="hljs-string">"i"</span>);
<span class="hljs-string">"abc Amman efg"</span>.<span class="hljs-title function_">replace</span>(pattern, <span class="hljs-string">"&lt;b&gt;"</span> + <span class="hljs-string">"abc Amman efg"</span>.<span class="hljs-title function_">match</span>(pattern)[<span class="hljs-number">0</span>] + <span class="hljs-string">"&lt;/b&gt;"</span>);
</code></pre>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 16</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>While you can make dynamically-created RegExp's (as per the other responses to this question), I'll echo my comment from a <a href="https://stackoverflow.com/questions/487509/passing-variable-to-a-regexp-in-javascript/488133#488133">similar post</a>: The functional form of <a href="https://developer.mozilla.org/En/Core_JavaScript_1.5_Reference/Global_Objects/String/Replace" rel="nofollow noreferrer">String.replace()</a> is extremely useful and in many cases reduces the need for dynamically-created RegExp objects. (which are kind of a pain 'cause you have to express the input to the RegExp constructor as a string rather than use the slashes /[A-Z]+/ regexp literal format)</p>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 17</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This self calling function will iterate over replacerItems using an index, and change replacerItems[index] globally on the string with each pass.   </p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">  <span class="hljs-keyword">const</span> replacerItems = [<span class="hljs-string">"a"</span>, <span class="hljs-string">"b"</span>, <span class="hljs-string">"c"</span>];    

    <span class="hljs-keyword">function</span> <span class="hljs-title function_">replacer</span>(<span class="hljs-params">str, index</span>){
          <span class="hljs-keyword">const</span> item = replacerItems[index];
          <span class="hljs-keyword">const</span> regex = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`[<span class="hljs-subst">${item}</span>]`</span>, <span class="hljs-string">"g"</span>);
          <span class="hljs-keyword">const</span> newStr = str.<span class="hljs-title function_">replace</span>(regex, <span class="hljs-string">"z"</span>);
          <span class="hljs-keyword">if</span> (index &lt; replacerItems.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">replacer</span>(newStr, index + <span class="hljs-number">1</span>);
          }
          <span class="hljs-keyword">return</span> newStr;
    }

<span class="hljs-comment">// console.log(replacer('abcdefg', 0)) will output 'zzzdefg'</span>
</code></pre>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 18</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>None of these answers were clear to me. I eventually found a good explanation at <em><a href="http://burnignorance.com/php-programming-tips/how-to-use-a-variable-in-replace-function-of-javascript/" rel="nofollow noreferrer">How to use a variable in replace function of JavaScript</a></em></p>
<p>The simple answer is:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> search_term = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(search_term, <span class="hljs-string">"g"</span>);
text = text.<span class="hljs-title function_">replace</span>(search_term, replace_term);
</code></pre>
<p>For example:</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript">$(<span class="hljs-string">"button"</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title class_">Find</span>_and_replace(<span class="hljs-string">"Lorem"</span>, <span class="hljs-string">"Chocolate"</span>);
  <span class="hljs-title class_">Find</span>_and_replace(<span class="hljs-string">"ipsum"</span>, <span class="hljs-string">"ice-cream"</span>);
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Find_and_replace</span>(<span class="hljs-params">search_term, replace_term</span>) {
  text = $(<span class="hljs-string">"textbox"</span>).<span class="hljs-title function_">html</span>();
  <span class="hljs-keyword">var</span> search_term = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(search_term, <span class="hljs-string">"g"</span>);
  text = text.<span class="hljs-title function_">replace</span>(search_term, replace_term);
  $(<span class="hljs-string">"textbox"</span>).<span class="hljs-title function_">html</span>(text);
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">textbox</span>&gt;</span>
  Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum
<span class="hljs-tag">&lt;/<span class="hljs-name">textbox</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>Click me<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif1" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 19</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can always use <code>indexOf</code> repeatedly:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">String</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">replaceAll</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">substring, replacement</span>) {
    <span class="hljs-keyword">var</span> result = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">var</span> lastIndex = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>) {
        <span class="hljs-keyword">var</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">indexOf</span>(substring, lastIndex);
        <span class="hljs-keyword">if</span>(index === -<span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;
        result += <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">substring</span>(lastIndex, index) + replacement;
        lastIndex = index + substring.<span class="hljs-property">length</span>;
    }

    <span class="hljs-keyword">return</span> result + <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">substring</span>(lastIndex);
};
</code></pre>

<p>This doesnt go into an infinite loop when the replacement contains the match.</p>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 20</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>One way to implement is by taking the value from a text field which is the one you want to replace and another is the "replace with" text field, getting the value from text-field in a variable and setting the variable to RegExp function to further replace. In my case I am using jQuery, but you can also do it by only JavaScript too.</p>
<p>JavaScript code:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">  <span class="hljs-keyword">var</span> replace =<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"replace}"</span>); <span class="hljs-comment">// getting a value from a text field with I want to replace</span>
  <span class="hljs-keyword">var</span> replace_with = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"with"</span>); <span class="hljs-comment">//Getting the value from another text fields with which I want to replace another string.</span>

  <span class="hljs-keyword">var</span> sRegExInput = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(replace, <span class="hljs-string">"g"</span>);
  $(<span class="hljs-string">"body"</span>).<span class="hljs-title function_">children</span>().<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">html</span>($(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">html</span>().<span class="hljs-title function_">replace</span>(sRegExInput,replace_with));
  });
</code></pre>
<p>This code is on the Onclick event of a button, and you can put this in a function to call.</p>
<p>So now you can pass a variable in the replace function.</p>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 21</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>For multiple replace without regular expressions I went with the following:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">      <span class="hljs-keyword">let</span> str = <span class="hljs-string">"I am a cat man. I like cats"</span>;
      <span class="hljs-keyword">let</span> find = <span class="hljs-string">"cat"</span>;
      <span class="hljs-keyword">let</span> replace = <span class="hljs-string">"dog"</span>;


      <span class="hljs-comment">// Count how many occurrences there are of the string to find </span>
      <span class="hljs-comment">// inside the str to be examined.</span>
      <span class="hljs-keyword">let</span> findCount = str.<span class="hljs-title function_">split</span>(find).<span class="hljs-property">length</span> - <span class="hljs-number">1</span>;

      <span class="hljs-keyword">let</span> loopCount = <span class="hljs-number">0</span>;

      <span class="hljs-keyword">while</span> (loopCount &lt; findCount) 
      {
        str = str.<span class="hljs-title function_">replace</span>(find, replace);
        loopCount = loopCount + <span class="hljs-number">1</span>;
      }  

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str);
      <span class="hljs-comment">// I am a dog man. I like dogs</span>
</code></pre>

<p><a href="https://stackoverflow.com/a/39422368/4683230">The important part of the solution was found here</a></p>
    </div></div></div></div><div id="solution22" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 22</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you pass the variable with the correct syntax, you can do this like so with the code below.</p>
<p>This has the added benefit of using the flags in the same variable.</p>
<p>Also you don't have to double escape <code>\</code> in the regular expression when it comes to <code>\w</code>, etc.</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="true">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> str = <span class="hljs-string">'regexVariable example: This is my example of RegExp replacing with a regexVariable.'</span>
<span class="hljs-keyword">var</span> reVar = <span class="hljs-regexp">/(.*?)(regex\w+?iable)(.+?)/gi</span>;
<span class="hljs-keyword">var</span> resStr = str.<span class="hljs-title function_">replace</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(reVar), <span class="hljs-string">'$1 :) :) :) $2 :) :) :)$3'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(resStr);

<span class="hljs-comment">// Returns:</span>
<span class="hljs-comment">// :) :) :) regexVariable :) :) :) example: This is my example of RegExp replacing with a  :) :) :) regexVariable :) :) :).</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif2" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>The prototype version as per the OP's example:</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="true">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> str = <span class="hljs-string">'regexVariable prototype: This is my example of RegExp replacing with a regexVariable.'</span>

<span class="hljs-title class_">String</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">regexVariable</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">reFind, reReplace</span>) {
<span class="hljs-keyword">return</span> str.<span class="hljs-title function_">replace</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(reFind), reReplace);
}

<span class="hljs-keyword">var</span> reVar = <span class="hljs-regexp">/(.*?)(regex\w+?iable)(.+?)/gi</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">regexVariable</span>(reVar, <span class="hljs-string">'$1 :) :) :) $2 :) :) :)$3'</span>));

<span class="hljs-comment">// Returns:</span>
<span class="hljs-comment">// :) :) :) regexVariable :) :) :) prototype: This is my example of replacing with a  :) :) :) regexVariable :) :) :).</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif3" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution23" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 23</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>As a relative JavaScript novice, the accepted answer <a href="https://stackoverflow.com/a/494046/1904943">https://stackoverflow.com/a/494046/1904943</a> is noted / appreciated, but it is not very intuitive.</p>
<p>Here is a simpler interpretation, by example (using a <a href="https://stackoverflow.com/questions/17132593/simple-javascript-ide/66376974#66376974">simple JavaScript IDE</a>).</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">myString = <span class="hljs-string">'apple pie, banana loaf'</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myString.<span class="hljs-title function_">replaceAll</span>(<span class="hljs-regexp">/pie/gi</span>, <span class="hljs-string">'PIE'</span>))
<span class="hljs-comment">// apple PIE, banana loaf</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myString.<span class="hljs-title function_">replaceAll</span>(<span class="hljs-regexp">/\bpie\b/gi</span>, <span class="hljs-string">'PIE'</span>))
<span class="hljs-comment">// apple PIE, banana loaf</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myString.<span class="hljs-title function_">replaceAll</span>(<span class="hljs-regexp">/pi/gi</span>, <span class="hljs-string">'PIE'</span>))
<span class="hljs-comment">// apple PIEe, banana loaf</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myString.<span class="hljs-title function_">replaceAll</span>(<span class="hljs-regexp">/\bpi\b/gi</span>, <span class="hljs-string">'PIE'</span>))
<span class="hljs-comment">// [NO EFFECT] apple pie, banana loaf</span>

<span class="hljs-keyword">const</span> match_word = <span class="hljs-string">'pie'</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myString.<span class="hljs-title function_">replaceAll</span>(<span class="hljs-regexp">/match_word/gi</span>, <span class="hljs-string">'**PIE**'</span>))
<span class="hljs-comment">// [NO EFFECT] apple pie, banana loaf</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myString.<span class="hljs-title function_">replaceAll</span>(<span class="hljs-regexp">/\b`${bmatch_word}`\b/gi</span>, <span class="hljs-string">'**PIE**'</span>))
<span class="hljs-comment">// [NO EFFECT] apple pie, banana loaf</span>

<span class="hljs-comment">// ----------------------------------------</span>
<span class="hljs-comment">// ... new RegExp(): be sure to \-escape your backslashes: \b &gt;&gt; \\b ...</span>

<span class="hljs-keyword">const</span> match_term = <span class="hljs-string">'pie'</span>;
<span class="hljs-keyword">const</span> match_re = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`(\\b<span class="hljs-subst">${match_term}</span>\\b)`</span>, <span class="hljs-string">'gi'</span>)

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myString.<span class="hljs-title function_">replaceAll</span>(match_re, <span class="hljs-string">'PiE'</span>))
<span class="hljs-comment">// apple PiE, banana loaf</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myString.<span class="hljs-title function_">replace</span>(match_re, <span class="hljs-string">'**PIE**'</span>))
<span class="hljs-comment">// apple **PIE**, banana loaf</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myString.<span class="hljs-title function_">replaceAll</span>(match_re, <span class="hljs-string">'**PIE**'</span>))
<span class="hljs-comment">// apple **PIE**, banana loaf</span>
</code></pre>
<p><strong>Application</strong></p>
<p>E.g.: replacing (color highlighting) words in string / sentence, [optionally] if the search term matches a more than a user-defined proportion of the matched word.</p>
<p>Note: original character case of matched term is retained. <code>hl</code>: highlight; <code>re</code>: regex | regular expression</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">mySentence = <span class="hljs-string">"Apple, boOk? BOoks; booKEd. BookMark, 'BookmarkeD', bOOkmarks! bookmakinG, Banana; bE, BeEn, beFore."</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">replacer</span>(<span class="hljs-params">mySentence, hl_term, hl_re</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'mySentence [raw]:'</span>, mySentence)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'hl_term:'</span>, hl_term, <span class="hljs-string">'| hl_term.length:'</span>, hl_term.<span class="hljs-property">length</span>)
    cutoff = hl_term.<span class="hljs-property">length</span>;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'cutoff:'</span>, cutoff)

    <span class="hljs-comment">// `.match()` conveniently collects multiple matched items</span>
    <span class="hljs-comment">// (including partial matches) into an [array]</span>
    <span class="hljs-keyword">const</span> hl_terms  = mySentence.<span class="hljs-title function_">toLowerCase</span>().<span class="hljs-title function_">match</span>(hl_re, hl_term);
    <span class="hljs-keyword">if</span> (hl_terms == <span class="hljs-literal">null</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'No matches to hl_term "'</span> + hl_term + <span class="hljs-string">'"; echoing input string then exiting ...'</span>)
        <span class="hljs-keyword">return</span> mySentence;
    }
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'hl_terms:'</span>, hl_terms)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;  i &lt; hl_terms.<span class="hljs-property">length</span>; i++) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'----------------------------------------'</span>)
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'['</span> + i + <span class="hljs-string">']:'</span>, hl_terms[i], <span class="hljs-string">'| length:'</span>, hl_terms[i].<span class="hljs-property">length</span>, <span class="hljs-string">'| parseInt(0.7(length)):'</span>, <span class="hljs-built_in">parseInt</span>(<span class="hljs-number">0.7</span>*hl_terms[i].<span class="hljs-property">length</span>))
        <span class="hljs-comment">// TEST: if (hl_terms[i].length &gt;= cutoff*10) {</span>
        <span class="hljs-keyword">if</span> (cutoff &gt;= <span class="hljs-built_in">parseInt</span>(<span class="hljs-number">0.7</span> * hl_terms[i].<span class="hljs-property">length</span>)) {
            <span class="hljs-keyword">var</span> match_term = hl_terms[i].<span class="hljs-title function_">toString</span>();

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'matched term:'</span>, match_term, <span class="hljs-string">'[cutoff length:'</span>, cutoff, <span class="hljs-string">'| 0.7(matched term length):'</span>, <span class="hljs-built_in">parseInt</span>(<span class="hljs-number">0.7</span> * hl_terms[i].<span class="hljs-property">length</span>))

            <span class="hljs-keyword">const</span> match_re = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`(\\b<span class="hljs-subst">${match_term}</span>\\b)`</span>, <span class="hljs-string">'gi'</span>)

            mySentence = mySentence.<span class="hljs-title function_">replaceAll</span>(match_re, <span class="hljs-string">'&lt;font style="background:#ffe74e"&gt;$1&lt;/font&gt;'</span>);
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> match_term = hl_terms[i].<span class="hljs-title function_">toString</span>();
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'NO match:'</span>, match_term, <span class="hljs-string">'[cutoff length:'</span>, cutoff, <span class="hljs-string">'| 0.7(matched term length):'</span>, <span class="hljs-built_in">parseInt</span>(<span class="hljs-number">0.7</span> * hl_terms[i].<span class="hljs-property">length</span>))
        }
    }
    <span class="hljs-keyword">return</span> mySentence;
}

<span class="hljs-comment">// TESTS:</span>
<span class="hljs-comment">// const hl_term = 'be';</span>
<span class="hljs-comment">// const hl_term = 'bee';</span>
<span class="hljs-comment">// const hl_term = 'before';</span>
<span class="hljs-comment">// const hl_term = 'book';</span>
<span class="hljs-keyword">const</span> hl_term = <span class="hljs-string">'bookma'</span>;
<span class="hljs-comment">// const hl_term = 'Leibniz';</span>

<span class="hljs-comment">// This regex matches from start of word:</span>
<span class="hljs-keyword">const</span> hl_re = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`(\\b<span class="hljs-subst">${hl_term}</span>[A-z]*)\\b`</span>, <span class="hljs-string">'gi'</span>)

mySentence = <span class="hljs-title function_">replacer</span>(mySentence, hl_term, hl_re);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'mySentence [processed]:'</span>, mySentence)
</code></pre>
<p><strong>Output</strong></p>
<pre class="lang-none s-code-block"><code>mySentence [raw]: Apple, boOk? BOoks; booKEd. BookMark, 'BookmarkeD',
bOOkmarks! bookmakinG, Banana; bE, BeEn, beFore.

hl_term: bookma | hl_term.length: 6
cutoff: 6
hl_terms: Array(4) [ "bookmark", "bookmarked", "bookmarks", "bookmaking" ]

----------------------------------------
[0]: bookmark | length: 8 | parseInt(0.7(length)): 5
matched term: bookmark [cutoff length: 6 | 0.7(matched term length): 5
----------------------------------------
[1]: bookmarked | length: 10 | parseInt(0.7(length)): 7
NO match: bookmarked [cutoff length: 6 | 0.7(matched term length): 7
----------------------------------------
[2]: bookmarks | length: 9 | parseInt(0.7(length)): 6
matched term: bookmarks [cutoff length: 6 | 0.7(matched term length): 6
----------------------------------------
[3]: bookmaking | length: 10 | parseInt(0.7(length)): 7
NO match: bookmaking [cutoff length: 6 | 0.7(matched term length): 7

mySentence [processed]: Apple, boOk? BOoks; booKEd.
&lt;font style="background:#ffe74e"&gt;BookMark&lt;/font&gt;, 'BookmarkeD',
&lt;font style="background:#ffe74e"&gt;bOOkmarks&lt;/font&gt;! bookmakinG,
Banana; bE, BeEn, beFore.
</code></pre>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/how-can-i-prevent-sql-injection-in-php-1657384220094">How can I prevent SQL injection in PHP?</a><a href="/questions/randomize-a-listlesstgreater-1657388172793">Randomize a List&lt;T&gt;</a><a href="/questions/ggplot-with-2-y-axes-on-each-side-and-different-scales-1657388519163">ggplot with 2 y axes on each side and different scales</a><a href="/questions/how-to-use-sharedpreferences-in-android-to-store-fetch-and-edit-values-closed-1657387683057">How to use SharedPreferences in Android to store, fetch and edit values [closed]</a><a href="/questions/why-don&#x27;t-flex-items-shrink-past-content-size-1657384687282">Why don&#x27;t flex items shrink past content size?</a><a href="/questions/why-do-i-get-a-segmentation-fault-when-writing-to-a-%22char-*s%22-initialized-with-a-string-literal-but-not-%22char-s%22-1657385511046">Why do I get a segmentation fault when writing to a &quot;char *s&quot; initialized with a string literal, but not &quot;char s[]&quot;?</a><a href="/questions/how-do-we-control-web-page-caching-across-all-browsers-1657387529059">How do we control web page caching, across all browsers?</a><a href="/questions/no-&#x27;access-control-allow-origin&#x27;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467">No &#x27;Access-Control-Allow-Origin&#x27; header is present on the requested resourcewhen trying to get data from a REST API</a><a href="/questions/simulating-group_concat-mysql-function-in-microsoft-sql-server-2005-1657384832169">Simulating group_concat MySQL function in Microsoft SQL Server 2005?</a><a href="/questions/how-do-i-use-shell-variables-in-an-awk-script-1657387754261">How do I use shell variables in an awk script?</a><a href="/questions/performance-optimization-strategies-of-last-resort-closed-1657388420614">Performance optimization strategies of last resort [closed]</a><a href="/questions/calling-a-function-of-a-module-by-using-its-name-(a-string)-1657388565656">Calling a function of a module by using its name (a string)</a><a href="/questions/event-binding-on-dynamically-created-elements-1657384268057">Event binding on dynamically created elements?</a><a href="/questions/object-comparison-in-javascript-duplicate-1657387675463">Object comparison in JavaScript [duplicate]</a><a href="/questions/how-can-i-parse-a-json-file-with-php-duplicate-1657388002325">How can I parse a JSON file with PHP? [duplicate]</a><a href="/questions/what-is-a-nullpointerexception-and-how-do-i-fix-it-1657384201768">What is a NullPointerException, and how do I fix it?</a><a href="/questions/mysqli-or-die-does-it-have-to-die-1657388533922">mysqli or die, does it have to die?</a><a href="/questions/c++-singleton-design-pattern-1657387830040">C++ Singleton design pattern</a><a href="/questions/scanf()-leaves-the-newline-character-in-the-buffer-1657384699202">scanf() leaves the newline character in the buffer</a><a href="/questions/how-to-center-an-element-horizontally-and-vertically-1657388132330">How to center an element horizontally and vertically</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;Instead of using the \u0026lt;code\u0026gt;/regex\\d/g\u0026lt;/code\u0026gt; syntax, you can construct a new \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Regular_Expressions\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;RegExp\u0026lt;/a\u0026gt; object:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; replace = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;regex\\\\d\u0026quot;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; re = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(replace,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;g\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;You can dynamically create regex objects this way. Then you will do:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;mystring1\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(re, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;newstring\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;As Eric Wendelin mentioned, you can do something like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;str1 = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;pattern\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; re = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(str1, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;g\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;pattern matching .\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(re, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;regex\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This yields \u0026lt;code\u0026gt;\u0026quot;regex matching .\u0026quot;\u0026lt;/code\u0026gt;. However, it will fail if str1 is \u0026lt;code\u0026gt;\u0026quot;.\u0026quot;\u0026lt;/code\u0026gt;. You\u0026apos;d expect the result to be \u0026lt;code\u0026gt;\u0026quot;pattern matching regex\u0026quot;\u0026lt;/code\u0026gt;, replacing the period with \u0026lt;code\u0026gt;\u0026quot;regex\u0026quot;\u0026lt;/code\u0026gt;, but it\u0026apos;ll turn out to be...\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;regexregexregexregexregexregexregexregexregexregexregexregexregexregexregexregexregexregex\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This is because, although \u0026lt;code\u0026gt;\u0026quot;.\u0026quot;\u0026lt;/code\u0026gt; is a String, in the RegExp constructor it\u0026apos;s still interpreted as a regular expression, meaning any non-line-break character, meaning every character in the string. For this purpose, the following function may be useful:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;quote\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt;) {\n     \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; str.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/([.?*+^$[\\]\\\\(){}|-])/g\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\\\\$1\u0026quot;\u0026lt;/span\u0026gt;);\n };\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Then you can do:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;str1 = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;.\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; re = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;quote\u0026lt;/span\u0026gt;(str1), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;g\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;pattern matching .\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(re, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;regex\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;yielding \u0026lt;code\u0026gt;\u0026quot;pattern matching regex\u0026quot;\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;\u0026lt;code\u0026gt;\u0026quot;ABABAB\u0026quot;.replace(/B/g, \u0026quot;A\u0026quot;);\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;As always: don\u0026apos;t use regex unless you have to. For a simple string replace, the idiom is:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ABABAB\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;split\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;B\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Then you don\u0026apos;t have to worry about the quoting issues mentioned in Gracenotes\u0026apos;s answer.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you want to get \u0026lt;em\u0026gt;all\u0026lt;/em\u0026gt; occurrences (\u0026lt;code\u0026gt;g\u0026lt;/code\u0026gt;), be case insensitive (\u0026lt;code\u0026gt;i\u0026lt;/code\u0026gt;), and use boundaries so that it isn\u0026apos;t a word within another word (\u0026lt;code\u0026gt;\\\\b\u0026lt;/code\u0026gt;):\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;re = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;`\\\\b\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${replaceThis}\u0026lt;/span\u0026gt;\\\\b`\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;gi\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;Example:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; inputString = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;I\u0026apos;m John, or johnny, but I prefer john.\u0026quot;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; replaceThis = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;John\u0026quot;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; re = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;`\\\\b\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${replaceThis}\u0026lt;/span\u0026gt;\\\\b`\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;gi\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(inputString.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(re, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Jack\u0026quot;\u0026lt;/span\u0026gt;)); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// I\u0026apos;m Jack, or johnny, but I prefer Jack.\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; txt=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(pattern,attributes);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;is equivalent to this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; txt=\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/pattern/\u0026lt;/span\u0026gt;attributes;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;See \u0026lt;a href=\u0026quot;http://www.w3schools.com/jsref/jsref_obj_regexp.asp\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://www.w3schools.com/jsref/jsref_obj_regexp.asp\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;For anyone looking to use a variable with the \u0026lt;strong\u0026gt;match\u0026lt;/strong\u0026gt; method, this worked for me:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; alpha = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;fig\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;food fight\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;match\u0026lt;/span\u0026gt;(alpha + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ht\u0026apos;\u0026lt;/span\u0026gt;)[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;]; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// fight\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;( replaceThis, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;g\u0026apos;\u0026lt;/span\u0026gt; ), withThis );\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You need to build the regular expression dynamically and for this \u0026lt;strong\u0026gt;you must use the \u0026lt;code\u0026gt;new RegExp(string)\u0026lt;/code\u0026gt; constructor with escaping\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;There is a built-in function in \u0026lt;a href=\u0026quot;https://api.jqueryui.com/autocomplete/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;jQuery UI autocomplete widget\u0026lt;/a\u0026gt; called \u0026lt;code\u0026gt;$.ui.autocomplete.escapeRegex\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;It\u0026apos;ll take a single string argument and escape all regex characters,\nmaking the result safe to pass to \u0026lt;code\u0026gt;new RegExp()\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;If you are not using jQuery UI you can copy its definition \u0026lt;a href=\u0026quot;https://github.com/jquery/jquery-ui/blob/main/ui/widgets/autocomplete.js\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;from the source\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;escapeRegex\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt; value \u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; value.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\\\\$\u0026amp;amp;\u0026quot;\u0026lt;/span\u0026gt; );\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;And use it like this:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;[z-a][z-a][z-a]\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(escapeRegex(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;[z-a]\u0026quot;\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;g\u0026quot;\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;[a-z]\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//            escapeRegex(\u0026quot;[z-a]\u0026quot;)       -\u0026amp;gt; \u0026quot;\\[z\\-a\\]\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// new RegExp(escapeRegex(\u0026quot;[z-a]\u0026quot;), \u0026quot;g\u0026quot;) -\u0026amp;gt; /\\[z\\-a\\]/g\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// end result                            -\u0026amp;gt; \u0026quot;[a-z][a-z][a-z]\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;replaceThis, withThis\u0026lt;/span\u0026gt;) {\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; re = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(replaceThis,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;g\u0026quot;\u0026lt;/span\u0026gt;); \n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(re, withThis);\n};\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; aa = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;abab54..aba\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\\\\.\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;v\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Test with this \u0026lt;a href=\u0026quot;http://www.pagecolumn.com/tool/regtest.htm\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;tool\u0026lt;/a\u0026gt; \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;a, b\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(a.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/([.?*+^$[\\]\\\\(){}|-])/ig\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\\\\$1\u0026quot;\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ig\u0026apos;\u0026lt;/span\u0026gt;), b)\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Test it like:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; whatever = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Some [b]random[/b] text in a [b]sentence.[/b]\u0026apos;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(whatever.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;[\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026amp;lt;\u0026quot;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;]\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026amp;gt;\u0026quot;\u0026lt;/span\u0026gt;))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;And the CoffeeScript version of \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/494035/how-do-you-use-a-variable-in-a-regular-expression/13608644#13608644\u0026quot;\u0026gt;Steven Penny\u0026apos;s answer\u0026lt;/a\u0026gt;, since this is #2 Google result....even if CoffeeScript is just JavaScript with a lot of characters removed...;)\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;baz = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;foo\u0026quot;\u0026lt;/span\u0026gt;\nfilter = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(baz + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;d\u0026quot;\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;food fight\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;match\u0026lt;/span\u0026gt;(filter)[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;] \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// food\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;And in my particular case:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;robot.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt; = hubot\nfilter = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(robot.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; msg.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;match\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;match\u0026lt;/span\u0026gt;(filter)\n  \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;True!\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;To satisfy my need to insert a variable/alias/function into a Regular Expression, this is what I came up with:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;oldre = \u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/xx\\(\u0026quot;\u0026quot;\\)/\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;newre\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;e\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(e.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/\\//g\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/xx/g\u0026lt;/span\u0026gt;, yy), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;g\u0026quot;\u0026lt;/span\u0026gt;)\n};\n\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;newre\u0026lt;/span\u0026gt;(oldre), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;withThis\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;where \u0026apos;oldre\u0026apos; is the original regexp that I want to insert a variable,\n\u0026apos;xx\u0026apos; is the placeholder for that variable/alias/function,\nand \u0026apos;yy\u0026apos; is the actual variable name, alias, or function.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can use a string as a regular expression. Dont forget to use \u0026lt;strong\u0026gt;new RegExp\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Example:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; yourFunction = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;^-?\\\\d+(?:\\\\.\\\\d{0,\u0026apos;\u0026lt;/span\u0026gt; + yourVar + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;})?\u0026apos;\u0026lt;/span\u0026gt;\n      )\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here\u0026apos;s another replaceAll implementation:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;stringToFind, stringToReplace\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; ( stringToFind == stringToReplace) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; temp = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; index = temp.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;indexOf\u0026lt;/span\u0026gt;(stringToFind);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; (index != -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;) {\n            temp = temp.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(stringToFind, stringToReplace);\n            index = temp.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;indexOf\u0026lt;/span\u0026gt;(stringToFind);\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; temp;\n    };\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can use this if \u0026lt;code\u0026gt;$1\u0026lt;/code\u0026gt; does not work for you:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; pattern = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;amman\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;i\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;abc Amman efg\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(pattern, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026amp;lt;b\u0026amp;gt;\u0026quot;\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;abc Amman efg\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;match\u0026lt;/span\u0026gt;(pattern)[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;] + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026amp;lt;/b\u0026amp;gt;\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;While you can make dynamically-created RegExp\u0026apos;s (as per the other responses to this question), I\u0026apos;ll echo my comment from a \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/487509/passing-variable-to-a-regexp-in-javascript/488133#488133\u0026quot;\u0026gt;similar post\u0026lt;/a\u0026gt;: The functional form of \u0026lt;a href=\u0026quot;https://developer.mozilla.org/En/Core_JavaScript_1.5_Reference/Global_Objects/String/Replace\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;String.replace()\u0026lt;/a\u0026gt; is extremely useful and in many cases reduces the need for dynamically-created RegExp objects. (which are kind of a pain \u0026apos;cause you have to express the input to the RegExp constructor as a string rather than use the slashes /[A-Z]+/ regexp literal format)\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This self calling function will iterate over replacerItems using an index, and change replacerItems[index] globally on the string with each pass.   \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; replacerItems = [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;b\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;c\u0026quot;\u0026lt;/span\u0026gt;];    \n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replacer\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;str, index\u0026lt;/span\u0026gt;){\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; item = replacerItems[index];\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; regex = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;`[\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${item}\u0026lt;/span\u0026gt;]`\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;g\u0026quot;\u0026lt;/span\u0026gt;);\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; newStr = str.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(regex, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;z\u0026quot;\u0026lt;/span\u0026gt;);\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (index \u0026amp;lt; replacerItems.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; - \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replacer\u0026lt;/span\u0026gt;(newStr, index + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;);\n          }\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; newStr;\n    }\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// console.log(replacer(\u0026apos;abcdefg\u0026apos;, 0)) will output \u0026apos;zzzdefg\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;None of these answers were clear to me. I eventually found a good explanation at \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;http://burnignorance.com/php-programming-tips/how-to-use-a-variable-in-replace-function-of-javascript/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;How to use a variable in replace function of JavaScript\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The simple answer is:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; search_term = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(search_term, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;g\u0026quot;\u0026lt;/span\u0026gt;);\ntext = text.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(search_term, replace_term);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;For example:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;$(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;button\u0026quot;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;click\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Find\u0026lt;/span\u0026gt;_and_replace(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Lorem\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Chocolate\u0026quot;\u0026lt;/span\u0026gt;);\n  \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Find\u0026lt;/span\u0026gt;_and_replace(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;ipsum\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;ice-cream\u0026quot;\u0026lt;/span\u0026gt;);\n});\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;Find_and_replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;search_term, replace_term\u0026lt;/span\u0026gt;) {\n  text = $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;textbox\u0026quot;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;html\u0026lt;/span\u0026gt;();\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; search_term = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(search_term, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;g\u0026quot;\u0026lt;/span\u0026gt;);\n  text = text.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(search_term, replace_term);\n  $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;textbox\u0026quot;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;html\u0026lt;/span\u0026gt;(text);\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;src\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;textbox\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;textbox\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;button\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Click me\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;button\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif1\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can always use \u0026lt;code\u0026gt;indexOf\u0026lt;/code\u0026gt; repeatedly:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;substring, replacement\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; result = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; lastIndex = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; index = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;indexOf\u0026lt;/span\u0026gt;(substring, lastIndex);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(index === -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;;\n        result += \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substring\u0026lt;/span\u0026gt;(lastIndex, index) + replacement;\n        lastIndex = index + substring.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt;;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; result + \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substring\u0026lt;/span\u0026gt;(lastIndex);\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This doesnt go into an infinite loop when the replacement contains the match.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;One way to implement is by taking the value from a text field which is the one you want to replace and another is the \u0026quot;replace with\u0026quot; text field, getting the value from text-field in a variable and setting the variable to RegExp function to further replace. In my case I am using jQuery, but you can also do it by only JavaScript too.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;JavaScript code:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; replace =\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getElementById\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;replace}\u0026quot;\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// getting a value from a text field with I want to replace\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; replace_with = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getElementById\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;with\u0026quot;\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Getting the value from another text fields with which I want to replace another string.\u0026lt;/span\u0026gt;\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; sRegExInput = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(replace, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;g\u0026quot;\u0026lt;/span\u0026gt;);\n  $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;body\u0026quot;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;children\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;each\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    $(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;html\u0026lt;/span\u0026gt;($(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;html\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(sRegExInput,replace_with));\n  });\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This code is on the Onclick event of a button, and you can put this in a function to call.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;So now you can pass a variable in the replace function.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;For multiple replace without regular expressions I went with the following:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; str = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;I am a cat man. I like cats\u0026quot;\u0026lt;/span\u0026gt;;\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; find = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;cat\u0026quot;\u0026lt;/span\u0026gt;;\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; replace = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;dog\u0026quot;\u0026lt;/span\u0026gt;;\n\n\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Count how many occurrences there are of the string to find \u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// inside the str to be examined.\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; findCount = str.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;split\u0026lt;/span\u0026gt;(find).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; - \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; loopCount = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; (loopCount \u0026amp;lt; findCount) \n      {\n        str = str.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(find, replace);\n        loopCount = loopCount + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n      }  \n\n      \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(str);\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// I am a dog man. I like dogs\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/39422368/4683230\u0026quot;\u0026gt;The important part of the solution was found here\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you pass the variable with the correct syntax, you can do this like so with the code below.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This has the added benefit of using the flags in the same variable.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Also you don\u0026apos;t have to double escape \u0026lt;code\u0026gt;\\\u0026lt;/code\u0026gt; in the regular expression when it comes to \u0026lt;code\u0026gt;\\w\u0026lt;/code\u0026gt;, etc.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;true\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; str = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;regexVariable example: This is my example of RegExp replacing with a regexVariable.\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; reVar = \u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/(.*?)(regex\\w+?iable)(.+?)/gi\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; resStr = str.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(reVar), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;$1 :) :) :) $2 :) :) :)$3\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(resStr);\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Returns:\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// :) :) :) regexVariable :) :) :) example: This is my example of RegExp replacing with a  :) :) :) regexVariable :) :) :).\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif2\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The prototype version as per the OP\u0026apos;s example:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;true\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; str = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;regexVariable prototype: This is my example of RegExp replacing with a regexVariable.\u0026apos;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;regexVariable\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;reFind, reReplace\u0026lt;/span\u0026gt;) {\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; str.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(reFind), reReplace);\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; reVar = \u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/(.*?)(regex\\w+?iable)(.+?)/gi\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(str.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;regexVariable\u0026lt;/span\u0026gt;(reVar, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;$1 :) :) :) $2 :) :) :)$3\u0026apos;\u0026lt;/span\u0026gt;));\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Returns:\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// :) :) :) regexVariable :) :) :) prototype: This is my example of replacing with a  :) :) :) regexVariable :) :) :).\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif3\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;As a relative JavaScript novice, the accepted answer \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/494046/1904943\u0026quot;\u0026gt;https://stackoverflow.com/a/494046/1904943\u0026lt;/a\u0026gt; is noted / appreciated, but it is not very intuitive.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Here is a simpler interpretation, by example (using a \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/17132593/simple-javascript-ide/66376974#66376974\u0026quot;\u0026gt;simple JavaScript IDE\u0026lt;/a\u0026gt;).\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;myString = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;apple pie, banana loaf\u0026apos;\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(myString.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/pie/gi\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;PIE\u0026apos;\u0026lt;/span\u0026gt;))\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// apple PIE, banana loaf\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(myString.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/\\bpie\\b/gi\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;PIE\u0026apos;\u0026lt;/span\u0026gt;))\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// apple PIE, banana loaf\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(myString.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/pi/gi\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;PIE\u0026apos;\u0026lt;/span\u0026gt;))\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// apple PIEe, banana loaf\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(myString.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/\\bpi\\b/gi\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;PIE\u0026apos;\u0026lt;/span\u0026gt;))\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// [NO EFFECT] apple pie, banana loaf\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; match_word = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;pie\u0026apos;\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(myString.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/match_word/gi\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;**PIE**\u0026apos;\u0026lt;/span\u0026gt;))\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// [NO EFFECT] apple pie, banana loaf\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(myString.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/\\b`${bmatch_word}`\\b/gi\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;**PIE**\u0026apos;\u0026lt;/span\u0026gt;))\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// [NO EFFECT] apple pie, banana loaf\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ----------------------------------------\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ... new RegExp(): be sure to \\-escape your backslashes: \\b \u0026amp;gt;\u0026amp;gt; \\\\b ...\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; match_term = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;pie\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; match_re = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;`(\\\\b\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${match_term}\u0026lt;/span\u0026gt;\\\\b)`\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;gi\u0026apos;\u0026lt;/span\u0026gt;)\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(myString.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt;(match_re, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;PiE\u0026apos;\u0026lt;/span\u0026gt;))\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// apple PiE, banana loaf\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(myString.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(match_re, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;**PIE**\u0026apos;\u0026lt;/span\u0026gt;))\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// apple **PIE**, banana loaf\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(myString.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt;(match_re, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;**PIE**\u0026apos;\u0026lt;/span\u0026gt;))\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// apple **PIE**, banana loaf\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Application\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;E.g.: replacing (color highlighting) words in string / sentence, [optionally] if the search term matches a more than a user-defined proportion of the matched word.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Note: original character case of matched term is retained. \u0026lt;code\u0026gt;hl\u0026lt;/code\u0026gt;: highlight; \u0026lt;code\u0026gt;re\u0026lt;/code\u0026gt;: regex | regular expression\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;mySentence = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Apple, boOk? BOoks; booKEd. BookMark, \u0026apos;BookmarkeD\u0026apos;, bOOkmarks! bookmakinG, Banana; bE, BeEn, beFore.\u0026quot;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replacer\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;mySentence, hl_term, hl_re\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mySentence [raw]:\u0026apos;\u0026lt;/span\u0026gt;, mySentence)\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;hl_term:\u0026apos;\u0026lt;/span\u0026gt;, hl_term, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;| hl_term.length:\u0026apos;\u0026lt;/span\u0026gt;, hl_term.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt;)\n    cutoff = hl_term.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;cutoff:\u0026apos;\u0026lt;/span\u0026gt;, cutoff)\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// `.match()` conveniently collects multiple matched items\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// (including partial matches) into an [array]\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; hl_terms  = mySentence.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toLowerCase\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;match\u0026lt;/span\u0026gt;(hl_re, hl_term);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (hl_terms == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;No matches to hl_term \u0026quot;\u0026apos;\u0026lt;/span\u0026gt; + hl_term + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026quot;; echoing input string then exiting ...\u0026apos;\u0026lt;/span\u0026gt;)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; mySentence;\n    }\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;hl_terms:\u0026apos;\u0026lt;/span\u0026gt;, hl_terms)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;  i \u0026amp;lt; hl_terms.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt;; i++) {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;----------------------------------------\u0026apos;\u0026lt;/span\u0026gt;)\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;[\u0026apos;\u0026lt;/span\u0026gt; + i + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;]:\u0026apos;\u0026lt;/span\u0026gt;, hl_terms[i], \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;| length:\u0026apos;\u0026lt;/span\u0026gt;, hl_terms[i].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;| parseInt(0.7(length)):\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;parseInt\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.7\u0026lt;/span\u0026gt;*hl_terms[i].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt;))\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// TEST: if (hl_terms[i].length \u0026amp;gt;= cutoff*10) {\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (cutoff \u0026amp;gt;= \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;parseInt\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.7\u0026lt;/span\u0026gt; * hl_terms[i].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt;)) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; match_term = hl_terms[i].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;();\n\n            \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;matched term:\u0026apos;\u0026lt;/span\u0026gt;, match_term, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;[cutoff length:\u0026apos;\u0026lt;/span\u0026gt;, cutoff, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;| 0.7(matched term length):\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;parseInt\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.7\u0026lt;/span\u0026gt; * hl_terms[i].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt;))\n\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; match_re = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;`(\\\\b\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${match_term}\u0026lt;/span\u0026gt;\\\\b)`\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;gi\u0026apos;\u0026lt;/span\u0026gt;)\n\n            mySentence = mySentence.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt;(match_re, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026amp;lt;font style=\u0026quot;background:#ffe74e\u0026quot;\u0026amp;gt;$1\u0026amp;lt;/font\u0026amp;gt;\u0026apos;\u0026lt;/span\u0026gt;);\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; match_term = hl_terms[i].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;();\n            \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;NO match:\u0026apos;\u0026lt;/span\u0026gt;, match_term, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;[cutoff length:\u0026apos;\u0026lt;/span\u0026gt;, cutoff, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;| 0.7(matched term length):\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;parseInt\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.7\u0026lt;/span\u0026gt; * hl_terms[i].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt;))\n        }\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; mySentence;\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// TESTS:\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// const hl_term = \u0026apos;be\u0026apos;;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// const hl_term = \u0026apos;bee\u0026apos;;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// const hl_term = \u0026apos;before\u0026apos;;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// const hl_term = \u0026apos;book\u0026apos;;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; hl_term = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;bookma\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// const hl_term = \u0026apos;Leibniz\u0026apos;;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// This regex matches from start of word:\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; hl_re = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RegExp\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;`(\\\\b\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${hl_term}\u0026lt;/span\u0026gt;[A-z]*)\\\\b`\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;gi\u0026apos;\u0026lt;/span\u0026gt;)\n\nmySentence = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replacer\u0026lt;/span\u0026gt;(mySentence, hl_term, hl_re);\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mySentence [processed]:\u0026apos;\u0026lt;/span\u0026gt;, mySentence)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Output\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-none s-code-block\u0026quot;\u0026gt;\u0026lt;code\u0026gt;mySentence [raw]: Apple, boOk? BOoks; booKEd. BookMark, \u0026apos;BookmarkeD\u0026apos;,\nbOOkmarks! bookmakinG, Banana; bE, BeEn, beFore.\n\nhl_term: bookma | hl_term.length: 6\ncutoff: 6\nhl_terms: Array(4) [ \u0026quot;bookmark\u0026quot;, \u0026quot;bookmarked\u0026quot;, \u0026quot;bookmarks\u0026quot;, \u0026quot;bookmaking\u0026quot; ]\n\n----------------------------------------\n[0]: bookmark | length: 8 | parseInt(0.7(length)): 5\nmatched term: bookmark [cutoff length: 6 | 0.7(matched term length): 5\n----------------------------------------\n[1]: bookmarked | length: 10 | parseInt(0.7(length)): 7\nNO match: bookmarked [cutoff length: 6 | 0.7(matched term length): 7\n----------------------------------------\n[2]: bookmarks | length: 9 | parseInt(0.7(length)): 6\nmatched term: bookmarks [cutoff length: 6 | 0.7(matched term length): 6\n----------------------------------------\n[3]: bookmaking | length: 10 | parseInt(0.7(length)): 7\nNO match: bookmaking [cutoff length: 6 | 0.7(matched term length): 7\n\nmySentence [processed]: Apple, boOk? BOoks; booKEd.\n\u0026amp;lt;font style=\u0026quot;background:#ffe74e\u0026quot;\u0026amp;gt;BookMark\u0026amp;lt;/font\u0026amp;gt;, \u0026apos;BookmarkeD\u0026apos;,\n\u0026amp;lt;font style=\u0026quot;background:#ffe74e\u0026quot;\u0026amp;gt;bOOkmarks\u0026amp;lt;/font\u0026amp;gt;! bookmakinG,\nBanana; bE, BeEn, beFore.\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":423,"title":"How do you use a variable in a regular expression?","content":"\n                \n\u0026lt;p\u0026gt;I would like to create a \u0026lt;code\u0026gt;String.replaceAll()\u0026lt;/code\u0026gt; method in JavaScript and I\u0026apos;m thinking that using a regex would be most terse way to do it.  However, I can\u0026apos;t figure out how to pass a variable in to a regex.  I can do this already which will replace all the instances of \u0026lt;code\u0026gt;\u0026quot;B\u0026quot;\u0026lt;/code\u0026gt; with \u0026lt;code\u0026gt;\u0026quot;A\u0026quot;\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;ABABAB\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/B/g\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;But I want to do something like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;replaceAll\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;replaceThis, withThis\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/replaceThis/g\u0026lt;/span\u0026gt;, withThis);\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;But obviously this will only replace the text \u0026lt;code\u0026gt;\u0026quot;replaceThis\u0026quot;\u0026lt;/code\u0026gt;...so how do I pass this variable in to my regex string?\u0026lt;/p\u0026gt;\n    ","slug":"how-do-you-use-a-variable-in-a-regular-expression-1657387939007","postType":"QUESTION","createdAt":"2022-07-09T17:32:19.000Z","updatedAt":"2022-07-09T17:32:19.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"How can I prevent SQL injection in PHP?","slug":"how-can-i-prevent-sql-injection-in-php-1657384220094"},{"title":"Randomize a List\u003cT\u003e","slug":"randomize-a-listlesstgreater-1657388172793"},{"title":"ggplot with 2 y axes on each side and different scales","slug":"ggplot-with-2-y-axes-on-each-side-and-different-scales-1657388519163"},{"title":"How to use SharedPreferences in Android to store, fetch and edit values [closed]","slug":"how-to-use-sharedpreferences-in-android-to-store-fetch-and-edit-values-closed-1657387683057"},{"title":"Why don't flex items shrink past content size?","slug":"why-don't-flex-items-shrink-past-content-size-1657384687282"},{"title":"Why do I get a segmentation fault when writing to a \"char *s\" initialized with a string literal, but not \"char s[]\"?","slug":"why-do-i-get-a-segmentation-fault-when-writing-to-a-\"char-*s\"-initialized-with-a-string-literal-but-not-\"char-s\"-1657385511046"},{"title":"How do we control web page caching, across all browsers?","slug":"how-do-we-control-web-page-caching-across-all-browsers-1657387529059"},{"title":"No 'Access-Control-Allow-Origin' header is present on the requested resourcewhen trying to get data from a REST API","slug":"no-'access-control-allow-origin'-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467"},{"title":"Simulating group_concat MySQL function in Microsoft SQL Server 2005?","slug":"simulating-group_concat-mysql-function-in-microsoft-sql-server-2005-1657384832169"},{"title":"How do I use shell variables in an awk script?","slug":"how-do-i-use-shell-variables-in-an-awk-script-1657387754261"},{"title":"Performance optimization strategies of last resort [closed]","slug":"performance-optimization-strategies-of-last-resort-closed-1657388420614"},{"title":"Calling a function of a module by using its name (a string)","slug":"calling-a-function-of-a-module-by-using-its-name-(a-string)-1657388565656"},{"title":"Event binding on dynamically created elements?","slug":"event-binding-on-dynamically-created-elements-1657384268057"},{"title":"Object comparison in JavaScript [duplicate]","slug":"object-comparison-in-javascript-duplicate-1657387675463"},{"title":"How can I parse a JSON file with PHP? [duplicate]","slug":"how-can-i-parse-a-json-file-with-php-duplicate-1657388002325"},{"title":"What is a NullPointerException, and how do I fix it?","slug":"what-is-a-nullpointerexception-and-how-do-i-fix-it-1657384201768"},{"title":"mysqli or die, does it have to die?","slug":"mysqli-or-die-does-it-have-to-die-1657388533922"},{"title":"C++ Singleton design pattern","slug":"c++-singleton-design-pattern-1657387830040"},{"title":"scanf() leaves the newline character in the buffer","slug":"scanf()-leaves-the-newline-character-in-the-buffer-1657384699202"},{"title":"How to center an element horizontally and vertically","slug":"how-to-center-an-element-horizontally-and-vertically-1657388132330"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-do-you-use-a-variable-in-a-regular-expression-1657387939007"},"buildId":"xZs8haGjOP63QuDE0kxeX","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>