<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>What are drawbacks or disadvantages of singleton pattern? [closed] | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="
            
        
            
                
                    
                        Closed. This question is opinion-based. It is not currently accepting answers.
                        
                    
                
            
        
            
        
            
                
                        
                            
                        
                    Want to improve this question? Update the question so it can be answered with facts and citations by editing this post.
                
                    
                        Closed 6 years ago.
                    
                
            The community reviewed whether to reopen this question 9 months ago and left it closed:
            
                    Original close reason(s) were not resolved
            

                
            
        
            
                    
                        Improve this question
                    
            


    

The singleton pattern is a fully paid up member of the GoF&#x27;s patterns book, but it lately seems rather orphaned by the developer world. I still use quite a lot of singletons, especially for factory classes, and while you have to be a bit careful about multithreading issues (like any class actually), I fail to see why they are so awful.

Stack Overflow especially seems to assume that everyone agrees that Singletons are evil. Why?

Please support your answers with &quot;facts, references, or specific expertise&quot;
    "/><meta property="og:title" content="What are drawbacks or disadvantages of singleton pattern? [closed] | Solutions Checker"/><meta property="og:description" content="
            
        
            
                
                    
                        Closed. This question is opinion-based. It is not currently accepting answers.
                        
                    
                
            
        
            
        
            
                
                        
                            
                        
                    Want to improve this question? Update the question so it can be answered with facts and citations by editing this post.
                
                    
                        Closed 6 years ago.
                    
                
            The community reviewed whether to reopen this question 9 months ago and left it closed:
            
                    Original close reason(s) were not resolved
            

                
            
        
            
                    
                        Improve this question
                    
            


    

The singleton pattern is a fully paid up member of the GoF&#x27;s patterns book, but it lately seems rather orphaned by the developer world. I still use quite a lot of singletons, especially for factory classes, and while you have to be a bit careful about multithreading issues (like any class actually), I fail to see why they are so awful.

Stack Overflow especially seems to assume that everyone agrees that Singletons are evil. Why?

Please support your answers with &quot;facts, references, or specific expertise&quot;
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"What are drawbacks or disadvantages of singleton pattern? [closed]","text":"\n            \n        \n            \n                \n                    \n                        Closed. This question is opinion-based. It is not currently accepting answers.\n                        \n                    \n                \n            \n        \n            \n        \n            \n                \n                        \n                            \n                        \n                    Want to improve this question? Update the question so it can be answered with facts and citations by editing this post.\n                \n                    \n                        Closed 6 years ago.\n                    \n                \n            The community reviewed whether to reopen this question 9 months ago and left it closed:\n            \n                    Original close reason(s) were not resolved\n            \n\n                \n            \n        \n            \n                    \n                        Improve this question\n                    \n            \n\n\n    \n\nThe singleton pattern is a fully paid up member of the GoF&apos;s patterns book, but it lately seems rather orphaned by the developer world. I still use quite a lot of singletons, especially for factory classes, and while you have to be a bit careful about multithreading issues (like any class actually), I fail to see why they are so awful.\n\nStack Overflow especially seems to assume that everyone agrees that Singletons are evil. Why?\n\nPlease support your answers with &quot;facts, references, or specific expertise&quot;\n    ","answerCount":30,"upVoteCount":500,"suggestedAnswer":[{"text":"Paraphrased from Brian Button:\n\n\nThey are generally used as a global instance, why is that so bad? Because you hide the dependencies of your application in your code, instead of exposing them through the interfaces. Making something global to avoid passing it around is a code smell.\nThey violate the single responsibility principle: by virtue of the fact that they control their own creation and lifecycle.\nThey inherently cause code to be tightly coupled. This makes faking them out under test rather difficult in many cases.\nThey carry state around for the lifetime of the application. Another hit to testing since you can end up with a situation where tests need to be ordered which is a big no no for unit tests. Why? Because each unit test should be independent from the other.\n\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"Singletons solve one (and only one) problem.\n\nResource Contention.\n\nIf you have some resource that \n\n(1) can only have a single instance, and \n\n(2) you need to manage that single instance, \n\nyou need a singleton.\n\nThere aren&apos;t many examples. A log file is the big one. You don&apos;t want to just abandon a single log file. You want to flush, sync and close it properly. This is an example of a single shared resource that has to be managed.\n\nIt&apos;s rare that you need a singleton. The reason they&apos;re bad is that they feel like a global and they&apos;re a fully paid up member of the GoF Design Patterns book.\n\nWhen you think you need a global, you&apos;re probably making a terrible design mistake.\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"Some coding snobs look down on them as just a glorified global. In the same way that many people hate the goto statement there are others that hate the idea of ever using a global. I have seen several developers go to extraordinary lengths to avoid a global because they considered using one as an admission of failure. Strange but true.\n\nIn practice the Singleton pattern is just a programming technique that is a useful part of your toolkit of concepts. From time to time you might find it is the ideal solution and so use it. But using it just so you can boast about using a design pattern is just as stupid as refusing to ever use it because it is just a global.\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"Misko Hevery, from Google, has some interesting articles on exactly this topic...\nSingletons are Pathological Liars has a unit testing example that illustrates how singletons can make it difficult to figure out dependency chains and start or test an application. It is a fairly extreme example of abuse, but the point that he makes is still valid:\n\nSingletons are nothing more than global state. Global state makes it so your objects can secretly get hold of things which are not declared in their APIs, and, as a result, Singletons make your APIs into pathological liars.\n\nWhere have all the Singletons Gone makes the point that dependency injection has made it easy to get instances to constructors that require them, which alleviates the underlying need behind the bad, global Singletons decried in the first article.\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"I think the confusion is caused by the fact that people don&apos;t know the real application of the Singleton pattern. I can&apos;t stress this enough. Singleton is not a pattern to wrap globals. Singleton pattern should only be used to guarantee that one and only one instance of a given class exists during run time. \n\nPeople think Singleton is evil because they are using it for globals. It is because of this confusion that Singleton is looked down upon. Please, don&apos;t confuse Singletons and globals. If used for the purpose it was intended for, you will gain extreme benefits from the Singleton pattern.\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"One rather bad thing about singletons is that you can&apos;t extend them very easily. You basically have to build in some kind of decorator pattern or some such thing if you want to change their behavior. Also, if one day you want to have multiple ways of doing that one thing, it can be rather painful to change, depending on how you lay out your code.\n\nOne thing to note, if you DO use singletons, try to pass them in to whoever needs them rather than have them access it directly... Otherwise if you ever choose to have multiple ways of doing the thing that singleton does, it will be rather difficult to change as each class embeds a dependency if it accesses the singleton directly.\n\nSo basically:\n\npublic MyConstructor(Singleton singleton) {\n    this.singleton = singleton;\n}\n\n\nrather than:\n\npublic MyConstructor() {\n    this.singleton = Singleton.getInstance();\n}\n\n\nI believe this sort of pattern is called dependency injection and is generally considered a good thing.\n\nLike any pattern though... Think about it and consider if its use in the given situation is inappropriate or not... Rules are made to be broken usually, and patterns should not be applied willy nilly without thought.\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"The singleton pattern is not a problem in itself. The problem is that the pattern is often used by people developing software with object-oriented tools without having a solid grasp of OO concepts. When singletons are introduced in this context they tend to grow into unmanageable classes that contain helper methods for every little use.\n\nSingletons are also a problem from a testing perspective. They tend to make isolated unit-tests difficult to write. Inversion of control (IoC) and dependency injection are patterns meant to overcome this problem in an object-oriented manner that lends itself to unit testing.\n\nIn a garbage collected environment singletons can quickly become an issue with regard to memory management.\n\nThere is also the multi-threaded scenario where singletons can become a bottleneck as well as a synchronization issue.\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"A singleton gets implemented using a static method. Static methods are avoided by people who do unit testing because they cannot be mocked or stubbed. Most people on this site are big proponents of unit testing. The generally most accepted convention to avoid them is using the inversion of control pattern.\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"Singletons are also bad when it comes to clustering. Because then, you do not have &quot;exactly one singleton&quot; in your application anymore.\n\nConsider the following situation: As a developer, you have to create a web application which accesses a database. To ensure that concurrent database calls do not conflict each other, you create a thread-save SingletonDao:\n\npublic class SingletonDao {\n    // songleton&apos;s static variable and getInstance() method etc. omitted\n    public void writeXYZ(...){\n        synchronized(...){\n            // some database writing operations...\n        }\n    }\n}\n\n\nSo you are sure that only one singleton in your application exists and all database go through this one and only SingletonDao. Your production environment now looks like this:\n\n\nEverything is fine so far.\n\nNow, consider you want to set up multiple instances of your web application in a cluster. Now, you suddenly have something like this:\n\n\n\nThat sounds weird, but now you have many singletons in your application. And that is exactly what a singleton is not supposed to be: Having many objects of it. This is especially bad if you, as shown in this example, want to make synchronized calls to a database.\n\nOf course this is an example of a bad usage of a singleton. But the message of this example is: You can not rely that there is exactly one instance of a singleton in your application - especially when it comes to clustering.\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"\nIt is easily (ab)used as a global variable.\nClasses that depend on singletons are relatively harder to unit test in isolation.\n\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"Monopoly is the devil and singletons with non-readonly/mutable state are the &apos;real&apos; problem...\n\nAfter reading Singletons are Pathological Liars as suggested in jason&apos;s answer I came across this little tidbit that provides the best presented example of how singletons are often misused.\n\n\n  Global is bad because:\n  \n  \n  a. It causes namespace conflict\n  b. It exposes the state in a unwarranted fashion\n  \n  \n  When it comes to Singletons\n  \n  \n  a. The explicit OO way of calling them, prevents the conflicts, so point a. is not an issue\n  b. Singletons without state are (like factories) are not a problem. Singletons with state can again fall in two categories, those which are immutable or write once and read many (config/property files). These are not bad. Mutable Singletons, which are kind of reference holders are the ones which you are speaking of.\n  \n\n\nIn the last statement he&apos;s referring to the blog&apos;s concept of &apos;singletons are liars&apos;.\n\nHow does this apply to Monopoly?\n\nTo start a game of monopoly, first:\n\n\nwe establish the rules first so everybody is on the same page\neverybody is given an equal start at the beginning of the game\nonly one set of rules is presented to avoid confusion\nthe rules aren&apos;t allowed to change throughout the game\n\n\nNow, for anybody who hasn&apos;t really played monopoly, these standards are ideal at best. A defeat in monopoly is hard to swallow because, monopoly is about money, if you lose you have to painstakingly watch the rest of the players finish the game, and losses are usually swift and crushing. So, the rules usually get twisted at some point to serve the self-interest of some of the players at the expense of the others.\n\nSo you&apos;re playing monopoly with friends Bob, Joe, and Ed. You&apos;re swiftly building your empire and consuming market share at an exponential rate. Your opponents are weakening and you start to smell blood (figuratively). Your buddy Bob put all of his money into gridlocking as many low-value properties as possible but his isn&apos;t receiving a high return on investment the way he expected. Bob, as a stroke of bad luck, lands on your Boardwalk and is excised from the game.\n\nNow the game goes from friendly dice-rolling to serious business. Bob has been made the example of failure and Joe and Ed don&apos;t want to end up like &apos;that guy&apos;. So, being the leading player you, all of a sudden, become the enemy. Joe and Ed start practicing under-the-table trades, behind-the-back money injections, undervalued house-swapping and generally anything to weaken you as a player until one of them rises to the top. \n\nThen, instead of one of them winning, the process starts all over. All of a sudden, a finite set of rules becomes a moving target and the game degenerates into the type of social interactions that would make up the foundation of every high-rated reality TV show since Survivor. Why, because the rules are changing and there&apos;s no consensus on how/why/what they&apos;re supposed to represent, and more importantly, there&apos;s no one person making the decisions. Every player in the game, at that point, is making his/her own rules and chaos ensues until two of the players are too tired to keep up the charade and slowly give up.\n\nSo, if a rulebook for a game accurately represented a singleton, the monopoly rulebook would be an example of abuse. \n\nHow does this apply to programming?\n\nAside from all of the obvious thread-safety and synchronization issues that mutable singletons present... If you have one set of data, that is capable of being read/manipulated by multiple different sources concurrently and exists during the lifetime of the application execution, it&apos;s probably a good time to step back and ask &quot;am I using the right type of data structure here&quot;.\n\nPersonally, I have seen a programmer abuse a singleton by using it as some sort of twisted cross-thread database store within an application. Having worked on the code directly, I can attest that it was a slow (because of all the thread locks needed to make it thread-safe) and a nightmare to work on (because of the unpredictable/intermittent nature of synchronization bugs), and nearly impossible to test under &apos;production&apos; conditions. Sure, a system could have been developed using polling/signaling to overcome some of the performance issues but that wouldn&apos;t solve the issues with testing and, why bother when a &apos;real&apos; database can already accomplish the same functionality in a much more robust/scalable manner.\n\nA Singleton is only an option if you need what a singleton provides. A write-one read-only instance of an object. That same rule should cascade to the object&apos;s properties/members as well.\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"Singleton is not about single instance!\n\nUnlike other answers I don&apos;t want to talk about what is wrong with Singletons but to show you how powerful and awesome they are when used right!\n\n\nProblem: Singleton can be a challenge in multi-threading environment\nSolution: Use a single threaded bootstrap process to initialize all the   dependencies of your singleton.\nProblem: It is hard to mock singletons.\nSolution: Use method Factory pattern for mocking  \n\n\n\n\n\nYou can map MyModel to TestMyModel class that inherits it, everywhere when MyModel will be injected you will get TestMyModel instread.\n - Problem: Singletons can cause memory leaks as they never disposed.\n   Solution: Well, dispose them! Implement a callback in your app to properly dispose a singletons, you should remove any data linked to them and finally: remove them from the Factory. \n\nAs I stated at the title singleton are not about single instance.\n\n\nSingletons improves readability: You can look at your class and see what singleton it injected to figure out what is it&apos;s dependencies.\nSingletons improves maintenance: Once you removed a dependency from a class you just deleted some singleton injection, you don&apos;t need to go and edit a big link of other classes that just moved your dependency around(This is smelly code for me @Jim Burger)\nSingletons improves memory and performance: When some thing happens in your application, and it takes a long chain of callbacks to deliver, you are wasting memory and performance, by using Singleton you are cutting the middle man, and improve your performance and memory usage(by avoiding unnecessary local variables allocations).\n\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"See Wikipedia Singleton_pattern\n\n\n  It is also considered an anti-pattern by some people, who feel that it is overly used, introducing unnecessary limitations in situations where a sole instance of a class is not actually required.[1][2][3][4]\n\n\nReferences (only relevant references from the article)\n\n\n^ Alex Miller. Patterns I hate #1: Singleton, July 2007\n^ Scott Densmore. Why singletons are evil, May 2004\n^ Steve Yegge. Singletons considered stupid, September 2004\n^ J.B. Rainsberger, IBM. Use your singletons wisely, July 2001\n\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"My answer on how Singletons are bad is always, &quot;they are hard to do right&quot;. Many of the foundational components of languages are singletons (classes, functions, namespaces and even operators), as are components in other aspects of computing (localhost, default route, virtual filesystem, etc.), and it is not by accident. While they cause trouble and frustration from time to time, they also can make a lot of things work a LOT better.\n\nThe two biggest screw ups I see are: treating it like a global &amp; failing to define the Singleton closure.\n\nEveryone talks about Singleton&apos;s as globals, because they basically are. However, much (sadly, not all) of the badness in a global comes not intrinsically from being global, but how you use it. Same goes for Singletons. Actually more so as &quot;single instance&quot; really doesn&apos;t need to mean &quot;globally accessible&quot;. It is more a natural byproduct, and given all the bad that we know comes from it, we shouldn&apos;t be in such a hurry to exploit global accessibility. Once programmers see a Singleton they seem to always access it directly through its instance method. Instead, you should navigate to it just like you would any other object. Most code shouldn&apos;t even be aware it is dealing with a Singleton (loose coupling, right?). If only a small bit of code accesses the object like it is a global, a lot of harm is undone. I recommend enforcing it by restricting access to the instance function.\n\nThe Singleton context is also really important. The defining characteristic of a Singleton is that there is &quot;only one&quot;, but the truth is it is &quot;only one&quot; within some kind of context/namespace. They are usually one of: one per thread, process, IP address or cluster, but can also be one per processor, machine, language namespace/class loader/whatever, subnet, Internet, etc.\n\nThe other, less common, mistake is to ignore the Singleton lifestyle. Just because there is only one doesn&apos;t mean a Singleton is some omnipotent &quot;always was and always will be&quot;, nor is it generally desirable (objects without a begin and end violate all kinds of useful assumptions in code, and should be employed only in the most desperate of circumstances.\n\nIf you avoid those mistakes, Singletons can still be a PITA, bit it is ready to see a lot of the worst problems are significantly mitigated. Imagine a Java Singleton, that is explicitly defined as once per classloader (which means it needs a thread safety policy), with defined creation and destruction methods and a life cycle that dictates when and how they get invoked, and whose &quot;instance&quot; method has package protection so it is generally accessed through other, non-global objects. Still a potential source of trouble, but certainly much less trouble.\n\nSadly, rather than teaching good examples of how to do Singletons. We teach bad examples, let programmers run off using them for a while, and then tell them they are a bad design pattern.\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0},{"text":"It&apos;s not that singletons themselves are bad but the GoF design pattern is. The only really argument that is valid is that the GoF design pattern doesn&apos;t lend itself in regards to testing, especially if tests are run in parallel.\n\nUsing a single instance of an class is a valid construct as long as you apply the following means in code:\n\n\nMake sure the class that will be used as a singleton implements an interface. This allows stubs or mocks to be implemented using the same interface\nMake sure that the Singleton is thread-safe.  That&apos;s a given.\nThe singleton should be simple in nature and not overly complicated.\nDuring the runtime of you application, where singletons need to be passed to a given object, use a class factory that builds that object and have the class factory pass the singleton instance to the class that needs it.\nDuring testing and to ensure deterministic behavior, create the singleton class as separate instance as either the actual class itself or a stub/mock that implements its behavior and pass it as is to the class that requires it. Don&apos;t use the class factor that creates that object under test that needs the singleton during test as it will pass the single global instance of it, which defeats the purpose.\n\n\nWe&apos;ve used Singletons in our solutions with a great deal of success that are testable ensuring deterministic behavior in parallel test run streams.\n    ","url":"/questions/[slug]#solution15","@type":"Answer","upvoteCount":0},{"text":"Vince Huston has these criteria, which seem reasonable to me:\n\n\n  Singleton should be considered only if all three of the following criteria are satisfied:\n  \n  \n  Ownership of the single instance cannot be reasonably assigned\n  Lazy initialization is desirable\n  Global access is not otherwise provided for \n  \n  \n  If ownership of the single instance, when and how initialization occurs, and global access are not issues, Singleton is not sufficiently interesting.\n\n    ","url":"/questions/[slug]#solution16","@type":"Answer","upvoteCount":0},{"text":"I&apos;d like to address the 4 points in the accepted answer, hopefully someone can explain why I&apos;m wrong.\n\n\nWhy is hiding dependencies in your code bad? There are already dozens of hidden dependencies (C runtime calls, OS API calls, global function calls), and singleton dependencies are easy to find (search for instance()). \n\n&quot;Making something global to avoid passing it around is a code smell.&quot; Why isn&apos;t passing something around to avoid making it a singleton a code smell? \n\nIf you&apos;re passing an object through 10 functions in a call stack just to avoid a singleton, is that so great?\nSingle Responsibility Principle: I think this is a bit vague and depends on your definition of responsibility. A relevant question would be, why does adding this specific &quot;responsibility&quot; to a class matter?\nWhy does passing an object to a class make it more tightly coupled than using that object as a singleton from within the class?\nWhy does it change how long the state lasts? Singletons can be created or destroyed manually, so the control is still there, and you can make the lifetime the same as a non-singleton object&apos;s lifetime would be.\n\n\nRegarding unit tests:\n\n\nnot all classes need to be unit\ntested\nnot all classes that need to be unit\ntested need to change the\nimplementation of the singleton\nif they do need be unit tested and\ndo need to change the implementation,\nit&apos;s easy to change a class from\nusing a singleton to having the\nsingleton passed to it via dependency\ninjection.\n\n    ","url":"/questions/[slug]#solution17","@type":"Answer","upvoteCount":0},{"text":"Singletons are bad from a purist point of view.\n\nFrom a pratical point of view, a singleton is a trade-off developing time vs complexity.\n\nIf you know your application won&apos;t change that much they are pretty OK to go with. Just know that you may need to refactor things up if your requirements change in an unexpected way (which is pretty OK in most cases).\n\nSingletons sometimes also complicate unit testing.\n    ","url":"/questions/[slug]#solution18","@type":"Answer","upvoteCount":0},{"text":"I&apos;m not going to comment on the good/evil argument, but I haven&apos;t used them since Spring came along. Using dependency injection has pretty much removed my requirements for singleton, servicelocators and factories. I find this a much more productive and clean environment, at least for the type of work I do (Java-based web applications).\n    ","url":"/questions/[slug]#solution19","@type":"Answer","upvoteCount":0},{"text":"There is nothing inherently wrong with the pattern, assuming it is being used for some aspect of your model which is truly single.\n\nI believe the backlash is due to its overuse which, in turn, is due to the fact that it&apos;s the easiest pattern to understand and implement.\n    ","url":"/questions/[slug]#solution20","@type":"Answer","upvoteCount":0},{"text":"Singleton is a pattern and can be used or abused just like any other tool.\n\nThe bad part of a singleton is generally the user (or should I say the inappropriate use of a singleton for things it is not designed to do). The biggest offender is using a singleton as a fake global variable.\n    ","url":"/questions/[slug]#solution21","@type":"Answer","upvoteCount":0},{"text":"When you write code using singletons, say, a logger or a database connection, and afterwards you discover you need more than one log or more than one database, youre in trouble.\n\nSingletons make it very hard to move from them to regular objects.\n\nAlso, its too easy to write a non-thread-safe singleton.\n\nRather than using singletons, you should pass all the needed utility objects from function to function. That can be simplified if you wrap all them into a helper object, like this:\n\nvoid some_class::some_function(parameters, service_provider&amp; srv)\n{\n    srv.get&lt;error_logger&gt;().log(&quot;Hi there!&quot;);\n    this-&gt;another_function(some_other_parameters, srv);\n}\n\n    ","url":"/questions/[slug]#solution22","@type":"Answer","upvoteCount":0},{"text":"Too many people put objects which are not thread safe in a singleton pattern. I&apos;ve seen examples of a DataContext (LINQ to SQL) done in a singleton pattern, despite the fact that the DataContext is not thread safe and is purely a unit-of-work object.\n    ","url":"/questions/[slug]#solution23","@type":"Answer","upvoteCount":0},{"text":"The problems with singletons is the issue of increased scope and therefore coupling. There is no denying that there are some of situations where you do need access to a single instance, and it can be accomplished other ways.\n\nI now prefer to design around an inversion of control (IoC) container and allow the the lifetimes to be controlled by the container. This gives you the benefit of the classes that depend on the instance to be unaware of the fact that there is a single instance. The lifetime of the singleton can be changed in the future. Once such example I encountered recently was an easy adjustment from single threaded to multi-threaded.\n\nFWIW, if it a PIA when you try to unit test it then it&apos;s going to PIA when you try to debug, bug fix or enhance it.\n    ","url":"/questions/[slug]#solution24","@type":"Answer","upvoteCount":0},{"text":"Recent article on this subject by Chris Reath at Coding Without Comments.\n\nNote: Coding Without Comments is no longer valid.  However, The article being linked to has been cloned by another user.\n\nhttp://geekswithblogs.net/AngelEyes/archive/2013/09/08/singleton-i-love-you-but-youre-bringing-me-down-re-uploaded.aspx\n    ","url":"/questions/[slug]#solution25","@type":"Answer","upvoteCount":0},{"text":"Singletons are NOT bad. It&apos;s only bad when you make something globally unique that isn&apos;t globally unique.\n\nHowever, there are &quot;application scope services&quot; (think about a messaging system that makes components interact) - this CALLS for a singleton, a &quot;MessageQueue&quot; - class that has a method &quot;SendMessage(...)&quot;.\n\nYou can then do the following from all over the place:\n\nMessageQueue.Current.SendMessage(new MailArrivedMessage(...));\n\nAnd, of course, do:\n\nMessageQueue.Current.RegisterReceiver(this);\n\nin classes that implement IMessageReceiver.\n    ","url":"/questions/[slug]#solution26","@type":"Answer","upvoteCount":0},{"text":"Here is one more thing about singletons which nobody said yet.\n\nIn most cases &quot;singletonity&quot; is a detail of implementation for some class rather than characteristic of its interface. Inversion of Control Container may hide this characteristic from class users; you just need to mark your class as a singleton (with @Singleton annotation in Java for example) and that&apos;s it; IoCC will do the rest. You don&apos;t need to provide global access to your singleton instance because the access is already managed by IoCC. Thus there is nothing wrong with IoC Singletons.\n\nGoF Singletons in opposite to IoC Singletons are supposed to expose &quot;singletonity&quot; in the interface through getInstance() method, and so that they suffer from everything said above.\n    ","url":"/questions/[slug]#solution27","@type":"Answer","upvoteCount":0},{"text":"Because they are basically object oriented global variables, you can usually design your classes in such a way so that you don&apos;t need them.\n    ","url":"/questions/[slug]#solution28","@type":"Answer","upvoteCount":0},{"text":"Singletons aren&apos;t evil, if you use it properly &amp; minimally. There are lot of other good design patterns which replaces the needs of singleton at some point (&amp; also gives best results). But some programmers are unaware of those good patterns &amp; uses the singleton for all the cases which makes the singleton evil for them.\n    ","url":"/questions/[slug]#solution29","@type":"Answer","upvoteCount":0},{"text":"Firstly a class and its collaborators should firstly perform their intended purpose rather than focusing on dependents. Lifecycle management (when instances are created and when they go out of scope) should not be part of the classes responsibility. The accepted best practice for this is to craft or configure a new component to manage dependencies using dependency injection. \n\nOften software gets more complicated it makes sense to have multiple independent instances of the Singleton class with different state. Committing code to simply grab the singleton is wrong in such cases. Using Singleton.getInstance() might be ok for small simple systems but it doesn&apos;t work/scale when one might need a different instance of the same class.\n\nNo class should be thought of as a singleton but rather that should be an application of it&apos;s usage or how it is used to configure dependents. For a quick and nasty this does not matter - just luke hard coding say file paths does not matter but for bigger applications such dependencies need to be factored out and managed in more appropriate way using DI.\n\nThe problems that singleton cause in testing is a symptom of their hard coded single usage case/environment. The test suite and the many tests are each individual and separate something that is not compatible with hard coding a singleton.   \n    ","url":"/questions/[slug]#solution30","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08d1a634dea6705e.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/150-b06815e21c943e0d.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/108-87de33c23337ff53.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-79a1437acf654019.js" defer=""></script><script src="/_next/static/Zo3C7AOWQzKM9qqyzx2hf/_buildManifest.js" defer=""></script><script src="/_next/static/Zo3C7AOWQzKM9qqyzx2hf/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/what-are-drawbacks-or-disadvantages-of-singleton-pattern-closed-1657387360749#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/what-are-drawbacks-or-disadvantages-of-singleton-pattern-closed-1657387360749"><h1>What are drawbacks or disadvantages of singleton pattern? [closed]</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/singleton">singleton</a></div></div><div class="question-content mt-5">
                    <div>
            <aside class="s-notice s-notice__info post-notice js-post-notice mb16" role="status">
        <div class="d-flex fd-column fw-nowrap">
            <div class="d-flex fw-nowrap">
                <div class="flex--item wmn0 fl1 lh-lg">
                    <div class="flex--item fl1 lh-lg">
                        <b>Closed</b>. This question is <a href="/help/closed-questions">opinion-based</a>. It is not currently accepting answers.
                        
                    </div>
                </div>
            </div>
        </div>
            <hr class="my12 outline-none baw0 bb bc-powder-400">
        <div class="fw-nowrap fc-black-600">
            <div class="d-flex fd-column lh-md">
                <div class="mb0 d-flex">
                        <div class="flex--item mr8">
                            <svg aria-hidden="true" class="svg-icon iconLightbulb" width="18" height="18" viewBox="0 0 18 18"><path d="M15 6.38A6.48 6.48 0 0 0 7.78.04h-.02A6.49 6.49 0 0 0 2.05 5.6a6.31 6.31 0 0 0 2.39 5.75c.49.39.76.93.76 1.5v.24c0 1.07.89 1.9 1.92 1.9h2.75c1.04 0 1.92-.83 1.92-1.9v-.2c0-.6.26-1.15.7-1.48A6.32 6.32 0 0 0 15 6.37ZM4.03 5.85A4.49 4.49 0 0 1 8 2.02a4.48 4.48 0 0 1 5 4.36 4.3 4.3 0 0 1-1.72 3.44c-.98.74-1.5 1.9-1.5 3.08v.1H7.2v-.14c0-1.23-.6-2.34-1.53-3.07a4.32 4.32 0 0 1-1.64-3.94ZM10 18a1 1 0 0 0 0-2H7a1 1 0 1 0 0 2h3Z"></path></svg>
                        </div>
                    <p><b>Want to improve this question?</b> Update the question so it can be answered with facts and citations by <a href="/posts/137975/edit">editing this post</a>.</p>
                </div>
                    <div class="mb0 mt6 d-flex">
                        <p class="ml24 pl2">Closed <span title="2015-11-09 21:09:26Z" class="relativetime">6 years ago</span>.</p>
                    </div>
                <div class="ml24 pl2">
            <p class="mb0 mt12">The community reviewed whether to reopen this question <span title="2021-10-15 14:15:45Z" class="relativetime">9 months ago</span> and left it closed:</p>
            <blockquote class="mb0 mt12">
                    <p>Original close reason(s) were not resolved</p>
            </blockquote>

                </div>
            </div>
        </div>
            <div class="mt24 d-flex gsx gs8">
                    <a class="s-btn s-btn__outlined flex--item js-post-notice-edit-post" href="/posts/137975/edit">
                        Improve this question
                    </a>
            </div>
</aside>

    </div>

<p>The <a href="https://en.wikipedia.org/wiki/Singleton_pattern" rel="noreferrer">singleton pattern</a> is a fully paid up member of the <a href="https://en.wikipedia.org/wiki/Design_Patterns" rel="noreferrer">GoF</a>'s <a href="https://rads.stackoverflow.com/amzn/click/com/0201633612" rel="noreferrer">patterns book</a>, but it lately seems rather orphaned by the developer world. I still use quite a lot of singletons, especially for <a href="https://en.wikipedia.org/wiki/Factory_method_pattern" rel="noreferrer">factory classes</a>, and while you have to be a bit careful about multithreading issues (like any class actually), I fail to see why they are so awful.</p>

<p>Stack Overflow especially seems to assume that everyone agrees that Singletons are evil. Why?</p>

<p>Please support your answers with "<em>facts, references, or specific expertise</em>"</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li><li class="pagination-solution-item"><span data-id="#solution17" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">17</span></li><li class="pagination-solution-item"><span data-id="#solution18" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">18</span></li><li class="pagination-solution-item"><span data-id="#solution19" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">19</span></li><li class="pagination-solution-item"><span data-id="#solution20" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">20</span></li><li class="pagination-solution-item"><span data-id="#solution21" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">21</span></li><li class="pagination-solution-item"><span data-id="#solution22" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">22</span></li><li class="pagination-solution-item"><span data-id="#solution23" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">23</span></li><li class="pagination-solution-item"><span data-id="#solution24" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">24</span></li><li class="pagination-solution-item"><span data-id="#solution25" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">25</span></li><li class="pagination-solution-item"><span data-id="#solution26" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">26</span></li><li class="pagination-solution-item"><span data-id="#solution27" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">27</span></li><li class="pagination-solution-item"><span data-id="#solution28" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">28</span></li><li class="pagination-solution-item"><span data-id="#solution29" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">29</span></li><li class="pagination-solution-item"><span data-id="#solution30" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">30</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Paraphrased from Brian Button:</p>

<ol>
<li><p>They are generally used as a global instance, why is that so bad? Because you hide the dependencies of your application in your code, instead of exposing them through the interfaces. Making something global to avoid passing it around is a <a href="https://en.wikipedia.org/wiki/Code_smell" rel="noreferrer">code smell</a>.</p></li>
<li><p>They violate the <a href="https://en.wikipedia.org/wiki/Single_responsibility_principle" rel="noreferrer">single responsibility principle</a>: by virtue of the fact that they control their own creation and lifecycle.</p></li>
<li><p>They inherently cause code to be tightly <a href="https://en.wikipedia.org/wiki/Coupling_%28computer_programming%29" rel="noreferrer">coupled</a>. This makes faking them out under test rather difficult in many cases.</p></li>
<li><p>They carry state around for the lifetime of the application. Another hit to testing since you can end up with a situation where tests need to be ordered which is a big no no for unit tests. Why? Because each unit test should be independent from the other.</p></li>
</ol>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Singletons solve one (and only one) problem.</p>

<p><strong>Resource Contention.</strong></p>

<p>If you have some resource that </p>

<p>(<strong>1</strong>) can only have a single instance, and </p>

<p>(<strong>2</strong>) you need to manage that single instance, </p>

<p>you need a <strong>singleton</strong>.</p>

<p>There aren't many examples. A log file is the big one. You don't want to just abandon a single log file. You want to flush, sync and close it properly. This is an example of a single shared resource that has to be managed.</p>

<p>It's rare that you need a singleton. The reason they're bad is that they feel like a <a href="https://en.wikipedia.org/wiki/Global_variable" rel="noreferrer">global</a> and they're a fully paid up member of the GoF <em><a href="https://en.wikipedia.org/wiki/Design_Patterns" rel="noreferrer">Design Patterns</a></em> book.</p>

<p>When you think you need a global, you're probably making a terrible design mistake.</p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Some coding snobs look down on them as just a glorified global. In the same way that many people hate the <em>goto</em> statement there are others that hate the idea of ever using a <em>global</em>. I have seen several developers go to extraordinary lengths to avoid a <em>global</em> because they considered using one as an admission of failure. Strange but true.</p>

<p>In practice the <em>Singleton</em> pattern is just a programming technique that is a useful part of your toolkit of concepts. From time to time you might find it is the ideal solution and so use it. But using it just so you can boast about using a <em>design pattern</em> is just as stupid as refusing to ever use it because it is just a <em>global</em>.</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Misko Hevery, from Google, has some interesting articles on exactly this topic...</p>
<p><a href="https://testing.googleblog.com/2008/08/by-miko-hevery-so-you-join-new-project.html" rel="noreferrer">Singletons are Pathological Liars</a> has a unit testing example that illustrates how singletons can make it difficult to figure out dependency chains and start or test an application. It is a fairly extreme example of abuse, but the point that he makes is still valid:</p>
<blockquote>
<p>Singletons are nothing more than global state. Global state makes it so your objects can secretly get hold of things which are not declared in their APIs, and, as a result, Singletons make your APIs into pathological liars.</p>
</blockquote>
<p><a href="https://testing.googleblog.com/2008/08/where-have-all-singletons-gone.html" rel="noreferrer">Where have all the Singletons Gone</a> makes the point that dependency injection has made it easy to get instances to constructors that require them, which alleviates the underlying need behind the bad, global Singletons decried in the first article.</p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I think the confusion is caused by the fact that people don't know the real application of the Singleton pattern. I can't stress this enough. Singleton is <strong>not</strong> a pattern to wrap globals. Singleton pattern should only be used to guarantee that <strong>one and only one instance of a given class</strong> exists during run time. </p>

<p>People think Singleton is evil because they are using it for globals. It is because of this confusion that Singleton is looked down upon. Please, don't confuse Singletons and globals. If used for the purpose it was intended for, you will gain extreme benefits from the Singleton pattern.</p>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>One rather bad thing about singletons is that you can't extend them very easily. You basically have to build in some kind of <a href="https://en.wikipedia.org/wiki/Decorator_pattern" rel="noreferrer">decorator pattern</a> or some such thing if you want to change their behavior. Also, if one day you want to have multiple ways of doing that one thing, it can be rather painful to change, depending on how you lay out your code.</p>

<p>One thing to note, if you DO use singletons, try to pass them in to whoever needs them rather than have them access it directly... Otherwise if you ever choose to have multiple ways of doing the thing that singleton does, it will be rather difficult to change as each class embeds a dependency if it accesses the singleton directly.</p>

<p>So basically:</p>

<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-title function_">MyConstructor</span><span class="hljs-params">(Singleton singleton)</span> {
    <span class="hljs-built_in">this</span>.singleton = singleton;
}
</code></pre>

<p>rather than:</p>

<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-title function_">MyConstructor</span><span class="hljs-params">()</span> {
    <span class="hljs-built_in">this</span>.singleton = Singleton.getInstance();
}
</code></pre>

<p>I believe this sort of pattern is called <a href="http://en.wikipedia.org/wiki/Dependency_injection" rel="noreferrer">dependency injection</a> and is generally considered a good thing.</p>

<p>Like any pattern though... Think about it and consider if its use in the given situation is inappropriate or not... Rules are made to be broken usually, and <a href="https://en.wikipedia.org/wiki/Software_design_pattern" rel="noreferrer">patterns</a> should not be applied willy nilly without thought.</p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The singleton pattern is not a problem in itself. The problem is that the pattern is often used by people developing software with object-oriented tools without having a solid grasp of OO concepts. When singletons are introduced in this context they tend to grow into unmanageable classes that contain helper methods for every little use.</p>

<p>Singletons are also a problem from a testing perspective. They tend to make isolated unit-tests difficult to write. <strong><a href="http://en.wikipedia.org/wiki/Inversion_of_control" rel="noreferrer">Inversion of control</a></strong> (IoC) and <strong><a href="http://en.wikipedia.org/wiki/Dependency_injection" rel="noreferrer">dependency injection</a></strong> are patterns meant to overcome this problem in an object-oriented manner that lends itself to unit testing.</p>

<p>In a <a href="https://en.wikipedia.org/wiki/Garbage_collection_%28computer_science%29" rel="noreferrer">garbage collected</a> environment singletons can quickly become an issue with regard to memory management.</p>

<p>There is also the multi-threaded scenario where singletons can become a bottleneck as well as a synchronization issue.</p>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>A singleton gets implemented using a static method. Static methods are avoided by people who do unit testing because they cannot be mocked or stubbed. Most people on this site are big proponents of unit testing. The generally most accepted convention to avoid them is using the <a href="http://en.wikipedia.org/wiki/Inversion_of_control" rel="noreferrer">inversion of control</a> pattern.</p>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Singletons are also bad when it comes to <strong>clustering</strong>. Because then, you do not have "exactly one singleton" in your application anymore.</p>

<p>Consider the following situation: As a developer, you have to create a web application which accesses a database. To ensure that concurrent database calls do not conflict each other, you create a thread-save <code>SingletonDao</code>:</p>

<pre><code>public class SingletonDao {
    // songleton's static variable and getInstance() method etc. omitted
    public void writeXYZ(...){
        synchronized(...){
            // some database writing operations...
        }
    }
}
</code></pre>

<p>So you are sure that only one singleton in your application exists and all database go through this one and only <code>SingletonDao</code>. Your production environment now looks like this:
<img src="https://i.stack.imgur.com/ySPwz.png" alt="Single Singleton"></p>

<p>Everything is fine so far.</p>

<p>Now, consider you want to set up multiple instances of your web application in a cluster. Now, you suddenly have something like this:</p>

<p><img src="https://i.stack.imgur.com/Cg1V3.png" alt="Many singletons"></p>

<p>That sounds weird, but <strong>now you have many singletons in your application</strong>. And that is exactly what a singleton is not supposed to be: Having many objects of it. This is especially bad if you, as shown in this example, want to make synchronized calls to a database.</p>

<p>Of course this is an example of a bad usage of a singleton. But the message of this example is: You can not rely that there is exactly one instance of a singleton in your application - especially when it comes to clustering.</p>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<ol>
<li>It is easily (ab)used as a global variable.</li>
<li>Classes that depend on singletons are relatively harder to unit test in isolation.</li>
</ol>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 11</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>Monopoly is the devil and singletons with non-readonly/mutable state are the 'real' problem...</strong></p>

<p>After reading <a href="http://misko.hevery.com/2008/08/17/singletons-are-pathological-liars/" rel="noreferrer">Singletons are Pathological Liars</a> as suggested in <a href="https://stackoverflow.com/a/137996/632951">jason's answer</a> I came across this little tidbit that provides the best presented example of <strong>how</strong> singletons are often misused.</p>

<blockquote>
  <p>Global is bad because:</p>
  
  <ul>
  <li>a. It causes namespace conflict</li>
  <li>b. It exposes the state in a unwarranted fashion</li>
  </ul>
  
  <p>When it comes to Singletons</p>
  
  <ul>
  <li>a. The explicit OO way of calling them, prevents the conflicts, so point a. is not an issue</li>
  <li>b. Singletons without state are (like factories) are not a problem. Singletons with state can again fall in two categories, those which are immutable or write once and read many (config/property files). These are not bad. Mutable Singletons, which are kind of reference holders are the ones which you are speaking of.</li>
  </ul>
</blockquote>

<p>In the last statement he's referring to the blog's concept of 'singletons are liars'.</p>

<p><strong>How does this apply to Monopoly?</strong></p>

<p>To start a game of monopoly, first:</p>

<ul>
<li>we establish the rules first so everybody is on the same page</li>
<li>everybody is given an equal start at the beginning of the game</li>
<li>only one set of rules is presented to avoid confusion</li>
<li>the rules aren't allowed to change throughout the game</li>
</ul>

<p>Now, for anybody who hasn't <strong>really</strong> played monopoly, these standards are ideal at best. A defeat in monopoly is hard to swallow because, monopoly is about money, if you lose you have to painstakingly watch the rest of the players finish the game, and losses are usually swift and crushing. So, the rules usually get twisted at some point to serve the self-interest of some of the players at the expense of the others.</p>

<p>So you're playing monopoly with friends Bob, Joe, and Ed. You're swiftly building your empire and consuming market share at an exponential rate. Your opponents are weakening and you start to smell blood (figuratively). Your buddy Bob put all of his money into gridlocking as many low-value properties as possible but his isn't receiving a high return on investment the way he expected. Bob, as a stroke of bad luck, lands on your Boardwalk and is excised from the game.</p>

<p>Now the game goes from friendly dice-rolling to serious business. Bob has been made the example of failure and Joe and Ed don't want to end up like 'that guy'. So, being the leading player you, all of a sudden, become the enemy. Joe and Ed start practicing under-the-table trades, behind-the-back money injections, undervalued house-swapping and generally anything to weaken you as a player until one of them rises to the top. </p>

<p>Then, instead of one of them winning, the process starts all over. All of a sudden, a finite set of rules becomes a moving target and the game degenerates into the type of social interactions that would make up the foundation of every high-rated reality TV show since Survivor. Why, because the rules are changing and there's no consensus on how/why/what they're supposed to represent, and more importantly, there's no one person making the decisions. Every player in the game, at that point, is making his/her own rules and chaos ensues until two of the players are too tired to keep up the charade and slowly give up.</p>

<p>So, if a rulebook for a game accurately represented a singleton, the monopoly rulebook would be an example of abuse. </p>

<p><strong>How does this apply to programming?</strong></p>

<p>Aside from all of the obvious thread-safety and synchronization issues that mutable singletons present... If you have one set of data, that is capable of being read/manipulated by multiple different sources concurrently and exists during the lifetime of the application execution, it's probably a good time to step back and ask "am I using the right type of data structure here".</p>

<p>Personally, I have seen a programmer abuse a singleton by using it as some sort of twisted cross-thread database store within an application. Having worked on the code directly, I can attest that it was a slow (because of all the thread locks needed to make it thread-safe) and a nightmare to work on (because of the unpredictable/intermittent nature of synchronization bugs), and nearly impossible to test under 'production' conditions. Sure, a system could have been developed using polling/signaling to overcome some of the performance issues but that wouldn't solve the issues with testing and, why bother when a 'real' database can already accomplish the same functionality in a much more robust/scalable manner.</p>

<p><strong>A Singleton is <em>only</em> an option if you need what a singleton provides. A write-one read-only instance of an object. That same rule should cascade to the object's properties/members as well.</strong></p>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 12</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>Singleton is not about single instance!</h2>

<p>Unlike other answers I don't want to talk about what is wrong with Singletons but to show you how powerful and awesome they are when used right!</p>

<ul>
<li><strong>Problem</strong>: Singleton can be a challenge in multi-threading environment<br>
<strong>Solution</strong>: Use a single threaded bootstrap process to initialize all the   dependencies of your singleton.</li>
<li><strong>Problem</strong>: It is hard to mock singletons.<br>
<strong>Solution</strong>: Use method <a href="https://github.com/gazman-sdk/android_life_cycle/wiki" rel="noreferrer">Factory</a> pattern for mocking  </li>
</ul>

<pre><code>
</code></pre>

<p>You can map <code>MyModel</code> to <code>TestMyModel</code> class that inherits it, everywhere when <code>MyModel</code> will be injected you will get <code>TestMyModel</code> instread.
 - <strong>Problem</strong>: Singletons can cause memory leaks as they never disposed.<br>
   <strong>Solution</strong>: Well, dispose them! Implement a callback in your app to properly dispose a singletons, you should remove any data linked to them and finally: remove them from the Factory. </p>

<p>As I stated at the title singleton are not about single instance.</p>

<ul>
<li><strong>Singletons improves readability</strong>: You can look at your class and see what singleton it injected to figure out what is it's dependencies.</li>
<li><strong>Singletons improves maintenance</strong>: Once you removed a dependency from a class you just deleted some singleton injection, you don't need to go and edit a big link of other classes that just moved your dependency around(This is smelly code for me <a href="https://stackoverflow.com/a/138012/1129332">@Jim Burger</a>)</li>
<li><strong>Singletons improves memory and performance</strong>: When some thing happens in your application, and it takes a long chain of callbacks to deliver, you are wasting memory and performance, by using Singleton you are cutting the middle man, and improve your performance and memory usage(by avoiding unnecessary local variables allocations).</li>
</ul>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 13</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><a href="http://en.wikipedia.org/wiki/Singleton_pattern" rel="noreferrer">See Wikipedia Singleton_pattern</a></p>

<blockquote>
  <p>It is also considered an anti-pattern by some people, who feel that it is overly used, introducing unnecessary limitations in situations where a sole instance of a class is not actually required.[1][2][3][4]</p>
</blockquote>

<p>References (only relevant references from the article)</p>

<ol>
<li>^ Alex Miller. <a href="http://tech.puredanger.com/2007/07/03/pattern-hate-singleton/" rel="noreferrer">Patterns I hate #1: Singleton</a>, July 2007</li>
<li>^ Scott Densmore. <a href="http://blogs.msdn.com/scottdensmore/archive/2004/05/25/140827.aspx" rel="noreferrer">Why singletons are evil</a>, May 2004</li>
<li>^ Steve Yegge. <a href="http://steve.yegge.googlepages.com/singleton-considered-stupid" rel="noreferrer">Singletons considered stupid</a>, September 2004</li>
<li>^ J.B. Rainsberger, IBM. <a href="http://www-128.ibm.com/developerworks/webservices/library/co-single.html" rel="noreferrer">Use your singletons wisely</a>, July 2001</li>
</ol>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 14</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>My answer on how Singletons are bad is always, "they are hard to do right". Many of the foundational components of languages are singletons (classes, functions, namespaces and even operators), as are components in other aspects of computing (localhost, default route, virtual filesystem, etc.), and it is not by accident. While they cause trouble and frustration from time to time, they also can make a lot of things work a LOT better.</p>

<p>The two biggest screw ups I see are: treating it like a global &amp; failing to define the Singleton closure.</p>

<p>Everyone talks about Singleton's as globals, because they basically are. However, much (sadly, not all) of the badness in a global comes not intrinsically from being global, but how you use it. Same goes for Singletons. Actually more so as "single instance" really doesn't need to mean "globally accessible". It is more a natural byproduct, and given all the bad that we know comes from it, we shouldn't be in such a hurry to exploit global accessibility. Once programmers see a Singleton they seem to always access it directly through its instance method. Instead, you should navigate to it just like you would any other object. Most code shouldn't even be aware it is dealing with a Singleton (loose coupling, right?). If only a small bit of code accesses the object like it is a global, a lot of harm is undone. I recommend enforcing it by restricting access to the instance function.</p>

<p>The Singleton context is also really important. The defining characteristic of a Singleton is that there is "only one", but the truth is it is "only one" within some kind of context/namespace. They are usually one of: one per thread, process, IP address or cluster, but can also be one per processor, machine, language namespace/class loader/whatever, subnet, Internet, etc.</p>

<p>The other, less common, mistake is to ignore the Singleton lifestyle. Just because there is only one doesn't mean a Singleton is some omnipotent "always was and always will be", nor is it generally desirable (objects without a begin and end violate all kinds of useful assumptions in code, and should be employed only in the most desperate of circumstances.</p>

<p>If you avoid those mistakes, Singletons can still be a PITA, bit it is ready to see a lot of the worst problems are significantly mitigated. Imagine a Java Singleton, that is explicitly defined as once per classloader (which means it needs a thread safety policy), with defined creation and destruction methods and a life cycle that dictates when and how they get invoked, and whose "instance" method has package protection so it is generally accessed through other, non-global objects. Still a potential source of trouble, but certainly much less trouble.</p>

<p>Sadly, rather than teaching good examples of how to do Singletons. We teach bad examples, let programmers run off using them for a while, and then tell them they are a bad design pattern.</p>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 15</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>It's not that singletons themselves are bad but the GoF design pattern is. The only really argument that is valid is that the GoF design pattern doesn't lend itself in regards to testing, especially if tests are run in parallel.</p>

<p>Using a single instance of an class is a valid construct as long as you apply the following means in code:</p>

<ol>
<li><p>Make sure the class that will be used as a singleton implements an interface. This allows stubs or mocks to be implemented using the same interface</p></li>
<li><p>Make sure that the Singleton is thread-safe.  That's a given.</p></li>
<li><p>The singleton should be simple in nature and not overly complicated.</p></li>
<li><p>During the runtime of you application, where singletons need to be passed to a given object, use a class factory that builds that object and have the class factory pass the singleton instance to the class that needs it.</p></li>
<li><p>During testing and to ensure deterministic behavior, create the singleton class as separate instance as either the actual class itself or a stub/mock that implements its behavior and pass it as is to the class that requires it. Don't use the class factor that creates that object under test that needs the singleton during test as it will pass the single global instance of it, which defeats the purpose.</p></li>
</ol>

<p>We've used Singletons in our solutions with a great deal of success that are testable ensuring deterministic behavior in parallel test run streams.</p>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 16</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><a href="http://www.vincehuston.org/dp/singleton.html" rel="noreferrer">Vince Huston</a> has these criteria, which seem reasonable to me:</p>

<blockquote>
  <p>Singleton should be considered only if all three of the following criteria are satisfied:</p>
  
  <ul>
  <li>Ownership of the single instance cannot be reasonably assigned</li>
  <li>Lazy initialization is desirable</li>
  <li>Global access is not otherwise provided for </li>
  </ul>
  
  <p>If ownership of the single instance, when and how initialization occurs, and global access are not issues, Singleton is not sufficiently interesting.</p>
</blockquote>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 17</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I'd like to address the 4 points in the accepted answer, hopefully someone can explain why I'm wrong.</p>

<ol>
<li><p>Why is hiding dependencies in your code bad? There are already dozens of hidden dependencies (C runtime calls, OS API calls, global function calls), and singleton dependencies are easy to find (search for instance()). </p>

<p>"Making something global to avoid passing it around is a code smell." Why isn't passing something around to avoid making it a singleton a code smell? </p>

<p>If you're passing an object through 10 functions in a call stack just to avoid a singleton, is that so great?</p></li>
<li><p>Single Responsibility Principle: I think this is a bit vague and depends on your definition of responsibility. A relevant question would be, why does adding this <em>specific</em> "responsibility" to a class matter?</p></li>
<li><p>Why does passing an object to a class make it more tightly coupled than using that object as a singleton from within the class?</p></li>
<li><p>Why does it change how long the state lasts? Singletons can be created or destroyed manually, so the control is still there, and you can make the lifetime the same as a non-singleton object's lifetime would be.</p></li>
</ol>

<p>Regarding unit tests:</p>

<ul>
<li>not all classes need to be unit
tested</li>
<li>not all classes that need to be unit
tested need to change the
implementation of the singleton</li>
<li>if they <em>do</em> need be unit tested and
do need to change the implementation,
it's easy to change a class from
using a singleton to having the
singleton passed to it via dependency
injection.</li>
</ul>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 18</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Singletons are bad from a purist point of view.</p>

<p>From a pratical point of view, <strong>a singleton is a trade-off developing time vs complexity</strong>.</p>

<p>If you know your application won't change that much they are pretty OK to go with. Just know that you may need to refactor things up if your requirements change in an unexpected way (which is pretty OK in most cases).</p>

<p>Singletons sometimes also complicate <a href="https://en.wikipedia.org/wiki/Unit_testing" rel="noreferrer">unit testing</a>.</p>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 19</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I'm not going to comment on the good/evil argument, but I haven't used them since <a href="http://en.wikipedia.org/wiki/Spring_Framework" rel="nofollow noreferrer">Spring</a> came along. Using <a href="http://en.wikipedia.org/wiki/Dependency_injection" rel="nofollow noreferrer">dependency injection</a> has pretty much removed my requirements for singleton, servicelocators and factories. I find this a much more productive and clean environment, at least for the type of work I do (Java-based web applications).</p>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 20</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>There is nothing inherently wrong with the pattern, assuming it is being used for some aspect of your model which is truly single.</p>

<p>I believe the backlash is due to its overuse which, in turn, is due to the fact that it's the easiest pattern to understand and implement.</p>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 21</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Singleton is a pattern and can be used or abused just like any other tool.</p>

<p>The bad part of a singleton is generally the user (or should I say the inappropriate use of a singleton for things it is not designed to do). The biggest offender is using a singleton as a fake global variable.</p>
    </div></div></div></div><div id="solution22" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 22</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>When you write code using singletons, say, a logger or a database connection, and afterwards you discover you need more than one log or more than one database, youre in trouble.</p>

<p>Singletons make it very hard to move from them to regular objects.</p>

<p>Also, its too easy to write a non-thread-safe singleton.</p>

<p>Rather than using singletons, you should pass all the needed utility objects from function to function. That can be simplified if you wrap all them into a helper object, like this:</p>

<pre><code>void some_class::some_function(parameters, service_provider&amp; srv)
{
    srv.get&lt;error_logger&gt;().log("Hi there!");
    this-&gt;another_function(some_other_parameters, srv);
}
</code></pre>
    </div></div></div></div><div id="solution23" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 23</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Too many people put objects which are not thread safe in a singleton pattern. I've seen examples of a DataContext (<a href="http://en.wikipedia.org/wiki/Language_Integrated_Query#LINQ_to_SQL_.28formerly_called_DLINQ.29" rel="noreferrer">LINQ&nbsp;to&nbsp;SQL</a>) done in a singleton pattern, despite the fact that the DataContext is not thread safe and is purely a unit-of-work object.</p>
    </div></div></div></div><div id="solution24" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 24</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The problems with singletons is the issue of increased scope and therefore <a href="https://en.wikipedia.org/wiki/Coupling_%28computer_programming%29" rel="noreferrer">coupling</a>. There is no denying that there are some of situations where you do need access to a single instance, and it can be accomplished other ways.</p>

<p>I now prefer to design around an <a href="http://en.wikipedia.org/wiki/Inversion_of_control" rel="noreferrer">inversion of control</a> (IoC) container and allow the the lifetimes to be controlled by the container. This gives you the benefit of the classes that depend on the instance to be unaware of the fact that there is a single instance. The lifetime of the singleton can be changed in the future. Once such example I encountered recently was an easy adjustment from single threaded to multi-threaded.</p>

<p>FWIW, if it a PIA when you try to unit test it then it's going to PIA when you try to debug, bug fix or enhance it.</p>
    </div></div></div></div><div id="solution25" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 25</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Recent article on this subject by Chris Reath at <a href="http://www.codingwithoutcomments.com/" rel="noreferrer">Coding Without Comments</a>.</p>

<p>Note: Coding Without Comments is no longer valid.  However, The article being linked to has been cloned by another user.</p>

<p><a href="http://geekswithblogs.net/AngelEyes/archive/2013/09/08/singleton-i-love-you-but-youre-bringing-me-down-re-uploaded.aspx" rel="noreferrer">http://geekswithblogs.net/AngelEyes/archive/2013/09/08/singleton-i-love-you-but-youre-bringing-me-down-re-uploaded.aspx</a></p>
    </div></div></div></div><div id="solution26" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 26</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Singletons are NOT bad. It's only bad when you make something globally unique that isn't globally unique.</p>

<p>However, there are "application scope services" (think about a messaging system that makes components interact) - this CALLS for a singleton, a "MessageQueue" - class that has a method "SendMessage(...)".</p>

<p>You can then do the following from all over the place:</p>

<p>MessageQueue.Current.SendMessage(new MailArrivedMessage(...));</p>

<p>And, of course, do:</p>

<p>MessageQueue.Current.RegisterReceiver(this);</p>

<p>in classes that implement IMessageReceiver.</p>
    </div></div></div></div><div id="solution27" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 27</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here is one more thing about singletons which nobody said yet.</p>

<p>In most cases "singletonity" is a detail of implementation for some class rather than characteristic of its interface. Inversion of Control Container may hide this characteristic from class users; you just need to mark your class as a singleton (with <code>@Singleton</code> annotation in Java for example) and that's it; IoCC will do the rest. You don't need to provide global access to your singleton instance because the access is already managed by IoCC. Thus there is nothing wrong with IoC Singletons.</p>

<p>GoF Singletons in opposite to IoC Singletons are supposed to expose "singletonity" in the interface through getInstance() method, and so that they suffer from everything said above.</p>
    </div></div></div></div><div id="solution28" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 28</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Because they are basically object oriented global variables, you can usually design your classes in such a way so that you don't need them.</p>
    </div></div></div></div><div id="solution29" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 29</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Singletons <em>aren't</em> evil, if you use it <em>properly</em> &amp; <em>minimally</em>. There are lot of other good design patterns which replaces the needs of singleton at some point (&amp; also gives best results). But some programmers are unaware of those good patterns &amp; uses the singleton for all the cases which makes the singleton evil for them.</p>
    </div></div></div></div><div id="solution30" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 30</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/design-patterns">design-patterns</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/singleton">singleton</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Firstly a class and its collaborators should firstly perform their intended purpose rather than focusing on dependents. Lifecycle management (when instances are created and when they go out of scope) should not be part of the classes responsibility. The accepted best practice for this is to craft or configure a new component to manage dependencies using dependency injection. </p>

<p>Often software gets more complicated it makes sense to have multiple independent instances of the Singleton class with different state. Committing code to simply grab the singleton is wrong in such cases. Using <code>Singleton.getInstance()</code> might be ok for small simple systems but it doesn't work/scale when one might need a different instance of the same class.</p>

<p>No class should be thought of as a singleton but rather that should be an application of it's usage or how it is used to configure dependents. For a quick and nasty this does not matter - just luke hard coding say file paths does not matter but for bigger applications such dependencies need to be factored out and managed in more appropriate way using DI.</p>

<p>The problems that singleton cause in testing is a symptom of their hard coded single usage case/environment. The test suite and the many tests are each individual and separate something that is not compatible with hard coding a singleton.   </p>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/what-is-the-meaning-of-single-and-double-underscore-before-an-object-name-1657387926929">What is the meaning of single and double underscore before an object name?</a><a href="/questions/unfortunately-myapp-has-stopped.-how-can-i-solve-this-1657384402171">Unfortunately MyApp has stopped. How can I solve this?</a><a href="/questions/when-to-use-linkedlist-over-arraylist-in-java-1657388107480">When to use LinkedList over ArrayList in Java?</a><a href="/questions/why-is-settimeout(fn-0)-sometimes-useful-1657388379869">Why is setTimeout(fn, 0) sometimes useful?</a><a href="/questions/why-should-there-be-spaces-around-&#x27;&#x27;-and-&#x27;&#x27;-in-bash-1657387984122">Why should there be spaces around &#x27;[&#x27; and &#x27;]&#x27; in Bash?</a><a href="/questions/test-for-existence-of-nested-javascript-object-key-1657387935411">Test for existence of nested JavaScript object key</a><a href="/questions/how-do-i-make-a-list-of-data-frames-1657385480437">How do I make a list of data frames?</a><a href="/questions/how-to-return-value-from-an-asynchronous-callback-function-duplicate-1657387545611">How to return value from an asynchronous callback function? [duplicate]</a><a href="/questions/what-is-object-slicing-1657384506425">What is object slicing?</a><a href="/questions/numbering-rows-within-groups-in-a-data-frame-1657388556436">Numbering rows within groups in a data frame</a><a href="/questions/what-is-event-bubbling-and-capturing-1657388059203">What is event bubbling and capturing?</a><a href="/questions/disable-same-origin-policy-in-chrome-1657387743804">Disable same origin policy in Chrome</a><a href="/questions/is-javascript-a-pass-by-reference-or-pass-by-value-language-1657384675679">Is JavaScript a pass-by-reference or pass-by-value language?</a><a href="/questions/what-is-the-(function()-)()-construct-in-javascript-1657385508348">What is the (function() { } )() construct in JavaScript?</a><a href="/questions/get-all-unique-values-in-a-javascript-array-(remove-duplicates)-1657387435296">Get all unique values in a JavaScript array (remove duplicates)</a><a href="/questions/what-is-selenium-and-what-is-webdriver-1657385470372">What Is Selenium And What Is WebDriver?</a><a href="/questions/how-do-we-control-web-page-caching-across-all-browsers-1657387529059">How do we control web page caching, across all browsers?</a><a href="/questions/why-do-we-always-prefer-using-parameters-in-sql-statements-1657388031476">Why do we always prefer using parameters in SQL statements?</a><a href="/questions/how-to-store-objects-in-html5-localstorage-1657387568907">How to store objects in HTML5 localStorage</a><a href="/questions/loop-through-an-array-in-javascript-1657387821551">Loop through an array in JavaScript</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;Paraphrased from Brian Button:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;They are generally used as a global instance, why is that so bad? Because you hide the dependencies of your application in your code, instead of exposing them through the interfaces. Making something global to avoid passing it around is a \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Code_smell\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;code smell\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;They violate the \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Single_responsibility_principle\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;single responsibility principle\u0026lt;/a\u0026gt;: by virtue of the fact that they control their own creation and lifecycle.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;They inherently cause code to be tightly \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Coupling_%28computer_programming%29\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;coupled\u0026lt;/a\u0026gt;. This makes faking them out under test rather difficult in many cases.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;They carry state around for the lifetime of the application. Another hit to testing since you can end up with a situation where tests need to be ordered which is a big no no for unit tests. Why? Because each unit test should be independent from the other.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Singletons solve one (and only one) problem.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Resource Contention.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you have some resource that \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;(\u0026lt;strong\u0026gt;1\u0026lt;/strong\u0026gt;) can only have a single instance, and \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;(\u0026lt;strong\u0026gt;2\u0026lt;/strong\u0026gt;) you need to manage that single instance, \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;you need a \u0026lt;strong\u0026gt;singleton\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;There aren\u0026apos;t many examples. A log file is the big one. You don\u0026apos;t want to just abandon a single log file. You want to flush, sync and close it properly. This is an example of a single shared resource that has to be managed.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It\u0026apos;s rare that you need a singleton. The reason they\u0026apos;re bad is that they feel like a \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Global_variable\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;global\u0026lt;/a\u0026gt; and they\u0026apos;re a fully paid up member of the GoF \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Design_Patterns\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Design Patterns\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt; book.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;When you think you need a global, you\u0026apos;re probably making a terrible design mistake.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Some coding snobs look down on them as just a glorified global. In the same way that many people hate the \u0026lt;em\u0026gt;goto\u0026lt;/em\u0026gt; statement there are others that hate the idea of ever using a \u0026lt;em\u0026gt;global\u0026lt;/em\u0026gt;. I have seen several developers go to extraordinary lengths to avoid a \u0026lt;em\u0026gt;global\u0026lt;/em\u0026gt; because they considered using one as an admission of failure. Strange but true.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In practice the \u0026lt;em\u0026gt;Singleton\u0026lt;/em\u0026gt; pattern is just a programming technique that is a useful part of your toolkit of concepts. From time to time you might find it is the ideal solution and so use it. But using it just so you can boast about using a \u0026lt;em\u0026gt;design pattern\u0026lt;/em\u0026gt; is just as stupid as refusing to ever use it because it is just a \u0026lt;em\u0026gt;global\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Misko Hevery, from Google, has some interesting articles on exactly this topic...\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://testing.googleblog.com/2008/08/by-miko-hevery-so-you-join-new-project.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Singletons are Pathological Liars\u0026lt;/a\u0026gt; has a unit testing example that illustrates how singletons can make it difficult to figure out dependency chains and start or test an application. It is a fairly extreme example of abuse, but the point that he makes is still valid:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;Singletons are nothing more than global state. Global state makes it so your objects can secretly get hold of things which are not declared in their APIs, and, as a result, Singletons make your APIs into pathological liars.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://testing.googleblog.com/2008/08/where-have-all-singletons-gone.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Where have all the Singletons Gone\u0026lt;/a\u0026gt; makes the point that dependency injection has made it easy to get instances to constructors that require them, which alleviates the underlying need behind the bad, global Singletons decried in the first article.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I think the confusion is caused by the fact that people don\u0026apos;t know the real application of the Singleton pattern. I can\u0026apos;t stress this enough. Singleton is \u0026lt;strong\u0026gt;not\u0026lt;/strong\u0026gt; a pattern to wrap globals. Singleton pattern should only be used to guarantee that \u0026lt;strong\u0026gt;one and only one instance of a given class\u0026lt;/strong\u0026gt; exists during run time. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;People think Singleton is evil because they are using it for globals. It is because of this confusion that Singleton is looked down upon. Please, don\u0026apos;t confuse Singletons and globals. If used for the purpose it was intended for, you will gain extreme benefits from the Singleton pattern.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;One rather bad thing about singletons is that you can\u0026apos;t extend them very easily. You basically have to build in some kind of \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Decorator_pattern\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;decorator pattern\u0026lt;/a\u0026gt; or some such thing if you want to change their behavior. Also, if one day you want to have multiple ways of doing that one thing, it can be rather painful to change, depending on how you lay out your code.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;One thing to note, if you DO use singletons, try to pass them in to whoever needs them rather than have them access it directly... Otherwise if you ever choose to have multiple ways of doing the thing that singleton does, it will be rather difficult to change as each class embeds a dependency if it accesses the singleton directly.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So basically:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;MyConstructor\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Singleton singleton)\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.singleton = singleton;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;rather than:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;MyConstructor\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.singleton = Singleton.getInstance();\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;I believe this sort of pattern is called \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Dependency_injection\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;dependency injection\u0026lt;/a\u0026gt; and is generally considered a good thing.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Like any pattern though... Think about it and consider if its use in the given situation is inappropriate or not... Rules are made to be broken usually, and \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Software_design_pattern\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;patterns\u0026lt;/a\u0026gt; should not be applied willy nilly without thought.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The singleton pattern is not a problem in itself. The problem is that the pattern is often used by people developing software with object-oriented tools without having a solid grasp of OO concepts. When singletons are introduced in this context they tend to grow into unmanageable classes that contain helper methods for every little use.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Singletons are also a problem from a testing perspective. They tend to make isolated unit-tests difficult to write. \u0026lt;strong\u0026gt;\u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Inversion_of_control\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Inversion of control\u0026lt;/a\u0026gt;\u0026lt;/strong\u0026gt; (IoC) and \u0026lt;strong\u0026gt;\u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Dependency_injection\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;dependency injection\u0026lt;/a\u0026gt;\u0026lt;/strong\u0026gt; are patterns meant to overcome this problem in an object-oriented manner that lends itself to unit testing.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In a \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Garbage_collection_%28computer_science%29\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;garbage collected\u0026lt;/a\u0026gt; environment singletons can quickly become an issue with regard to memory management.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;There is also the multi-threaded scenario where singletons can become a bottleneck as well as a synchronization issue.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;A singleton gets implemented using a static method. Static methods are avoided by people who do unit testing because they cannot be mocked or stubbed. Most people on this site are big proponents of unit testing. The generally most accepted convention to avoid them is using the \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Inversion_of_control\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;inversion of control\u0026lt;/a\u0026gt; pattern.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Singletons are also bad when it comes to \u0026lt;strong\u0026gt;clustering\u0026lt;/strong\u0026gt;. Because then, you do not have \u0026quot;exactly one singleton\u0026quot; in your application anymore.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Consider the following situation: As a developer, you have to create a web application which accesses a database. To ensure that concurrent database calls do not conflict each other, you create a thread-save \u0026lt;code\u0026gt;SingletonDao\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;public class SingletonDao {\n    // songleton\u0026apos;s static variable and getInstance() method etc. omitted\n    public void writeXYZ(...){\n        synchronized(...){\n            // some database writing operations...\n        }\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;So you are sure that only one singleton in your application exists and all database go through this one and only \u0026lt;code\u0026gt;SingletonDao\u0026lt;/code\u0026gt;. Your production environment now looks like this:\n\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/ySPwz.png\u0026quot; alt=\u0026quot;Single Singleton\u0026quot;\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Everything is fine so far.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Now, consider you want to set up multiple instances of your web application in a cluster. Now, you suddenly have something like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/Cg1V3.png\u0026quot; alt=\u0026quot;Many singletons\u0026quot;\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;That sounds weird, but \u0026lt;strong\u0026gt;now you have many singletons in your application\u0026lt;/strong\u0026gt;. And that is exactly what a singleton is not supposed to be: Having many objects of it. This is especially bad if you, as shown in this example, want to make synchronized calls to a database.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Of course this is an example of a bad usage of a singleton. But the message of this example is: You can not rely that there is exactly one instance of a singleton in your application - especially when it comes to clustering.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;It is easily (ab)used as a global variable.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Classes that depend on singletons are relatively harder to unit test in isolation.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Monopoly is the devil and singletons with non-readonly/mutable state are the \u0026apos;real\u0026apos; problem...\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;After reading \u0026lt;a href=\u0026quot;http://misko.hevery.com/2008/08/17/singletons-are-pathological-liars/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Singletons are Pathological Liars\u0026lt;/a\u0026gt; as suggested in \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/137996/632951\u0026quot;\u0026gt;jason\u0026apos;s answer\u0026lt;/a\u0026gt; I came across this little tidbit that provides the best presented example of \u0026lt;strong\u0026gt;how\u0026lt;/strong\u0026gt; singletons are often misused.\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Global is bad because:\u0026lt;/p\u0026gt;\n  \n  \u0026lt;ul\u0026gt;\n  \u0026lt;li\u0026gt;a. It causes namespace conflict\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;b. It exposes the state in a unwarranted fashion\u0026lt;/li\u0026gt;\n  \u0026lt;/ul\u0026gt;\n  \n  \u0026lt;p\u0026gt;When it comes to Singletons\u0026lt;/p\u0026gt;\n  \n  \u0026lt;ul\u0026gt;\n  \u0026lt;li\u0026gt;a. The explicit OO way of calling them, prevents the conflicts, so point a. is not an issue\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;b. Singletons without state are (like factories) are not a problem. Singletons with state can again fall in two categories, those which are immutable or write once and read many (config/property files). These are not bad. Mutable Singletons, which are kind of reference holders are the ones which you are speaking of.\u0026lt;/li\u0026gt;\n  \u0026lt;/ul\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;In the last statement he\u0026apos;s referring to the blog\u0026apos;s concept of \u0026apos;singletons are liars\u0026apos;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;How does this apply to Monopoly?\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To start a game of monopoly, first:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;we establish the rules first so everybody is on the same page\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;everybody is given an equal start at the beginning of the game\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;only one set of rules is presented to avoid confusion\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;the rules aren\u0026apos;t allowed to change throughout the game\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Now, for anybody who hasn\u0026apos;t \u0026lt;strong\u0026gt;really\u0026lt;/strong\u0026gt; played monopoly, these standards are ideal at best. A defeat in monopoly is hard to swallow because, monopoly is about money, if you lose you have to painstakingly watch the rest of the players finish the game, and losses are usually swift and crushing. So, the rules usually get twisted at some point to serve the self-interest of some of the players at the expense of the others.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So you\u0026apos;re playing monopoly with friends Bob, Joe, and Ed. You\u0026apos;re swiftly building your empire and consuming market share at an exponential rate. Your opponents are weakening and you start to smell blood (figuratively). Your buddy Bob put all of his money into gridlocking as many low-value properties as possible but his isn\u0026apos;t receiving a high return on investment the way he expected. Bob, as a stroke of bad luck, lands on your Boardwalk and is excised from the game.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Now the game goes from friendly dice-rolling to serious business. Bob has been made the example of failure and Joe and Ed don\u0026apos;t want to end up like \u0026apos;that guy\u0026apos;. So, being the leading player you, all of a sudden, become the enemy. Joe and Ed start practicing under-the-table trades, behind-the-back money injections, undervalued house-swapping and generally anything to weaken you as a player until one of them rises to the top. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Then, instead of one of them winning, the process starts all over. All of a sudden, a finite set of rules becomes a moving target and the game degenerates into the type of social interactions that would make up the foundation of every high-rated reality TV show since Survivor. Why, because the rules are changing and there\u0026apos;s no consensus on how/why/what they\u0026apos;re supposed to represent, and more importantly, there\u0026apos;s no one person making the decisions. Every player in the game, at that point, is making his/her own rules and chaos ensues until two of the players are too tired to keep up the charade and slowly give up.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So, if a rulebook for a game accurately represented a singleton, the monopoly rulebook would be an example of abuse. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;How does this apply to programming?\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Aside from all of the obvious thread-safety and synchronization issues that mutable singletons present... If you have one set of data, that is capable of being read/manipulated by multiple different sources concurrently and exists during the lifetime of the application execution, it\u0026apos;s probably a good time to step back and ask \u0026quot;am I using the right type of data structure here\u0026quot;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Personally, I have seen a programmer abuse a singleton by using it as some sort of twisted cross-thread database store within an application. Having worked on the code directly, I can attest that it was a slow (because of all the thread locks needed to make it thread-safe) and a nightmare to work on (because of the unpredictable/intermittent nature of synchronization bugs), and nearly impossible to test under \u0026apos;production\u0026apos; conditions. Sure, a system could have been developed using polling/signaling to overcome some of the performance issues but that wouldn\u0026apos;t solve the issues with testing and, why bother when a \u0026apos;real\u0026apos; database can already accomplish the same functionality in a much more robust/scalable manner.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;A Singleton is \u0026lt;em\u0026gt;only\u0026lt;/em\u0026gt; an option if you need what a singleton provides. A write-one read-only instance of an object. That same rule should cascade to the object\u0026apos;s properties/members as well.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;Singleton is not about single instance!\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;Unlike other answers I don\u0026apos;t want to talk about what is wrong with Singletons but to show you how powerful and awesome they are when used right!\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;Problem\u0026lt;/strong\u0026gt;: Singleton can be a challenge in multi-threading environment\u0026lt;br\u0026gt;\n\u0026lt;strong\u0026gt;Solution\u0026lt;/strong\u0026gt;: Use a single threaded bootstrap process to initialize all the   dependencies of your singleton.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;Problem\u0026lt;/strong\u0026gt;: It is hard to mock singletons.\u0026lt;br\u0026gt;\n\u0026lt;strong\u0026gt;Solution\u0026lt;/strong\u0026gt;: Use method \u0026lt;a href=\u0026quot;https://github.com/gazman-sdk/android_life_cycle/wiki\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Factory\u0026lt;/a\u0026gt; pattern for mocking  \u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You can map \u0026lt;code\u0026gt;MyModel\u0026lt;/code\u0026gt; to \u0026lt;code\u0026gt;TestMyModel\u0026lt;/code\u0026gt; class that inherits it, everywhere when \u0026lt;code\u0026gt;MyModel\u0026lt;/code\u0026gt; will be injected you will get \u0026lt;code\u0026gt;TestMyModel\u0026lt;/code\u0026gt; instread.\n - \u0026lt;strong\u0026gt;Problem\u0026lt;/strong\u0026gt;: Singletons can cause memory leaks as they never disposed.\u0026lt;br\u0026gt;\n   \u0026lt;strong\u0026gt;Solution\u0026lt;/strong\u0026gt;: Well, dispose them! Implement a callback in your app to properly dispose a singletons, you should remove any data linked to them and finally: remove them from the Factory. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;As I stated at the title singleton are not about single instance.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;Singletons improves readability\u0026lt;/strong\u0026gt;: You can look at your class and see what singleton it injected to figure out what is it\u0026apos;s dependencies.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;Singletons improves maintenance\u0026lt;/strong\u0026gt;: Once you removed a dependency from a class you just deleted some singleton injection, you don\u0026apos;t need to go and edit a big link of other classes that just moved your dependency around(This is smelly code for me \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/138012/1129332\u0026quot;\u0026gt;@Jim Burger\u0026lt;/a\u0026gt;)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;Singletons improves memory and performance\u0026lt;/strong\u0026gt;: When some thing happens in your application, and it takes a long chain of callbacks to deliver, you are wasting memory and performance, by using Singleton you are cutting the middle man, and improve your performance and memory usage(by avoiding unnecessary local variables allocations).\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Singleton_pattern\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;See Wikipedia Singleton_pattern\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;It is also considered an anti-pattern by some people, who feel that it is overly used, introducing unnecessary limitations in situations where a sole instance of a class is not actually required.[1][2][3][4]\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;References (only relevant references from the article)\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;^ Alex Miller. \u0026lt;a href=\u0026quot;http://tech.puredanger.com/2007/07/03/pattern-hate-singleton/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Patterns I hate #1: Singleton\u0026lt;/a\u0026gt;, July 2007\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;^ Scott Densmore. \u0026lt;a href=\u0026quot;http://blogs.msdn.com/scottdensmore/archive/2004/05/25/140827.aspx\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Why singletons are evil\u0026lt;/a\u0026gt;, May 2004\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;^ Steve Yegge. \u0026lt;a href=\u0026quot;http://steve.yegge.googlepages.com/singleton-considered-stupid\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Singletons considered stupid\u0026lt;/a\u0026gt;, September 2004\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;^ J.B. Rainsberger, IBM. \u0026lt;a href=\u0026quot;http://www-128.ibm.com/developerworks/webservices/library/co-single.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Use your singletons wisely\u0026lt;/a\u0026gt;, July 2001\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;My answer on how Singletons are bad is always, \u0026quot;they are hard to do right\u0026quot;. Many of the foundational components of languages are singletons (classes, functions, namespaces and even operators), as are components in other aspects of computing (localhost, default route, virtual filesystem, etc.), and it is not by accident. While they cause trouble and frustration from time to time, they also can make a lot of things work a LOT better.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The two biggest screw ups I see are: treating it like a global \u0026amp;amp; failing to define the Singleton closure.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Everyone talks about Singleton\u0026apos;s as globals, because they basically are. However, much (sadly, not all) of the badness in a global comes not intrinsically from being global, but how you use it. Same goes for Singletons. Actually more so as \u0026quot;single instance\u0026quot; really doesn\u0026apos;t need to mean \u0026quot;globally accessible\u0026quot;. It is more a natural byproduct, and given all the bad that we know comes from it, we shouldn\u0026apos;t be in such a hurry to exploit global accessibility. Once programmers see a Singleton they seem to always access it directly through its instance method. Instead, you should navigate to it just like you would any other object. Most code shouldn\u0026apos;t even be aware it is dealing with a Singleton (loose coupling, right?). If only a small bit of code accesses the object like it is a global, a lot of harm is undone. I recommend enforcing it by restricting access to the instance function.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The Singleton context is also really important. The defining characteristic of a Singleton is that there is \u0026quot;only one\u0026quot;, but the truth is it is \u0026quot;only one\u0026quot; within some kind of context/namespace. They are usually one of: one per thread, process, IP address or cluster, but can also be one per processor, machine, language namespace/class loader/whatever, subnet, Internet, etc.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The other, less common, mistake is to ignore the Singleton lifestyle. Just because there is only one doesn\u0026apos;t mean a Singleton is some omnipotent \u0026quot;always was and always will be\u0026quot;, nor is it generally desirable (objects without a begin and end violate all kinds of useful assumptions in code, and should be employed only in the most desperate of circumstances.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you avoid those mistakes, Singletons can still be a PITA, bit it is ready to see a lot of the worst problems are significantly mitigated. Imagine a Java Singleton, that is explicitly defined as once per classloader (which means it needs a thread safety policy), with defined creation and destruction methods and a life cycle that dictates when and how they get invoked, and whose \u0026quot;instance\u0026quot; method has package protection so it is generally accessed through other, non-global objects. Still a potential source of trouble, but certainly much less trouble.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Sadly, rather than teaching good examples of how to do Singletons. We teach bad examples, let programmers run off using them for a while, and then tell them they are a bad design pattern.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;It\u0026apos;s not that singletons themselves are bad but the GoF design pattern is. The only really argument that is valid is that the GoF design pattern doesn\u0026apos;t lend itself in regards to testing, especially if tests are run in parallel.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Using a single instance of an class is a valid construct as long as you apply the following means in code:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Make sure the class that will be used as a singleton implements an interface. This allows stubs or mocks to be implemented using the same interface\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Make sure that the Singleton is thread-safe.  That\u0026apos;s a given.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;The singleton should be simple in nature and not overly complicated.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;During the runtime of you application, where singletons need to be passed to a given object, use a class factory that builds that object and have the class factory pass the singleton instance to the class that needs it.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;During testing and to ensure deterministic behavior, create the singleton class as separate instance as either the actual class itself or a stub/mock that implements its behavior and pass it as is to the class that requires it. Don\u0026apos;t use the class factor that creates that object under test that needs the singleton during test as it will pass the single global instance of it, which defeats the purpose.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;We\u0026apos;ve used Singletons in our solutions with a great deal of success that are testable ensuring deterministic behavior in parallel test run streams.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://www.vincehuston.org/dp/singleton.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Vince Huston\u0026lt;/a\u0026gt; has these criteria, which seem reasonable to me:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Singleton should be considered only if all three of the following criteria are satisfied:\u0026lt;/p\u0026gt;\n  \n  \u0026lt;ul\u0026gt;\n  \u0026lt;li\u0026gt;Ownership of the single instance cannot be reasonably assigned\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;Lazy initialization is desirable\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;Global access is not otherwise provided for \u0026lt;/li\u0026gt;\n  \u0026lt;/ul\u0026gt;\n  \n  \u0026lt;p\u0026gt;If ownership of the single instance, when and how initialization occurs, and global access are not issues, Singleton is not sufficiently interesting.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I\u0026apos;d like to address the 4 points in the accepted answer, hopefully someone can explain why I\u0026apos;m wrong.\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Why is hiding dependencies in your code bad? There are already dozens of hidden dependencies (C runtime calls, OS API calls, global function calls), and singleton dependencies are easy to find (search for instance()). \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026quot;Making something global to avoid passing it around is a code smell.\u0026quot; Why isn\u0026apos;t passing something around to avoid making it a singleton a code smell? \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you\u0026apos;re passing an object through 10 functions in a call stack just to avoid a singleton, is that so great?\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Single Responsibility Principle: I think this is a bit vague and depends on your definition of responsibility. A relevant question would be, why does adding this \u0026lt;em\u0026gt;specific\u0026lt;/em\u0026gt; \u0026quot;responsibility\u0026quot; to a class matter?\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Why does passing an object to a class make it more tightly coupled than using that object as a singleton from within the class?\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Why does it change how long the state lasts? Singletons can be created or destroyed manually, so the control is still there, and you can make the lifetime the same as a non-singleton object\u0026apos;s lifetime would be.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;Regarding unit tests:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;not all classes need to be unit\ntested\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;not all classes that need to be unit\ntested need to change the\nimplementation of the singleton\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;if they \u0026lt;em\u0026gt;do\u0026lt;/em\u0026gt; need be unit tested and\ndo need to change the implementation,\nit\u0026apos;s easy to change a class from\nusing a singleton to having the\nsingleton passed to it via dependency\ninjection.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Singletons are bad from a purist point of view.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;From a pratical point of view, \u0026lt;strong\u0026gt;a singleton is a trade-off developing time vs complexity\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you know your application won\u0026apos;t change that much they are pretty OK to go with. Just know that you may need to refactor things up if your requirements change in an unexpected way (which is pretty OK in most cases).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Singletons sometimes also complicate \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Unit_testing\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;unit testing\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I\u0026apos;m not going to comment on the good/evil argument, but I haven\u0026apos;t used them since \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Spring_Framework\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Spring\u0026lt;/a\u0026gt; came along. Using \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Dependency_injection\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;dependency injection\u0026lt;/a\u0026gt; has pretty much removed my requirements for singleton, servicelocators and factories. I find this a much more productive and clean environment, at least for the type of work I do (Java-based web applications).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;There is nothing inherently wrong with the pattern, assuming it is being used for some aspect of your model which is truly single.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I believe the backlash is due to its overuse which, in turn, is due to the fact that it\u0026apos;s the easiest pattern to understand and implement.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Singleton is a pattern and can be used or abused just like any other tool.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The bad part of a singleton is generally the user (or should I say the inappropriate use of a singleton for things it is not designed to do). The biggest offender is using a singleton as a fake global variable.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;When you write code using singletons, say, a logger or a database connection, and afterwards you discover you need more than one log or more than one database, youre in trouble.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Singletons make it very hard to move from them to regular objects.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Also, its too easy to write a non-thread-safe singleton.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Rather than using singletons, you should pass all the needed utility objects from function to function. That can be simplified if you wrap all them into a helper object, like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;void some_class::some_function(parameters, service_provider\u0026amp;amp; srv)\n{\n    srv.get\u0026amp;lt;error_logger\u0026amp;gt;().log(\u0026quot;Hi there!\u0026quot;);\n    this-\u0026amp;gt;another_function(some_other_parameters, srv);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Too many people put objects which are not thread safe in a singleton pattern. I\u0026apos;ve seen examples of a DataContext (\u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Language_Integrated_Query#LINQ_to_SQL_.28formerly_called_DLINQ.29\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;LINQ\u0026amp;nbsp;to\u0026amp;nbsp;SQL\u0026lt;/a\u0026gt;) done in a singleton pattern, despite the fact that the DataContext is not thread safe and is purely a unit-of-work object.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The problems with singletons is the issue of increased scope and therefore \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Coupling_%28computer_programming%29\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;coupling\u0026lt;/a\u0026gt;. There is no denying that there are some of situations where you do need access to a single instance, and it can be accomplished other ways.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I now prefer to design around an \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Inversion_of_control\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;inversion of control\u0026lt;/a\u0026gt; (IoC) container and allow the the lifetimes to be controlled by the container. This gives you the benefit of the classes that depend on the instance to be unaware of the fact that there is a single instance. The lifetime of the singleton can be changed in the future. Once such example I encountered recently was an easy adjustment from single threaded to multi-threaded.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;FWIW, if it a PIA when you try to unit test it then it\u0026apos;s going to PIA when you try to debug, bug fix or enhance it.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Recent article on this subject by Chris Reath at \u0026lt;a href=\u0026quot;http://www.codingwithoutcomments.com/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Coding Without Comments\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Note: Coding Without Comments is no longer valid.  However, The article being linked to has been cloned by another user.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://geekswithblogs.net/AngelEyes/archive/2013/09/08/singleton-i-love-you-but-youre-bringing-me-down-re-uploaded.aspx\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://geekswithblogs.net/AngelEyes/archive/2013/09/08/singleton-i-love-you-but-youre-bringing-me-down-re-uploaded.aspx\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Singletons are NOT bad. It\u0026apos;s only bad when you make something globally unique that isn\u0026apos;t globally unique.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;However, there are \u0026quot;application scope services\u0026quot; (think about a messaging system that makes components interact) - this CALLS for a singleton, a \u0026quot;MessageQueue\u0026quot; - class that has a method \u0026quot;SendMessage(...)\u0026quot;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You can then do the following from all over the place:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;MessageQueue.Current.SendMessage(new MailArrivedMessage(...));\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;And, of course, do:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;MessageQueue.Current.RegisterReceiver(this);\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;in classes that implement IMessageReceiver.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here is one more thing about singletons which nobody said yet.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In most cases \u0026quot;singletonity\u0026quot; is a detail of implementation for some class rather than characteristic of its interface. Inversion of Control Container may hide this characteristic from class users; you just need to mark your class as a singleton (with \u0026lt;code\u0026gt;@Singleton\u0026lt;/code\u0026gt; annotation in Java for example) and that\u0026apos;s it; IoCC will do the rest. You don\u0026apos;t need to provide global access to your singleton instance because the access is already managed by IoCC. Thus there is nothing wrong with IoC Singletons.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;GoF Singletons in opposite to IoC Singletons are supposed to expose \u0026quot;singletonity\u0026quot; in the interface through getInstance() method, and so that they suffer from everything said above.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Because they are basically object oriented global variables, you can usually design your classes in such a way so that you don\u0026apos;t need them.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Singletons \u0026lt;em\u0026gt;aren\u0026apos;t\u0026lt;/em\u0026gt; evil, if you use it \u0026lt;em\u0026gt;properly\u0026lt;/em\u0026gt; \u0026amp;amp; \u0026lt;em\u0026gt;minimally\u0026lt;/em\u0026gt;. There are lot of other good design patterns which replaces the needs of singleton at some point (\u0026amp;amp; also gives best results). But some programmers are unaware of those good patterns \u0026amp;amp; uses the singleton for all the cases which makes the singleton evil for them.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Firstly a class and its collaborators should firstly perform their intended purpose rather than focusing on dependents. Lifecycle management (when instances are created and when they go out of scope) should not be part of the classes responsibility. The accepted best practice for this is to craft or configure a new component to manage dependencies using dependency injection. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Often software gets more complicated it makes sense to have multiple independent instances of the Singleton class with different state. Committing code to simply grab the singleton is wrong in such cases. Using \u0026lt;code\u0026gt;Singleton.getInstance()\u0026lt;/code\u0026gt; might be ok for small simple systems but it doesn\u0026apos;t work/scale when one might need a different instance of the same class.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;No class should be thought of as a singleton but rather that should be an application of it\u0026apos;s usage or how it is used to configure dependents. For a quick and nasty this does not matter - just luke hard coding say file paths does not matter but for bigger applications such dependencies need to be factored out and managed in more appropriate way using DI.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The problems that singleton cause in testing is a symptom of their hard coded single usage case/environment. The test suite and the many tests are each individual and separate something that is not compatible with hard coding a singleton.   \u0026lt;/p\u0026gt;\n    "],"id":235,"title":"What are drawbacks or disadvantages of singleton pattern? [closed]","content":"\n                    \u0026lt;div\u0026gt;\n            \u0026lt;aside class=\u0026quot;s-notice s-notice__info post-notice js-post-notice mb16\u0026quot; role=\u0026quot;status\u0026quot;\u0026gt;\n        \u0026lt;div class=\u0026quot;d-flex fd-column fw-nowrap\u0026quot;\u0026gt;\n            \u0026lt;div class=\u0026quot;d-flex fw-nowrap\u0026quot;\u0026gt;\n                \u0026lt;div class=\u0026quot;flex--item wmn0 fl1 lh-lg\u0026quot;\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item fl1 lh-lg\u0026quot;\u0026gt;\n                        \u0026lt;b\u0026gt;Closed\u0026lt;/b\u0026gt;. This question is \u0026lt;a href=\u0026quot;/help/closed-questions\u0026quot;\u0026gt;opinion-based\u0026lt;/a\u0026gt;. It is not currently accepting answers.\n                        \n                    \u0026lt;/div\u0026gt;\n                \u0026lt;/div\u0026gt;\n            \u0026lt;/div\u0026gt;\n        \u0026lt;/div\u0026gt;\n            \u0026lt;hr class=\u0026quot;my12 outline-none baw0 bb bc-powder-400\u0026quot;\u0026gt;\n        \u0026lt;div class=\u0026quot;fw-nowrap fc-black-600\u0026quot;\u0026gt;\n            \u0026lt;div class=\u0026quot;d-flex fd-column lh-md\u0026quot;\u0026gt;\n                \u0026lt;div class=\u0026quot;mb0 d-flex\u0026quot;\u0026gt;\n                        \u0026lt;div class=\u0026quot;flex--item mr8\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;svg-icon iconLightbulb\u0026quot; width=\u0026quot;18\u0026quot; height=\u0026quot;18\u0026quot; viewBox=\u0026quot;0 0 18 18\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;M15 6.38A6.48 6.48 0 0 0 7.78.04h-.02A6.49 6.49 0 0 0 2.05 5.6a6.31 6.31 0 0 0 2.39 5.75c.49.39.76.93.76 1.5v.24c0 1.07.89 1.9 1.92 1.9h2.75c1.04 0 1.92-.83 1.92-1.9v-.2c0-.6.26-1.15.7-1.48A6.32 6.32 0 0 0 15 6.37ZM4.03 5.85A4.49 4.49 0 0 1 8 2.02a4.48 4.48 0 0 1 5 4.36 4.3 4.3 0 0 1-1.72 3.44c-.98.74-1.5 1.9-1.5 3.08v.1H7.2v-.14c0-1.23-.6-2.34-1.53-3.07a4.32 4.32 0 0 1-1.64-3.94ZM10 18a1 1 0 0 0 0-2H7a1 1 0 1 0 0 2h3Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/div\u0026gt;\n                    \u0026lt;p\u0026gt;\u0026lt;b\u0026gt;Want to improve this question?\u0026lt;/b\u0026gt; Update the question so it can be answered with facts and citations by \u0026lt;a href=\u0026quot;/posts/137975/edit\u0026quot;\u0026gt;editing this post\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n                \u0026lt;/div\u0026gt;\n                    \u0026lt;div class=\u0026quot;mb0 mt6 d-flex\u0026quot;\u0026gt;\n                        \u0026lt;p class=\u0026quot;ml24 pl2\u0026quot;\u0026gt;Closed \u0026lt;span title=\u0026quot;2015-11-09 21:09:26Z\u0026quot; class=\u0026quot;relativetime\u0026quot;\u0026gt;6 years ago\u0026lt;/span\u0026gt;.\u0026lt;/p\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                \u0026lt;div class=\u0026quot;ml24 pl2\u0026quot;\u0026gt;\n            \u0026lt;p class=\u0026quot;mb0 mt12\u0026quot;\u0026gt;The community reviewed whether to reopen this question \u0026lt;span title=\u0026quot;2021-10-15 14:15:45Z\u0026quot; class=\u0026quot;relativetime\u0026quot;\u0026gt;9 months ago\u0026lt;/span\u0026gt; and left it closed:\u0026lt;/p\u0026gt;\n            \u0026lt;blockquote class=\u0026quot;mb0 mt12\u0026quot;\u0026gt;\n                    \u0026lt;p\u0026gt;Original close reason(s) were not resolved\u0026lt;/p\u0026gt;\n            \u0026lt;/blockquote\u0026gt;\n\n                \u0026lt;/div\u0026gt;\n            \u0026lt;/div\u0026gt;\n        \u0026lt;/div\u0026gt;\n            \u0026lt;div class=\u0026quot;mt24 d-flex gsx gs8\u0026quot;\u0026gt;\n                    \u0026lt;a class=\u0026quot;s-btn s-btn__outlined flex--item js-post-notice-edit-post\u0026quot; href=\u0026quot;/posts/137975/edit\u0026quot;\u0026gt;\n                        Improve this question\n                    \u0026lt;/a\u0026gt;\n            \u0026lt;/div\u0026gt;\n\u0026lt;/aside\u0026gt;\n\n    \u0026lt;/div\u0026gt;\n\n\u0026lt;p\u0026gt;The \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Singleton_pattern\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;singleton pattern\u0026lt;/a\u0026gt; is a fully paid up member of the \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Design_Patterns\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;GoF\u0026lt;/a\u0026gt;\u0026apos;s \u0026lt;a href=\u0026quot;https://rads.stackoverflow.com/amzn/click/com/0201633612\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;patterns book\u0026lt;/a\u0026gt;, but it lately seems rather orphaned by the developer world. I still use quite a lot of singletons, especially for \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Factory_method_pattern\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;factory classes\u0026lt;/a\u0026gt;, and while you have to be a bit careful about multithreading issues (like any class actually), I fail to see why they are so awful.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Stack Overflow especially seems to assume that everyone agrees that Singletons are evil. Why?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Please support your answers with \u0026quot;\u0026lt;em\u0026gt;facts, references, or specific expertise\u0026lt;/em\u0026gt;\u0026quot;\u0026lt;/p\u0026gt;\n    ","slug":"what-are-drawbacks-or-disadvantages-of-singleton-pattern-closed-1657387360749","postType":"QUESTION","createdAt":"2022-07-09T17:22:40.000Z","updatedAt":"2022-07-09T17:22:40.000Z","tags":[{"id":1565,"name":"design-patterns","slug":"design-patterns","createdAt":"2022-07-09T17:22:40.000Z","updatedAt":"2022-07-09T17:22:40.000Z","Questions_Tags":{"questionId":235,"tagId":1565}},{"id":1566,"name":"singleton","slug":"singleton","createdAt":"2022-07-09T17:22:40.000Z","updatedAt":"2022-07-09T17:22:40.000Z","Questions_Tags":{"questionId":235,"tagId":1566}}],"relatedQuestions":[{"title":"What are drawbacks or disadvantages of singleton pattern? [closed]","slug":"what-are-drawbacks-or-disadvantages-of-singleton-pattern-closed-1657387360749","tags":[{"name":"design-patterns","Questions_Tags":{"questionId":235,"tagId":1565}},{"name":"singleton","Questions_Tags":{"questionId":235,"tagId":1566}}]}]},"randomQuestions":[{"title":"What is the meaning of single and double underscore before an object name?","slug":"what-is-the-meaning-of-single-and-double-underscore-before-an-object-name-1657387926929"},{"title":"Unfortunately MyApp has stopped. How can I solve this?","slug":"unfortunately-myapp-has-stopped.-how-can-i-solve-this-1657384402171"},{"title":"When to use LinkedList over ArrayList in Java?","slug":"when-to-use-linkedlist-over-arraylist-in-java-1657388107480"},{"title":"Why is setTimeout(fn, 0) sometimes useful?","slug":"why-is-settimeout(fn-0)-sometimes-useful-1657388379869"},{"title":"Why should there be spaces around '[' and ']' in Bash?","slug":"why-should-there-be-spaces-around-''-and-''-in-bash-1657387984122"},{"title":"Test for existence of nested JavaScript object key","slug":"test-for-existence-of-nested-javascript-object-key-1657387935411"},{"title":"How do I make a list of data frames?","slug":"how-do-i-make-a-list-of-data-frames-1657385480437"},{"title":"How to return value from an asynchronous callback function? [duplicate]","slug":"how-to-return-value-from-an-asynchronous-callback-function-duplicate-1657387545611"},{"title":"What is object slicing?","slug":"what-is-object-slicing-1657384506425"},{"title":"Numbering rows within groups in a data frame","slug":"numbering-rows-within-groups-in-a-data-frame-1657388556436"},{"title":"What is event bubbling and capturing?","slug":"what-is-event-bubbling-and-capturing-1657388059203"},{"title":"Disable same origin policy in Chrome","slug":"disable-same-origin-policy-in-chrome-1657387743804"},{"title":"Is JavaScript a pass-by-reference or pass-by-value language?","slug":"is-javascript-a-pass-by-reference-or-pass-by-value-language-1657384675679"},{"title":"What is the (function() { } )() construct in JavaScript?","slug":"what-is-the-(function()-)()-construct-in-javascript-1657385508348"},{"title":"Get all unique values in a JavaScript array (remove duplicates)","slug":"get-all-unique-values-in-a-javascript-array-(remove-duplicates)-1657387435296"},{"title":"What Is Selenium And What Is WebDriver?","slug":"what-is-selenium-and-what-is-webdriver-1657385470372"},{"title":"How do we control web page caching, across all browsers?","slug":"how-do-we-control-web-page-caching-across-all-browsers-1657387529059"},{"title":"Why do we always prefer using parameters in SQL statements?","slug":"why-do-we-always-prefer-using-parameters-in-sql-statements-1657388031476"},{"title":"How to store objects in HTML5 localStorage","slug":"how-to-store-objects-in-html5-localstorage-1657387568907"},{"title":"Loop through an array in JavaScript","slug":"loop-through-an-array-in-javascript-1657387821551"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"what-are-drawbacks-or-disadvantages-of-singleton-pattern-closed-1657387360749"},"buildId":"Zo3C7AOWQzKM9qqyzx2hf","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>