<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://solutionschecker.com","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://solutionschecker.com/questions","name":"Questions"}},{"@type":"ListItem","position":3,"item":{"@id":"https://solutionschecker.com/questions/daylight-saving-time-and-time-zone-best-practices-closed-1657387973687","name":"Questions"}}]}</script><title>Daylight saving time and time zone best practices [closed] | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="
            
        
            
                
                    
                        Closed. This question needs to be more focused. It is not currently accepting answers.
                        
                    
                
            
        
            
        
            
                
                        
                            
                        
                    Want to improve this question? Update the question so it focuses on one problem only by editing this post.
                
                    
                        Closed 4 years ago.
                    
                
            The community reviewed whether to reopen this question 8 months ago and left it closed:
            
                    Original close reason(s) were not resolved
            

                
            
        
            
                    
                        Improve this question
                    
            


    

I am hoping to make this question and the answers to it the definitive guide to dealing with daylight saving time, in particular for dealing with the actual change overs. 

If you have anything to add, please do

Many systems are dependent on keeping accurate time, the problem is with changes to time due to daylight savings - moving the clock forward or backwards.

For instance, one has business rules in an order taking system that depend on the time of the order - if the clock changes, the rules might not be as clear. How should the time of the order be persisted? There are of course an endless number of scenarios - this one is simply an illustrative one.


How have you dealt with the daylight saving issue? 
What assumptions are part of your solution? (looking for context here)


As important, if not more so:


What did you try that did not work? 
Why did it not work?


I would be interested in programming, OS, data persistence and other pertinent aspects of the issue.

General answers are great, but I would also like to see details especially if they are only available on one platform.
    "/><meta property="og:title" content="Daylight saving time and time zone best practices [closed] | Solutions Checker"/><meta property="og:description" content="
            
        
            
                
                    
                        Closed. This question needs to be more focused. It is not currently accepting answers.
                        
                    
                
            
        
            
        
            
                
                        
                            
                        
                    Want to improve this question? Update the question so it focuses on one problem only by editing this post.
                
                    
                        Closed 4 years ago.
                    
                
            The community reviewed whether to reopen this question 8 months ago and left it closed:
            
                    Original close reason(s) were not resolved
            

                
            
        
            
                    
                        Improve this question
                    
            


    

I am hoping to make this question and the answers to it the definitive guide to dealing with daylight saving time, in particular for dealing with the actual change overs. 

If you have anything to add, please do

Many systems are dependent on keeping accurate time, the problem is with changes to time due to daylight savings - moving the clock forward or backwards.

For instance, one has business rules in an order taking system that depend on the time of the order - if the clock changes, the rules might not be as clear. How should the time of the order be persisted? There are of course an endless number of scenarios - this one is simply an illustrative one.


How have you dealt with the daylight saving issue? 
What assumptions are part of your solution? (looking for context here)


As important, if not more so:


What did you try that did not work? 
Why did it not work?


I would be interested in programming, OS, data persistence and other pertinent aspects of the issue.

General answers are great, but I would also like to see details especially if they are only available on one platform.
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"Daylight saving time and time zone best practices [closed]","text":"\n            \n        \n            \n                \n                    \n                        Closed. This question needs to be more focused. It is not currently accepting answers.\n                        \n                    \n                \n            \n        \n            \n        \n            \n                \n                        \n                            \n                        \n                    Want to improve this question? Update the question so it focuses on one problem only by editing this post.\n                \n                    \n                        Closed 4 years ago.\n                    \n                \n            The community reviewed whether to reopen this question 8 months ago and left it closed:\n            \n                    Original close reason(s) were not resolved\n            \n\n                \n            \n        \n            \n                    \n                        Improve this question\n                    \n            \n\n\n    \n\nI am hoping to make this question and the answers to it the definitive guide to dealing with daylight saving time, in particular for dealing with the actual change overs. \n\nIf you have anything to add, please do\n\nMany systems are dependent on keeping accurate time, the problem is with changes to time due to daylight savings - moving the clock forward or backwards.\n\nFor instance, one has business rules in an order taking system that depend on the time of the order - if the clock changes, the rules might not be as clear. How should the time of the order be persisted? There are of course an endless number of scenarios - this one is simply an illustrative one.\n\n\nHow have you dealt with the daylight saving issue? \nWhat assumptions are part of your solution? (looking for context here)\n\n\nAs important, if not more so:\n\n\nWhat did you try that did not work? \nWhy did it not work?\n\n\nI would be interested in programming, OS, data persistence and other pertinent aspects of the issue.\n\nGeneral answers are great, but I would also like to see details especially if they are only available on one platform.\n    ","answerCount":30,"upVoteCount":500,"suggestedAnswer":[{"text":"Summary of answers and other data: (please add yours)\nDo:\n\nWhenever you are referring to an exact moment in time, persist the time according to a unified standard that is not affected by daylight savings. (GMT and UTC are equivalent with this regard, but it is preferred to use the term UTC. Notice that UTC is also known as Zulu or Z time.)\nIf instead you choose to persist a (past) time using a local time value, include the local time offset for this particular time from UTC (this offset may change throughout the year), such that the timestamp can later be interpreted unambiguously.\nIn some cases, you may need to store both the UTC time and the equivalent local time.  Often this is done with two separate fields, but some platforms support a datetimeoffset type that can store both in a single field.\nWhen storing timestamps as a numeric value, use Unix time - which is the number of whole seconds since 1970-01-01T00:00:00Z (excluding leap seconds).  If you require higher precision, use milliseconds instead.  This value should always be based on UTC, without any time zone adjustment.\nIf you might later need to modify the timestamp, include the original time zone ID so you can determine if the offset may have changed from the original value recorded.\nWhen scheduling future events, usually local time is preferred instead of UTC, as it is common for the offset to change.  See answer, and blog post.\nWhen storing whole dates, such as birthdays and anniversaries, do not convert to UTC or any other time zone.\n\nWhen possible, store in a date-only data type that does not include a time of day.\nIf such a type is not available, be sure to always ignore the time-of-day when interpreting the value.  If you cannot be assured that the time-of-day will be ignored, choose 12:00 Noon, rather than 00:00 Midnight as a more safe representative time on that day.\n\n\nRemember that time zone offsets are not always an integer number of hours (for example, Indian Standard Time is UTC+05:30, and Nepal uses UTC+05:45).\nIf using Java, use java.time for Java 8 and later.\nMuch of that java.time functionality is back-ported to Java 6 &amp; 7 in the ThreeTen-Backport library.\nFurther adapted for early Android (&lt; 26) in the ThreeTenABP library.\nThese projects officially supplant the venerable Joda-Time, now in maintenance-mode. Joda-Time, ThreeTen-Backport, ThreeTen-Extra, java.time classes, and JSR 310 are led by the same man, Stephen Colebourne.\nIf using .NET, consider using Noda Time.\nIf using .NET without Noda Time, consider that DateTimeOffset is often a better choice than DateTime.\nIf using Perl, use DateTime.\nIf using Python 3.9 or later, use the built-in zoneinfo for working with time zones.  Otherwise, use dateutil or arrow.  The older pytz library can generally be avoided.\nIf using JavaScript, avoid using the older moment.js or moment-timezone libraries, as they are no longer actively maintained.  See the Moment.js project status for more details.  Instead, consider Luxon, date-fns, day.js, or js-joda.\nIf using PHP &gt; 5.2, use the native time zones conversions provided by DateTime, and DateTimeZone classes. Be careful when using DateTimeZone::listAbbreviations() - see answer. To keep PHP with up to date Olson data, install periodically the timezonedb PECL package; see answer.\nIf using C++, be sure to use a library that uses the properly implements the IANA timezone database.  These include cctz, ICU, and Howard Hinnant&apos;s &quot;tz&quot; library.  In C++20 the latter is adopted into the standard &lt;chrono&gt; library.\n\nDo not use Boost for time zone conversions.  While its API claims to support standard IANA (aka &quot;zoneinfo&quot;) identifiers, it crudely maps them to POSIX-style data, without considering the rich history of changes each zone may have had.  (Also, the file has fallen out of maintenance.)\n\n\nIf using Rust, use chrono.\nMost business rules use civil time, rather than UTC or GMT.  Therefore, plan to convert UTC timestamps to a local time zone before applying application logic.\nRemember that time zones and offsets are not fixed and may change. For instance, historically US and UK used the same dates to &apos;spring forward&apos; and &apos;fall back&apos;. However, in 2007 the US changed the dates that the clocks get changed on. This now means that for 48 weeks of the year the difference between London time and New York time is 5 hours and for 4 weeks (3 in the spring, 1 in the autumn) it is 4 hours. Be aware of items like this in any calculations that involve multiple zones.\nConsider the type of time (actual event time, broadcast time, relative time, historical time, recurring time) what elements (timestamp, time zone offset and time zone name) you need to store for correct retrieval - see &quot;Types of Time&quot; in this answer.\nKeep your OS, database and application tzdata files in sync, between themselves and the rest of the world.\nOn servers, set hardware clocks and OS clocks to UTC rather than a local time zone.\nRegardless of the previous bullet point, server-side code, including web sites, should never expect the local time zone of the server to be anything in particular.  see answer.\nPrefer working with time zones on a case-by-case basis in your application code, rather than globally through config file settings or defaults.\nUse NTP services on all servers.\nIf using FAT32, remember that timestamps are stored in local time, not UTC.\nWhen dealing with recurring events (weekly TV show, for example), remember that the time changes with DST and will be different across time zones.\nAlways query date-time values as lower-bound inclusive, upper-bound exclusive (&gt;=, &lt;).\n\nDon&apos;t:\n\nDo not confuse a &quot;time zone&quot;, such as America/New_York with a &quot;time zone offset&quot;, such as -05:00.  They are two different things.  See the timezone tag wiki.\nDo not use JavaScript&apos;s Date object to perform date and time calculations in older web browsers, as ECMAScript 5.1 and lower has a design flaw that may use daylight saving time incorrectly.  (This was fixed in ECMAScript 6 / 2015).\nNever trust the client&apos;s clock. It may very well be incorrect.\nDon&apos;t tell people to &quot;always use UTC everywhere&quot;.  This widespread advice is shortsighted of several valid scenarios that are described earlier in this document.  Instead, use the appropriate time reference for the data you are working with.  (Timestamping can use UTC, but future time scheduling and date-only values should not.)\n\nTesting:\n\nWhen testing, make sure you test countries in the Western, Eastern, Northern and Southern hemispheres (in fact in each quarter of the globe, so 4 regions), with both DST in progress and not (gives 8), and a country that does not use DST (another 4 to cover all regions, making 12 in total).\nTest transition of DST, i.e. when you are currently in summer time, select a time value from winter.\nTest boundary cases, such as a timezone that is UTC+12, with DST, making the local time UTC+13 in summer and even places that are UTC+13 in winter\nTest all third-party libraries and applications and make sure they handle time zone data correctly.\nTest half-hour time zones, at least.\n\nReference:\n\nThe detailed timezone tag wiki page on Stack Overflow\nOlson database, aka Tz_database\nIETF draft procedures for maintaining the Olson database\nSources for Time Zone and DST\nISO format (ISO 8601)\nMapping between Olson database and Windows Time Zone Ids, from the Unicode Consortium\nTime Zone page on Wikipedia\nStackOverflow questions tagged dst\nStackOverflow questions tagged timezone\nDealing with DST - Microsoft DateTime best practices\nNetwork Time Protocol on Wikipedia\n\nOther:\n\nLobby your representative to end the abomination that is DST. We can always hope...\nLobby for Earth Standard Time\n\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"I&apos;m not sure what I can add to the answers above, but here are a few points from me:\n\nTypes of times\n\nThere are four different times you should consider:\n\n\nEvent time: eg, the time when an international sporting event happens, or a coronation/death/etc.  This is dependent on the timezone of the event and not of the viewer.\nTelevision time: eg, a particular TV show is broadcast at 9pm local time all around the world.  Important when thinking about publishing the results (of say American Idol) on your website\nRelative time: eg: This question has an open bounty closing in 21 hours.  This is easy to display\nRecurring time: eg: A TV show is on every Monday at 9pm, even when DST changes.\n\n\nThere is also Historic/alternate time.  These are annoying because they may not map back to standard time.  Eg: Julian dates, dates according to a Lunar calendar on Saturn, The Klingon calendar.\n\nStoring start/end timestamps in UTC works well.  For 1, you need an event timezone name + offset stored along with the event.  For 2, you need a local time identifier stored with each region and a local timezone name + offset stored for every viewer (it&apos;s possible to derive this from the IP if you&apos;re in a crunch).  For 3, store in UTC seconds and no need for timezones.  4 is a special case of 1 or 2 depending on whether it&apos;s a global or a local event, but you also need to store a created at timestamp so you can tell if a timezone definition changed before or after this event was created.  This is necessary if you need to show historic data.\n\nStoring times\n\n\nAlways store time in UTC\nConvert to local time on display (local being defined by the user looking at the data)\nWhen storing a timezone, you need the name, timestamp and the offset.  This is required because governments sometimes change the meanings of their timezones (eg: the US govt changed DST dates), and your application needs to handle things gracefully... eg: The exact timestamp when episodes of LOST showed both before and after DST rules changed.\n\n\nOffsets and names\n\nAn example of the above would be:\n\n\n  The soccer world cup finals game\n  happened in South Africa (UTC+2--SAST)\n  on July 11, 2010 at 19:00 UTC.\n\n\nWith this information, we can historically determine the exact time when the 2010 WCS finals took place even if the South African timezone definition changes, and be able to display that to viewers in their local timezone at the time when they query the database.\n\nSystem Time\n\nYou also need to keep your OS, database and application tzdata files in sync, both with each other, and with the rest of the world, and test extensively when you upgrade.  It&apos;s not unheard of that a third party app that you depend on did not handle a TZ change correctly.\n\nMake sure hardware clocks are set to UTC, and if you&apos;re running servers around the world, make sure their OSes are configured to use UTC as well.  This becomes apparent when you need to copy hourly rotated apache log files from servers in multiple timezones.  Sorting them by filename only works if all files are named with the same timezone.  It also means that you don&apos;t have to do date math in your head when you ssh from one box to another and need to compare timestamps.\n\nAlso, run ntpd on all boxes.\n\nClients\n\nNever trust the timestamp you get from a client machine as valid.  For example, the Date: HTTP headers, or a javascript Date.getTime() call.  These are fine when used as opaque identifiers, or when doing date math during a single session on the same client, but don&apos;t try to cross-reference these values with something you have on the server.  Your clients don&apos;t run NTP, and may not necessarily have a working battery for their BIOS clock.\n\nTrivia\n\nFinally, governments will sometimes do very weird things:\n\n\n  Standard time in the Netherlands was\n  exactly 19 minutes and 32.13 seconds\n  ahead of UTC by law from 1909-05-01\n  through 1937-06-30. This time zone\n  cannot be represented exactly using\n  the HH:MM format.\n\n\nOk, I think I&apos;m done.\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"This is an important and surprisingly tough issue. The truth is that there is no completely satisfying standard for persisting time. For example, the SQL standard and the ISO format (ISO 8601) are clearly not enough.\n\nFrom the conceptual point of view, one usually deals with two types of time-date data, and it&apos;s convenient to distinguish them (the above standards do not) : &quot;physical time&quot; and &quot;civil time&quot;. \n\nA &quot;physical&quot; instant of time is a point in the continuous universal timeline that physics deal with (ignoring relativity, of course). This concept can be adequately coded-persisted in UTC, for example (if you can ignore leap seconds). \n\nA &quot;civil&quot; time is a datetime specification that follows civil norms: a point of time here is fully specified by a set of datetime fields (Y,M,D,H,MM,S,FS) plus a TZ (timezone specification) (also a &quot;calendar&quot;, actually; but lets assume we restrict the discussion to Gregorian calendar). A timezone and a calendar jointly allow (in principle) to map from one representation to another. But civil and physical time instants are fundamentally different types of magnitudes, and they should be kept conceptually separated and treated differently  (an analogy: arrays of bytes and character strings).\n\nThe issue is confusing because we speak of these types events interchangeably, and because the civil times are subject to political changes. The problem (and the need to distinguish these concepts) becomes more evident for events in the future. Example (taken from my discussion here.\n\nJohn records in his calendar a reminder for some event at datetime\n2019-Jul-27, 10:30:00, TZ=Chile/Santiago,  (which has offset GMT-4,\nhence it corresponds to  UTC 2019-Jul-27 14:30:00). But some day\nin the future, the country decides to change the TZ offset to GMT-5.\n\nNow, when the day comes... should that reminder trigger at\n\nA) 2019-Jul-27 10:30:00  Chile/Santiago  = UTC time  2019-Jul-27 15:30:00 ?\n\nor\n\nB) 2019-Jul-27  9:30:00  Chile/Santiago  = UTC time  2019-Jul-27 14:30:00 ?\n\nThere is no correct answer, unless one knows what John conceptually meant\nwhen he told the calendar &quot;Please ring me at 2019-Jul-27, 10:30:00\nTZ=Chile/Santiago&quot;.\n\nDid he mean a &quot;civil date-time&quot; (&quot;when the clocks in my city tell\n10:30&quot;)? In that case, A) is the correct answer.\n\nOr did he mean a  &quot;physical instant of time&quot;, a point in the continuus\nline of time of our universe, say, &quot;when the next solar eclipse\nhappens&quot;. In that case, answer B) is the correct one.\n\nA few Date/Time APIs get this distinction right: among them, Jodatime, which is the foundation of the next (third!) Java DateTime API (JSR  310).\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"Make clear architectural separation of concerns - to know exactly which tier interacts with users, and has to change date-time for/from canonical representation (UTC). Non-UTC date-time is presentation (follows users local timezone), UTC time is model (remains unique for back-end and mid tiers).\n\nAlso, decide what&apos;s your actual audience, what you don&apos;t have to serve and where do you draw the line. Don&apos;t touch exotic calendars unless you actually have important customers there and then consider separate user-facing server(s) just for that region.\n\nIf you can acquire and maintain user&apos;s location, use location for systematic date-time conversion (say .NET culture or a SQL table) but provide a way for end-user to choose overrides if date-time is critical for your users.\n\nIf there are historical audit obligations involved (like telling exactly when Jo in AZ paid a bill 2 yrs ago in September) then keep both UTC and local time for the record (your conversion tables will change in a course of time).\n\nDefine the time referential time zone for data that comes in bulk - like files, web services etc. Say East Coast company has data center in CA - you need to ask and know what they use as a standard instead of assuming one or the other.\n\nDon&apos;t trust time-zone offsets embedded in textual representation of the date-time and don&apos;t accept to parse and follow them. Instead always request that time zone and/or reference zone have to be explicitly defined. You can easily receive time with PST offset but the time is actually EST since that&apos;s the client&apos;s reference time and records were just exported at a server which is in PST.\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"You need to know about the Olson tz database, which is available from ftp://elsie.nci.nih.gov/pub http://iana.org/time-zones/.  It is updated multiple times per year to deal with the often last-minute changes in when (and whether) to switch between winter and summer (standard and daylight saving) time in different countries around the world.  In 2009, the last release was 2009s; in 2010, it was 2010n; in 2011, it was 2011n; at the end of May 2012, the release was 2012c.  Note that there is a set of code to manage the data and the actual time zone data itself, in two separate archives (tzcode20xxy.tar.gz and tzdata20xxy.tar.gz).  Both code and data are in the public domain.\n\nThis is the source of time zone names such as America/Los_Angeles (and synonyms such as US/Pacific).\n\nIf you need to keep track of different zones, then you need the Olson database.  As others have advised, you also want to store the data in a fixed format  UTC is normally the one chosen  along with a record of the time zone in which the data was generated.  You may want to distinguish between the offset from UTC at the time and the time zone name; that can make a difference later.  Also, knowing that it is currently 2010-03-28T23:47:00-07:00 (US/Pacific) may or may not help you with interpreting the value 2010-11-15T12:30  which is presumably specified in PST (Pacific Standard Time) rather than PDT (Pacific Daylight Saving Time).\n\nThe standard C library interfaces are not dreadfully helpful with this sort of stuff.\n\n\n\nThe Olson data has moved, in part because A D Olson will be retiring soon, and in part because there was a (now dismissed) law suit against the maintainers for copyright infringement.  The time zone database is now managed under the auspices of IANA, the Internet Assigned Numbers Authority, and there&apos;s a link on the front page to &apos;Time Zone Database&apos;.  The discussion mailing list is now tz@iana.org; the announcement list is tz-announce@iana.org.\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"In general, include the local time offset (including DST offset) in stored timestamps: UTC alone is not enough if you later want to display the timestamp in its original timezone (and DST setting).\n\nKeep in mind that the offset is not always an integer number of hours (e.g. Indian Standard Time is UTC+05:30).\n\nFor example, suitable formats are a tuple (unix time, offset in minutes) or ISO 8601.\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"Crossing the boundary of &quot;computer time&quot; and &quot;people time&quot; is a nightmare. The main one being that there is no sort of standard for the rules governing timezones and daylight saving times. Countries are free to change their timezone and DST rules at any time, and they do.\n\nSome countries e.g. Israel, Brazil, decide each year when to have their daylight saving times, so it is impossible to know in advance when (if) DST will be in effect. Others have fixed(ish)  rules as to when DST is in effect. Other countries do not use DST as all.\n\nTimezones do not have to be full hour differences from GMT. Nepal is +5.45. There are even timezones that are +13. That means that:\n\nSUN 23:00 in Howland Island (-12)\nMON 11:00 GMT \nTUE 00:00 in Tonga (+13)\n\n\nare all the same time, yet 3 different days!\n\nThere is also no clear standard on the abbreviations for timezones, and how they change when in DST so you end up with things like this:\n\nAST Arab Standard Time     UTC+03\nAST Arabian Standard Time  UTC+04\nAST Arabic Standard Time   UTC+03\n\n\nThe best advice is to stay away from local times as much as possible and stick to UTC where you can. Only convert to local times at the last possible moment.\n\nWhen testing make sure you test countries in the Western and Eastern hemispheres, with both DST in progress and not and a country that does not use DST (6 in total).\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"For PHP:\n\nThe DateTimeZone class in PHP &gt; 5.2 is already based on the Olson DB which others mention, so if you are doing timezone conversions in PHP and not in the DB, you are exempt of working with (the hard-to-understand) Olson files. \n\nHowever, PHP is not updated as frequently as the Olson DB, so just using PHPs time zone conversions may leave you with outdated DST information and influence the correctness of your data. While this is not expected to happen frequently, it may happen, and will happen if you have a large base of users worldwide. \n\nTo cope with the above issue, use the timezonedb pecl package.  Its function is to update PHP&apos;s timezone data. Install this package as frequently as it is updated. (I&apos;m not sure if the updates to this package follow Olson updates exactly, but it seems to be updated at a frequency which is at least very close to the frequency of Olson updates.)\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"If your design can accommodate it, avoid local time conversion all together! \n\nI know to some this might sound insane but think about UX: users process near, relative dates (today, yesterday, next Monday) faster than absolute dates (2010.09.17, Friday Sept 17) on glance. And when you think about it more, the accuracy of timezones (and DST) is more important the closer the date is to now(), so if you can express dates/datetimes in a relative format for +/- 1 or 2 weeks, the rest of the dates can be UTC and it wont matter too much to 95% of users.\n\nThis way you can store all dates in UTC and do the relative comparisons in UTC and simply show the user UTC dates outside of your Relative Date Threshold.\n\nThis can also apply to user input too (but generally in a more limited fashion). Selecting from a drop down that only has { Yesterday, Today, Tomorrow, Next Monday, Next Thursday } is so much simpler and easier for the user than a date picker. Date pickers are some of the most pain inducing components of form filling. Of course this will not work for all cases but you can see that it only takes a little clever design to make it very powerful.\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"I recently had a problem in a web application where on an Ajax post-back the datetime coming back to my server-side code was different from the datetime served out.\n\nIt most likely had to do with my JavaScript code on the client that built up the date for posting back to the client as string, because JavaScript was adjusting for time zone and daylight savings, and in some browsers the calculation for when to apply daylight savings seemed to be different than in others.\n\nIn the end I opted to remove date and time calculations on the client entirely, and posted back to my server on an integer key which then got translated to date time on the server, to allow for consistent transformations.\n\nMy learning from this:\nDo not use JavaScript date and time calculations in web applications unless you ABSOLUTELY have to.\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"While I haven&apos;t tried it, an approach to time zone adjustments I would find compelling would be as follows:\n\n\nStore everything in UTC.\nCreate a table TZOffsets with three columns: RegionClassId, StartDateTime, and OffsetMinutes (int, in minutes).\n\n\nIn the table, store a list of dates and times when the local time changed, and by how much. The number of regions in the table and the number of dates would depend on what range of dates and areas of the world you need to support. Think of this as if it is &quot;historical&quot; date, even though the dates should include the future to some practical limit.\n\nWhen you need to compute the local time of any UTC time, just do this:\n\nSELECT DATEADD(&apos;m&apos;, SUM(OffsetMinutes), @inputdatetime) AS LocalDateTime\nFROM   TZOffsets\nWHERE  StartDateTime &lt;= @inputdatetime\n       AND RegionClassId = @RegionClassId;\n\n\nYou might want to cache this table in your app and use LINQ or some similar means to do the queries rather than hitting the database.\n\nThis data can be distilled from the public domain tz database.\n\nAdvantages and footnotes of this approach:\n\n\nNo rules are baked into code, you can adjust the offsets for new regions or date ranges readily.\nYou don&apos;t have to support every range of dates or regions, you can add them as needed.\nRegions don&apos;t have to correspond directly to geopolitical boundaries, and to avoid duplication of rows (for instance, most states in the US handle DST the same way), you can have broad RegionClass entries that link in another table to more traditional lists of states, countries, etc.\nFor situations like the US where the start and end date of DST has changed over the past few years, this is pretty easy to deal with.\nSince the StartDateTime field can store a time as well, the 2:00 AM standard change-over time is handled easily.\nNot everywhere in the world uses a 1-hour DST. This handles those cases easily.\nThe data table is cross-platform and could be a separate open-source project that could be used by developers who use nearly any database platform or programming language.\nThis can be used for offsets that have nothing to do with time zones. For instance, the 1-second adjustments that happen from time to time to adjust for the Earth&apos;s rotation, historical adjustments to and within the Gregorian calendar, etc.\nSince this is in a database table, standard report queries, etc. can take advantage of the data without a trip through business logic code.\nThis handles time zone offsets as well if you want it to, and can even account for special historical cases where a region is assigned to another time zone. All you need is an initial date that assigns a time zone offset to each region with a minimal start date. This would require creating at least one region for each time zone, but would allow you to ask interesting questions like: &quot;What is the difference in local time between Yuma, Arizona and Seattle, Washington on February 2, 1989 at 5:00am?&quot; (Just subtract one SUM() from the other).\n\n\nNow, the only disadvantage of this approach or any other is that conversions from local time to GMT are not perfect, since any DST change that has a negative offset to the clock repeats a given local time. No easy way to deal with that one, I&apos;m afraid, which is one reason storing local times is bad news in the first place.\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"I have hit this on two types of systems, shift planning systems (e.g. factory workers) and gas depend management systems)\n\n23 and 25 hour long days are a pain to cope with, so are 8hr shifts that take 7hr or 9hr.  The problem is you will find that each customers, or even department of the customer have different rules they have created (often without documenting) on what they do in these special cases.\n\nSome questions are best not asked of the customers until after they have paid for your off the shelf software.  It is very rare to find a customer that thinks about this type of issue up front when buying software.\n\nI think in all cases you should record time in UTC and convert to/from local time before storing the date/time.   However even know which take a given time is in can be hard with Daylight saving and time zones.\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"For the web, the rules aren&apos;t that complicated...\n\n\nServer-side, use UTC \nClient-side, use Olson\n\nReason: UTC-offsets are not daylight savings-safe (e.g. New York is EST (UTC - 5 Hours) part of the year, EDT (UTC - 4 Hours) rest of the year).\nFor client-side time zone determination, you have two options:\n\n1) Have user set zone (Safer)\n\nResources: Web-ready Olson tz HTML Dropdown and JSON\n\n2) Auto-detect zone\n\nResource: jsTimezoneDetect\n\n\n\n\n\nThe rest is just UTC/local conversion using your server-side datetime libraries. Good to go...\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"When it comes to applications that run on a server, including web sites and other back-end services, the time zone setting of the server should be ignored by the application.\n\nThe common advice is to set the server&apos;s time zone to UTC.  This is indeed a good best practice, but it&apos;s there as a band-aid for applications that do not follow other best practices.  For example, a service might be writing to log files with local timestamps instead of UTC-based timestamps, thus creating ambiguities during the daylight saving time fall-back transition.  Setting the server&apos;s time zone to UTC will fix that application.  However the real fix would be for the application to log using UTC to begin with.\n\nServer-side code, including web sites, should never expect the local time zone of the server to be anything in particular.\n\nIn some languages, the local time zone can easily creep in to application code.  For example, the DateTime.ToUniversalTime method in .NET will convert from the local time zone to UTC, and the DateTime.Now property returns the current time in the local time zone.   Also, the Date constructor in JavaScript uses the computer&apos;s local time zone.  There are many other examples like this.   It is important to practice defensive programming, avoiding any code that uses the computer&apos;s local time zone setting.\n\nReserve using the local time zone for client-side code, such as desktop applications, mobile applications, and client-side JavaScript.\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0},{"text":"Keep your servers set to UTC, and make sure they all are configured for ntp or the equivalent.\n\nUTC avoids daylight savings time issues, and out-of-sync servers can cause unpredictable results that take a while to diagnose.\n    ","url":"/questions/[slug]#solution15","@type":"Answer","upvoteCount":0},{"text":"Be careful when dealing with timestamps stored in the FAT32 filesystem - it is always persisted in local time coordinates (which include DST - see msdn article).  Got burned on that one.\n    ","url":"/questions/[slug]#solution16","@type":"Answer","upvoteCount":0},{"text":"One other thing, make sure the servers have the up to date daylight savings patch applied.\n\nWe had a situation last year where our times were consistently out by one hour for a three-week period for North American users, even though we were using a UTC based system.\n\nIt turns out in the end it was the servers. They just needed an up-to-date patch applied (Windows Server 2003).\n    ","url":"/questions/[slug]#solution17","@type":"Answer","upvoteCount":0},{"text":"PHP&apos;s DateTimeZone::listAbbreviations() output\n\nThis PHP method returns an associative array containing some &apos;major&apos; timezones (like CEST), which on their own contain more specific &apos;geographic&apos; timezones (like Europe/Amsterdam).\n\nIf you&apos;re using these timezones and their offset/DST information, it&apos;s extremely important to realize the following:\n\nIt seems like all different offset/DST configurations (including historical configurations) of each timezone are included!\n\nFor example, Europe/Amsterdam can be found six times in the output of this function. Two occurrences (offset 1172/4772) are for the Amsterdam time used until 1937; two (1200/4800) are for the time that was used between 1937 and 1940; and two (3600/4800) are for the time used since 1940.\n\nTherefore, you cannot rely on the offset/DST information returned by this function as being currently correct/in use!\n\nIf you want to know the current offset/DST of a certain timezone, you&apos;ll have to do something like this:\n\n&lt;?php\n$now = new DateTime(null, new DateTimeZone(&apos;Europe/Amsterdam&apos;));\necho $now-&gt;getOffset();\n?&gt;\n\n    ","url":"/questions/[slug]#solution18","@type":"Answer","upvoteCount":0},{"text":"If you happen to maintain database systems that are running with DST active, check carefully whether they need to be shut down during the transition in fall. Mandy DBS (or other systems as well) don&apos;t like passing the same point in (local) time twice, which is exactly what happens when you turn back the clock in fall. SAP has solved this with a (IMHO really neat) workaround - instead of turning back the clock, they just let the internal clock run at half the usual speed for two hours...\n    ","url":"/questions/[slug]#solution19","@type":"Answer","upvoteCount":0},{"text":"Are you using the .NET framework?\nIf so, let me introduce you to the DateTimeOffset type, added with .NET 3.5.\n\nThis structure holds both a DateTime and an Offset (TimeSpan), which specifies the difference between the DateTimeOffset instance&apos;s date and time and Coordinated Universal Time (UTC).\n\n\nThe DateTimeOffset.Now static method will return a DateTimeOffset\ninstance consisting of the current (local) time, and the local offset\n(as defined in the operating system&apos;s regional info).\nThe DateTimeOffset.UtcNow static method will return a\nDateTimeOffset instance consisting of the current time in UTC (as\nif you were in Greenwich).\n\n\nOther helpful types are the TimeZone and TimeZoneInfo classes. \n    ","url":"/questions/[slug]#solution20","@type":"Answer","upvoteCount":0},{"text":"For those struggling with this on .NET, see if using DateTimeOffset and/or TimeZoneInfo are worth your while.\n\nIf you want to use IANA/Olson time zones, or find the built in types are insufficient for your needs, check out Noda Time, which offers a much smarter date and time API for .NET. \n    ","url":"/questions/[slug]#solution21","@type":"Answer","upvoteCount":0},{"text":"Business rules should always work on civil time (unless there&apos;s legislation that says otherwise). Be aware that civil time is a mess, but it&apos;s what people use so it&apos;s what is important.\n\nInternally, keep timestamps in something like civil-time-seconds-from-epoch. The epoch doesn&apos;t matter particularly (I favour the Unix epoch) but it does make things easier than the alternative. Pretend that leap-seconds don&apos;t exist unless you&apos;re doing something that really needs them (e.g., satellite tracking). The mapping between timestamps and displayed time is the only point where DST rules should be applied; the rules change frequently (on a global level, several times a year; blame politicians) so you should make sure that you do not hard-code the mapping. Olson&apos;s TZ database is invaluable.\n    ","url":"/questions/[slug]#solution22","@type":"Answer","upvoteCount":0},{"text":"Just wanted to point out two things that seem inaccurate or at least confusing:\n\n\n  Always persist time according to a unified standard that is not\n  affected by daylight savings. GMT and UTC have been mentioned by\n  different people, though UTC seems to be mentioned most often.\n\n\nFor (almost) all practical computing purposes, UTC is, in fact, GMT. Unless you see a timestamps with a fractional second, you&apos;re dealing with GMT which makes this distinction redundant.\n\n\n  Include the local time offset as is (including DST offset) when\n  storing timestamps.\n\n\nA timestamp is always represented in GMT and thus has no offset.\n    ","url":"/questions/[slug]#solution23","@type":"Answer","upvoteCount":0},{"text":"Here is my experience:-\n\n(Does not require any third-party library)\n\n\nOn server-side, store times in UTC format so that all date/time values in database are in a single standard regardless of location of users, servers, timezones or DST.\nOn the UI layer or in emails sent out to user, you need to show times according to user. For that matter, you need to have user&apos;s timezone offset so that you can add this offset to your database&apos;s UTC value which will result in user&apos;s local time. You can either take user&apos;s timezone offset when they are signing up or you can auto-detect them in web and mobile platforms. For websites, JavaScript&apos;s function getTimezoneOffset() method is a standard since version 1.0 and compatible with all browsers. (Ref: http://www.w3schools.com/jsref/jsref_getTimezoneOffset.asp)\n\n    ","url":"/questions/[slug]#solution24","@type":"Answer","upvoteCount":0},{"text":"Tom Scott&apos;s video about timezones on YouTube on the Computerphile channel has also a nice and entertaining description of the topic. \nExamples include: \n\n\nSamoa (an island in the Pacific Ocean) shifting its time zone forward by 24 hours to make trading easier with Australia and New Zealand, \nWest Bank, where 2 populations of people are following different time zones,\n18th century changes from the Julian calendar to the Gregorian\ncalendar (which happened in the 20th century in Russia).\n\n    ","url":"/questions/[slug]#solution25","@type":"Answer","upvoteCount":0},{"text":"Just one example to prove that handling time is the huge mess described, and that you can never be complacent. In several spots on this page leap-seconds have been ignored. \n\nSeveral years ago, the Android operating system used GPS satellites to get a UTC time reference, but ignored the fact that GPS satellites do not use leap-seconds. No one noticed until there was confusion on New Year&apos;s Eve, when the Apple phone users and Android phone users did their count-downs about 15 seconds apart. \n\nI think it has since been fixed, but you never know when these &apos;minor details&apos; will come back to haunt you. \n    ","url":"/questions/[slug]#solution26","@type":"Answer","upvoteCount":0},{"text":"Actually, kernel32.dll does not export SystemTimeToTzSpecificLocation.  It does however export the following two:  SystemTimeToTzSpecificLocalTime and TzSpecificLocalTimeToSystemTime...\n    ","url":"/questions/[slug]#solution27","@type":"Answer","upvoteCount":0},{"text":"Never rely only on constructors like \n\n new DateTime(int year, int month, int day, int hour, int minute, TimeZone timezone)\n\n\nThey can throw exceptions when a certain date time does not exist due to DST. Instead, build your own methods for creating such dates. In them, catch any exceptions that occur due to DST, and adjust the time is needed with the transition offset. DST may occur on different dates and at different hours (even at midnight for Brazil) according to the timezone.\n    ","url":"/questions/[slug]#solution28","@type":"Answer","upvoteCount":0},{"text":"\nNever, ever store local time without its UTC offset (or a reference to the time zone)examples of how not to do it include FAT32 and struct tm in C.¹\nUnderstand that a time zone is a combination of\n\n\na set of UTC offsets (e.g. +0100 in winter, +0200 in summer)\nrules for when the switchover happens (which may change over time: for example, in the 1990s the EU harmonized the switchover as being on the last Sundays in March and October, at 02:00 standard time/03:00 DST; previously this differed between member states).\n\n\n\n\n\n¹ Some implementations of struct tm do store the UTC offset, but this has not made it into the standard.\n    ","url":"/questions/[slug]#solution29","@type":"Answer","upvoteCount":0},{"text":"In dealing with databases (in particular MySQL, but this applies to most databases), I found it hard to store UTC.\n\n\nDatabases usually work with server datetime by default (that is, CURRENT_TIMESTAMP).\nYou may not be able to change the server timezone.\nEven if you are able to change the timezone, you may have third-party code that expects server timezone to be local.\n\n\nI found it easier to just store server datetime in the database, then let the database convert the stored datetime back to UTC (that is, UNIX_TIMESTAMP()) in the SQL statements. After that you can use the datetime as UTC in your code.\n\nIf you have 100% control over the server and all code, it&apos;s probably better to change server timezone to UTC.\n    ","url":"/questions/[slug]#solution30","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="17"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-7e79b78ef884195a.js" defer=""></script><script src="/_next/static/chunks/294-106ef8570fa99deb.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-c1a73f3e758d48b9.js" defer=""></script><script src="/_next/static/XDXakEY6gSPdgAODPxtjg/_buildManifest.js" defer=""></script><script src="/_next/static/XDXakEY6gSPdgAODPxtjg/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/daylight-saving-time-and-time-zone-best-practices-closed-1657387973687#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/daylight-saving-time-and-time-zone-best-practices-closed-1657387973687"><h1>Daylight saving time and time zone best practices [closed]</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div><div class="question-content mt-5">
                    <div>
            <aside class="s-notice s-notice__info post-notice js-post-notice mb16" role="status">
        <div class="d-flex fd-column fw-nowrap">
            <div class="d-flex fw-nowrap">
                <div class="flex--item wmn0 fl1 lh-lg">
                    <div class="flex--item fl1 lh-lg">
                        <b>Closed</b>. This question needs to be more <a href="/help/closed-questions">focused</a>. It is not currently accepting answers.
                        
                    </div>
                </div>
            </div>
        </div>
            <hr class="my12 outline-none baw0 bb bc-powder-400">
        <div class="fw-nowrap fc-black-600">
            <div class="d-flex fd-column lh-md">
                <div class="mb0 d-flex">
                        <div class="flex--item mr8">
                            <svg aria-hidden="true" class="svg-icon iconLightbulb" width="18" height="18" viewBox="0 0 18 18"><path d="M15 6.38A6.48 6.48 0 0 0 7.78.04h-.02A6.49 6.49 0 0 0 2.05 5.6a6.31 6.31 0 0 0 2.39 5.75c.49.39.76.93.76 1.5v.24c0 1.07.89 1.9 1.92 1.9h2.75c1.04 0 1.92-.83 1.92-1.9v-.2c0-.6.26-1.15.7-1.48A6.32 6.32 0 0 0 15 6.37ZM4.03 5.85A4.49 4.49 0 0 1 8 2.02a4.48 4.48 0 0 1 5 4.36 4.3 4.3 0 0 1-1.72 3.44c-.98.74-1.5 1.9-1.5 3.08v.1H7.2v-.14c0-1.23-.6-2.34-1.53-3.07a4.32 4.32 0 0 1-1.64-3.94ZM10 18a1 1 0 0 0 0-2H7a1 1 0 1 0 0 2h3Z"></path></svg>
                        </div>
                    <p><b>Want to improve this question?</b> Update the question so it focuses on one problem only by <a href="/posts/2532729/edit">editing this post</a>.</p>
                </div>
                    <div class="mb0 mt6 d-flex">
                        <p class="ml24 pl2">Closed <span title="2018-02-16 09:14:47Z" class="relativetime">4 years ago</span>.</p>
                    </div>
                <div class="ml24 pl2">
            <p class="mb0 mt12">The community reviewed whether to reopen this question <span title="2021-11-23 15:40:31Z" class="relativetime">8 months ago</span> and left it closed:</p>
            <blockquote class="mb0 mt12">
                    <p>Original close reason(s) were not resolved</p>
            </blockquote>

                </div>
            </div>
        </div>
            <div class="mt24 d-flex gsx gs8">
                    <a class="s-btn s-btn__outlined flex--item js-post-notice-edit-post" href="/posts/2532729/edit">
                        Improve this question
                    </a>
            </div>
</aside>

    </div>

<p>I am hoping to make this question and the answers to it the definitive guide to dealing with daylight saving time, in particular for dealing with the actual change overs. </p>

<p><strong>If you have anything to add, please do</strong></p>

<p>Many systems are dependent on keeping accurate time, the problem is with changes to time due to daylight savings - moving the clock forward or backwards.</p>

<p>For instance, one has business rules in an order taking system that depend on the time of the order - if the clock changes, the rules might not be as clear. How should the time of the order be persisted? There are of course an endless number of scenarios - this one is simply an illustrative one.</p>

<ul>
<li>How have you dealt with the daylight saving issue? </li>
<li>What assumptions are part of your solution? (looking for context here)</li>
</ul>

<p>As important, if not more so:</p>

<ul>
<li>What did you try that did not work? </li>
<li>Why did it not work?</li>
</ul>

<p>I would be interested in programming, OS, data persistence and other pertinent aspects of the issue.</p>

<p>General answers are great, but I would also like to see details especially if they are only available on one platform.</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li><li class="pagination-solution-item"><span data-id="#solution17" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">17</span></li><li class="pagination-solution-item"><span data-id="#solution18" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">18</span></li><li class="pagination-solution-item"><span data-id="#solution19" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">19</span></li><li class="pagination-solution-item"><span data-id="#solution20" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">20</span></li><li class="pagination-solution-item"><span data-id="#solution21" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">21</span></li><li class="pagination-solution-item"><span data-id="#solution22" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">22</span></li><li class="pagination-solution-item"><span data-id="#solution23" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">23</span></li><li class="pagination-solution-item"><span data-id="#solution24" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">24</span></li><li class="pagination-solution-item"><span data-id="#solution25" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">25</span></li><li class="pagination-solution-item"><span data-id="#solution26" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">26</span></li><li class="pagination-solution-item"><span data-id="#solution27" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">27</span></li><li class="pagination-solution-item"><span data-id="#solution28" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">28</span></li><li class="pagination-solution-item"><span data-id="#solution29" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">29</span></li><li class="pagination-solution-item"><span data-id="#solution30" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">30</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>Summary of answers and other data: (please add yours)</h2>
<p><strong>Do:</strong></p>
<ul>
<li>Whenever you are referring to an exact moment in time, persist the time according to a unified standard that is not affected by daylight savings. (GMT and UTC are equivalent with this regard, but it is preferred to use the term UTC. Notice that UTC is also known as <em>Zulu</em> or <em>Z</em> time.)</li>
<li>If instead you choose to persist a (past) time using a local time value, include the local time offset for this particular time from UTC (this offset may change throughout the year), such that the timestamp can later be interpreted unambiguously.</li>
<li>In some cases, you may need to store <em>both</em> the UTC time and the equivalent local time.  Often this is done with two separate fields, but some platforms support a <code>datetimeoffset</code> type that can store both in a single field.</li>
<li>When storing timestamps as a numeric value, use <a href="http://en.wikipedia.org/wiki/Unix_time" rel="noreferrer">Unix time</a> - which is the number of whole seconds since <code>1970-01-01T00:00:00Z</code> (excluding leap seconds).  If you require higher precision, use milliseconds instead.  This value should always be based on UTC, without any time zone adjustment.</li>
<li>If you might later need to modify the timestamp, include the original time zone ID so you can determine if the offset may have changed from the original value recorded.</li>
<li>When scheduling future events, usually local time is preferred instead of UTC, as it is common for the offset to change.  <a href="https://stackoverflow.com/a/19627330/634824">See answer</a>, and <a href="http://www.creativedeletion.com/2015/03/19/persisting_future_datetimes.html" rel="noreferrer">blog post</a>.</li>
<li>When storing whole dates, such as birthdays and anniversaries, do not convert to UTC or any other time zone.
<ul>
<li>When possible, store in a date-only data type that does not include a time of day.</li>
<li>If such a type is not available, be sure to always ignore the time-of-day when interpreting the value.  If you cannot be assured that the time-of-day will be ignored, choose 12:00 Noon, rather than 00:00 Midnight as a more safe representative time on that day.</li>
</ul>
</li>
<li>Remember that time zone offsets are not always an integer number of hours (for example, Indian Standard Time is UTC+05:30, and Nepal uses UTC+05:45).</li>
<li>If using Java, use <a href="http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html" rel="noreferrer"><em>java.time</em></a> for Java 8 and later.</li>
<li>Much of that <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in the <a href="https://www.threeten.org/threetenbp/" rel="noreferrer"><em>ThreeTen-Backport</em></a> library.</li>
<li>Further adapted for early Android (&lt; 26) in the <a href="https://github.com/JakeWharton/ThreeTenABP" rel="noreferrer"><em>ThreeTenABP</em></a> library.</li>
<li>These projects officially supplant the venerable <a href="https://www.joda.org/joda-time/" rel="noreferrer">Joda-Time</a>, now in <a href="https://en.wikipedia.org/wiki/Maintenance_mode" rel="noreferrer">maintenance-mode</a>. Joda-Time, ThreeTen-Backport, <a href="https://www.threeten.org/threeten-extra/" rel="noreferrer">ThreeTen-Extra</a>, <em>java.time</em> classes, and <a href="https://jcp.org/en/jsr/detail?id=310" rel="noreferrer">JSR 310</a> are led by the same man, <a href="https://stackoverflow.com/users/38896/jodastephen">Stephen Colebourne</a>.</li>
<li>If using <a href="http://en.wikipedia.org/wiki/.NET_Framework" rel="noreferrer">.NET</a>, consider using <a href="http://nodatime.org" rel="noreferrer">Noda Time</a>.</li>
<li>If using .NET without Noda Time, consider that <code>DateTimeOffset</code> is often a better choice than <code>DateTime</code>.</li>
<li>If using Perl, use <a href="https://metacpan.org/module/DateTime" rel="noreferrer">DateTime</a>.</li>
<li>If using Python 3.9 or later, use the built-in <a href="https://docs.python.org/3/library/zoneinfo.html" rel="noreferrer">zoneinfo</a> for working with time zones.  Otherwise, use <a href="https://dateutil.readthedocs.org/en/latest/" rel="noreferrer">dateutil</a> or <a href="https://arrow.readthedocs.io" rel="noreferrer">arrow</a>.  The older <a href="http://pytz.sourceforge.net/" rel="noreferrer">pytz</a> library can generally be avoided.</li>
<li>If using JavaScript, avoid using the older <a href="http://momentjs.com/" rel="noreferrer">moment.js</a> or <a href="http://momentjs.com/timezone/" rel="noreferrer">moment-timezone</a> libraries, as they are no longer actively maintained.  See the <a href="https://momentjs.com/docs/#/-project-status/" rel="noreferrer">Moment.js project status</a> for more details.  Instead, consider <a href="https://moment.github.io/luxon/#/" rel="noreferrer">Luxon</a>, <a href="https://date-fns.org/" rel="noreferrer">date-fns</a>, <a href="https://day.js.org/" rel="noreferrer">day.js</a>, or <a href="https://js-joda.github.io/js-joda/" rel="noreferrer">js-joda</a>.</li>
<li>If using PHP &gt; 5.2, use the native time zones conversions provided by <code>DateTime</code>, and <code>DateTimeZone</code> classes. Be careful when using <code>DateTimeZone::listAbbreviations()</code> - <a href="https://stackoverflow.com/questions/2532729/daylight-saving-time-and-time-zone-best-practices/21198159#21198159">see answer</a>. To keep PHP with up to date Olson data, install periodically <a href="http://pecl.php.net/package/timezonedb" rel="noreferrer">the timezonedb</a> PECL package; <a href="https://stackoverflow.com/questions/2532729/daylight-saving-time-and-timezone-best-practices/7338519#7338519">see answer</a>.</li>
<li>If using C++, be sure to use a library that uses the properly implements the <a href="http://www.iana.org/time-zones" rel="noreferrer">IANA timezone database</a>.  These include <a href="https://github.com/google/cctz" rel="noreferrer">cctz</a>, <a href="http://site.icu-project.org/" rel="noreferrer">ICU</a>, and <a href="http://howardhinnant.github.io/date/tz.html" rel="noreferrer">Howard Hinnant's "tz" library</a>.  In C++20 the latter is adopted into the standard <code>&lt;chrono&gt;</code> library.
<ul>
<li>Do not use <a href="http://www.boost.org/" rel="noreferrer">Boost</a> for time zone conversions.  While <a href="http://www.boost.org/doc/libs/1_44_0/doc/html/date_time/local_time.html#date_time.local_time.tz_database" rel="noreferrer">its API</a> claims to support standard IANA (aka "zoneinfo") identifiers, it <a href="https://github.com/boost-vault/date_time/blob/master/date_time_zonespec.csv" rel="noreferrer">crudely maps them</a> to POSIX-style data, without considering the rich history of changes each zone may have had.  (Also, the file has fallen out of maintenance.)</li>
</ul>
</li>
<li>If using Rust, use <a href="https://github.com/chronotope/chrono" rel="noreferrer">chrono</a>.</li>
<li>Most business rules use civil time, rather than UTC or GMT.  Therefore, plan to convert UTC timestamps to a local time zone before applying application logic.</li>
<li>Remember that time zones and offsets are not fixed and may change. For instance, historically US and UK used the same dates to 'spring forward' and 'fall back'. However, in 2007 the US changed the dates that the clocks get changed on. This now means that for 48 weeks of the year the difference between London time and New York time is 5 hours and for 4 weeks (3 in the spring, 1 in the autumn) it is 4 hours. Be aware of items like this in any calculations that involve multiple zones.</li>
<li>Consider the type of time (actual event time, broadcast time, relative time, historical time, recurring time) what elements (timestamp, time zone offset and time zone name) you need to store for correct retrieval - see "Types of Time" in <a href="https://stackoverflow.com/questions/2532729/daylight-saving-time-and-timezone-best-practices/3269325#3269325">this answer</a>.</li>
<li>Keep your OS, database and application tzdata files in sync, between themselves and the rest of the world.</li>
<li>On servers, set hardware clocks and OS clocks to UTC rather than a local time zone.</li>
<li><em>Regardless of the previous bullet point,</em> server-side code, including web sites, should <em>never</em> expect the local time zone of the server to be anything in particular.  <a href="https://stackoverflow.com/a/30897258/634824">see answer</a>.</li>
<li>Prefer working with time zones on a case-by-case basis in your application code, rather than globally through config file settings or defaults.</li>
<li>Use <a href="http://en.wikipedia.org/wiki/Network_Time_Protocol" rel="noreferrer">NTP</a> services on all servers.</li>
<li>If using <a href="http://en.wikipedia.org/wiki/File_Allocation_Table#FAT32" rel="noreferrer">FAT32</a>, remember that timestamps are stored in local time, not UTC.</li>
<li>When dealing with recurring events (weekly TV show, for example), remember that the time changes with DST and will be different across time zones.</li>
<li>Always query date-time values as <a href="https://sqlblog.org/2011/10/19/what-do-between-and-the-devil-have-in-common" rel="noreferrer">lower-bound inclusive, upper-bound exclusive</a> (<code>&gt;=</code>, <code>&lt;</code>).</li>
</ul>
<p><strong>Don't:</strong></p>
<ul>
<li>Do not confuse a "time zone", such as <code>America/New_York</code> with a "time zone offset", such as <code>-05:00</code>.  They are two different things.  See <a href="https://stackoverflow.com/tags/timezone/info">the timezone tag wiki</a>.</li>
<li>Do not use JavaScript's <code>Date</code> object to perform date and time calculations in older web browsers, as ECMAScript 5.1 and lower has <a href="https://stackoverflow.com/a/16951442/634824">a design flaw</a> that may use daylight saving time incorrectly.  (This was fixed in ECMAScript 6 / 2015).</li>
<li>Never trust the client's clock. It may very well be incorrect.</li>
<li>Don't tell people to "always use UTC everywhere".  This widespread advice is shortsighted of several valid scenarios that are described earlier in this document.  Instead, use the appropriate time reference for the data you are working with.  (<em>Timestamping</em> can use UTC, but future time scheduling and date-only values should not.)</li>
</ul>
<p><strong>Testing:</strong></p>
<ul>
<li>When testing, make sure you test countries in the Western, Eastern, Northern and <a href="https://www.betaarchive.com/wiki/index.php?title=Microsoft_KB_Archive/913551" rel="noreferrer">Southern</a> hemispheres (in fact in each quarter of the globe, so 4 regions), with both DST in progress and not (gives 8), and a country that does not use DST (another 4 to cover all regions, making 12 in total).</li>
<li>Test transition of DST, i.e. when you are currently in summer time, select a time value from winter.</li>
<li>Test boundary cases, such as a timezone that is UTC+12, with DST, making the local time <a href="http://en.wikipedia.org/wiki/UTC%2B13:00" rel="noreferrer">UTC+13 in summer and even places that are UTC+13 in winter</a></li>
<li>Test all third-party libraries and applications and make sure they handle time zone data correctly.</li>
<li>Test half-hour time zones, at least.</li>
</ul>
<p><strong>Reference:</strong></p>
<ul>
<li><a href="https://stackoverflow.com/tags/timezone/info">The detailed <code>timezone</code> tag wiki page on Stack Overflow</a></li>
<li><a href="http://www.iana.org/time-zones" rel="noreferrer">Olson database, aka Tz_database</a></li>
<li><a href="https://datatracker.ietf.org/doc/html/draft-lear-iana-timezone-database-02.html" rel="noreferrer">IETF draft procedures for maintaining the Olson database</a></li>
<li><a href="http://www.twinsun.com/tz/tz-link.htm" rel="noreferrer">Sources for Time Zone and DST</a></li>
<li><a href="http://en.wikipedia.org/wiki/ISO_8601" rel="noreferrer">ISO format (ISO 8601)</a></li>
<li><a href="http://www.unicode.org/cldr/charts/supplemental/zone_tzid.html" rel="noreferrer">Mapping between Olson database and Windows Time Zone Ids, from the Unicode Consortium</a></li>
<li><a href="http://en.wikipedia.org/wiki/Tz_database" rel="noreferrer">Time Zone page on Wikipedia</a></li>
<li><a href="https://stackoverflow.com/questions/tagged/dst">StackOverflow questions tagged <code>dst</code></a></li>
<li><a href="https://stackoverflow.com/questions/tagged/timezone">StackOverflow questions tagged <code>timezone</code></a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/ms973825.aspx#datetime_topic6" rel="noreferrer">Dealing with DST - Microsoft DateTime best practices</a></li>
<li><a href="http://en.wikipedia.org/wiki/Network_Time_Protocol" rel="noreferrer">Network Time Protocol on Wikipedia</a></li>
</ul>
<p><strong>Other:</strong></p>
<ul>
<li>Lobby your representative to end the abomination that is DST. We can always hope...</li>
<li>Lobby for <a href="http://xkcd.com/1061/" rel="noreferrer">Earth Standard Time</a></li>
</ul>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I'm not sure what I can add to the answers above, but here are a few points from me:</p>

<h2>Types of times</h2>

<p>There are four different times you should consider:</p>

<ol>
<li>Event time: eg, the time when an international sporting event happens, or a coronation/death/etc.  This is dependent on the timezone of the event and not of the viewer.</li>
<li>Television time: eg, a particular TV show is broadcast at 9pm local time all around the world.  Important when thinking about publishing the results (of say American Idol) on your website</li>
<li>Relative time: eg: This question has an open bounty closing in 21 hours.  This is easy to display</li>
<li>Recurring time: eg: A TV show is on every Monday at 9pm, even when DST changes.</li>
</ol>

<p>There is also Historic/alternate time.  These are annoying because they may not map back to standard time.  Eg: Julian dates, dates according to a Lunar calendar on Saturn, The Klingon calendar.</p>

<p>Storing start/end timestamps in UTC works well.  For 1, you need an event timezone name + offset stored along with the event.  For 2, you need a local time identifier stored with each region and a local timezone name + offset stored for every viewer (it's possible to derive this from the IP if you're in a crunch).  For 3, store in UTC seconds and no need for timezones.  4 is a special case of 1 or 2 depending on whether it's a global or a local event, but you also need to store a <em>created at</em> timestamp so you can tell if a timezone definition changed before or after this event was created.  This is necessary if you need to show historic data.</p>

<h2>Storing times</h2>

<ul>
<li>Always store time in UTC</li>
<li>Convert to local time on display (local being defined by the user looking at the data)</li>
<li>When storing a timezone, you need the name, timestamp and the offset.  This is required because governments sometimes change the meanings of their timezones (eg: the US govt changed DST dates), and your application needs to handle things gracefully... eg: The exact timestamp when episodes of LOST showed both before and after DST rules changed.</li>
</ul>

<h3>Offsets and names</h3>

<p>An example of the above would be:</p>

<blockquote>
  <p>The soccer world cup finals game
  happened in South Africa (UTC+2--SAST)
  on July 11, 2010 at 19:00 UTC.</p>
</blockquote>

<p>With this information, we can historically determine the exact time when the 2010 WCS finals took place even if the South African timezone definition changes, <strong>and</strong> be able to display that to viewers in their local timezone at the time when they query the database.</p>

<h2>System Time</h2>

<p>You also need to keep your OS, database and application tzdata files in sync, both with each other, and with the rest of the world, and test extensively when you upgrade.  It's not unheard of that a third party app that you depend on did not handle a TZ change correctly.</p>

<p>Make sure hardware clocks are set to UTC, and if you're running servers around the world, make sure their OSes are configured to use UTC as well.  This becomes apparent when you need to copy hourly rotated apache log files from servers in multiple timezones.  Sorting them by filename only works if all files are named with the same timezone.  It also means that you don't have to do date math in your head when you ssh from one box to another and need to compare timestamps.</p>

<p>Also, run ntpd on all boxes.</p>

<h2>Clients</h2>

<p>Never trust the timestamp you get from a client machine as valid.  For example, the Date: HTTP headers, or a javascript <code>Date.getTime()</code> call.  These are fine when used as opaque identifiers, or when doing date math during a single session on the same client, but don't try to cross-reference these values with something you have on the server.  Your clients don't run NTP, and may not necessarily have a working battery for their BIOS clock.</p>

<h2>Trivia</h2>

<p>Finally, governments will sometimes do very weird things:</p>

<blockquote>
  <p>Standard time in the Netherlands was
  exactly 19 minutes and 32.13 seconds
  ahead of UTC by law from 1909-05-01
  through 1937-06-30. This time zone
  cannot be represented exactly using
  the HH:MM format.</p>
</blockquote>

<p>Ok, I think I'm done.</p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This is an important and surprisingly tough issue. The truth is that there is no completely satisfying standard for persisting time. For example, the SQL standard and the ISO format (ISO 8601) are clearly not enough.</p>

<p>From the conceptual point of view, one usually deals with two types of time-date data, and it's convenient to distinguish them (the above standards do not) : "<strong>physical time</strong>" and "<strong>civil time</strong>". </p>

<p>A "physical" instant of time is a point in the continuous universal timeline that physics deal with (ignoring relativity, of course). This concept can be adequately coded-persisted in UTC, for example (if you can ignore leap seconds). </p>

<p>A "civil" time is a datetime specification that follows civil norms: a point of time here is fully specified by a set of datetime fields (Y,M,D,H,MM,S,FS) plus a TZ (timezone specification) (also a "calendar", actually; but lets assume we restrict the discussion to Gregorian calendar). A timezone and a calendar jointly allow (in principle) to map from one representation to another. But civil and physical time instants are fundamentally different types of magnitudes, and they should be kept conceptually separated and treated differently  (an analogy: arrays of bytes and character strings).</p>

<p>The issue is confusing because we speak of these types events interchangeably, and because the civil times are subject to political changes. The problem (and the need to distinguish these concepts) becomes more evident for events in the future. Example (taken from my discussion <a href="http://www.mail-archive.com/pgsql-hackers@postgresql.org/msg139634.html" rel="noreferrer">here</a>.</p>

<p>John records in his calendar a reminder for some event at datetime
<code>2019-Jul-27, 10:30:00</code>, TZ=<code>Chile/Santiago</code>,  (which has offset GMT-4,
hence it corresponds to  UTC <code>2019-Jul-27 14:30:00</code>). But some day
in the future, the country decides to change the TZ offset to GMT-5.</p>

<p>Now, when the day comes... should that reminder trigger at</p>

<p>A) <code>2019-Jul-27 10:30:00  Chile/Santiago</code>  = <code>UTC time  2019-Jul-27 15:30:00</code> ?</p>

<p>or</p>

<p>B) <code>2019-Jul-27  9:30:00  Chile/Santiago</code>  = <code>UTC time  2019-Jul-27 14:30:00</code> ?</p>

<p>There is no correct answer, unless one knows what John conceptually meant
when he told the calendar "Please ring me at <code>2019-Jul-27, 10:30:00
TZ=Chile/Santiago</code>".</p>

<p>Did he mean a "civil date-time" ("when the clocks in my city tell
10:30")? In that case, A) is the correct answer.</p>

<p>Or did he mean a  "physical instant of time", a point in the continuus
line of time of our universe, say, "when the next solar eclipse
happens". In that case, answer B) is the correct one.</p>

<p>A few Date/Time APIs get this distinction right: among them, <a href="http://www.joda.org/joda-time/" rel="noreferrer">Jodatime</a>, which is the foundation of the next (third!) Java DateTime API (JSR  310).</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Make clear architectural separation of concerns - to know exactly which tier interacts with users, and has to change date-time for/from canonical representation (UTC). <strong>Non-UTC date-time is presentation</strong> (follows users local timezone), <strong>UTC time is model</strong> (remains unique for back-end and mid tiers).</p>

<p>Also, <strong>decide what's your actual audience, what you don't have to serve and where do you draw the line</strong>. Don't touch exotic calendars unless you actually have important customers there and then consider separate user-facing server(s) just for that region.</p>

<p>If you can acquire and maintain user's location, use location for systematic date-time conversion (say .NET culture or a SQL table) but provide a way for end-user to choose overrides if date-time is critical for your users.</p>

<p><strong>If there are historical audit obligations</strong> involved (like telling exactly when Jo in AZ paid a bill 2 yrs ago in September) <strong>then keep both UTC and local time</strong> for the record (your conversion tables will change in a course of time).</p>

<p><strong>Define the time referential time zone for data that comes in bulk</strong> - like files, web services etc. Say East Coast company has data center in CA - you need to ask and know what they use as a standard instead of assuming one or the other.</p>

<p><strong>Don't trust time-zone offsets embedded in textual representation of the date-time and</strong> don't accept to parse and follow them. <strong>Instead always request that time zone and/or reference zone have to be explicitly defined</strong>. You can easily receive time with PST offset but the time is actually EST since that's the client's reference time and records were just exported at a server which is in PST.</p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You need to know about the Olson <a href="https://en.wikipedia.org/wiki/Tz_database" rel="noreferrer">tz database</a>, which is available from <s><a href="ftp://elsie.nci.nih.gov/pub" rel="noreferrer">ftp://elsie.nci.nih.gov/pub</a></s> <a href="http://iana.org/time-zones/" rel="noreferrer">http://iana.org/time-zones/</a>.  It is updated multiple times per year to deal with the often last-minute changes in when (and whether) to switch between winter and summer (standard and daylight saving) time in different countries around the world.  In 2009, the last release was 2009s; in 2010, it was 2010n; in 2011, it was 2011n; at the end of May 2012, the release was 2012c.  Note that there is a set of code to manage the data and the actual time zone data itself, in two separate archives (tzcode20xxy.tar.gz and tzdata20xxy.tar.gz).  Both code and data are in the public domain.</p>

<p>This is the source of time zone names such as America/Los_Angeles (and synonyms such as US/Pacific).</p>

<p>If you need to keep track of different zones, then you need the Olson database.  As others have advised, you also want to store the data in a fixed format  UTC is normally the one chosen  along with a record of the time zone in which the data was generated.  You may want to distinguish between the offset from UTC at the time and the time zone name; that can make a difference later.  Also, knowing that it is currently 2010-03-28T23:47:00-07:00 (US/Pacific) may or may not help you with interpreting the value 2010-11-15T12:30  which is presumably specified in PST (Pacific Standard Time) rather than PDT (Pacific Daylight Saving Time).</p>

<p>The standard C library interfaces are not dreadfully helpful with this sort of stuff.</p>

<hr>

<p>The Olson data has moved, in part because A D Olson will be retiring soon, and in part because there was a (now dismissed) law suit against the maintainers for copyright infringement.  The time zone database is now managed under the auspices of <a href="http://iana.org/" rel="noreferrer">IANA</a>, the Internet Assigned Numbers Authority, and there's a link on the front page to <a href="http://www.iana.org/time-zones" rel="noreferrer">'Time Zone Database'</a>.  The discussion mailing list is now <code>tz@iana.org</code>; the announcement list is <code>tz-announce@iana.org</code>.</p>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In general, <strong>include the local time offset (including DST offset)</strong> in stored timestamps: UTC alone is not enough if you later want to display the timestamp in its original timezone (and DST setting).</p>

<p>Keep in mind that the offset is not always an integer number of hours (e.g. Indian Standard Time is UTC+05:30).</p>

<p>For example, suitable formats are a tuple (unix time, offset in minutes) or <a href="http://en.wikipedia.org/wiki/ISO_8601" rel="noreferrer">ISO 8601</a>.</p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Crossing the boundary of "computer time" and "people time" is a nightmare. The main one being that there is no sort of standard for the rules governing timezones and daylight saving times. Countries are free to change their timezone and DST rules at any time, and they do.</p>

<p>Some countries e.g. Israel, Brazil, decide each year when to have their daylight saving times, so it is impossible to know in advance when (if) DST will be in effect. Others have fixed(ish)  rules as to when DST is in effect. Other countries do not use DST as all.</p>

<p>Timezones do not have to be full hour differences from GMT. Nepal is +5.45. There are even timezones that are +13. That means that:</p>

<pre><code>SUN 23:00 in Howland Island (-12)
MON 11:00 GMT 
TUE 00:00 in Tonga (+13)
</code></pre>

<p>are all the same time, yet 3 different days!</p>

<p>There is also no clear standard on the abbreviations for timezones, and how they change when in DST so you end up with things like this:</p>

<pre><code>AST Arab Standard Time     UTC+03
AST Arabian Standard Time  UTC+04
AST Arabic Standard Time   UTC+03
</code></pre>

<p>The best advice is to stay away from local times as much as possible and stick to UTC where you can. Only convert to local times at the last possible moment.</p>

<p>When testing make sure you test countries in the Western and Eastern hemispheres, with both DST in progress and not and a country that does not use DST (6 in total).</p>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>For PHP:</p>

<p>The DateTimeZone class in PHP &gt; 5.2 is already based on the Olson DB which others mention, so if you are doing timezone conversions in PHP and not in the DB, you are exempt of working with (the hard-to-understand) Olson files. </p>

<p>However, PHP is not updated as frequently as the Olson DB, so just using PHPs time zone conversions may leave you with outdated DST information and influence the correctness of your data. While this is not expected to happen frequently, it may happen, and <em>will</em> happen if you have a large base of users worldwide. </p>

<p>To cope with the above issue, use the <a href="https://pecl.php.net/package/timezonedb" rel="nofollow noreferrer">timezonedb pecl package</a>.  Its function is to update PHP's timezone data. Install this package as frequently as it is updated. (I'm not sure if the updates to this package follow Olson updates exactly, but it seems to be updated at a frequency which is at least very close to the frequency of Olson updates.)</p>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If your design can accommodate it, <strong>avoid local time conversion all together!</strong> </p>

<p>I know to some this might sound insane but think about UX: users process near, relative dates (today, yesterday, next Monday) faster than absolute dates (2010.09.17, Friday Sept 17) on glance. And when you think about it more, the accuracy of timezones (and DST) is more important the closer the date is to <code>now()</code>, so if you can express dates/datetimes in a relative format for +/- 1 or 2 weeks, the rest of the dates can be UTC and it wont matter too much to 95% of users.</p>

<p>This way you can store all dates in UTC and do the relative comparisons in UTC and simply show the user UTC dates outside of your Relative Date Threshold.</p>

<p>This can also apply to user input too (but generally in a more limited fashion). Selecting from a drop down that only has { Yesterday, Today, Tomorrow, Next Monday, Next Thursday } is so much simpler and easier for the user than a date picker. Date pickers are some of the most pain inducing components of form filling. Of course this will not work for all cases but you can see that it only takes a little clever design to make it very powerful.</p>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I recently had a problem in a web application where on an Ajax post-back the datetime coming back to my server-side code was different from the datetime served out.</p>

<p>It most likely had to do with my JavaScript code on the client that built up the date for posting back to the client as string, because JavaScript was adjusting for time zone and daylight savings, and in some browsers the calculation for when to apply daylight savings seemed to be different than in others.</p>

<p>In the end I opted to remove date and time calculations on the client entirely, and posted back to my server on an integer key which then got translated to date time on the server, to allow for consistent transformations.</p>

<p>My learning from this:
Do not use JavaScript date and time calculations in web applications unless you ABSOLUTELY have to.</p>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 11</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>While I haven't tried it, an approach to time zone adjustments I would find compelling would be as follows:</p>

<ol>
<li><p>Store everything in UTC.</p></li>
<li><p>Create a table <code>TZOffsets</code> with three columns: RegionClassId, StartDateTime, and OffsetMinutes (int, in minutes).</p></li>
</ol>

<p>In the table, store a list of dates and times <em>when</em> the local time changed, and by how much. The number of regions in the table and the number of dates would depend on what range of dates and areas of the world you need to support. Think of this as if it is "historical" date, even though the dates should include the future to some practical limit.</p>

<p>When you need to compute the local time of any UTC time, just do this:</p>

<pre><code>SELECT DATEADD('m', SUM(OffsetMinutes), @inputdatetime) AS LocalDateTime
FROM   TZOffsets
WHERE  StartDateTime &lt;= @inputdatetime
       AND RegionClassId = @RegionClassId;
</code></pre>

<p>You might want to cache this table in your app and use LINQ or some similar means to do the queries rather than hitting the database.</p>

<p>This data can be distilled from the <a href="http://www.twinsun.com/tz/tz-link.htm" rel="nofollow noreferrer">public domain tz database</a>.</p>

<p>Advantages and footnotes of this approach:</p>

<ol>
<li>No rules are baked into code, you can adjust the offsets for new regions or date ranges readily.</li>
<li>You don't have to support every range of dates or regions, you can add them as needed.</li>
<li>Regions don't have to correspond directly to geopolitical boundaries, and to avoid duplication of rows (for instance, most states in the US handle DST the same way), you can have broad RegionClass entries that link in another table to more traditional lists of states, countries, etc.</li>
<li>For situations like the US where the start and end date of DST has changed over the past few years, this is pretty easy to deal with.</li>
<li>Since the StartDateTime field can store a time as well, the 2:00 AM standard change-over time is handled easily.</li>
<li>Not everywhere in the world uses a 1-hour DST. This handles those cases easily.</li>
<li>The data table is cross-platform and could be a separate open-source project that could be used by developers who use nearly any database platform or programming language.</li>
<li>This can be used for offsets that have nothing to do with time zones. For instance, the 1-second adjustments that happen from time to time to adjust for the Earth's rotation, historical adjustments to and within the Gregorian calendar, etc.</li>
<li>Since this is in a database table, standard report queries, etc. can take advantage of the data without a trip through business logic code.</li>
<li>This handles time zone offsets as well if you want it to, and can even account for special historical cases where a region is assigned to another time zone. All you need is an initial date that assigns a time zone offset to each region with a minimal start date. This would require creating at least one region for each time zone, but would allow you to ask interesting questions like: "What is the difference in local time between Yuma, Arizona and Seattle, Washington on February 2, 1989 at 5:00am?" (Just subtract one SUM() from the other).</li>
</ol>

<p>Now, the only disadvantage of this approach <em>or any other</em> is that conversions <em>from</em> local time to GMT are not perfect, since any DST change that has a negative offset to the clock <em>repeats</em> a given local time. No easy way to deal with that one, I'm afraid, which is one reason storing local times is bad news in the first place.</p>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 12</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I have hit this on two types of systems, shift planning systems (e.g. factory workers) and gas depend management systems)</p>

<p>23 and 25 hour long days are a pain to cope with, so are 8hr shifts that take 7hr or 9hr.  The problem is you will find that each customers, or even department of the customer have different rules they have created (often without documenting) on what they do in these special cases.</p>

<p>Some questions are best not asked of the customers until after they have paid for your off the shelf software.  It is very rare to find a customer that thinks about this type of issue up front when buying software.</p>

<p>I think in all cases you should record time in UTC and convert to/from local time before storing the date/time.   However even know which take a given time is in can be hard with Daylight saving and time zones.</p>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 13</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>For the web, the rules aren't that complicated...</p>

<ul>
<li><strong>Server-side, use UTC</strong> </li>
<li><strong>Client-side, use <a href="http://en.wikipedia.org/wiki/Tz_database">Olson</a></strong>
<ul>
<li>Reason: UTC-offsets are not daylight savings-safe (e.g. New York is EST (UTC - 5 Hours) part of the year, EDT (UTC - 4 Hours) rest of the year).</li>
<li>For client-side time zone determination, you have two options:
<ul>
<li><strong>1) Have user set zone (Safer)</strong>
<ul>
<li>Resources: Web-ready Olson tz <a href="https://gist.github.com/3349954">HTML Dropdown</a> and <a href="https://gist.github.com/3349960">JSON</a></li>
</ul></li>
<li><strong>2) Auto-detect zone</strong>
<ul>
<li>Resource: <a href="https://bitbucket.org/pellepim/jstimezonedetect/">jsTimezoneDetect</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>

<p>The rest is just UTC/local conversion using your server-side datetime libraries. Good to go...</p>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 14</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>When it comes to applications that run on a <em>server</em>, including web sites and other back-end services, the time zone setting of the server should be ignored by the application.</p>

<p>The common advice is to set the server's time zone to UTC.  This is indeed a good best practice, but it's there as a band-aid for applications that do not follow other best practices.  For example, a service might be writing to log files with local timestamps instead of UTC-based timestamps, thus creating ambiguities during the daylight saving time fall-back transition.  Setting the server's time zone to UTC will fix <em>that</em> application.  However the real fix would be for the application to log using UTC to begin with.</p>

<p>Server-side code, including web sites, should <em>never</em> expect the local time zone of the server to be anything in particular.</p>

<p>In some languages, the local time zone can easily creep in to application code.  For example, the <code>DateTime.ToUniversalTime</code> method in .NET will convert <em>from</em> the local time zone to UTC, and the <code>DateTime.Now</code> property returns the current time in the local time zone.   Also, the <code>Date</code> constructor in JavaScript uses the computer's local time zone.  There are many other examples like this.   It is important to practice defensive programming, avoiding any code that uses the computer's local time zone setting.</p>

<p>Reserve using the local time zone for client-side code, such as desktop applications, mobile applications, and client-side JavaScript.</p>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 15</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Keep your servers set to UTC, and make sure they all are configured for ntp or the equivalent.</p>

<p>UTC avoids daylight savings time issues, and out-of-sync servers can cause unpredictable results that take a while to diagnose.</p>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 16</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Be careful when dealing with timestamps stored in the FAT32 filesystem - it is always persisted in local time coordinates (which include DST - see <a href="http://msdn.microsoft.com/en-us/library/ms724290(VS.85).aspx" rel="noreferrer">msdn article</a>).  Got burned on that one.</p>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 17</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>One other thing, make sure the servers have the up to date daylight savings patch applied.</p>

<p>We had a situation last year where our times were consistently out by one hour for a three-week period for North American users, even though we were using a UTC based system.</p>

<p>It turns out in the end it was the servers. They just needed an up-to-date patch applied (<a href="http://en.wikipedia.org/wiki/Windows_Server_2003" rel="nofollow noreferrer">Windows Server 2003</a>).</p>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 18</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h1>PHP's <a href="http://www.php.net/manual/en/datetimezone.listabbreviations.php"><code>DateTimeZone::listAbbreviations()</code></a> output</h1>

<p>This PHP method returns an associative array containing some 'major' timezones (like CEST), which on their own contain more specific 'geographic' timezones (like Europe/Amsterdam).</p>

<p>If you're using these timezones and their offset/DST information, it's extremely important to realize the following:</p>

<p><strong>It seems like <em>all different offset/DST configurations</em> (including historical configurations) of each timezone are included!</strong></p>

<p>For example, Europe/Amsterdam can be found six times in the output of this function. Two occurrences (offset 1172/4772) are for the Amsterdam time used until 1937; two (1200/4800) are for the time that was used between 1937 and 1940; and two (3600/4800) are for the time used since 1940.</p>

<p><strong>Therefore, <em>you cannot rely on the offset/DST information returned by this function</em> as being currently correct/in use!</strong></p>

<p>If you want to know the current offset/DST of a certain timezone, you'll have to do something like this:</p>

<pre><code>&lt;?php
$now = new DateTime(null, new DateTimeZone('Europe/Amsterdam'));
echo $now-&gt;getOffset();
?&gt;
</code></pre>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 19</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you happen to maintain database systems that are running with DST active, check carefully whether they need to be shut down during the transition in fall. Mandy DBS (or other systems as well) don't like passing the same point in (local) time twice, which is exactly what happens when you turn back the clock in fall. SAP has solved this with a (IMHO really neat) workaround - instead of turning back the clock, they just let the internal clock run at half the usual speed for two hours...</p>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 20</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Are you using the <strong>.NET framework</strong>?
If so, let me introduce you to the <a href="http://msdn.microsoft.com/en-us/library/system.datetimeoffset.aspx" rel="nofollow">DateTimeOffset</a> type, added with .NET 3.5.</p>

<p>This structure holds both a <code>DateTime</code> and an Offset (<code>TimeSpan</code>), which specifies the difference between the <code>DateTimeOffset</code> instance's date and time and Coordinated Universal Time (UTC).</p>

<ul>
<li><p>The <code>DateTimeOffset.Now</code> static method will return a <code>DateTimeOffset</code>
instance consisting of the current (local) time, and the local offset
(as defined in the operating system's regional info).</p></li>
<li><p>The <code>DateTimeOffset.UtcNow</code> static method will return a
<code>DateTimeOffset</code> instance consisting of the current time in UTC (as
if you were in Greenwich).</p></li>
</ul>

<p>Other helpful types are the <a href="http://msdn.microsoft.com/en-us/library/system.timezone.aspx" rel="nofollow">TimeZone</a> and <a href="http://msdn.microsoft.com/en-us/library/system.timezoneinfo.aspx" rel="nofollow">TimeZoneInfo</a> classes. </p>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 21</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>For those struggling with this on <a href="http://en.wikipedia.org/wiki/.NET_Framework" rel="nofollow">.NET</a>, see if using <code>DateTimeOffset</code> and/or <code>TimeZoneInfo</code> are worth your while.</p>

<p>If you want to use <a href="http://en.wikipedia.org/wiki/Tz_database" rel="nofollow">IANA/Olson time zones</a>, or find the built in types are insufficient for your needs, check out <a href="http://nodatime.org" rel="nofollow">Noda Time</a>, which offers a much smarter date and time API for .NET. </p>
    </div></div></div></div><div id="solution22" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 22</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Business rules should always work on <a href="https://en.wikipedia.org/wiki/Civil_time" rel="nofollow noreferrer">civil time</a> (unless there's legislation that says otherwise). Be aware that civil time is a mess, but it's what people use so it's what is important.</p>

<p>Internally, keep timestamps in something like civil-time-seconds-from-epoch. The <a href="https://en.wikipedia.org/wiki/Epoch_%28reference_date%29" rel="nofollow noreferrer">epoch</a> doesn't matter particularly (I favour the <a href="https://en.wikipedia.org/wiki/Unix_time" rel="nofollow noreferrer">Unix epoch</a>) but it does make things easier than the alternative. Pretend that <a href="https://en.wikipedia.org/wiki/Leap_second" rel="nofollow noreferrer">leap-seconds</a> don't exist unless you're doing something that <em>really</em> needs them (e.g., satellite tracking). The mapping between timestamps and displayed time is the only point where <a href="https://en.wikipedia.org/wiki/Daylight_saving_time" rel="nofollow noreferrer">DST</a> rules should be applied; the rules change frequently (on a global level, several times a year; blame politicians) so you should make sure that you do not hard-code the mapping. Olson's <a href="https://en.wikipedia.org/wiki/Tz_database" rel="nofollow noreferrer">TZ database</a> is invaluable.</p>
    </div></div></div></div><div id="solution23" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 23</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Just wanted to point out two things that seem inaccurate or at least confusing:</p>

<blockquote>
  <p>Always persist time according to a unified standard that is not
  affected by daylight savings. GMT and UTC have been mentioned by
  different people, though UTC seems to be mentioned most often.</p>
</blockquote>

<p>For (almost) all practical computing purposes, UTC is, in fact, GMT. Unless you see a timestamps with a fractional second, you're dealing with GMT which makes this distinction redundant.</p>

<blockquote>
  <p>Include the local time offset as is (including DST offset) when
  storing timestamps.</p>
</blockquote>

<p>A timestamp is always represented in GMT and thus has no offset.</p>
    </div></div></div></div><div id="solution24" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 24</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here is my experience:-</p>

<p><strong>(Does not require any third-party library)</strong></p>

<ul>
<li>On server-side, store times in UTC format so that all date/time values in database are in a single standard regardless of location of users, servers, timezones or DST.</li>
<li>On the UI layer or in emails sent out to user, you need to show times according to user. For that matter, you need to have user's timezone offset so that you can add this offset to your database's UTC value which will result in user's local time. You can either take user's timezone offset when they are signing up or you can auto-detect them in web and mobile platforms. For websites, JavaScript's function getTimezoneOffset() method is a standard since version 1.0 and compatible with all browsers. (Ref: <a href="http://www.w3schools.com/jsref/jsref_getTimezoneOffset.asp" rel="nofollow">http://www.w3schools.com/jsref/jsref_getTimezoneOffset.asp</a>)</li>
</ul>
    </div></div></div></div><div id="solution25" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 25</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>Tom Scott's</strong> <a href="https://www.youtube.com/watch?v=-5wpm-gesOY" rel="nofollow">video about timezones on YouTube</a> on the Computerphile channel has also a nice and entertaining description of the topic. 
Examples include: </p>

<ul>
<li><strong>Samoa</strong> (an island in the Pacific Ocean) shifting its time zone forward by 24 hours to make trading easier with Australia and New Zealand, </li>
<li><strong>West Bank</strong>, where 2 populations of people are following different time zones,</li>
<li>18th century changes from the <strong>Julian</strong> calendar to the <strong>Gregorian</strong>
calendar (which happened in the 20th century in Russia).</li>
</ul>
    </div></div></div></div><div id="solution26" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 26</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Just one example to prove that handling time is the huge mess described, and that you can never be complacent. In several spots on this page leap-seconds have been ignored. </p>

<p>Several years ago, the Android operating system used GPS satellites to get a UTC time reference, but ignored the fact that GPS satellites do not use leap-seconds. No one noticed until there was confusion on New Year's Eve, when the Apple phone users and Android phone users did their count-downs about 15 seconds apart. </p>

<p>I think it has since been fixed, but you never know when these 'minor details' will come back to haunt you. </p>
    </div></div></div></div><div id="solution27" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 27</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Actually, kernel32.dll does not export SystemTimeToTzSpecificLocation.  It does however export the following two:  SystemTimeToTzSpecificLocalTime and TzSpecificLocalTimeToSystemTime...</p>
    </div></div></div></div><div id="solution28" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 28</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Never rely only on constructors like </p>

<pre><code> new DateTime(int year, int month, int day, int hour, int minute, TimeZone timezone)
</code></pre>

<p>They can throw exceptions when a certain date time does not exist due to DST. Instead, build your own methods for creating such dates. In them, catch any exceptions that occur due to DST, and adjust the time is needed with the transition offset. DST may occur on different dates and at different hours (even at midnight for Brazil) according to the timezone.</p>
    </div></div></div></div><div id="solution29" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 29</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<ul>
<li>Never, ever store local time without its UTC offset (or a reference to the time zone)examples of how not to do it include FAT32 and <code>struct tm</code> in C.¹</li>
<li>Understand that a time zone is a combination of

<ul>
<li>a set of UTC offsets (e.g. +0100 in winter, +0200 in summer)</li>
<li>rules for when the switchover happens (which may change over time: for example, in the 1990s the EU harmonized the switchover as being on the last Sundays in March and October, at 02:00 standard time/03:00 DST; previously this differed between member states).</li>
</ul></li>
</ul>

<hr>

<p>¹ Some implementations of <code>struct tm</code> do store the UTC offset, but this has not made it into the standard.</p>
    </div></div></div></div><div id="solution30" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 30</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/timezone">timezone</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/dst">dst</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/utc">utc</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/datetimeoffset">datetimeoffset</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In dealing with databases (in particular <a href="http://en.wikipedia.org/wiki/MySQL" rel="nofollow">MySQL</a>, but this applies to most databases), I found it hard to store UTC.</p>

<ul>
<li>Databases usually work with server datetime by default (that is, CURRENT_TIMESTAMP).</li>
<li>You may not be able to change the server timezone.</li>
<li>Even if you are able to change the timezone, you may have third-party code that expects server timezone to be local.</li>
</ul>

<p>I found it easier to just store server datetime in the database, then let the database convert the stored datetime back to UTC (that is, UNIX_TIMESTAMP()) in the SQL statements. After that you can use the datetime as UTC in your code.</p>

<p>If you have 100% control over the server and all code, it's probably better to change server timezone to UTC.</p>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/parsing-a-string-to-a-date-in-javascript-1657387782497">Parsing a string to a date in JavaScript</a><a href="/questions/pandas-merging-101-1657384447080">Pandas Merging 101</a><a href="/questions/how-can-i-make-bootstrap-columns-all-the-same-height-1657388551403">How can I make Bootstrap columns all the same height?</a><a href="/questions/convert-columns-into-rows-with-pandas-1657388374964">Convert columns into rows with Pandas</a><a href="/questions/how-do-i-format-a-date-in-javascript-1657384649498">How do I format a date in JavaScript?</a><a href="/questions/what-is-the-!!-(not-not)-operator-in-javascript-1657387947844">What is the !! (not not) operator in JavaScript?</a><a href="/questions/serialize-and-deserialize-json-and-json-array-in-unity-1657388273270">Serialize and Deserialize Json and Json Array in Unity</a><a href="/questions/what-is-the-behavior-of-integer-division-1657388222571">What is the behavior of integer division?</a><a href="/questions/how-do-i-install-pip-on-windows-1657388147761">How do I install pip on Windows?</a><a href="/questions/how-to-make-function-decorators-and-chain-them-together-1657388180803">How to make function decorators and chain them together?</a><a href="/questions/performance-optimization-strategies-of-last-resort-closed-1657388420614">Performance optimization strategies of last resort [closed]</a><a href="/questions/how-do-i-attach-events-to-dynamic-html-elements-with-jquery-duplicate-1657387992964">How do I attach events to dynamic HTML elements with jQuery? [duplicate]</a><a href="/questions/fetch-the-rows-which-have-the-max-value-for-a-column-for-each-distinct-value-of-another-column-1657387423925">Fetch the rows which have the Max value for a column for each distinct value of another column</a><a href="/questions/how-does-access-control-allow-origin-header-work-1657384881723">How does Access-Control-Allow-Origin header work?</a><a href="/questions/how-does-the-sql-injection-from-the-%22bobby-tables%22-xkcd-comic-work-1657384621653">How does the SQL injection from the &quot;Bobby Tables&quot; XKCD comic work?</a><a href="/questions/asking-the-user-for-input-until-they-give-a-valid-response-1657384376162">Asking the user for input until they give a valid response</a><a href="/questions/how-to-replace-all-occurrences-of-a-string-in-javascript-1657384895467">How to replace all occurrences of a string in JavaScript</a><a href="/questions/where-should-i-put-lessscriptgreater-tags-in-html-markup-1657388350798">Where should I put &lt;script&gt; tags in HTML markup?</a><a href="/questions/what-is-the-difference-between-__str__-and-__repr__-1657387738760">What is the difference between __str__ and __repr__?</a><a href="/questions/what-are-copy-elision-and-return-value-optimization-1657385455976">What are copy elision and return value optimization?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;h2\u0026gt;Summary of answers and other data: (please add yours)\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Do:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Whenever you are referring to an exact moment in time, persist the time according to a unified standard that is not affected by daylight savings. (GMT and UTC are equivalent with this regard, but it is preferred to use the term UTC. Notice that UTC is also known as \u0026lt;em\u0026gt;Zulu\u0026lt;/em\u0026gt; or \u0026lt;em\u0026gt;Z\u0026lt;/em\u0026gt; time.)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If instead you choose to persist a (past) time using a local time value, include the local time offset for this particular time from UTC (this offset may change throughout the year), such that the timestamp can later be interpreted unambiguously.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;In some cases, you may need to store \u0026lt;em\u0026gt;both\u0026lt;/em\u0026gt; the UTC time and the equivalent local time.  Often this is done with two separate fields, but some platforms support a \u0026lt;code\u0026gt;datetimeoffset\u0026lt;/code\u0026gt; type that can store both in a single field.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;When storing timestamps as a numeric value, use \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Unix_time\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Unix time\u0026lt;/a\u0026gt; - which is the number of whole seconds since \u0026lt;code\u0026gt;1970-01-01T00:00:00Z\u0026lt;/code\u0026gt; (excluding leap seconds).  If you require higher precision, use milliseconds instead.  This value should always be based on UTC, without any time zone adjustment.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If you might later need to modify the timestamp, include the original time zone ID so you can determine if the offset may have changed from the original value recorded.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;When scheduling future events, usually local time is preferred instead of UTC, as it is common for the offset to change.  \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/19627330/634824\u0026quot;\u0026gt;See answer\u0026lt;/a\u0026gt;, and \u0026lt;a href=\u0026quot;http://www.creativedeletion.com/2015/03/19/persisting_future_datetimes.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;blog post\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;When storing whole dates, such as birthdays and anniversaries, do not convert to UTC or any other time zone.\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;When possible, store in a date-only data type that does not include a time of day.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If such a type is not available, be sure to always ignore the time-of-day when interpreting the value.  If you cannot be assured that the time-of-day will be ignored, choose 12:00 Noon, rather than 00:00 Midnight as a more safe representative time on that day.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Remember that time zone offsets are not always an integer number of hours (for example, Indian Standard Time is UTC+05:30, and Nepal uses UTC+05:45).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If using Java, use \u0026lt;a href=\u0026quot;http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;em\u0026gt;java.time\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt; for Java 8 and later.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Much of that \u0026lt;em\u0026gt;java.time\u0026lt;/em\u0026gt; functionality is back-ported to Java 6 \u0026amp;amp; 7 in the \u0026lt;a href=\u0026quot;https://www.threeten.org/threetenbp/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;em\u0026gt;ThreeTen-Backport\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt; library.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Further adapted for early Android (\u0026amp;lt; 26) in the \u0026lt;a href=\u0026quot;https://github.com/JakeWharton/ThreeTenABP\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;em\u0026gt;ThreeTenABP\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt; library.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;These projects officially supplant the venerable \u0026lt;a href=\u0026quot;https://www.joda.org/joda-time/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Joda-Time\u0026lt;/a\u0026gt;, now in \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Maintenance_mode\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;maintenance-mode\u0026lt;/a\u0026gt;. Joda-Time, ThreeTen-Backport, \u0026lt;a href=\u0026quot;https://www.threeten.org/threeten-extra/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;ThreeTen-Extra\u0026lt;/a\u0026gt;, \u0026lt;em\u0026gt;java.time\u0026lt;/em\u0026gt; classes, and \u0026lt;a href=\u0026quot;https://jcp.org/en/jsr/detail?id=310\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;JSR 310\u0026lt;/a\u0026gt; are led by the same man, \u0026lt;a href=\u0026quot;https://stackoverflow.com/users/38896/jodastephen\u0026quot;\u0026gt;Stephen Colebourne\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If using \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/.NET_Framework\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;.NET\u0026lt;/a\u0026gt;, consider using \u0026lt;a href=\u0026quot;http://nodatime.org\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Noda Time\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If using .NET without Noda Time, consider that \u0026lt;code\u0026gt;DateTimeOffset\u0026lt;/code\u0026gt; is often a better choice than \u0026lt;code\u0026gt;DateTime\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If using Perl, use \u0026lt;a href=\u0026quot;https://metacpan.org/module/DateTime\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;DateTime\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If using Python 3.9 or later, use the built-in \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/zoneinfo.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;zoneinfo\u0026lt;/a\u0026gt; for working with time zones.  Otherwise, use \u0026lt;a href=\u0026quot;https://dateutil.readthedocs.org/en/latest/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;dateutil\u0026lt;/a\u0026gt; or \u0026lt;a href=\u0026quot;https://arrow.readthedocs.io\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;arrow\u0026lt;/a\u0026gt;.  The older \u0026lt;a href=\u0026quot;http://pytz.sourceforge.net/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;pytz\u0026lt;/a\u0026gt; library can generally be avoided.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If using JavaScript, avoid using the older \u0026lt;a href=\u0026quot;http://momentjs.com/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;moment.js\u0026lt;/a\u0026gt; or \u0026lt;a href=\u0026quot;http://momentjs.com/timezone/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;moment-timezone\u0026lt;/a\u0026gt; libraries, as they are no longer actively maintained.  See the \u0026lt;a href=\u0026quot;https://momentjs.com/docs/#/-project-status/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Moment.js project status\u0026lt;/a\u0026gt; for more details.  Instead, consider \u0026lt;a href=\u0026quot;https://moment.github.io/luxon/#/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Luxon\u0026lt;/a\u0026gt;, \u0026lt;a href=\u0026quot;https://date-fns.org/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;date-fns\u0026lt;/a\u0026gt;, \u0026lt;a href=\u0026quot;https://day.js.org/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;day.js\u0026lt;/a\u0026gt;, or \u0026lt;a href=\u0026quot;https://js-joda.github.io/js-joda/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;js-joda\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If using PHP \u0026amp;gt; 5.2, use the native time zones conversions provided by \u0026lt;code\u0026gt;DateTime\u0026lt;/code\u0026gt;, and \u0026lt;code\u0026gt;DateTimeZone\u0026lt;/code\u0026gt; classes. Be careful when using \u0026lt;code\u0026gt;DateTimeZone::listAbbreviations()\u0026lt;/code\u0026gt; - \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/2532729/daylight-saving-time-and-time-zone-best-practices/21198159#21198159\u0026quot;\u0026gt;see answer\u0026lt;/a\u0026gt;. To keep PHP with up to date Olson data, install periodically \u0026lt;a href=\u0026quot;http://pecl.php.net/package/timezonedb\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;the timezonedb\u0026lt;/a\u0026gt; PECL package; \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/2532729/daylight-saving-time-and-timezone-best-practices/7338519#7338519\u0026quot;\u0026gt;see answer\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If using C++, be sure to use a library that uses the properly implements the \u0026lt;a href=\u0026quot;http://www.iana.org/time-zones\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;IANA timezone database\u0026lt;/a\u0026gt;.  These include \u0026lt;a href=\u0026quot;https://github.com/google/cctz\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;cctz\u0026lt;/a\u0026gt;, \u0026lt;a href=\u0026quot;http://site.icu-project.org/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;ICU\u0026lt;/a\u0026gt;, and \u0026lt;a href=\u0026quot;http://howardhinnant.github.io/date/tz.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Howard Hinnant\u0026apos;s \u0026quot;tz\u0026quot; library\u0026lt;/a\u0026gt;.  In C++20 the latter is adopted into the standard \u0026lt;code\u0026gt;\u0026amp;lt;chrono\u0026amp;gt;\u0026lt;/code\u0026gt; library.\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Do not use \u0026lt;a href=\u0026quot;http://www.boost.org/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Boost\u0026lt;/a\u0026gt; for time zone conversions.  While \u0026lt;a href=\u0026quot;http://www.boost.org/doc/libs/1_44_0/doc/html/date_time/local_time.html#date_time.local_time.tz_database\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;its API\u0026lt;/a\u0026gt; claims to support standard IANA (aka \u0026quot;zoneinfo\u0026quot;) identifiers, it \u0026lt;a href=\u0026quot;https://github.com/boost-vault/date_time/blob/master/date_time_zonespec.csv\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;crudely maps them\u0026lt;/a\u0026gt; to POSIX-style data, without considering the rich history of changes each zone may have had.  (Also, the file has fallen out of maintenance.)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If using Rust, use \u0026lt;a href=\u0026quot;https://github.com/chronotope/chrono\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;chrono\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Most business rules use civil time, rather than UTC or GMT.  Therefore, plan to convert UTC timestamps to a local time zone before applying application logic.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Remember that time zones and offsets are not fixed and may change. For instance, historically US and UK used the same dates to \u0026apos;spring forward\u0026apos; and \u0026apos;fall back\u0026apos;. However, in 2007 the US changed the dates that the clocks get changed on. This now means that for 48 weeks of the year the difference between London time and New York time is 5 hours and for 4 weeks (3 in the spring, 1 in the autumn) it is 4 hours. Be aware of items like this in any calculations that involve multiple zones.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Consider the type of time (actual event time, broadcast time, relative time, historical time, recurring time) what elements (timestamp, time zone offset and time zone name) you need to store for correct retrieval - see \u0026quot;Types of Time\u0026quot; in \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/2532729/daylight-saving-time-and-timezone-best-practices/3269325#3269325\u0026quot;\u0026gt;this answer\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Keep your OS, database and application tzdata files in sync, between themselves and the rest of the world.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;On servers, set hardware clocks and OS clocks to UTC rather than a local time zone.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;em\u0026gt;Regardless of the previous bullet point,\u0026lt;/em\u0026gt; server-side code, including web sites, should \u0026lt;em\u0026gt;never\u0026lt;/em\u0026gt; expect the local time zone of the server to be anything in particular.  \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/30897258/634824\u0026quot;\u0026gt;see answer\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Prefer working with time zones on a case-by-case basis in your application code, rather than globally through config file settings or defaults.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Use \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Network_Time_Protocol\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;NTP\u0026lt;/a\u0026gt; services on all servers.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If using \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/File_Allocation_Table#FAT32\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;FAT32\u0026lt;/a\u0026gt;, remember that timestamps are stored in local time, not UTC.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;When dealing with recurring events (weekly TV show, for example), remember that the time changes with DST and will be different across time zones.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Always query date-time values as \u0026lt;a href=\u0026quot;https://sqlblog.org/2011/10/19/what-do-between-and-the-devil-have-in-common\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;lower-bound inclusive, upper-bound exclusive\u0026lt;/a\u0026gt; (\u0026lt;code\u0026gt;\u0026amp;gt;=\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;\u0026amp;lt;\u0026lt;/code\u0026gt;).\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Don\u0026apos;t:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Do not confuse a \u0026quot;time zone\u0026quot;, such as \u0026lt;code\u0026gt;America/New_York\u0026lt;/code\u0026gt; with a \u0026quot;time zone offset\u0026quot;, such as \u0026lt;code\u0026gt;-05:00\u0026lt;/code\u0026gt;.  They are two different things.  See \u0026lt;a href=\u0026quot;https://stackoverflow.com/tags/timezone/info\u0026quot;\u0026gt;the timezone tag wiki\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Do not use JavaScript\u0026apos;s \u0026lt;code\u0026gt;Date\u0026lt;/code\u0026gt; object to perform date and time calculations in older web browsers, as ECMAScript 5.1 and lower has \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/16951442/634824\u0026quot;\u0026gt;a design flaw\u0026lt;/a\u0026gt; that may use daylight saving time incorrectly.  (This was fixed in ECMAScript 6 / 2015).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Never trust the client\u0026apos;s clock. It may very well be incorrect.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Don\u0026apos;t tell people to \u0026quot;always use UTC everywhere\u0026quot;.  This widespread advice is shortsighted of several valid scenarios that are described earlier in this document.  Instead, use the appropriate time reference for the data you are working with.  (\u0026lt;em\u0026gt;Timestamping\u0026lt;/em\u0026gt; can use UTC, but future time scheduling and date-only values should not.)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Testing:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;When testing, make sure you test countries in the Western, Eastern, Northern and \u0026lt;a href=\u0026quot;https://www.betaarchive.com/wiki/index.php?title=Microsoft_KB_Archive/913551\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Southern\u0026lt;/a\u0026gt; hemispheres (in fact in each quarter of the globe, so 4 regions), with both DST in progress and not (gives 8), and a country that does not use DST (another 4 to cover all regions, making 12 in total).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Test transition of DST, i.e. when you are currently in summer time, select a time value from winter.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Test boundary cases, such as a timezone that is UTC+12, with DST, making the local time \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/UTC%2B13:00\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;UTC+13 in summer and even places that are UTC+13 in winter\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Test all third-party libraries and applications and make sure they handle time zone data correctly.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Test half-hour time zones, at least.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Reference:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/tags/timezone/info\u0026quot;\u0026gt;The detailed \u0026lt;code\u0026gt;timezone\u0026lt;/code\u0026gt; tag wiki page on Stack Overflow\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://www.iana.org/time-zones\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Olson database, aka Tz_database\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://datatracker.ietf.org/doc/html/draft-lear-iana-timezone-database-02.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;IETF draft procedures for maintaining the Olson database\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://www.twinsun.com/tz/tz-link.htm\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Sources for Time Zone and DST\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/ISO_8601\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;ISO format (ISO 8601)\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://www.unicode.org/cldr/charts/supplemental/zone_tzid.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Mapping between Olson database and Windows Time Zone Ids, from the Unicode Consortium\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Tz_database\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Time Zone page on Wikipedia\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/tagged/dst\u0026quot;\u0026gt;StackOverflow questions tagged \u0026lt;code\u0026gt;dst\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/tagged/timezone\u0026quot;\u0026gt;StackOverflow questions tagged \u0026lt;code\u0026gt;timezone\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://msdn.microsoft.com/en-us/library/ms973825.aspx#datetime_topic6\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Dealing with DST - Microsoft DateTime best practices\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Network_Time_Protocol\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Network Time Protocol on Wikipedia\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Other:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Lobby your representative to end the abomination that is DST. We can always hope...\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Lobby for \u0026lt;a href=\u0026quot;http://xkcd.com/1061/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Earth Standard Time\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I\u0026apos;m not sure what I can add to the answers above, but here are a few points from me:\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;Types of times\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;There are four different times you should consider:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Event time: eg, the time when an international sporting event happens, or a coronation/death/etc.  This is dependent on the timezone of the event and not of the viewer.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Television time: eg, a particular TV show is broadcast at 9pm local time all around the world.  Important when thinking about publishing the results (of say American Idol) on your website\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Relative time: eg: This question has an open bounty closing in 21 hours.  This is easy to display\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Recurring time: eg: A TV show is on every Monday at 9pm, even when DST changes.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;There is also Historic/alternate time.  These are annoying because they may not map back to standard time.  Eg: Julian dates, dates according to a Lunar calendar on Saturn, The Klingon calendar.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Storing start/end timestamps in UTC works well.  For 1, you need an event timezone name + offset stored along with the event.  For 2, you need a local time identifier stored with each region and a local timezone name + offset stored for every viewer (it\u0026apos;s possible to derive this from the IP if you\u0026apos;re in a crunch).  For 3, store in UTC seconds and no need for timezones.  4 is a special case of 1 or 2 depending on whether it\u0026apos;s a global or a local event, but you also need to store a \u0026lt;em\u0026gt;created at\u0026lt;/em\u0026gt; timestamp so you can tell if a timezone definition changed before or after this event was created.  This is necessary if you need to show historic data.\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;Storing times\u0026lt;/h2\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Always store time in UTC\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Convert to local time on display (local being defined by the user looking at the data)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;When storing a timezone, you need the name, timestamp and the offset.  This is required because governments sometimes change the meanings of their timezones (eg: the US govt changed DST dates), and your application needs to handle things gracefully... eg: The exact timestamp when episodes of LOST showed both before and after DST rules changed.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;h3\u0026gt;Offsets and names\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;An example of the above would be:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;The soccer world cup finals game\n  happened in South Africa (UTC+2--SAST)\n  on July 11, 2010 at 19:00 UTC.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;With this information, we can historically determine the exact time when the 2010 WCS finals took place even if the South African timezone definition changes, \u0026lt;strong\u0026gt;and\u0026lt;/strong\u0026gt; be able to display that to viewers in their local timezone at the time when they query the database.\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;System Time\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;You also need to keep your OS, database and application tzdata files in sync, both with each other, and with the rest of the world, and test extensively when you upgrade.  It\u0026apos;s not unheard of that a third party app that you depend on did not handle a TZ change correctly.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Make sure hardware clocks are set to UTC, and if you\u0026apos;re running servers around the world, make sure their OSes are configured to use UTC as well.  This becomes apparent when you need to copy hourly rotated apache log files from servers in multiple timezones.  Sorting them by filename only works if all files are named with the same timezone.  It also means that you don\u0026apos;t have to do date math in your head when you ssh from one box to another and need to compare timestamps.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Also, run ntpd on all boxes.\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;Clients\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;Never trust the timestamp you get from a client machine as valid.  For example, the Date: HTTP headers, or a javascript \u0026lt;code\u0026gt;Date.getTime()\u0026lt;/code\u0026gt; call.  These are fine when used as opaque identifiers, or when doing date math during a single session on the same client, but don\u0026apos;t try to cross-reference these values with something you have on the server.  Your clients don\u0026apos;t run NTP, and may not necessarily have a working battery for their BIOS clock.\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;Trivia\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;Finally, governments will sometimes do very weird things:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Standard time in the Netherlands was\n  exactly 19 minutes and 32.13 seconds\n  ahead of UTC by law from 1909-05-01\n  through 1937-06-30. This time zone\n  cannot be represented exactly using\n  the HH:MM format.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;Ok, I think I\u0026apos;m done.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This is an important and surprisingly tough issue. The truth is that there is no completely satisfying standard for persisting time. For example, the SQL standard and the ISO format (ISO 8601) are clearly not enough.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;From the conceptual point of view, one usually deals with two types of time-date data, and it\u0026apos;s convenient to distinguish them (the above standards do not) : \u0026quot;\u0026lt;strong\u0026gt;physical time\u0026lt;/strong\u0026gt;\u0026quot; and \u0026quot;\u0026lt;strong\u0026gt;civil time\u0026lt;/strong\u0026gt;\u0026quot;. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;A \u0026quot;physical\u0026quot; instant of time is a point in the continuous universal timeline that physics deal with (ignoring relativity, of course). This concept can be adequately coded-persisted in UTC, for example (if you can ignore leap seconds). \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;A \u0026quot;civil\u0026quot; time is a datetime specification that follows civil norms: a point of time here is fully specified by a set of datetime fields (Y,M,D,H,MM,S,FS) plus a TZ (timezone specification) (also a \u0026quot;calendar\u0026quot;, actually; but lets assume we restrict the discussion to Gregorian calendar). A timezone and a calendar jointly allow (in principle) to map from one representation to another. But civil and physical time instants are fundamentally different types of magnitudes, and they should be kept conceptually separated and treated differently  (an analogy: arrays of bytes and character strings).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The issue is confusing because we speak of these types events interchangeably, and because the civil times are subject to political changes. The problem (and the need to distinguish these concepts) becomes more evident for events in the future. Example (taken from my discussion \u0026lt;a href=\u0026quot;http://www.mail-archive.com/pgsql-hackers@postgresql.org/msg139634.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;here\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;John records in his calendar a reminder for some event at datetime\n\u0026lt;code\u0026gt;2019-Jul-27, 10:30:00\u0026lt;/code\u0026gt;, TZ=\u0026lt;code\u0026gt;Chile/Santiago\u0026lt;/code\u0026gt;,  (which has offset GMT-4,\nhence it corresponds to  UTC \u0026lt;code\u0026gt;2019-Jul-27 14:30:00\u0026lt;/code\u0026gt;). But some day\nin the future, the country decides to change the TZ offset to GMT-5.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Now, when the day comes... should that reminder trigger at\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;A) \u0026lt;code\u0026gt;2019-Jul-27 10:30:00  Chile/Santiago\u0026lt;/code\u0026gt;  = \u0026lt;code\u0026gt;UTC time  2019-Jul-27 15:30:00\u0026lt;/code\u0026gt; ?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;or\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;B) \u0026lt;code\u0026gt;2019-Jul-27  9:30:00  Chile/Santiago\u0026lt;/code\u0026gt;  = \u0026lt;code\u0026gt;UTC time  2019-Jul-27 14:30:00\u0026lt;/code\u0026gt; ?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;There is no correct answer, unless one knows what John conceptually meant\nwhen he told the calendar \u0026quot;Please ring me at \u0026lt;code\u0026gt;2019-Jul-27, 10:30:00\nTZ=Chile/Santiago\u0026lt;/code\u0026gt;\u0026quot;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Did he mean a \u0026quot;civil date-time\u0026quot; (\u0026quot;when the clocks in my city tell\n10:30\u0026quot;)? In that case, A) is the correct answer.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Or did he mean a  \u0026quot;physical instant of time\u0026quot;, a point in the continuus\nline of time of our universe, say, \u0026quot;when the next solar eclipse\nhappens\u0026quot;. In that case, answer B) is the correct one.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;A few Date/Time APIs get this distinction right: among them, \u0026lt;a href=\u0026quot;http://www.joda.org/joda-time/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Jodatime\u0026lt;/a\u0026gt;, which is the foundation of the next (third!) Java DateTime API (JSR  310).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Make clear architectural separation of concerns - to know exactly which tier interacts with users, and has to change date-time for/from canonical representation (UTC). \u0026lt;strong\u0026gt;Non-UTC date-time is presentation\u0026lt;/strong\u0026gt; (follows users local timezone), \u0026lt;strong\u0026gt;UTC time is model\u0026lt;/strong\u0026gt; (remains unique for back-end and mid tiers).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Also, \u0026lt;strong\u0026gt;decide what\u0026apos;s your actual audience, what you don\u0026apos;t have to serve and where do you draw the line\u0026lt;/strong\u0026gt;. Don\u0026apos;t touch exotic calendars unless you actually have important customers there and then consider separate user-facing server(s) just for that region.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you can acquire and maintain user\u0026apos;s location, use location for systematic date-time conversion (say .NET culture or a SQL table) but provide a way for end-user to choose overrides if date-time is critical for your users.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;If there are historical audit obligations\u0026lt;/strong\u0026gt; involved (like telling exactly when Jo in AZ paid a bill 2 yrs ago in September) \u0026lt;strong\u0026gt;then keep both UTC and local time\u0026lt;/strong\u0026gt; for the record (your conversion tables will change in a course of time).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Define the time referential time zone for data that comes in bulk\u0026lt;/strong\u0026gt; - like files, web services etc. Say East Coast company has data center in CA - you need to ask and know what they use as a standard instead of assuming one or the other.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Don\u0026apos;t trust time-zone offsets embedded in textual representation of the date-time and\u0026lt;/strong\u0026gt; don\u0026apos;t accept to parse and follow them. \u0026lt;strong\u0026gt;Instead always request that time zone and/or reference zone have to be explicitly defined\u0026lt;/strong\u0026gt;. You can easily receive time with PST offset but the time is actually EST since that\u0026apos;s the client\u0026apos;s reference time and records were just exported at a server which is in PST.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You need to know about the Olson \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Tz_database\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;tz database\u0026lt;/a\u0026gt;, which is available from \u0026lt;s\u0026gt;\u0026lt;a href=\u0026quot;ftp://elsie.nci.nih.gov/pub\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;ftp://elsie.nci.nih.gov/pub\u0026lt;/a\u0026gt;\u0026lt;/s\u0026gt; \u0026lt;a href=\u0026quot;http://iana.org/time-zones/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://iana.org/time-zones/\u0026lt;/a\u0026gt;.  It is updated multiple times per year to deal with the often last-minute changes in when (and whether) to switch between winter and summer (standard and daylight saving) time in different countries around the world.  In 2009, the last release was 2009s; in 2010, it was 2010n; in 2011, it was 2011n; at the end of May 2012, the release was 2012c.  Note that there is a set of code to manage the data and the actual time zone data itself, in two separate archives (tzcode20xxy.tar.gz and tzdata20xxy.tar.gz).  Both code and data are in the public domain.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This is the source of time zone names such as America/Los_Angeles (and synonyms such as US/Pacific).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you need to keep track of different zones, then you need the Olson database.  As others have advised, you also want to store the data in a fixed format  UTC is normally the one chosen  along with a record of the time zone in which the data was generated.  You may want to distinguish between the offset from UTC at the time and the time zone name; that can make a difference later.  Also, knowing that it is currently 2010-03-28T23:47:00-07:00 (US/Pacific) may or may not help you with interpreting the value 2010-11-15T12:30  which is presumably specified in PST (Pacific Standard Time) rather than PDT (Pacific Daylight Saving Time).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The standard C library interfaces are not dreadfully helpful with this sort of stuff.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;The Olson data has moved, in part because A D Olson will be retiring soon, and in part because there was a (now dismissed) law suit against the maintainers for copyright infringement.  The time zone database is now managed under the auspices of \u0026lt;a href=\u0026quot;http://iana.org/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;IANA\u0026lt;/a\u0026gt;, the Internet Assigned Numbers Authority, and there\u0026apos;s a link on the front page to \u0026lt;a href=\u0026quot;http://www.iana.org/time-zones\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026apos;Time Zone Database\u0026apos;\u0026lt;/a\u0026gt;.  The discussion mailing list is now \u0026lt;code\u0026gt;tz@iana.org\u0026lt;/code\u0026gt;; the announcement list is \u0026lt;code\u0026gt;tz-announce@iana.org\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In general, \u0026lt;strong\u0026gt;include the local time offset (including DST offset)\u0026lt;/strong\u0026gt; in stored timestamps: UTC alone is not enough if you later want to display the timestamp in its original timezone (and DST setting).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Keep in mind that the offset is not always an integer number of hours (e.g. Indian Standard Time is UTC+05:30).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For example, suitable formats are a tuple (unix time, offset in minutes) or \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/ISO_8601\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;ISO 8601\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Crossing the boundary of \u0026quot;computer time\u0026quot; and \u0026quot;people time\u0026quot; is a nightmare. The main one being that there is no sort of standard for the rules governing timezones and daylight saving times. Countries are free to change their timezone and DST rules at any time, and they do.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Some countries e.g. Israel, Brazil, decide each year when to have their daylight saving times, so it is impossible to know in advance when (if) DST will be in effect. Others have fixed(ish)  rules as to when DST is in effect. Other countries do not use DST as all.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Timezones do not have to be full hour differences from GMT. Nepal is +5.45. There are even timezones that are +13. That means that:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;SUN 23:00 in Howland Island (-12)\nMON 11:00 GMT \nTUE 00:00 in Tonga (+13)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;are all the same time, yet 3 different days!\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;There is also no clear standard on the abbreviations for timezones, and how they change when in DST so you end up with things like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;AST Arab Standard Time     UTC+03\nAST Arabian Standard Time  UTC+04\nAST Arabic Standard Time   UTC+03\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The best advice is to stay away from local times as much as possible and stick to UTC where you can. Only convert to local times at the last possible moment.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;When testing make sure you test countries in the Western and Eastern hemispheres, with both DST in progress and not and a country that does not use DST (6 in total).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;For PHP:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The DateTimeZone class in PHP \u0026amp;gt; 5.2 is already based on the Olson DB which others mention, so if you are doing timezone conversions in PHP and not in the DB, you are exempt of working with (the hard-to-understand) Olson files. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;However, PHP is not updated as frequently as the Olson DB, so just using PHPs time zone conversions may leave you with outdated DST information and influence the correctness of your data. While this is not expected to happen frequently, it may happen, and \u0026lt;em\u0026gt;will\u0026lt;/em\u0026gt; happen if you have a large base of users worldwide. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To cope with the above issue, use the \u0026lt;a href=\u0026quot;https://pecl.php.net/package/timezonedb\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;timezonedb pecl package\u0026lt;/a\u0026gt;.  Its function is to update PHP\u0026apos;s timezone data. Install this package as frequently as it is updated. (I\u0026apos;m not sure if the updates to this package follow Olson updates exactly, but it seems to be updated at a frequency which is at least very close to the frequency of Olson updates.)\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If your design can accommodate it, \u0026lt;strong\u0026gt;avoid local time conversion all together!\u0026lt;/strong\u0026gt; \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I know to some this might sound insane but think about UX: users process near, relative dates (today, yesterday, next Monday) faster than absolute dates (2010.09.17, Friday Sept 17) on glance. And when you think about it more, the accuracy of timezones (and DST) is more important the closer the date is to \u0026lt;code\u0026gt;now()\u0026lt;/code\u0026gt;, so if you can express dates/datetimes in a relative format for +/- 1 or 2 weeks, the rest of the dates can be UTC and it wont matter too much to 95% of users.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This way you can store all dates in UTC and do the relative comparisons in UTC and simply show the user UTC dates outside of your Relative Date Threshold.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This can also apply to user input too (but generally in a more limited fashion). Selecting from a drop down that only has { Yesterday, Today, Tomorrow, Next Monday, Next Thursday } is so much simpler and easier for the user than a date picker. Date pickers are some of the most pain inducing components of form filling. Of course this will not work for all cases but you can see that it only takes a little clever design to make it very powerful.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I recently had a problem in a web application where on an Ajax post-back the datetime coming back to my server-side code was different from the datetime served out.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It most likely had to do with my JavaScript code on the client that built up the date for posting back to the client as string, because JavaScript was adjusting for time zone and daylight savings, and in some browsers the calculation for when to apply daylight savings seemed to be different than in others.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In the end I opted to remove date and time calculations on the client entirely, and posted back to my server on an integer key which then got translated to date time on the server, to allow for consistent transformations.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;My learning from this:\nDo not use JavaScript date and time calculations in web applications unless you ABSOLUTELY have to.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;While I haven\u0026apos;t tried it, an approach to time zone adjustments I would find compelling would be as follows:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Store everything in UTC.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Create a table \u0026lt;code\u0026gt;TZOffsets\u0026lt;/code\u0026gt; with three columns: RegionClassId, StartDateTime, and OffsetMinutes (int, in minutes).\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;In the table, store a list of dates and times \u0026lt;em\u0026gt;when\u0026lt;/em\u0026gt; the local time changed, and by how much. The number of regions in the table and the number of dates would depend on what range of dates and areas of the world you need to support. Think of this as if it is \u0026quot;historical\u0026quot; date, even though the dates should include the future to some practical limit.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;When you need to compute the local time of any UTC time, just do this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;SELECT DATEADD(\u0026apos;m\u0026apos;, SUM(OffsetMinutes), @inputdatetime) AS LocalDateTime\nFROM   TZOffsets\nWHERE  StartDateTime \u0026amp;lt;= @inputdatetime\n       AND RegionClassId = @RegionClassId;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You might want to cache this table in your app and use LINQ or some similar means to do the queries rather than hitting the database.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This data can be distilled from the \u0026lt;a href=\u0026quot;http://www.twinsun.com/tz/tz-link.htm\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;public domain tz database\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Advantages and footnotes of this approach:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;No rules are baked into code, you can adjust the offsets for new regions or date ranges readily.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;You don\u0026apos;t have to support every range of dates or regions, you can add them as needed.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Regions don\u0026apos;t have to correspond directly to geopolitical boundaries, and to avoid duplication of rows (for instance, most states in the US handle DST the same way), you can have broad RegionClass entries that link in another table to more traditional lists of states, countries, etc.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;For situations like the US where the start and end date of DST has changed over the past few years, this is pretty easy to deal with.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Since the StartDateTime field can store a time as well, the 2:00 AM standard change-over time is handled easily.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Not everywhere in the world uses a 1-hour DST. This handles those cases easily.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The data table is cross-platform and could be a separate open-source project that could be used by developers who use nearly any database platform or programming language.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;This can be used for offsets that have nothing to do with time zones. For instance, the 1-second adjustments that happen from time to time to adjust for the Earth\u0026apos;s rotation, historical adjustments to and within the Gregorian calendar, etc.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Since this is in a database table, standard report queries, etc. can take advantage of the data without a trip through business logic code.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;This handles time zone offsets as well if you want it to, and can even account for special historical cases where a region is assigned to another time zone. All you need is an initial date that assigns a time zone offset to each region with a minimal start date. This would require creating at least one region for each time zone, but would allow you to ask interesting questions like: \u0026quot;What is the difference in local time between Yuma, Arizona and Seattle, Washington on February 2, 1989 at 5:00am?\u0026quot; (Just subtract one SUM() from the other).\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;Now, the only disadvantage of this approach \u0026lt;em\u0026gt;or any other\u0026lt;/em\u0026gt; is that conversions \u0026lt;em\u0026gt;from\u0026lt;/em\u0026gt; local time to GMT are not perfect, since any DST change that has a negative offset to the clock \u0026lt;em\u0026gt;repeats\u0026lt;/em\u0026gt; a given local time. No easy way to deal with that one, I\u0026apos;m afraid, which is one reason storing local times is bad news in the first place.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I have hit this on two types of systems, shift planning systems (e.g. factory workers) and gas depend management systems)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;23 and 25 hour long days are a pain to cope with, so are 8hr shifts that take 7hr or 9hr.  The problem is you will find that each customers, or even department of the customer have different rules they have created (often without documenting) on what they do in these special cases.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Some questions are best not asked of the customers until after they have paid for your off the shelf software.  It is very rare to find a customer that thinks about this type of issue up front when buying software.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I think in all cases you should record time in UTC and convert to/from local time before storing the date/time.   However even know which take a given time is in can be hard with Daylight saving and time zones.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;For the web, the rules aren\u0026apos;t that complicated...\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;Server-side, use UTC\u0026lt;/strong\u0026gt; \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;Client-side, use \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Tz_database\u0026quot;\u0026gt;Olson\u0026lt;/a\u0026gt;\u0026lt;/strong\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Reason: UTC-offsets are not daylight savings-safe (e.g. New York is EST (UTC - 5 Hours) part of the year, EDT (UTC - 4 Hours) rest of the year).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;For client-side time zone determination, you have two options:\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;1) Have user set zone (Safer)\u0026lt;/strong\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Resources: Web-ready Olson tz \u0026lt;a href=\u0026quot;https://gist.github.com/3349954\u0026quot;\u0026gt;HTML Dropdown\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;https://gist.github.com/3349960\u0026quot;\u0026gt;JSON\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;2) Auto-detect zone\u0026lt;/strong\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Resource: \u0026lt;a href=\u0026quot;https://bitbucket.org/pellepim/jstimezonedetect/\u0026quot;\u0026gt;jsTimezoneDetect\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;The rest is just UTC/local conversion using your server-side datetime libraries. Good to go...\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;When it comes to applications that run on a \u0026lt;em\u0026gt;server\u0026lt;/em\u0026gt;, including web sites and other back-end services, the time zone setting of the server should be ignored by the application.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The common advice is to set the server\u0026apos;s time zone to UTC.  This is indeed a good best practice, but it\u0026apos;s there as a band-aid for applications that do not follow other best practices.  For example, a service might be writing to log files with local timestamps instead of UTC-based timestamps, thus creating ambiguities during the daylight saving time fall-back transition.  Setting the server\u0026apos;s time zone to UTC will fix \u0026lt;em\u0026gt;that\u0026lt;/em\u0026gt; application.  However the real fix would be for the application to log using UTC to begin with.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Server-side code, including web sites, should \u0026lt;em\u0026gt;never\u0026lt;/em\u0026gt; expect the local time zone of the server to be anything in particular.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In some languages, the local time zone can easily creep in to application code.  For example, the \u0026lt;code\u0026gt;DateTime.ToUniversalTime\u0026lt;/code\u0026gt; method in .NET will convert \u0026lt;em\u0026gt;from\u0026lt;/em\u0026gt; the local time zone to UTC, and the \u0026lt;code\u0026gt;DateTime.Now\u0026lt;/code\u0026gt; property returns the current time in the local time zone.   Also, the \u0026lt;code\u0026gt;Date\u0026lt;/code\u0026gt; constructor in JavaScript uses the computer\u0026apos;s local time zone.  There are many other examples like this.   It is important to practice defensive programming, avoiding any code that uses the computer\u0026apos;s local time zone setting.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Reserve using the local time zone for client-side code, such as desktop applications, mobile applications, and client-side JavaScript.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Keep your servers set to UTC, and make sure they all are configured for ntp or the equivalent.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;UTC avoids daylight savings time issues, and out-of-sync servers can cause unpredictable results that take a while to diagnose.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Be careful when dealing with timestamps stored in the FAT32 filesystem - it is always persisted in local time coordinates (which include DST - see \u0026lt;a href=\u0026quot;http://msdn.microsoft.com/en-us/library/ms724290(VS.85).aspx\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;msdn article\u0026lt;/a\u0026gt;).  Got burned on that one.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;One other thing, make sure the servers have the up to date daylight savings patch applied.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;We had a situation last year where our times were consistently out by one hour for a three-week period for North American users, even though we were using a UTC based system.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It turns out in the end it was the servers. They just needed an up-to-date patch applied (\u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Windows_Server_2003\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Windows Server 2003\u0026lt;/a\u0026gt;).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h1\u0026gt;PHP\u0026apos;s \u0026lt;a href=\u0026quot;http://www.php.net/manual/en/datetimezone.listabbreviations.php\u0026quot;\u0026gt;\u0026lt;code\u0026gt;DateTimeZone::listAbbreviations()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; output\u0026lt;/h1\u0026gt;\n\n\u0026lt;p\u0026gt;This PHP method returns an associative array containing some \u0026apos;major\u0026apos; timezones (like CEST), which on their own contain more specific \u0026apos;geographic\u0026apos; timezones (like Europe/Amsterdam).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you\u0026apos;re using these timezones and their offset/DST information, it\u0026apos;s extremely important to realize the following:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;It seems like \u0026lt;em\u0026gt;all different offset/DST configurations\u0026lt;/em\u0026gt; (including historical configurations) of each timezone are included!\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For example, Europe/Amsterdam can be found six times in the output of this function. Two occurrences (offset 1172/4772) are for the Amsterdam time used until 1937; two (1200/4800) are for the time that was used between 1937 and 1940; and two (3600/4800) are for the time used since 1940.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Therefore, \u0026lt;em\u0026gt;you cannot rely on the offset/DST information returned by this function\u0026lt;/em\u0026gt; as being currently correct/in use!\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you want to know the current offset/DST of a certain timezone, you\u0026apos;ll have to do something like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;\u0026amp;lt;?php\n$now = new DateTime(null, new DateTimeZone(\u0026apos;Europe/Amsterdam\u0026apos;));\necho $now-\u0026amp;gt;getOffset();\n?\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you happen to maintain database systems that are running with DST active, check carefully whether they need to be shut down during the transition in fall. Mandy DBS (or other systems as well) don\u0026apos;t like passing the same point in (local) time twice, which is exactly what happens when you turn back the clock in fall. SAP has solved this with a (IMHO really neat) workaround - instead of turning back the clock, they just let the internal clock run at half the usual speed for two hours...\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Are you using the \u0026lt;strong\u0026gt;.NET framework\u0026lt;/strong\u0026gt;?\nIf so, let me introduce you to the \u0026lt;a href=\u0026quot;http://msdn.microsoft.com/en-us/library/system.datetimeoffset.aspx\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;DateTimeOffset\u0026lt;/a\u0026gt; type, added with .NET 3.5.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This structure holds both a \u0026lt;code\u0026gt;DateTime\u0026lt;/code\u0026gt; and an Offset (\u0026lt;code\u0026gt;TimeSpan\u0026lt;/code\u0026gt;), which specifies the difference between the \u0026lt;code\u0026gt;DateTimeOffset\u0026lt;/code\u0026gt; instance\u0026apos;s date and time and Coordinated Universal Time (UTC).\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;The \u0026lt;code\u0026gt;DateTimeOffset.Now\u0026lt;/code\u0026gt; static method will return a \u0026lt;code\u0026gt;DateTimeOffset\u0026lt;/code\u0026gt;\ninstance consisting of the current (local) time, and the local offset\n(as defined in the operating system\u0026apos;s regional info).\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;The \u0026lt;code\u0026gt;DateTimeOffset.UtcNow\u0026lt;/code\u0026gt; static method will return a\n\u0026lt;code\u0026gt;DateTimeOffset\u0026lt;/code\u0026gt; instance consisting of the current time in UTC (as\nif you were in Greenwich).\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Other helpful types are the \u0026lt;a href=\u0026quot;http://msdn.microsoft.com/en-us/library/system.timezone.aspx\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;TimeZone\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;http://msdn.microsoft.com/en-us/library/system.timezoneinfo.aspx\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;TimeZoneInfo\u0026lt;/a\u0026gt; classes. \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;For those struggling with this on \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/.NET_Framework\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;.NET\u0026lt;/a\u0026gt;, see if using \u0026lt;code\u0026gt;DateTimeOffset\u0026lt;/code\u0026gt; and/or \u0026lt;code\u0026gt;TimeZoneInfo\u0026lt;/code\u0026gt; are worth your while.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you want to use \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Tz_database\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;IANA/Olson time zones\u0026lt;/a\u0026gt;, or find the built in types are insufficient for your needs, check out \u0026lt;a href=\u0026quot;http://nodatime.org\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;Noda Time\u0026lt;/a\u0026gt;, which offers a much smarter date and time API for .NET. \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Business rules should always work on \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Civil_time\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;civil time\u0026lt;/a\u0026gt; (unless there\u0026apos;s legislation that says otherwise). Be aware that civil time is a mess, but it\u0026apos;s what people use so it\u0026apos;s what is important.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Internally, keep timestamps in something like civil-time-seconds-from-epoch. The \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Epoch_%28reference_date%29\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;epoch\u0026lt;/a\u0026gt; doesn\u0026apos;t matter particularly (I favour the \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Unix_time\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Unix epoch\u0026lt;/a\u0026gt;) but it does make things easier than the alternative. Pretend that \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Leap_second\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;leap-seconds\u0026lt;/a\u0026gt; don\u0026apos;t exist unless you\u0026apos;re doing something that \u0026lt;em\u0026gt;really\u0026lt;/em\u0026gt; needs them (e.g., satellite tracking). The mapping between timestamps and displayed time is the only point where \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Daylight_saving_time\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;DST\u0026lt;/a\u0026gt; rules should be applied; the rules change frequently (on a global level, several times a year; blame politicians) so you should make sure that you do not hard-code the mapping. Olson\u0026apos;s \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Tz_database\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;TZ database\u0026lt;/a\u0026gt; is invaluable.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Just wanted to point out two things that seem inaccurate or at least confusing:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Always persist time according to a unified standard that is not\n  affected by daylight savings. GMT and UTC have been mentioned by\n  different people, though UTC seems to be mentioned most often.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;For (almost) all practical computing purposes, UTC is, in fact, GMT. Unless you see a timestamps with a fractional second, you\u0026apos;re dealing with GMT which makes this distinction redundant.\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Include the local time offset as is (including DST offset) when\n  storing timestamps.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;A timestamp is always represented in GMT and thus has no offset.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here is my experience:-\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;(Does not require any third-party library)\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;On server-side, store times in UTC format so that all date/time values in database are in a single standard regardless of location of users, servers, timezones or DST.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;On the UI layer or in emails sent out to user, you need to show times according to user. For that matter, you need to have user\u0026apos;s timezone offset so that you can add this offset to your database\u0026apos;s UTC value which will result in user\u0026apos;s local time. You can either take user\u0026apos;s timezone offset when they are signing up or you can auto-detect them in web and mobile platforms. For websites, JavaScript\u0026apos;s function getTimezoneOffset() method is a standard since version 1.0 and compatible with all browsers. (Ref: \u0026lt;a href=\u0026quot;http://www.w3schools.com/jsref/jsref_getTimezoneOffset.asp\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;http://www.w3schools.com/jsref/jsref_getTimezoneOffset.asp\u0026lt;/a\u0026gt;)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Tom Scott\u0026apos;s\u0026lt;/strong\u0026gt; \u0026lt;a href=\u0026quot;https://www.youtube.com/watch?v=-5wpm-gesOY\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;video about timezones on YouTube\u0026lt;/a\u0026gt; on the Computerphile channel has also a nice and entertaining description of the topic. \nExamples include: \u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;Samoa\u0026lt;/strong\u0026gt; (an island in the Pacific Ocean) shifting its time zone forward by 24 hours to make trading easier with Australia and New Zealand, \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;West Bank\u0026lt;/strong\u0026gt;, where 2 populations of people are following different time zones,\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;18th century changes from the \u0026lt;strong\u0026gt;Julian\u0026lt;/strong\u0026gt; calendar to the \u0026lt;strong\u0026gt;Gregorian\u0026lt;/strong\u0026gt;\ncalendar (which happened in the 20th century in Russia).\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Just one example to prove that handling time is the huge mess described, and that you can never be complacent. In several spots on this page leap-seconds have been ignored. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Several years ago, the Android operating system used GPS satellites to get a UTC time reference, but ignored the fact that GPS satellites do not use leap-seconds. No one noticed until there was confusion on New Year\u0026apos;s Eve, when the Apple phone users and Android phone users did their count-downs about 15 seconds apart. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I think it has since been fixed, but you never know when these \u0026apos;minor details\u0026apos; will come back to haunt you. \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Actually, kernel32.dll does not export SystemTimeToTzSpecificLocation.  It does however export the following two:  SystemTimeToTzSpecificLocalTime and TzSpecificLocalTimeToSystemTime...\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Never rely only on constructors like \u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; new DateTime(int year, int month, int day, int hour, int minute, TimeZone timezone)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;They can throw exceptions when a certain date time does not exist due to DST. Instead, build your own methods for creating such dates. In them, catch any exceptions that occur due to DST, and adjust the time is needed with the transition offset. DST may occur on different dates and at different hours (even at midnight for Brazil) according to the timezone.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Never, ever store local time without its UTC offset (or a reference to the time zone)examples of how not to do it include FAT32 and \u0026lt;code\u0026gt;struct tm\u0026lt;/code\u0026gt; in C.¹\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Understand that a time zone is a combination of\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;a set of UTC offsets (e.g. +0100 in winter, +0200 in summer)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;rules for when the switchover happens (which may change over time: for example, in the 1990s the EU harmonized the switchover as being on the last Sundays in March and October, at 02:00 standard time/03:00 DST; previously this differed between member states).\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;¹ Some implementations of \u0026lt;code\u0026gt;struct tm\u0026lt;/code\u0026gt; do store the UTC offset, but this has not made it into the standard.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In dealing with databases (in particular \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/MySQL\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;MySQL\u0026lt;/a\u0026gt;, but this applies to most databases), I found it hard to store UTC.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Databases usually work with server datetime by default (that is, CURRENT_TIMESTAMP).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;You may not be able to change the server timezone.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Even if you are able to change the timezone, you may have third-party code that expects server timezone to be local.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;I found it easier to just store server datetime in the database, then let the database convert the stored datetime back to UTC (that is, UNIX_TIMESTAMP()) in the SQL statements. After that you can use the datetime as UTC in your code.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you have 100% control over the server and all code, it\u0026apos;s probably better to change server timezone to UTC.\u0026lt;/p\u0026gt;\n    "],"id":435,"title":"Daylight saving time and time zone best practices [closed]","content":"\n                    \u0026lt;div\u0026gt;\n            \u0026lt;aside class=\u0026quot;s-notice s-notice__info post-notice js-post-notice mb16\u0026quot; role=\u0026quot;status\u0026quot;\u0026gt;\n        \u0026lt;div class=\u0026quot;d-flex fd-column fw-nowrap\u0026quot;\u0026gt;\n            \u0026lt;div class=\u0026quot;d-flex fw-nowrap\u0026quot;\u0026gt;\n                \u0026lt;div class=\u0026quot;flex--item wmn0 fl1 lh-lg\u0026quot;\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item fl1 lh-lg\u0026quot;\u0026gt;\n                        \u0026lt;b\u0026gt;Closed\u0026lt;/b\u0026gt;. This question needs to be more \u0026lt;a href=\u0026quot;/help/closed-questions\u0026quot;\u0026gt;focused\u0026lt;/a\u0026gt;. It is not currently accepting answers.\n                        \n                    \u0026lt;/div\u0026gt;\n                \u0026lt;/div\u0026gt;\n            \u0026lt;/div\u0026gt;\n        \u0026lt;/div\u0026gt;\n            \u0026lt;hr class=\u0026quot;my12 outline-none baw0 bb bc-powder-400\u0026quot;\u0026gt;\n        \u0026lt;div class=\u0026quot;fw-nowrap fc-black-600\u0026quot;\u0026gt;\n            \u0026lt;div class=\u0026quot;d-flex fd-column lh-md\u0026quot;\u0026gt;\n                \u0026lt;div class=\u0026quot;mb0 d-flex\u0026quot;\u0026gt;\n                        \u0026lt;div class=\u0026quot;flex--item mr8\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;svg-icon iconLightbulb\u0026quot; width=\u0026quot;18\u0026quot; height=\u0026quot;18\u0026quot; viewBox=\u0026quot;0 0 18 18\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;M15 6.38A6.48 6.48 0 0 0 7.78.04h-.02A6.49 6.49 0 0 0 2.05 5.6a6.31 6.31 0 0 0 2.39 5.75c.49.39.76.93.76 1.5v.24c0 1.07.89 1.9 1.92 1.9h2.75c1.04 0 1.92-.83 1.92-1.9v-.2c0-.6.26-1.15.7-1.48A6.32 6.32 0 0 0 15 6.37ZM4.03 5.85A4.49 4.49 0 0 1 8 2.02a4.48 4.48 0 0 1 5 4.36 4.3 4.3 0 0 1-1.72 3.44c-.98.74-1.5 1.9-1.5 3.08v.1H7.2v-.14c0-1.23-.6-2.34-1.53-3.07a4.32 4.32 0 0 1-1.64-3.94ZM10 18a1 1 0 0 0 0-2H7a1 1 0 1 0 0 2h3Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/div\u0026gt;\n                    \u0026lt;p\u0026gt;\u0026lt;b\u0026gt;Want to improve this question?\u0026lt;/b\u0026gt; Update the question so it focuses on one problem only by \u0026lt;a href=\u0026quot;/posts/2532729/edit\u0026quot;\u0026gt;editing this post\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n                \u0026lt;/div\u0026gt;\n                    \u0026lt;div class=\u0026quot;mb0 mt6 d-flex\u0026quot;\u0026gt;\n                        \u0026lt;p class=\u0026quot;ml24 pl2\u0026quot;\u0026gt;Closed \u0026lt;span title=\u0026quot;2018-02-16 09:14:47Z\u0026quot; class=\u0026quot;relativetime\u0026quot;\u0026gt;4 years ago\u0026lt;/span\u0026gt;.\u0026lt;/p\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                \u0026lt;div class=\u0026quot;ml24 pl2\u0026quot;\u0026gt;\n            \u0026lt;p class=\u0026quot;mb0 mt12\u0026quot;\u0026gt;The community reviewed whether to reopen this question \u0026lt;span title=\u0026quot;2021-11-23 15:40:31Z\u0026quot; class=\u0026quot;relativetime\u0026quot;\u0026gt;8 months ago\u0026lt;/span\u0026gt; and left it closed:\u0026lt;/p\u0026gt;\n            \u0026lt;blockquote class=\u0026quot;mb0 mt12\u0026quot;\u0026gt;\n                    \u0026lt;p\u0026gt;Original close reason(s) were not resolved\u0026lt;/p\u0026gt;\n            \u0026lt;/blockquote\u0026gt;\n\n                \u0026lt;/div\u0026gt;\n            \u0026lt;/div\u0026gt;\n        \u0026lt;/div\u0026gt;\n            \u0026lt;div class=\u0026quot;mt24 d-flex gsx gs8\u0026quot;\u0026gt;\n                    \u0026lt;a class=\u0026quot;s-btn s-btn__outlined flex--item js-post-notice-edit-post\u0026quot; href=\u0026quot;/posts/2532729/edit\u0026quot;\u0026gt;\n                        Improve this question\n                    \u0026lt;/a\u0026gt;\n            \u0026lt;/div\u0026gt;\n\u0026lt;/aside\u0026gt;\n\n    \u0026lt;/div\u0026gt;\n\n\u0026lt;p\u0026gt;I am hoping to make this question and the answers to it the definitive guide to dealing with daylight saving time, in particular for dealing with the actual change overs. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;If you have anything to add, please do\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Many systems are dependent on keeping accurate time, the problem is with changes to time due to daylight savings - moving the clock forward or backwards.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For instance, one has business rules in an order taking system that depend on the time of the order - if the clock changes, the rules might not be as clear. How should the time of the order be persisted? There are of course an endless number of scenarios - this one is simply an illustrative one.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;How have you dealt with the daylight saving issue? \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;What assumptions are part of your solution? (looking for context here)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;As important, if not more so:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;What did you try that did not work? \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Why did it not work?\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;I would be interested in programming, OS, data persistence and other pertinent aspects of the issue.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;General answers are great, but I would also like to see details especially if they are only available on one platform.\u0026lt;/p\u0026gt;\n    ","slug":"daylight-saving-time-and-time-zone-best-practices-closed-1657387973687","postType":"QUESTION","createdAt":"2022-07-09T17:32:53.000Z","updatedAt":"2022-07-09T17:32:53.000Z","tags":[{"id":2272,"name":"timezone","slug":"timezone","createdAt":"2022-07-09T17:32:53.000Z","updatedAt":"2022-07-09T17:32:53.000Z","Questions_Tags":{"questionId":435,"tagId":2272}},{"id":2273,"name":"dst","slug":"dst","createdAt":"2022-07-09T17:32:53.000Z","updatedAt":"2022-07-09T17:32:53.000Z","Questions_Tags":{"questionId":435,"tagId":2273}},{"id":2274,"name":"utc","slug":"utc","createdAt":"2022-07-09T17:32:53.000Z","updatedAt":"2022-07-09T17:32:53.000Z","Questions_Tags":{"questionId":435,"tagId":2274}},{"id":2275,"name":"datetimeoffset","slug":"datetimeoffset","createdAt":"2022-07-09T17:32:53.000Z","updatedAt":"2022-07-09T17:32:53.000Z","Questions_Tags":{"questionId":435,"tagId":2275}}],"relatedQuestions":[{"title":"Daylight saving time and time zone best practices [closed]","slug":"daylight-saving-time-and-time-zone-best-practices-closed-1657387973687","tags":[{"name":"timezone","Questions_Tags":{"questionId":435,"tagId":2272}},{"name":"dst","Questions_Tags":{"questionId":435,"tagId":2273}},{"name":"utc","Questions_Tags":{"questionId":435,"tagId":2274}},{"name":"datetimeoffset","Questions_Tags":{"questionId":435,"tagId":2275}}]}]},"randomQuestions":[{"title":"Parsing a string to a date in JavaScript","slug":"parsing-a-string-to-a-date-in-javascript-1657387782497"},{"title":"Pandas Merging 101","slug":"pandas-merging-101-1657384447080"},{"title":"How can I make Bootstrap columns all the same height?","slug":"how-can-i-make-bootstrap-columns-all-the-same-height-1657388551403"},{"title":"Convert columns into rows with Pandas","slug":"convert-columns-into-rows-with-pandas-1657388374964"},{"title":"How do I format a date in JavaScript?","slug":"how-do-i-format-a-date-in-javascript-1657384649498"},{"title":"What is the !! (not not) operator in JavaScript?","slug":"what-is-the-!!-(not-not)-operator-in-javascript-1657387947844"},{"title":"Serialize and Deserialize Json and Json Array in Unity","slug":"serialize-and-deserialize-json-and-json-array-in-unity-1657388273270"},{"title":"What is the behavior of integer division?","slug":"what-is-the-behavior-of-integer-division-1657388222571"},{"title":"How do I install pip on Windows?","slug":"how-do-i-install-pip-on-windows-1657388147761"},{"title":"How to make function decorators and chain them together?","slug":"how-to-make-function-decorators-and-chain-them-together-1657388180803"},{"title":"Performance optimization strategies of last resort [closed]","slug":"performance-optimization-strategies-of-last-resort-closed-1657388420614"},{"title":"How do I attach events to dynamic HTML elements with jQuery? [duplicate]","slug":"how-do-i-attach-events-to-dynamic-html-elements-with-jquery-duplicate-1657387992964"},{"title":"Fetch the rows which have the Max value for a column for each distinct value of another column","slug":"fetch-the-rows-which-have-the-max-value-for-a-column-for-each-distinct-value-of-another-column-1657387423925"},{"title":"How does Access-Control-Allow-Origin header work?","slug":"how-does-access-control-allow-origin-header-work-1657384881723"},{"title":"How does the SQL injection from the \"Bobby Tables\" XKCD comic work?","slug":"how-does-the-sql-injection-from-the-\"bobby-tables\"-xkcd-comic-work-1657384621653"},{"title":"Asking the user for input until they give a valid response","slug":"asking-the-user-for-input-until-they-give-a-valid-response-1657384376162"},{"title":"How to replace all occurrences of a string in JavaScript","slug":"how-to-replace-all-occurrences-of-a-string-in-javascript-1657384895467"},{"title":"Where should I put \u003cscript\u003e tags in HTML markup?","slug":"where-should-i-put-lessscriptgreater-tags-in-html-markup-1657388350798"},{"title":"What is the difference between __str__ and __repr__?","slug":"what-is-the-difference-between-__str__-and-__repr__-1657387738760"},{"title":"What are copy elision and return value optimization?","slug":"what-are-copy-elision-and-return-value-optimization-1657385455976"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"daylight-saving-time-and-time-zone-best-practices-closed-1657387973687"},"buildId":"XDXakEY6gSPdgAODPxtjg","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>