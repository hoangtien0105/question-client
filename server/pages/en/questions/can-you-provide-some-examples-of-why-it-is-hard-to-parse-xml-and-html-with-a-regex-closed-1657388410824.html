<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find the solution to any question. We focus on finding the fastest possible solution for users. Main topics like coding, learning. - solutionschecker.com"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><link name="keywords" content="solutions checker, solution checker, how to, solution for, check for solution, resolve question, what is, what solution for, find solution"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://solutionschecker.com","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://solutionschecker.com/questions","name":"Questions"}},{"@type":"ListItem","position":3,"item":{"@id":"https://solutionschecker.com/questions/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-regex-closed-1657388410824","name":"Questions"}}]}</script><title>Can you provide some examples of why it is hard to parse XML and HTML with a regex? [closed] | Solution Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="
            
        
            
                
                    
                        Closed. This question needs to be more focused. It is not currently accepting answers.
                        
                    
                
            
        
            
        
            
                
                        
                            
                        
                    Want to improve this question? Update the question so it focuses on one problem only by editing this post.
                
                    
                        Closed 5 years ago.
                    
                

                
            
        
            
                    
                        Improve this question
                    
            


    

One mistake I see people making over and over again is trying to parse XML or HTML with a regex.  Here are a few of the reasons parsing XML and HTML is hard:

People want to treat a file as a sequence of lines, but this is valid:

&lt;tag
attr=&quot;5&quot;
/&gt;


People want to treat &lt; or &lt;tag as the start of a tag, but stuff like this exists in the wild:

&lt;img src=&quot;imgtag.gif&quot; alt=&quot;&lt;img&gt;&quot; /&gt;


People often want to match starting tags to ending tags, but XML and HTML allow tags to contain themselves (which traditional regexes cannot handle at all):

&lt;span id=&quot;outer&quot;&gt;&lt;span id=&quot;inner&quot;&gt;foo&lt;/span&gt;&lt;/span&gt; 


People often want to match against the content of a document (such as the famous &quot;find all phone numbers on a given page&quot; problem), but the data may be marked up (even if it appears to be normal when viewed):

&lt;span class=&quot;phonenum&quot;&gt;(&lt;span class=&quot;area code&quot;&gt;703&lt;/span&gt;)
&lt;span class=&quot;prefix&quot;&gt;348&lt;/span&gt;-&lt;span class=&quot;linenum&quot;&gt;3020&lt;/span&gt;&lt;/span&gt;


Comments may contain poorly formatted or incomplete tags:

&lt;a href=&quot;foo&quot;&gt;foo&lt;/a&gt;
&lt;!-- FIXME:
    &lt;a href=&quot;
--&gt;
&lt;a href=&quot;bar&quot;&gt;bar&lt;/a&gt;


What other gotchas are you aware of?
    "/><meta property="og:title" content="Can you provide some examples of why it is hard to parse XML and HTML with a regex? [closed] | Solution Checker"/><meta property="og:description" content="
            
        
            
                
                    
                        Closed. This question needs to be more focused. It is not currently accepting answers.
                        
                    
                
            
        
            
        
            
                
                        
                            
                        
                    Want to improve this question? Update the question so it focuses on one problem only by editing this post.
                
                    
                        Closed 5 years ago.
                    
                

                
            
        
            
                    
                        Improve this question
                    
            


    

One mistake I see people making over and over again is trying to parse XML or HTML with a regex.  Here are a few of the reasons parsing XML and HTML is hard:

People want to treat a file as a sequence of lines, but this is valid:

&lt;tag
attr=&quot;5&quot;
/&gt;


People want to treat &lt; or &lt;tag as the start of a tag, but stuff like this exists in the wild:

&lt;img src=&quot;imgtag.gif&quot; alt=&quot;&lt;img&gt;&quot; /&gt;


People often want to match starting tags to ending tags, but XML and HTML allow tags to contain themselves (which traditional regexes cannot handle at all):

&lt;span id=&quot;outer&quot;&gt;&lt;span id=&quot;inner&quot;&gt;foo&lt;/span&gt;&lt;/span&gt; 


People often want to match against the content of a document (such as the famous &quot;find all phone numbers on a given page&quot; problem), but the data may be marked up (even if it appears to be normal when viewed):

&lt;span class=&quot;phonenum&quot;&gt;(&lt;span class=&quot;area code&quot;&gt;703&lt;/span&gt;)
&lt;span class=&quot;prefix&quot;&gt;348&lt;/span&gt;-&lt;span class=&quot;linenum&quot;&gt;3020&lt;/span&gt;&lt;/span&gt;


Comments may contain poorly formatted or incomplete tags:

&lt;a href=&quot;foo&quot;&gt;foo&lt;/a&gt;
&lt;!-- FIXME:
    &lt;a href=&quot;
--&gt;
&lt;a href=&quot;bar&quot;&gt;bar&lt;/a&gt;


What other gotchas are you aware of?
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"Can you provide some examples of why it is hard to parse XML and HTML with a regex? [closed]","text":"\n            \n        \n            \n                \n                    \n                        Closed. This question needs to be more focused. It is not currently accepting answers.\n                        \n                    \n                \n            \n        \n            \n        \n            \n                \n                        \n                            \n                        \n                    Want to improve this question? Update the question so it focuses on one problem only by editing this post.\n                \n                    \n                        Closed 5 years ago.\n                    \n                \n\n                \n            \n        \n            \n                    \n                        Improve this question\n                    \n            \n\n\n    \n\nOne mistake I see people making over and over again is trying to parse XML or HTML with a regex.  Here are a few of the reasons parsing XML and HTML is hard:\n\nPeople want to treat a file as a sequence of lines, but this is valid:\n\n&lt;tag\nattr=&quot;5&quot;\n/&gt;\n\n\nPeople want to treat &lt; or &lt;tag as the start of a tag, but stuff like this exists in the wild:\n\n&lt;img src=&quot;imgtag.gif&quot; alt=&quot;&lt;img&gt;&quot; /&gt;\n\n\nPeople often want to match starting tags to ending tags, but XML and HTML allow tags to contain themselves (which traditional regexes cannot handle at all):\n\n&lt;span id=&quot;outer&quot;&gt;&lt;span id=&quot;inner&quot;&gt;foo&lt;/span&gt;&lt;/span&gt; \n\n\nPeople often want to match against the content of a document (such as the famous &quot;find all phone numbers on a given page&quot; problem), but the data may be marked up (even if it appears to be normal when viewed):\n\n&lt;span class=&quot;phonenum&quot;&gt;(&lt;span class=&quot;area code&quot;&gt;703&lt;/span&gt;)\n&lt;span class=&quot;prefix&quot;&gt;348&lt;/span&gt;-&lt;span class=&quot;linenum&quot;&gt;3020&lt;/span&gt;&lt;/span&gt;\n\n\nComments may contain poorly formatted or incomplete tags:\n\n&lt;a href=&quot;foo&quot;&gt;foo&lt;/a&gt;\n&lt;!-- FIXME:\n    &lt;a href=&quot;\n--&gt;\n&lt;a href=&quot;bar&quot;&gt;bar&lt;/a&gt;\n\n\nWhat other gotchas are you aware of?\n    ","answerCount":12,"upVoteCount":500,"suggestedAnswer":[{"text":"Here&apos;s some fun valid XML for you:\n\n&lt;!DOCTYPE x [ &lt;!ENTITY y &quot;a]&gt;b&quot;&gt; ]&gt;\n&lt;x&gt;\n    &lt;a b=&quot;&amp;y;&gt;&quot; /&gt;\n    &lt;![CDATA[[a&gt;b &lt;a&gt;b &lt;a]]&gt;\n    &lt;?x &lt;a&gt; &lt;!-- &lt;b&gt; ?&gt; c --&gt; d\n&lt;/x&gt;\n\n\nAnd this little bundle of joy is valid HTML:\n\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot; [\n    &lt;!ENTITY % e &quot;href=&apos;hello&apos;&quot;&gt;\n    &lt;!ENTITY e &quot;&lt;a %e;&gt;&quot;&gt;\n]&gt;\n    &lt;title&gt;x&lt;/TITLE&gt;\n&lt;/head&gt;\n    &lt;p id  =  a:b center&gt;\n    &lt;span / hello &lt;/span&gt;\n    &amp;amp&lt;br left&gt;\n    &lt;!---- &gt;t&lt;!---&gt; &lt; --&gt;\n    &amp;e link &lt;/a&gt;\n&lt;/body&gt;\n\n\nNot to mention all the browser-specific parsing for invalid constructs.\n\nGood luck pitting regex against that!\n\nEDIT (Jörg W Mittag): Here is another nice piece of well-formed, valid HTML 4.01:\n\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;\n  &quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt; \n&lt;HTML/\n  &lt;HEAD/\n    &lt;TITLE/&gt;/\n    &lt;P/&gt;\n\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"Actually\n\n&lt;img src=&quot;imgtag.gif&quot; alt=&quot;&lt;img&gt;&quot; /&gt;\n\n\nis not valid HTML, and is not valid XML either.\n\nIt is not valid XML because the &apos;&lt;&apos; and &apos;&gt;&apos; are not valid characters inside attribute strings. They need to be escaped using the corresponding XML entities &amp;lt; and &amp;gt;\n\nIt is not valid HTML either because the short closing form is not allowed in HTML (but is correct in XML and XHTML). The &apos;img&apos; tag is also an implicitly closed tag as per the HTML 4.01 specification. This means that manually closing it is actually wrong, and is equivalent to closing any other tag twice.\n\nThe correct version in HTML is\n\n&lt;img src=&quot;imgtag.gif&quot; alt=&quot;&amp;lt;img&amp;gt;&quot;&gt;\n\n\nand the correct version in XHTML and XML is\n\n&lt;img src=&quot;imgtag.gif&quot; alt=&quot;&amp;lt;img&amp;gt;&quot;/&gt;\n\n\nThe following example you gave is also invalid\n\n&lt;\ntag\nattr=&quot;5&quot;\n/&gt;\n\n\nThis is not valid HTML or XML either. The name of the tag must be right behind the &apos;&lt;&apos;, although the attributes and the closing &apos;&gt;&apos; may be wherever they want. So the valid XML is actually\n\n&lt;tag\nattr=&quot;5&quot;\n/&gt;\n\n\nAnd here&apos;s another funkier one: you can actually choose to use either &quot; or &apos; as your attribute quoting character\n\n&lt;img src=&quot;image.gif&quot; alt=&apos;This is single quoted AND valid!&apos;&gt;\n\n\nAll the other reasons that were posted are correct, but the biggest problem with parsing HTML is that people usually don&apos;t understand all the syntax rules correctly. The fact that your browser interprets your tagsoup as HTML doesn&apos;t means that you have actually written valid HTML.\n\nEdit: And even stackoverflow.com agrees with me regarding the definition of valid and invalid. Your invalid XML/HTML is not highlighted, while my corrected version is.\n\nBasically, XML is not made to be parsed with regexps. But there is also no reason to do so. There are many, many XML parsers for each and every language. You have the choice between SAX parsers, DOM parsers and Pull parsers. All of these are guaranteed to be much faster than parsing with a regexp and you may then use cool technologies like XPath or XSLT on the resulting DOM tree.\n\nMy reply is therefore: not only is parsing XML with regexps hard, but it is also a bad idea. Just use one of the millions of existing XML parsers, and take advantage of all the advanced features of XML. \n\nHTML is just too hard to even try parsing on your own. First the legal syntax has many little subtleties that you may not be aware of, and second, HTML in the wild is just a huge stinking pile of (you get my drift). There are a variety of lax parser libraries that do a good job at handling HTML like tag soup, just use these.\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"I wrote an entire blog entry on this subject: Regular Expression Limitations\nThe crux of the issue is that HTML and XML are recursive structures which require counting mechanisms in order to properly parse.  A true regex is not capable of counting.  You must have a context free grammar in order to count.\nThe previous paragraph comes with a slight caveat.  Certain regex implementations now support the idea of recursion.  However once you start adding recursion into your regex expressions, you are really stretching the boundaries and should consider a parser.\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"One gotcha not on your list is that attributes can appear in any order, so if your regex is looking for a link with the href &quot;foo&quot; and the class &quot;bar&quot;, they can come in any order, and have any number of other things between them.\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"It depends on what you mean by &quot;parsing&quot;. Generally speaking, XML cannot be parsed using regex since XML grammar is by no means regular. To put it simply, regexes cannot count (well, Perl regexes might actually be able to count things) so you cannot balance open-close tags.\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"Are people actually making a mistake by using a regex, or is it simply good enough for the task they&apos;re trying to achieve?\n\nI totally agree that parsing html and xml using a regex is not possible as other people have answered.\n\nHowever, if your requirement is not to parse html/xml but to just get at one small bit of data in a &quot;known good&quot; bit of html / xml then maybe a regular expression or even an even simpler &quot;substring&quot; is good enough.\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"I&apos;m tempted to say &quot;don&apos;t re-invent the wheel&quot;. Except that XML is a really, really complex format. So maybe I should say &quot;don&apos;t reinvent the synchrotron.&quot;\n\nPerhaps the correct cliche starts &quot;when all you have is a hammer...&quot; You know how to use regular expressions, regular expression are good at parsing, so why bother to learn an XML parsing library?\n\nBecause parsing XML is hard. Any effort you save by not having to learn to use an XML parsing library will be more than made up by the amount of creative work and bug-swatting you will have to do. For your own sake, google &quot;XML library&quot; and leverage somebody else&apos;s work.\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"People normally default to writing greedy patterns, often enough leading to an un-thought-through .* slurping large chunks of file into the largest possible &lt;foo&gt;.*&lt;/foo&gt;.\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"I think the problems boil down to:\n\n\nThe regex is almost invariably incorrect. There are legitimate inputs which it will fail to match correctly. If you work hard enough you can make it 99% correct, or 99.999%, but making it 100% correct is almost impossible, if only because of the weird things that XML allows by using entities.\nIf the regex is incorrect, even for 0.00001% of inputs, then you have a security problem, because someone can discover the one input that will break your application.\nIf the regex is correct enough to cover 99.99% of cases then it is going to be thoroughly unreadable and unmaintainable.\nIt&apos;s very likely that a regex will perform very badly on moderate-sized input files. My very first encounter with XML was to replace a Perl script that (incorrectly) parsed incoming XML documents with a proper XML parser, and we not only replaced 300 lines of unreadable code with 100 lines that anyone could understand, but we improved user response time from 10 seconds to about 0.1 seconds.\n\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"I believe this classic has the information you are looking for. You can find the point in one of the comments there:\n\n\n  I think the flaw here is that HTML is a Chomsky Type 2 grammar\n  (context free grammar) and RegEx is a Chomsky Type 3 grammar (regular\n  expression). Since a Type 2 grammar is fundamentally more complex than\n  a Type 3 grammar - you can&apos;t possibly hope to make this work. But many\n  will try, some will claim success and others will find the fault and\n  totally mess you up.\n\n\nSome more info from Wikipedia: Chomsky Hierarchy\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"I gave a simplified answer to this problem here.  While it doesn&apos;t account for the 100% mark, I explain how it&apos;s possible if you&apos;re willing to do some pre-processing work.\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"\n  Generally speaking, XML cannot be parsed using regex since XML grammar is by no means regular. To put it simply, regexes cannot count (well, Perl regexes might actually be able to count things) so you cannot balance open-close tags.\n\n\nI disagree. If you will use recursive in regex, you can easily find open and close tags.\n\nHere I showed example of regex to avoid parsing errors of examples in first message.\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="22"/><link rel="preload" href="/_next/static/css/4f7b2847abfe82c6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4f7b2847abfe82c6.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c0d2dcb5e85faf18.js" defer=""></script><script src="/_next/static/chunks/294-106ef8570fa99deb.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-50e201fdaa1e0fd1.js" defer=""></script><script src="/_next/static/eGqQHYKGZKE-nXShFn8wX/_buildManifest.js" defer=""></script><script src="/_next/static/eGqQHYKGZKE-nXShFn8wX/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h1 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h1></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-regex-closed-1657388410824#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-regex-closed-1657388410824"><h1>Can you provide some examples of why it is hard to parse XML and HTML with a regex? [closed]</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"></div></div><div class="question-content mt-5">
                    <div>
            <aside class="s-notice s-notice__info post-notice js-post-notice mb16" role="status">
        <div class="d-flex fd-column fw-nowrap">
            <div class="d-flex fw-nowrap">
                <div class="flex--item wmn0 fl1 lh-lg">
                    <div class="flex--item fl1 lh-lg">
                        <b>Closed</b>. This question needs to be more <a href="/help/closed-questions">focused</a>. It is not currently accepting answers.
                        
                    </div>
                </div>
            </div>
        </div>
            <hr class="my12 outline-none baw0 bb bc-powder-400">
        <div class="fw-nowrap fc-black-600">
            <div class="d-flex fd-column lh-md">
                <div class="mb0 d-flex">
                        <div class="flex--item mr8">
                            <svg aria-hidden="true" class="svg-icon iconLightbulb" width="18" height="18" viewBox="0 0 18 18"><path d="M15 6.38A6.48 6.48 0 0 0 7.78.04h-.02A6.49 6.49 0 0 0 2.05 5.6a6.31 6.31 0 0 0 2.39 5.75c.49.39.76.93.76 1.5v.24c0 1.07.89 1.9 1.92 1.9h2.75c1.04 0 1.92-.83 1.92-1.9v-.2c0-.6.26-1.15.7-1.48A6.32 6.32 0 0 0 15 6.37ZM4.03 5.85A4.49 4.49 0 0 1 8 2.02a4.48 4.48 0 0 1 5 4.36 4.3 4.3 0 0 1-1.72 3.44c-.98.74-1.5 1.9-1.5 3.08v.1H7.2v-.14c0-1.23-.6-2.34-1.53-3.07a4.32 4.32 0 0 1-1.64-3.94ZM10 18a1 1 0 0 0 0-2H7a1 1 0 1 0 0 2h3Z"></path></svg>
                        </div>
                    <p><b>Want to improve this question?</b> Update the question so it focuses on one problem only by <a href="/posts/701166/edit">editing this post</a>.</p>
                </div>
                    <div class="mb0 mt6 d-flex">
                        <p class="ml24 pl2">Closed <span title="2016-11-02 17:37:34Z" class="relativetime">5 years ago</span>.</p>
                    </div>
                <div class="ml24 pl2">

                </div>
            </div>
        </div>
            <div class="mt24 d-flex gsx gs8">
                    <a class="s-btn s-btn__outlined flex--item js-post-notice-edit-post" href="/posts/701166/edit">
                        Improve this question
                    </a>
            </div>
</aside>

    </div>

<p>One mistake I see people making <a href="https://stackoverflow.com/questions/699708/variable-order-regex-syntax">over</a> and <a href="https://stackoverflow.com/questions/457015/regular-expression-help">over again</a> is trying to parse XML or HTML with a regex.  Here are a few of the reasons parsing XML and HTML is hard:</p>

<p>People want to treat a file as a sequence of lines, but this is valid:</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">tag</span>
<span class="hljs-attr">attr</span>=<span class="hljs-string">"5"</span>
/&gt;</span>
</code></pre>

<p>People want to treat &lt; or &lt;tag as the start of a tag, but stuff like this exists in the wild:</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"imgtag.gif"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"&lt;img&gt;"</span> /&gt;</span>
</code></pre>

<p>People often want to match starting tags to ending tags, but XML and HTML allow tags to contain themselves (which traditional regexes cannot handle at all):</p>

<pre class="default s-code-block"><code class="hljs language-bash">&lt;span <span class="hljs-built_in">id</span>=<span class="hljs-string">"outer"</span>&gt;&lt;span <span class="hljs-built_in">id</span>=<span class="hljs-string">"inner"</span>&gt;foo&lt;/span&gt;&lt;/span&gt; 
</code></pre>

<p>People often want to match against the content of a document (such as the famous "find all phone numbers on a given page" problem), but the data may be marked up (even if it appears to be normal when viewed):</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"phonenum"</span>&gt;</span>(<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"area code"</span>&gt;</span>703<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>)
<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"prefix"</span>&gt;</span>348<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>-<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"linenum"</span>&gt;</span>3020<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
</code></pre>

<p>Comments may contain poorly formatted or incomplete tags:</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"foo"</span>&gt;</span>foo<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-comment">&lt;!-- <span class="hljs-doctag">FIXME:</span>
    &lt;a href="
--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"bar"</span>&gt;</span>bar<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
</code></pre>

<p>What other gotchas are you aware of?</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><h1 class="text-lg font-semibold mb-5">Navigate to solutions: </h1><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 1</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here's some fun valid XML for you:</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-meta">&lt;!DOCTYPE x [ <span class="hljs-meta">&lt;!ENTITY y <span class="hljs-string">"a]&gt;b"</span>&gt;</span> ]&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">x</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">b</span>=<span class="hljs-string">"<span class="hljs-symbol">&amp;y;</span>&gt;"</span> /&gt;</span>
    &lt;![CDATA[[a&gt;b &lt;a&gt;b &lt;a]]&gt;
    &lt;?x <span class="hljs-tag">&lt;<span class="hljs-name">a</span>&gt;</span> <span class="hljs-comment">&lt;!-- &lt;b&gt; ?&gt; c --&gt;</span> d
<span class="hljs-tag">&lt;/<span class="hljs-name">x</span>&gt;</span>
</code></pre>

<p>And this little bundle of joy is valid HTML:</p>

<pre class="default s-code-block"><code class="hljs language-php-template"><span class="language-xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="hljs-string">"http://www.w3.org/TR/html4/loose.dtd"</span> [
    <span class="hljs-meta">&lt;!ENTITY % e <span class="hljs-string">"href='hello'"</span>&gt;</span>
    <span class="hljs-meta">&lt;!ENTITY e <span class="hljs-string">"&lt;a %e;&gt;"</span>&gt;</span>
]&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>x<span class="hljs-tag">&lt;/<span class="hljs-name">TITLE</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>  =  <span class="hljs-string">a:b</span> <span class="hljs-attr">center</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> / <span class="hljs-attr">hello</span> &lt;/<span class="hljs-attr">span</span>&gt;</span>
    &amp;amp<span class="hljs-tag">&lt;<span class="hljs-name">br</span> <span class="hljs-attr">left</span>&gt;</span>
    <span class="hljs-comment">&lt;!---- &gt;t&lt;!---&gt;</span> &lt; --&gt;
    &amp;e link <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
</span></code></pre>

<p>Not to mention all the browser-specific parsing for invalid constructs.</p>

<p>Good luck pitting regex against that!</p>

<p>EDIT (Jörg W Mittag): Here is another nice piece of well-formed, valid HTML 4.01:</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">HTML</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//W3C//DTD HTML 4.01//EN"</span>
  <span class="hljs-string">"http://www.w3.org/TR/html4/strict.dtd"</span>&gt;</span> 
&lt;HTML/
  &lt;HEAD/
    <span class="hljs-tag">&lt;<span class="hljs-name">TITLE</span>/&gt;</span>/
    <span class="hljs-tag">&lt;<span class="hljs-name">P</span>/&gt;</span>
</code></pre>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 2</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Actually</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"imgtag.gif"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"&lt;img&gt;"</span> /&gt;</span>
</code></pre>

<p>is not valid HTML, and is not valid XML either.</p>

<p>It is not valid XML because the '&lt;' and '&gt;' are not valid characters inside attribute strings. They need to be escaped using the corresponding XML entities &amp;lt; and &amp;gt;</p>

<p>It is not valid HTML either because the short closing form is not allowed in HTML (but is correct in XML and XHTML). The 'img' tag is also an implicitly closed tag as per the HTML 4.01 specification. This means that manually closing it is actually wrong, and is equivalent to closing any other tag twice.</p>

<p>The correct version in HTML is</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"imgtag.gif"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"<span class="hljs-symbol">&amp;lt;</span>img<span class="hljs-symbol">&amp;gt;</span>"</span>&gt;</span>
</code></pre>

<p>and the correct version in XHTML and XML is</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"imgtag.gif"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"<span class="hljs-symbol">&amp;lt;</span>img<span class="hljs-symbol">&amp;gt;</span>"</span>/&gt;</span>
</code></pre>

<p>The following example you gave is also invalid</p>

<pre class="default s-code-block"><code class="hljs language-makefile">&lt;
tag
attr=<span class="hljs-string">"5"</span>
/&gt;
</code></pre>

<p>This is not valid HTML or XML either. The name of the tag must be right behind the '&lt;', although the attributes and the closing '&gt;' may be wherever they want. So the valid XML is actually</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">tag</span>
<span class="hljs-attr">attr</span>=<span class="hljs-string">"5"</span>
/&gt;</span>
</code></pre>

<p>And here's another funkier one: you can actually choose to use either " or ' as your attribute quoting character</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"image.gif"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">'This is single quoted AND valid!'</span>&gt;</span>
</code></pre>

<p>All the other reasons that were posted are correct, but the biggest problem with parsing HTML is that people usually don't understand all the syntax rules correctly. The fact that your browser interprets your tagsoup as HTML doesn't means that you have actually written valid HTML.</p>

<p>Edit: And even stackoverflow.com agrees with me regarding the definition of valid and invalid. Your invalid XML/HTML is not highlighted, while my corrected version is.</p>

<p>Basically, XML is not made to be parsed with regexps. But there is also no reason to do so. There are many, many XML parsers for each and every language. You have the choice between SAX parsers, DOM parsers and Pull parsers. All of these are guaranteed to be much faster than parsing with a regexp and you may then use cool technologies like XPath or XSLT on the resulting DOM tree.</p>

<p>My reply is therefore: not only is parsing XML with regexps hard, but it is also a bad idea. Just use one of the millions of existing XML parsers, and take advantage of all the advanced features of XML. </p>

<p>HTML is just too hard to even try parsing on your own. First the legal syntax has many little subtleties that you may not be aware of, and second, HTML in the wild is just a huge stinking pile of (you get my drift). There are a variety of lax parser libraries that do a good job at handling HTML like tag soup, just use these.</p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 3</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I wrote an entire blog entry on this subject: <a href="https://blog.paranoidcoding.com/2008/10/15/regular-expression-limitations.html" rel="noreferrer">Regular Expression Limitations</a></p>
<p>The crux of the issue is that HTML and XML are recursive structures which require counting mechanisms in order to properly parse.  A true regex is not capable of counting.  You must have a context free grammar in order to count.</p>
<p>The previous paragraph comes with a slight caveat.  Certain regex implementations now support the idea of recursion.  However once you start adding recursion into your regex expressions, you are really stretching the boundaries and should consider a parser.</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 4</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>One gotcha not on your list is that attributes can appear in any order, so if your regex is looking for a link with the href "foo" and the class "bar", they can come in any order, and have any number of other things between them.</p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 5</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>It depends on what you mean by "parsing". Generally speaking, XML cannot be parsed using regex since XML grammar is by no means regular. To put it simply, regexes cannot count (well, Perl regexes might actually be able to count things) so you cannot balance open-close tags.</p>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 6</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Are people actually making a mistake by using a regex, or is it simply good enough for the task they're trying to achieve?</p>

<p>I totally agree that parsing html and xml using a regex is not possible as other people have answered.</p>

<p>However, if your requirement is not to parse html/xml but to just get at one small bit of data in a "known good" bit of html / xml then maybe a regular expression or even an even simpler "substring" is good enough.</p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 7</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I'm tempted to say "don't re-invent the wheel". Except that XML is a really, <em>really</em> complex format. So maybe I should say "don't reinvent the synchrotron."</p>

<p>Perhaps the correct cliche starts "when all you have is a hammer..." You know how to use regular expressions, regular expression are good at parsing, so why bother to learn an XML parsing library?</p>

<p>Because parsing XML is <em>hard</em>. Any effort you save by not having to learn to use an XML parsing library will be more than made up by the amount of creative work and bug-swatting you will have to do. For your own sake, google "XML library" and leverage somebody else's work.</p>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 8</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>People normally default to writing greedy patterns, often enough leading to an un-thought-through .* slurping large chunks of file into the largest possible &lt;foo&gt;.*&lt;/foo&gt;.</p>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 9</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I think the problems boil down to:</p>

<ol>
<li><p>The regex is almost invariably incorrect. There are legitimate inputs which it will fail to match correctly. If you work hard enough you can make it 99% correct, or 99.999%, but making it 100% correct is almost impossible, if only because of the weird things that XML allows by using entities.</p></li>
<li><p>If the regex is incorrect, even for 0.00001% of inputs, then you have a security problem, because someone can discover the one input that will break your application.</p></li>
<li><p>If the regex is correct enough to cover 99.99% of cases then it is going to be thoroughly unreadable and unmaintainable.</p></li>
<li><p>It's very likely that a regex will perform very badly on moderate-sized input files. My very first encounter with XML was to replace a Perl script that (incorrectly) parsed incoming XML documents with a proper XML parser, and we not only replaced 300 lines of unreadable code with 100 lines that anyone could understand, but we improved user response time from 10 seconds to about 0.1 seconds.</p></li>
</ol>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 10</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I believe <a href="https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags">this</a> <strong>classic</strong> has the information you are looking for. You can find the point in one of the comments there:</p>

<blockquote>
  <p>I think the flaw here is that HTML is a Chomsky Type 2 grammar
  (context free grammar) and RegEx is a Chomsky Type 3 grammar (regular
  expression). <strong>Since a Type 2 grammar is fundamentally more complex than
  a Type 3 grammar - you can't possibly hope to make this work</strong>. But many
  will try, some will claim success and others will find the fault and
  totally mess you up.</p>
</blockquote>

<p>Some more info from Wikipedia: <a href="http://en.wikipedia.org/wiki/Chomsky_hierarchy" rel="nofollow noreferrer"><strong>Chomsky Hierarchy</strong></a></p>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 11</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I gave a simplified answer to this problem <a href="https://stackoverflow.com/a/33856224/3257871">here</a>.  While it doesn't account for the 100% mark, I explain how it's possible if you're willing to do some pre-processing work.</p>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 12</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<blockquote>
  <p>Generally speaking, XML cannot be parsed using regex since XML grammar is by no means regular. To put it simply, regexes cannot count (well, Perl regexes might actually be able to count things) so you cannot balance open-close tags.</p>
</blockquote>

<p>I disagree. If you will use recursive in regex, you can easily find open and close tags.</p>

<p><a href="https://stackoverflow.com/questions/1692830/matching-pair-tag-with-regex/28369773#28369773">Here</a> I showed example of regex to avoid parsing errors of examples in first message.</p>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/what-is-the-difference-between-%22inner-join%22-and-%22outer-join%22-1657387501982">What is the difference between &quot;INNER JOIN&quot; and &quot;OUTER JOIN&quot;?</a><a href="/questions/how-do-i-iterate-over-the-words-of-a-string-1657384806129">How do I iterate over the words of a string?</a><a href="/questions/captured-variable-in-a-loop-in-c-1657387696779">Captured variable in a loop in C#</a><a href="/questions/asynctask-android-example-1657388127898">AsyncTask Android example</a><a href="/questions/where-should-i-put-lessscriptgreater-tags-in-html-markup-1657388350798">Where should I put &lt;script&gt; tags in HTML markup?</a><a href="/questions/is-listlessdoggreater-a-subclass-of-listlessanimalgreater-why-are-java-generics-not-implicitly-polymorphic-1657384766724">Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?</a><a href="/questions/how-can-i-vertically-align-elements-in-a-div-1657385504431">How can I vertically align elements in a div?</a><a href="/questions/how-do-i-properly-clean-up-excel-interop-objects-1657388329706">How do I properly clean up Excel interop objects?</a><a href="/questions/what-is-the-difference-between-a-definition-and-a-declaration-1657387851618">What is the difference between a definition and a declaration?</a><a href="/questions/how-do-i-make-git-forget-about-a-file-that-was-tracked-but-is-now-in-.gitignore-1657387328843">How do I make Git forget about a file that was tracked, but is now in .gitignore?</a><a href="/questions/safely-turning-a-json-string-into-an-object-1657388194824">Safely turning a JSON string into an object</a><a href="/questions/what-are-the-rules-for-javascript&#x27;s-automatic-semicolon-insertion-(asi)-1657387472789">What are the rules for JavaScript&#x27;s automatic semicolon insertion (ASI)?</a><a href="/questions/sort-array-of-objects-by-string-property-value-1657384860090">Sort array of objects by string property value</a><a href="/questions/how-can-i-merge-properties-of-two-javascript-objects-dynamically-1657387492535">How can I merge properties of two JavaScript objects dynamically?</a><a href="/questions/how-can-i-deserialize-json-with-c-1657388102941">How can I deserialize JSON with C#?</a><a href="/questions/why-do-regex-constructors-need-to-be-double-escaped-1657388004942">Why do regex constructors need to be double escaped?</a><a href="/questions/how-to-return-datasnapshot-value-as-a-result-of-a-method-1657387538165">How to return DataSnapshot value as a result of a method?</a><a href="/questions/what-is-the-canonical-way-to-check-for-errors-using-the-cuda-runtime-api-1657387302698">What is the canonical way to check for errors using the CUDA runtime API?</a><a href="/questions/how-do-i-undo-the-most-recent-local-commits-in-git-1657388262945">How do I undo the most recent local commits in Git?</a><a href="/questions/how-do-servlets-work-instantiation-sessions-shared-variables-and-multithreading-1657387540375">How do servlets work? Instantiation, sessions, shared variables and multithreading</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;Here\u0026apos;s some fun valid XML for you:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;!DOCTYPE x [ \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;!ENTITY y \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a]\u0026amp;gt;b\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt; ]\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026amp;amp;y;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026quot;\u0026lt;/span\u0026gt; /\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026amp;lt;![CDATA[[a\u0026amp;gt;b \u0026amp;lt;a\u0026amp;gt;b \u0026amp;lt;a]]\u0026amp;gt;\n    \u0026amp;lt;?x \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;\u0026amp;lt;!-- \u0026amp;lt;b\u0026amp;gt; ?\u0026amp;gt; c --\u0026amp;gt;\u0026lt;/span\u0026gt; d\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And this little bundle of joy is valid HTML:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php-template\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;!DOCTYPE \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;html\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;PUBLIC\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-//W3C//DTD HTML 4.01 Transitional//EN\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://www.w3.org/TR/html4/loose.dtd\u0026quot;\u0026lt;/span\u0026gt; [\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;!ENTITY % e \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;href=\u0026apos;hello\u0026apos;\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;!ENTITY e \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026amp;lt;a %e;\u0026amp;gt;\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n]\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;title\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;x\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;TITLE\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;head\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;  =  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;a:b\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;center\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt; / \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;hello\u0026lt;/span\u0026gt; \u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026amp;amp;amp\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;left\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;\u0026amp;lt;!---- \u0026amp;gt;t\u0026amp;lt;!---\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026amp;lt; --\u0026amp;gt;\n    \u0026amp;amp;e link \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;body\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Not to mention all the browser-specific parsing for invalid constructs.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Good luck pitting regex against that!\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;EDIT (Jörg W Mittag): Here is another nice piece of well-formed, valid HTML 4.01:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;!DOCTYPE \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;HTML\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;PUBLIC\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-//W3C//DTD HTML 4.01//EN\u0026quot;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://www.w3.org/TR/html4/strict.dtd\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt; \n\u0026amp;lt;HTML/\n  \u0026amp;lt;HEAD/\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;TITLE\u0026lt;/span\u0026gt;/\u0026amp;gt;\u0026lt;/span\u0026gt;/\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;P\u0026lt;/span\u0026gt;/\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Actually\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;img\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;src\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;imgtag.gif\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;alt\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026amp;lt;img\u0026amp;gt;\u0026quot;\u0026lt;/span\u0026gt; /\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;is not valid HTML, and is not valid XML either.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It is not valid XML because the \u0026apos;\u0026amp;lt;\u0026apos; and \u0026apos;\u0026amp;gt;\u0026apos; are not valid characters inside attribute strings. They need to be escaped using the corresponding XML entities \u0026amp;amp;lt; and \u0026amp;amp;gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It is not valid HTML either because the short closing form is not allowed in HTML (but is correct in XML and XHTML). The \u0026apos;img\u0026apos; tag is also an implicitly closed tag as per the HTML 4.01 specification. This means that manually closing it is actually wrong, and is equivalent to closing any other tag twice.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The correct version in HTML is\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;img\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;src\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;imgtag.gif\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;alt\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026amp;amp;lt;\u0026lt;/span\u0026gt;img\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026amp;amp;gt;\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;and the correct version in XHTML and XML is\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;img\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;src\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;imgtag.gif\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;alt\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026amp;amp;lt;\u0026lt;/span\u0026gt;img\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026amp;amp;gt;\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;/\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The following example you gave is also invalid\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-makefile\u0026quot;\u0026gt;\u0026amp;lt;\ntag\nattr=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;5\u0026quot;\u0026lt;/span\u0026gt;\n/\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This is not valid HTML or XML either. The name of the tag must be right behind the \u0026apos;\u0026amp;lt;\u0026apos;, although the attributes and the closing \u0026apos;\u0026amp;gt;\u0026apos; may be wherever they want. So the valid XML is actually\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;tag\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;attr\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;5\u0026quot;\u0026lt;/span\u0026gt;\n/\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And here\u0026apos;s another funkier one: you can actually choose to use either \u0026quot; or \u0026apos; as your attribute quoting character\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;img\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;src\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;image.gif\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;alt\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;This is single quoted AND valid!\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;All the other reasons that were posted are correct, but the biggest problem with parsing HTML is that people usually don\u0026apos;t understand all the syntax rules correctly. The fact that your browser interprets your tagsoup as HTML doesn\u0026apos;t means that you have actually written valid HTML.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Edit: And even stackoverflow.com agrees with me regarding the definition of valid and invalid. Your invalid XML/HTML is not highlighted, while my corrected version is.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Basically, XML is not made to be parsed with regexps. But there is also no reason to do so. There are many, many XML parsers for each and every language. You have the choice between SAX parsers, DOM parsers and Pull parsers. All of these are guaranteed to be much faster than parsing with a regexp and you may then use cool technologies like XPath or XSLT on the resulting DOM tree.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;My reply is therefore: not only is parsing XML with regexps hard, but it is also a bad idea. Just use one of the millions of existing XML parsers, and take advantage of all the advanced features of XML. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;HTML is just too hard to even try parsing on your own. First the legal syntax has many little subtleties that you may not be aware of, and second, HTML in the wild is just a huge stinking pile of (you get my drift). There are a variety of lax parser libraries that do a good job at handling HTML like tag soup, just use these.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I wrote an entire blog entry on this subject: \u0026lt;a href=\u0026quot;https://blog.paranoidcoding.com/2008/10/15/regular-expression-limitations.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Regular Expression Limitations\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The crux of the issue is that HTML and XML are recursive structures which require counting mechanisms in order to properly parse.  A true regex is not capable of counting.  You must have a context free grammar in order to count.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The previous paragraph comes with a slight caveat.  Certain regex implementations now support the idea of recursion.  However once you start adding recursion into your regex expressions, you are really stretching the boundaries and should consider a parser.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;One gotcha not on your list is that attributes can appear in any order, so if your regex is looking for a link with the href \u0026quot;foo\u0026quot; and the class \u0026quot;bar\u0026quot;, they can come in any order, and have any number of other things between them.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;It depends on what you mean by \u0026quot;parsing\u0026quot;. Generally speaking, XML cannot be parsed using regex since XML grammar is by no means regular. To put it simply, regexes cannot count (well, Perl regexes might actually be able to count things) so you cannot balance open-close tags.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Are people actually making a mistake by using a regex, or is it simply good enough for the task they\u0026apos;re trying to achieve?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I totally agree that parsing html and xml using a regex is not possible as other people have answered.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;However, if your requirement is not to parse html/xml but to just get at one small bit of data in a \u0026quot;known good\u0026quot; bit of html / xml then maybe a regular expression or even an even simpler \u0026quot;substring\u0026quot; is good enough.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I\u0026apos;m tempted to say \u0026quot;don\u0026apos;t re-invent the wheel\u0026quot;. Except that XML is a really, \u0026lt;em\u0026gt;really\u0026lt;/em\u0026gt; complex format. So maybe I should say \u0026quot;don\u0026apos;t reinvent the synchrotron.\u0026quot;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Perhaps the correct cliche starts \u0026quot;when all you have is a hammer...\u0026quot; You know how to use regular expressions, regular expression are good at parsing, so why bother to learn an XML parsing library?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Because parsing XML is \u0026lt;em\u0026gt;hard\u0026lt;/em\u0026gt;. Any effort you save by not having to learn to use an XML parsing library will be more than made up by the amount of creative work and bug-swatting you will have to do. For your own sake, google \u0026quot;XML library\u0026quot; and leverage somebody else\u0026apos;s work.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;People normally default to writing greedy patterns, often enough leading to an un-thought-through .* slurping large chunks of file into the largest possible \u0026amp;lt;foo\u0026amp;gt;.*\u0026amp;lt;/foo\u0026amp;gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I think the problems boil down to:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;The regex is almost invariably incorrect. There are legitimate inputs which it will fail to match correctly. If you work hard enough you can make it 99% correct, or 99.999%, but making it 100% correct is almost impossible, if only because of the weird things that XML allows by using entities.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;If the regex is incorrect, even for 0.00001% of inputs, then you have a security problem, because someone can discover the one input that will break your application.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;If the regex is correct enough to cover 99.99% of cases then it is going to be thoroughly unreadable and unmaintainable.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;It\u0026apos;s very likely that a regex will perform very badly on moderate-sized input files. My very first encounter with XML was to replace a Perl script that (incorrectly) parsed incoming XML documents with a proper XML parser, and we not only replaced 300 lines of unreadable code with 100 lines that anyone could understand, but we improved user response time from 10 seconds to about 0.1 seconds.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I believe \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\u0026quot;\u0026gt;this\u0026lt;/a\u0026gt; \u0026lt;strong\u0026gt;classic\u0026lt;/strong\u0026gt; has the information you are looking for. You can find the point in one of the comments there:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;I think the flaw here is that HTML is a Chomsky Type 2 grammar\n  (context free grammar) and RegEx is a Chomsky Type 3 grammar (regular\n  expression). \u0026lt;strong\u0026gt;Since a Type 2 grammar is fundamentally more complex than\n  a Type 3 grammar - you can\u0026apos;t possibly hope to make this work\u0026lt;/strong\u0026gt;. But many\n  will try, some will claim success and others will find the fault and\n  totally mess you up.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;Some more info from Wikipedia: \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Chomsky_hierarchy\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Chomsky Hierarchy\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I gave a simplified answer to this problem \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/33856224/3257871\u0026quot;\u0026gt;here\u0026lt;/a\u0026gt;.  While it doesn\u0026apos;t account for the 100% mark, I explain how it\u0026apos;s possible if you\u0026apos;re willing to do some pre-processing work.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Generally speaking, XML cannot be parsed using regex since XML grammar is by no means regular. To put it simply, regexes cannot count (well, Perl regexes might actually be able to count things) so you cannot balance open-close tags.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;I disagree. If you will use recursive in regex, you can easily find open and close tags.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/1692830/matching-pair-tag-with-regex/28369773#28369773\u0026quot;\u0026gt;Here\u0026lt;/a\u0026gt; I showed example of regex to avoid parsing errors of examples in first message.\u0026lt;/p\u0026gt;\n    "],"id":557,"title":"Can you provide some examples of why it is hard to parse XML and HTML with a regex? [closed]","content":"\n                    \u0026lt;div\u0026gt;\n            \u0026lt;aside class=\u0026quot;s-notice s-notice__info post-notice js-post-notice mb16\u0026quot; role=\u0026quot;status\u0026quot;\u0026gt;\n        \u0026lt;div class=\u0026quot;d-flex fd-column fw-nowrap\u0026quot;\u0026gt;\n            \u0026lt;div class=\u0026quot;d-flex fw-nowrap\u0026quot;\u0026gt;\n                \u0026lt;div class=\u0026quot;flex--item wmn0 fl1 lh-lg\u0026quot;\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item fl1 lh-lg\u0026quot;\u0026gt;\n                        \u0026lt;b\u0026gt;Closed\u0026lt;/b\u0026gt;. This question needs to be more \u0026lt;a href=\u0026quot;/help/closed-questions\u0026quot;\u0026gt;focused\u0026lt;/a\u0026gt;. It is not currently accepting answers.\n                        \n                    \u0026lt;/div\u0026gt;\n                \u0026lt;/div\u0026gt;\n            \u0026lt;/div\u0026gt;\n        \u0026lt;/div\u0026gt;\n            \u0026lt;hr class=\u0026quot;my12 outline-none baw0 bb bc-powder-400\u0026quot;\u0026gt;\n        \u0026lt;div class=\u0026quot;fw-nowrap fc-black-600\u0026quot;\u0026gt;\n            \u0026lt;div class=\u0026quot;d-flex fd-column lh-md\u0026quot;\u0026gt;\n                \u0026lt;div class=\u0026quot;mb0 d-flex\u0026quot;\u0026gt;\n                        \u0026lt;div class=\u0026quot;flex--item mr8\u0026quot;\u0026gt;\n                            \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;svg-icon iconLightbulb\u0026quot; width=\u0026quot;18\u0026quot; height=\u0026quot;18\u0026quot; viewBox=\u0026quot;0 0 18 18\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;M15 6.38A6.48 6.48 0 0 0 7.78.04h-.02A6.49 6.49 0 0 0 2.05 5.6a6.31 6.31 0 0 0 2.39 5.75c.49.39.76.93.76 1.5v.24c0 1.07.89 1.9 1.92 1.9h2.75c1.04 0 1.92-.83 1.92-1.9v-.2c0-.6.26-1.15.7-1.48A6.32 6.32 0 0 0 15 6.37ZM4.03 5.85A4.49 4.49 0 0 1 8 2.02a4.48 4.48 0 0 1 5 4.36 4.3 4.3 0 0 1-1.72 3.44c-.98.74-1.5 1.9-1.5 3.08v.1H7.2v-.14c0-1.23-.6-2.34-1.53-3.07a4.32 4.32 0 0 1-1.64-3.94ZM10 18a1 1 0 0 0 0-2H7a1 1 0 1 0 0 2h3Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                        \u0026lt;/div\u0026gt;\n                    \u0026lt;p\u0026gt;\u0026lt;b\u0026gt;Want to improve this question?\u0026lt;/b\u0026gt; Update the question so it focuses on one problem only by \u0026lt;a href=\u0026quot;/posts/701166/edit\u0026quot;\u0026gt;editing this post\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n                \u0026lt;/div\u0026gt;\n                    \u0026lt;div class=\u0026quot;mb0 mt6 d-flex\u0026quot;\u0026gt;\n                        \u0026lt;p class=\u0026quot;ml24 pl2\u0026quot;\u0026gt;Closed \u0026lt;span title=\u0026quot;2016-11-02 17:37:34Z\u0026quot; class=\u0026quot;relativetime\u0026quot;\u0026gt;5 years ago\u0026lt;/span\u0026gt;.\u0026lt;/p\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                \u0026lt;div class=\u0026quot;ml24 pl2\u0026quot;\u0026gt;\n\n                \u0026lt;/div\u0026gt;\n            \u0026lt;/div\u0026gt;\n        \u0026lt;/div\u0026gt;\n            \u0026lt;div class=\u0026quot;mt24 d-flex gsx gs8\u0026quot;\u0026gt;\n                    \u0026lt;a class=\u0026quot;s-btn s-btn__outlined flex--item js-post-notice-edit-post\u0026quot; href=\u0026quot;/posts/701166/edit\u0026quot;\u0026gt;\n                        Improve this question\n                    \u0026lt;/a\u0026gt;\n            \u0026lt;/div\u0026gt;\n\u0026lt;/aside\u0026gt;\n\n    \u0026lt;/div\u0026gt;\n\n\u0026lt;p\u0026gt;One mistake I see people making \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/699708/variable-order-regex-syntax\u0026quot;\u0026gt;over\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/457015/regular-expression-help\u0026quot;\u0026gt;over again\u0026lt;/a\u0026gt; is trying to parse XML or HTML with a regex.  Here are a few of the reasons parsing XML and HTML is hard:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;People want to treat a file as a sequence of lines, but this is valid:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;tag\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;attr\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;5\u0026quot;\u0026lt;/span\u0026gt;\n/\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;People want to treat \u0026amp;lt; or \u0026amp;lt;tag as the start of a tag, but stuff like this exists in the wild:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;img\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;src\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;imgtag.gif\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;alt\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026amp;lt;img\u0026amp;gt;\u0026quot;\u0026lt;/span\u0026gt; /\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;People often want to match starting tags to ending tags, but XML and HTML allow tags to contain themselves (which traditional regexes cannot handle at all):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;\u0026amp;lt;span \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;outer\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026amp;lt;span \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;inner\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;foo\u0026amp;lt;/span\u0026amp;gt;\u0026amp;lt;/span\u0026amp;gt; \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;People often want to match against the content of a document (such as the famous \u0026quot;find all phone numbers on a given page\u0026quot; problem), but the data may be marked up (even if it appears to be normal when viewed):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;phonenum\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;area code\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;703\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;prefix\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;348\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;linenum\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;3020\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Comments may contain poorly formatted or incomplete tags:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;href\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;foo\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;foo\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;\u0026amp;lt;!-- \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;FIXME:\u0026lt;/span\u0026gt;\n    \u0026amp;lt;a href=\u0026quot;\n--\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;href\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;bar\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;bar\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;What other gotchas are you aware of?\u0026lt;/p\u0026gt;\n    ","slug":"can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-regex-closed-1657388410824","postType":"QUESTION","createdAt":"2022-07-09T17:40:10.000Z","updatedAt":"2022-07-09T17:40:10.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"What is the difference between \"INNER JOIN\" and \"OUTER JOIN\"?","slug":"what-is-the-difference-between-\"inner-join\"-and-\"outer-join\"-1657387501982"},{"title":"How do I iterate over the words of a string?","slug":"how-do-i-iterate-over-the-words-of-a-string-1657384806129"},{"title":"Captured variable in a loop in C#","slug":"captured-variable-in-a-loop-in-c-1657387696779"},{"title":"AsyncTask Android example","slug":"asynctask-android-example-1657388127898"},{"title":"Where should I put \u003cscript\u003e tags in HTML markup?","slug":"where-should-i-put-lessscriptgreater-tags-in-html-markup-1657388350798"},{"title":"Is List\u003cDog\u003e a subclass of List\u003cAnimal\u003e? Why are Java generics not implicitly polymorphic?","slug":"is-listlessdoggreater-a-subclass-of-listlessanimalgreater-why-are-java-generics-not-implicitly-polymorphic-1657384766724"},{"title":"How can I vertically align elements in a div?","slug":"how-can-i-vertically-align-elements-in-a-div-1657385504431"},{"title":"How do I properly clean up Excel interop objects?","slug":"how-do-i-properly-clean-up-excel-interop-objects-1657388329706"},{"title":"What is the difference between a definition and a declaration?","slug":"what-is-the-difference-between-a-definition-and-a-declaration-1657387851618"},{"title":"How do I make Git forget about a file that was tracked, but is now in .gitignore?","slug":"how-do-i-make-git-forget-about-a-file-that-was-tracked-but-is-now-in-.gitignore-1657387328843"},{"title":"Safely turning a JSON string into an object","slug":"safely-turning-a-json-string-into-an-object-1657388194824"},{"title":"What are the rules for JavaScript's automatic semicolon insertion (ASI)?","slug":"what-are-the-rules-for-javascript's-automatic-semicolon-insertion-(asi)-1657387472789"},{"title":"Sort array of objects by string property value","slug":"sort-array-of-objects-by-string-property-value-1657384860090"},{"title":"How can I merge properties of two JavaScript objects dynamically?","slug":"how-can-i-merge-properties-of-two-javascript-objects-dynamically-1657387492535"},{"title":"How can I deserialize JSON with C#?","slug":"how-can-i-deserialize-json-with-c-1657388102941"},{"title":"Why do regex constructors need to be double escaped?","slug":"why-do-regex-constructors-need-to-be-double-escaped-1657388004942"},{"title":"How to return DataSnapshot value as a result of a method?","slug":"how-to-return-datasnapshot-value-as-a-result-of-a-method-1657387538165"},{"title":"What is the canonical way to check for errors using the CUDA runtime API?","slug":"what-is-the-canonical-way-to-check-for-errors-using-the-cuda-runtime-api-1657387302698"},{"title":"How do I undo the most recent local commits in Git?","slug":"how-do-i-undo-the-most-recent-local-commits-in-git-1657388262945"},{"title":"How do servlets work? Instantiation, sessions, shared variables and multithreading","slug":"how-do-servlets-work-instantiation-sessions-shared-variables-and-multithreading-1657387540375"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-regex-closed-1657388410824"},"buildId":"eGqQHYKGZKE-nXShFn8wX","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>