<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find the solution to any question. We focus on finding the fastest possible solution for users. Main topics like coding, learning. - solutionschecker.com"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><link name="keywords" content="solutions checker, solution checker, how to, solution for, check for solution, resolve question, what is, what solution for, find solution"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://solutionschecker.com","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://solutionschecker.com/questions","name":"Questions"}},{"@type":"ListItem","position":3,"item":{"@id":"https://solutionschecker.com/questions/why-shouldn&apos;t-i-use-mysql_*-functions-in-php-1657384260352","name":"Questions"}}]}</script><title>Why shouldn&#x27;t I use mysql_* functions in PHP? | Solution Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="
            
        
            
                    
                        
                    
                
                    
                        Want to improve this post? Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.
                        
                    
                
            
        


    

What are the technical reasons for why one shouldn&#x27;t use mysql_* functions? (e.g. mysql_query(), mysql_connect() or mysql_real_escape_string())?

Why should I use something else even if they work on my site?

If they don&#x27;t work on my site, why do I get errors like 


  Warning: mysql_connect(): No such file or directory

    "/><meta property="og:title" content="Why shouldn&#x27;t I use mysql_* functions in PHP? | Solution Checker"/><meta property="og:description" content="
            
        
            
                    
                        
                    
                
                    
                        Want to improve this post? Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.
                        
                    
                
            
        


    

What are the technical reasons for why one shouldn&#x27;t use mysql_* functions? (e.g. mysql_query(), mysql_connect() or mysql_real_escape_string())?

Why should I use something else even if they work on my site?

If they don&#x27;t work on my site, why do I get errors like 


  Warning: mysql_connect(): No such file or directory

    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"Why shouldn&apos;t I use mysql_* functions in PHP?","text":"\n            \n        \n            \n                    \n                        \n                    \n                \n                    \n                        Want to improve this post? Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.\n                        \n                    \n                \n            \n        \n\n\n    \n\nWhat are the technical reasons for why one shouldn&apos;t use mysql_* functions? (e.g. mysql_query(), mysql_connect() or mysql_real_escape_string())?\n\nWhy should I use something else even if they work on my site?\n\nIf they don&apos;t work on my site, why do I get errors like \n\n\n  Warning: mysql_connect(): No such file or directory\n\n    ","answerCount":14,"upVoteCount":500,"suggestedAnswer":[{"text":"The MySQL extension:\n\n\nIs not under active development\nIs officially deprecated as of PHP 5.5 (released June 2013).\nHas been removed entirely as of PHP 7.0 (released December 2015)\n\n\nThis means that as of 31 Dec 2018 it does not exist in any supported version of PHP. If you are using a version of PHP which supports it, you are using a version which doesn&apos;t get security problems fixed.\n\nLacks an OO interface\nDoesn&apos;t support:\n\n\nNon-blocking, asynchronous queries\nPrepared statements or parameterized queries\nStored procedures\nMultiple Statements\nTransactions\nThe &quot;new&quot; password authentication method (on by default in MySQL 5.6; required in 5.7)\nAny of the new functionality in MySQL 5.1 or later\n\n\n\nSince it is deprecated, using it makes your code less future proof. \n\nLack of support for prepared statements is particularly important as they provide a clearer, less error-prone method of escaping and quoting external data than manually escaping it with a separate function call.\n\nSee the comparison of SQL extensions.\n    ","url":"https://solutionschecker.com/questions/why-shouldn&apos;t-i-use-mysql_*-functions-in-php-1657384260352#solution1","@type":"Answer","upvoteCount":0},{"text":"PHP offers three different APIs to connect to MySQL. These are the mysql(removed as of PHP 7), mysqli, and PDO extensions.\n\nThe mysql_* functions used to be very popular, but their use is not encouraged anymore. The documentation team is discussing the database security situation, and educating users to move away from the commonly used ext/mysql extension is part of this (check php.internals: deprecating ext/mysql).\n\nAnd the later PHP developer team has taken the decision to generate E_DEPRECATED errors when users connect to MySQL, whether through mysql_connect(), mysql_pconnect() or the implicit connection functionality built into ext/mysql.\n\next/mysql was officially deprecated as of PHP 5.5 and has been removed as of PHP 7.\n\nSee the Red Box?\n\nWhen you go on any mysql_* function manual page, you see a red box, explaining it should not be used anymore.\n\nWhy\n\n\n\nMoving away from ext/mysql is not only about security, but also about having access to all the features of the MySQL database.\n\next/mysql was built for MySQL 3.23 and only got very few additions since then while mostly keeping compatibility with this old version which makes the code a bit harder to maintain. Missing features that is not supported by ext/mysql include: (from PHP manual).\n\n\nStored procedures (can&apos;t handle multiple result sets)\nPrepared statements\nEncryption (SSL)\nCompression\nFull Charset support\n\n\nReason to not use mysql_* function:\n\n\nNot under active development\nRemoved as of PHP 7\nLacks an OO interface\nDoesn&apos;t support non-blocking, asynchronous queries\nDoesn&apos;t support prepared statements or parameterized queries\nDoesn&apos;t support stored procedures\nDoesn&apos;t support multiple statements\nDoesn&apos;t support transactions\nDoesn&apos;t support all of the functionality in MySQL 5.1\n\n\nAbove point quoted from Quentin&apos;s answer\n\nLack of support for prepared statements is particularly important as they provide a clearer, less error prone method of escaping and quoting external data than manually escaping it with a separate function call.\n\nSee the comparison of SQL extensions.\n\n\n\nSuppressing deprecation warnings\n\nWhile code is being converted to MySQLi/PDO, E_DEPRECATED errors can be suppressed by setting error_reporting in php.ini to exclude E_DEPRECATED:\n\nerror_reporting = E_ALL ^ E_DEPRECATED\n\n\nNote that this will also hide other deprecation warnings, which, however, may be for things other than MySQL. (from PHP manual)\n\nThe article PDO vs. MySQLi: Which Should You Use? by Dejan Marjanovic will help you to choose.\n\nAnd a better way is PDO, and I am now writing a simple PDO tutorial.\n\n\n\nA simple and short PDO tutorial\n\n\n\nQ. First question in my mind was: what is `PDO`?\n\nA. PDO  PHP Data Objects  is a database access layer providing a uniform method of access to multiple databases.\n\n\n  \n\n\n\n\nConnecting to MySQL \n\nWith mysql_* function or we can say it the old way (deprecated in PHP 5.5 and above)\n\n$link = mysql_connect(&apos;localhost&apos;, &apos;user&apos;, &apos;pass&apos;);\nmysql_select_db(&apos;testdb&apos;, $link);\nmysql_set_charset(&apos;UTF-8&apos;, $link);\n\n\nWith PDO: All you need to do is create a new PDO object. The constructor accepts parameters for specifying the database source PDO&apos;s constructor mostly takes four parameters which are DSN (data source name) and  optionally username, password.\n\nHere I think you are familiar with all except DSN; this is new in PDO. A DSN is basically a string of options that tell PDO which driver to use, and connection details. For further reference, check PDO MySQL DSN.\n\n$db = new PDO(&apos;mysql:host=localhost;dbname=testdb;charset=utf8&apos;, &apos;username&apos;, &apos;password&apos;);\n\n\nNote: you can also use charset=UTF-8, but sometimes it causes an error, so it&apos;s better to use utf8.\n\nIf there is any connection error, it will throw a PDOException object that can be caught to handle Exception further.\n\nGood read: Connections and Connection management ¶ \n\nYou can also pass in several driver options as an array to the fourth parameter. I recommend passing the parameter which puts PDO into exception mode. Because some PDO drivers don&apos;t support native prepared statements, so PDO performs emulation of the prepare. It also lets you manually enable this emulation. To use the native server-side prepared statements, you should explicitly set it false.\n\nThe other is to turn off prepare emulation which is enabled in the MySQL driver by default, but prepare emulation should be turned off to use PDO safely. \n\nI will later explain why prepare emulation should be turned off. To find reason please check this post.\n\nIt is only usable if you are using an old version of MySQL which I do not recommended.\n\nBelow is an example of how you can do it:\n\n$db = new PDO(&apos;mysql:host=localhost;dbname=testdb;charset=UTF-8&apos;, \n              &apos;username&apos;, \n              &apos;password&apos;,\n              array(PDO::ATTR_EMULATE_PREPARES =&gt; false,\n              PDO::ATTR_ERRMODE =&gt; PDO::ERRMODE_EXCEPTION));\n\n\nCan we set attributes after PDO construction?\n\nYes, we can also set some attributes after PDO construction with the setAttribute method:\n\n$db = new PDO(&apos;mysql:host=localhost;dbname=testdb;charset=UTF-8&apos;, \n              &apos;username&apos;, \n              &apos;password&apos;);\n$db-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n$db-&gt;setAttribute(PDO::ATTR_EMULATE_PREPARES, false);\n\n\nError Handling \n\n\n\nError handling is much easier in PDO than mysql_*.\n\nA common practice when using mysql_* is:\n\n//Connected to MySQL\n$result = mysql_query(&quot;SELECT * FROM table&quot;, $link) or die(mysql_error($link));\n\n\nOR die() is not a good way to handle the error since we can not handle the thing in die. It will just end the script abruptly and then echo the error to the screen which you usually do NOT want to show to your end users, and let bloody hackers discover your schema. Alternately, the return values of mysql_* functions can often be used in conjunction with mysql_error() to handle errors.\n\nPDO offers a better solution: exceptions. Anything we do with PDO should be wrapped in a try-catch block. We can force PDO into one of three error modes by setting the error mode attribute. Three error handling modes are below.\n\n\nPDO::ERRMODE_SILENT. It&apos;s just setting error codes and acts pretty much the same as mysql_* where you must check each result and then look at $db-&gt;errorInfo(); to get the error details.\nPDO::ERRMODE_WARNING Raise E_WARNING. (Run-time warnings (non-fatal errors). Execution of the script is not halted.)\nPDO::ERRMODE_EXCEPTION: Throw exceptions. It represents an error raised by PDO. You should not throw a PDOException from your own code. See Exceptions for more information about exceptions in PHP. It acts very much like or die(mysql_error());, when it isn&apos;t caught. But unlike or die(), the PDOException can be caught and handled gracefully if you choose to do so.\n\n\nGood read:\n\n\nErrors and error handling ¶\nThe PDOException class ¶\nExceptions ¶\n\n\nLike:\n\n$stmt-&gt;setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_SILENT );\n$stmt-&gt;setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_WARNING );\n$stmt-&gt;setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION );\n\n\nAnd you can wrap it in try-catch, like below:\n\ntry {\n    //Connect as appropriate as above\n    $db-&gt;query(&apos;hi&apos;); //Invalid query!\n} \ncatch (PDOException $ex) {\n    echo &quot;An Error occured!&quot;; //User friendly message/message you want to show to user\n    some_logging_function($ex-&gt;getMessage());\n}\n\n\nYou do not have to handle with try-catch right now. You can catch it at any time appropriate, but I strongly recommend you to use try-catch. Also it may make more sense to catch it at outside the function that calls the PDO stuff:\n\nfunction data_fun($db) {\n    $stmt = $db-&gt;query(&quot;SELECT * FROM table&quot;);\n    return $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);\n}\n\n//Then later\ntry {\n    data_fun($db);\n}\ncatch(PDOException $ex) {\n    //Here you can handle error and show message/perform action you want.\n}\n\n\nAlso, you can handle by or die() or we can say like mysql_*, but it will be really varied. You can hide the dangerous error messages in production by turning display_errors off and just reading your error log.\n\nNow, after reading all the things above, you are probably thinking: what the heck is that when I just want to start leaning simple SELECT, INSERT, UPDATE, or DELETE statements? Don&apos;t worry, here we go:\n\n\n\nSelecting Data\n\n\n\nSo what you are doing in mysql_* is:\n\n&lt;?php\n$result = mysql_query(&apos;SELECT * from table&apos;) or die(mysql_error());\n\n$num_rows = mysql_num_rows($result);\n\nwhile($row = mysql_fetch_assoc($result)) {\n    echo $row[&apos;field1&apos;];\n}\n\n\nNow in PDO, you can do this like:\n\n&lt;?php\n$stmt = $db-&gt;query(&apos;SELECT * FROM table&apos;);\n\nwhile($row = $stmt-&gt;fetch(PDO::FETCH_ASSOC)) {\n    echo $row[&apos;field1&apos;];\n}\n\n\nOr\n\n&lt;?php\n$stmt = $db-&gt;query(&apos;SELECT * FROM table&apos;);\n$results = $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);\n\n//Use $results\n\n\nNote: If you are using the method like below (query()), this method returns a PDOStatement object. So if you want to fetch the result, use it like above.\n\n&lt;?php\nforeach($db-&gt;query(&apos;SELECT * FROM table&apos;) as $row) {\n    echo $row[&apos;field1&apos;];\n}\n\n\nIn PDO Data, it is obtained via the -&gt;fetch(), a method of your statement handle. Before calling fetch, the best approach would be telling PDO how youd like the data to be fetched. In the below section I am explaining this.\n\nFetch Modes\n\nNote the use of PDO::FETCH_ASSOC in the fetch() and fetchAll() code above. This tells PDO to return the rows as an associative array with the field names as keys. There are many other fetch modes too which I will explain one by one.\n\nFirst of all, I explain how to select fetch mode:\n\n $stmt-&gt;fetch(PDO::FETCH_ASSOC)\n\n\nIn the above, I have been using fetch(). You can also use:\n\n\nPDOStatement::fetchAll() - Returns an array containing all of the result set rows\nPDOStatement::fetchColumn() - Returns a single column from the next row of a result set\nPDOStatement::fetchObject() - Fetches the next row and returns it as an object.\nPDOStatement::setFetchMode() - Set the default fetch mode for this statement\n\n\nNow I come to fetch mode:\n\n\nPDO::FETCH_ASSOC: returns an array indexed by column name as returned in your result set\nPDO::FETCH_BOTH (default): returns an array indexed by both column name and 0-indexed column number as returned in your result set\n\n\nThere are even more choices! Read about them all in PDOStatement Fetch documentation..\n\nGetting the row count:\n\nInstead of using mysql_num_rows to get the number of returned rows, you can get a PDOStatement and do rowCount(), like:\n\n&lt;?php\n$stmt = $db-&gt;query(&apos;SELECT * FROM table&apos;);\n$row_count = $stmt-&gt;rowCount();\necho $row_count.&apos; rows selected&apos;;\n\n\nGetting the Last Inserted ID\n\n&lt;?php\n$result = $db-&gt;exec(&quot;INSERT INTO table(firstname, lastname) VAULES(&apos;John&apos;, &apos;Doe&apos;)&quot;);\n$insertId = $db-&gt;lastInsertId();\n\n\n\n\nInsert and Update or Delete statements\n\n\n\nWhat we are doing in mysql_* function is:\n\n&lt;?php\n$results = mysql_query(&quot;UPDATE table SET field=&apos;value&apos;&quot;) or die(mysql_error());\necho mysql_affected_rows($result);\n\n\nAnd in pdo, this same thing can be done by:\n\n&lt;?php\n$affected_rows = $db-&gt;exec(&quot;UPDATE table SET field=&apos;value&apos;&quot;);\necho $affected_rows;\n\n\nIn the above query PDO::exec execute an SQL statement and returns the number of affected rows.\n\nInsert and delete will be covered later.\n\nThe above method is only useful when you are not using variable in query. But when you need to use a variable in a query, do not ever ever try like the above and there for  prepared statement or parameterized statement is.\n\n\n\nPrepared Statements\n\nQ. What is a prepared statement and why do I need them?\nA. A prepared statement is a pre-compiled SQL statement that can be executed multiple times by sending only the data to the server.\n\nThe typical workflow of using a prepared statement is as follows (quoted from Wikipedia three 3 point):\n\n\nPrepare: The statement template is created by the application and sent to the database management system (DBMS). Certain values are left unspecified, called parameters, placeholders or bind variables (labelled ? below):\n\nINSERT INTO PRODUCT (name, price) VALUES (?, ?)\nThe DBMS parses, compiles, and performs query optimization on the statement template, and stores the result without executing it.\nExecute: At a later time, the application supplies (or binds) values for the parameters, and the DBMS executes the statement (possibly returning a result). The application may execute the statement as many times as it wants with different values. In this example, it might supply &apos;Bread&apos; for the first parameter and 1.00 for the second parameter.\n\n\nYou can use a prepared statement by including placeholders in your SQL. There are basically three ones without placeholders (don&apos;t try this with variable its above one), one with unnamed placeholders, and one with named placeholders.\n\nQ. So now, what are named placeholders and how do I use them?\nA. Named placeholders. Use descriptive names preceded by a colon, instead of question marks. We don&apos;t care about position/order of value in name place holder:\n\n $stmt-&gt;bindParam(&apos;:bla&apos;, $bla);\n\n\nbindParam(parameter,variable,data_type,length,driver_options)\n\nYou can also bind using an execute array as well:\n\n&lt;?php\n$stmt = $db-&gt;prepare(&quot;SELECT * FROM table WHERE id=:id AND name=:name&quot;);\n$stmt-&gt;execute(array(&apos;:name&apos; =&gt; $name, &apos;:id&apos; =&gt; $id));\n$rows = $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);\n\n\nAnother nice feature for OOP friends is that named placeholders have the ability to insert objects directly into your database, assuming the properties match the named fields. For example:\n\nclass person {\n    public $name;\n    public $add;\n    function __construct($a,$b) {\n        $this-&gt;name = $a;\n        $this-&gt;add = $b;\n    }\n\n}\n$demo = new person(&apos;john&apos;,&apos;29 bla district&apos;);\n$stmt = $db-&gt;prepare(&quot;INSERT INTO table (name, add) value (:name, :add)&quot;);\n$stmt-&gt;execute((array)$demo);\n\n\nQ. So now, what are unnamed placeholders and how do I use them?\nA. Let&apos;s have an example:\n\n&lt;?php\n$stmt = $db-&gt;prepare(&quot;INSERT INTO folks (name, add) values (?, ?)&quot;);\n$stmt-&gt;bindValue(1, $name, PDO::PARAM_STR);\n$stmt-&gt;bindValue(2, $add, PDO::PARAM_STR);\n$stmt-&gt;execute();\n\n\nand\n\n$stmt = $db-&gt;prepare(&quot;INSERT INTO folks (name, add) values (?, ?)&quot;);\n$stmt-&gt;execute(array(&apos;john&apos;, &apos;29 bla district&apos;));\n\n\nIn the above, you can see those ? instead of a name like in a name place holder. Now in the first example, we assign variables to the various placeholders ($stmt-&gt;bindValue(1, $name, PDO::PARAM_STR);). Then, we assign values to those placeholders and execute the statement. In the second example, the first array element goes to the first ? and the second to the second ?.\n\nNOTE: In unnamed placeholders we must take care of the proper order of the elements in the array that we are passing to the PDOStatement::execute() method.\n\n\n\nSELECT, INSERT, UPDATE, DELETE prepared queries\n\n\nSELECT:\n\n$stmt = $db-&gt;prepare(&quot;SELECT * FROM table WHERE id=:id AND name=:name&quot;);\n$stmt-&gt;execute(array(&apos;:name&apos; =&gt; $name, &apos;:id&apos; =&gt; $id));\n$rows = $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);\n\nINSERT:\n\n$stmt = $db-&gt;prepare(&quot;INSERT INTO table(field1,field2) VALUES(:field1,:field2)&quot;);\n$stmt-&gt;execute(array(&apos;:field1&apos; =&gt; $field1, &apos;:field2&apos; =&gt; $field2));\n$affected_rows = $stmt-&gt;rowCount();\n\nDELETE:\n\n$stmt = $db-&gt;prepare(&quot;DELETE FROM table WHERE id=:id&quot;);\n$stmt-&gt;bindValue(&apos;:id&apos;, $id, PDO::PARAM_STR);\n$stmt-&gt;execute();\n$affected_rows = $stmt-&gt;rowCount();\n\nUPDATE:\n\n$stmt = $db-&gt;prepare(&quot;UPDATE table SET name=? WHERE id=?&quot;);\n$stmt-&gt;execute(array($name, $id));\n$affected_rows = $stmt-&gt;rowCount();\n\n\n\n\n\nNOTE:\n\nHowever PDO and/or MySQLi are not completely safe. Check the answer Are PDO prepared statements sufficient to prevent SQL injection? by ircmaxell. Also, I am quoting some part from his answer:\n\n$pdo-&gt;setAttribute(PDO::ATTR_EMULATE_PREPARES, false);\n$pdo-&gt;query(&apos;SET NAMES GBK&apos;);\n$stmt = $pdo-&gt;prepare(&quot;SELECT * FROM test WHERE name = ? LIMIT 1&quot;);\n$stmt-&gt;execute(array(chr(0xbf) . chr(0x27) . &quot; OR 1=1 /*&quot;));\n\n    ","url":"https://solutionschecker.com/questions/why-shouldn&apos;t-i-use-mysql_*-functions-in-php-1657384260352#solution2","@type":"Answer","upvoteCount":0},{"text":"First, let&apos;s begin with the standard comment we give everyone: \n\n\n  Please, don&apos;t use mysql_* functions in new code. They are no longer maintained and are officially deprecated. See the red box? Learn about prepared statements instead, and use PDO or MySQLi - this article will help you decide which. If you choose PDO, here is a good tutorial.\n\n\nLet&apos;s go through this, sentence by sentence, and explain:\n\n\nThey are no longer maintained, and are officially deprecated\n\nThis means that the PHP community is gradually dropping support for these very old functions. They are likely to not exist in a future (recent) version of PHP! Continued use of these functions may break your code in the (not so) far future.\n\nNEW! - ext/mysql is now officially deprecated as of PHP 5.5!\n\nNewer! ext/mysql has been removed in PHP 7.\nInstead, you should learn of prepared statements\n\nmysql_* extension does not support prepared statements, which is (among other things) a very effective countermeasure against SQL Injection. It fixed a very serious vulnerability in MySQL dependent applications which allows attackers to gain access to your script and perform any possible query on your database.\n\nFor more information, see How can I prevent SQL injection in PHP?\nSee the Red Box?\n\nWhen you go to any mysql function manual page, you see a red box, explaining it should not be used anymore.\nUse either PDO or MySQLi\n\nThere are better, more robust and well-built alternatives, PDO - PHP Database Object, which offers a complete OOP approach to database interaction, and MySQLi, which is a MySQL specific improvement.\n\n    ","url":"https://solutionschecker.com/questions/why-shouldn&apos;t-i-use-mysql_*-functions-in-php-1657384260352#solution3","@type":"Answer","upvoteCount":0},{"text":"Ease of use\n\nThe analytic and synthetic reasons were already mentioned. For newcomers there&apos;s a more significant incentive to stop using the dated mysql_ functions. \n\nContemporary database APIs are just easier to use.\n\nIt&apos;s mostly the bound parameters which can simplify code. And with excellent tutorials (as seen above) the transition to PDO isn&apos;t overly arduous.\n\nRewriting a larger code base at once however takes time. Raison d&apos;être for this intermediate alternative:\n\nEquivalent pdo_* functions in place of mysql_*\n\nUsing &lt;pdo_mysql.php&gt; you can switch from the old mysql_ functions with minimal effort. It adds pdo_ function wrappers which replace their mysql_ counterparts.\n\n\nSimply include_once(&quot;pdo_mysql.php&quot;); in each invocation script that has to interact with the database.\n\nRemove the mysql_ function prefix everywhere and replace it with pdo_.\n\n\nmysql_connect() becomes pdo_connect()\nmysql_query() becomes pdo_query()\nmysql_num_rows() becomes pdo_num_rows()\nmysql_insert_id() becomes pdo_insert_id()\nmysql_fetch_array() becomes pdo_fetch_array()\nmysql_fetch_assoc() becomes pdo_fetch_assoc()\nmysql_real_escape_string() becomes pdo_real_escape_string()\nand so on...   \n\nYour code will work alike and still mostly look the same:\n\ninclude_once(&quot;pdo_mysql.php&quot;); \n\npdo_connect(&quot;localhost&quot;, &quot;usrABC&quot;, &quot;pw1234567&quot;);\npdo_select_db(&quot;test&quot;);\n\n$result = pdo_query(&quot;SELECT title, html FROM pages&quot;);  \n\nwhile ($row = pdo_fetch_assoc($result)) {\n    print &quot;$row[title] - $row[html]&quot;;\n}\n\n\n\nEt voilà.\nYour code is using PDO.\nNow it&apos;s time to actually utilize it.  \n\nBound parameters can be easy to use\n\n\n\nYou just need a less unwieldy API.\n\npdo_query() adds very facile support for bound parameters. Converting old code is straightforward:\n\n\n\nMove your variables out of the SQL string.\n\n\nAdd them as comma delimited function parameters to pdo_query().\nPlace question marks ? as placeholders where the variables were before.\nGet rid of &apos; single quotes that previously enclosed string values/variables.\n\n\nThe advantage becomes more obvious for lengthier code.\n\nOften string variables aren&apos;t just interpolated into SQL, but concatenated with escaping calls in between.\n\npdo_query(&quot;SELECT id, links, html, title, user, date FROM articles\n   WHERE title=&apos;&quot; . pdo_real_escape_string($title) . &quot;&apos; OR id=&apos;&quot;.\n   pdo_real_escape_string($title) . &quot;&apos; AND user &lt;&gt; &apos;&quot; .\n   pdo_real_escape_string($root) . &quot;&apos; ORDER BY date&quot;)\n\n\nWith ? placeholders applied you don&apos;t have to bother with that:\n\npdo_query(&quot;SELECT id, links, html, title, user, date FROM articles\n   WHERE title=? OR id=? AND user&lt;&gt;? ORDER BY date&quot;, $title, $id, $root)\n\n\nRemember that pdo_* still allows either or.\nJust don&apos;t escape a variable and bind it in the same query.\n\n\nThe placeholder feature is provided by the real PDO behind it.\nThus also allowed :named placeholder lists later.\n\n\nMore importantly you can pass $_REQUEST[] variables safely behind any query. When submitted &lt;form&gt; fields match the database structure exactly it&apos;s even shorter:\n\npdo_query(&quot;INSERT INTO pages VALUES (?,?,?,?,?)&quot;, $_POST);\n\n\nSo much simplicity. But let&apos;s get back to some more rewriting advises and technical reasons on why you may want to get rid of mysql_ and escaping.\n\nFix or remove any oldschool sanitize() function\n\nOnce you have converted all mysql_ calls to pdo_query with bound params, remove all redundant pdo_real_escape_string calls.\n\nIn particular you should fix any sanitize or clean or filterThis or clean_data functions as advertised by dated tutorials in one form or the other:\n\nfunction sanitize($str) {\n   return trim(strip_tags(htmlentities(pdo_real_escape_string($str))));\n}\n\n\nMost glaring bug here is the lack of documentation. More significantly the order of filtering was in exactly the wrong order.\n\n\nCorrect order would have been: deprecatedly stripslashes as the innermost call, then trim, afterwards strip_tags, htmlentities for output context, and only lastly the _escape_string as its application should directly preceed the SQL intersparsing.\nBut as first step just get rid of the _real_escape_string call.\nYou may have to keep the rest of your sanitize() function for now if your database and application flow expect HTML-context-safe strings. Add a comment that it applies only HTML escaping henceforth.\nString/value handling is delegated to PDO and its parameterized statements.\nIf there was any mention of stripslashes() in your sanitize function, it may indicate a higher level oversight.\n\n\nThat was commonly there to undo damage (double escaping) from the deprecated magic_quotes. Which however is best fixed centrally, not string by string.\nUse one of the userland reversal approaches. Then remove the stripslashes() in the sanitize function.\n\n\n\n  Historic note on magic_quotes. That feature is rightly deprecated. It&apos;s often incorrectly portrayed as failed security feature however. But magic_quotes are as much a failed security feature as tennis balls have failed as nutrition source. That simply wasn&apos;t their purpose.\n  \n  The original implementation in PHP2/FI introduced it explicitly with just &quot;quotes will be automatically escaped making it easier to pass form data directly to msql queries&quot;. Notably it was accidentially safe to use with mSQL, as that supported ASCII only.\n  Then PHP3/Zend reintroduced magic_quotes for MySQL and misdocumented it. But originally it was just a convenience feature, not intend for security. \n\n\n\nHow prepared statements differ\n\nWhen you scramble string variables into the SQL queries, it doesn&apos;t just get more intricate for you to follow. It&apos;s also extraneous effort for MySQL to segregate code and data again.\n\n\n\nSQL injections simply are when data bleeds into code context. A database server can&apos;t later spot where PHP originally glued variables inbetween query clauses.\n\nWith bound parameters you separate SQL code and SQL-context values in your PHP code. But it doesn&apos;t get shuffled up again behind the scenes (except with PDO::EMULATE_PREPARES). Your database receives the unvaried SQL commands and 1:1 variable values.\n\n\n\nWhile this answer stresses that you should care about the readability advantages of dropping mysql_. There&apos;s occasionally also a performance advantage (repeated INSERTs with just differing values) due to this visible and technical data/code separation. \n\nBeware that parameter binding still isn&apos;t a magic one-stop solution against all SQL injections. It handles the most common use for data/values. But can&apos;t whitelist column name / table identifiers, help with dynamic clause construction, or just plain array value lists.\n\nHybrid PDO use\n\nThese pdo_* wrapper functions make a coding-friendly stop-gap API. (It&apos;s pretty much what MYSQLI could have been if it wasn&apos;t for the idiosyncratic function signature shift). They also expose the real PDO at most times.\nRewriting doesn&apos;t have to stop at using the new pdo_ function names. You could one by one transition each pdo_query() into a plain $pdo-&gt;prepare()-&gt;execute() call.\n\nIt&apos;s best to start at simplifying again however. For example the common result fetching:\n\n$result = pdo_query(&quot;SELECT * FROM tbl&quot;);\nwhile ($row = pdo_fetch_assoc($result)) {\n\n\nCan be replaced with just an foreach iteration:\n\nforeach ($result as $row) {\n\n\nOr better yet a direct and complete array retrieval:\n\n$result-&gt;fetchAll();\n\n\nYou&apos;ll get more helpful warnings in most cases than PDO or mysql_ usually provide after failed queries.\n\nOther options\n\nSo this hopefully visualized some practical reasons and a worthwile pathway to drop mysql_.\n\nJust switching to pdo doesn&apos;t quite cut it. pdo_query() is also just a frontend onto it.\n\nUnless you also introduce parameter binding or can utilize something else from the nicer API, it&apos;s a pointless switch. I hope it&apos;s portrayed simple enough to not further the discouragement to newcomers. (Education usually works better than prohibition.)\n\nWhile it qualifies for the simplest-thing-that-could-possibly-work category, it&apos;s also still very experimental code. I just wrote it over the weekend. There&apos;s a plethora of alternatives however. Just google for PHP database abstraction and browse a little. There always have been and will be lots of excellent libraries for such tasks.\n\nIf you want to simplify your database interaction further, mappers like Paris/Idiorm are worth a try. Just like nobody uses the bland DOM in JavaScript anymore, you don&apos;t have to babysit a raw database interface nowadays.\n    ","url":"https://solutionschecker.com/questions/why-shouldn&apos;t-i-use-mysql_*-functions-in-php-1657384260352#solution4","@type":"Answer","upvoteCount":0},{"text":"The mysql_ functions:\n\n\nare out of date - they&apos;re not maintained any more\ndon&apos;t allow you to move easily to another database backend\ndon&apos;t support prepared statements, hence\nencourage programmers to use concatenation to build queries, leading to SQL injection vulnerabilities\n\n    ","url":"https://solutionschecker.com/questions/why-shouldn&apos;t-i-use-mysql_*-functions-in-php-1657384260352#solution5","@type":"Answer","upvoteCount":0},{"text":"Speaking of technical reasons, there are only a few, extremely specific and rarely used. Most likely you will never ever use them in your life.\nMaybe I am too ignorant, but I never had an opportunity to use them things like \n\n\nnon-blocking, asynchronous queries\nstored procedures returning multiple resultsets\nEncryption (SSL)\nCompression\n\n\nIf you need them - these are no doubt technical reasons to move away from mysql extension toward something more stylish and modern-looking.\n\nNevertheless, there are also some non-technical issues, which can make your experience a bit harder\n\n\nfurther use of these functions with modern PHP versions will raise deprecated-level notices. They simply can be turned off.\nin a distant future, they can be possibly removed from the default PHP build. Not a big deal too, as mydsql ext will be moved into PECL and every hoster will be happy to compile PHP with it, as they don&apos;t want to lose clients whose sites were working for decades.   \nstrong resistance from Stackoverflow community. Еverytime you mention these honest functions, you being told that they are under strict taboo.\nbeing an average PHP user, most likely your idea of using these functions is error-prone and wrong. Just because of all these numerous tutorials and manuals which teach you the wrong way. Not the functions themselves - I have to emphasize it - but the way they are used.\n\n\nThis latter issue is a problem.\nBut, in my opinion, the proposed solution is no better either.\nIt seems to me too idealistic a dream that all those PHP users will learn how to handle SQL queries properly at once. Most likely they would just change mysql_* to mysqli_* mechanically, leaving the approach the same. Especially because mysqli makes prepared statements usage incredible painful and troublesome.\nNot to mention that native prepared statements aren&apos;t enough to protect from SQL injections, and neither mysqli nor PDO offers a solution. \n\nSo, instead of fighting this honest extension, I&apos;d prefer to fight wrong practices and educate people in the right ways. \n\nAlso, there are some false or non-significant reasons, like\n\n\nDoesn&apos;t support Stored Procedures (we were using mysql_query(&quot;CALL my_proc&quot;); for ages)\nDoesn&apos;t support Transactions (same as above)\nDoesn&apos;t support Multiple Statements (who need them?)\nNot under active development (so what? does it affect you in any practical way?)\nLacks an OO interface (to create one is a matter of several hours)\nDoesn&apos;t support Prepared Statements or Parametrized Queries\n\n\nThe last one is an interesting point. Although mysql ext do not support native prepared statements, they aren&apos;t required for the safety. We can easily fake prepared statements using manually handled placeholders (just like PDO does):\n\nfunction paraQuery()\n{\n    $args  = func_get_args();\n    $query = array_shift($args);\n    $query = str_replace(&quot;%s&quot;,&quot;&apos;%s&apos;&quot;,$query); \n\n    foreach ($args as $key =&gt; $val)\n    {\n        $args[$key] = mysql_real_escape_string($val);\n    }\n\n    $query  = vsprintf($query, $args);\n    $result = mysql_query($query);\n    if (!$result)\n    {\n        throw new Exception(mysql_error().&quot; [$query]&quot;);\n    }\n    return $result;\n}\n\n$query  = &quot;SELECT * FROM table where a=%s AND b LIKE %s LIMIT %d&quot;;\n$result = paraQuery($query, $a, &quot;%$b%&quot;, $limit);\n\n\nvoila, everything is parameterized and safe.\n\nBut okay, if you don&apos;t like the red box in the manual, a problem of choice arises: mysqli or PDO?\n\nWell, the answer would be as follows:\n\n\nIf you understand the necessity of using a database abstraction layer and looking for an API to create one, mysqli is a very good choice, as it indeed supports many mysql-specific features.\nIf, like vast majority of PHP folks, you are using raw API calls right in the application code (which is essentially wrong practice) - PDO is the only choice, as this extension pretends to be not just API but rather a semi-DAL, still incomplete but offers many important features, with two of them makes PDO critically distinguished from mysqli:\n\n\nunlike mysqli, PDO can bind placeholders by value, which makes dynamically built queries feasible without several screens of quite messy code.\nunlike mysqli, PDO can always return query result in a simple usual array, while mysqli can do it only on mysqlnd installations.\n\n\n\nSo, if you are an average PHP user and want to save yourself a ton of headaches when using native prepared statements, PDO - again - is the only choice.\nHowever, PDO is not a silver bullet too and has its hardships.\nSo, I wrote solutions for all the common pitfalls and complex cases in the PDO tag wiki\n\nNevertheless, everyone talking about extensions always missing the 2 important facts about Mysqli and PDO:\n\n\nPrepared statement isn&apos;t a silver bullet. There are dynamical identifiers which cannot be bound using prepared statements. There are dynamical queries with an unknown number of parameters which makes query building a difficult task.\nNeither mysqli_* nor PDO functions should have appeared in the application code.\nThere ought to be an abstraction layer between them and application code, which will do all the dirty job of binding, looping, error handling, etc. inside, making application code DRY and clean. Especially for the complex cases like dynamical query building.\n\n\nSo, just switching to PDO or mysqli is not enough. One has to use an ORM, or a query builder, or whatever database abstraction class instead of calling raw API functions in their code.\nAnd contrary - if you have an abstraction layer between your application code and mysql API - it doesn&apos;t actually matter which engine is used. You can use mysql ext until it goes deprecated and then easily rewrite your abstraction class to another engine, having all the application code intact.\n\nHere are some examples based on my safemysql class to show how such an abstraction class ought to be:\n\n$city_ids = array(1,2,3);\n$cities   = $db-&gt;getCol(&quot;SELECT name FROM cities WHERE is IN(?a)&quot;, $city_ids);\n\n\nCompare this one single line with amount of code you will need with PDO.\nThen compare with crazy amount of code you will need with raw Mysqli prepared statements.\nNote that error handling, profiling, query logging already built in and running.\n\n$insert = array(&apos;name&apos; =&gt; &apos;John&apos;, &apos;surname&apos; =&gt; &quot;O&apos;Hara&quot;);\n$db-&gt;query(&quot;INSERT INTO users SET ?u&quot;, $insert);\n\n\nCompare it with usual PDO inserts, when every single field name being repeated six to ten times - in all these numerous named placeholders, bindings, and query definitions.\n\nAnother example:\n\n$data = $db-&gt;getAll(&quot;SELECT * FROM goods ORDER BY ?n&quot;, $_GET[&apos;order&apos;]);\n\n\nYou can hardly find an example for PDO to handle such practical case.\nAnd it will be too wordy and most likely unsafe.    \n\nSo, once more - it is not just raw driver should be your concern but abstraction class, useful not only for silly examples from beginner&apos;s manual but to solve whatever real-life problems. \n    ","url":"https://solutionschecker.com/questions/why-shouldn&apos;t-i-use-mysql_*-functions-in-php-1657384260352#solution6","@type":"Answer","upvoteCount":0},{"text":"There are many reasons, but perhaps the most important one is that those functions encourage insecure programming practices because they do not support prepared statements. Prepared statements help prevent SQL injection attacks.\n\nWhen using mysql_* functions, you have to remember to run user-supplied parameters through mysql_real_escape_string(). If you forget in just one place or if you happen to escape only part of the input, your database may be subject to attack.\n\nUsing prepared statements in PDO or mysqli will make it so that these sorts of programming errors are more difficult to make.\n    ","url":"https://solutionschecker.com/questions/why-shouldn&apos;t-i-use-mysql_*-functions-in-php-1657384260352#solution7","@type":"Answer","upvoteCount":0},{"text":"Because (amongst other reasons) it&apos;s much harder to ensure the input data is sanitized. If you use parametrized queries, as one does with PDO or mysqli you can entirely avoid the risk.\n\nAs an example, someone could use &quot;enhzflep); drop table users&quot; as a username. The old functions will allow executing multiple statements per query, so something like that nasty bugger can delete a whole table.\n\nIf one were to use PDO of mysqli, the user-name would end-up being &quot;enhzflep); drop table users&quot;.\n\nSee bobby-tables.com.\n    ","url":"https://solutionschecker.com/questions/why-shouldn&apos;t-i-use-mysql_*-functions-in-php-1657384260352#solution8","@type":"Answer","upvoteCount":0},{"text":"This answer is written to show just how trivial it is to bypass poorly written PHP user-validation code, how (and using what) these attacks work and how to replace the old MySQL functions with a secure prepared statement - and basically, why StackOverflow users (probably with a lot of rep) are barking at new users asking questions to improve their code.\nFirst off, please feel free to create this test mysql database (I have called mine prep):\nmysql&gt; create table users(\n    -&gt; id int(2) primary key auto_increment,\n    -&gt; userid tinytext,\n    -&gt; pass tinytext);\nQuery OK, 0 rows affected (0.05 sec)\n\nmysql&gt; insert into users values(null, &apos;Fluffeh&apos;, &apos;mypass&apos;);\nQuery OK, 1 row affected (0.04 sec)\n\nmysql&gt; create user &apos;prepared&apos;@&apos;localhost&apos; identified by &apos;example&apos;;\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; grant all privileges on prep.* to &apos;prepared&apos;@&apos;localhost&apos; with grant option;\nQuery OK, 0 rows affected (0.00 sec)\n\nWith that done, we can move to our PHP code.\nLets assume the following script is the verification process for an admin on a website (simplified but working if you copy and use it for testing):\n&lt;?php \n\n    if(!empty($_POST[&apos;user&apos;]))\n    {\n        $user=$_POST[&apos;user&apos;];\n    }   \n    else\n    {\n        $user=&apos;bob&apos;;\n    }\n    if(!empty($_POST[&apos;pass&apos;]))\n    {\n        $pass=$_POST[&apos;pass&apos;];\n    }\n    else\n    {\n        $pass=&apos;bob&apos;;\n    }\n    \n    $database=&apos;prep&apos;;\n    $link=mysql_connect(&apos;localhost&apos;, &apos;prepared&apos;, &apos;example&apos;);\n    mysql_select_db($database) or die( &quot;Unable to select database&quot;);\n\n    $sql=&quot;select id, userid, pass from users where userid=&apos;$user&apos; and pass=&apos;$pass&apos;&quot;;\n    //echo $sql.&quot;&lt;br&gt;&lt;br&gt;&quot;;\n    $result=mysql_query($sql);\n    $isAdmin=false;\n    while ($row = mysql_fetch_assoc($result)) {\n        echo &quot;My id is &quot;.$row[&apos;id&apos;].&quot; and my username is &quot;.$row[&apos;userid&apos;].&quot; and lastly, my password is &quot;.$row[&apos;pass&apos;].&quot;&lt;br&gt;&quot;;\n        $isAdmin=true;\n        // We have correctly matched the Username and Password\n        // Lets give this person full access\n    }\n    if($isAdmin)\n    {\n        echo &quot;The check passed. We have a verified admin!&lt;br&gt;&quot;;\n    }\n    else\n    {\n        echo &quot;You could not be verified. Please try again...&lt;br&gt;&quot;;\n    }\n    mysql_close($link);\n\n?&gt;\n\n&lt;form name=&quot;exploited&quot; method=&apos;post&apos;&gt;\n    User: &lt;input type=&apos;text&apos; name=&apos;user&apos;&gt;&lt;br&gt;\n    Pass: &lt;input type=&apos;text&apos; name=&apos;pass&apos;&gt;&lt;br&gt;\n    &lt;input type=&apos;submit&apos;&gt;\n&lt;/form&gt;\n\nSeems legit enough at first glance.\nThe user has to enter a login and password, right?\nBrilliant, now enter the following:\nuser: bob\npass: somePass\n\nand submit it.\nThe output is as follows:\nYou could not be verified. Please try again...\n\nSuper! Working as expected, now lets try the actual username and password:\nuser: Fluffeh\npass: mypass\n\nAmazing! Hi-fives all round, the code correctly verified an admin. It&apos;s perfect!\nWell, not really. Lets say the user is a clever little person. Lets say the person is me.\nEnter in the following:\nuser: bob\npass: n&apos; or 1=1 or &apos;m=m\n\nAnd the output is:\nThe check passed. We have a verified admin!\n\nCongrats, you just allowed me to enter your super-protected admins only section with me entering a false username and a false password. Seriously, if you don&apos;t believe me, create the database with the code I provided, and run this PHP code - which at glance REALLY does seem to verify the username and password rather nicely.\nSo, in answer, THAT IS WHY YOU ARE BEING YELLED AT.\nSo, lets have a look at what went wrong, and why I just got into your super-admin-only-bat-cave. I took a guess and assumed that you weren&apos;t being careful with your inputs and simply passed them to the database directly. I constructed the input in a way tht would CHANGE the query that you were actually running. So, what was it supposed to be, and what did it end up being?\nselect id, userid, pass from users where userid=&apos;$user&apos; and pass=&apos;$pass&apos;\n\nThat&apos;s the query, but when we replace the variables with the actual inputs that we used, we get the following:\nselect id, userid, pass from users where userid=&apos;bob&apos; and pass=&apos;n&apos; or 1=1 or &apos;m=m&apos;\n\nSee how I constructed my &quot;password&quot; so that it would first close the single quote around the password, then introduce a completely new comparison? Then just for safety, I added another &quot;string&quot; so that the single quote would get closed as expected in the code we originally had.\nHowever, this isn&apos;t about folks yelling at you now, this is about showing you how to make your code more secure.\nOkay, so what went wrong, and how can we fix it?\nThis is a classic SQL injection attack. One of the simplest for that matter. On the scale of attack vectors, this is a toddler attacking a tank - and winning.\nSo, how do we protect your sacred admin section and make it nice and secure? The first thing to do will be to stop using those really old and deprecated mysql_* functions. I know, you followed a tutorial you found online and it works, but it&apos;s old, it&apos;s outdated and in the space of a few minutes, I have just broken past it without so much as breaking a sweat.\nNow, you have the better options of using mysqli_ or PDO. I am personally a big fan of PDO, so I will be using PDO in the rest of this answer. There are pro&apos;s and con&apos;s, but personally I find that the pro&apos;s far outweigh the con&apos;s. It&apos;s portable across multiple database engines - whether you are using MySQL or Oracle or just about bloody anything - just by changing the connection string, it has all the fancy features we want to use and it is nice and clean. I like clean.\nNow, lets have a look at that code again, this time written using a PDO object:\n&lt;?php \n\n    if(!empty($_POST[&apos;user&apos;]))\n    {\n        $user=$_POST[&apos;user&apos;];\n    }   \n    else\n    {\n        $user=&apos;bob&apos;;\n    }\n    if(!empty($_POST[&apos;pass&apos;]))\n    {\n        $pass=$_POST[&apos;pass&apos;];\n    }\n    else\n    {\n        $pass=&apos;bob&apos;;\n    }\n    $isAdmin=false;\n    \n    $database=&apos;prep&apos;;\n    $pdo=new PDO (&apos;mysql:host=localhost;dbname=prep&apos;, &apos;prepared&apos;, &apos;example&apos;);\n    $sql=&quot;select id, userid, pass from users where userid=:user and pass=:password&quot;;\n    $myPDO = $pdo-&gt;prepare($sql, array(PDO::ATTR_CURSOR =&gt; PDO::CURSOR_FWDONLY));\n    if($myPDO-&gt;execute(array(&apos;:user&apos; =&gt; $user, &apos;:password&apos; =&gt; $pass)))\n    {\n        while($row=$myPDO-&gt;fetch(PDO::FETCH_ASSOC))\n        {\n            echo &quot;My id is &quot;.$row[&apos;id&apos;].&quot; and my username is &quot;.$row[&apos;userid&apos;].&quot; and lastly, my password is &quot;.$row[&apos;pass&apos;].&quot;&lt;br&gt;&quot;;\n            $isAdmin=true;\n            // We have correctly matched the Username and Password\n            // Lets give this person full access\n        }\n    }\n    \n    if($isAdmin)\n    {\n        echo &quot;The check passed. We have a verified admin!&lt;br&gt;&quot;;\n    }\n    else\n    {\n        echo &quot;You could not be verified. Please try again...&lt;br&gt;&quot;;\n    }\n\n?&gt;\n\n&lt;form name=&quot;exploited&quot; method=&apos;post&apos;&gt;\n    User: &lt;input type=&apos;text&apos; name=&apos;user&apos;&gt;&lt;br&gt;\n    Pass: &lt;input type=&apos;text&apos; name=&apos;pass&apos;&gt;&lt;br&gt;\n    &lt;input type=&apos;submit&apos;&gt;\n&lt;/form&gt;\n\nThe major differences are that there are no more mysql_* functions. It&apos;s all done via a PDO object, secondly, it is using a prepared statement. Now, what&apos;s a prepared statement you ask? It&apos;s a way to tell the database ahead of running a query, what the query is that we are going to run. In this case, we tell the database: &quot;Hi, I am going to run a select statement wanting id, userid and pass from the table users where the userid is a variable and the pass is also a variable.&quot;.\nThen, in the execute statement, we pass the database an array with all the variables that it now expects.\nThe results are fantastic. Lets try those username and password combinations from before again:\nuser: bob\npass: somePass\n\nUser wasn&apos;t verified. Awesome.\nHow about:\nuser: Fluffeh\npass: mypass\n\nOh, I just got a little excited, it worked: The check passed. We have a verified admin!\nNow, lets try the data that a clever chap would enter to try to get past our little verification system:\nuser: bob\npass: n&apos; or 1=1 or &apos;m=m\n\nThis time, we get the following:\nYou could not be verified. Please try again...\n\nThis is why you are being yelled at when posting questions - it&apos;s because people can see that your code can be bypassed wihout even trying. Please, do use this question and answer to improve your code, to make it more secure and to use functions that are current.\nLastly, this isn&apos;t to say that this is PERFECT code. There are many more things that you could do to improve it, use hashed passwords for example, ensure that when you store sensitive information in the database, you don&apos;t store it in plain text, have multiple levels of verification - but really, if you just change your old injection prone code to this, you will be WELL along the way to writing good code - and the fact that you have gotten this far and are still reading gives me a sense of hope that you will not only implement this type of code when writing your websites and applications, but that you might go out and research those other things I just mentioned - and more. Write the best code you can, not the most basic code that barely functions.\n    ","url":"https://solutionschecker.com/questions/why-shouldn&apos;t-i-use-mysql_*-functions-in-php-1657384260352#solution9","@type":"Answer","upvoteCount":0},{"text":"The MySQL extension is the oldest of the three and was the original way that developers used to communicate with MySQL. This extension is now being deprecated in favor of the other two alternatives because of improvements made in newer releases of both PHP and MySQL.\n\n\nMySQLi is the &apos;improved&apos; extension for working with MySQL databases. It takes advantage of features that are available in newer versions of the MySQL server, exposes both a function-oriented and an object-oriented interface to the developer and a does few other nifty things.\nPDO offers an API that consolidates most of the functionality that was previously spread across the major database access extensions, i.e. MySQL, PostgreSQL, SQLite, MSSQL, etc. The interface exposes high-level objects for the programmer to work with database connections, queries and result sets, and low-level drivers perform communication and resource handling with the database server. A lot of discussion and work is going into PDO and its considered the appropriate method of working with databases in modern, professional code.\n\n    ","url":"https://solutionschecker.com/questions/why-shouldn&apos;t-i-use-mysql_*-functions-in-php-1657384260352#solution10","@type":"Answer","upvoteCount":0},{"text":"I find the above answers really lengthy, so to summarize:\n\n\n  The mysqli extension has a number of\n  benefits, the key enhancements over\n  the mysql extension being:\n  \n  \n  Object-oriented interface\n  Support for Prepared Statements\n  Support for Multiple Statements\n  Support for Transactions\n  Enhanced debugging capabilities\n  Embedded server support\n  \n\n\nSource: MySQLi overview\n\n\n\nAs explained in the above answers, the alternatives to mysql are mysqli and PDO (PHP Data Objects).\n\n\nAPI supports server-side Prepared Statements: Supported by MYSQLi and PDO\nAPI supports client-side Prepared Statements: Supported only by PDO\nAPI supports Stored Procedures: Both MySQLi and PDO\nAPI supports Multiple Statements and all MySQL 4.1+ functionality - Supported by MySQLi and mostly also by PDO\n\n\nBoth MySQLi and PDO were introduced in PHP 5.0, whereas MySQL was introduced prior to PHP 3.0. A point to note is that MySQL is included in PHP5.x though deprecated in later versions. \n    ","url":"https://solutionschecker.com/questions/why-shouldn&apos;t-i-use-mysql_*-functions-in-php-1657384260352#solution11","@type":"Answer","upvoteCount":0},{"text":"It&apos;s possible to define almost all mysql_* functions using mysqli or PDO. Just include them on top of your old PHP application, and it will work on PHP7. My solution here.\n\n&lt;?php\n\ndefine(&apos;MYSQL_LINK&apos;, &apos;dbl&apos;);\n$GLOBALS[MYSQL_LINK] = null;\n\nfunction mysql_link($link=null) {\n    return ($link === null) ? $GLOBALS[MYSQL_LINK] : $link;\n}\n\nfunction mysql_connect($host, $user, $pass) {\n    $GLOBALS[MYSQL_LINK] = mysqli_connect($host, $user, $pass);\n    return $GLOBALS[MYSQL_LINK];\n}\n\nfunction mysql_pconnect($host, $user, $pass) {\n    return mysql_connect($host, $user, $pass);\n}\n\nfunction mysql_select_db($db, $link=null) {\n    $link = mysql_link($link);\n    return mysqli_select_db($link, $db);\n}\n\nfunction mysql_close($link=null) {\n    $link = mysql_link($link);\n    return mysqli_close($link);\n}\n\nfunction mysql_error($link=null) {\n    $link = mysql_link($link);\n    return mysqli_error($link);\n}\n\nfunction mysql_errno($link=null) {\n    $link = mysql_link($link);\n    return mysqli_errno($link);\n}\n\nfunction mysql_ping($link=null) {\n    $link = mysql_link($link);\n    return mysqli_ping($link);\n}\n\nfunction mysql_stat($link=null) {\n    $link = mysql_link($link);\n    return mysqli_stat($link);\n}\n\nfunction mysql_affected_rows($link=null) {\n    $link = mysql_link($link);\n    return mysqli_affected_rows($link);\n}\n\nfunction mysql_client_encoding($link=null) {\n    $link = mysql_link($link);\n    return mysqli_character_set_name($link);\n}\n\nfunction mysql_thread_id($link=null) {\n    $link = mysql_link($link);\n    return mysqli_thread_id($link);\n}\n\nfunction mysql_escape_string($string) {\n    return mysql_real_escape_string($string);\n}\n\nfunction mysql_real_escape_string($string, $link=null) {\n    $link = mysql_link($link);\n    return mysqli_real_escape_string($link, $string);\n}\n\nfunction mysql_query($sql, $link=null) {\n    $link = mysql_link($link);\n    return mysqli_query($link, $sql);\n}\n\nfunction mysql_unbuffered_query($sql, $link=null) {\n    $link = mysql_link($link);\n    return mysqli_query($link, $sql, MYSQLI_USE_RESULT);\n}\n\nfunction mysql_set_charset($charset, $link=null){\n    $link = mysql_link($link);\n    return mysqli_set_charset($link, $charset);\n}\n\nfunction mysql_get_host_info($link=null) {\n    $link = mysql_link($link);\n    return mysqli_get_host_info($link);\n}\n\nfunction mysql_get_proto_info($link=null) {\n    $link = mysql_link($link);\n    return mysqli_get_proto_info($link);\n}\nfunction mysql_get_server_info($link=null) {\n    $link = mysql_link($link);\n    return mysqli_get_server_info($link);\n}\n\nfunction mysql_info($link=null) {\n    $link = mysql_link($link);\n    return mysqli_info($link);\n}\n\nfunction mysql_get_client_info() {\n    $link = mysql_link();\n    return mysqli_get_client_info($link);\n}\n\nfunction mysql_create_db($db, $link=null) {\n    $link = mysql_link($link);\n    $db = str_replace(&apos;`&apos;, &apos;&apos;, mysqli_real_escape_string($link, $db));\n    return mysqli_query($link, &quot;CREATE DATABASE `$db`&quot;);\n}\n\nfunction mysql_drop_db($db, $link=null) {\n    $link = mysql_link($link);\n    $db = str_replace(&apos;`&apos;, &apos;&apos;, mysqli_real_escape_string($link, $db));\n    return mysqli_query($link, &quot;DROP DATABASE `$db`&quot;);\n}\n\nfunction mysql_list_dbs($link=null) {\n    $link = mysql_link($link);\n    return mysqli_query($link, &quot;SHOW DATABASES&quot;);\n}\n\nfunction mysql_list_fields($db, $table, $link=null) {\n    $link = mysql_link($link);\n    $db = str_replace(&apos;`&apos;, &apos;&apos;, mysqli_real_escape_string($link, $db));\n    $table = str_replace(&apos;`&apos;, &apos;&apos;, mysqli_real_escape_string($link, $table));\n    return mysqli_query($link, &quot;SHOW COLUMNS FROM `$db`.`$table`&quot;);\n}\n\nfunction mysql_list_tables($db, $link=null) {\n    $link = mysql_link($link);\n    $db = str_replace(&apos;`&apos;, &apos;&apos;, mysqli_real_escape_string($link, $db));\n    return mysqli_query($link, &quot;SHOW TABLES FROM `$db`&quot;);\n}\n\nfunction mysql_db_query($db, $sql, $link=null) {\n    $link = mysql_link($link);\n    mysqli_select_db($link, $db);\n    return mysqli_query($link, $sql);\n}\n\nfunction mysql_fetch_row($qlink) {\n    return mysqli_fetch_row($qlink);\n}\n\nfunction mysql_fetch_assoc($qlink) {\n    return mysqli_fetch_assoc($qlink);\n}\n\nfunction mysql_fetch_array($qlink, $result=MYSQLI_BOTH) {\n    return mysqli_fetch_array($qlink, $result);\n}\n\nfunction mysql_fetch_lengths($qlink) {\n    return mysqli_fetch_lengths($qlink);\n}\n\nfunction mysql_insert_id($qlink) {\n    return mysqli_insert_id($qlink);\n}\n\nfunction mysql_num_rows($qlink) {\n    return mysqli_num_rows($qlink);\n}\n\nfunction mysql_num_fields($qlink) {\n    return mysqli_num_fields($qlink);\n}\n\nfunction mysql_data_seek($qlink, $row) {\n    return mysqli_data_seek($qlink, $row);\n}\n\nfunction mysql_field_seek($qlink, $offset) {\n    return mysqli_field_seek($qlink, $offset);\n}\n\nfunction mysql_fetch_object($qlink, $class=&quot;stdClass&quot;, array $params=null) {\n    return ($params === null)\n        ? mysqli_fetch_object($qlink, $class)\n        : mysqli_fetch_object($qlink, $class, $params);\n}\n\nfunction mysql_db_name($qlink, $row, $field=&apos;Database&apos;) {\n    mysqli_data_seek($qlink, $row);\n    $db = mysqli_fetch_assoc($qlink);\n    return $db[$field];\n}\n\nfunction mysql_fetch_field($qlink, $offset=null) {\n    if ($offset !== null)\n        mysqli_field_seek($qlink, $offset);\n    return mysqli_fetch_field($qlink);\n}\n\nfunction mysql_result($qlink, $offset, $field=0) {\n    if ($offset !== null)\n        mysqli_field_seek($qlink, $offset);\n    $row = mysqli_fetch_array($qlink);\n    return (!is_array($row) || !isset($row[$field]))\n        ? false\n        : $row[$field];\n}\n\nfunction mysql_field_len($qlink, $offset) {\n    $field = mysqli_fetch_field_direct($qlink, $offset);\n    return is_object($field) ? $field-&gt;length : false;\n}\n\nfunction mysql_field_name($qlink, $offset) {\n    $field = mysqli_fetch_field_direct($qlink, $offset);\n    if (!is_object($field))\n        return false;\n    return empty($field-&gt;orgname) ? $field-&gt;name : $field-&gt;orgname;\n}\n\nfunction mysql_field_table($qlink, $offset) {\n    $field = mysqli_fetch_field_direct($qlink, $offset);\n    if (!is_object($field))\n        return false;\n    return empty($field-&gt;orgtable) ? $field-&gt;table : $field-&gt;orgtable;\n}\n\nfunction mysql_field_type($qlink, $offset) {\n    $field = mysqli_fetch_field_direct($qlink, $offset);\n    return is_object($field) ? $field-&gt;type : false;\n}\n\nfunction mysql_free_result($qlink) {\n    try {\n        mysqli_free_result($qlink);\n    } catch (Exception $e) {\n        return false;\n    }\n    return true;\n}\n\n    ","url":"https://solutionschecker.com/questions/why-shouldn&apos;t-i-use-mysql_*-functions-in-php-1657384260352#solution12","@type":"Answer","upvoteCount":0},{"text":"Don&apos;t use mysql because is deprecated use Mysqli Instead.\nWhat Deprecated Means:\nIt means don&apos;t use some specific function/method/software feature/particular software practice it just means that it should not be used because there is (or there will be) a better alternative in that software that should be used instead.\nSeveral common issues can arise when using deprecated functions:\n1. Functions just flat-out stop working: Applications or scripts might rely on functions that are simply no longer supported, Thus use their improved versions or alternative.\n2. Warning messages display about deprecation: These messages dont normally interfere with site functionality. However, in some cases, they might disrupt the process of the server sending headers.\nFor Example: This can cause login issues (cookies/sessions dont get set properly) or forwarding issues (301/302/303 redirects).\nkeep in mind that:\n-Deprecated software is still a part of the software.\n-Deprecated code is just a status (label) of the code.\nKey Differences in MYSQL vs MYSQLI\nmysql*\n\nold database driver\nMySQL can only be used procedurally\nNo protection from SQL injection attack\nWas deprecated in PHP 5.5.0 and was removed in PHP 7\n\nmysqli\n\nnew database driver\nCurrently under usage\nprepared statements protect from attacks\n\n    ","url":"https://solutionschecker.com/questions/why-shouldn&apos;t-i-use-mysql_*-functions-in-php-1657384260352#solution13","@type":"Answer","upvoteCount":0},{"text":"There is no need to update if you are sure you don&apos;t want to upgrade php version , But at the same time you won&apos;t get security updates too which will make your website more vulnerable to hackers that&apos;s the main reason.\n    ","url":"https://solutionschecker.com/questions/why-shouldn&apos;t-i-use-mysql_*-functions-in-php-1657384260352#solution14","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="22"/><script id="google-analytics" data-nscript="beforeInteractive">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NXVLL8B');</script><link rel="preload" href="/_next/static/css/c116652e2d6f4ad0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c116652e2d6f4ad0.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-862498b6ec7885c3.js" defer=""></script><script src="/_next/static/chunks/294-106ef8570fa99deb.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-47289857226115f9.js" defer=""></script><script src="/_next/static/xZs8haGjOP63QuDE0kxeX/_buildManifest.js" defer=""></script><script src="/_next/static/xZs8haGjOP63QuDE0kxeX/_ssgManifest.js" defer=""></script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NXVLL8B"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h1 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h1></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/why-shouldn&#x27;t-i-use-mysql_*-functions-in-php-1657384260352#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/why-shouldn&#x27;t-i-use-mysql_*-functions-in-php-1657384260352"><h1>Why shouldn&#x27;t I use mysql_* functions in PHP?</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"></div></div><div class="question-content mt-5">
                    <div>
            <aside class="s-notice s-notice__info post-notice js-post-notice mb16" role="status">
        <div class="d-flex fd-column fw-nowrap">
            <div class="d-flex fw-nowrap">
                    <div class="flex--item mr8">
                        <svg aria-hidden="true" class="svg-icon iconLightbulb" width="18" height="18" viewBox="0 0 18 18"><path d="M15 6.38A6.48 6.48 0 0 0 7.78.04h-.02A6.49 6.49 0 0 0 2.05 5.6a6.31 6.31 0 0 0 2.39 5.75c.49.39.76.93.76 1.5v.24c0 1.07.89 1.9 1.92 1.9h2.75c1.04 0 1.92-.83 1.92-1.9v-.2c0-.6.26-1.15.7-1.48A6.32 6.32 0 0 0 15 6.37ZM4.03 5.85A4.49 4.49 0 0 1 8 2.02a4.48 4.48 0 0 1 5 4.36 4.3 4.3 0 0 1-1.72 3.44c-.98.74-1.5 1.9-1.5 3.08v.1H7.2v-.14c0-1.23-.6-2.34-1.53-3.07a4.32 4.32 0 0 1-1.64-3.94ZM10 18a1 1 0 0 0 0-2H7a1 1 0 1 0 0 2h3Z"></path></svg>
                    </div>
                <div class="flex--item wmn0 fl1 lh-lg">
                    <div class="flex--item fl1 lh-lg">
                        <b>Want to improve this post?</b> Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.
                        
                    </div>
                </div>
            </div>
        </div>
</aside>

    </div>

<p>What are the technical reasons for why one shouldn't use <code>mysql_*</code> functions? (e.g. <code>mysql_query()</code>, <code>mysql_connect()</code> or <code>mysql_real_escape_string()</code>)?</p>

<p>Why should I use something else even if they work on my site?</p>

<p>If they don't work on my site, why do I get errors like </p>

<blockquote>
  <p>Warning: mysql_connect(): No such file or directory</p>
</blockquote>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><h1 class="text-lg font-semibold mb-5">Navigate to solutions: </h1><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 1</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The MySQL extension:</p>

<ul>
<li>Is not under active development</li>
<li>Is <strong>officially <a href="https://wiki.php.net/rfc/mysql_deprecation" rel="noreferrer">deprecated</a></strong> as of PHP 5.5 (released June 2013).</li>
<li>Has been <strong><a href="https://wiki.php.net/rfc/remove_deprecated_functionality_in_php7#extmysql" rel="noreferrer">removed</a> entirely</strong> as of PHP 7.0 (released December 2015)

<ul>
<li>This means that as of <a href="https://www.php.net/eol.php" rel="noreferrer">31 Dec 2018</a> it does not exist in any supported version of PHP. If you are using a version of PHP which supports it, you are using a version which doesn't get security problems fixed.</li>
</ul></li>
<li>Lacks an OO interface</li>
<li>Doesn't support:

<ul>
<li>Non-blocking, asynchronous queries</li>
<li><strong><a href="http://php.net/manual/en/mysqli.quickstart.prepared-statements.php" rel="noreferrer">Prepared statements</a> or parameterized queries</strong></li>
<li>Stored procedures</li>
<li>Multiple Statements</li>
<li>Transactions</li>
<li>The "new" password authentication method (on by default in MySQL 5.6; required in 5.7)</li>
<li>Any of the new functionality in MySQL 5.1 or later</li>
</ul></li>
</ul>

<p>Since it is deprecated, using it makes your code less future proof. </p>

<p>Lack of support for prepared statements is particularly important as they provide a clearer, less error-prone method of escaping and quoting external data than manually escaping it with a separate function call.</p>

<p>See <a href="http://php.net/manual/en/mysqlinfo.api.choosing.php" rel="noreferrer"><strong>the comparison of SQL extensions</strong></a>.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 2</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>PHP offers three different APIs to connect to MySQL. These are the <a href="http://in1.php.net/manual/en/book.mysql.php" rel="noreferrer"><code>mysql</code></a>(removed as of PHP 7), <a href="http://uk.php.net/manual/en/book.mysqli.php" rel="noreferrer"><code>mysqli</code></a>, and <a href="http://php.net/manual/en/book.pdo.php" rel="noreferrer"><code>PDO</code></a> extensions.</p>

<p>The <code>mysql_*</code> functions used to be very popular, but their use is not encouraged anymore. The documentation team is discussing the database security situation, and educating users to move away from the commonly used ext/mysql extension is part of this (check <em><a href="http://news.php.net/php.internals/53799" rel="noreferrer">php.internals: deprecating ext/mysql</a></em>).</p>

<p>And the later PHP developer team has taken the decision to generate <a href="https://github.com/php/php-src/commit/b7091aaf0137d97cf4aa4a402ec50b3946d369c0" rel="noreferrer"><strong><code>E_DEPRECATED</code></strong></a> errors when users connect to MySQL, whether through <code>mysql_connect()</code>, <code>mysql_pconnect()</code> or the implicit connection functionality built into <code>ext/mysql</code>.</p>

<p><strong><code>ext/mysql</code></strong> was <a href="https://wiki.php.net/rfc/mysql_deprecation" rel="noreferrer"><strong>officially deprecated as of PHP 5.5</strong></a> and has been <a href="https://wiki.php.net/rfc/remove_deprecated_functionality_in_php7" rel="noreferrer"><strong>removed as of PHP 7</strong></a>.</p>

<p><strong>See the Red Box?</strong></p>

<p>When you go on any <code>mysql_*</code> function manual page, you see a red box, explaining it should not be used anymore.</p>

<h2>Why</h2>

<hr>

<p>Moving away from <code>ext/mysql</code> is not only about security, but also about having access to all the features of the MySQL database.</p>

<p><code>ext/mysql</code> was built for <strong>MySQL 3.23</strong> and only got very few additions since then while mostly keeping compatibility with this old version which makes the code a bit harder to maintain. Missing features that is not supported by <code>ext/mysql</code> include: (<em><a href="https://wiki.php.net/rfc/mysql_deprecation" rel="noreferrer">from PHP manual</a></em>).</p>

<ul>
<li><a href="http://en.wikipedia.org/wiki/Stored_procedure" rel="noreferrer">Stored procedures</a> (can't handle multiple result sets)</li>
<li><a href="http://en.wikipedia.org/wiki/Prepared_statement" rel="noreferrer">Prepared statements</a></li>
<li>Encryption (SSL)</li>
<li>Compression</li>
<li>Full Charset support</li>
</ul>

<p><strong>Reason to not use <code>mysql_*</code> function</strong>:</p>

<ul>
<li>Not under active development</li>
<li>Removed as of PHP 7</li>
<li>Lacks an OO interface</li>
<li>Doesn't support non-blocking, asynchronous queries</li>
<li>Doesn't support prepared statements or <a href="http://en.wikipedia.org/wiki/Prepared_statement" rel="noreferrer">parameterized queries</a></li>
<li>Doesn't support stored procedures</li>
<li>Doesn't support multiple statements</li>
<li>Doesn't support <a href="http://en.wikipedia.org/wiki/Database_transaction" rel="noreferrer">transactions</a></li>
<li>Doesn't support all of the functionality in MySQL 5.1</li>
</ul>

<p><a href="https://stackoverflow.com/a/12860046/1723893">Above point quoted from Quentin's answer</a></p>

<p>Lack of support for prepared statements is particularly important as they provide a clearer, less error prone method of escaping and quoting external data than manually escaping it with a separate function call.</p>

<p>See the <a href="http://php.net/manual/en/mysqlinfo.api.choosing.php" rel="noreferrer">comparison of SQL extensions</a>.</p>

<hr>

<p><strong>Suppressing deprecation warnings</strong></p>

<p>While code is being converted to <code>MySQLi</code>/<code>PDO</code>, <code>E_DEPRECATED</code> errors can be suppressed by setting <code>error_reporting</code> in <strong>php.ini</strong> to exclude <code>E_DEPRECATED:</code></p>

<pre class="default s-code-block"><code class="hljs language-ini"><span class="hljs-attr">error_reporting</span> = E_ALL ^ E_DEPRECATED
</code></pre>

<p>Note that this will also hide <strong>other deprecation warnings</strong>, which, however, may be for things other than MySQL. (<em><a href="https://wiki.php.net/rfc/mysql_deprecation#workarounds" rel="noreferrer">from PHP manual</a></em>)</p>

<p>The article <em><a href="http://net.tutsplus.com/tutorials/php/pdo-vs-mysqli-which-should-you-use/" rel="noreferrer">PDO vs. MySQLi: Which Should You Use?</a></em> by <a href="http://webarto.com/" rel="noreferrer"><strong>Dejan Marjanovic</strong></a> will help you to choose.</p>

<p>And a better way is <code>PDO</code>, and I am now writing a simple <code>PDO</code> tutorial.</p>

<hr>

<h2>A simple and short PDO tutorial</h2>

<hr>

<h3>Q. First question in my mind was: what is `PDO`?</h3>

<p>A. <strong>PDO  PHP Data Objects</strong>  is a database access layer providing a uniform method of access to multiple databases.</p>

<blockquote>
  <p><img src="https://i.stack.imgur.com/Vd7ve.png" alt="alt text"></p>
</blockquote>

<hr>

<h3>Connecting to MySQL </h3>

<p>With <code>mysql_*</code> function or we can say it the old way (deprecated in PHP 5.5 and above)</p>

<pre class="default s-code-block"><code class="hljs language-bash"><span class="hljs-variable">$link</span> = mysql_connect(<span class="hljs-string">'localhost'</span>, <span class="hljs-string">'user'</span>, <span class="hljs-string">'pass'</span>);
mysql_select_db(<span class="hljs-string">'testdb'</span>, <span class="hljs-variable">$link</span>);
mysql_set_charset(<span class="hljs-string">'UTF-8'</span>, <span class="hljs-variable">$link</span>);
</code></pre>

<p>With <code>PDO</code>: All you need to do is create a new <code>PDO</code> object. The constructor accepts parameters for specifying the database source <code>PDO</code>'s constructor mostly takes four parameters which are <code>DSN</code> (data source name) and  optionally <code>username</code>, <code>password</code>.</p>

<p>Here I think you are familiar with all except <code>DSN</code>; this is new in <code>PDO</code>. A <code>DSN</code> is basically a string of options that tell <code>PDO</code> which driver to use, and connection details. For further reference, check <a href="http://www.php.net/manual/en/ref.pdo-mysql.connection.php" rel="noreferrer">PDO MySQL DSN</a>.</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-variable">$db</span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">PDO</span>(<span class="hljs-string">'mysql:host=localhost;dbname=testdb;charset=utf8'</span>, <span class="hljs-string">'username'</span>, <span class="hljs-string">'password'</span>);
</code></pre>

<p><strong>Note:</strong> you can also use <code>charset=UTF-8</code>, but sometimes it causes an error, so it's better to use <code>utf8</code>.</p>

<p>If there is any connection error, it will throw a <code>PDOException</code> object that can be caught to handle <code>Exception</code> further.</p>

<p><strong>Good read</strong>: <a href="http://php.net/manual/en/pdo.connections.php" rel="noreferrer">Connections and Connection management ¶</a> </p>

<p>You can also pass in several driver options as an array to the fourth parameter. I recommend passing the parameter which puts <code>PDO</code> into exception mode. Because some <code>PDO</code> drivers don't support native prepared statements, so <code>PDO</code> performs emulation of the prepare. It also lets you manually enable this emulation. To use the native server-side prepared statements, you should explicitly set it <code>false</code>.</p>

<p>The other is to turn off prepare emulation which is enabled in the <code>MySQL</code> driver by default, but prepare emulation should be turned off to use <code>PDO</code> safely. </p>

<p>I will later explain why prepare emulation should be turned off. To find reason please check <a href="https://stackoverflow.com/a/12202218/1723893">this post</a>.</p>

<p>It is only usable if you are using an old version of <code>MySQL</code> which I do not recommended.</p>

<p>Below is an example of how you can do it:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-variable">$db</span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">PDO</span>(<span class="hljs-string">'mysql:host=localhost;dbname=testdb;charset=UTF-8'</span>, 
              <span class="hljs-string">'username'</span>, 
              <span class="hljs-string">'password'</span>,
              <span class="hljs-keyword">array</span>(PDO::<span class="hljs-variable constant_">ATTR_EMULATE_PREPARES</span> =&gt; <span class="hljs-literal">false</span>,
              PDO::<span class="hljs-variable constant_">ATTR_ERRMODE</span> =&gt; PDO::<span class="hljs-variable constant_">ERRMODE_EXCEPTION</span>));
</code></pre>

<p><strong>Can we set attributes after PDO construction?</strong></p>

<p><strong>Yes</strong>, we can also set some attributes after PDO construction with the <code>setAttribute</code> method:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-variable">$db</span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">PDO</span>(<span class="hljs-string">'mysql:host=localhost;dbname=testdb;charset=UTF-8'</span>, 
              <span class="hljs-string">'username'</span>, 
              <span class="hljs-string">'password'</span>);
<span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">setAttribute</span>(PDO::<span class="hljs-variable constant_">ATTR_ERRMODE</span>, PDO::<span class="hljs-variable constant_">ERRMODE_EXCEPTION</span>);
<span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">setAttribute</span>(PDO::<span class="hljs-variable constant_">ATTR_EMULATE_PREPARES</span>, <span class="hljs-literal">false</span>);
</code></pre>

<h2>Error Handling </h2>

<hr>

<p>Error handling is much easier in <code>PDO</code> than <code>mysql_*</code>.</p>

<p>A common practice when using <code>mysql_*</code> is:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-comment">//Connected to MySQL</span>
<span class="hljs-variable">$result</span> = <span class="hljs-title function_ invoke__">mysql_query</span>(<span class="hljs-string">"SELECT * FROM table"</span>, <span class="hljs-variable">$link</span>) <span class="hljs-keyword">or</span> <span class="hljs-keyword">die</span>(<span class="hljs-title function_ invoke__">mysql_error</span>(<span class="hljs-variable">$link</span>));
</code></pre>

<p><code>OR die()</code> is not a good way to handle the error since we can not handle the thing in <code>die</code>. It will just end the script abruptly and then echo the error to the screen which you usually do NOT want to show to your end users, and let bloody hackers discover your schema. Alternately, the return values of <code>mysql_*</code> functions can often be used in conjunction with <a href="http://php.net/mysql_error" rel="noreferrer">mysql_error()</a> to handle errors.</p>

<p><code>PDO</code> offers a better solution: exceptions. Anything we do with <code>PDO</code> should be wrapped in a <code>try</code>-<code>catch</code> block. We can force <code>PDO</code> into one of three error modes by setting the error mode attribute. Three error handling modes are below.</p>

<ul>
<li><code>PDO::ERRMODE_SILENT</code>. It's just setting error codes and acts pretty much the same as <code>mysql_*</code> where you must check each result and then look at <code>$db-&gt;errorInfo();</code> to get the error details.</li>
<li><code>PDO::ERRMODE_WARNING</code> Raise <code>E_WARNING</code>. (Run-time warnings (non-fatal errors). Execution of the script is not halted.)</li>
<li><code>PDO::ERRMODE_EXCEPTION</code>: Throw exceptions. It represents an error raised by PDO. You should not throw a <code>PDOException</code> from your own code. See <em>Exceptions</em> for more information about exceptions in PHP. It acts very much like <code>or die(mysql_error());</code>, when it isn't caught. But unlike <code>or die()</code>, the <code>PDOException</code> can be caught and handled gracefully if you choose to do so.</li>
</ul>

<p><strong>Good read</strong>:</p>

<ul>
<li><a href="http://php.net/manual/en/pdo.error-handling.php" rel="noreferrer">Errors and error handling ¶</a></li>
<li><a href="http://php.net/manual/en/class.pdoexception.php" rel="noreferrer">The PDOException class ¶</a></li>
<li><a href="http://www.php.net/manual/en/language.exceptions.php" rel="noreferrer">Exceptions ¶</a></li>
</ul>

<p>Like:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">setAttribute</span>( PDO::<span class="hljs-variable constant_">ATTR_ERRMODE</span>, PDO::<span class="hljs-variable constant_">ERRMODE_SILENT</span> );
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">setAttribute</span>( PDO::<span class="hljs-variable constant_">ATTR_ERRMODE</span>, PDO::<span class="hljs-variable constant_">ERRMODE_WARNING</span> );
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">setAttribute</span>( PDO::<span class="hljs-variable constant_">ATTR_ERRMODE</span>, PDO::<span class="hljs-variable constant_">ERRMODE_EXCEPTION</span> );
</code></pre>

<p>And you can wrap it in <code>try</code>-<code>catch</code>, like below:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-keyword">try</span> {
    <span class="hljs-comment">//Connect as appropriate as above</span>
    <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">'hi'</span>); <span class="hljs-comment">//Invalid query!</span>
} 
<span class="hljs-keyword">catch</span> (PDOException <span class="hljs-variable">$ex</span>) {
    <span class="hljs-keyword">echo</span> <span class="hljs-string">"An Error occured!"</span>; <span class="hljs-comment">//User friendly message/message you want to show to user</span>
    <span class="hljs-title function_ invoke__">some_logging_function</span>(<span class="hljs-variable">$ex</span>-&gt;<span class="hljs-title function_ invoke__">getMessage</span>());
}
</code></pre>

<p>You do not have to handle with <code>try</code>-<code>catch</code> right now. You can catch it at any time appropriate, but I strongly recommend you to use <code>try</code>-<code>catch</code>. Also it may make more sense to catch it at outside the function that calls the <code>PDO</code> stuff:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">data_fun</span>(<span class="hljs-params"><span class="hljs-variable">$db</span></span>) </span>{
    <span class="hljs-variable">$stmt</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">"SELECT * FROM table"</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">fetchAll</span>(PDO::<span class="hljs-variable constant_">FETCH_ASSOC</span>);
}

<span class="hljs-comment">//Then later</span>
<span class="hljs-keyword">try</span> {
    <span class="hljs-title function_ invoke__">data_fun</span>(<span class="hljs-variable">$db</span>);
}
<span class="hljs-keyword">catch</span>(PDOException <span class="hljs-variable">$ex</span>) {
    <span class="hljs-comment">//Here you can handle error and show message/perform action you want.</span>
}
</code></pre>

<p>Also, you can handle by <code>or die()</code> or we can say like <code>mysql_*</code>, but it will be really varied. You can hide the dangerous error messages in production by turning <code>display_errors off</code> and just reading your error log.</p>

<p>Now, after reading all the things above, you are probably thinking: what the heck is that when I just want to start leaning simple <code>SELECT</code>, <code>INSERT</code>, <code>UPDATE</code>, or <code>DELETE</code> statements? Don't worry, here we go:</p>

<hr>

<h2>Selecting Data</h2>

<p><img src="https://i.stack.imgur.com/AhIlC.png" alt="PDO select image"></p>

<p>So what you are doing in <code>mysql_*</code> is:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-variable">$result</span> = <span class="hljs-title function_ invoke__">mysql_query</span>(<span class="hljs-string">'SELECT * from table'</span>) <span class="hljs-keyword">or</span> <span class="hljs-keyword">die</span>(<span class="hljs-title function_ invoke__">mysql_error</span>());

<span class="hljs-variable">$num_rows</span> = <span class="hljs-title function_ invoke__">mysql_num_rows</span>(<span class="hljs-variable">$result</span>);

<span class="hljs-keyword">while</span>(<span class="hljs-variable">$row</span> = <span class="hljs-title function_ invoke__">mysql_fetch_assoc</span>(<span class="hljs-variable">$result</span>)) {
    <span class="hljs-keyword">echo</span> <span class="hljs-variable">$row</span>[<span class="hljs-string">'field1'</span>];
}
</code></pre>

<p>Now in <code>PDO</code>, you can do this like:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-variable">$stmt</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">'SELECT * FROM table'</span>);

<span class="hljs-keyword">while</span>(<span class="hljs-variable">$row</span> = <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">fetch</span>(PDO::<span class="hljs-variable constant_">FETCH_ASSOC</span>)) {
    <span class="hljs-keyword">echo</span> <span class="hljs-variable">$row</span>[<span class="hljs-string">'field1'</span>];
}
</code></pre>

<p>Or</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-variable">$stmt</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">'SELECT * FROM table'</span>);
<span class="hljs-variable">$results</span> = <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">fetchAll</span>(PDO::<span class="hljs-variable constant_">FETCH_ASSOC</span>);

<span class="hljs-comment">//Use $results</span>
</code></pre>

<p><strong>Note</strong>: If you are using the method like below (<code>query()</code>), this method returns a <code>PDOStatement</code> object. So if you want to fetch the result, use it like above.</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">foreach</span>(<span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">'SELECT * FROM table'</span>) <span class="hljs-keyword">as</span> <span class="hljs-variable">$row</span>) {
    <span class="hljs-keyword">echo</span> <span class="hljs-variable">$row</span>[<span class="hljs-string">'field1'</span>];
}
</code></pre>

<p>In PDO Data, it is obtained via the <code>-&gt;fetch()</code>, a method of your statement handle. Before calling fetch, the best approach would be telling PDO how youd like the data to be fetched. In the below section I am explaining this.</p>

<h2>Fetch Modes</h2>

<p>Note the use of <code>PDO::FETCH_ASSOC</code> in the <code>fetch()</code> and <code>fetchAll()</code> code above. This tells <code>PDO</code> to return the rows as an associative array with the field names as keys. There are many other fetch modes too which I will explain one by one.</p>

<p>First of all, I explain how to select fetch mode:</p>

<pre class="default s-code-block"><code class="hljs language-php"> <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">fetch</span>(PDO::<span class="hljs-variable constant_">FETCH_ASSOC</span>)
</code></pre>

<p>In the above, I have been using <code>fetch()</code>. You can also use:</p>

<ul>
<li><a href="http://php.net/manual/en/pdostatement.fetchall.php" rel="noreferrer"><code>PDOStatement::fetchAll()</code></a> - Returns an array containing all of the result set rows</li>
<li><a href="http://php.net/manual/en/pdostatement.fetchcolumn.php" rel="noreferrer"><code>PDOStatement::fetchColumn()</code></a> - Returns a single column from the next row of a result set</li>
<li><a href="http://php.net/manual/en/pdostatement.fetchobject.php" rel="noreferrer"><code>PDOStatement::fetchObject()</code></a> - Fetches the next row and returns it as an object.</li>
<li><a href="http://php.net/manual/en/pdostatement.setfetchmode.php" rel="noreferrer"><code>PDOStatement::setFetchMode()</code></a> - Set the default fetch mode for this statement</li>
</ul>

<p>Now I come to fetch mode:</p>

<ul>
<li><code>PDO::FETCH_ASSOC</code>: returns an array indexed by column name as returned in your result set</li>
<li><code>PDO::FETCH_BOTH</code> (default): returns an array indexed by both column name and 0-indexed column number as returned in your result set</li>
</ul>

<p>There are even more choices! Read about them all in <a href="http://www.php.net/manual/en/pdostatement.fetch.php" rel="noreferrer"><code>PDOStatement</code> Fetch documentation.</a>.</p>

<p><strong>Getting the row count</strong>:</p>

<p>Instead of using <code>mysql_num_rows</code> to get the number of returned rows, you can get a <code>PDOStatement</code> and do <code>rowCount()</code>, like:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-variable">$stmt</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">'SELECT * FROM table'</span>);
<span class="hljs-variable">$row_count</span> = <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">rowCount</span>();
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$row_count</span>.<span class="hljs-string">' rows selected'</span>;
</code></pre>

<p><strong>Getting the Last Inserted ID</strong></p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-variable">$result</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">exec</span>(<span class="hljs-string">"INSERT INTO table(firstname, lastname) VAULES('John', 'Doe')"</span>);
<span class="hljs-variable">$insertId</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">lastInsertId</span>();
</code></pre>

<hr>

<h2>Insert and Update or Delete statements</h2>

<p><img src="https://i.stack.imgur.com/yQhPC.png" alt="Insert and update PDO image"></p>

<p>What we are doing in <code>mysql_*</code> function is:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-variable">$results</span> = <span class="hljs-title function_ invoke__">mysql_query</span>(<span class="hljs-string">"UPDATE table SET field='value'"</span>) <span class="hljs-keyword">or</span> <span class="hljs-keyword">die</span>(<span class="hljs-title function_ invoke__">mysql_error</span>());
<span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">mysql_affected_rows</span>(<span class="hljs-variable">$result</span>);
</code></pre>

<p>And in pdo, this same thing can be done by:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-variable">$affected_rows</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">exec</span>(<span class="hljs-string">"UPDATE table SET field='value'"</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$affected_rows</span>;
</code></pre>

<p>In the above query <a href="http://php.net/manual/en/pdo.exec.php" rel="noreferrer"><code>PDO::exec</code></a> execute an SQL statement and returns the number of affected rows.</p>

<p><sub><em>Insert and delete will be covered later.</em></sub></p>

<p>The above method is only useful when you are not using variable in query. But when you need to use a variable in a query, do not ever ever try like the above and there for  <a href="http://en.wikipedia.org/wiki/Prepared_statement" rel="noreferrer"><strong>prepared statement or parameterized statement</strong></a> is.</p>

<hr>

<h2><strong>Prepared Statements</strong></h2>

<p><strong>Q.</strong> What is a prepared statement and why do I need them?<br>
<strong>A.</strong> A prepared statement is a pre-compiled SQL statement that can be executed multiple times by sending only the data to the server.<br></p>

<p>The typical workflow of using a prepared statement is as follows (<a href="http://en.wikipedia.org/wiki/Prepared_statement" rel="noreferrer">quoted from Wikipedia three 3 point</a>):</p>

<ol>
<li><p><strong>Prepare</strong>: The statement template is created by the application and sent to the database management system (DBMS). Certain values are left unspecified, called parameters, placeholders or bind variables (labelled <code>?</code> below):</p>

<p><code>INSERT INTO PRODUCT (name, price) VALUES (?, ?)</code></p></li>
<li><p>The DBMS parses, compiles, and performs query optimization on the statement template, and stores the result without executing it.</p></li>
<li><strong>Execute</strong>: At a later time, the application supplies (or binds) values for the parameters, and the DBMS executes the statement (possibly returning a result). The application may execute the statement as many times as it wants with different values. In this example, it might supply 'Bread' for the first parameter and <code>1.00</code> for the second parameter.</li>
</ol>

<p>You can use a prepared statement by including placeholders in your SQL. There are basically three ones without placeholders (don't try this with variable its above one), one with unnamed placeholders, and one with named placeholders.</p>

<p><strong>Q.</strong> So now, what are named placeholders and how do I use them?<br>
<strong>A.</strong> Named placeholders. Use descriptive names preceded by a colon, instead of question marks. We don't care about position/order of value in name place holder:</p>

<pre class="default s-code-block"><code class="hljs language-bash"> <span class="hljs-variable">$stmt</span>-&gt;bindParam(<span class="hljs-string">':bla'</span>, <span class="hljs-variable">$bla</span>);
</code></pre>

<p><a href="http://php.net/manual/en/pdostatement.bindparam.php" rel="noreferrer"><code>bindParam(parameter,variable,data_type,length,driver_options)</code></a></p>

<p>You can also bind using an execute array as well:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-variable">$stmt</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-string">"SELECT * FROM table WHERE id=:id AND name=:name"</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>(<span class="hljs-keyword">array</span>(<span class="hljs-string">':name'</span> =&gt; <span class="hljs-variable">$name</span>, <span class="hljs-string">':id'</span> =&gt; <span class="hljs-variable">$id</span>));
<span class="hljs-variable">$rows</span> = <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">fetchAll</span>(PDO::<span class="hljs-variable constant_">FETCH_ASSOC</span>);
</code></pre>

<p>Another nice feature for <code>OOP</code> friends is that named placeholders have the ability to insert objects directly into your database, assuming the properties match the named fields. For example:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">person</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-variable">$name</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-variable">$add</span>;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-variable">$a</span>,<span class="hljs-variable">$b</span></span>) </span>{
        <span class="hljs-variable language_">$this</span>-&gt;name = <span class="hljs-variable">$a</span>;
        <span class="hljs-variable language_">$this</span>-&gt;add = <span class="hljs-variable">$b</span>;
    }

}
<span class="hljs-variable">$demo</span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">person</span>(<span class="hljs-string">'john'</span>,<span class="hljs-string">'29 bla district'</span>);
<span class="hljs-variable">$stmt</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-string">"INSERT INTO table (name, add) value (:name, :add)"</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>((<span class="hljs-keyword">array</span>)<span class="hljs-variable">$demo</span>);
</code></pre>

<p><strong>Q.</strong> So now, what are unnamed placeholders and how do I use them?<br>
<strong>A.</strong> Let's have an example:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-variable">$stmt</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-string">"INSERT INTO folks (name, add) values (?, ?)"</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">bindValue</span>(<span class="hljs-number">1</span>, <span class="hljs-variable">$name</span>, PDO::<span class="hljs-variable constant_">PARAM_STR</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">bindValue</span>(<span class="hljs-number">2</span>, <span class="hljs-variable">$add</span>, PDO::<span class="hljs-variable constant_">PARAM_STR</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>();
</code></pre>

<p>and</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-variable">$stmt</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-string">"INSERT INTO folks (name, add) values (?, ?)"</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>(<span class="hljs-keyword">array</span>(<span class="hljs-string">'john'</span>, <span class="hljs-string">'29 bla district'</span>));
</code></pre>

<p>In the above, you can see those <code>?</code> instead of a name like in a name place holder. Now in the first example, we assign variables to the various placeholders (<code>$stmt-&gt;bindValue(1, $name, PDO::PARAM_STR);</code>). Then, we assign values to those placeholders and execute the statement. In the second example, the first array element goes to the first <code>?</code> and the second to the second <code>?</code>.</p>

<p><strong>NOTE</strong>: In <strong>unnamed placeholders</strong> we must take care of the proper order of the elements in the array that we are passing to the <code>PDOStatement::execute()</code> method.</p>

<hr>

<h2><code>SELECT</code>, <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code> prepared queries</h2>

<ol>
<li><p><strong><code>SELECT</code></strong>:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-variable">$stmt</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-string">"SELECT * FROM table WHERE id=:id AND name=:name"</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>(<span class="hljs-keyword">array</span>(<span class="hljs-string">':name'</span> =&gt; <span class="hljs-variable">$name</span>, <span class="hljs-string">':id'</span> =&gt; <span class="hljs-variable">$id</span>));
<span class="hljs-variable">$rows</span> = <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">fetchAll</span>(PDO::<span class="hljs-variable constant_">FETCH_ASSOC</span>);
</code></pre></li>
<li><p><strong><code>INSERT</code></strong>:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-variable">$stmt</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-string">"INSERT INTO table(field1,field2) VALUES(:field1,:field2)"</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>(<span class="hljs-keyword">array</span>(<span class="hljs-string">':field1'</span> =&gt; <span class="hljs-variable">$field1</span>, <span class="hljs-string">':field2'</span> =&gt; <span class="hljs-variable">$field2</span>));
<span class="hljs-variable">$affected_rows</span> = <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">rowCount</span>();
</code></pre></li>
<li><p><strong><code>DELETE</code></strong>:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-variable">$stmt</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-string">"DELETE FROM table WHERE id=:id"</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">bindValue</span>(<span class="hljs-string">':id'</span>, <span class="hljs-variable">$id</span>, PDO::<span class="hljs-variable constant_">PARAM_STR</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>();
<span class="hljs-variable">$affected_rows</span> = <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">rowCount</span>();
</code></pre></li>
<li><p><strong><code>UPDATE</code></strong>:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-variable">$stmt</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-string">"UPDATE table SET name=? WHERE id=?"</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>(<span class="hljs-keyword">array</span>(<span class="hljs-variable">$name</span>, <span class="hljs-variable">$id</span>));
<span class="hljs-variable">$affected_rows</span> = <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">rowCount</span>();
</code></pre></li>
</ol>

<hr>

<h2><strong>NOTE:</strong></h2>

<p>However <code>PDO</code> and/or <code>MySQLi</code> are not completely safe. Check the answer <em><a href="https://stackoverflow.com/a/12202218/1723893">Are PDO prepared statements sufficient to prevent SQL injection?</a></em> by <a href="https://stackoverflow.com/users/338665/ircmaxell">ircmaxell</a>. Also, I am quoting some part from his answer:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-variable">$pdo</span>-&gt;<span class="hljs-title function_ invoke__">setAttribute</span>(PDO::<span class="hljs-variable constant_">ATTR_EMULATE_PREPARES</span>, <span class="hljs-literal">false</span>);
<span class="hljs-variable">$pdo</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">'SET NAMES GBK'</span>);
<span class="hljs-variable">$stmt</span> = <span class="hljs-variable">$pdo</span>-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-string">"SELECT * FROM test WHERE name = ? LIMIT 1"</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>(<span class="hljs-keyword">array</span>(<span class="hljs-title function_ invoke__">chr</span>(<span class="hljs-number">0xbf</span>) . <span class="hljs-title function_ invoke__">chr</span>(<span class="hljs-number">0x27</span>) . <span class="hljs-string">" OR 1=1 /*"</span>));
</code></pre>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 3</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>First, let's begin with the standard comment we give everyone: </p>

<blockquote>
  <p><a href="https://stackoverflow.com/q/12859942"><strong>Please, don't use <code>mysql_*</code> functions in new code</strong></a>. They are no longer maintained <a href="https://wiki.php.net/rfc/mysql_deprecation" rel="noreferrer">and are officially deprecated</a>. See the <a href="http://uk.php.net/manual/en/function.mysql-connect.php" rel="noreferrer"><strong>red box</strong></a>? Learn about <a href="http://en.wikipedia.org/wiki/Prepared_statement" rel="noreferrer"><em>prepared statements</em></a> instead, and use <a href="http://php.net/pdo" rel="noreferrer">PDO</a> or <a href="http://php.net/mysqli" rel="noreferrer">MySQLi</a> - <a href="http://php.net/manual/en/mysqlinfo.api.choosing.php" rel="noreferrer">this article</a> will help you decide which. If you choose PDO, <a href="http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers" rel="noreferrer">here is a good tutorial</a>.</p>
</blockquote>

<p>Let's go through this, sentence by sentence, and explain:</p>

<ul>
<li><p><strong>They are no longer maintained, and are officially deprecated</strong></p>

<p>This means that the PHP community is gradually dropping support for these very old functions. They are likely to not exist in a future (recent) version of PHP! Continued use of these functions may break your code in the (not so) far future.</p>

<p><strong>NEW! - ext/mysql is now <em><a href="https://wiki.php.net/rfc/mysql_deprecation" rel="noreferrer">officially deprecated as of PHP 5.5!</a></em></strong></p>

<h2>Newer! ext/mysql <em><a href="https://wiki.php.net/rfc/remove_deprecated_functionality_in_php7" rel="noreferrer">has been removed in PHP 7</a></em>.</h2></li>
<li><p><strong>Instead, you should learn of prepared statements</strong></p>

<p><code>mysql_*</code> extension does not support <strong>prepared statements</strong>, which is (among other things) a very effective countermeasure against <strong>SQL Injection</strong>. It fixed a very serious vulnerability in MySQL dependent applications which allows attackers to gain access to your script and perform <strong>any possible query</strong> on your database.</p>

<p>For more information, see <strong><a href="https://stackoverflow.com/questions/60174/best-way-to-prevent-sql-injection-in-php">How can I prevent SQL injection in PHP?</a></strong></p></li>
<li><p><strong>See the Red Box?</strong></p>

<p>When you go to any <code>mysql</code> function manual page, you see a red box, explaining it should not be used anymore.</p></li>
<li><p><strong>Use either PDO or MySQLi</strong></p>

<p>There are better, more robust and well-built alternatives, <strong><a href="http://php.net/pdo" rel="noreferrer">PDO - PHP Database Object</a></strong>, which offers a complete OOP approach to database interaction, and <strong><a href="http://php.net/mysqli" rel="noreferrer">MySQLi</a></strong>, which is a MySQL specific improvement.</p></li>
</ul>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 4</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>Ease of use</h2>

<p>The analytic and synthetic reasons were already mentioned. For newcomers there's a more significant incentive to stop using the dated mysql_ functions. </p>

<p><strong>Contemporary database APIs are just <em>easier</em> to use.</strong></p>

<p>It's mostly the <em>bound parameters</em> which can simplify code. And with <a href="https://stackoverflow.com/a/14110189">excellent tutorials (as seen above)</a> the transition to <a href="http://php.net/PDO" rel="noreferrer">PDO</a> isn't overly arduous.</p>

<p>Rewriting a larger code base at once however takes time. Raison d'être for this intermediate alternative:</p>

<h3>Equivalent pdo_* functions in place of <s>mysql_*</s></h3>

<p>Using <a href="http://fossil.include-once.org/upgradephp/artifact/43ab742241e5a3be43d31764dd333ba68e245360" rel="noreferrer">&lt;<strong>pdo_mysql.php</strong>&gt;</a> you can switch from the old mysql_ functions with <em>minimal effort</em>. It adds <code>pdo_</code> function wrappers which replace their <code>mysql_</code> counterparts.<br></p>

<ol>
<li><p>Simply <code>include_once(</code><a href="http://fossil.include-once.org/upgradephp/artifact/43ab742241e5a3be43d31764dd333ba68e245360" rel="noreferrer"><code>"pdo_mysql.php"</code></a><code>);</code> in each invocation script that has to interact with the database.
<br></p></li>
<li><p>Remove the <s><code>mysql_</code></s> function prefix <em>everywhere</em> and replace it with <strong><code>pdo_</code></strong>.</p>

<ul>
<li><s><code>mysql_</code></s><code>connect()</code> becomes <b><code>pdo_</code></b><code>connect()</code></li>
<li><s><code>mysql_</code></s><code>query()</code> becomes <b><code>pdo_</code></b><code>query()</code></li>
<li><s><code>mysql_</code></s><code>num_rows()</code> becomes <b><code>pdo_</code></b><code>num_rows()</code></li>
<li><s><code>mysql_</code></s><code>insert_id()</code> becomes <b><code>pdo_</code></b><code>insert_id()</code></li>
<li><s><code>mysql_</code></s><code>fetch_array()</code> becomes <b><code>pdo_</code></b><code>fetch_array()</code></li>
<li><s><code>mysql_</code></s><code>fetch_assoc()</code> becomes <b><code>pdo_</code></b><code>fetch_assoc()</code></li>
<li><s><code>mysql_</code></s><code>real_escape_string()</code> becomes <b><code>pdo_</code></b><code>real_escape_string()</code></li>
<li><em>and so on...</em> <br><br>  </li>
</ul></li>
<li><p>Your code will work alike and still mostly look the same:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-keyword">include_once</span>(<span class="hljs-string">"pdo_mysql.php"</span>); 

<span class="hljs-title function_ invoke__">pdo_connect</span>(<span class="hljs-string">"localhost"</span>, <span class="hljs-string">"usrABC"</span>, <span class="hljs-string">"pw1234567"</span>);
<span class="hljs-title function_ invoke__">pdo_select_db</span>(<span class="hljs-string">"test"</span>);

<span class="hljs-variable">$result</span> = <span class="hljs-title function_ invoke__">pdo_query</span>(<span class="hljs-string">"SELECT title, html FROM pages"</span>);  

<span class="hljs-keyword">while</span> (<span class="hljs-variable">$row</span> = <span class="hljs-title function_ invoke__">pdo_fetch_assoc</span>(<span class="hljs-variable">$result</span>)) {
    <span class="hljs-keyword">print</span> <span class="hljs-string">"<span class="hljs-subst">$row</span>[title] - <span class="hljs-subst">$row</span>[html]"</span>;
}
</code></pre></li>
</ol>

<p>Et voilà.<br>
Your code is <em>using</em> PDO.<br>
Now it's time to actually <em>utilize</em> it.  </p>

<h3>Bound parameters can be easy to use</h3>

<p><img src="https://i.stack.imgur.com/78Ddi.jpg"></p>

<p>You just need a less unwieldy API.</p>

<p><code>pdo_query()</code> adds very facile support for bound parameters. Converting old code is straightforward:</p>

<p><img src="https://i.stack.imgur.com/PeuHl.png"></p>

<p>Move your variables out of the SQL string.</p>

<ul>
<li>Add them as comma delimited function parameters to <code>pdo_query()</code>.</li>
<li>Place question marks <code>?</code> as placeholders where the variables were before.</li>
<li>Get rid of <code>'</code> single quotes that previously enclosed string values/variables.</li>
</ul>

<p>The advantage becomes more obvious for lengthier code.</p>

<p>Often string variables aren't just interpolated into SQL, but concatenated with escaping calls in between.</p>

<pre class="default s-code-block"><code class="hljs language-lisp">pdo_query(<span class="hljs-string">"SELECT id, links, html, title, user, date FROM articles
   WHERE title='"</span> . pdo_real_escape_string($title) . <span class="hljs-string">"' OR id='"</span>.
   pdo_real_escape_string($title) . <span class="hljs-string">"' AND user &lt;&gt; '"</span> .
   pdo_real_escape_string($root) . <span class="hljs-string">"' ORDER BY date"</span>)
</code></pre>

<p>With <code>?</code> placeholders applied you don't have to bother with that:</p>

<pre class="default s-code-block"><code class="hljs language-bash">pdo_query(<span class="hljs-string">"SELECT id, links, html, title, user, date FROM articles
   WHERE title=? OR id=? AND user&lt;&gt;? ORDER BY date"</span>, <span class="hljs-variable">$title</span>, <span class="hljs-variable">$id</span>, <span class="hljs-variable">$root</span>)
</code></pre>

<p>Remember that pdo_* still allows <em>either or</em>.<br>
Just don't escape a variable <em>and</em> bind it in the same query.</p>

<ul>
<li>The placeholder feature is provided by the real PDO behind it.</li>
<li>Thus also allowed <code>:named</code> placeholder lists later.</li>
</ul>

<p>More importantly you can pass $_REQUEST[] variables safely behind any query. When submitted <code>&lt;form&gt;</code> fields match the database structure exactly it's even shorter:</p>

<pre class="default s-code-block"><code class="hljs language-bash">pdo_query(<span class="hljs-string">"INSERT INTO pages VALUES (?,?,?,?,?)"</span>, <span class="hljs-variable">$_POST</span>);
</code></pre>

<p>So much simplicity. But let's get back to some more rewriting advises and technical reasons on why you may want to get rid of <s><code>mysql_</code></s> and escaping.</p>

<h3>Fix or remove any oldschool <a href="https://stackoverflow.com/questions/3126072/what-are-the-best-php-input-sanitizing-functions"><code>sanitize()</code></a> function</h3>

<p>Once you have converted all <s><code>mysql_</code></s> calls to <code>pdo_query</code> with bound params, remove all redundant <code>pdo_real_escape_string</code> calls.</p>

<p>In particular you should fix any <code>sanitize</code> or <code>clean</code> or <code>filterThis</code> or <code>clean_data</code> functions as advertised by dated tutorials in one form or the other:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sanitize</span>(<span class="hljs-params"><span class="hljs-variable">$str</span></span>) </span>{
   <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">trim</span>(<span class="hljs-title function_ invoke__">strip_tags</span>(<span class="hljs-title function_ invoke__">htmlentities</span>(<span class="hljs-title function_ invoke__">pdo_real_escape_string</span>(<span class="hljs-variable">$str</span>))));
}
</code></pre>

<p>Most glaring bug here is the lack of documentation. More significantly the order of filtering was in exactly the wrong order.</p>

<ul>
<li><p>Correct order would have been: deprecatedly <code>stripslashes</code> as the innermost call, then <code>trim</code>, afterwards <code>strip_tags</code>, <code>htmlentities</code> for output context, and only lastly the <code>_escape_string</code> as its application should directly preceed the SQL intersparsing.</p></li>
<li><p>But as first step just <strong>get rid of the <code>_real_escape_string</code></strong> call.</p></li>
<li><p>You may have to keep the rest of your <code>sanitize()</code> function for now if your database and application flow expect HTML-context-safe strings. Add a comment that it applies only HTML escaping henceforth.</p></li>
<li><p>String/value handling is delegated to PDO and its parameterized statements.</p></li>
<li><p>If there was any mention of <code>stripslashes()</code> in your sanitize function, it may indicate a higher level oversight.</p>

<ul>
<li><p>That was commonly there to undo damage (double escaping) from the deprecated <a href="http://php.net/magic_quotes" rel="noreferrer"><code>magic_quotes</code></a>. Which however is <a href="https://stackoverflow.com/questions/517008/how-to-turn-off-magic-quotes-on-shared-hosting">best fixed centrally</a>, not string by string.</p></li>
<li><p>Use one of the <a href="http://php.net/security.magicquotes.disabling" rel="noreferrer">userland reversal</a> approaches. Then remove the <code>stripslashes()</code> in the <code>sanitize</code> function.</p></li>
</ul>

<blockquote>
  <p><strong>Historic note on magic_quotes.</strong> That feature is rightly deprecated. It's often incorrectly portrayed as failed <em>security</em> feature however. But magic_quotes are as much a failed security feature as tennis balls have failed as nutrition source. That simply wasn't their purpose.</p>
  
  <p>The original implementation in PHP2/FI introduced it explicitly with just "<em>quotes will be automatically escaped making it easier to pass form data directly to msql queries</em>". Notably it was accidentially safe to use with <a href="http://www.hughes.com.au/products/msql/" rel="noreferrer">mSQL</a>, as that supported ASCII only.<br>
  Then PHP3/Zend reintroduced magic_quotes for MySQL and misdocumented it. But originally it was just a <a href="https://stackoverflow.com/questions/16098194/why-magic-quotes-has-been-removed-from-php-5-4">convenience feature</a>, not intend for security. </p>
</blockquote></li>
</ul>

<h3>How prepared statements differ</h3>

<p>When you scramble string variables into the SQL queries, it doesn't just get more intricate for you to follow. It's also extraneous effort for MySQL to segregate code and data again.</p>

<p><img src="https://i.stack.imgur.com/niZ7j.png"></p>

<p>SQL injections simply are when <em>data bleeds into code</em> context. A database server can't later spot where PHP originally glued variables inbetween query clauses.</p>

<p>With bound parameters you separate SQL code and SQL-context values in your PHP code. But it doesn't get shuffled up again behind the scenes (except with PDO::EMULATE_PREPARES). Your database receives the unvaried SQL commands and 1:1 variable values.</p>

<p><img src="https://i.stack.imgur.com/M7PXp.png"></p>

<p>While this answer stresses that you should care about the readability advantages of dropping <s><code>mysql_</code></s>. There's occasionally also a performance advantage (repeated INSERTs with just differing values) due to this visible and technical data/code separation. </p>

<p>Beware that parameter binding still isn't a magic one-stop solution against <em>all</em> SQL injections. It handles the most common use for data/values. But can't whitelist column name / table identifiers, help with dynamic clause construction, or just plain array value lists.</p>

<h3>Hybrid PDO use</h3>

<p>These <code>pdo_*</code> wrapper functions make a coding-friendly stop-gap API. (It's pretty much what <code>MYSQLI</code> could have been if it wasn't for the idiosyncratic function signature shift). They also expose the real PDO at most times.<br>
Rewriting doesn't have to stop at using the new pdo_ function names. You could one by one transition each pdo_query() into a plain $pdo-&gt;prepare()-&gt;execute() call.</p>

<p>It's best to start at simplifying again however. For example the common result fetching:</p>

<pre class="default s-code-block"><code class="hljs language-bash"><span class="hljs-variable">$result</span> = pdo_query(<span class="hljs-string">"SELECT * FROM tbl"</span>);
<span class="hljs-keyword">while</span> (<span class="hljs-variable">$row</span> = pdo_fetch_assoc(<span class="hljs-variable">$result</span>)) {
</code></pre>

<p>Can be replaced with just an foreach iteration:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-keyword">foreach</span> (<span class="hljs-variable">$result</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$row</span>) {
</code></pre>

<p>Or better yet a direct and complete array retrieval:</p>

<pre class="default s-code-block"><code class="hljs language-scss"><span class="hljs-variable">$result</span>-&gt;<span class="hljs-built_in">fetchAll</span>();
</code></pre>

<p>You'll get more helpful warnings in most cases than PDO or mysql_ usually provide after failed queries.</p>

<h3>Other options</h3>

<p>So this hopefully visualized some <em>practical</em> reasons and a worthwile pathway to drop <s><code>mysql_</code></s>.</p>

<p>Just switching to <a href="/questions/tagged/pdo" class="post-tag" title="show questions tagged 'pdo'" rel="tag">pdo</a> doesn't quite cut it. <code>pdo_query()</code> is also just a frontend onto it.</p>

<p>Unless you also introduce parameter binding or can utilize something else from the nicer API, it's a pointless switch. I hope it's portrayed simple enough to not further the discouragement to newcomers. (Education usually works better than prohibition.)</p>

<p>While it qualifies for the simplest-thing-that-could-possibly-work category, it's also still very experimental code. I just wrote it over the weekend. There's a plethora of alternatives however. Just google for <a href="https://www.google.de/search?client=stackoverflow&amp;q=PHP+database+abstraction" rel="noreferrer">PHP database abstraction</a> and browse a little. There always have been and will be lots of excellent libraries for such tasks.</p>

<p>If you want to simplify your database interaction further, mappers like <a href="http://j4mie.github.io/idiormandparis/" rel="noreferrer">Paris/Idiorm</a> are worth a try. Just like nobody uses the bland DOM in JavaScript anymore, you don't have to babysit a raw database interface nowadays.</p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 5</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The <code>mysql_</code> functions:</p>

<ol>
<li>are out of date - they're not maintained any more</li>
<li>don't allow you to move easily to another database backend</li>
<li>don't support prepared statements, hence</li>
<li>encourage programmers to use concatenation to build queries, leading to SQL injection vulnerabilities</li>
</ol>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 6</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Speaking of <em>technical</em> reasons, there are only a few, extremely specific and rarely used. Most likely you will never ever use them in your life.<br>
Maybe I am too ignorant, but I never had an opportunity to use them things like </p>

<ul>
<li>non-blocking, asynchronous queries</li>
<li>stored procedures returning multiple resultsets</li>
<li>Encryption (SSL)</li>
<li>Compression</li>
</ul>

<p>If you need them - these are no doubt technical reasons to move away from mysql extension toward something more stylish and modern-looking.</p>

<p><strong>Nevertheless, there are also some non-technical issues, which can make your experience a bit harder</strong></p>

<ul>
<li>further use of these functions with modern PHP versions will raise deprecated-level notices. They simply can be turned off.</li>
<li>in a distant future, they can be possibly removed from the default PHP build. Not a big deal too, as mydsql ext will be moved into PECL and every hoster will be happy to compile PHP with it, as they don't want to lose clients whose sites were working for decades.   </li>
<li>strong resistance from Stackoverflow community. Еverytime you mention these honest functions, you being told that they are under strict taboo.</li>
<li>being an average PHP user, most likely your idea of using these functions is error-prone and wrong. Just because of all these numerous tutorials and manuals which teach you the wrong way. Not the functions themselves - I have to emphasize it - but the way they are used.</li>
</ul>

<p>This latter issue is a problem.<br>
But, in my opinion, the proposed solution is no better either.<br>
It seems to me <strong>too idealistic</strong> a dream that all those PHP users will learn how to handle SQL queries properly at once. Most likely they would just change mysql_* to mysqli_* mechanically, <strong>leaving the approach the same</strong>. Especially because mysqli makes prepared statements usage incredible painful and troublesome.<br>
Not to mention that <em>native</em> prepared statements <strong>aren't enough to protect</strong> from SQL injections, and neither mysqli nor PDO offers a solution. </p>

<p>So, instead of fighting this honest extension, I'd prefer to fight wrong practices and educate people in the right ways. </p>

<p><strong>Also, there are some false or non-significant reasons, like</strong></p>

<ul>
<li>Doesn't support Stored Procedures (we were using <code>mysql_query("CALL my_proc");</code> for ages)</li>
<li>Doesn't support Transactions (same as above)</li>
<li>Doesn't support Multiple Statements (who need them?)</li>
<li>Not under active development (so what? does it affect <em>you</em> in any practical way?)</li>
<li>Lacks an OO interface (to create one is a matter of several hours)</li>
<li>Doesn't support Prepared Statements or Parametrized Queries</li>
</ul>

<p>The last one is an interesting point. Although mysql ext do not support <em>native</em> prepared statements, they aren't required for the safety. We can easily fake prepared statements using manually handled placeholders (just like PDO does):</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">paraQuery</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-variable">$args</span>  = <span class="hljs-title function_ invoke__">func_get_args</span>();
    <span class="hljs-variable">$query</span> = <span class="hljs-title function_ invoke__">array_shift</span>(<span class="hljs-variable">$args</span>);
    <span class="hljs-variable">$query</span> = <span class="hljs-title function_ invoke__">str_replace</span>(<span class="hljs-string">"%s"</span>,<span class="hljs-string">"'%s'"</span>,<span class="hljs-variable">$query</span>); 

    <span class="hljs-keyword">foreach</span> (<span class="hljs-variable">$args</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$key</span> =&gt; <span class="hljs-variable">$val</span>)
    {
        <span class="hljs-variable">$args</span>[<span class="hljs-variable">$key</span>] = <span class="hljs-title function_ invoke__">mysql_real_escape_string</span>(<span class="hljs-variable">$val</span>);
    }

    <span class="hljs-variable">$query</span>  = <span class="hljs-title function_ invoke__">vsprintf</span>(<span class="hljs-variable">$query</span>, <span class="hljs-variable">$args</span>);
    <span class="hljs-variable">$result</span> = <span class="hljs-title function_ invoke__">mysql_query</span>(<span class="hljs-variable">$query</span>);
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable">$result</span>)
    {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Exception</span>(<span class="hljs-title function_ invoke__">mysql_error</span>().<span class="hljs-string">" [<span class="hljs-subst">$query</span>]"</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-variable">$result</span>;
}

<span class="hljs-variable">$query</span>  = <span class="hljs-string">"SELECT * FROM table where a=%s AND b LIKE %s LIMIT %d"</span>;
<span class="hljs-variable">$result</span> = <span class="hljs-title function_ invoke__">paraQuery</span>(<span class="hljs-variable">$query</span>, <span class="hljs-variable">$a</span>, <span class="hljs-string">"%<span class="hljs-subst">$b</span>%"</span>, <span class="hljs-variable">$limit</span>);
</code></pre>

<p><em>voila</em>, everything is parameterized and safe.</p>

<p>But okay, if you don't like the red box in the manual, a problem of choice arises: mysqli or PDO?</p>

<p>Well, the answer would be as follows:</p>

<ul>
<li>If you understand the necessity of using a <em>database abstraction layer</em> and looking for an API to create one, <strong>mysqli</strong> is a very good choice, as it indeed supports many mysql-specific features.</li>
<li><p>If, like vast majority of PHP folks, you are using raw API calls right in the application code (which is essentially wrong practice) - <strong>PDO is the only choice</strong>, as this extension pretends to be not just API but rather a semi-DAL, still incomplete but offers many important features, with two of them makes PDO critically distinguished from mysqli:</p>

<ul>
<li>unlike mysqli, PDO can bind placeholders <em>by value</em>, which makes dynamically built queries feasible without several screens of quite messy code.</li>
<li>unlike mysqli, PDO can always return query result in a simple usual array, while mysqli can do it only on mysqlnd installations.</li>
</ul></li>
</ul>

<p>So, if you are an average PHP user and want to save yourself a ton of headaches when using native prepared statements, PDO - again - is the only choice.<br>
However, PDO is not a silver bullet too and has its hardships.<br>
So, I wrote solutions for all the common pitfalls and complex cases in the <a href="https://stackoverflow.com/tags/pdo/info"><strong>PDO tag wiki</strong></a></p>

<p>Nevertheless, everyone talking about extensions always missing the <strong>2 important facts</strong> about Mysqli and PDO:</p>

<ol>
<li><p>Prepared statement <strong>isn't a silver bullet</strong>. There are dynamical identifiers which cannot be bound using prepared statements. There are dynamical queries with an unknown number of parameters which makes query building a difficult task.</p></li>
<li><p><strong>Neither mysqli_* nor PDO functions should have appeared in the application code.</strong><br>
There ought to be an <strong>abstraction layer</strong> between them and application code, which will do all the dirty job of binding, looping, error handling, etc. inside, making application code DRY and clean. Especially for the complex cases like dynamical query building.</p></li>
</ol>

<p>So, just switching to PDO or mysqli is not enough. One has to use an ORM, or a query builder, or whatever database abstraction class instead of calling raw API functions in their code.<br>
And contrary - if you have an abstraction layer between your application code and mysql API - <strong>it doesn't actually matter which engine is used.</strong> You can use mysql ext until it goes deprecated and then easily rewrite your abstraction class to another engine, <strong>having all the application code intact.</strong></p>

<p>Here are some examples based on my <a href="https://github.com/colshrapnel/safemysql/blob/master/safemysql.class.php" rel="noreferrer">safemysql class</a> to show how such an abstraction class ought to be:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-variable">$city_ids</span> = <span class="hljs-keyword">array</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>);
<span class="hljs-variable">$cities</span>   = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">getCol</span>(<span class="hljs-string">"SELECT name FROM cities WHERE is IN(?a)"</span>, <span class="hljs-variable">$city_ids</span>);
</code></pre>

<p>Compare this one single line with <a href="https://stackoverflow.com/a/15991146/285587">amount of code you will need with PDO</a>.<br>
Then compare with <a href="https://stackoverflow.com/a/17874410/285587">crazy amount of code</a> you will need with raw Mysqli prepared statements.
Note that error handling, profiling, query logging already built in and running.</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-variable">$insert</span> = <span class="hljs-keyword">array</span>(<span class="hljs-string">'name'</span> =&gt; <span class="hljs-string">'John'</span>, <span class="hljs-string">'surname'</span> =&gt; <span class="hljs-string">"O'Hara"</span>);
<span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">"INSERT INTO users SET ?u"</span>, <span class="hljs-variable">$insert</span>);
</code></pre>

<p>Compare it with usual PDO inserts, when every single field name being repeated six to ten times - in all these numerous named placeholders, bindings, and query definitions.</p>

<p>Another example:</p>

<pre class="default s-code-block"><code class="hljs language-bash"><span class="hljs-variable">$data</span> = <span class="hljs-variable">$db</span>-&gt;getAll(<span class="hljs-string">"SELECT * FROM goods ORDER BY ?n"</span>, <span class="hljs-variable">$_GET</span>[<span class="hljs-string">'order'</span>]);
</code></pre>

<p>You can hardly find an example for PDO to handle such practical case.<br>
And it will be too wordy and most likely unsafe.    </p>

<p>So, once more - it is not just raw driver should be your concern but abstraction class, useful not only for silly examples from beginner's manual but to solve whatever real-life problems. </p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 7</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>There are many reasons, but perhaps the most important one is that those functions encourage insecure programming practices because they do not support prepared statements. Prepared statements help prevent SQL injection attacks.</p>

<p>When using <code>mysql_*</code> functions, you have to remember to run user-supplied parameters through <code>mysql_real_escape_string()</code>. If you forget in just one place or if you happen to escape only part of the input, your database may be subject to attack.</p>

<p>Using prepared statements in <code>PDO</code> or <code>mysqli</code> will make it so that these sorts of programming errors are more difficult to make.</p>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 8</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Because (amongst other reasons) it's much harder to ensure the input data is sanitized. If you use parametrized queries, as one does with PDO or mysqli you can entirely avoid the risk.</p>

<p>As an example, someone could use <code>"enhzflep); drop table users"</code> as a username. The old functions will allow executing multiple statements per query, so something like that nasty bugger can delete a whole table.</p>

<p>If one were to use PDO of mysqli, the user-name would end-up being <code>"enhzflep); drop table users"</code>.</p>

<p>See <a href="http://bobby-tables.com/" rel="noreferrer">bobby-tables.com</a>.</p>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 9</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This answer is written to show just how trivial it is to bypass poorly written PHP user-validation code, how (and using what) these attacks work and how to replace the old MySQL functions with a secure prepared statement - and basically, why StackOverflow users (probably with a lot of rep) are barking at new users asking questions to improve their code.</p>
<p>First off, please feel free to create this test mysql database (I have called mine prep):</p>
<pre class="default s-code-block"><code class="hljs language-sql">mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> users(
    <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> id <span class="hljs-type">int</span>(<span class="hljs-number">2</span>) <span class="hljs-keyword">primary</span> key auto_increment,
    <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> userid tinytext,
    <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> pass tinytext);
Query OK, <span class="hljs-number">0</span> <span class="hljs-keyword">rows</span> affected (<span class="hljs-number">0.05</span> sec)

mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> users <span class="hljs-keyword">values</span>(<span class="hljs-keyword">null</span>, <span class="hljs-string">'Fluffeh'</span>, <span class="hljs-string">'mypass'</span>);
Query OK, <span class="hljs-number">1</span> <span class="hljs-type">row</span> affected (<span class="hljs-number">0.04</span> sec)

mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">create</span> <span class="hljs-keyword">user</span> <span class="hljs-string">'prepared'</span>@<span class="hljs-string">'localhost'</span> identified <span class="hljs-keyword">by</span> <span class="hljs-string">'example'</span>;
Query OK, <span class="hljs-number">0</span> <span class="hljs-keyword">rows</span> affected (<span class="hljs-number">0.01</span> sec)

mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">grant</span> <span class="hljs-keyword">all</span> privileges <span class="hljs-keyword">on</span> prep.<span class="hljs-operator">*</span> <span class="hljs-keyword">to</span> <span class="hljs-string">'prepared'</span>@<span class="hljs-string">'localhost'</span> <span class="hljs-keyword">with</span> <span class="hljs-keyword">grant</span> option;
Query OK, <span class="hljs-number">0</span> <span class="hljs-keyword">rows</span> affected (<span class="hljs-number">0.00</span> sec)
</code></pre>
<p>With that done, we can move to our PHP code.</p>
<p>Lets assume the following script is the verification process for an admin on a website (simplified but working if you copy and use it for testing):</p>
<pre class="default s-code-block"><code class="hljs language-php-template"><span class="language-php"><span class="hljs-meta">&lt;?php</span> 

    <span class="hljs-keyword">if</span>(!<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">'user'</span>]))
    {
        <span class="hljs-variable">$user</span>=<span class="hljs-variable">$_POST</span>[<span class="hljs-string">'user'</span>];
    }   
    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-variable">$user</span>=<span class="hljs-string">'bob'</span>;
    }
    <span class="hljs-keyword">if</span>(!<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">'pass'</span>]))
    {
        <span class="hljs-variable">$pass</span>=<span class="hljs-variable">$_POST</span>[<span class="hljs-string">'pass'</span>];
    }
    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-variable">$pass</span>=<span class="hljs-string">'bob'</span>;
    }
    
    <span class="hljs-variable">$database</span>=<span class="hljs-string">'prep'</span>;
    <span class="hljs-variable">$link</span>=<span class="hljs-title function_ invoke__">mysql_connect</span>(<span class="hljs-string">'localhost'</span>, <span class="hljs-string">'prepared'</span>, <span class="hljs-string">'example'</span>);
    <span class="hljs-title function_ invoke__">mysql_select_db</span>(<span class="hljs-variable">$database</span>) <span class="hljs-keyword">or</span> <span class="hljs-keyword">die</span>( <span class="hljs-string">"Unable to select database"</span>);

    <span class="hljs-variable">$sql</span>=<span class="hljs-string">"select id, userid, pass from users where userid='<span class="hljs-subst">$user</span>' and pass='<span class="hljs-subst">$pass</span>'"</span>;
    <span class="hljs-comment">//echo $sql."&lt;br&gt;&lt;br&gt;";</span>
    <span class="hljs-variable">$result</span>=<span class="hljs-title function_ invoke__">mysql_query</span>(<span class="hljs-variable">$sql</span>);
    <span class="hljs-variable">$isAdmin</span>=<span class="hljs-literal">false</span>;
    <span class="hljs-keyword">while</span> (<span class="hljs-variable">$row</span> = <span class="hljs-title function_ invoke__">mysql_fetch_assoc</span>(<span class="hljs-variable">$result</span>)) {
        <span class="hljs-keyword">echo</span> <span class="hljs-string">"My id is "</span>.<span class="hljs-variable">$row</span>[<span class="hljs-string">'id'</span>].<span class="hljs-string">" and my username is "</span>.<span class="hljs-variable">$row</span>[<span class="hljs-string">'userid'</span>].<span class="hljs-string">" and lastly, my password is "</span>.<span class="hljs-variable">$row</span>[<span class="hljs-string">'pass'</span>].<span class="hljs-string">"&lt;br&gt;"</span>;
        <span class="hljs-variable">$isAdmin</span>=<span class="hljs-literal">true</span>;
        <span class="hljs-comment">// We have correctly matched the Username and Password</span>
        <span class="hljs-comment">// Lets give this person full access</span>
    }
    <span class="hljs-keyword">if</span>(<span class="hljs-variable">$isAdmin</span>)
    {
        <span class="hljs-keyword">echo</span> <span class="hljs-string">"The check passed. We have a verified admin!&lt;br&gt;"</span>;
    }
    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-keyword">echo</span> <span class="hljs-string">"You could not be verified. Please try again...&lt;br&gt;"</span>;
    }
    <span class="hljs-title function_ invoke__">mysql_close</span>(<span class="hljs-variable">$link</span>);

<span class="hljs-meta">?&gt;</span></span><span class="language-xml">

<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"exploited"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">'post'</span>&gt;</span>
    User: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'text'</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'user'</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    Pass: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'text'</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'pass'</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'submit'</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</span></code></pre>
<p>Seems legit enough at first glance.</p>
<p>The user has to enter a login and password, right?</p>
<p>Brilliant, now enter the following:</p>
<pre class="default s-code-block"><code class="hljs language-http"><span class="hljs-attribute">user</span><span class="hljs-punctuation">: </span>bob
<span class="hljs-attribute">pass</span><span class="hljs-punctuation">: </span>somePass
</code></pre>
<p>and submit it.</p>
<p>The output is as follows:</p>
<pre class="default s-code-block"><code class="hljs language-erlang">You could <span class="hljs-keyword">not</span> be verified. Please <span class="hljs-keyword">try</span> again...
</code></pre>
<p>Super! Working as expected, now lets try the actual username and password:</p>
<pre class="default s-code-block"><code class="hljs language-http"><span class="hljs-attribute">user</span><span class="hljs-punctuation">: </span>Fluffeh
<span class="hljs-attribute">pass</span><span class="hljs-punctuation">: </span>mypass
</code></pre>
<p>Amazing! Hi-fives all round, the code correctly verified an admin. It's perfect!</p>
<p>Well, not really. Lets say the user is a clever little person. Lets say the person is me.</p>
<p>Enter in the following:</p>
<pre class="default s-code-block"><code class="hljs language-vbnet"><span class="hljs-symbol">user:</span> bob
<span class="hljs-symbol">pass:</span> n<span class="hljs-comment">' or 1=1 or 'm=m</span>
</code></pre>
<p>And the output is:</p>
<pre class="default s-code-block"><code class="hljs language-css">The check passed. We have <span class="hljs-selector-tag">a</span> verified admin!
</code></pre>
<p>Congrats, you just allowed me to enter your super-protected admins only section with me entering a false username and a false password. Seriously, if you don't believe me, create the database with the code I provided, and run this PHP code - which at glance REALLY does seem to verify the username and password rather nicely.</p>
<p>So, in answer, THAT IS WHY YOU ARE BEING YELLED AT.</p>
<p>So, lets have a look at what went wrong, and why I just got into your super-admin-only-bat-cave. I took a guess and assumed that you weren't being careful with your inputs and simply passed them to the database directly. I constructed the input in a way tht would CHANGE the query that you were actually running. So, what was it supposed to be, and what did it end up being?</p>
<pre class="default s-code-block"><code class="hljs language-python">select <span class="hljs-built_in">id</span>, userid, <span class="hljs-keyword">pass</span> <span class="hljs-keyword">from</span> users where userid=<span class="hljs-string">'$user'</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">pass</span>=<span class="hljs-string">'$pass'</span>
</code></pre>
<p>That's the query, but when we replace the variables with the actual inputs that we used, we get the following:</p>
<pre class="default s-code-block"><code class="hljs language-python">select <span class="hljs-built_in">id</span>, userid, <span class="hljs-keyword">pass</span> <span class="hljs-keyword">from</span> users where userid=<span class="hljs-string">'bob'</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">pass</span>=<span class="hljs-string">'n'</span> <span class="hljs-keyword">or</span> <span class="hljs-number">1</span>=<span class="hljs-number">1</span> <span class="hljs-keyword">or</span> <span class="hljs-string">'m=m'</span>
</code></pre>
<p>See how I constructed my "password" so that it would first close the single quote around the password, then introduce a completely new comparison? Then just for safety, I added another "string" so that the single quote would get closed as expected in the code we originally had.</p>
<p>However, this isn't about folks yelling at you now, this is about showing you how to make your code more secure.</p>
<p>Okay, so what went wrong, and how can we fix it?</p>
<p>This is a classic SQL injection attack. One of the simplest for that matter. On the scale of attack vectors, this is a toddler attacking a tank - and winning.</p>
<p>So, how do we protect your sacred admin section and make it nice and secure? The first thing to do will be to stop using those really old and deprecated <code>mysql_*</code> functions. I know, you followed a tutorial you found online and it works, but it's old, it's outdated and in the space of a few minutes, I have just broken past it without so much as breaking a sweat.</p>
<p>Now, you have the better options of using <a href="http://php.net/manual/en/book.mysqli.php" rel="nofollow noreferrer">mysqli_</a> or <a href="http://www.php.net/manual/en/book.pdo.php" rel="nofollow noreferrer">PDO</a>. I am personally a big fan of PDO, so I will be using PDO in the rest of this answer. There are pro's and con's, but personally I find that the pro's far outweigh the con's. It's portable across multiple database engines - whether you are using MySQL or Oracle or just about bloody anything - just by changing the connection string, it has all the fancy features we want to use and it is nice and clean. I like clean.</p>
<p>Now, lets have a look at that code again, this time written using a PDO object:</p>
<pre class="default s-code-block"><code class="hljs language-php-template"><span class="language-php"><span class="hljs-meta">&lt;?php</span> 

    <span class="hljs-keyword">if</span>(!<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">'user'</span>]))
    {
        <span class="hljs-variable">$user</span>=<span class="hljs-variable">$_POST</span>[<span class="hljs-string">'user'</span>];
    }   
    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-variable">$user</span>=<span class="hljs-string">'bob'</span>;
    }
    <span class="hljs-keyword">if</span>(!<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">'pass'</span>]))
    {
        <span class="hljs-variable">$pass</span>=<span class="hljs-variable">$_POST</span>[<span class="hljs-string">'pass'</span>];
    }
    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-variable">$pass</span>=<span class="hljs-string">'bob'</span>;
    }
    <span class="hljs-variable">$isAdmin</span>=<span class="hljs-literal">false</span>;
    
    <span class="hljs-variable">$database</span>=<span class="hljs-string">'prep'</span>;
    <span class="hljs-variable">$pdo</span>=<span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">PDO</span> (<span class="hljs-string">'mysql:host=localhost;dbname=prep'</span>, <span class="hljs-string">'prepared'</span>, <span class="hljs-string">'example'</span>);
    <span class="hljs-variable">$sql</span>=<span class="hljs-string">"select id, userid, pass from users where userid=:user and pass=:password"</span>;
    <span class="hljs-variable">$myPDO</span> = <span class="hljs-variable">$pdo</span>-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-variable">$sql</span>, <span class="hljs-keyword">array</span>(PDO::<span class="hljs-variable constant_">ATTR_CURSOR</span> =&gt; PDO::<span class="hljs-variable constant_">CURSOR_FWDONLY</span>));
    <span class="hljs-keyword">if</span>(<span class="hljs-variable">$myPDO</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>(<span class="hljs-keyword">array</span>(<span class="hljs-string">':user'</span> =&gt; <span class="hljs-variable">$user</span>, <span class="hljs-string">':password'</span> =&gt; <span class="hljs-variable">$pass</span>)))
    {
        <span class="hljs-keyword">while</span>(<span class="hljs-variable">$row</span>=<span class="hljs-variable">$myPDO</span>-&gt;<span class="hljs-title function_ invoke__">fetch</span>(PDO::<span class="hljs-variable constant_">FETCH_ASSOC</span>))
        {
            <span class="hljs-keyword">echo</span> <span class="hljs-string">"My id is "</span>.<span class="hljs-variable">$row</span>[<span class="hljs-string">'id'</span>].<span class="hljs-string">" and my username is "</span>.<span class="hljs-variable">$row</span>[<span class="hljs-string">'userid'</span>].<span class="hljs-string">" and lastly, my password is "</span>.<span class="hljs-variable">$row</span>[<span class="hljs-string">'pass'</span>].<span class="hljs-string">"&lt;br&gt;"</span>;
            <span class="hljs-variable">$isAdmin</span>=<span class="hljs-literal">true</span>;
            <span class="hljs-comment">// We have correctly matched the Username and Password</span>
            <span class="hljs-comment">// Lets give this person full access</span>
        }
    }
    
    <span class="hljs-keyword">if</span>(<span class="hljs-variable">$isAdmin</span>)
    {
        <span class="hljs-keyword">echo</span> <span class="hljs-string">"The check passed. We have a verified admin!&lt;br&gt;"</span>;
    }
    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-keyword">echo</span> <span class="hljs-string">"You could not be verified. Please try again...&lt;br&gt;"</span>;
    }

<span class="hljs-meta">?&gt;</span></span><span class="language-xml">

<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"exploited"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">'post'</span>&gt;</span>
    User: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'text'</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'user'</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    Pass: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'text'</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'pass'</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'submit'</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</span></code></pre>
<p>The major differences are that there are no more <code>mysql_*</code> functions. It's all done via a PDO object, secondly, it is using a prepared statement. Now, what's a prepared statement you ask? It's a way to tell the database ahead of running a query, what the query is that we are going to run. In this case, we tell the database: "Hi, I am going to run a select statement wanting id, userid and pass from the table users where the userid is a variable and the pass is also a variable.".</p>
<p>Then, in the execute statement, we pass the database an array with all the variables that it now expects.</p>
<p>The results are fantastic. Lets try those username and password combinations from before again:</p>
<pre class="default s-code-block"><code class="hljs language-http"><span class="hljs-attribute">user</span><span class="hljs-punctuation">: </span>bob
<span class="hljs-attribute">pass</span><span class="hljs-punctuation">: </span>somePass
</code></pre>
<p>User wasn't verified. Awesome.</p>
<p>How about:</p>
<pre class="default s-code-block"><code class="hljs language-http"><span class="hljs-attribute">user</span><span class="hljs-punctuation">: </span>Fluffeh
<span class="hljs-attribute">pass</span><span class="hljs-punctuation">: </span>mypass
</code></pre>
<p>Oh, I just got a little excited, it worked: The check passed. We have a verified admin!</p>
<p>Now, lets try the data that a clever chap would enter to try to get past our little verification system:</p>
<pre class="default s-code-block"><code class="hljs language-vbnet"><span class="hljs-symbol">user:</span> bob
<span class="hljs-symbol">pass:</span> n<span class="hljs-comment">' or 1=1 or 'm=m</span>
</code></pre>
<p>This time, we get the following:</p>
<pre class="default s-code-block"><code class="hljs language-erlang">You could <span class="hljs-keyword">not</span> be verified. Please <span class="hljs-keyword">try</span> again...
</code></pre>
<p>This is why you are being yelled at when posting questions - it's because people can see that your code can be bypassed wihout even trying. Please, do use this question and answer to improve your code, to make it more secure and to use functions that are current.</p>
<p>Lastly, this isn't to say that this is PERFECT code. There are many more things that you could do to improve it, use hashed passwords for example, ensure that when you store sensitive information in the database, you don't store it in plain text, have multiple levels of verification - but really, if you just change your old injection prone code to this, you will be WELL along the way to writing good code - and the fact that you have gotten this far and are still reading gives me a sense of hope that you will not only implement this type of code when writing your websites and applications, but that you might go out and research those other things I just mentioned - and more. Write the best code you can, not the most basic code that barely functions.</p>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 10</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The MySQL extension is the oldest of the three and was the original way that developers used to communicate with MySQL. This extension is now being <a href="http://php.net/manual/en/migration55.deprecated.php">deprecated</a> in favor of the other <a href="http://php.net/manual/en/book.mysqli.php">two</a> <a href="http://php.net/manual/en/book.pdo.php">alternatives</a> because of improvements made in newer releases of both PHP and MySQL.</p>

<ul>
<li><p><a href="http://php.net/manual/en/book.mysqli.php">MySQLi</a> is the 'improved' extension for working with MySQL databases. It takes advantage of features that are available in newer versions of the MySQL server, exposes both a function-oriented and an object-oriented interface to the developer and a does few other nifty things.</p></li>
<li><p><a href="http://php.net/manual/en/book.pdo.php">PDO</a> offers an API that consolidates most of the functionality that was previously spread across the major database access extensions, i.e. MySQL, PostgreSQL, SQLite, MSSQL, etc. The interface exposes high-level objects for the programmer to work with database connections, queries and result sets, and low-level drivers perform communication and resource handling with the database server. A lot of discussion and work is going into PDO and its considered the appropriate method of working with databases in modern, professional code.</p></li>
</ul>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 11</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I find the above answers really lengthy, so to summarize:</p>

<blockquote>
  <p>The mysqli extension has a number of
  benefits, the key enhancements over
  the mysql extension being:</p>
  
  <ul>
  <li>Object-oriented interface</li>
  <li>Support for Prepared Statements</li>
  <li>Support for Multiple Statements</li>
  <li>Support for Transactions</li>
  <li>Enhanced debugging capabilities</li>
  <li>Embedded server support</li>
  </ul>
</blockquote>

<p>Source: <a href="http://us2.php.net/manual/en/mysqli.overview.php" rel="noreferrer">MySQLi overview</a></p>

<hr>

<p>As explained in the above answers, the alternatives to mysql are mysqli and PDO (PHP Data Objects).</p>

<ul>
<li>API supports server-side Prepared Statements: Supported by MYSQLi and PDO</li>
<li>API supports client-side Prepared Statements: Supported only by PDO</li>
<li>API supports Stored Procedures: Both MySQLi and PDO</li>
<li>API supports Multiple Statements and all MySQL 4.1+ functionality - Supported by MySQLi and mostly also by PDO</li>
</ul>

<p>Both MySQLi and PDO were introduced in PHP 5.0, whereas MySQL was introduced prior to PHP 3.0. A point to note is that MySQL is included in PHP5.x though deprecated in later versions. </p>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 12</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>It's possible to define almost all <code>mysql_*</code> functions using mysqli or PDO. Just include them on top of your old PHP application, and it will work on PHP7. My solution <a href="https://github.com/sunhater/php7-mysql/blob/master/php7-mysql.php" rel="noreferrer">here</a>.</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-title function_ invoke__">define</span>(<span class="hljs-string">'MYSQL_LINK'</span>, <span class="hljs-string">'dbl'</span>);
<span class="hljs-variable">$GLOBALS</span>[MYSQL_LINK] = <span class="hljs-literal">null</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_link</span>(<span class="hljs-params"><span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-keyword">return</span> (<span class="hljs-variable">$link</span> === <span class="hljs-literal">null</span>) ? <span class="hljs-variable">$GLOBALS</span>[MYSQL_LINK] : <span class="hljs-variable">$link</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_connect</span>(<span class="hljs-params"><span class="hljs-variable">$host</span>, <span class="hljs-variable">$user</span>, <span class="hljs-variable">$pass</span></span>) </span>{
    <span class="hljs-variable">$GLOBALS</span>[MYSQL_LINK] = <span class="hljs-title function_ invoke__">mysqli_connect</span>(<span class="hljs-variable">$host</span>, <span class="hljs-variable">$user</span>, <span class="hljs-variable">$pass</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-variable">$GLOBALS</span>[MYSQL_LINK];
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_pconnect</span>(<span class="hljs-params"><span class="hljs-variable">$host</span>, <span class="hljs-variable">$user</span>, <span class="hljs-variable">$pass</span></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysql_connect</span>(<span class="hljs-variable">$host</span>, <span class="hljs-variable">$user</span>, <span class="hljs-variable">$pass</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_select_db</span>(<span class="hljs-params"><span class="hljs-variable">$db</span>, <span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_select_db</span>(<span class="hljs-variable">$link</span>, <span class="hljs-variable">$db</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_close</span>(<span class="hljs-params"><span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_close</span>(<span class="hljs-variable">$link</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_error</span>(<span class="hljs-params"><span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_error</span>(<span class="hljs-variable">$link</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_errno</span>(<span class="hljs-params"><span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_errno</span>(<span class="hljs-variable">$link</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_ping</span>(<span class="hljs-params"><span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_ping</span>(<span class="hljs-variable">$link</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_stat</span>(<span class="hljs-params"><span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_stat</span>(<span class="hljs-variable">$link</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_affected_rows</span>(<span class="hljs-params"><span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_affected_rows</span>(<span class="hljs-variable">$link</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_client_encoding</span>(<span class="hljs-params"><span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_character_set_name</span>(<span class="hljs-variable">$link</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_thread_id</span>(<span class="hljs-params"><span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_thread_id</span>(<span class="hljs-variable">$link</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_escape_string</span>(<span class="hljs-params"><span class="hljs-variable">$string</span></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysql_real_escape_string</span>(<span class="hljs-variable">$string</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_real_escape_string</span>(<span class="hljs-params"><span class="hljs-variable">$string</span>, <span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_real_escape_string</span>(<span class="hljs-variable">$link</span>, <span class="hljs-variable">$string</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_query</span>(<span class="hljs-params"><span class="hljs-variable">$sql</span>, <span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_query</span>(<span class="hljs-variable">$link</span>, <span class="hljs-variable">$sql</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_unbuffered_query</span>(<span class="hljs-params"><span class="hljs-variable">$sql</span>, <span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_query</span>(<span class="hljs-variable">$link</span>, <span class="hljs-variable">$sql</span>, MYSQLI_USE_RESULT);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_set_charset</span>(<span class="hljs-params"><span class="hljs-variable">$charset</span>, <span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>)</span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_set_charset</span>(<span class="hljs-variable">$link</span>, <span class="hljs-variable">$charset</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_get_host_info</span>(<span class="hljs-params"><span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_get_host_info</span>(<span class="hljs-variable">$link</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_get_proto_info</span>(<span class="hljs-params"><span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_get_proto_info</span>(<span class="hljs-variable">$link</span>);
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_get_server_info</span>(<span class="hljs-params"><span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_get_server_info</span>(<span class="hljs-variable">$link</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_info</span>(<span class="hljs-params"><span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_info</span>(<span class="hljs-variable">$link</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_get_client_info</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_get_client_info</span>(<span class="hljs-variable">$link</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_create_db</span>(<span class="hljs-params"><span class="hljs-variable">$db</span>, <span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-variable">$db</span> = <span class="hljs-title function_ invoke__">str_replace</span>(<span class="hljs-string">'`'</span>, <span class="hljs-string">''</span>, <span class="hljs-title function_ invoke__">mysqli_real_escape_string</span>(<span class="hljs-variable">$link</span>, <span class="hljs-variable">$db</span>));
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_query</span>(<span class="hljs-variable">$link</span>, <span class="hljs-string">"CREATE DATABASE `<span class="hljs-subst">$db</span>`"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_drop_db</span>(<span class="hljs-params"><span class="hljs-variable">$db</span>, <span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-variable">$db</span> = <span class="hljs-title function_ invoke__">str_replace</span>(<span class="hljs-string">'`'</span>, <span class="hljs-string">''</span>, <span class="hljs-title function_ invoke__">mysqli_real_escape_string</span>(<span class="hljs-variable">$link</span>, <span class="hljs-variable">$db</span>));
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_query</span>(<span class="hljs-variable">$link</span>, <span class="hljs-string">"DROP DATABASE `<span class="hljs-subst">$db</span>`"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_list_dbs</span>(<span class="hljs-params"><span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_query</span>(<span class="hljs-variable">$link</span>, <span class="hljs-string">"SHOW DATABASES"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_list_fields</span>(<span class="hljs-params"><span class="hljs-variable">$db</span>, <span class="hljs-variable">$table</span>, <span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-variable">$db</span> = <span class="hljs-title function_ invoke__">str_replace</span>(<span class="hljs-string">'`'</span>, <span class="hljs-string">''</span>, <span class="hljs-title function_ invoke__">mysqli_real_escape_string</span>(<span class="hljs-variable">$link</span>, <span class="hljs-variable">$db</span>));
    <span class="hljs-variable">$table</span> = <span class="hljs-title function_ invoke__">str_replace</span>(<span class="hljs-string">'`'</span>, <span class="hljs-string">''</span>, <span class="hljs-title function_ invoke__">mysqli_real_escape_string</span>(<span class="hljs-variable">$link</span>, <span class="hljs-variable">$table</span>));
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_query</span>(<span class="hljs-variable">$link</span>, <span class="hljs-string">"SHOW COLUMNS FROM `<span class="hljs-subst">$db</span>`.`<span class="hljs-subst">$table</span>`"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_list_tables</span>(<span class="hljs-params"><span class="hljs-variable">$db</span>, <span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-variable">$db</span> = <span class="hljs-title function_ invoke__">str_replace</span>(<span class="hljs-string">'`'</span>, <span class="hljs-string">''</span>, <span class="hljs-title function_ invoke__">mysqli_real_escape_string</span>(<span class="hljs-variable">$link</span>, <span class="hljs-variable">$db</span>));
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_query</span>(<span class="hljs-variable">$link</span>, <span class="hljs-string">"SHOW TABLES FROM `<span class="hljs-subst">$db</span>`"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_db_query</span>(<span class="hljs-params"><span class="hljs-variable">$db</span>, <span class="hljs-variable">$sql</span>, <span class="hljs-variable">$link</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-variable">$link</span> = <span class="hljs-title function_ invoke__">mysql_link</span>(<span class="hljs-variable">$link</span>);
    <span class="hljs-title function_ invoke__">mysqli_select_db</span>(<span class="hljs-variable">$link</span>, <span class="hljs-variable">$db</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_query</span>(<span class="hljs-variable">$link</span>, <span class="hljs-variable">$sql</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_fetch_row</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_fetch_row</span>(<span class="hljs-variable">$qlink</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_fetch_assoc</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_fetch_assoc</span>(<span class="hljs-variable">$qlink</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_fetch_array</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$result</span>=MYSQLI_BOTH</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_fetch_array</span>(<span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$result</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_fetch_lengths</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_fetch_lengths</span>(<span class="hljs-variable">$qlink</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_insert_id</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_insert_id</span>(<span class="hljs-variable">$qlink</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_num_rows</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_num_rows</span>(<span class="hljs-variable">$qlink</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_num_fields</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_num_fields</span>(<span class="hljs-variable">$qlink</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_data_seek</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$row</span></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_data_seek</span>(<span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$row</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_field_seek</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$offset</span></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_field_seek</span>(<span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$offset</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_fetch_object</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$class</span>=<span class="hljs-string">"stdClass"</span>, <span class="hljs-keyword">array</span> <span class="hljs-variable">$params</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-keyword">return</span> (<span class="hljs-variable">$params</span> === <span class="hljs-literal">null</span>)
        ? <span class="hljs-title function_ invoke__">mysqli_fetch_object</span>(<span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$class</span>)
        : <span class="hljs-title function_ invoke__">mysqli_fetch_object</span>(<span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$class</span>, <span class="hljs-variable">$params</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_db_name</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$row</span>, <span class="hljs-variable">$field</span>=<span class="hljs-string">'Database'</span></span>) </span>{
    <span class="hljs-title function_ invoke__">mysqli_data_seek</span>(<span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$row</span>);
    <span class="hljs-variable">$db</span> = <span class="hljs-title function_ invoke__">mysqli_fetch_assoc</span>(<span class="hljs-variable">$qlink</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-variable">$db</span>[<span class="hljs-variable">$field</span>];
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_fetch_field</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$offset</span>=<span class="hljs-literal">null</span></span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-variable">$offset</span> !== <span class="hljs-literal">null</span>)
        <span class="hljs-title function_ invoke__">mysqli_field_seek</span>(<span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$offset</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">mysqli_fetch_field</span>(<span class="hljs-variable">$qlink</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_result</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$offset</span>, <span class="hljs-variable">$field</span>=<span class="hljs-number">0</span></span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-variable">$offset</span> !== <span class="hljs-literal">null</span>)
        <span class="hljs-title function_ invoke__">mysqli_field_seek</span>(<span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$offset</span>);
    <span class="hljs-variable">$row</span> = <span class="hljs-title function_ invoke__">mysqli_fetch_array</span>(<span class="hljs-variable">$qlink</span>);
    <span class="hljs-keyword">return</span> (!<span class="hljs-title function_ invoke__">is_array</span>(<span class="hljs-variable">$row</span>) || !<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$row</span>[<span class="hljs-variable">$field</span>]))
        ? <span class="hljs-literal">false</span>
        : <span class="hljs-variable">$row</span>[<span class="hljs-variable">$field</span>];
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_field_len</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$offset</span></span>) </span>{
    <span class="hljs-variable">$field</span> = <span class="hljs-title function_ invoke__">mysqli_fetch_field_direct</span>(<span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$offset</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">is_object</span>(<span class="hljs-variable">$field</span>) ? <span class="hljs-variable">$field</span>-&gt;length : <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_field_name</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$offset</span></span>) </span>{
    <span class="hljs-variable">$field</span> = <span class="hljs-title function_ invoke__">mysqli_fetch_field_direct</span>(<span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$offset</span>);
    <span class="hljs-keyword">if</span> (!<span class="hljs-title function_ invoke__">is_object</span>(<span class="hljs-variable">$field</span>))
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">empty</span>(<span class="hljs-variable">$field</span>-&gt;orgname) ? <span class="hljs-variable">$field</span>-&gt;name : <span class="hljs-variable">$field</span>-&gt;orgname;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_field_table</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$offset</span></span>) </span>{
    <span class="hljs-variable">$field</span> = <span class="hljs-title function_ invoke__">mysqli_fetch_field_direct</span>(<span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$offset</span>);
    <span class="hljs-keyword">if</span> (!<span class="hljs-title function_ invoke__">is_object</span>(<span class="hljs-variable">$field</span>))
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">empty</span>(<span class="hljs-variable">$field</span>-&gt;orgtable) ? <span class="hljs-variable">$field</span>-&gt;table : <span class="hljs-variable">$field</span>-&gt;orgtable;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_field_type</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$offset</span></span>) </span>{
    <span class="hljs-variable">$field</span> = <span class="hljs-title function_ invoke__">mysqli_fetch_field_direct</span>(<span class="hljs-variable">$qlink</span>, <span class="hljs-variable">$offset</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">is_object</span>(<span class="hljs-variable">$field</span>) ? <span class="hljs-variable">$field</span>-&gt;type : <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mysql_free_result</span>(<span class="hljs-params"><span class="hljs-variable">$qlink</span></span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-title function_ invoke__">mysqli_free_result</span>(<span class="hljs-variable">$qlink</span>);
    } <span class="hljs-keyword">catch</span> (<span class="hljs-built_in">Exception</span> <span class="hljs-variable">$e</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 13</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>Don't use mysql because is deprecated use Mysqli Instead.</h2>
<p><strong>What Deprecated Means:</strong></p>
<p>It means don't use some specific function/method/software feature/particular software practice it just means that it should not be used because there is (or there will be) a better alternative in that software that should be used instead.</p>
<p><strong>Several common issues can arise when using deprecated functions:</strong></p>
<p><strong>1. Functions just flat-out stop working:</strong> Applications or scripts might rely on functions that are simply no longer supported, Thus use their improved versions or alternative.</p>
<p><strong>2. Warning messages display about deprecation</strong>: These messages dont normally interfere with site functionality. However, in some cases, they might disrupt the process of the server sending headers.</p>
<p>For Example: This can cause login issues (cookies/sessions dont get set properly) or forwarding issues (301/302/303 redirects).</p>
<p><strong>keep in mind that:</strong></p>
<p>-Deprecated software is still a part of the software.</p>
<p>-Deprecated code is just a status (label) of the code.</p>
<p><strong>Key Differences in MYSQL vs MYSQLI</strong>
mysql*</p>
<ul>
<li>old database driver</li>
<li>MySQL can only be used procedurally</li>
<li>No protection from SQL injection attack</li>
<li>Was deprecated in PHP 5.5.0 and was removed in PHP 7</li>
</ul>
<p>mysqli</p>
<ul>
<li>new database driver</li>
<li>Currently under usage</li>
<li>prepared statements protect from attacks</li>
</ul>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 14</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>There is no need to update if you are sure you don't want to upgrade php version , But at the same time you won't get security updates too which will make your website more vulnerable to hackers that's the main reason.</p>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/correctly-allocating-multi-dimensional-arrays-1657387733756">Correctly allocating multi-dimensional arrays</a><a href="/questions/what-is-the-(function()-)()-construct-in-javascript-1657385508348">What is the (function() { } )() construct in JavaScript?</a><a href="/questions/what-is-an-undefined-referenceunresolved-external-symbol-error-and-how-do-i-fix-it-1657384255179">What is an undefined reference/unresolved external symbol error and how do I fix it?</a><a href="/questions/variables-are-not-behaving-as-expected-1657384865672">Variables are not behaving as expected</a><a href="/questions/commandbuttoncommandlinkajax-actionlistener-method-not-invoked-or-input-value-not-setupdated-1657384667519">commandButton/commandLink/ajax action/listener method not invoked or input value not set/updated</a><a href="/questions/what-does-enctype&#x27;multipartform-data&#x27;-mean-1657388229352">What does enctype=&#x27;multipart/form-data&#x27; mean?</a><a href="/questions/php-parsesyntax-errors-and-how-to-solve-them-1657384264713">PHP parse/syntax errors; and how to solve them</a><a href="/questions/can-php-pdo-statements-accept-the-table-or-column-name-as-parameter-1657387478588">Can PHP PDO Statements accept the table or column name as parameter?</a><a href="/questions/what-is-the-scope-of-variables-in-javascript-1657384464291">What is the scope of variables in JavaScript?</a><a href="/questions/how-to-print-without-a-newline-or-space-1657387814213">How to print without a newline or space</a><a href="/questions/how-do-servlets-work-instantiation-sessions-shared-variables-and-multithreading-1657387540375">How do servlets work? Instantiation, sessions, shared variables and multithreading</a><a href="/questions/what-is-array-to-pointer-decay-1657384709608">What is array to pointer decay?</a><a href="/questions/maintain-the-aspect-ratio-of-a-div-with-css-1657387513615">Maintain the aspect ratio of a div with CSS</a><a href="/questions/why-is-processing-a-sorted-array-faster-than-processing-an-unsorted-array-1657385497444">Why is processing a sorted array faster than processing an unsorted array?</a><a href="/questions/difference-between-single-and-double-quotes-in-bash-1657385460827">Difference between single and double quotes in Bash</a><a href="/questions/how-to-serve-static-files-in-flask-1657387862496">How to serve static files in Flask</a><a href="/questions/why-can&#x27;t-i-store-a-value-and-a-reference-to-that-value-in-the-same-struct-1657387506828">Why can&#x27;t I store a value and a reference to that value in the same struct?</a><a href="/questions/what-methods-of-&#x27;clearfix&#x27;-can-i-use-1657387672727">What methods of ‘clearfix’ can I use?</a><a href="/questions/should-i-avoid-the-use-of-set(preferredormaximumorminimum)size-methods-in-java-swing-1657384628399">Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?</a><a href="/questions/how-to-deal-with-settingwithcopywarning-in-pandas-1657384778377">How to deal with SettingWithCopyWarning in Pandas</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;The MySQL extension:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Is not under active development\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Is \u0026lt;strong\u0026gt;officially \u0026lt;a href=\u0026quot;https://wiki.php.net/rfc/mysql_deprecation\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;deprecated\u0026lt;/a\u0026gt;\u0026lt;/strong\u0026gt; as of PHP 5.5 (released June 2013).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Has been \u0026lt;strong\u0026gt;\u0026lt;a href=\u0026quot;https://wiki.php.net/rfc/remove_deprecated_functionality_in_php7#extmysql\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;removed\u0026lt;/a\u0026gt; entirely\u0026lt;/strong\u0026gt; as of PHP 7.0 (released December 2015)\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;This means that as of \u0026lt;a href=\u0026quot;https://www.php.net/eol.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;31 Dec 2018\u0026lt;/a\u0026gt; it does not exist in any supported version of PHP. If you are using a version of PHP which supports it, you are using a version which doesn\u0026apos;t get security problems fixed.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Lacks an OO interface\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Doesn\u0026apos;t support:\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Non-blocking, asynchronous queries\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;a href=\u0026quot;http://php.net/manual/en/mysqli.quickstart.prepared-statements.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Prepared statements\u0026lt;/a\u0026gt; or parameterized queries\u0026lt;/strong\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Stored procedures\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Multiple Statements\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Transactions\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The \u0026quot;new\u0026quot; password authentication method (on by default in MySQL 5.6; required in 5.7)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Any of the new functionality in MySQL 5.1 or later\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Since it is deprecated, using it makes your code less future proof. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Lack of support for prepared statements is particularly important as they provide a clearer, less error-prone method of escaping and quoting external data than manually escaping it with a separate function call.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;See \u0026lt;a href=\u0026quot;http://php.net/manual/en/mysqlinfo.api.choosing.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;the comparison of SQL extensions\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;PHP offers three different APIs to connect to MySQL. These are the \u0026lt;a href=\u0026quot;http://in1.php.net/manual/en/book.mysql.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;mysql\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;(removed as of PHP 7), \u0026lt;a href=\u0026quot;http://uk.php.net/manual/en/book.mysqli.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;mysqli\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;, and \u0026lt;a href=\u0026quot;http://php.net/manual/en/book.pdo.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; extensions.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The \u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt; functions used to be very popular, but their use is not encouraged anymore. The documentation team is discussing the database security situation, and educating users to move away from the commonly used ext/mysql extension is part of this (check \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;http://news.php.net/php.internals/53799\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;php.internals: deprecating ext/mysql\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;And the later PHP developer team has taken the decision to generate \u0026lt;a href=\u0026quot;https://github.com/php/php-src/commit/b7091aaf0137d97cf4aa4a402ec50b3946d369c0\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;E_DEPRECATED\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt; errors when users connect to MySQL, whether through \u0026lt;code\u0026gt;mysql_connect()\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;mysql_pconnect()\u0026lt;/code\u0026gt; or the implicit connection functionality built into \u0026lt;code\u0026gt;ext/mysql\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;ext/mysql\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; was \u0026lt;a href=\u0026quot;https://wiki.php.net/rfc/mysql_deprecation\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;officially deprecated as of PHP 5.5\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt; and has been \u0026lt;a href=\u0026quot;https://wiki.php.net/rfc/remove_deprecated_functionality_in_php7\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;removed as of PHP 7\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;See the Red Box?\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;When you go on any \u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt; function manual page, you see a red box, explaining it should not be used anymore.\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;Why\u0026lt;/h2\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;Moving away from \u0026lt;code\u0026gt;ext/mysql\u0026lt;/code\u0026gt; is not only about security, but also about having access to all the features of the MySQL database.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;ext/mysql\u0026lt;/code\u0026gt; was built for \u0026lt;strong\u0026gt;MySQL 3.23\u0026lt;/strong\u0026gt; and only got very few additions since then while mostly keeping compatibility with this old version which makes the code a bit harder to maintain. Missing features that is not supported by \u0026lt;code\u0026gt;ext/mysql\u0026lt;/code\u0026gt; include: (\u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://wiki.php.net/rfc/mysql_deprecation\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;from PHP manual\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;).\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Stored_procedure\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Stored procedures\u0026lt;/a\u0026gt; (can\u0026apos;t handle multiple result sets)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Prepared_statement\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Prepared statements\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Encryption (SSL)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Compression\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Full Charset support\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Reason to not use \u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt; function\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Not under active development\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Removed as of PHP 7\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Lacks an OO interface\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Doesn\u0026apos;t support non-blocking, asynchronous queries\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Doesn\u0026apos;t support prepared statements or \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Prepared_statement\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;parameterized queries\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Doesn\u0026apos;t support stored procedures\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Doesn\u0026apos;t support multiple statements\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Doesn\u0026apos;t support \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Database_transaction\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;transactions\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Doesn\u0026apos;t support all of the functionality in MySQL 5.1\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/12860046/1723893\u0026quot;\u0026gt;Above point quoted from Quentin\u0026apos;s answer\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Lack of support for prepared statements is particularly important as they provide a clearer, less error prone method of escaping and quoting external data than manually escaping it with a separate function call.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;See the \u0026lt;a href=\u0026quot;http://php.net/manual/en/mysqlinfo.api.choosing.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;comparison of SQL extensions\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Suppressing deprecation warnings\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;While code is being converted to \u0026lt;code\u0026gt;MySQLi\u0026lt;/code\u0026gt;/\u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;E_DEPRECATED\u0026lt;/code\u0026gt; errors can be suppressed by setting \u0026lt;code\u0026gt;error_reporting\u0026lt;/code\u0026gt; in \u0026lt;strong\u0026gt;php.ini\u0026lt;/strong\u0026gt; to exclude \u0026lt;code\u0026gt;E_DEPRECATED:\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-ini\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;error_reporting\u0026lt;/span\u0026gt; = E_ALL ^ E_DEPRECATED\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Note that this will also hide \u0026lt;strong\u0026gt;other deprecation warnings\u0026lt;/strong\u0026gt;, which, however, may be for things other than MySQL. (\u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://wiki.php.net/rfc/mysql_deprecation#workarounds\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;from PHP manual\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The article \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;http://net.tutsplus.com/tutorials/php/pdo-vs-mysqli-which-should-you-use/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;PDO vs. MySQLi: Which Should You Use?\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt; by \u0026lt;a href=\u0026quot;http://webarto.com/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Dejan Marjanovic\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt; will help you to choose.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;And a better way is \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt;, and I am now writing a simple \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt; tutorial.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;h2\u0026gt;A simple and short PDO tutorial\u0026lt;/h2\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;h3\u0026gt;Q. First question in my mind was: what is `PDO`?\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;A. \u0026lt;strong\u0026gt;PDO  PHP Data Objects\u0026lt;/strong\u0026gt;  is a database access layer providing a uniform method of access to multiple databases.\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/Vd7ve.png\u0026quot; alt=\u0026quot;alt text\u0026quot;\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;h3\u0026gt;Connecting to MySQL \u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;With \u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt; function or we can say it the old way (deprecated in PHP 5.5 and above)\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = mysql_connect(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;localhost\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;user\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;pass\u0026apos;\u0026lt;/span\u0026gt;);\nmysql_select_db(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testdb\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\nmysql_set_charset(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;UTF-8\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;With \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt;: All you need to do is create a new \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt; object. The constructor accepts parameters for specifying the database source \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt;\u0026apos;s constructor mostly takes four parameters which are \u0026lt;code\u0026gt;DSN\u0026lt;/code\u0026gt; (data source name) and  optionally \u0026lt;code\u0026gt;username\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;password\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Here I think you are familiar with all except \u0026lt;code\u0026gt;DSN\u0026lt;/code\u0026gt;; this is new in \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt;. A \u0026lt;code\u0026gt;DSN\u0026lt;/code\u0026gt; is basically a string of options that tell \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt; which driver to use, and connection details. For further reference, check \u0026lt;a href=\u0026quot;http://www.php.net/manual/en/ref.pdo-mysql.connection.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;PDO MySQL DSN\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;PDO\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mysql:host=localhost;dbname=testdb;charset=utf8\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;username\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;password\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Note:\u0026lt;/strong\u0026gt; you can also use \u0026lt;code\u0026gt;charset=UTF-8\u0026lt;/code\u0026gt;, but sometimes it causes an error, so it\u0026apos;s better to use \u0026lt;code\u0026gt;utf8\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If there is any connection error, it will throw a \u0026lt;code\u0026gt;PDOException\u0026lt;/code\u0026gt; object that can be caught to handle \u0026lt;code\u0026gt;Exception\u0026lt;/code\u0026gt; further.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Good read\u0026lt;/strong\u0026gt;: \u0026lt;a href=\u0026quot;http://php.net/manual/en/pdo.connections.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Connections and Connection management ¶\u0026lt;/a\u0026gt; \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You can also pass in several driver options as an array to the fourth parameter. I recommend passing the parameter which puts \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt; into exception mode. Because some \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt; drivers don\u0026apos;t support native prepared statements, so \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt; performs emulation of the prepare. It also lets you manually enable this emulation. To use the native server-side prepared statements, you should explicitly set it \u0026lt;code\u0026gt;false\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The other is to turn off prepare emulation which is enabled in the \u0026lt;code\u0026gt;MySQL\u0026lt;/code\u0026gt; driver by default, but prepare emulation should be turned off to use \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt; safely. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I will later explain why prepare emulation should be turned off. To find reason please check \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/12202218/1723893\u0026quot;\u0026gt;this post\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It is only usable if you are using an old version of \u0026lt;code\u0026gt;MySQL\u0026lt;/code\u0026gt; which I do not recommended.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Below is an example of how you can do it:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;PDO\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mysql:host=localhost;dbname=testdb;charset=UTF-8\u0026apos;\u0026lt;/span\u0026gt;, \n              \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;username\u0026apos;\u0026lt;/span\u0026gt;, \n              \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;password\u0026apos;\u0026lt;/span\u0026gt;,\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;ATTR_EMULATE_PREPARES\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;,\n              PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;ATTR_ERRMODE\u0026lt;/span\u0026gt; =\u0026amp;gt; PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;ERRMODE_EXCEPTION\u0026lt;/span\u0026gt;));\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Can we set attributes after PDO construction?\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Yes\u0026lt;/strong\u0026gt;, we can also set some attributes after PDO construction with the \u0026lt;code\u0026gt;setAttribute\u0026lt;/code\u0026gt; method:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;PDO\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mysql:host=localhost;dbname=testdb;charset=UTF-8\u0026apos;\u0026lt;/span\u0026gt;, \n              \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;username\u0026apos;\u0026lt;/span\u0026gt;, \n              \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;password\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;setAttribute\u0026lt;/span\u0026gt;(PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;ATTR_ERRMODE\u0026lt;/span\u0026gt;, PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;ERRMODE_EXCEPTION\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;setAttribute\u0026lt;/span\u0026gt;(PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;ATTR_EMULATE_PREPARES\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h2\u0026gt;Error Handling \u0026lt;/h2\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;Error handling is much easier in \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt; than \u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;A common practice when using \u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt; is:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Connected to MySQL\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SELECT * FROM table\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;or\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;die\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_error\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;));\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;OR die()\u0026lt;/code\u0026gt; is not a good way to handle the error since we can not handle the thing in \u0026lt;code\u0026gt;die\u0026lt;/code\u0026gt;. It will just end the script abruptly and then echo the error to the screen which you usually do NOT want to show to your end users, and let bloody hackers discover your schema. Alternately, the return values of \u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt; functions can often be used in conjunction with \u0026lt;a href=\u0026quot;http://php.net/mysql_error\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;mysql_error()\u0026lt;/a\u0026gt; to handle errors.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt; offers a better solution: exceptions. Anything we do with \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt; should be wrapped in a \u0026lt;code\u0026gt;try\u0026lt;/code\u0026gt;-\u0026lt;code\u0026gt;catch\u0026lt;/code\u0026gt; block. We can force \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt; into one of three error modes by setting the error mode attribute. Three error handling modes are below.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;PDO::ERRMODE_SILENT\u0026lt;/code\u0026gt;. It\u0026apos;s just setting error codes and acts pretty much the same as \u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt; where you must check each result and then look at \u0026lt;code\u0026gt;$db-\u0026amp;gt;errorInfo();\u0026lt;/code\u0026gt; to get the error details.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;PDO::ERRMODE_WARNING\u0026lt;/code\u0026gt; Raise \u0026lt;code\u0026gt;E_WARNING\u0026lt;/code\u0026gt;. (Run-time warnings (non-fatal errors). Execution of the script is not halted.)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;PDO::ERRMODE_EXCEPTION\u0026lt;/code\u0026gt;: Throw exceptions. It represents an error raised by PDO. You should not throw a \u0026lt;code\u0026gt;PDOException\u0026lt;/code\u0026gt; from your own code. See \u0026lt;em\u0026gt;Exceptions\u0026lt;/em\u0026gt; for more information about exceptions in PHP. It acts very much like \u0026lt;code\u0026gt;or die(mysql_error());\u0026lt;/code\u0026gt;, when it isn\u0026apos;t caught. But unlike \u0026lt;code\u0026gt;or die()\u0026lt;/code\u0026gt;, the \u0026lt;code\u0026gt;PDOException\u0026lt;/code\u0026gt; can be caught and handled gracefully if you choose to do so.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Good read\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://php.net/manual/en/pdo.error-handling.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Errors and error handling ¶\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://php.net/manual/en/class.pdoexception.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;The PDOException class ¶\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://www.php.net/manual/en/language.exceptions.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Exceptions ¶\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Like:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;setAttribute\u0026lt;/span\u0026gt;( PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;ATTR_ERRMODE\u0026lt;/span\u0026gt;, PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;ERRMODE_SILENT\u0026lt;/span\u0026gt; );\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;setAttribute\u0026lt;/span\u0026gt;( PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;ATTR_ERRMODE\u0026lt;/span\u0026gt;, PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;ERRMODE_WARNING\u0026lt;/span\u0026gt; );\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;setAttribute\u0026lt;/span\u0026gt;( PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;ATTR_ERRMODE\u0026lt;/span\u0026gt;, PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;ERRMODE_EXCEPTION\u0026lt;/span\u0026gt; );\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And you can wrap it in \u0026lt;code\u0026gt;try\u0026lt;/code\u0026gt;-\u0026lt;code\u0026gt;catch\u0026lt;/code\u0026gt;, like below:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Connect as appropriate as above\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;hi\u0026apos;\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Invalid query!\u0026lt;/span\u0026gt;\n} \n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (PDOException \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ex\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;An Error occured!\u0026quot;\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//User friendly message/message you want to show to user\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;some_logging_function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ex\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;getMessage\u0026lt;/span\u0026gt;());\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You do not have to handle with \u0026lt;code\u0026gt;try\u0026lt;/code\u0026gt;-\u0026lt;code\u0026gt;catch\u0026lt;/code\u0026gt; right now. You can catch it at any time appropriate, but I strongly recommend you to use \u0026lt;code\u0026gt;try\u0026lt;/code\u0026gt;-\u0026lt;code\u0026gt;catch\u0026lt;/code\u0026gt;. Also it may make more sense to catch it at outside the function that calls the \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt; stuff:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;data_fun\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SELECT * FROM table\u0026quot;\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;fetchAll\u0026lt;/span\u0026gt;(PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FETCH_ASSOC\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Then later\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;data_fun\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;);\n}\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt;(PDOException \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$ex\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Here you can handle error and show message/perform action you want.\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Also, you can handle by \u0026lt;code\u0026gt;or die()\u0026lt;/code\u0026gt; or we can say like \u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt;, but it will be really varied. You can hide the dangerous error messages in production by turning \u0026lt;code\u0026gt;display_errors off\u0026lt;/code\u0026gt; and just reading your error log.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Now, after reading all the things above, you are probably thinking: what the heck is that when I just want to start leaning simple \u0026lt;code\u0026gt;SELECT\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;INSERT\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;UPDATE\u0026lt;/code\u0026gt;, or \u0026lt;code\u0026gt;DELETE\u0026lt;/code\u0026gt; statements? Don\u0026apos;t worry, here we go:\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;h2\u0026gt;Selecting Data\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/AhIlC.png\u0026quot; alt=\u0026quot;PDO select image\u0026quot;\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So what you are doing in \u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt; is:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;?php\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;SELECT * from table\u0026apos;\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;or\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;die\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_error\u0026lt;/span\u0026gt;());\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$num_rows\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_num_rows\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_fetch_assoc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt;)) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;field1\u0026apos;\u0026lt;/span\u0026gt;];\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Now in \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt;, you can do this like:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;?php\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;SELECT * FROM table\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;fetch\u0026lt;/span\u0026gt;(PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FETCH_ASSOC\u0026lt;/span\u0026gt;)) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;field1\u0026apos;\u0026lt;/span\u0026gt;];\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Or\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;?php\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;SELECT * FROM table\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$results\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;fetchAll\u0026lt;/span\u0026gt;(PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FETCH_ASSOC\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Use $results\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Note\u0026lt;/strong\u0026gt;: If you are using the method like below (\u0026lt;code\u0026gt;query()\u0026lt;/code\u0026gt;), this method returns a \u0026lt;code\u0026gt;PDOStatement\u0026lt;/code\u0026gt; object. So if you want to fetch the result, use it like above.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;?php\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;foreach\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;SELECT * FROM table\u0026apos;\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;field1\u0026apos;\u0026lt;/span\u0026gt;];\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;In PDO Data, it is obtained via the \u0026lt;code\u0026gt;-\u0026amp;gt;fetch()\u0026lt;/code\u0026gt;, a method of your statement handle. Before calling fetch, the best approach would be telling PDO how youd like the data to be fetched. In the below section I am explaining this.\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;Fetch Modes\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;Note the use of \u0026lt;code\u0026gt;PDO::FETCH_ASSOC\u0026lt;/code\u0026gt; in the \u0026lt;code\u0026gt;fetch()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;fetchAll()\u0026lt;/code\u0026gt; code above. This tells \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt; to return the rows as an associative array with the field names as keys. There are many other fetch modes too which I will explain one by one.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;First of all, I explain how to select fetch mode:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;fetch\u0026lt;/span\u0026gt;(PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FETCH_ASSOC\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;In the above, I have been using \u0026lt;code\u0026gt;fetch()\u0026lt;/code\u0026gt;. You can also use:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://php.net/manual/en/pdostatement.fetchall.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;PDOStatement::fetchAll()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; - Returns an array containing all of the result set rows\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://php.net/manual/en/pdostatement.fetchcolumn.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;PDOStatement::fetchColumn()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; - Returns a single column from the next row of a result set\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://php.net/manual/en/pdostatement.fetchobject.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;PDOStatement::fetchObject()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; - Fetches the next row and returns it as an object.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://php.net/manual/en/pdostatement.setfetchmode.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;PDOStatement::setFetchMode()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; - Set the default fetch mode for this statement\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Now I come to fetch mode:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;PDO::FETCH_ASSOC\u0026lt;/code\u0026gt;: returns an array indexed by column name as returned in your result set\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;PDO::FETCH_BOTH\u0026lt;/code\u0026gt; (default): returns an array indexed by both column name and 0-indexed column number as returned in your result set\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;There are even more choices! Read about them all in \u0026lt;a href=\u0026quot;http://www.php.net/manual/en/pdostatement.fetch.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;PDOStatement\u0026lt;/code\u0026gt; Fetch documentation.\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Getting the row count\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Instead of using \u0026lt;code\u0026gt;mysql_num_rows\u0026lt;/code\u0026gt; to get the number of returned rows, you can get a \u0026lt;code\u0026gt;PDOStatement\u0026lt;/code\u0026gt; and do \u0026lt;code\u0026gt;rowCount()\u0026lt;/code\u0026gt;, like:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;?php\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;SELECT * FROM table\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row_count\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;rowCount\u0026lt;/span\u0026gt;();\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row_count\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos; rows selected\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Getting the Last Inserted ID\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;?php\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;exec\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;INSERT INTO table(firstname, lastname) VAULES(\u0026apos;John\u0026apos;, \u0026apos;Doe\u0026apos;)\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$insertId\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;lastInsertId\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;h2\u0026gt;Insert and Update or Delete statements\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/yQhPC.png\u0026quot; alt=\u0026quot;Insert and update PDO image\u0026quot;\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;What we are doing in \u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt; function is:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;?php\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$results\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;UPDATE table SET field=\u0026apos;value\u0026apos;\u0026quot;\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;or\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;die\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_error\u0026lt;/span\u0026gt;());\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_affected_rows\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And in pdo, this same thing can be done by:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;?php\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$affected_rows\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;exec\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;UPDATE table SET field=\u0026apos;value\u0026apos;\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$affected_rows\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;In the above query \u0026lt;a href=\u0026quot;http://php.net/manual/en/pdo.exec.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;PDO::exec\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; execute an SQL statement and returns the number of affected rows.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;sub\u0026gt;\u0026lt;em\u0026gt;Insert and delete will be covered later.\u0026lt;/em\u0026gt;\u0026lt;/sub\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The above method is only useful when you are not using variable in query. But when you need to use a variable in a query, do not ever ever try like the above and there for  \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Prepared_statement\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;prepared statement or parameterized statement\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt; is.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;h2\u0026gt;\u0026lt;strong\u0026gt;Prepared Statements\u0026lt;/strong\u0026gt;\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Q.\u0026lt;/strong\u0026gt; What is a prepared statement and why do I need them?\u0026lt;br\u0026gt;\n\u0026lt;strong\u0026gt;A.\u0026lt;/strong\u0026gt; A prepared statement is a pre-compiled SQL statement that can be executed multiple times by sending only the data to the server.\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The typical workflow of using a prepared statement is as follows (\u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Prepared_statement\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;quoted from Wikipedia three 3 point\u0026lt;/a\u0026gt;):\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Prepare\u0026lt;/strong\u0026gt;: The statement template is created by the application and sent to the database management system (DBMS). Certain values are left unspecified, called parameters, placeholders or bind variables (labelled \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; below):\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;INSERT INTO PRODUCT (name, price) VALUES (?, ?)\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;The DBMS parses, compiles, and performs query optimization on the statement template, and stores the result without executing it.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;Execute\u0026lt;/strong\u0026gt;: At a later time, the application supplies (or binds) values for the parameters, and the DBMS executes the statement (possibly returning a result). The application may execute the statement as many times as it wants with different values. In this example, it might supply \u0026apos;Bread\u0026apos; for the first parameter and \u0026lt;code\u0026gt;1.00\u0026lt;/code\u0026gt; for the second parameter.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;You can use a prepared statement by including placeholders in your SQL. There are basically three ones without placeholders (don\u0026apos;t try this with variable its above one), one with unnamed placeholders, and one with named placeholders.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Q.\u0026lt;/strong\u0026gt; So now, what are named placeholders and how do I use them?\u0026lt;br\u0026gt;\n\u0026lt;strong\u0026gt;A.\u0026lt;/strong\u0026gt; Named placeholders. Use descriptive names preceded by a colon, instead of question marks. We don\u0026apos;t care about position/order of value in name place holder:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;bindParam(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:bla\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$bla\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://php.net/manual/en/pdostatement.bindparam.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;bindParam(parameter,variable,data_type,length,driver_options)\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You can also bind using an execute array as well:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;?php\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;prepare\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SELECT * FROM table WHERE id=:id AND name=:name\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:name\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$name\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:id\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$id\u0026lt;/span\u0026gt;));\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$rows\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;fetchAll\u0026lt;/span\u0026gt;(PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FETCH_ASSOC\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Another nice feature for \u0026lt;code\u0026gt;OOP\u0026lt;/code\u0026gt; friends is that named placeholders have the ability to insert objects directly into your database, assuming the properties match the named fields. For example:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;person\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$name\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$add\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;__construct\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$a\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$b\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;name = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$a\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;add = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$b\u0026lt;/span\u0026gt;;\n    }\n\n}\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$demo\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;person\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;john\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;29 bla district\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;prepare\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;INSERT INTO table (name, add) value (:name, :add)\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$demo\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Q.\u0026lt;/strong\u0026gt; So now, what are unnamed placeholders and how do I use them?\u0026lt;br\u0026gt;\n\u0026lt;strong\u0026gt;A.\u0026lt;/strong\u0026gt; Let\u0026apos;s have an example:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;?php\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;prepare\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;INSERT INTO folks (name, add) values (?, ?)\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;bindValue\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$name\u0026lt;/span\u0026gt;, PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;PARAM_STR\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;bindValue\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$add\u0026lt;/span\u0026gt;, PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;PARAM_STR\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;and\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;prepare\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;INSERT INTO folks (name, add) values (?, ?)\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;john\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;29 bla district\u0026apos;\u0026lt;/span\u0026gt;));\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;In the above, you can see those \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; instead of a name like in a name place holder. Now in the first example, we assign variables to the various placeholders (\u0026lt;code\u0026gt;$stmt-\u0026amp;gt;bindValue(1, $name, PDO::PARAM_STR);\u0026lt;/code\u0026gt;). Then, we assign values to those placeholders and execute the statement. In the second example, the first array element goes to the first \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; and the second to the second \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;NOTE\u0026lt;/strong\u0026gt;: In \u0026lt;strong\u0026gt;unnamed placeholders\u0026lt;/strong\u0026gt; we must take care of the proper order of the elements in the array that we are passing to the \u0026lt;code\u0026gt;PDOStatement::execute()\u0026lt;/code\u0026gt; method.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;h2\u0026gt;\u0026lt;code\u0026gt;SELECT\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;INSERT\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;UPDATE\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;DELETE\u0026lt;/code\u0026gt; prepared queries\u0026lt;/h2\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;SELECT\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;prepare\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SELECT * FROM table WHERE id=:id AND name=:name\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:name\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$name\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:id\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$id\u0026lt;/span\u0026gt;));\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$rows\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;fetchAll\u0026lt;/span\u0026gt;(PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FETCH_ASSOC\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;INSERT\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;prepare\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;INSERT INTO table(field1,field2) VALUES(:field1,:field2)\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:field1\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:field2\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field2\u0026lt;/span\u0026gt;));\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$affected_rows\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;rowCount\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;DELETE\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;prepare\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;DELETE FROM table WHERE id=:id\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;bindValue\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:id\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$id\u0026lt;/span\u0026gt;, PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;PARAM_STR\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;();\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$affected_rows\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;rowCount\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;UPDATE\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;prepare\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;UPDATE table SET name=? WHERE id=?\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$name\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$id\u0026lt;/span\u0026gt;));\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$affected_rows\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;rowCount\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;h2\u0026gt;\u0026lt;strong\u0026gt;NOTE:\u0026lt;/strong\u0026gt;\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;However \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt; and/or \u0026lt;code\u0026gt;MySQLi\u0026lt;/code\u0026gt; are not completely safe. Check the answer \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/12202218/1723893\u0026quot;\u0026gt;Are PDO prepared statements sufficient to prevent SQL injection?\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt; by \u0026lt;a href=\u0026quot;https://stackoverflow.com/users/338665/ircmaxell\u0026quot;\u0026gt;ircmaxell\u0026lt;/a\u0026gt;. Also, I am quoting some part from his answer:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pdo\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;setAttribute\u0026lt;/span\u0026gt;(PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;ATTR_EMULATE_PREPARES\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pdo\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;SET NAMES GBK\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pdo\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;prepare\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SELECT * FROM test WHERE name = ? LIMIT 1\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;chr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xbf\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;chr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x27\u0026lt;/span\u0026gt;) . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; OR 1=1 /*\u0026quot;\u0026lt;/span\u0026gt;));\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;First, let\u0026apos;s begin with the standard comment we give everyone: \u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/q/12859942\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Please, don\u0026apos;t use \u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt; functions in new code\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt;. They are no longer maintained \u0026lt;a href=\u0026quot;https://wiki.php.net/rfc/mysql_deprecation\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;and are officially deprecated\u0026lt;/a\u0026gt;. See the \u0026lt;a href=\u0026quot;http://uk.php.net/manual/en/function.mysql-connect.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;red box\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt;? Learn about \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Prepared_statement\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;em\u0026gt;prepared statements\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt; instead, and use \u0026lt;a href=\u0026quot;http://php.net/pdo\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;PDO\u0026lt;/a\u0026gt; or \u0026lt;a href=\u0026quot;http://php.net/mysqli\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;MySQLi\u0026lt;/a\u0026gt; - \u0026lt;a href=\u0026quot;http://php.net/manual/en/mysqlinfo.api.choosing.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;this article\u0026lt;/a\u0026gt; will help you decide which. If you choose PDO, \u0026lt;a href=\u0026quot;http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;here is a good tutorial\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;Let\u0026apos;s go through this, sentence by sentence, and explain:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;They are no longer maintained, and are officially deprecated\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This means that the PHP community is gradually dropping support for these very old functions. They are likely to not exist in a future (recent) version of PHP! Continued use of these functions may break your code in the (not so) far future.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;NEW! - ext/mysql is now \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://wiki.php.net/rfc/mysql_deprecation\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;officially deprecated as of PHP 5.5!\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;Newer! ext/mysql \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://wiki.php.net/rfc/remove_deprecated_functionality_in_php7\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;has been removed in PHP 7\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;.\u0026lt;/h2\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Instead, you should learn of prepared statements\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt; extension does not support \u0026lt;strong\u0026gt;prepared statements\u0026lt;/strong\u0026gt;, which is (among other things) a very effective countermeasure against \u0026lt;strong\u0026gt;SQL Injection\u0026lt;/strong\u0026gt;. It fixed a very serious vulnerability in MySQL dependent applications which allows attackers to gain access to your script and perform \u0026lt;strong\u0026gt;any possible query\u0026lt;/strong\u0026gt; on your database.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For more information, see \u0026lt;strong\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/60174/best-way-to-prevent-sql-injection-in-php\u0026quot;\u0026gt;How can I prevent SQL injection in PHP?\u0026lt;/a\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;See the Red Box?\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;When you go to any \u0026lt;code\u0026gt;mysql\u0026lt;/code\u0026gt; function manual page, you see a red box, explaining it should not be used anymore.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Use either PDO or MySQLi\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;There are better, more robust and well-built alternatives, \u0026lt;strong\u0026gt;\u0026lt;a href=\u0026quot;http://php.net/pdo\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;PDO - PHP Database Object\u0026lt;/a\u0026gt;\u0026lt;/strong\u0026gt;, which offers a complete OOP approach to database interaction, and \u0026lt;strong\u0026gt;\u0026lt;a href=\u0026quot;http://php.net/mysqli\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;MySQLi\u0026lt;/a\u0026gt;\u0026lt;/strong\u0026gt;, which is a MySQL specific improvement.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;Ease of use\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;The analytic and synthetic reasons were already mentioned. For newcomers there\u0026apos;s a more significant incentive to stop using the dated mysql_ functions. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Contemporary database APIs are just \u0026lt;em\u0026gt;easier\u0026lt;/em\u0026gt; to use.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It\u0026apos;s mostly the \u0026lt;em\u0026gt;bound parameters\u0026lt;/em\u0026gt; which can simplify code. And with \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/14110189\u0026quot;\u0026gt;excellent tutorials (as seen above)\u0026lt;/a\u0026gt; the transition to \u0026lt;a href=\u0026quot;http://php.net/PDO\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;PDO\u0026lt;/a\u0026gt; isn\u0026apos;t overly arduous.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Rewriting a larger code base at once however takes time. Raison d\u0026apos;être for this intermediate alternative:\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;Equivalent pdo_* functions in place of \u0026lt;s\u0026gt;mysql_*\u0026lt;/s\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Using \u0026lt;a href=\u0026quot;http://fossil.include-once.org/upgradephp/artifact/43ab742241e5a3be43d31764dd333ba68e245360\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;strong\u0026gt;pdo_mysql.php\u0026lt;/strong\u0026gt;\u0026amp;gt;\u0026lt;/a\u0026gt; you can switch from the old mysql_ functions with \u0026lt;em\u0026gt;minimal effort\u0026lt;/em\u0026gt;. It adds \u0026lt;code\u0026gt;pdo_\u0026lt;/code\u0026gt; function wrappers which replace their \u0026lt;code\u0026gt;mysql_\u0026lt;/code\u0026gt; counterparts.\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Simply \u0026lt;code\u0026gt;include_once(\u0026lt;/code\u0026gt;\u0026lt;a href=\u0026quot;http://fossil.include-once.org/upgradephp/artifact/43ab742241e5a3be43d31764dd333ba68e245360\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;\u0026quot;pdo_mysql.php\u0026quot;\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;code\u0026gt;);\u0026lt;/code\u0026gt; in each invocation script that has to interact with the database.\n\u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Remove the \u0026lt;s\u0026gt;\u0026lt;code\u0026gt;mysql_\u0026lt;/code\u0026gt;\u0026lt;/s\u0026gt; function prefix \u0026lt;em\u0026gt;everywhere\u0026lt;/em\u0026gt; and replace it with \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;pdo_\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;s\u0026gt;\u0026lt;code\u0026gt;mysql_\u0026lt;/code\u0026gt;\u0026lt;/s\u0026gt;\u0026lt;code\u0026gt;connect()\u0026lt;/code\u0026gt; becomes \u0026lt;b\u0026gt;\u0026lt;code\u0026gt;pdo_\u0026lt;/code\u0026gt;\u0026lt;/b\u0026gt;\u0026lt;code\u0026gt;connect()\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;s\u0026gt;\u0026lt;code\u0026gt;mysql_\u0026lt;/code\u0026gt;\u0026lt;/s\u0026gt;\u0026lt;code\u0026gt;query()\u0026lt;/code\u0026gt; becomes \u0026lt;b\u0026gt;\u0026lt;code\u0026gt;pdo_\u0026lt;/code\u0026gt;\u0026lt;/b\u0026gt;\u0026lt;code\u0026gt;query()\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;s\u0026gt;\u0026lt;code\u0026gt;mysql_\u0026lt;/code\u0026gt;\u0026lt;/s\u0026gt;\u0026lt;code\u0026gt;num_rows()\u0026lt;/code\u0026gt; becomes \u0026lt;b\u0026gt;\u0026lt;code\u0026gt;pdo_\u0026lt;/code\u0026gt;\u0026lt;/b\u0026gt;\u0026lt;code\u0026gt;num_rows()\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;s\u0026gt;\u0026lt;code\u0026gt;mysql_\u0026lt;/code\u0026gt;\u0026lt;/s\u0026gt;\u0026lt;code\u0026gt;insert_id()\u0026lt;/code\u0026gt; becomes \u0026lt;b\u0026gt;\u0026lt;code\u0026gt;pdo_\u0026lt;/code\u0026gt;\u0026lt;/b\u0026gt;\u0026lt;code\u0026gt;insert_id()\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;s\u0026gt;\u0026lt;code\u0026gt;mysql_\u0026lt;/code\u0026gt;\u0026lt;/s\u0026gt;\u0026lt;code\u0026gt;fetch_array()\u0026lt;/code\u0026gt; becomes \u0026lt;b\u0026gt;\u0026lt;code\u0026gt;pdo_\u0026lt;/code\u0026gt;\u0026lt;/b\u0026gt;\u0026lt;code\u0026gt;fetch_array()\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;s\u0026gt;\u0026lt;code\u0026gt;mysql_\u0026lt;/code\u0026gt;\u0026lt;/s\u0026gt;\u0026lt;code\u0026gt;fetch_assoc()\u0026lt;/code\u0026gt; becomes \u0026lt;b\u0026gt;\u0026lt;code\u0026gt;pdo_\u0026lt;/code\u0026gt;\u0026lt;/b\u0026gt;\u0026lt;code\u0026gt;fetch_assoc()\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;s\u0026gt;\u0026lt;code\u0026gt;mysql_\u0026lt;/code\u0026gt;\u0026lt;/s\u0026gt;\u0026lt;code\u0026gt;real_escape_string()\u0026lt;/code\u0026gt; becomes \u0026lt;b\u0026gt;\u0026lt;code\u0026gt;pdo_\u0026lt;/code\u0026gt;\u0026lt;/b\u0026gt;\u0026lt;code\u0026gt;real_escape_string()\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;em\u0026gt;and so on...\u0026lt;/em\u0026gt; \u0026lt;br\u0026gt;\u0026lt;br\u0026gt;  \u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Your code will work alike and still mostly look the same:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include_once\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;pdo_mysql.php\u0026quot;\u0026lt;/span\u0026gt;); \n\n\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;pdo_connect\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;localhost\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;usrABC\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;pw1234567\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;pdo_select_db\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;test\u0026quot;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;pdo_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SELECT title, html FROM pages\u0026quot;\u0026lt;/span\u0026gt;);  \n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;pdo_fetch_assoc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt;)) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;[title] - \u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;[html]\u0026quot;\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;Et voilà.\u0026lt;br\u0026gt;\nYour code is \u0026lt;em\u0026gt;using\u0026lt;/em\u0026gt; PDO.\u0026lt;br\u0026gt;\nNow it\u0026apos;s time to actually \u0026lt;em\u0026gt;utilize\u0026lt;/em\u0026gt; it.  \u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;Bound parameters can be easy to use\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/78Ddi.jpg\u0026quot;\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You just need a less unwieldy API.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;pdo_query()\u0026lt;/code\u0026gt; adds very facile support for bound parameters. Converting old code is straightforward:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/PeuHl.png\u0026quot;\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Move your variables out of the SQL string.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Add them as comma delimited function parameters to \u0026lt;code\u0026gt;pdo_query()\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Place question marks \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; as placeholders where the variables were before.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Get rid of \u0026lt;code\u0026gt;\u0026apos;\u0026lt;/code\u0026gt; single quotes that previously enclosed string values/variables.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;The advantage becomes more obvious for lengthier code.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Often string variables aren\u0026apos;t just interpolated into SQL, but concatenated with escaping calls in between.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-lisp\u0026quot;\u0026gt;pdo_query(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SELECT id, links, html, title, user, date FROM articles\n   WHERE title=\u0026apos;\u0026quot;\u0026lt;/span\u0026gt; . pdo_real_escape_string($title) . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026apos; OR id=\u0026apos;\u0026quot;\u0026lt;/span\u0026gt;.\n   pdo_real_escape_string($title) . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026apos; AND user \u0026amp;lt;\u0026amp;gt; \u0026apos;\u0026quot;\u0026lt;/span\u0026gt; .\n   pdo_real_escape_string($root) . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026apos; ORDER BY date\u0026quot;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;With \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; placeholders applied you don\u0026apos;t have to bother with that:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;pdo_query(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SELECT id, links, html, title, user, date FROM articles\n   WHERE title=? OR id=? AND user\u0026amp;lt;\u0026amp;gt;? ORDER BY date\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$title\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$id\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$root\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Remember that pdo_* still allows \u0026lt;em\u0026gt;either or\u0026lt;/em\u0026gt;.\u0026lt;br\u0026gt;\nJust don\u0026apos;t escape a variable \u0026lt;em\u0026gt;and\u0026lt;/em\u0026gt; bind it in the same query.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;The placeholder feature is provided by the real PDO behind it.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Thus also allowed \u0026lt;code\u0026gt;:named\u0026lt;/code\u0026gt; placeholder lists later.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;More importantly you can pass $_REQUEST[] variables safely behind any query. When submitted \u0026lt;code\u0026gt;\u0026amp;lt;form\u0026amp;gt;\u0026lt;/code\u0026gt; fields match the database structure exactly it\u0026apos;s even shorter:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;pdo_query(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;INSERT INTO pages VALUES (?,?,?,?,?)\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$_POST\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;So much simplicity. But let\u0026apos;s get back to some more rewriting advises and technical reasons on why you may want to get rid of \u0026lt;s\u0026gt;\u0026lt;code\u0026gt;mysql_\u0026lt;/code\u0026gt;\u0026lt;/s\u0026gt; and escaping.\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;Fix or remove any oldschool \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/3126072/what-are-the-best-php-input-sanitizing-functions\u0026quot;\u0026gt;\u0026lt;code\u0026gt;sanitize()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; function\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Once you have converted all \u0026lt;s\u0026gt;\u0026lt;code\u0026gt;mysql_\u0026lt;/code\u0026gt;\u0026lt;/s\u0026gt; calls to \u0026lt;code\u0026gt;pdo_query\u0026lt;/code\u0026gt; with bound params, remove all redundant \u0026lt;code\u0026gt;pdo_real_escape_string\u0026lt;/code\u0026gt; calls.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In particular you should fix any \u0026lt;code\u0026gt;sanitize\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;clean\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;filterThis\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;clean_data\u0026lt;/code\u0026gt; functions as advertised by dated tutorials in one form or the other:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;sanitize\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$str\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;trim\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;strip_tags\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;htmlentities\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;pdo_real_escape_string\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$str\u0026lt;/span\u0026gt;))));\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Most glaring bug here is the lack of documentation. More significantly the order of filtering was in exactly the wrong order.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Correct order would have been: deprecatedly \u0026lt;code\u0026gt;stripslashes\u0026lt;/code\u0026gt; as the innermost call, then \u0026lt;code\u0026gt;trim\u0026lt;/code\u0026gt;, afterwards \u0026lt;code\u0026gt;strip_tags\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;htmlentities\u0026lt;/code\u0026gt; for output context, and only lastly the \u0026lt;code\u0026gt;_escape_string\u0026lt;/code\u0026gt; as its application should directly preceed the SQL intersparsing.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;But as first step just \u0026lt;strong\u0026gt;get rid of the \u0026lt;code\u0026gt;_real_escape_string\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; call.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;You may have to keep the rest of your \u0026lt;code\u0026gt;sanitize()\u0026lt;/code\u0026gt; function for now if your database and application flow expect HTML-context-safe strings. Add a comment that it applies only HTML escaping henceforth.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;String/value handling is delegated to PDO and its parameterized statements.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;If there was any mention of \u0026lt;code\u0026gt;stripslashes()\u0026lt;/code\u0026gt; in your sanitize function, it may indicate a higher level oversight.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;That was commonly there to undo damage (double escaping) from the deprecated \u0026lt;a href=\u0026quot;http://php.net/magic_quotes\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;magic_quotes\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;. Which however is \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/517008/how-to-turn-off-magic-quotes-on-shared-hosting\u0026quot;\u0026gt;best fixed centrally\u0026lt;/a\u0026gt;, not string by string.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Use one of the \u0026lt;a href=\u0026quot;http://php.net/security.magicquotes.disabling\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;userland reversal\u0026lt;/a\u0026gt; approaches. Then remove the \u0026lt;code\u0026gt;stripslashes()\u0026lt;/code\u0026gt; in the \u0026lt;code\u0026gt;sanitize\u0026lt;/code\u0026gt; function.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Historic note on magic_quotes.\u0026lt;/strong\u0026gt; That feature is rightly deprecated. It\u0026apos;s often incorrectly portrayed as failed \u0026lt;em\u0026gt;security\u0026lt;/em\u0026gt; feature however. But magic_quotes are as much a failed security feature as tennis balls have failed as nutrition source. That simply wasn\u0026apos;t their purpose.\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;The original implementation in PHP2/FI introduced it explicitly with just \u0026quot;\u0026lt;em\u0026gt;quotes will be automatically escaped making it easier to pass form data directly to msql queries\u0026lt;/em\u0026gt;\u0026quot;. Notably it was accidentially safe to use with \u0026lt;a href=\u0026quot;http://www.hughes.com.au/products/msql/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;mSQL\u0026lt;/a\u0026gt;, as that supported ASCII only.\u0026lt;br\u0026gt;\n  Then PHP3/Zend reintroduced magic_quotes for MySQL and misdocumented it. But originally it was just a \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/16098194/why-magic-quotes-has-been-removed-from-php-5-4\u0026quot;\u0026gt;convenience feature\u0026lt;/a\u0026gt;, not intend for security. \u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;h3\u0026gt;How prepared statements differ\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;When you scramble string variables into the SQL queries, it doesn\u0026apos;t just get more intricate for you to follow. It\u0026apos;s also extraneous effort for MySQL to segregate code and data again.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/niZ7j.png\u0026quot;\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;SQL injections simply are when \u0026lt;em\u0026gt;data bleeds into code\u0026lt;/em\u0026gt; context. A database server can\u0026apos;t later spot where PHP originally glued variables inbetween query clauses.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;With bound parameters you separate SQL code and SQL-context values in your PHP code. But it doesn\u0026apos;t get shuffled up again behind the scenes (except with PDO::EMULATE_PREPARES). Your database receives the unvaried SQL commands and 1:1 variable values.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/M7PXp.png\u0026quot;\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;While this answer stresses that you should care about the readability advantages of dropping \u0026lt;s\u0026gt;\u0026lt;code\u0026gt;mysql_\u0026lt;/code\u0026gt;\u0026lt;/s\u0026gt;. There\u0026apos;s occasionally also a performance advantage (repeated INSERTs with just differing values) due to this visible and technical data/code separation. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Beware that parameter binding still isn\u0026apos;t a magic one-stop solution against \u0026lt;em\u0026gt;all\u0026lt;/em\u0026gt; SQL injections. It handles the most common use for data/values. But can\u0026apos;t whitelist column name / table identifiers, help with dynamic clause construction, or just plain array value lists.\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;Hybrid PDO use\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;These \u0026lt;code\u0026gt;pdo_*\u0026lt;/code\u0026gt; wrapper functions make a coding-friendly stop-gap API. (It\u0026apos;s pretty much what \u0026lt;code\u0026gt;MYSQLI\u0026lt;/code\u0026gt; could have been if it wasn\u0026apos;t for the idiosyncratic function signature shift). They also expose the real PDO at most times.\u0026lt;br\u0026gt;\nRewriting doesn\u0026apos;t have to stop at using the new pdo_ function names. You could one by one transition each pdo_query() into a plain $pdo-\u0026amp;gt;prepare()-\u0026amp;gt;execute() call.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It\u0026apos;s best to start at simplifying again however. For example the common result fetching:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt; = pdo_query(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SELECT * FROM tbl\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt; = pdo_fetch_assoc(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt;)) {\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Can be replaced with just an foreach iteration:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;foreach\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;) {\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Or better yet a direct and complete array retrieval:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;fetchAll\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You\u0026apos;ll get more helpful warnings in most cases than PDO or mysql_ usually provide after failed queries.\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;Other options\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;So this hopefully visualized some \u0026lt;em\u0026gt;practical\u0026lt;/em\u0026gt; reasons and a worthwile pathway to drop \u0026lt;s\u0026gt;\u0026lt;code\u0026gt;mysql_\u0026lt;/code\u0026gt;\u0026lt;/s\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Just switching to \u0026lt;a href=\u0026quot;/questions/tagged/pdo\u0026quot; class=\u0026quot;post-tag\u0026quot; title=\u0026quot;show questions tagged \u0026apos;pdo\u0026apos;\u0026quot; rel=\u0026quot;tag\u0026quot;\u0026gt;pdo\u0026lt;/a\u0026gt; doesn\u0026apos;t quite cut it. \u0026lt;code\u0026gt;pdo_query()\u0026lt;/code\u0026gt; is also just a frontend onto it.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Unless you also introduce parameter binding or can utilize something else from the nicer API, it\u0026apos;s a pointless switch. I hope it\u0026apos;s portrayed simple enough to not further the discouragement to newcomers. (Education usually works better than prohibition.)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;While it qualifies for the simplest-thing-that-could-possibly-work category, it\u0026apos;s also still very experimental code. I just wrote it over the weekend. There\u0026apos;s a plethora of alternatives however. Just google for \u0026lt;a href=\u0026quot;https://www.google.de/search?client=stackoverflow\u0026amp;amp;q=PHP+database+abstraction\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;PHP database abstraction\u0026lt;/a\u0026gt; and browse a little. There always have been and will be lots of excellent libraries for such tasks.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you want to simplify your database interaction further, mappers like \u0026lt;a href=\u0026quot;http://j4mie.github.io/idiormandparis/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Paris/Idiorm\u0026lt;/a\u0026gt; are worth a try. Just like nobody uses the bland DOM in JavaScript anymore, you don\u0026apos;t have to babysit a raw database interface nowadays.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The \u0026lt;code\u0026gt;mysql_\u0026lt;/code\u0026gt; functions:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;are out of date - they\u0026apos;re not maintained any more\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;don\u0026apos;t allow you to move easily to another database backend\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;don\u0026apos;t support prepared statements, hence\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;encourage programmers to use concatenation to build queries, leading to SQL injection vulnerabilities\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Speaking of \u0026lt;em\u0026gt;technical\u0026lt;/em\u0026gt; reasons, there are only a few, extremely specific and rarely used. Most likely you will never ever use them in your life.\u0026lt;br\u0026gt;\nMaybe I am too ignorant, but I never had an opportunity to use them things like \u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;non-blocking, asynchronous queries\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;stored procedures returning multiple resultsets\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Encryption (SSL)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Compression\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;If you need them - these are no doubt technical reasons to move away from mysql extension toward something more stylish and modern-looking.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Nevertheless, there are also some non-technical issues, which can make your experience a bit harder\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;further use of these functions with modern PHP versions will raise deprecated-level notices. They simply can be turned off.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;in a distant future, they can be possibly removed from the default PHP build. Not a big deal too, as mydsql ext will be moved into PECL and every hoster will be happy to compile PHP with it, as they don\u0026apos;t want to lose clients whose sites were working for decades.   \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;strong resistance from Stackoverflow community. Еverytime you mention these honest functions, you being told that they are under strict taboo.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;being an average PHP user, most likely your idea of using these functions is error-prone and wrong. Just because of all these numerous tutorials and manuals which teach you the wrong way. Not the functions themselves - I have to emphasize it - but the way they are used.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;This latter issue is a problem.\u0026lt;br\u0026gt;\nBut, in my opinion, the proposed solution is no better either.\u0026lt;br\u0026gt;\nIt seems to me \u0026lt;strong\u0026gt;too idealistic\u0026lt;/strong\u0026gt; a dream that all those PHP users will learn how to handle SQL queries properly at once. Most likely they would just change mysql_* to mysqli_* mechanically, \u0026lt;strong\u0026gt;leaving the approach the same\u0026lt;/strong\u0026gt;. Especially because mysqli makes prepared statements usage incredible painful and troublesome.\u0026lt;br\u0026gt;\nNot to mention that \u0026lt;em\u0026gt;native\u0026lt;/em\u0026gt; prepared statements \u0026lt;strong\u0026gt;aren\u0026apos;t enough to protect\u0026lt;/strong\u0026gt; from SQL injections, and neither mysqli nor PDO offers a solution. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So, instead of fighting this honest extension, I\u0026apos;d prefer to fight wrong practices and educate people in the right ways. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Also, there are some false or non-significant reasons, like\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Doesn\u0026apos;t support Stored Procedures (we were using \u0026lt;code\u0026gt;mysql_query(\u0026quot;CALL my_proc\u0026quot;);\u0026lt;/code\u0026gt; for ages)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Doesn\u0026apos;t support Transactions (same as above)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Doesn\u0026apos;t support Multiple Statements (who need them?)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Not under active development (so what? does it affect \u0026lt;em\u0026gt;you\u0026lt;/em\u0026gt; in any practical way?)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Lacks an OO interface (to create one is a matter of several hours)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Doesn\u0026apos;t support Prepared Statements or Parametrized Queries\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;The last one is an interesting point. Although mysql ext do not support \u0026lt;em\u0026gt;native\u0026lt;/em\u0026gt; prepared statements, they aren\u0026apos;t required for the safety. We can easily fake prepared statements using manually handled placeholders (just like PDO does):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;paraQuery\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;)\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$args\u0026lt;/span\u0026gt;  = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;func_get_args\u0026lt;/span\u0026gt;();\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$query\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;array_shift\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$args\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$query\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;str_replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%s\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026apos;%s\u0026apos;\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$query\u0026lt;/span\u0026gt;); \n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;foreach\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$args\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$key\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$val\u0026lt;/span\u0026gt;)\n    {\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$args\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$key\u0026lt;/span\u0026gt;] = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_real_escape_string\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$val\u0026lt;/span\u0026gt;);\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$query\u0026lt;/span\u0026gt;  = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;vsprintf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$query\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$args\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$query\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt;)\n    {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;throw\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Exception\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_error\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; [\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$query\u0026lt;/span\u0026gt;]\u0026quot;\u0026lt;/span\u0026gt;);\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$query\u0026lt;/span\u0026gt;  = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SELECT * FROM table where a=%s AND b LIKE %s LIMIT %d\u0026quot;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;paraQuery\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$query\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$a\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$b\u0026lt;/span\u0026gt;%\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$limit\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;voila\u0026lt;/em\u0026gt;, everything is parameterized and safe.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;But okay, if you don\u0026apos;t like the red box in the manual, a problem of choice arises: mysqli or PDO?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Well, the answer would be as follows:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;If you understand the necessity of using a \u0026lt;em\u0026gt;database abstraction layer\u0026lt;/em\u0026gt; and looking for an API to create one, \u0026lt;strong\u0026gt;mysqli\u0026lt;/strong\u0026gt; is a very good choice, as it indeed supports many mysql-specific features.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;If, like vast majority of PHP folks, you are using raw API calls right in the application code (which is essentially wrong practice) - \u0026lt;strong\u0026gt;PDO is the only choice\u0026lt;/strong\u0026gt;, as this extension pretends to be not just API but rather a semi-DAL, still incomplete but offers many important features, with two of them makes PDO critically distinguished from mysqli:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;unlike mysqli, PDO can bind placeholders \u0026lt;em\u0026gt;by value\u0026lt;/em\u0026gt;, which makes dynamically built queries feasible without several screens of quite messy code.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;unlike mysqli, PDO can always return query result in a simple usual array, while mysqli can do it only on mysqlnd installations.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;So, if you are an average PHP user and want to save yourself a ton of headaches when using native prepared statements, PDO - again - is the only choice.\u0026lt;br\u0026gt;\nHowever, PDO is not a silver bullet too and has its hardships.\u0026lt;br\u0026gt;\nSo, I wrote solutions for all the common pitfalls and complex cases in the \u0026lt;a href=\u0026quot;https://stackoverflow.com/tags/pdo/info\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;PDO tag wiki\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Nevertheless, everyone talking about extensions always missing the \u0026lt;strong\u0026gt;2 important facts\u0026lt;/strong\u0026gt; about Mysqli and PDO:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Prepared statement \u0026lt;strong\u0026gt;isn\u0026apos;t a silver bullet\u0026lt;/strong\u0026gt;. There are dynamical identifiers which cannot be bound using prepared statements. There are dynamical queries with an unknown number of parameters which makes query building a difficult task.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Neither mysqli_* nor PDO functions should have appeared in the application code.\u0026lt;/strong\u0026gt;\u0026lt;br\u0026gt;\nThere ought to be an \u0026lt;strong\u0026gt;abstraction layer\u0026lt;/strong\u0026gt; between them and application code, which will do all the dirty job of binding, looping, error handling, etc. inside, making application code DRY and clean. Especially for the complex cases like dynamical query building.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;So, just switching to PDO or mysqli is not enough. One has to use an ORM, or a query builder, or whatever database abstraction class instead of calling raw API functions in their code.\u0026lt;br\u0026gt;\nAnd contrary - if you have an abstraction layer between your application code and mysql API - \u0026lt;strong\u0026gt;it doesn\u0026apos;t actually matter which engine is used.\u0026lt;/strong\u0026gt; You can use mysql ext until it goes deprecated and then easily rewrite your abstraction class to another engine, \u0026lt;strong\u0026gt;having all the application code intact.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Here are some examples based on my \u0026lt;a href=\u0026quot;https://github.com/colshrapnel/safemysql/blob/master/safemysql.class.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;safemysql class\u0026lt;/a\u0026gt; to show how such an abstraction class ought to be:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$city_ids\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$cities\u0026lt;/span\u0026gt;   = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;getCol\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SELECT name FROM cities WHERE is IN(?a)\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$city_ids\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Compare this one single line with \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/15991146/285587\u0026quot;\u0026gt;amount of code you will need with PDO\u0026lt;/a\u0026gt;.\u0026lt;br\u0026gt;\nThen compare with \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/17874410/285587\u0026quot;\u0026gt;crazy amount of code\u0026lt;/a\u0026gt; you will need with raw Mysqli prepared statements.\nNote that error handling, profiling, query logging already built in and running.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$insert\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;name\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;John\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;surname\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;O\u0026apos;Hara\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;INSERT INTO users SET ?u\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$insert\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Compare it with usual PDO inserts, when every single field name being repeated six to ten times - in all these numerous named placeholders, bindings, and query definitions.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Another example:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$data\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;-\u0026amp;gt;getAll(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SELECT * FROM goods ORDER BY ?n\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$_GET\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;order\u0026apos;\u0026lt;/span\u0026gt;]);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You can hardly find an example for PDO to handle such practical case.\u0026lt;br\u0026gt;\nAnd it will be too wordy and most likely unsafe.    \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So, once more - it is not just raw driver should be your concern but abstraction class, useful not only for silly examples from beginner\u0026apos;s manual but to solve whatever real-life problems. \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;There are many reasons, but perhaps the most important one is that those functions encourage insecure programming practices because they do not support prepared statements. Prepared statements help prevent SQL injection attacks.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;When using \u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt; functions, you have to remember to run user-supplied parameters through \u0026lt;code\u0026gt;mysql_real_escape_string()\u0026lt;/code\u0026gt;. If you forget in just one place or if you happen to escape only part of the input, your database may be subject to attack.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Using prepared statements in \u0026lt;code\u0026gt;PDO\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;mysqli\u0026lt;/code\u0026gt; will make it so that these sorts of programming errors are more difficult to make.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Because (amongst other reasons) it\u0026apos;s much harder to ensure the input data is sanitized. If you use parametrized queries, as one does with PDO or mysqli you can entirely avoid the risk.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;As an example, someone could use \u0026lt;code\u0026gt;\u0026quot;enhzflep); drop table users\u0026quot;\u0026lt;/code\u0026gt; as a username. The old functions will allow executing multiple statements per query, so something like that nasty bugger can delete a whole table.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If one were to use PDO of mysqli, the user-name would end-up being \u0026lt;code\u0026gt;\u0026quot;enhzflep); drop table users\u0026quot;\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;See \u0026lt;a href=\u0026quot;http://bobby-tables.com/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;bobby-tables.com\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This answer is written to show just how trivial it is to bypass poorly written PHP user-validation code, how (and using what) these attacks work and how to replace the old MySQL functions with a secure prepared statement - and basically, why StackOverflow users (probably with a lot of rep) are barking at new users asking questions to improve their code.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;First off, please feel free to create this test mysql database (I have called mine prep):\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;mysql\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;create\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;table\u0026lt;/span\u0026gt; users(\n    \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;-\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt; id \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;primary\u0026lt;/span\u0026gt; key auto_increment,\n    \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;-\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt; userid tinytext,\n    \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;-\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt; pass tinytext);\nQuery OK, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;rows\u0026lt;/span\u0026gt; affected (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.05\u0026lt;/span\u0026gt; sec)\n\nmysql\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;insert\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;into\u0026lt;/span\u0026gt; users \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;values\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Fluffeh\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mypass\u0026apos;\u0026lt;/span\u0026gt;);\nQuery OK, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;row\u0026lt;/span\u0026gt; affected (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.04\u0026lt;/span\u0026gt; sec)\n\nmysql\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;create\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;user\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;prepared\u0026apos;\u0026lt;/span\u0026gt;@\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;localhost\u0026apos;\u0026lt;/span\u0026gt; identified \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;by\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;example\u0026apos;\u0026lt;/span\u0026gt;;\nQuery OK, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;rows\u0026lt;/span\u0026gt; affected (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.01\u0026lt;/span\u0026gt; sec)\n\nmysql\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;grant\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;all\u0026lt;/span\u0026gt; privileges \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt; prep.\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;to\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;prepared\u0026apos;\u0026lt;/span\u0026gt;@\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;localhost\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;with\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;grant\u0026lt;/span\u0026gt; option;\nQuery OK, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;rows\u0026lt;/span\u0026gt; affected (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.00\u0026lt;/span\u0026gt; sec)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;With that done, we can move to our PHP code.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Lets assume the following script is the verification process for an admin on a website (simplified but working if you copy and use it for testing):\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php-template\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;?php\u0026lt;/span\u0026gt; \n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(!\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;empty\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$_POST\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;user\u0026apos;\u0026lt;/span\u0026gt;]))\n    {\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$user\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$_POST\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;user\u0026apos;\u0026lt;/span\u0026gt;];\n    }   \n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;\n    {\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$user\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;bob\u0026apos;\u0026lt;/span\u0026gt;;\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(!\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;empty\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$_POST\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;pass\u0026apos;\u0026lt;/span\u0026gt;]))\n    {\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pass\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$_POST\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;pass\u0026apos;\u0026lt;/span\u0026gt;];\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;\n    {\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pass\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;bob\u0026apos;\u0026lt;/span\u0026gt;;\n    }\n    \n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$database\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;prep\u0026apos;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_connect\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;localhost\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;prepared\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;example\u0026apos;\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_select_db\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$database\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;or\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;die\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Unable to select database\u0026quot;\u0026lt;/span\u0026gt;);\n\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;select id, userid, pass from users where userid=\u0026apos;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$user\u0026lt;/span\u0026gt;\u0026apos; and pass=\u0026apos;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$pass\u0026lt;/span\u0026gt;\u0026apos;\u0026quot;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//echo $sql.\u0026quot;\u0026amp;lt;br\u0026amp;gt;\u0026amp;lt;br\u0026amp;gt;\u0026quot;;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$isAdmin\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_fetch_assoc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt;)) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;My id is \u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;id\u0026apos;\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; and my username is \u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;userid\u0026apos;\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; and lastly, my password is \u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;pass\u0026apos;\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026amp;lt;br\u0026amp;gt;\u0026quot;\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$isAdmin\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// We have correctly matched the Username and Password\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Lets give this person full access\u0026lt;/span\u0026gt;\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$isAdmin\u0026lt;/span\u0026gt;)\n    {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;The check passed. We have a verified admin!\u0026amp;lt;br\u0026amp;gt;\u0026quot;\u0026lt;/span\u0026gt;;\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;\n    {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;You could not be verified. Please try again...\u0026amp;lt;br\u0026amp;gt;\u0026quot;\u0026lt;/span\u0026gt;;\n    }\n    \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_close\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;?\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;language-xml\u0026quot;\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;form\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;exploited\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;method\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;post\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    User: \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;text\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;user\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    Pass: \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;text\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;pass\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;submit\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;form\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Seems legit enough at first glance.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The user has to enter a login and password, right?\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Brilliant, now enter the following:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-http\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;user\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-punctuation\u0026quot;\u0026gt;: \u0026lt;/span\u0026gt;bob\n\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;pass\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-punctuation\u0026quot;\u0026gt;: \u0026lt;/span\u0026gt;somePass\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;and submit it.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The output is as follows:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-erlang\u0026quot;\u0026gt;You could \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; be verified. Please \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; again...\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Super! Working as expected, now lets try the actual username and password:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-http\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;user\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-punctuation\u0026quot;\u0026gt;: \u0026lt;/span\u0026gt;Fluffeh\n\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;pass\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-punctuation\u0026quot;\u0026gt;: \u0026lt;/span\u0026gt;mypass\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Amazing! Hi-fives all round, the code correctly verified an admin. It\u0026apos;s perfect!\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Well, not really. Lets say the user is a clever little person. Lets say the person is me.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Enter in the following:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-vbnet\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;user:\u0026lt;/span\u0026gt; bob\n\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;pass:\u0026lt;/span\u0026gt; n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;\u0026apos; or 1=1 or \u0026apos;m=m\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;And the output is:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;The check passed. We have \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt; verified admin!\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Congrats, you just allowed me to enter your super-protected admins only section with me entering a false username and a false password. Seriously, if you don\u0026apos;t believe me, create the database with the code I provided, and run this PHP code - which at glance REALLY does seem to verify the username and password rather nicely.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;So, in answer, THAT IS WHY YOU ARE BEING YELLED AT.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;So, lets have a look at what went wrong, and why I just got into your super-admin-only-bat-cave. I took a guess and assumed that you weren\u0026apos;t being careful with your inputs and simply passed them to the database directly. I constructed the input in a way tht would CHANGE the query that you were actually running. So, what was it supposed to be, and what did it end up being?\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;select \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;, userid, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;pass\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; users where userid=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;$user\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;and\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;pass\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;$pass\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;That\u0026apos;s the query, but when we replace the variables with the actual inputs that we used, we get the following:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;select \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;, userid, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;pass\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; users where userid=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;bob\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;and\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;pass\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;n\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;or\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;or\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;m=m\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;See how I constructed my \u0026quot;password\u0026quot; so that it would first close the single quote around the password, then introduce a completely new comparison? Then just for safety, I added another \u0026quot;string\u0026quot; so that the single quote would get closed as expected in the code we originally had.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;However, this isn\u0026apos;t about folks yelling at you now, this is about showing you how to make your code more secure.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Okay, so what went wrong, and how can we fix it?\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This is a classic SQL injection attack. One of the simplest for that matter. On the scale of attack vectors, this is a toddler attacking a tank - and winning.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;So, how do we protect your sacred admin section and make it nice and secure? The first thing to do will be to stop using those really old and deprecated \u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt; functions. I know, you followed a tutorial you found online and it works, but it\u0026apos;s old, it\u0026apos;s outdated and in the space of a few minutes, I have just broken past it without so much as breaking a sweat.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Now, you have the better options of using \u0026lt;a href=\u0026quot;http://php.net/manual/en/book.mysqli.php\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;mysqli_\u0026lt;/a\u0026gt; or \u0026lt;a href=\u0026quot;http://www.php.net/manual/en/book.pdo.php\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;PDO\u0026lt;/a\u0026gt;. I am personally a big fan of PDO, so I will be using PDO in the rest of this answer. There are pro\u0026apos;s and con\u0026apos;s, but personally I find that the pro\u0026apos;s far outweigh the con\u0026apos;s. It\u0026apos;s portable across multiple database engines - whether you are using MySQL or Oracle or just about bloody anything - just by changing the connection string, it has all the fancy features we want to use and it is nice and clean. I like clean.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Now, lets have a look at that code again, this time written using a PDO object:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php-template\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;?php\u0026lt;/span\u0026gt; \n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(!\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;empty\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$_POST\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;user\u0026apos;\u0026lt;/span\u0026gt;]))\n    {\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$user\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$_POST\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;user\u0026apos;\u0026lt;/span\u0026gt;];\n    }   \n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;\n    {\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$user\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;bob\u0026apos;\u0026lt;/span\u0026gt;;\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(!\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;empty\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$_POST\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;pass\u0026apos;\u0026lt;/span\u0026gt;]))\n    {\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pass\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$_POST\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;pass\u0026apos;\u0026lt;/span\u0026gt;];\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;\n    {\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pass\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;bob\u0026apos;\u0026lt;/span\u0026gt;;\n    }\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$isAdmin\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n    \n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$database\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;prep\u0026apos;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pdo\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;PDO\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mysql:host=localhost;dbname=prep\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;prepared\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;example\u0026apos;\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;select id, userid, pass from users where userid=:user and pass=:password\u0026quot;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$myPDO\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pdo\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;prepare\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;ATTR_CURSOR\u0026lt;/span\u0026gt; =\u0026amp;gt; PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CURSOR_FWDONLY\u0026lt;/span\u0026gt;));\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$myPDO\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:user\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$user\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:password\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pass\u0026lt;/span\u0026gt;)))\n    {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$myPDO\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;fetch\u0026lt;/span\u0026gt;(PDO::\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;FETCH_ASSOC\u0026lt;/span\u0026gt;))\n        {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;My id is \u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;id\u0026apos;\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; and my username is \u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;userid\u0026apos;\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; and lastly, my password is \u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;pass\u0026apos;\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026amp;lt;br\u0026amp;gt;\u0026quot;\u0026lt;/span\u0026gt;;\n            \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$isAdmin\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// We have correctly matched the Username and Password\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Lets give this person full access\u0026lt;/span\u0026gt;\n        }\n    }\n    \n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$isAdmin\u0026lt;/span\u0026gt;)\n    {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;The check passed. We have a verified admin!\u0026amp;lt;br\u0026amp;gt;\u0026quot;\u0026lt;/span\u0026gt;;\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;\n    {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;You could not be verified. Please try again...\u0026amp;lt;br\u0026amp;gt;\u0026quot;\u0026lt;/span\u0026gt;;\n    }\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;?\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;language-xml\u0026quot;\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;form\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;exploited\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;method\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;post\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    User: \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;text\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;user\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    Pass: \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;text\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;pass\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;submit\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;form\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The major differences are that there are no more \u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt; functions. It\u0026apos;s all done via a PDO object, secondly, it is using a prepared statement. Now, what\u0026apos;s a prepared statement you ask? It\u0026apos;s a way to tell the database ahead of running a query, what the query is that we are going to run. In this case, we tell the database: \u0026quot;Hi, I am going to run a select statement wanting id, userid and pass from the table users where the userid is a variable and the pass is also a variable.\u0026quot;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Then, in the execute statement, we pass the database an array with all the variables that it now expects.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The results are fantastic. Lets try those username and password combinations from before again:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-http\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;user\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-punctuation\u0026quot;\u0026gt;: \u0026lt;/span\u0026gt;bob\n\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;pass\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-punctuation\u0026quot;\u0026gt;: \u0026lt;/span\u0026gt;somePass\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;User wasn\u0026apos;t verified. Awesome.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;How about:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-http\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;user\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-punctuation\u0026quot;\u0026gt;: \u0026lt;/span\u0026gt;Fluffeh\n\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;pass\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-punctuation\u0026quot;\u0026gt;: \u0026lt;/span\u0026gt;mypass\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Oh, I just got a little excited, it worked: The check passed. We have a verified admin!\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Now, lets try the data that a clever chap would enter to try to get past our little verification system:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-vbnet\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;user:\u0026lt;/span\u0026gt; bob\n\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;pass:\u0026lt;/span\u0026gt; n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;\u0026apos; or 1=1 or \u0026apos;m=m\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This time, we get the following:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-erlang\u0026quot;\u0026gt;You could \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; be verified. Please \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; again...\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This is why you are being yelled at when posting questions - it\u0026apos;s because people can see that your code can be bypassed wihout even trying. Please, do use this question and answer to improve your code, to make it more secure and to use functions that are current.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Lastly, this isn\u0026apos;t to say that this is PERFECT code. There are many more things that you could do to improve it, use hashed passwords for example, ensure that when you store sensitive information in the database, you don\u0026apos;t store it in plain text, have multiple levels of verification - but really, if you just change your old injection prone code to this, you will be WELL along the way to writing good code - and the fact that you have gotten this far and are still reading gives me a sense of hope that you will not only implement this type of code when writing your websites and applications, but that you might go out and research those other things I just mentioned - and more. Write the best code you can, not the most basic code that barely functions.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The MySQL extension is the oldest of the three and was the original way that developers used to communicate with MySQL. This extension is now being \u0026lt;a href=\u0026quot;http://php.net/manual/en/migration55.deprecated.php\u0026quot;\u0026gt;deprecated\u0026lt;/a\u0026gt; in favor of the other \u0026lt;a href=\u0026quot;http://php.net/manual/en/book.mysqli.php\u0026quot;\u0026gt;two\u0026lt;/a\u0026gt; \u0026lt;a href=\u0026quot;http://php.net/manual/en/book.pdo.php\u0026quot;\u0026gt;alternatives\u0026lt;/a\u0026gt; because of improvements made in newer releases of both PHP and MySQL.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://php.net/manual/en/book.mysqli.php\u0026quot;\u0026gt;MySQLi\u0026lt;/a\u0026gt; is the \u0026apos;improved\u0026apos; extension for working with MySQL databases. It takes advantage of features that are available in newer versions of the MySQL server, exposes both a function-oriented and an object-oriented interface to the developer and a does few other nifty things.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://php.net/manual/en/book.pdo.php\u0026quot;\u0026gt;PDO\u0026lt;/a\u0026gt; offers an API that consolidates most of the functionality that was previously spread across the major database access extensions, i.e. MySQL, PostgreSQL, SQLite, MSSQL, etc. The interface exposes high-level objects for the programmer to work with database connections, queries and result sets, and low-level drivers perform communication and resource handling with the database server. A lot of discussion and work is going into PDO and its considered the appropriate method of working with databases in modern, professional code.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I find the above answers really lengthy, so to summarize:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;The mysqli extension has a number of\n  benefits, the key enhancements over\n  the mysql extension being:\u0026lt;/p\u0026gt;\n  \n  \u0026lt;ul\u0026gt;\n  \u0026lt;li\u0026gt;Object-oriented interface\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;Support for Prepared Statements\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;Support for Multiple Statements\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;Support for Transactions\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;Enhanced debugging capabilities\u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;Embedded server support\u0026lt;/li\u0026gt;\n  \u0026lt;/ul\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;Source: \u0026lt;a href=\u0026quot;http://us2.php.net/manual/en/mysqli.overview.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;MySQLi overview\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;As explained in the above answers, the alternatives to mysql are mysqli and PDO (PHP Data Objects).\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;API supports server-side Prepared Statements: Supported by MYSQLi and PDO\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;API supports client-side Prepared Statements: Supported only by PDO\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;API supports Stored Procedures: Both MySQLi and PDO\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;API supports Multiple Statements and all MySQL 4.1+ functionality - Supported by MySQLi and mostly also by PDO\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Both MySQLi and PDO were introduced in PHP 5.0, whereas MySQL was introduced prior to PHP 3.0. A point to note is that MySQL is included in PHP5.x though deprecated in later versions. \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;It\u0026apos;s possible to define almost all \u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt; functions using mysqli or PDO. Just include them on top of your old PHP application, and it will work on PHP7. My solution \u0026lt;a href=\u0026quot;https://github.com/sunhater/php7-mysql/blob/master/php7-mysql.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;here\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;?php\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;MYSQL_LINK\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dbl\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$GLOBALS\u0026lt;/span\u0026gt;[MYSQL_LINK] = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; === \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) ? \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$GLOBALS\u0026lt;/span\u0026gt;[MYSQL_LINK] : \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_connect\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$host\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$user\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pass\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$GLOBALS\u0026lt;/span\u0026gt;[MYSQL_LINK] = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_connect\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$host\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$user\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pass\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$GLOBALS\u0026lt;/span\u0026gt;[MYSQL_LINK];\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_pconnect\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$host\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$user\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pass\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_connect\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$host\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$user\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$pass\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_select_db\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_select_db\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_close\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_close\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_error\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_error\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_errno\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_errno\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_ping\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_ping\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_stat\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_stat\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_affected_rows\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_affected_rows\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_client_encoding\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_character_set_name\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_thread_id\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_thread_id\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_escape_string\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$string\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_real_escape_string\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$string\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_real_escape_string\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$string\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_real_escape_string\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$string\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_unbuffered_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;, MYSQLI_USE_RESULT);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_set_charset\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$charset\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_set_charset\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$charset\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_get_host_info\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_get_host_info\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_get_proto_info\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_get_proto_info\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n}\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_get_server_info\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_get_server_info\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_info\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_info\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_get_client_info\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;();\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_get_client_info\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_create_db\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;str_replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;`\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_real_escape_string\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;));\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;CREATE DATABASE `\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;`\u0026quot;\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_drop_db\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;str_replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;`\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_real_escape_string\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;));\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;DROP DATABASE `\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;`\u0026quot;\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_list_dbs\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SHOW DATABASES\u0026quot;\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_list_fields\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$table\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;str_replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;`\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_real_escape_string\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;));\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$table\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;str_replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;`\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_real_escape_string\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$table\u0026lt;/span\u0026gt;));\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SHOW COLUMNS FROM `\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;`.`\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$table\u0026lt;/span\u0026gt;`\u0026quot;\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_list_tables\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;str_replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;`\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_real_escape_string\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;));\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SHOW TABLES FROM `\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;`\u0026quot;\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_db_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_link\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_select_db\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$link\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_fetch_row\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_fetch_row\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_fetch_assoc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_fetch_assoc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_fetch_array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt;=MYSQLI_BOTH\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_fetch_array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_fetch_lengths\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_fetch_lengths\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_insert_id\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_insert_id\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_num_rows\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_num_rows\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_num_fields\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_num_fields\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_data_seek\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_data_seek\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_field_seek\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$offset\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_field_seek\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$offset\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_fetch_object\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;stdClass\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$params\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$params\u0026lt;/span\u0026gt; === \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;)\n        ? \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_fetch_object\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$class\u0026lt;/span\u0026gt;)\n        : \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_fetch_object\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$class\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$params\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_db_name\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Database\u0026apos;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_data_seek\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_fetch_assoc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt;];\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_fetch_field\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$offset\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$offset\u0026lt;/span\u0026gt; !== \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;)\n        \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_field_seek\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$offset\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_fetch_field\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_result\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$offset\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$offset\u0026lt;/span\u0026gt; !== \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;)\n        \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_field_seek\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$offset\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_fetch_array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (!\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;is_array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;) || !\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;isset\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt;]))\n        ? \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;\n        : \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt;];\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_field_len\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$offset\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_fetch_field_direct\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$offset\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;is_object\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt;) ? \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt;-\u0026amp;gt;length : \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_field_name\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$offset\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_fetch_field_direct\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$offset\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;is_object\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt;))\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;empty\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt;-\u0026amp;gt;orgname) ? \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt;-\u0026amp;gt;name : \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt;-\u0026amp;gt;orgname;\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_field_table\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$offset\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_fetch_field_direct\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$offset\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;is_object\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt;))\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;empty\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt;-\u0026amp;gt;orgtable) ? \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt;-\u0026amp;gt;table : \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt;-\u0026amp;gt;orgtable;\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_field_type\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$offset\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_fetch_field_direct\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$offset\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;is_object\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt;) ? \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$field\u0026lt;/span\u0026gt;-\u0026amp;gt;type : \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;mysql_free_result\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_free_result\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$qlink\u0026lt;/span\u0026gt;);\n    } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Exception\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$e\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;Don\u0026apos;t use mysql because is deprecated use Mysqli Instead.\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;What Deprecated Means:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;It means don\u0026apos;t use some specific function/method/software feature/particular software practice it just means that it should not be used because there is (or there will be) a better alternative in that software that should be used instead.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Several common issues can arise when using deprecated functions:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;1. Functions just flat-out stop working:\u0026lt;/strong\u0026gt; Applications or scripts might rely on functions that are simply no longer supported, Thus use their improved versions or alternative.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;2. Warning messages display about deprecation\u0026lt;/strong\u0026gt;: These messages dont normally interfere with site functionality. However, in some cases, they might disrupt the process of the server sending headers.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For Example: This can cause login issues (cookies/sessions dont get set properly) or forwarding issues (301/302/303 redirects).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;keep in mind that:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;-Deprecated software is still a part of the software.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;-Deprecated code is just a status (label) of the code.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Key Differences in MYSQL vs MYSQLI\u0026lt;/strong\u0026gt;\nmysql*\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;old database driver\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;MySQL can only be used procedurally\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;No protection from SQL injection attack\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Was deprecated in PHP 5.5.0 and was removed in PHP 7\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;mysqli\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;new database driver\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Currently under usage\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;prepared statements protect from attacks\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;There is no need to update if you are sure you don\u0026apos;t want to upgrade php version , But at the same time you won\u0026apos;t get security updates too which will make your website more vulnerable to hackers that\u0026apos;s the main reason.\u0026lt;/p\u0026gt;\n    "],"id":12,"title":"Why shouldn't I use mysql_* functions in PHP?","content":"\n                    \u0026lt;div\u0026gt;\n            \u0026lt;aside class=\u0026quot;s-notice s-notice__info post-notice js-post-notice mb16\u0026quot; role=\u0026quot;status\u0026quot;\u0026gt;\n        \u0026lt;div class=\u0026quot;d-flex fd-column fw-nowrap\u0026quot;\u0026gt;\n            \u0026lt;div class=\u0026quot;d-flex fw-nowrap\u0026quot;\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item mr8\u0026quot;\u0026gt;\n                        \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;svg-icon iconLightbulb\u0026quot; width=\u0026quot;18\u0026quot; height=\u0026quot;18\u0026quot; viewBox=\u0026quot;0 0 18 18\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;M15 6.38A6.48 6.48 0 0 0 7.78.04h-.02A6.49 6.49 0 0 0 2.05 5.6a6.31 6.31 0 0 0 2.39 5.75c.49.39.76.93.76 1.5v.24c0 1.07.89 1.9 1.92 1.9h2.75c1.04 0 1.92-.83 1.92-1.9v-.2c0-.6.26-1.15.7-1.48A6.32 6.32 0 0 0 15 6.37ZM4.03 5.85A4.49 4.49 0 0 1 8 2.02a4.48 4.48 0 0 1 5 4.36 4.3 4.3 0 0 1-1.72 3.44c-.98.74-1.5 1.9-1.5 3.08v.1H7.2v-.14c0-1.23-.6-2.34-1.53-3.07a4.32 4.32 0 0 1-1.64-3.94ZM10 18a1 1 0 0 0 0-2H7a1 1 0 1 0 0 2h3Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                \u0026lt;div class=\u0026quot;flex--item wmn0 fl1 lh-lg\u0026quot;\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item fl1 lh-lg\u0026quot;\u0026gt;\n                        \u0026lt;b\u0026gt;Want to improve this post?\u0026lt;/b\u0026gt; Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.\n                        \n                    \u0026lt;/div\u0026gt;\n                \u0026lt;/div\u0026gt;\n            \u0026lt;/div\u0026gt;\n        \u0026lt;/div\u0026gt;\n\u0026lt;/aside\u0026gt;\n\n    \u0026lt;/div\u0026gt;\n\n\u0026lt;p\u0026gt;What are the technical reasons for why one shouldn\u0026apos;t use \u0026lt;code\u0026gt;mysql_*\u0026lt;/code\u0026gt; functions? (e.g. \u0026lt;code\u0026gt;mysql_query()\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;mysql_connect()\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;mysql_real_escape_string()\u0026lt;/code\u0026gt;)?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Why should I use something else even if they work on my site?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If they don\u0026apos;t work on my site, why do I get errors like \u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Warning: mysql_connect(): No such file or directory\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n    ","slug":"why-shouldn't-i-use-mysql_*-functions-in-php-1657384260352","postType":"QUESTION","createdAt":"2022-07-09T16:31:00.000Z","updatedAt":"2022-07-09T16:31:00.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"Correctly allocating multi-dimensional arrays","slug":"correctly-allocating-multi-dimensional-arrays-1657387733756"},{"title":"What is the (function() { } )() construct in JavaScript?","slug":"what-is-the-(function()-)()-construct-in-javascript-1657385508348"},{"title":"What is an undefined reference/unresolved external symbol error and how do I fix it?","slug":"what-is-an-undefined-referenceunresolved-external-symbol-error-and-how-do-i-fix-it-1657384255179"},{"title":"Variables are not behaving as expected","slug":"variables-are-not-behaving-as-expected-1657384865672"},{"title":"commandButton/commandLink/ajax action/listener method not invoked or input value not set/updated","slug":"commandbuttoncommandlinkajax-actionlistener-method-not-invoked-or-input-value-not-setupdated-1657384667519"},{"title":"What does enctype='multipart/form-data' mean?","slug":"what-does-enctype'multipartform-data'-mean-1657388229352"},{"title":"PHP parse/syntax errors; and how to solve them","slug":"php-parsesyntax-errors-and-how-to-solve-them-1657384264713"},{"title":"Can PHP PDO Statements accept the table or column name as parameter?","slug":"can-php-pdo-statements-accept-the-table-or-column-name-as-parameter-1657387478588"},{"title":"What is the scope of variables in JavaScript?","slug":"what-is-the-scope-of-variables-in-javascript-1657384464291"},{"title":"How to print without a newline or space","slug":"how-to-print-without-a-newline-or-space-1657387814213"},{"title":"How do servlets work? Instantiation, sessions, shared variables and multithreading","slug":"how-do-servlets-work-instantiation-sessions-shared-variables-and-multithreading-1657387540375"},{"title":"What is array to pointer decay?","slug":"what-is-array-to-pointer-decay-1657384709608"},{"title":"Maintain the aspect ratio of a div with CSS","slug":"maintain-the-aspect-ratio-of-a-div-with-css-1657387513615"},{"title":"Why is processing a sorted array faster than processing an unsorted array?","slug":"why-is-processing-a-sorted-array-faster-than-processing-an-unsorted-array-1657385497444"},{"title":"Difference between single and double quotes in Bash","slug":"difference-between-single-and-double-quotes-in-bash-1657385460827"},{"title":"How to serve static files in Flask","slug":"how-to-serve-static-files-in-flask-1657387862496"},{"title":"Why can't I store a value and a reference to that value in the same struct?","slug":"why-can't-i-store-a-value-and-a-reference-to-that-value-in-the-same-struct-1657387506828"},{"title":"What methods of ‘clearfix’ can I use?","slug":"what-methods-of-'clearfix'-can-i-use-1657387672727"},{"title":"Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?","slug":"should-i-avoid-the-use-of-set(preferredormaximumorminimum)size-methods-in-java-swing-1657384628399"},{"title":"How to deal with SettingWithCopyWarning in Pandas","slug":"how-to-deal-with-settingwithcopywarning-in-pandas-1657384778377"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"why-shouldn't-i-use-mysql_*-functions-in-php-1657384260352"},"buildId":"xZs8haGjOP63QuDE0kxeX","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>