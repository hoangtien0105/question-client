<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>console.log() async or sync? | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="I am currently reading Async Javascript by Trevor Burnham.  This has been a great book so far.

He talks about this snippet and console.log being &#x27;async&#x27; in the Safari and Chrome console. Unfortunately I can&#x27;t replicate this. Here is the code:

var obj = {}; 
console.log(obj); 
obj.foo = &#x27;bar&#x27;;
// my outcome: Object{}; &#x27;bar&#x27;;
// The book outcome: {foo:bar};


If this was async, I would anticipate the outcome to be the books outcome. console.log() is put in the event queue until all code is executed, then it is ran and it would have the bar property.

It appears though it is running synchronously.

Am I running this code wrong? Is console.log actually async?
    "/><meta property="og:title" content="console.log() async or sync? | Solutions Checker"/><meta property="og:description" content="I am currently reading Async Javascript by Trevor Burnham.  This has been a great book so far.

He talks about this snippet and console.log being &#x27;async&#x27; in the Safari and Chrome console. Unfortunately I can&#x27;t replicate this. Here is the code:

var obj = {}; 
console.log(obj); 
obj.foo = &#x27;bar&#x27;;
// my outcome: Object{}; &#x27;bar&#x27;;
// The book outcome: {foo:bar};


If this was async, I would anticipate the outcome to be the books outcome. console.log() is put in the event queue until all code is executed, then it is ran and it would have the bar property.

It appears though it is running synchronously.

Am I running this code wrong? Is console.log actually async?
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"console.log() async or sync?","text":"I am currently reading Async Javascript by Trevor Burnham.  This has been a great book so far.\n\nHe talks about this snippet and console.log being &apos;async&apos; in the Safari and Chrome console. Unfortunately I can&apos;t replicate this. Here is the code:\n\nvar obj = {}; \nconsole.log(obj); \nobj.foo = &apos;bar&apos;;\n// my outcome: Object{}; &apos;bar&apos;;\n// The book outcome: {foo:bar};\n\n\nIf this was async, I would anticipate the outcome to be the books outcome. console.log() is put in the event queue until all code is executed, then it is ran and it would have the bar property.\n\nIt appears though it is running synchronously.\n\nAm I running this code wrong? Is console.log actually async?\n    ","answerCount":3,"upVoteCount":500,"suggestedAnswer":[{"text":"console.log is not standardized, so the behavior is rather undefined, and can be changed easily from release to release of the developer tools. Your book is likely to be outdated, as might my answer soon.\n\nTo our code, it does not make any difference whether console.log is async or not, it does not provide any kind of callback or so; and the values you pass are always referenced and computed at the time you call the function.\n\nWe don&apos;t really know what happens then (OK, we could, since Firebug, Chrome Devtools and Opera Dragonfly are all open source). The console will need to store the logged values somewhere, and it will display them on the screen. The rendering will happen asynchronously for sure (being throttled to rate-limit updates), as will future interactions with the logged objects in the console (like expanding object properties).\n\nSo the console might either clone (serialize) the mutable objects that you did log, or it will store references to them. The first one doesn&apos;t work well with deep/large objects. Also, at least the initial rendering in the console will probably show the &quot;current&quot; state of the object, i.e. the one when it got logged - in your example you see Object {}.\n\nHowever, when you expand the object to inspect its properties further, it is likely that the console will have only stored a reference to your object and its properties, and displaying them now will then show their current (already mutated) state. If you click on the +, you should be able to see the bar property in your example.\n\nHere&apos;s a screenshot that was posted in the bug report to explain their &quot;fix&quot;:\n\n\n\n\nSo, some values might be referenced long after they have been logged, and the evaluation of these is rather lazy (&quot;when needed&quot;). The most famous example of this discrepancy is handled in the question Is Chrome&apos;s JavaScript console lazy about evaluating arrays?\n\nA workaround is to make sure to log serialized snapshots of your objects always, e.g. by doing console.log(JSON.stringify(obj)). This will work for non-circular and rather small objects only, though. See also How can I change the default behavior of console.log in Safari?.\n\nThe better solution is to use breakpoints for debugging, where the execution completely stops and you can inspect the current values at each point. Use logging only with serialisable and immutable data.\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"This isn&apos;t really an answer to the question, but it might be handy to someone who stumbled on this post, and it was too long to put in a comment:\n\nwindow.console.logSync = (...args) =&gt; {\n  try {\n    args = args.map((arg) =&gt; JSON.parse(JSON.stringify(arg)));\n    console.log(...args);\n  } catch (error) {\n    console.log(&apos;Error trying to console.logSync()&apos;, ...args);\n  }\n};\n\n\nThis creates a pseudo-synchronous version of console.log, but with the same caveats as mentioned in the accepted answer.\n\nSince it seems like, at the moment, most browsers&apos; console.log&apos;s are asynchronous in some manner, you may want to use a function like this in certain scenarios.\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"When using console.log:\n\na = {}; a.a=1;console.log(a);a.b=function(){};\n// without b\na = {}; a.a=1;a.a1=1;a.a2=1;a.a3=1;a.a4=1;a.a5=1;a.a6=1;a.a7=1;a.a8=1;console.log(a);a.b=function(){};\n// with b, maybe\na = {}; a.a=function(){};console.log(a);a.b=function(){};\n// with b\n\n\nin the first situation the object is simple enough, so console can &apos;stringify&apos; it then present to you; but in the other situations, a is too &apos;complicated&apos; to &apos;stringify&apos; so console will show you the in memory object instead, and yes, when you look at it b has already be attached to a.\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08d1a634dea6705e.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/150-b06815e21c943e0d.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/108-87de33c23337ff53.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-79a1437acf654019.js" defer=""></script><script src="/_next/static/Zo3C7AOWQzKM9qqyzx2hf/_buildManifest.js" defer=""></script><script src="/_next/static/Zo3C7AOWQzKM9qqyzx2hf/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/console.log()-async-or-sync-1657388401087#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/console.log()-async-or-sync-1657388401087"><h1>console.log() async or sync?</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"></div></div><div class="question-content mt-5">
                
<p>I am currently reading <a href="http://pragprog.com/book/tbajs/async-javascript">Async Javascript</a> by Trevor Burnham.  This has been a great book so far.</p>

<p>He talks about this snippet and console.log being 'async' in the Safari and Chrome console. Unfortunately I can't replicate this. Here is the code:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> obj = {}; 
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj); 
obj.<span class="hljs-property">foo</span> = <span class="hljs-string">'bar'</span>;
<span class="hljs-comment">// my outcome: Object{}; 'bar';</span>
<span class="hljs-comment">// The book outcome: {foo:bar};</span>
</code></pre>

<p>If this was async, I would anticipate the outcome to be the books outcome. console.log() is put in the event queue until all code is executed, then it is ran and it would have the bar property.</p>

<p>It appears though it is running synchronously.</p>

<p>Am I running this code wrong? Is console.log actually async?</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><code>console.log</code> is not standardized, so the behavior is rather undefined, and can be changed easily from release to release of the developer tools. Your book is likely to be outdated, as might my answer soon.</p>

<p>To our code, it does not make any difference whether <code>console.log</code> is async or not, it does not provide any kind of callback or so; and the values you pass are always referenced and computed at the time you call the function.</p>

<p>We don't really know what happens then (OK, we could, since Firebug, Chrome Devtools and Opera Dragonfly are all open source). The console will need to store the logged values somewhere, and it will display them on the screen. The rendering will happen asynchronously for sure (being throttled to rate-limit updates), as will future interactions with the logged objects in the console (like expanding object properties).</p>

<p>So the console might either clone (serialize) the mutable objects that you did log, or it will store references to them. The first one doesn't work well with deep/large objects. Also, at least the initial rendering in the console will probably show the "current" state of the object, i.e. the one when it got logged - in your example you see <code>Object {}</code>.</p>

<p>However, when you expand the object to inspect its properties further, it is likely that the console will have only stored a reference to your object and its properties, and displaying them now will then show their current (already mutated) state. If you click on the <code>+</code>, you should be able to see the <code>bar</code> property in your example.</p>

<p>Here's a screenshot that was posted in the <a href="http://code.google.com/p/chromium/issues/detail?id=50316" rel="noreferrer">bug report</a> to explain their "fix":</p>

<p><img src="https://i.stack.imgur.com/UEMqd.png" alt="">
</p>

<p>So, some values might be referenced long after they have been logged, and the evaluation of these is rather <em>lazy</em> ("when needed"). The most famous example of this discrepancy is handled in the question <a href="https://stackoverflow.com/questions/4057440/is-chromes-javascript-console-lazy-about-evaluating-arrays">Is Chrome's JavaScript console lazy about evaluating arrays?</a></p>

<p>A workaround is to make sure to log serialized snapshots of your objects always, e.g. by doing <code>console.log(JSON.stringify(obj))</code>. This will work for non-circular and rather small objects only, though. See also <a href="https://stackoverflow.com/q/7389069/1048572">How can I change the default behavior of console.log in Safari?</a>.</p>

<p>The better solution is to use breakpoints for debugging, where the execution completely stops and you can inspect the current values at each point. Use logging only with serialisable and immutable data.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This isn't really an answer to the question, but it might be handy to someone who stumbled on this post, and it was too long to put in a comment:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">console</span>.<span class="hljs-property">logSync</span> = <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> {
  <span class="hljs-keyword">try</span> {
    args = args.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">arg</span>) =&gt;</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(arg)));
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(...args);
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Error trying to console.logSync()'</span>, ...args);
  }
};
</code></pre>

<p>This creates a pseudo-synchronous version of <code>console.log</code>, but with the same caveats as mentioned in the accepted answer.</p>

<p>Since it seems like, at the moment, most browsers' <code>console.log</code>'s are asynchronous in some manner, you may want to use a function like this in certain scenarios.</p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>When using console.log:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">a = {}; a.<span class="hljs-property">a</span>=<span class="hljs-number">1</span>;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);a.<span class="hljs-property">b</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>){};
<span class="hljs-comment">// without b</span>
a = {}; a.<span class="hljs-property">a</span>=<span class="hljs-number">1</span>;a.<span class="hljs-property">a1</span>=<span class="hljs-number">1</span>;a.<span class="hljs-property">a2</span>=<span class="hljs-number">1</span>;a.<span class="hljs-property">a3</span>=<span class="hljs-number">1</span>;a.<span class="hljs-property">a4</span>=<span class="hljs-number">1</span>;a.<span class="hljs-property">a5</span>=<span class="hljs-number">1</span>;a.<span class="hljs-property">a6</span>=<span class="hljs-number">1</span>;a.<span class="hljs-property">a7</span>=<span class="hljs-number">1</span>;a.<span class="hljs-property">a8</span>=<span class="hljs-number">1</span>;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);a.<span class="hljs-property">b</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>){};
<span class="hljs-comment">// with b, maybe</span>
a = {}; a.<span class="hljs-property">a</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>){};<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);a.<span class="hljs-property">b</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>){};
<span class="hljs-comment">// with b</span>
</code></pre>

<p>in the first situation the object is simple enough, so console can 'stringify' it then present to you; but in the other situations, a is too 'complicated' to 'stringify' so console will show you the in memory object instead, and yes, when you look at it b has already be attached to a.</p>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/what-is-event-bubbling-and-capturing-1657388059203">What is event bubbling and capturing?</a><a href="/questions/how-to-store-objects-in-html5-localstorage-1657387568907">How to store objects in HTML5 localStorage</a><a href="/questions/can-i-mix-mysql-apis-in-php-1657384597444">Can I mix MySQL APIs in PHP?</a><a href="/questions/how-to-fix-%22headers-already-sent%22-error-in-php-1657384315553">How to fix &quot;Headers already sent&quot; error in PHP</a><a href="/questions/is-there-a-css-parent-selector-1657384430692">Is there a CSS parent selector?</a><a href="/questions/order-bars-in-ggplot2-bar-graph-1657388099080">Order Bars in ggplot2 bar graph</a><a href="/questions/what-is-jsonp-and-why-was-it-created-1657387770563">What is JSONP, and why was it created?</a><a href="/questions/gui-not-working-after-rewriting-to-mvc-1657388388035">GUI not working after rewriting to MVC</a><a href="/questions/what-is-a-stackoverflowerror-1657388319634">What is a StackOverflowError?</a><a href="/questions/relative-imports-for-the-billionth-time-1657387756383">Relative imports for the billionth time</a><a href="/questions/what&#x27;s-the-simplest-way-to-print-a-java-array-1657384702397">What&#x27;s the simplest way to print a Java array?</a><a href="/questions/sending-email-in-android-using-javamail-api-without-using-the-defaultbuilt-in-app-1657387883400">Sending Email in Android using JavaMail API without using the default/built-in app</a><a href="/questions/sql-injection-that-gets-around-mysql_real_escape_string()-1657384364747">SQL injection that gets around mysql_real_escape_string()</a><a href="/questions/ways-to-circumvent-the-same-origin-policy-1657384763316">Ways to circumvent the same-origin policy</a><a href="/questions/how-does-the-sql-injection-from-the-%22bobby-tables%22-xkcd-comic-work-1657384621653">How does the SQL injection from the &quot;Bobby Tables&quot; XKCD comic work?</a><a href="/questions/how-do-i-vertically-center-text-with-css-duplicate-1657387645821">How do I vertically center text with CSS? [duplicate]</a><a href="/questions/how-do-i-set-a-variable-to-the-output-of-a-command-in-bash-1657387250909">How do I set a variable to the output of a command in Bash?</a><a href="/questions/how-do-i-return-the-response-from-an-observablehttpasync-call-in-angular-1657387335024">How do I return the response from an Observable/http/async call in angular?</a><a href="/questions/flatten-an-irregular-list-of-lists-1657387315571">Flatten an irregular list of lists</a><a href="/questions/change-the-maximum-upload-file-size-1657388495156">Change the maximum upload file size</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;console.log\u0026lt;/code\u0026gt; is not standardized, so the behavior is rather undefined, and can be changed easily from release to release of the developer tools. Your book is likely to be outdated, as might my answer soon.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To our code, it does not make any difference whether \u0026lt;code\u0026gt;console.log\u0026lt;/code\u0026gt; is async or not, it does not provide any kind of callback or so; and the values you pass are always referenced and computed at the time you call the function.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;We don\u0026apos;t really know what happens then (OK, we could, since Firebug, Chrome Devtools and Opera Dragonfly are all open source). The console will need to store the logged values somewhere, and it will display them on the screen. The rendering will happen asynchronously for sure (being throttled to rate-limit updates), as will future interactions with the logged objects in the console (like expanding object properties).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So the console might either clone (serialize) the mutable objects that you did log, or it will store references to them. The first one doesn\u0026apos;t work well with deep/large objects. Also, at least the initial rendering in the console will probably show the \u0026quot;current\u0026quot; state of the object, i.e. the one when it got logged - in your example you see \u0026lt;code\u0026gt;Object {}\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;However, when you expand the object to inspect its properties further, it is likely that the console will have only stored a reference to your object and its properties, and displaying them now will then show their current (already mutated) state. If you click on the \u0026lt;code\u0026gt;+\u0026lt;/code\u0026gt;, you should be able to see the \u0026lt;code\u0026gt;bar\u0026lt;/code\u0026gt; property in your example.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Here\u0026apos;s a screenshot that was posted in the \u0026lt;a href=\u0026quot;http://code.google.com/p/chromium/issues/detail?id=50316\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;bug report\u0026lt;/a\u0026gt; to explain their \u0026quot;fix\u0026quot;:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/UEMqd.png\u0026quot; alt=\u0026quot;\u0026quot;\u0026gt;\n\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So, some values might be referenced long after they have been logged, and the evaluation of these is rather \u0026lt;em\u0026gt;lazy\u0026lt;/em\u0026gt; (\u0026quot;when needed\u0026quot;). The most famous example of this discrepancy is handled in the question \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/4057440/is-chromes-javascript-console-lazy-about-evaluating-arrays\u0026quot;\u0026gt;Is Chrome\u0026apos;s JavaScript console lazy about evaluating arrays?\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;A workaround is to make sure to log serialized snapshots of your objects always, e.g. by doing \u0026lt;code\u0026gt;console.log(JSON.stringify(obj))\u0026lt;/code\u0026gt;. This will work for non-circular and rather small objects only, though. See also \u0026lt;a href=\u0026quot;https://stackoverflow.com/q/7389069/1048572\u0026quot;\u0026gt;How can I change the default behavior of console.log in Safari?\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The better solution is to use breakpoints for debugging, where the execution completely stops and you can inspect the current values at each point. Use logging only with serialisable and immutable data.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This isn\u0026apos;t really an answer to the question, but it might be handy to someone who stumbled on this post, and it was too long to put in a comment:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;logSync\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;...args\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n    args = args.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;arg\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;JSON\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;parse\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;JSON\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;stringify\u0026lt;/span\u0026gt;(arg)));\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(...args);\n  } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (error) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Error trying to console.logSync()\u0026apos;\u0026lt;/span\u0026gt;, ...args);\n  }\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This creates a pseudo-synchronous version of \u0026lt;code\u0026gt;console.log\u0026lt;/code\u0026gt;, but with the same caveats as mentioned in the accepted answer.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Since it seems like, at the moment, most browsers\u0026apos; \u0026lt;code\u0026gt;console.log\u0026lt;/code\u0026gt;\u0026apos;s are asynchronous in some manner, you may want to use a function like this in certain scenarios.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;When using console.log:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;a = {}; a.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(a);a.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){};\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// without b\u0026lt;/span\u0026gt;\na = {}; a.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;a.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;a1\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;a.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;a2\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;a.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;a3\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;a.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;a4\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;a.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;a5\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;a.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;a6\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;a.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;a7\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;a.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;a8\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(a);a.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){};\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// with b, maybe\u0026lt;/span\u0026gt;\na = {}; a.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){};\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(a);a.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){};\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// with b\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;in the first situation the object is simple enough, so console can \u0026apos;stringify\u0026apos; it then present to you; but in the other situations, a is too \u0026apos;complicated\u0026apos; to \u0026apos;stringify\u0026apos; so console will show you the in memory object instead, and yes, when you look at it b has already be attached to a.\u0026lt;/p\u0026gt;\n    "],"id":553,"title":"console.log() async or sync?","content":"\n                \n\u0026lt;p\u0026gt;I am currently reading \u0026lt;a href=\u0026quot;http://pragprog.com/book/tbajs/async-javascript\u0026quot;\u0026gt;Async Javascript\u0026lt;/a\u0026gt; by Trevor Burnham.  This has been a great book so far.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;He talks about this snippet and console.log being \u0026apos;async\u0026apos; in the Safari and Chrome console. Unfortunately I can\u0026apos;t replicate this. Here is the code:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; obj = {}; \n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(obj); \nobj.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;bar\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// my outcome: Object{}; \u0026apos;bar\u0026apos;;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// The book outcome: {foo:bar};\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;If this was async, I would anticipate the outcome to be the books outcome. console.log() is put in the event queue until all code is executed, then it is ran and it would have the bar property.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It appears though it is running synchronously.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Am I running this code wrong? Is console.log actually async?\u0026lt;/p\u0026gt;\n    ","slug":"console.log()-async-or-sync-1657388401087","postType":"QUESTION","createdAt":"2022-07-09T17:40:01.000Z","updatedAt":"2022-07-09T17:40:01.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"What is event bubbling and capturing?","slug":"what-is-event-bubbling-and-capturing-1657388059203"},{"title":"How to store objects in HTML5 localStorage","slug":"how-to-store-objects-in-html5-localstorage-1657387568907"},{"title":"Can I mix MySQL APIs in PHP?","slug":"can-i-mix-mysql-apis-in-php-1657384597444"},{"title":"How to fix \"Headers already sent\" error in PHP","slug":"how-to-fix-\"headers-already-sent\"-error-in-php-1657384315553"},{"title":"Is there a CSS parent selector?","slug":"is-there-a-css-parent-selector-1657384430692"},{"title":"Order Bars in ggplot2 bar graph","slug":"order-bars-in-ggplot2-bar-graph-1657388099080"},{"title":"What is JSONP, and why was it created?","slug":"what-is-jsonp-and-why-was-it-created-1657387770563"},{"title":"GUI not working after rewriting to MVC","slug":"gui-not-working-after-rewriting-to-mvc-1657388388035"},{"title":"What is a StackOverflowError?","slug":"what-is-a-stackoverflowerror-1657388319634"},{"title":"Relative imports for the billionth time","slug":"relative-imports-for-the-billionth-time-1657387756383"},{"title":"What's the simplest way to print a Java array?","slug":"what's-the-simplest-way-to-print-a-java-array-1657384702397"},{"title":"Sending Email in Android using JavaMail API without using the default/built-in app","slug":"sending-email-in-android-using-javamail-api-without-using-the-defaultbuilt-in-app-1657387883400"},{"title":"SQL injection that gets around mysql_real_escape_string()","slug":"sql-injection-that-gets-around-mysql_real_escape_string()-1657384364747"},{"title":"Ways to circumvent the same-origin policy","slug":"ways-to-circumvent-the-same-origin-policy-1657384763316"},{"title":"How does the SQL injection from the \"Bobby Tables\" XKCD comic work?","slug":"how-does-the-sql-injection-from-the-\"bobby-tables\"-xkcd-comic-work-1657384621653"},{"title":"How do I vertically center text with CSS? [duplicate]","slug":"how-do-i-vertically-center-text-with-css-duplicate-1657387645821"},{"title":"How do I set a variable to the output of a command in Bash?","slug":"how-do-i-set-a-variable-to-the-output-of-a-command-in-bash-1657387250909"},{"title":"How do I return the response from an Observable/http/async call in angular?","slug":"how-do-i-return-the-response-from-an-observablehttpasync-call-in-angular-1657387335024"},{"title":"Flatten an irregular list of lists","slug":"flatten-an-irregular-list-of-lists-1657387315571"},{"title":"Change the maximum upload file size","slug":"change-the-maximum-upload-file-size-1657388495156"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"console.log()-async-or-sync-1657388401087"},"buildId":"Zo3C7AOWQzKM9qqyzx2hf","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>