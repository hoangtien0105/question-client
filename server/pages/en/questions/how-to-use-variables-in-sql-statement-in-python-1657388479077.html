<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find the solution to any question. We focus on finding the fastest possible solution for users. Main topics like coding, learning. - solutionschecker.com"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><link name="keywords" content="solutions checker, solution checker, how to, solution for, check for solution, resolve question, what is, what solution for, find solution"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://solutionschecker.com","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://solutionschecker.com/questions","name":"Questions"}},{"@type":"ListItem","position":3,"item":{"@id":"https://solutionschecker.com/questions/how-to-use-variables-in-sql-statement-in-python-1657388479077","name":"Questions"}}]}</script><title>How to use variables in SQL statement in Python? | Solution Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="I have the following Python code:
cursor.execute(&quot;INSERT INTO table VALUES var1, var2, var3,&quot;)

where var1 is an integer, var2 and var3 are strings.
How can I write the variable names without Python including them as part of the query text?
    "/><meta property="og:title" content="How to use variables in SQL statement in Python? | Solution Checker"/><meta property="og:description" content="I have the following Python code:
cursor.execute(&quot;INSERT INTO table VALUES var1, var2, var3,&quot;)

where var1 is an integer, var2 and var3 are strings.
How can I write the variable names without Python including them as part of the query text?
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"How to use variables in SQL statement in Python?","text":"I have the following Python code:\ncursor.execute(&quot;INSERT INTO table VALUES var1, var2, var3,&quot;)\n\nwhere var1 is an integer, var2 and var3 are strings.\nHow can I write the variable names without Python including them as part of the query text?\n    ","answerCount":5,"upVoteCount":500,"suggestedAnswer":[{"text":"cursor.execute(&quot;INSERT INTO table VALUES (%s, %s, %s)&quot;, (var1, var2, var3))\n\n\nNote that the parameters are passed as a tuple.\n\nThe database API does proper escaping and quoting of variables. Be careful not to use the string formatting operator (%), because\n\n\nit does not do any escaping or quoting.\nit is prone to Uncontrolled string format attacks e.g. SQL injection.\n\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"Different implementations of the Python DB-API are allowed to use different placeholders, so you&apos;ll need to find out which one you&apos;re using -- it could be (e.g. with MySQLdb):\n\ncursor.execute(&quot;INSERT INTO table VALUES (%s, %s, %s)&quot;, (var1, var2, var3))\n\n\nor (e.g. with sqlite3 from the Python standard library):\n\ncursor.execute(&quot;INSERT INTO table VALUES (?, ?, ?)&quot;, (var1, var2, var3))\n\n\nor others yet (after VALUES you could have (:1, :2, :3) , or &quot;named styles&quot; (:fee, :fie, :fo) or (%(fee)s, %(fie)s, %(fo)s) where you pass a dict instead of a map as the second argument to execute).  Check the paramstyle string constant in the DB API module you&apos;re using, and look for paramstyle at http://www.python.org/dev/peps/pep-0249/ to see what all the parameter-passing styles are!\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"Many ways. DON&apos;T use the most obvious one (%s with %) in real code, it&apos;s open to attacks.\nHere copy-paste&apos;d from pydoc of sqlite3:\n# Never do this -- insecure!\nsymbol = &apos;RHAT&apos;\nc.execute(&quot;SELECT * FROM stocks WHERE symbol = &apos;%s&apos;&quot; % symbol)\n\n# Do this instead\nt = (&apos;RHAT&apos;,)\nc.execute(&apos;SELECT * FROM stocks WHERE symbol=?&apos;, t)\nprint c.fetchone()\n\n# Larger example that inserts many records at a time\npurchases = [(&apos;2006-03-28&apos;, &apos;BUY&apos;, &apos;IBM&apos;, 1000, 45.00),\n             (&apos;2006-04-05&apos;, &apos;BUY&apos;, &apos;MSFT&apos;, 1000, 72.00),\n             (&apos;2006-04-06&apos;, &apos;SELL&apos;, &apos;IBM&apos;, 500, 53.00),\n            ]\nc.executemany(&apos;INSERT INTO stocks VALUES (?,?,?,?,?)&apos;, purchases)\n\nMore examples if you need:\n# Multiple values single statement/execution\nc.execute(&apos;SELECT * FROM stocks WHERE symbol=? OR symbol=?&apos;, (&apos;RHAT&apos;, &apos;MSO&apos;))\nprint c.fetchall()\nc.execute(&apos;SELECT * FROM stocks WHERE symbol IN (?, ?)&apos;, (&apos;RHAT&apos;, &apos;MSO&apos;))\nprint c.fetchall()\n# This also works, though ones above are better as a habit as it&apos;s inline with syntax of executemany().. but your choice.\nc.execute(&apos;SELECT * FROM stocks WHERE symbol=? OR symbol=?&apos;, &apos;RHAT&apos;, &apos;MSO&apos;)\nprint c.fetchall()\n# Insert a single item\nc.execute(&apos;INSERT INTO stocks VALUES (?,?,?,?,?)&apos;, (&apos;2006-03-28&apos;, &apos;BUY&apos;, &apos;IBM&apos;, 1000, 45.00))\n\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"http://www.amk.ca/python/writing/DB-API.html\nBe careful when you simply append values of variables to your statements:\nImagine a user naming himself &apos;;DROP TABLE Users;&apos; --\nThat&apos;s why you need to use SQL escaping, which Python provides for you when you use cursor.execute in a decent manner. Example in the URL is:\ncursor.execute(&quot;insert into Attendees values (?, ?, ?)&quot;, (name, seminar, paid))\n\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"The syntax for providing a single value can be confusing for inexperienced Python users.\nGiven the query\nINSERT INTO mytable (fruit) VALUES (%s)\n\nGenerally*, the value passed to cursor.execute must wrapped in an ordered sequence such as a tuple or list even though the value itself is a singleton, so we must provide a single element tuple, like this: (value,).\ncursor.execute(&quot;&quot;&quot;INSERT INTO mytable (fruit) VALUES (%s)&quot;&quot;&quot;, (&apos;apple&apos;,))\n\nPassing a single string\ncursor.execute(&quot;&quot;&quot;INSERT INTO mytable (fruit) VALUES (%s)&quot;&quot;&quot;, (&apos;apple&apos;))\n\nwill result in an error which varies by the DB-API connector, for example\n\npsycopg2:\n\nTypeError: not all arguments converted during string formatting\n\n\nsqlite3\n\nsqlite3.ProgrammingError: Incorrect number of bindings supplied. The current statement uses 1, and there are 5 supplied\n\n\nmysql.connector\n\nmysql.connector.errors.ProgrammingError: 1064 (42000): You have an error in your SQL syntax;\n\n\n\n\n*  The pymysql connector handles a single string parameter without erroring.  However it&apos;s better to wrap the string in a tuple even if it&apos;s a single because\n\nyou won&apos;t need to change the code if you switch connector package\nyou keep a consistent mental model of the query parameters being a sequence of objects rather than a single object.\n\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="22"/><link rel="preload" href="/_next/static/css/c116652e2d6f4ad0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c116652e2d6f4ad0.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c0d2dcb5e85faf18.js" defer=""></script><script src="/_next/static/chunks/294-106ef8570fa99deb.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-50e201fdaa1e0fd1.js" defer=""></script><script src="/_next/static/DSpI0pSdXueTMCIVyw0q4/_buildManifest.js" defer=""></script><script src="/_next/static/DSpI0pSdXueTMCIVyw0q4/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h1 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h1></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-to-use-variables-in-sql-statement-in-python-1657388479077#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-to-use-variables-in-sql-statement-in-python-1657388479077"><h1>How to use variables in SQL statement in Python?</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"></div></div><div class="question-content mt-5">
                
<p>I have the following Python code:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">cursor.execute(<span class="hljs-string">"INSERT INTO table VALUES var1, var2, var3,"</span>)
</code></pre>
<p>where <code>var1</code> is an integer, <code>var2</code> and <code>var3</code> are strings.</p>
<p>How can I write the variable names without Python including them as part of the query text?</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><h1 class="text-lg font-semibold mb-5">Navigate to solutions: </h1><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 1</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="default s-code-block"><code class="hljs language-perl">cursor.execute(<span class="hljs-string">"INSERT INTO table VALUES (%s, %s, %s)"</span>, (var1, var2, var3))
</code></pre>

<p>Note that the parameters are passed as a tuple.</p>

<p>The database API does proper escaping and quoting of variables. Be careful not to use the string formatting operator (<code>%</code>), because</p>

<ol>
<li>it does not do any escaping or quoting.</li>
<li>it is prone to Uncontrolled string format attacks e.g. <a href="http://en.wikipedia.org/wiki/SQL_injection" rel="noreferrer">SQL injection</a>.</li>
</ol>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 2</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Different implementations of the Python DB-API are allowed to use different placeholders, so you'll need to find out which one you're using -- it could be (e.g. with MySQLdb):</p>

<pre class="default s-code-block"><code class="hljs language-perl">cursor.execute(<span class="hljs-string">"INSERT INTO table VALUES (%s, %s, %s)"</span>, (var1, var2, var3))
</code></pre>

<p>or (e.g. with sqlite3 from the Python standard library):</p>

<pre class="default s-code-block"><code class="hljs language-scss"><span class="hljs-attribute">cursor</span><span class="hljs-selector-class">.execute</span>("INSERT INTO table VALUES (?, ?, ?)", (var1, var2, var3))
</code></pre>

<p>or others yet (after <code>VALUES</code> you could have <code>(:1, :2, :3)</code> , or "named styles" <code>(:fee, :fie, :fo)</code> or <code>(%(fee)s, %(fie)s, %(fo)s)</code> where you pass a dict instead of a map as the second argument to <code>execute</code>).  Check the <code>paramstyle</code> string constant in the DB API module you're using, and look for paramstyle at <a href="http://www.python.org/dev/peps/pep-0249/" rel="noreferrer">http://www.python.org/dev/peps/pep-0249/</a> to see what all the parameter-passing styles are!</p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 3</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Many ways. <strong>DON'T</strong> use the most obvious one (<code>%s</code> with <code>%</code>) in real code, it's open to <a href="http://en.wikipedia.org/wiki/SQL_injection" rel="noreferrer">attacks</a>.</p>
<p>Here copy-paste'd <strong><a href="http://docs.python.org/2/library/sqlite3.html" rel="noreferrer">from pydoc of sqlite3</a></strong>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-comment"># Never do this -- insecure!</span>
symbol = <span class="hljs-string">'RHAT'</span>
c.execute(<span class="hljs-string">"SELECT * FROM stocks WHERE symbol = '%s'"</span> % symbol)

<span class="hljs-comment"># Do this instead</span>
t = (<span class="hljs-string">'RHAT'</span>,)
c.execute(<span class="hljs-string">'SELECT * FROM stocks WHERE symbol=?'</span>, t)
<span class="hljs-built_in">print</span> c.fetchone()

<span class="hljs-comment"># Larger example that inserts many records at a time</span>
purchases = [(<span class="hljs-string">'2006-03-28'</span>, <span class="hljs-string">'BUY'</span>, <span class="hljs-string">'IBM'</span>, <span class="hljs-number">1000</span>, <span class="hljs-number">45.00</span>),
             (<span class="hljs-string">'2006-04-05'</span>, <span class="hljs-string">'BUY'</span>, <span class="hljs-string">'MSFT'</span>, <span class="hljs-number">1000</span>, <span class="hljs-number">72.00</span>),
             (<span class="hljs-string">'2006-04-06'</span>, <span class="hljs-string">'SELL'</span>, <span class="hljs-string">'IBM'</span>, <span class="hljs-number">500</span>, <span class="hljs-number">53.00</span>),
            ]
c.executemany(<span class="hljs-string">'INSERT INTO stocks VALUES (?,?,?,?,?)'</span>, purchases)
</code></pre>
<p><strong>More examples if you need:</strong></p>
<pre class="default s-code-block"><code class="hljs language-bash"><span class="hljs-comment"># Multiple values single statement/execution</span>
c.execute(<span class="hljs-string">'SELECT * FROM stocks WHERE symbol=? OR symbol=?'</span>, (<span class="hljs-string">'RHAT'</span>, <span class="hljs-string">'MSO'</span>))
<span class="hljs-built_in">print</span> c.fetchall()
c.execute(<span class="hljs-string">'SELECT * FROM stocks WHERE symbol IN (?, ?)'</span>, (<span class="hljs-string">'RHAT'</span>, <span class="hljs-string">'MSO'</span>))
<span class="hljs-built_in">print</span> c.fetchall()
<span class="hljs-comment"># This also works, though ones above are better as a habit as it's inline with syntax of executemany().. but your choice.</span>
c.execute(<span class="hljs-string">'SELECT * FROM stocks WHERE symbol=? OR symbol=?'</span>, <span class="hljs-string">'RHAT'</span>, <span class="hljs-string">'MSO'</span>)
<span class="hljs-built_in">print</span> c.fetchall()
<span class="hljs-comment"># Insert a single item</span>
c.execute(<span class="hljs-string">'INSERT INTO stocks VALUES (?,?,?,?,?)'</span>, (<span class="hljs-string">'2006-03-28'</span>, <span class="hljs-string">'BUY'</span>, <span class="hljs-string">'IBM'</span>, 1000, 45.00))
</code></pre>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 4</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><a href="http://web.archive.org/web/20090504233107/amk.ca/python/writing/DB-API.html" rel="nofollow noreferrer">http://www.amk.ca/python/writing/DB-API.html</a></p>
<p>Be careful when you simply append values of variables to your statements:
Imagine a user naming himself <code>';DROP TABLE Users;'</code> --
That's why you need to use SQL escaping, which Python provides for you when you use <code>cursor.execute</code> in a decent manner. Example in the URL is:</p>
<pre class="default s-code-block"><code class="hljs language-scss"><span class="hljs-attribute">cursor</span><span class="hljs-selector-class">.execute</span>("insert into Attendees values (?, ?, ?)", (name, seminar, paid))
</code></pre>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 5</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The syntax for providing a single value can be confusing for inexperienced Python users.</p>
<p>Given the query</p>
<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> mytable (fruit) <span class="hljs-keyword">VALUES</span> (<span class="hljs-operator">%</span>s)
</code></pre>
<p>Generally*, the value passed to <code>cursor.execute</code> must wrapped in an ordered sequence such as a <a href="https://docs.python.org/3/library/stdtypes.html#tuple" rel="nofollow noreferrer">tuple</a> or <a href="https://docs.python.org/3/library/stdtypes.html#list" rel="nofollow noreferrer">list</a> even though the value itself is a singleton, so we must provide a single element tuple, like this: <code>(value,)</code>.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">cursor.execute(<span class="hljs-string">"""INSERT INTO mytable (fruit) VALUES (%s)"""</span>, (<span class="hljs-string">'apple'</span>,))
</code></pre>
<p>Passing a single string</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">cursor.execute(<span class="hljs-string">"""INSERT INTO mytable (fruit) VALUES (%s)"""</span>, (<span class="hljs-string">'apple'</span>))
</code></pre>
<p>will result in an error which varies by the DB-API connector, for example</p>
<ul>
<li>psycopg2:
<blockquote>
<p>TypeError: not all arguments converted during string formatting</p>
</blockquote>
</li>
<li>sqlite3
<blockquote>
<p>sqlite3.ProgrammingError: Incorrect number of bindings supplied. The current statement uses 1, and there are 5 supplied</p>
</blockquote>
</li>
<li>mysql.connector
<blockquote>
<p>mysql.connector.errors.ProgrammingError: 1064 (42000): You have an error in your SQL syntax;</p>
</blockquote>
</li>
</ul>
<hr>
<p>*  The pymysql connector handles a single string parameter without erroring.  However it's better to wrap the string in a tuple even if it's a single because</p>
<ul>
<li>you won't need to change the code if you switch connector package</li>
<li>you keep a consistent mental model of the query parameters being a sequence of objects rather than a single object.</li>
</ul>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/how-does-the-windows-command-interpreter-(cmd.exe)-parse-scripts-1657387731560">How does the Windows Command Interpreter (CMD.EXE) parse scripts?</a><a href="/questions/methods-in-es6-objects:-using-arrow-functions-1657388249058">Methods in ES6 objects: using arrow functions</a><a href="/questions/is-there-a-javascript-jquery-dom-change-listener-1657387961200">Is there a JavaScript / jQuery DOM change listener?</a><a href="/questions/how-do-i-properly-compare-strings-in-c-1657387467202">How do I properly compare strings in C?</a><a href="/questions/why-is-iostream::eof-inside-a-loop-condition-(i.e.-while-(!stream.eof()))-considered-wrong-1657384355427">Why is iostream::eof inside a loop condition (i.e. `while (!stream.eof())`) considered wrong?</a><a href="/questions/using-i-and-j-as-variables-in-matlab-1657388506358">Using i and j as variables in MATLAB</a><a href="/questions/what&#x27;s-the-meaning-of-%22greater%22-(an-arrow-formed-from-equals-and-greater-than)-in-javascript-1657387977118">What&#x27;s the meaning of &quot;=&gt;&quot; (an arrow formed from equals &amp; greater than) in JavaScript?</a><a href="/questions/difference-between-sh-and-bash-1657388197713">Difference between sh and Bash</a><a href="/questions/what-is-event-bubbling-and-capturing-1657388059203">What is event bubbling and capturing?</a><a href="/questions/sort-array-of-objects-by-string-property-value-1657384860090">Sort array of objects by string property value</a><a href="/questions/http-get-with-request-body-1657387379038">HTTP GET with request body</a><a href="/questions/what-special-characters-must-be-escaped-in-regular-expressions-1657387465381">What special characters must be escaped in regular expressions?</a><a href="/questions/sort-a-maplesskey-valuegreater-by-values-1657387443904">Sort a Map&lt;Key, Value&gt; by values</a><a href="/questions/what-is-the-difference-between-include-lessfilenamegreater-and-include-%22filename%22-1657388489547">What is the difference between #include &lt;filename&gt; and #include &quot;filename&quot;?</a><a href="/questions/how-do-servlets-work-instantiation-sessions-shared-variables-and-multithreading-1657387540375">How do servlets work? Instantiation, sessions, shared variables and multithreading</a><a href="/questions/why-does-this-pdo-statement-silently-fail-1657384892133">Why does this PDO statement silently fail?</a><a href="/questions/why-is-using-%22for...in%22-for-array-iteration-a-bad-idea-1657384653458">Why is using &quot;for...in&quot; for array iteration a bad idea?</a><a href="/questions/how-do-i-revert-a-git-repository-to-a-previous-commit-1657387714717">How do I revert a Git repository to a previous commit?</a><a href="/questions/dollar(document).ready-equivalent-without-jquery-1657388504115">$(document).ready equivalent without jQuery</a><a href="/questions/how-do-i-return-the-response-from-an-asynchronous-call-1657384208012">How do I return the response from an asynchronous call?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-perl\u0026quot;\u0026gt;cursor.execute(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;INSERT INTO table VALUES (%s, %s, %s)\u0026quot;\u0026lt;/span\u0026gt;, (var1, var2, var3))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Note that the parameters are passed as a tuple.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The database API does proper escaping and quoting of variables. Be careful not to use the string formatting operator (\u0026lt;code\u0026gt;%\u0026lt;/code\u0026gt;), because\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;it does not do any escaping or quoting.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;it is prone to Uncontrolled string format attacks e.g. \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/SQL_injection\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;SQL injection\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Different implementations of the Python DB-API are allowed to use different placeholders, so you\u0026apos;ll need to find out which one you\u0026apos;re using -- it could be (e.g. with MySQLdb):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-perl\u0026quot;\u0026gt;cursor.execute(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;INSERT INTO table VALUES (%s, %s, %s)\u0026quot;\u0026lt;/span\u0026gt;, (var1, var2, var3))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;or (e.g. with sqlite3 from the Python standard library):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;cursor\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.execute\u0026lt;/span\u0026gt;(\u0026quot;INSERT INTO table VALUES (?, ?, ?)\u0026quot;, (var1, var2, var3))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;or others yet (after \u0026lt;code\u0026gt;VALUES\u0026lt;/code\u0026gt; you could have \u0026lt;code\u0026gt;(:1, :2, :3)\u0026lt;/code\u0026gt; , or \u0026quot;named styles\u0026quot; \u0026lt;code\u0026gt;(:fee, :fie, :fo)\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;(%(fee)s, %(fie)s, %(fo)s)\u0026lt;/code\u0026gt; where you pass a dict instead of a map as the second argument to \u0026lt;code\u0026gt;execute\u0026lt;/code\u0026gt;).  Check the \u0026lt;code\u0026gt;paramstyle\u0026lt;/code\u0026gt; string constant in the DB API module you\u0026apos;re using, and look for paramstyle at \u0026lt;a href=\u0026quot;http://www.python.org/dev/peps/pep-0249/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://www.python.org/dev/peps/pep-0249/\u0026lt;/a\u0026gt; to see what all the parameter-passing styles are!\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Many ways. \u0026lt;strong\u0026gt;DON\u0026apos;T\u0026lt;/strong\u0026gt; use the most obvious one (\u0026lt;code\u0026gt;%s\u0026lt;/code\u0026gt; with \u0026lt;code\u0026gt;%\u0026lt;/code\u0026gt;) in real code, it\u0026apos;s open to \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/SQL_injection\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;attacks\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Here copy-paste\u0026apos;d \u0026lt;strong\u0026gt;\u0026lt;a href=\u0026quot;http://docs.python.org/2/library/sqlite3.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;from pydoc of sqlite3\u0026lt;/a\u0026gt;\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Never do this -- insecure!\u0026lt;/span\u0026gt;\nsymbol = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;RHAT\u0026apos;\u0026lt;/span\u0026gt;\nc.execute(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SELECT * FROM stocks WHERE symbol = \u0026apos;%s\u0026apos;\u0026quot;\u0026lt;/span\u0026gt; % symbol)\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Do this instead\u0026lt;/span\u0026gt;\nt = (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;RHAT\u0026apos;\u0026lt;/span\u0026gt;,)\nc.execute(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;SELECT * FROM stocks WHERE symbol=?\u0026apos;\u0026lt;/span\u0026gt;, t)\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; c.fetchone()\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Larger example that inserts many records at a time\u0026lt;/span\u0026gt;\npurchases = [(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2006-03-28\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;BUY\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;IBM\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;45.00\u0026lt;/span\u0026gt;),\n             (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2006-04-05\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;BUY\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;MSFT\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;72.00\u0026lt;/span\u0026gt;),\n             (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2006-04-06\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;SELL\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;IBM\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;500\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;53.00\u0026lt;/span\u0026gt;),\n            ]\nc.executemany(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;INSERT INTO stocks VALUES (?,?,?,?,?)\u0026apos;\u0026lt;/span\u0026gt;, purchases)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;More examples if you need:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Multiple values single statement/execution\u0026lt;/span\u0026gt;\nc.execute(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;SELECT * FROM stocks WHERE symbol=? OR symbol=?\u0026apos;\u0026lt;/span\u0026gt;, (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;RHAT\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;MSO\u0026apos;\u0026lt;/span\u0026gt;))\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; c.fetchall()\nc.execute(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;SELECT * FROM stocks WHERE symbol IN (?, ?)\u0026apos;\u0026lt;/span\u0026gt;, (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;RHAT\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;MSO\u0026apos;\u0026lt;/span\u0026gt;))\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; c.fetchall()\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# This also works, though ones above are better as a habit as it\u0026apos;s inline with syntax of executemany().. but your choice.\u0026lt;/span\u0026gt;\nc.execute(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;SELECT * FROM stocks WHERE symbol=? OR symbol=?\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;RHAT\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;MSO\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; c.fetchall()\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Insert a single item\u0026lt;/span\u0026gt;\nc.execute(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;INSERT INTO stocks VALUES (?,?,?,?,?)\u0026apos;\u0026lt;/span\u0026gt;, (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2006-03-28\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;BUY\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;IBM\u0026apos;\u0026lt;/span\u0026gt;, 1000, 45.00))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://web.archive.org/web/20090504233107/amk.ca/python/writing/DB-API.html\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;http://www.amk.ca/python/writing/DB-API.html\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Be careful when you simply append values of variables to your statements:\nImagine a user naming himself \u0026lt;code\u0026gt;\u0026apos;;DROP TABLE Users;\u0026apos;\u0026lt;/code\u0026gt; --\nThat\u0026apos;s why you need to use SQL escaping, which Python provides for you when you use \u0026lt;code\u0026gt;cursor.execute\u0026lt;/code\u0026gt; in a decent manner. Example in the URL is:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;cursor\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.execute\u0026lt;/span\u0026gt;(\u0026quot;insert into Attendees values (?, ?, ?)\u0026quot;, (name, seminar, paid))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The syntax for providing a single value can be confusing for inexperienced Python users.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Given the query\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;INSERT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;INTO\u0026lt;/span\u0026gt; mytable (fruit) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;VALUES\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;%\u0026lt;/span\u0026gt;s)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Generally*, the value passed to \u0026lt;code\u0026gt;cursor.execute\u0026lt;/code\u0026gt; must wrapped in an ordered sequence such as a \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/stdtypes.html#tuple\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;tuple\u0026lt;/a\u0026gt; or \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/stdtypes.html#list\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;list\u0026lt;/a\u0026gt; even though the value itself is a singleton, so we must provide a single element tuple, like this: \u0026lt;code\u0026gt;(value,)\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;cursor.execute(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026quot;INSERT INTO mytable (fruit) VALUES (%s)\u0026quot;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;, (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;apple\u0026apos;\u0026lt;/span\u0026gt;,))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Passing a single string\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;cursor.execute(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026quot;INSERT INTO mytable (fruit) VALUES (%s)\u0026quot;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;, (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;apple\u0026apos;\u0026lt;/span\u0026gt;))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;will result in an error which varies by the DB-API connector, for example\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;psycopg2:\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;TypeError: not all arguments converted during string formatting\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;sqlite3\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;sqlite3.ProgrammingError: Incorrect number of bindings supplied. The current statement uses 1, and there are 5 supplied\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;mysql.connector\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;mysql.connector.errors.ProgrammingError: 1064 (42000): You have an error in your SQL syntax;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;*  The pymysql connector handles a single string parameter without erroring.  However it\u0026apos;s better to wrap the string in a tuple even if it\u0026apos;s a single because\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;you won\u0026apos;t need to change the code if you switch connector package\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;you keep a consistent mental model of the query parameters being a sequence of objects rather than a single object.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    "],"id":581,"title":"How to use variables in SQL statement in Python?","content":"\n                \n\u0026lt;p\u0026gt;I have the following Python code:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;cursor.execute(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;INSERT INTO table VALUES var1, var2, var3,\u0026quot;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;where \u0026lt;code\u0026gt;var1\u0026lt;/code\u0026gt; is an integer, \u0026lt;code\u0026gt;var2\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;var3\u0026lt;/code\u0026gt; are strings.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;How can I write the variable names without Python including them as part of the query text?\u0026lt;/p\u0026gt;\n    ","slug":"how-to-use-variables-in-sql-statement-in-python-1657388479077","postType":"QUESTION","createdAt":"2022-07-09T17:41:19.000Z","updatedAt":"2022-07-09T17:41:19.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"How does the Windows Command Interpreter (CMD.EXE) parse scripts?","slug":"how-does-the-windows-command-interpreter-(cmd.exe)-parse-scripts-1657387731560"},{"title":"Methods in ES6 objects: using arrow functions","slug":"methods-in-es6-objects:-using-arrow-functions-1657388249058"},{"title":"Is there a JavaScript / jQuery DOM change listener?","slug":"is-there-a-javascript-jquery-dom-change-listener-1657387961200"},{"title":"How do I properly compare strings in C?","slug":"how-do-i-properly-compare-strings-in-c-1657387467202"},{"title":"Why is iostream::eof inside a loop condition (i.e. `while (!stream.eof())`) considered wrong?","slug":"why-is-iostream::eof-inside-a-loop-condition-(i.e.-while-(!stream.eof()))-considered-wrong-1657384355427"},{"title":"Using i and j as variables in MATLAB","slug":"using-i-and-j-as-variables-in-matlab-1657388506358"},{"title":"What's the meaning of \"=\u003e\" (an arrow formed from equals \u0026 greater than) in JavaScript?","slug":"what's-the-meaning-of-\"greater\"-(an-arrow-formed-from-equals-and-greater-than)-in-javascript-1657387977118"},{"title":"Difference between sh and Bash","slug":"difference-between-sh-and-bash-1657388197713"},{"title":"What is event bubbling and capturing?","slug":"what-is-event-bubbling-and-capturing-1657388059203"},{"title":"Sort array of objects by string property value","slug":"sort-array-of-objects-by-string-property-value-1657384860090"},{"title":"HTTP GET with request body","slug":"http-get-with-request-body-1657387379038"},{"title":"What special characters must be escaped in regular expressions?","slug":"what-special-characters-must-be-escaped-in-regular-expressions-1657387465381"},{"title":"Sort a Map\u003cKey, Value\u003e by values","slug":"sort-a-maplesskey-valuegreater-by-values-1657387443904"},{"title":"What is the difference between #include \u003cfilename\u003e and #include \"filename\"?","slug":"what-is-the-difference-between-include-lessfilenamegreater-and-include-\"filename\"-1657388489547"},{"title":"How do servlets work? Instantiation, sessions, shared variables and multithreading","slug":"how-do-servlets-work-instantiation-sessions-shared-variables-and-multithreading-1657387540375"},{"title":"Why does this PDO statement silently fail?","slug":"why-does-this-pdo-statement-silently-fail-1657384892133"},{"title":"Why is using \"for...in\" for array iteration a bad idea?","slug":"why-is-using-\"for...in\"-for-array-iteration-a-bad-idea-1657384653458"},{"title":"How do I revert a Git repository to a previous commit?","slug":"how-do-i-revert-a-git-repository-to-a-previous-commit-1657387714717"},{"title":"$(document).ready equivalent without jQuery","slug":"dollar(document).ready-equivalent-without-jquery-1657388504115"},{"title":"How do I return the response from an asynchronous call?","slug":"how-do-i-return-the-response-from-an-asynchronous-call-1657384208012"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-to-use-variables-in-sql-statement-in-python-1657388479077"},"buildId":"DSpI0pSdXueTMCIVyw0q4","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>