<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://solutionschecker.com","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://solutionschecker.com/questions","name":"Questions"}},{"@type":"ListItem","position":3,"item":{"@id":"https://solutionschecker.com/questions/how-to-find-the-&apos;sizeof&apos;-(a-pointer-pointing-to-an-array)-1657387354284","name":"Questions"}}]}</script><title>How to find the &#x27;sizeof&#x27; (a pointer pointing to an array)? | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="First off, here is some code:

int main() 
{
    int days[] = {1,2,3,4,5};
    int *ptr = days;
    printf(&quot;%u\n&quot;, sizeof(days));
    printf(&quot;%u\n&quot;, sizeof(ptr));

    return 0;
}


Is there a way to find out the size of the array that ptr is pointing to (instead of just giving its size, which is four bytes on a 32-bit system)? 
    "/><meta property="og:title" content="How to find the &#x27;sizeof&#x27; (a pointer pointing to an array)? | Solutions Checker"/><meta property="og:description" content="First off, here is some code:

int main() 
{
    int days[] = {1,2,3,4,5};
    int *ptr = days;
    printf(&quot;%u\n&quot;, sizeof(days));
    printf(&quot;%u\n&quot;, sizeof(ptr));

    return 0;
}


Is there a way to find out the size of the array that ptr is pointing to (instead of just giving its size, which is four bytes on a 32-bit system)? 
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"How to find the &apos;sizeof&apos; (a pointer pointing to an array)?","text":"First off, here is some code:\n\nint main() \n{\n    int days[] = {1,2,3,4,5};\n    int *ptr = days;\n    printf(&quot;%u\\n&quot;, sizeof(days));\n    printf(&quot;%u\\n&quot;, sizeof(ptr));\n\n    return 0;\n}\n\n\nIs there a way to find out the size of the array that ptr is pointing to (instead of just giving its size, which is four bytes on a 32-bit system)? \n    ","answerCount":17,"upVoteCount":500,"suggestedAnswer":[{"text":"No, you can&apos;t.  The compiler doesn&apos;t know what the pointer is pointing to.  There are tricks, like ending the array with a known out-of-band value and then counting the size up until that value, but that&apos;s not using sizeof().  \n\nAnother trick is the one mentioned by Zan, which is to stash the size somewhere.  For example, if you&apos;re dynamically allocating the array, allocate a block one int bigger than the one you need, stash the size in the first int, and return ptr+1 as the pointer to the array.  When you need the size, decrement the pointer and peek at the stashed value.  Just remember to free the whole block starting from the beginning, and not just the array.\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"The answer is, &quot;No.&quot;\n\nWhat C programmers do is store the size of the array somewhere.  It can be part of a structure, or the programmer can cheat a bit and malloc() more memory than requested in order to store a length value before the start of the array.\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"For dynamic arrays (malloc or C++ new) you need to store the size of the array as mentioned by others or perhaps build an array manager structure which handles add, remove, count, etc. Unfortunately C doesn&apos;t do this nearly as well as C++ since you basically have to build it for each different array type you are storing which is cumbersome if you have multiple types of arrays that you need to manage.\n\nFor static arrays, such as the one in your example, there is a common macro used to get the size, but it is not recommended as it does not check if the parameter is really a static array. The macro is used in real code though, e.g. in the Linux kernel headers although it may be slightly different than the one below:\n\n#if !defined(ARRAY_SIZE)\n    #define ARRAY_SIZE(x) (sizeof((x)) / sizeof((x)[0]))\n#endif\n\nint main()\n{\n    int days[] = {1,2,3,4,5};\n    int *ptr = days;\n    printf(&quot;%u\\n&quot;, ARRAY_SIZE(days));\n    printf(&quot;%u\\n&quot;, sizeof(ptr));\n    return 0;\n}\n\n\nYou can google for reasons to be wary of macros like this. Be careful.\n\nIf possible, the C++ stdlib such as vector which is much safer and easier to use.\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"There is a clean solution with C++ templates, without using sizeof(). The following getSize() function returns the size of any static array:\n\n#include &lt;cstddef&gt;\n\ntemplate&lt;typename T, size_t SIZE&gt;\nsize_t getSize(T (&amp;)[SIZE]) {\n    return SIZE;\n}\n\n\nHere is an example with a foo_t structure:\n\n#include &lt;cstddef&gt;\n\ntemplate&lt;typename T, size_t SIZE&gt;\nsize_t getSize(T (&amp;)[SIZE]) {\n    return SIZE;\n}\n\nstruct foo_t {\n    int ball;\n};\n\nint main()\n{\n    foo_t foos3[] = {{1},{2},{3}};\n    foo_t foos5[] = {{1},{2},{3},{4},{5}};\n    printf(&quot;%u\\n&quot;, getSize(foos3));\n    printf(&quot;%u\\n&quot;, getSize(foos5));\n\n    return 0;\n}\n\n\nOutput:\n\n3\n5\n\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"As all the correct answers have stated, you cannot get this information from the decayed pointer value of the array alone. If the decayed pointer is the argument received by the function, then the size of the originating array has to be provided in some other way for the function to come to know that size.\n\nHere&apos;s a suggestion different from what has been provided thus far,that will work: Pass a pointer to the array instead. This suggestion is similar to the C++ style suggestions, except that C does not support templates or references:\n\n#define ARRAY_SZ 10\n\nvoid foo (int (*arr)[ARRAY_SZ]) {\n    printf(&quot;%u\\n&quot;, (unsigned)sizeof(*arr)/sizeof(**arr));\n}\n\n\nBut, this suggestion is kind of silly for your problem, since the function is defined to know exactly the size of the array that is passed in (hence, there is little need to use sizeof at all on the array). What it does do, though, is offer some type safety. It will prohibit you from passing in an array of an unwanted size.\n\nint x[20];\nint y[10];\nfoo(&amp;x); /* error */\nfoo(&amp;y); /* ok */\n\n\nIf the function is supposed to be able to operate on any size of array, then you will have to provide the size to the function as additional information.\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"For this specific example, yes, there is, IF you use typedefs (see below). Of course, if you do it this way, you&apos;re just as well off to use SIZEOF_DAYS, since you know what the pointer is pointing to. \n\nIf you have a (void *) pointer, as is returned by malloc()  or the like, then, no, there is no way to determine what data structure the pointer is pointing to and thus, no way to determine its size.\n\n#include &lt;stdio.h&gt;\n\n#define NUM_DAYS 5\ntypedef int days_t[ NUM_DAYS ];\n#define SIZEOF_DAYS ( sizeof( days_t ) )\n\nint main() {\n    days_t  days;\n    days_t *ptr = &amp;days; \n\n    printf( &quot;SIZEOF_DAYS:  %u\\n&quot;, SIZEOF_DAYS  );\n    printf( &quot;sizeof(days): %u\\n&quot;, sizeof(days) );\n    printf( &quot;sizeof(*ptr): %u\\n&quot;, sizeof(*ptr) );\n    printf( &quot;sizeof(ptr):  %u\\n&quot;, sizeof(ptr)  );\n\n    return 0;\n} \n\n\nOutput:\n\nSIZEOF_DAYS:  20\nsizeof(days): 20\nsizeof(*ptr): 20\nsizeof(ptr):  4\n\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"There is no magic solution. C is not a reflective language. Objects don&apos;t automatically know what they are.\n\nBut you have many choices:\n\n\nObviously, add a parameter\nWrap the call in a macro and automatically add a parameter\nUse a more complex object. Define a structure which contains the dynamic array and also the size of the array. Then, pass the address of the structure.\n\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"You can do something like this:\n\nint days[] = { /*length:*/5, /*values:*/ 1,2,3,4,5 };\nint *ptr = days + 1;\nprintf(&quot;array length: %u\\n&quot;, ptr[-1]);\nreturn 0;\n\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"My solution to this problem is to save the length of the array into a struct Array as a meta-information about the array.\n\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nstruct Array\n{\n    int length;\n\n    double *array;\n};\n\ntypedef struct Array Array;\n\nArray* NewArray(int length)\n{\n    /* Allocate the memory for the struct Array */\n    Array *newArray = (Array*) malloc(sizeof(Array));\n\n    /* Insert only non-negative length&apos;s*/\n    newArray-&gt;length = (length &gt; 0) ? length : 0;\n\n    newArray-&gt;array = (double*) malloc(length*sizeof(double));\n\n    return newArray;\n}\n\nvoid SetArray(Array *structure,int length,double* array)\n{\n    structure-&gt;length = length;\n    structure-&gt;array = array;\n}\n\nvoid PrintArray(Array *structure)\n{       \n    if(structure-&gt;length &gt; 0)\n    {\n        int i;\n        printf(&quot;length: %d\\n&quot;, structure-&gt;length);\n        for (i = 0; i &lt; structure-&gt;length; i++)\n            printf(&quot;%g\\n&quot;, structure-&gt;array[i]);\n    }\n    else\n        printf(&quot;Empty Array. Length 0\\n&quot;);\n}\n\nint main()\n{\n    int i;\n    Array *negativeTest, *days = NewArray(5);\n\n    double moreDays[] = {1,2,3,4,5,6,7,8,9,10};\n\n    for (i = 0; i &lt; days-&gt;length; i++)\n        days-&gt;array[i] = i+1;\n\n    PrintArray(days);\n\n    SetArray(days,10,moreDays);\n\n    PrintArray(days);\n\n    negativeTest = NewArray(-5);\n\n    PrintArray(negativeTest);\n\n    return 0;\n}\n\n\nBut you have to care about set the right length of the array you want to store, because the is no way to check this length, like our friends massively explained.\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"No, you can&apos;t use sizeof(ptr) to find the size of array ptr is pointing to.\n\nThough allocating extra memory(more than the size of array) will be helpful if you want  to store the length in extra space.\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"int main() \n{\n    int days[] = {1,2,3,4,5};\n    int *ptr = days;\n    printf(&quot;%u\\n&quot;, sizeof(days));\n    printf(&quot;%u\\n&quot;, sizeof(ptr));\n\n    return 0;\n}\n\n\nSize of days[] is 20 which is no of elements * size of it&apos;s data type.\nWhile the size of pointer is 4 no matter what it is pointing to.\nBecause a pointer points to other element by storing it&apos;s address. \n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"\nIn strings there is a &apos;\\0&apos; character at the end so the length of the string can be gotten using functions like strlen. The problem with an integer array, for example, is that you can&apos;t use any value as an end value so one possible solution is to address the array and use as an end value the NULL pointer.\n\n#include &lt;stdio.h&gt;\n/* the following function will produce the warning:\n * sizeof on array function parameter a will\n * return size of int * [-Wsizeof-array-argument]\n */\nvoid foo( int a[] )\n{\n    printf( &quot;%lu\\n&quot;, sizeof a );\n}\n/* so we have to implement something else one possible\n * idea is to use the NULL pointer as a control value\n * the same way &apos;\\0&apos; is used in strings but this way\n * the pointer passed to a function should address pointers\n * so the actual implementation of an array type will\n * be a pointer to pointer\n */\ntypedef char * type_t; /* line 18 */\ntypedef type_t ** array_t;\nint main( void )\n{\n    array_t initialize( int, ... );\n    /* initialize an array with four values &quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;, &quot;foobar&quot;\n     * if one wants to use integers rather than strings than in the typedef\n     * declaration at line 18 the char * type should be changed with int\n     * and in the format used for printing the array values \n     * at line 45 and 51 &quot;%s&quot; should be changed with &quot;%i&quot;\n     */\n    array_t array = initialize( 4, &quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;, &quot;foobar&quot; );\n\n    int size( array_t );\n    /* print array size */\n    printf( &quot;size %i:\\n&quot;, size( array ));\n\n    void aprint( char *, array_t );\n    /* print array values */\n    aprint( &quot;%s\\n&quot;, array ); /* line 45 */\n\n    type_t getval( array_t, int );\n    /* print an indexed value */\n    int i = 2;\n    type_t val = getval( array, i );\n    printf( &quot;%i: %s\\n&quot;, i, val ); /* line 51 */\n\n    void delete( array_t );\n    /* free some space */\n    delete( array );\n\n    return 0;\n}\n/* the output of the program should be:\n * size 4:\n * foo\n * bar\n * baz\n * foobar\n * 2: baz\n */\n#include &lt;stdarg.h&gt;\n#include &lt;stdlib.h&gt;\narray_t initialize( int n, ... )\n{\n    /* here we store the array values */\n    type_t *v = (type_t *) malloc( sizeof( type_t ) * n );\n    va_list ap;\n    va_start( ap, n );\n    int j;\n    for ( j = 0; j &lt; n; j++ )\n        v[j] = va_arg( ap, type_t );\n    va_end( ap );\n    /* the actual array will hold the addresses of those\n     * values plus a NULL pointer\n     */\n    array_t a = (array_t) malloc( sizeof( type_t *) * ( n + 1 ));\n    a[n] = NULL;\n    for ( j = 0; j &lt; n; j++ )\n        a[j] = v + j;\n    return a;\n}\nint size( array_t a )\n{\n    int n = 0;\n    while ( *a++ != NULL )\n        n++;\n    return n;\n}\nvoid aprint( char *fmt, array_t a )\n{\n    while ( *a != NULL )\n        printf( fmt, **a++ );   \n}\ntype_t getval( array_t a, int i )\n{\n    return *a[i];\n}\nvoid delete( array_t a )\n{\n    free( *a );\n    free( a );\n}\n\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"This is how I personally do it in my code. I like to keep it as simple as possible while still able to get values that I need.\ntypedef struct intArr {\n    int size;\n    int* arr; \n} intArr_t;\n\nint main() {\n    intArr_t arr;\n    arr.size = 6;\n    arr.arr = (int*)malloc(sizeof(int) * arr.size);\n\n    for (size_t i = 0; i &lt; arr.size; i++) {\n        arr.arr[i] = i * 10;\n    }\n\n    return 0;\n}\n\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include &lt;stddef.h&gt;\n#include &lt;stdlib.h&gt;\n\n#define array(type) struct { size_t size; type elem[0]; }\n\nvoid *array_new(int esize, int ecnt)\n{\n    size_t *a = (size_t *)malloc(esize*ecnt+sizeof(size_t));\n    if (a) *a = ecnt;\n    return a;\n}\n#define array_new(type, count) array_new(sizeof(type),count)\n#define array_delete free\n#define array_foreach(type, e, arr) \\\n    for (type *e = (arr)-&gt;elem; e &lt; (arr)-&gt;size + (arr)-&gt;elem; ++e)\n\nint main(int argc, char const *argv[])\n{\n    array(int) *iarr = array_new(int, 10);\n    array(float) *farr = array_new(float, 10);\n    array(double) *darr = array_new(double, 10);\n    array(char) *carr = array_new(char, 11);\n    for (int i = 0; i &lt; iarr-&gt;size; ++i) {\n        iarr-&gt;elem[i] = i;\n        farr-&gt;elem[i] = i*1.0f;\n        darr-&gt;elem[i] = i*1.0;\n        carr-&gt;elem[i] = i+&apos;0&apos;;\n    }\n    array_foreach(int, e, iarr) {\n        printf(&quot;%d &quot;, *e);\n    }\n    array_foreach(float, e, farr) {\n        printf(&quot;%.0f &quot;, *e);\n    }\n    array_foreach(double, e, darr) {\n        printf(&quot;%.0lf &quot;, *e);\n    }\n    carr-&gt;elem[carr-&gt;size-1] = &apos;\\0&apos;;\n    printf(&quot;%s\\n&quot;, carr-&gt;elem);\n\n    return 0;\n}\n\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0},{"text":" #define array_size 10\n\n struct {\n     int16 size;\n     int16 array[array_size];\n     int16 property1[(array_size/16)+1]\n     int16 property2[(array_size/16)+1]\n } array1 = {array_size, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\n\n #undef array_size\n\n\narray_size is passing to the size variable:\n\n#define array_size 30\n\nstruct {\n    int16 size;\n    int16 array[array_size];\n    int16 property1[(array_size/16)+1]\n    int16 property2[(array_size/16)+1]\n} array2 = {array_size};\n\n#undef array_size\n\n\nUsage is:\n\nvoid main() {\n\n    int16 size = array1.size;\n    for (int i=0; i!=size; i++) {\n\n        array1.array[i] *= 2;\n    }\n}\n\n    ","url":"/questions/[slug]#solution15","@type":"Answer","upvoteCount":0},{"text":"Most implementations will have a function that tells you the reserved size for objects allocated with malloc() or calloc(), for example GNU has malloc_usable_size()\nHowever, this will return the size of the reversed block, which can be larger than the value given to malloc()/realloc().\n\n    ","url":"/questions/[slug]#solution16","@type":"Answer","upvoteCount":0},{"text":"There is a popular macro, which you can define for finding number of elements in the array (Microsoft CRT even provides it OOB with name _countof):\n#define countof(x) (sizeof(x)/sizeof((x)[0]))\n\nThen you can write:\nint my_array[] = { ... some elements ... };\nprintf(&quot;%zu&quot;, countof(my_array)); // &apos;z&apos; is correct type specifier for size_t\n\n    ","url":"/questions/[slug]#solution17","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="17"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-7e79b78ef884195a.js" defer=""></script><script src="/_next/static/chunks/294-106ef8570fa99deb.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-c1a73f3e758d48b9.js" defer=""></script><script src="/_next/static/XDXakEY6gSPdgAODPxtjg/_buildManifest.js" defer=""></script><script src="/_next/static/XDXakEY6gSPdgAODPxtjg/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-to-find-the-&#x27;sizeof&#x27;-(a-pointer-pointing-to-an-array)-1657387354284#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-to-find-the-&#x27;sizeof&#x27;-(a-pointer-pointing-to-an-array)-1657387354284"><h1>How to find the &#x27;sizeof&#x27; (a pointer pointing to an array)?</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/sizeof">sizeof</a></div></div><div class="question-content mt-5">
                
<p>First off, here is some code:</p>

<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> 
{
    <span class="hljs-type">int</span> days[] = {<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>};
    <span class="hljs-type">int</span> *ptr = days;
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%u\n"</span>, <span class="hljs-keyword">sizeof</span>(days));
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%u\n"</span>, <span class="hljs-keyword">sizeof</span>(ptr));

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>

<p>Is there a way to find out the size of the array that <code>ptr</code> is pointing to (instead of just giving its size, which is four bytes on a 32-bit system)? </p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li><li class="pagination-solution-item"><span data-id="#solution17" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">17</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/sizeof">sizeof</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>No, you can't.  The compiler doesn't know what the pointer is pointing to.  There are tricks, like ending the array with a known out-of-band value and then counting the size up until that value, but that's not using <code>sizeof()</code>.  </p>

<p>Another trick is the one mentioned by <a href="https://stackoverflow.com/users/13422/zan-lynx">Zan</a>, which is to stash the size somewhere.  For example, if you're dynamically allocating the array, allocate a block one int bigger than the one you need, stash the size in the first int, and return <code>ptr+1</code> as the pointer to the array.  When you need the size, decrement the pointer and peek at the stashed value.  Just remember to free the whole block starting from the beginning, and not just the array.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/sizeof">sizeof</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The answer is, "No."</p>

<p>What C programmers do is store the size of the array somewhere.  It can be part of a structure, or the programmer can cheat a bit and <code>malloc()</code> more memory than requested in order to store a length value before the start of the array.</p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/sizeof">sizeof</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>For dynamic arrays (<em>malloc</em> or C++ <em>new</em>) you need to store the size of the array as mentioned by others or perhaps build an array manager structure which handles add, remove, count, etc. Unfortunately C doesn't do this nearly as well as C++ since you basically have to build it for each different array type you are storing which is cumbersome if you have multiple types of arrays that you need to manage.</p>

<p>For static arrays, such as the one in your example, there is a common macro used to get the size, but it is <strong>not recommended</strong> as it does not check if the parameter is really a static array. The macro is used in real code though, e.g. in the Linux kernel headers although it may be slightly different than the one below:</p>

<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-meta">#<span class="hljs-keyword">if</span> !defined(ARRAY_SIZE)</span>
    <span class="hljs-meta">#<span class="hljs-keyword">define</span> ARRAY_SIZE(x) (sizeof((x)) / sizeof((x)[0]))</span>
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>
{
    <span class="hljs-type">int</span> days[] = {<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>};
    <span class="hljs-type">int</span> *ptr = days;
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%u\n"</span>, ARRAY_SIZE(days));
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%u\n"</span>, <span class="hljs-keyword">sizeof</span>(ptr));
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>

<p>You can google for reasons to be wary of macros like this. Be careful.</p>

<p>If possible, the C++ stdlib such as vector which is much safer and easier to use.</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/sizeof">sizeof</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>There is a clean solution with C++ templates, without using <strong>sizeof()</strong>. The following <strong>getSize()</strong> function returns the size of any static array:</p>

<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstddef&gt;</span></span>

template&lt;typename T, <span class="hljs-type">size_t</span> SIZE&gt;
<span class="hljs-type">size_t</span> <span class="hljs-title function_">getSize</span><span class="hljs-params">(T (&amp;)[SIZE])</span> {
    <span class="hljs-keyword">return</span> SIZE;
}
</code></pre>

<p>Here is an example with a <strong>foo_t</strong> structure:</p>

<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstddef&gt;</span></span>

template&lt;typename T, <span class="hljs-type">size_t</span> SIZE&gt;
<span class="hljs-type">size_t</span> <span class="hljs-title function_">getSize</span><span class="hljs-params">(T (&amp;)[SIZE])</span> {
    <span class="hljs-keyword">return</span> SIZE;
}

<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">foo_t</span> {</span>
    <span class="hljs-type">int</span> ball;
};

<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>
{
    <span class="hljs-type">foo_t</span> foos3[] = {{<span class="hljs-number">1</span>},{<span class="hljs-number">2</span>},{<span class="hljs-number">3</span>}};
    <span class="hljs-type">foo_t</span> foos5[] = {{<span class="hljs-number">1</span>},{<span class="hljs-number">2</span>},{<span class="hljs-number">3</span>},{<span class="hljs-number">4</span>},{<span class="hljs-number">5</span>}};
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%u\n"</span>, getSize(foos3));
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%u\n"</span>, getSize(foos5));

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>

<p>Output:</p>

<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-number">3</span>
<span class="hljs-number">5</span>
</code></pre>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/sizeof">sizeof</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>As all the correct answers have stated, you cannot get this information from the decayed pointer value of the array alone. If the decayed pointer is the argument received by the function, then the size of the originating array has to be provided in some other way for the function to come to know that size.</p>

<p>Here's a suggestion different from what has been provided thus far,that will work: Pass a pointer to the array instead. This suggestion is similar to the C++ style suggestions, except that C does not support templates or references:</p>

<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> ARRAY_SZ 10</span>

<span class="hljs-type">void</span> <span class="hljs-title function_">foo</span> <span class="hljs-params">(<span class="hljs-type">int</span> (*arr)[ARRAY_SZ])</span> {
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%u\n"</span>, (<span class="hljs-type">unsigned</span>)<span class="hljs-keyword">sizeof</span>(*arr)/<span class="hljs-keyword">sizeof</span>(**arr));
}
</code></pre>

<p>But, this suggestion is kind of silly for your problem, since the function is defined to know exactly the size of the array that is passed in (hence, there is little need to use sizeof at all on the array). What it does do, though, is offer some type safety. It will prohibit you from passing in an array of an unwanted size.</p>

<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-type">int</span> x[<span class="hljs-number">20</span>];
<span class="hljs-type">int</span> y[<span class="hljs-number">10</span>];
foo(&amp;x); <span class="hljs-comment">/* error */</span>
foo(&amp;y); <span class="hljs-comment">/* ok */</span>
</code></pre>

<p>If the function is supposed to be able to operate on any size of array, then you will have to provide the size to the function as additional information.</p>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/sizeof">sizeof</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>For this specific example, yes, there is, IF you use typedefs (see below). Of course, if you do it this way, you're just as well off to use SIZEOF_DAYS, since you know what the pointer is pointing to. </p>

<p>If you have a (void *) pointer, as is returned by malloc()  or the like, then, no, there is no way to determine what data structure the pointer is pointing to and thus, no way to determine its size.</p>

<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>

<span class="hljs-meta">#<span class="hljs-keyword">define</span> NUM_DAYS 5</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> <span class="hljs-type">days_t</span>[ NUM_DAYS ];
<span class="hljs-meta">#<span class="hljs-keyword">define</span> SIZEOF_DAYS ( sizeof( days_t ) )</span>

<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {
    <span class="hljs-type">days_t</span>  days;
    <span class="hljs-type">days_t</span> *ptr = &amp;days; 

    <span class="hljs-built_in">printf</span>( <span class="hljs-string">"SIZEOF_DAYS:  %u\n"</span>, SIZEOF_DAYS  );
    <span class="hljs-built_in">printf</span>( <span class="hljs-string">"sizeof(days): %u\n"</span>, <span class="hljs-keyword">sizeof</span>(days) );
    <span class="hljs-built_in">printf</span>( <span class="hljs-string">"sizeof(*ptr): %u\n"</span>, <span class="hljs-keyword">sizeof</span>(*ptr) );
    <span class="hljs-built_in">printf</span>( <span class="hljs-string">"sizeof(ptr):  %u\n"</span>, <span class="hljs-keyword">sizeof</span>(ptr)  );

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
} 
</code></pre>

<p>Output:</p>

<pre class="lang-c s-code-block"><code class="hljs language-c">SIZEOF_DAYS:  <span class="hljs-number">20</span>
<span class="hljs-keyword">sizeof</span>(days): <span class="hljs-number">20</span>
<span class="hljs-keyword">sizeof</span>(*ptr): <span class="hljs-number">20</span>
<span class="hljs-keyword">sizeof</span>(ptr):  <span class="hljs-number">4</span>
</code></pre>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/sizeof">sizeof</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>There is no magic solution. C is not a reflective language. Objects don't automatically know what they are.</p>

<p>But you have many choices:</p>

<ol>
<li>Obviously, add a parameter</li>
<li>Wrap the call in a macro and automatically add a parameter</li>
<li>Use a more complex object. Define a structure which contains the dynamic array and also the size of the array. Then, pass the address of the structure.</li>
</ol>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/sizeof">sizeof</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can do something like this:</p>

<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-type">int</span> days[] = { <span class="hljs-comment">/*length:*/</span><span class="hljs-number">5</span>, <span class="hljs-comment">/*values:*/</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span> };
<span class="hljs-type">int</span> *ptr = days + <span class="hljs-number">1</span>;
<span class="hljs-built_in">printf</span>(<span class="hljs-string">"array length: %u\n"</span>, ptr[<span class="hljs-number">-1</span>]);
<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
</code></pre>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/sizeof">sizeof</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>My solution to this problem is to save the length of the array into a struct Array as a meta-information about the array.</p>

<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span>

<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Array</span>
{</span>
    <span class="hljs-type">int</span> length;

    <span class="hljs-type">double</span> *<span class="hljs-built_in">array</span>;
};

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Array</span> <span class="hljs-title">Array</span>;</span>

Array* <span class="hljs-title function_">NewArray</span><span class="hljs-params">(<span class="hljs-type">int</span> length)</span>
{
    <span class="hljs-comment">/* Allocate the memory for the struct Array */</span>
    Array *newArray = (Array*) <span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(Array));

    <span class="hljs-comment">/* Insert only non-negative length's*/</span>
    newArray-&gt;length = (length &gt; <span class="hljs-number">0</span>) ? length : <span class="hljs-number">0</span>;

    newArray-&gt;<span class="hljs-built_in">array</span> = (<span class="hljs-type">double</span>*) <span class="hljs-built_in">malloc</span>(length*<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">double</span>));

    <span class="hljs-keyword">return</span> newArray;
}

<span class="hljs-type">void</span> <span class="hljs-title function_">SetArray</span><span class="hljs-params">(Array *structure,<span class="hljs-type">int</span> length,<span class="hljs-type">double</span>* <span class="hljs-built_in">array</span>)</span>
{
    structure-&gt;length = length;
    structure-&gt;<span class="hljs-built_in">array</span> = <span class="hljs-built_in">array</span>;
}

<span class="hljs-type">void</span> <span class="hljs-title function_">PrintArray</span><span class="hljs-params">(Array *structure)</span>
{       
    <span class="hljs-keyword">if</span>(structure-&gt;length &gt; <span class="hljs-number">0</span>)
    {
        <span class="hljs-type">int</span> i;
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"length: %d\n"</span>, structure-&gt;length);
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; structure-&gt;length; i++)
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%g\n"</span>, structure-&gt;<span class="hljs-built_in">array</span>[i]);
    }
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Empty Array. Length 0\n"</span>);
}

<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>
{
    <span class="hljs-type">int</span> i;
    Array *negativeTest, *days = NewArray(<span class="hljs-number">5</span>);

    <span class="hljs-type">double</span> moreDays[] = {<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>};

    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; days-&gt;length; i++)
        days-&gt;<span class="hljs-built_in">array</span>[i] = i+<span class="hljs-number">1</span>;

    PrintArray(days);

    SetArray(days,<span class="hljs-number">10</span>,moreDays);

    PrintArray(days);

    negativeTest = NewArray(<span class="hljs-number">-5</span>);

    PrintArray(negativeTest);

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>

<p>But you have to care about set the right length of the array you want to store, because the is no way to check this length, like our friends massively explained.</p>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/sizeof">sizeof</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>No, you can't use <code>sizeof(ptr)</code> to find the size of array <code>ptr</code> is pointing to.</p>

<p>Though allocating extra memory(more than the size of array) will be helpful if you want  to store the length in extra space.</p>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 11</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/sizeof">sizeof</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> 
{
    <span class="hljs-type">int</span> days[] = {<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>};
    <span class="hljs-type">int</span> *ptr = days;
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%u\n"</span>, <span class="hljs-keyword">sizeof</span>(days));
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%u\n"</span>, <span class="hljs-keyword">sizeof</span>(ptr));

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>

<p>Size of days[] is 20 which is no of elements * size of it's data type.
While the size of pointer is 4 no matter what it is pointing to.
Because a pointer points to other element by storing it's address. </p>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 12</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/sizeof">sizeof</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>
In strings there is a <code>'\0'</code> character at the end so the length of the string can be gotten using functions like <code>strlen</code>. The problem with an integer array, for example, is that you can't use any value as an end value so one possible solution is to address the array and use as an end value the <code>NULL</code> pointer.</p>

<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-comment">/* the following function will produce the warning:
 * sizeof on array function parameter a will
 * return size of int * [-Wsizeof-array-argument]
 */</span>
<span class="hljs-type">void</span> <span class="hljs-title function_">foo</span><span class="hljs-params">( <span class="hljs-type">int</span> a[] )</span>
{
    <span class="hljs-built_in">printf</span>( <span class="hljs-string">"%lu\n"</span>, <span class="hljs-keyword">sizeof</span> a );
}
<span class="hljs-comment">/* so we have to implement something else one possible
 * idea is to use the NULL pointer as a control value
 * the same way '\0' is used in strings but this way
 * the pointer passed to a function should address pointers
 * so the actual implementation of an array type will
 * be a pointer to pointer
 */</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">char</span> * <span class="hljs-type">type_t</span>; <span class="hljs-comment">/* line 18 */</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">type_t</span> ** <span class="hljs-type">array_t</span>;
<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">( <span class="hljs-type">void</span> )</span>
{
    <span class="hljs-type">array_t</span> <span class="hljs-title function_">initialize</span><span class="hljs-params">( <span class="hljs-type">int</span>, ... )</span>;
    <span class="hljs-comment">/* initialize an array with four values "foo", "bar", "baz", "foobar"
     * if one wants to use integers rather than strings than in the typedef
     * declaration at line 18 the char * type should be changed with int
     * and in the format used for printing the array values 
     * at line 45 and 51 "%s" should be changed with "%i"
     */</span>
    <span class="hljs-type">array_t</span> <span class="hljs-built_in">array</span> = initialize( <span class="hljs-number">4</span>, <span class="hljs-string">"foo"</span>, <span class="hljs-string">"bar"</span>, <span class="hljs-string">"baz"</span>, <span class="hljs-string">"foobar"</span> );

    <span class="hljs-type">int</span> <span class="hljs-title function_">size</span><span class="hljs-params">( <span class="hljs-type">array_t</span> )</span>;
    <span class="hljs-comment">/* print array size */</span>
    <span class="hljs-built_in">printf</span>( <span class="hljs-string">"size %i:\n"</span>, size( <span class="hljs-built_in">array</span> ));

    <span class="hljs-type">void</span> <span class="hljs-title function_">aprint</span><span class="hljs-params">( <span class="hljs-type">char</span> *, <span class="hljs-type">array_t</span> )</span>;
    <span class="hljs-comment">/* print array values */</span>
    aprint( <span class="hljs-string">"%s\n"</span>, <span class="hljs-built_in">array</span> ); <span class="hljs-comment">/* line 45 */</span>

    <span class="hljs-type">type_t</span> <span class="hljs-title function_">getval</span><span class="hljs-params">( <span class="hljs-type">array_t</span>, <span class="hljs-type">int</span> )</span>;
    <span class="hljs-comment">/* print an indexed value */</span>
    <span class="hljs-type">int</span> i = <span class="hljs-number">2</span>;
    <span class="hljs-type">type_t</span> val = getval( <span class="hljs-built_in">array</span>, i );
    <span class="hljs-built_in">printf</span>( <span class="hljs-string">"%i: %s\n"</span>, i, val ); <span class="hljs-comment">/* line 51 */</span>

    <span class="hljs-type">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">( <span class="hljs-type">array_t</span> )</span>;
    <span class="hljs-comment">/* free some space */</span>
    delete( <span class="hljs-built_in">array</span> );

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
<span class="hljs-comment">/* the output of the program should be:
 * size 4:
 * foo
 * bar
 * baz
 * foobar
 * 2: baz
 */</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdarg.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span>
<span class="hljs-type">array_t</span> <span class="hljs-title function_">initialize</span><span class="hljs-params">( <span class="hljs-type">int</span> n, ... )</span>
{
    <span class="hljs-comment">/* here we store the array values */</span>
    <span class="hljs-type">type_t</span> *v = (<span class="hljs-type">type_t</span> *) <span class="hljs-built_in">malloc</span>( <span class="hljs-keyword">sizeof</span>( <span class="hljs-type">type_t</span> ) * n );
    va_list ap;
    va_start( ap, n );
    <span class="hljs-type">int</span> j;
    <span class="hljs-keyword">for</span> ( j = <span class="hljs-number">0</span>; j &lt; n; j++ )
        v[j] = va_arg( ap, <span class="hljs-type">type_t</span> );
    va_end( ap );
    <span class="hljs-comment">/* the actual array will hold the addresses of those
     * values plus a NULL pointer
     */</span>
    <span class="hljs-type">array_t</span> a = (<span class="hljs-type">array_t</span>) <span class="hljs-built_in">malloc</span>( <span class="hljs-keyword">sizeof</span>( <span class="hljs-type">type_t</span> *) * ( n + <span class="hljs-number">1</span> ));
    a[n] = <span class="hljs-literal">NULL</span>;
    <span class="hljs-keyword">for</span> ( j = <span class="hljs-number">0</span>; j &lt; n; j++ )
        a[j] = v + j;
    <span class="hljs-keyword">return</span> a;
}
<span class="hljs-type">int</span> <span class="hljs-title function_">size</span><span class="hljs-params">( <span class="hljs-type">array_t</span> a )</span>
{
    <span class="hljs-type">int</span> n = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span> ( *a++ != <span class="hljs-literal">NULL</span> )
        n++;
    <span class="hljs-keyword">return</span> n;
}
<span class="hljs-type">void</span> <span class="hljs-title function_">aprint</span><span class="hljs-params">( <span class="hljs-type">char</span> *fmt, <span class="hljs-type">array_t</span> a )</span>
{
    <span class="hljs-keyword">while</span> ( *a != <span class="hljs-literal">NULL</span> )
        <span class="hljs-built_in">printf</span>( fmt, **a++ );   
}
<span class="hljs-type">type_t</span> <span class="hljs-title function_">getval</span><span class="hljs-params">( <span class="hljs-type">array_t</span> a, <span class="hljs-type">int</span> i )</span>
{
    <span class="hljs-keyword">return</span> *a[i];
}
<span class="hljs-type">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">( <span class="hljs-type">array_t</span> a )</span>
{
    <span class="hljs-built_in">free</span>( *a );
    <span class="hljs-built_in">free</span>( a );
}
</code></pre>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 13</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/sizeof">sizeof</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This is how I personally do it in my code. I like to keep it as simple as possible while still able to get values that I need.</p>
<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">intArr</span> {</span>
    <span class="hljs-type">int</span> size;
    <span class="hljs-type">int</span>* arr; 
} intArr_t;

<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {
    intArr_t arr;
    arr.size = <span class="hljs-number">6</span>;
    arr.arr = (<span class="hljs-type">int</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">int</span>) * arr.size);

    <span class="hljs-keyword">for</span> (<span class="hljs-type">size_t</span> i = <span class="hljs-number">0</span>; i &lt; arr.size; i++) {
        arr.arr[i] = i * <span class="hljs-number">10</span>;
    }

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 14</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/sizeof">sizeof</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stddef.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span>

<span class="hljs-meta">#<span class="hljs-keyword">define</span> array(type) struct { size_t size; type elem[0]; }</span>

<span class="hljs-type">void</span> *<span class="hljs-title function_">array_new</span><span class="hljs-params">(<span class="hljs-type">int</span> esize, <span class="hljs-type">int</span> ecnt)</span>
{
    <span class="hljs-type">size_t</span> *a = (<span class="hljs-type">size_t</span> *)<span class="hljs-built_in">malloc</span>(esize*ecnt+<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">size_t</span>));
    <span class="hljs-keyword">if</span> (a) *a = ecnt;
    <span class="hljs-keyword">return</span> a;
}
<span class="hljs-meta">#<span class="hljs-keyword">define</span> array_new(type, count) array_new(sizeof(type),count)</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> array_delete free</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> array_foreach(type, e, arr) \
    for (type *e = (arr)-&gt;elem; e <span class="hljs-string">&lt; (arr)-&gt;</span>size + (arr)-&gt;elem; ++e)</span>

<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> <span class="hljs-type">const</span> *argv[])</span>
{
    <span class="hljs-built_in">array</span>(<span class="hljs-type">int</span>) *iarr = array_new(<span class="hljs-type">int</span>, <span class="hljs-number">10</span>);
    <span class="hljs-built_in">array</span>(<span class="hljs-type">float</span>) *farr = array_new(<span class="hljs-type">float</span>, <span class="hljs-number">10</span>);
    <span class="hljs-built_in">array</span>(<span class="hljs-type">double</span>) *darr = array_new(<span class="hljs-type">double</span>, <span class="hljs-number">10</span>);
    <span class="hljs-built_in">array</span>(<span class="hljs-type">char</span>) *carr = array_new(<span class="hljs-type">char</span>, <span class="hljs-number">11</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; iarr-&gt;size; ++i) {
        iarr-&gt;elem[i] = i;
        farr-&gt;elem[i] = i*<span class="hljs-number">1.0f</span>;
        darr-&gt;elem[i] = i*<span class="hljs-number">1.0</span>;
        carr-&gt;elem[i] = i+<span class="hljs-string">'0'</span>;
    }
    array_foreach(<span class="hljs-type">int</span>, e, iarr) {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d "</span>, *e);
    }
    array_foreach(<span class="hljs-type">float</span>, e, farr) {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%.0f "</span>, *e);
    }
    array_foreach(<span class="hljs-type">double</span>, e, darr) {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%.0lf "</span>, *e);
    }
    carr-&gt;elem[carr-&gt;size<span class="hljs-number">-1</span>] = <span class="hljs-string">'\0'</span>;
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%s\n"</span>, carr-&gt;elem);

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 15</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/sizeof">sizeof</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-c s-code-block"><code class="hljs language-c"> <span class="hljs-meta">#<span class="hljs-keyword">define</span> array_size 10</span>

 <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
     int16 size;
     int16 <span class="hljs-built_in">array</span>[array_size];
     int16 property1[(array_size/<span class="hljs-number">16</span>)+<span class="hljs-number">1</span>]
     int16 property2[(array_size/<span class="hljs-number">16</span>)+<span class="hljs-number">1</span>]
 } array1 = {array_size, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>};

 <span class="hljs-meta">#<span class="hljs-keyword">undef</span> array_size</span>
</code></pre>

<p>array_size is passing to the <strong><em>size</em></strong> variable:</p>

<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> array_size 30</span>

<span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    int16 size;
    int16 <span class="hljs-built_in">array</span>[array_size];
    int16 property1[(array_size/<span class="hljs-number">16</span>)+<span class="hljs-number">1</span>]
    int16 property2[(array_size/<span class="hljs-number">16</span>)+<span class="hljs-number">1</span>]
} array2 = {array_size};

<span class="hljs-meta">#<span class="hljs-keyword">undef</span> array_size</span>
</code></pre>

<p>Usage is:</p>

<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {

    int16 size = array1.size;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i!=size; i++) {

        array1.<span class="hljs-built_in">array</span>[i] *= <span class="hljs-number">2</span>;
    }
}
</code></pre>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 16</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/sizeof">sizeof</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Most implementations will have a function that tells you the reserved size for objects allocated with <code>malloc()</code> or <code>calloc()</code>, for example GNU has <code>malloc_usable_size()</code></p>
<p>However, this will return the size of the reversed block, which can be larger than the value given to <code>malloc()</code>/<code>realloc()</code>.</p>
<hr>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 17</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/sizeof">sizeof</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>There is a popular macro, which you can define for finding number of elements in the array (Microsoft CRT even provides it OOB with name <code>_countof</code>):</p>
<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> countof(x) (sizeof(x)/sizeof((x)[0]))</span>
</code></pre>
<p>Then you can write:</p>
<pre class="lang-c s-code-block"><code class="hljs language-c"><span class="hljs-type">int</span> my_array[] = { ... some elements ... };
<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%zu"</span>, countof(my_array)); <span class="hljs-comment">// 'z' is correct type specifier for size_t</span>
</code></pre>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/what-is-the-behavior-of-integer-division-1657388222571">What is the behavior of integer division?</a><a href="/questions/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java-closed-1657387970474">What is an efficient way to implement a singleton pattern in Java? [closed]</a><a href="/questions/how-do-i-modify-the-url-without-reloading-the-page-1657387509731">How do I modify the URL without reloading the page?</a><a href="/questions/copy-array-by-value-1657387649531">Copy array by value</a><a href="/questions/returning-data-from-async-call-in-swift-function-1657387469218">Returning data from async call in Swift function</a><a href="/questions/the-model-item-passed-into-the-dictionary-is-of-type-..-but-this-dictionary-requires-a-model-item-of-type-1657388480874">The model item passed into the dictionary is of type .. but this dictionary requires a model item of type</a><a href="/questions/what&#x27;s-the-difference-between-inner-join-left-join-right-join-and-full-join-duplicate-1657388082887">What&#x27;s the difference between INNER JOIN, LEFT JOIN, RIGHT JOIN and FULL JOIN? [duplicate]</a><a href="/questions/how-do-you-convert-a-byte-array-to-a-hexadecimal-string-and-vice-versa-1657388010428">How do you convert a byte array to a hexadecimal string, and vice versa?</a><a href="/questions/align-inline-block-divs-to-top-of-container-element-1657387489610">Align inline-block DIVs to top of container element</a><a href="/questions/why-does-my-arraylist-contain-n-copies-of-the-last-item-added-to-the-list-1657387712003">Why does my ArrayList contain N copies of the last item added to the list?</a><a href="/questions/how-to-compare-arrays-in-javascript-1657387352277">How to compare arrays in JavaScript?</a><a href="/questions/why-is-%22while(-!feof(file)-)%22-always-wrong-1657384367349">Why is while( !feof(file) ) always wrong?</a><a href="/questions/variables-are-not-behaving-as-expected-1657384865672">Variables are not behaving as expected</a><a href="/questions/collapse-concatenate-aggregate-a-column-to-a-single-comma-separated-string-within-each-group-1657387870901">Collapse / concatenate / aggregate a column to a single comma separated string within each group</a><a href="/questions/are-&#x27;arrow-functions&#x27;-and-&#x27;functions&#x27;-equivalent-interchangeable-1657384527873">Are &#x27;Arrow Functions&#x27; and &#x27;Functions&#x27; equivalent / interchangeable?</a><a href="/questions/of-the-many-findelement(s)by-functions-in-selenium-when-would-you-use-one-over-the-other-1657388412658">Of the many findElement(s)/By functions in Selenium, when would you use one over the other?</a><a href="/questions/when-does-sqliteopenhelper-oncreate()-onupgrade()-run-1657384883864">When does SQLiteOpenHelper onCreate() / onUpgrade() run?</a><a href="/questions/how-can-i-fix-&#x27;android.os.networkonmainthreadexception&#x27;-1657384454963">How can I fix &#x27;android.os.NetworkOnMainThreadException&#x27;?</a><a href="/questions/how-does-access-control-allow-origin-header-work-1657384881723">How does Access-Control-Allow-Origin header work?</a><a href="/questions/relative-imports-for-the-billionth-time-1657387756383">Relative imports for the billionth time</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;No, you can\u0026apos;t.  The compiler doesn\u0026apos;t know what the pointer is pointing to.  There are tricks, like ending the array with a known out-of-band value and then counting the size up until that value, but that\u0026apos;s not using \u0026lt;code\u0026gt;sizeof()\u0026lt;/code\u0026gt;.  \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Another trick is the one mentioned by \u0026lt;a href=\u0026quot;https://stackoverflow.com/users/13422/zan-lynx\u0026quot;\u0026gt;Zan\u0026lt;/a\u0026gt;, which is to stash the size somewhere.  For example, if you\u0026apos;re dynamically allocating the array, allocate a block one int bigger than the one you need, stash the size in the first int, and return \u0026lt;code\u0026gt;ptr+1\u0026lt;/code\u0026gt; as the pointer to the array.  When you need the size, decrement the pointer and peek at the stashed value.  Just remember to free the whole block starting from the beginning, and not just the array.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The answer is, \u0026quot;No.\u0026quot;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;What C programmers do is store the size of the array somewhere.  It can be part of a structure, or the programmer can cheat a bit and \u0026lt;code\u0026gt;malloc()\u0026lt;/code\u0026gt; more memory than requested in order to store a length value before the start of the array.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;For dynamic arrays (\u0026lt;em\u0026gt;malloc\u0026lt;/em\u0026gt; or C++ \u0026lt;em\u0026gt;new\u0026lt;/em\u0026gt;) you need to store the size of the array as mentioned by others or perhaps build an array manager structure which handles add, remove, count, etc. Unfortunately C doesn\u0026apos;t do this nearly as well as C++ since you basically have to build it for each different array type you are storing which is cumbersome if you have multiple types of arrays that you need to manage.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For static arrays, such as the one in your example, there is a common macro used to get the size, but it is \u0026lt;strong\u0026gt;not recommended\u0026lt;/strong\u0026gt; as it does not check if the parameter is really a static array. The macro is used in real code though, e.g. in the Linux kernel headers although it may be slightly different than the one below:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; !defined(ARRAY_SIZE)\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; ARRAY_SIZE(x) (sizeof((x)) / sizeof((x)[0]))\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;endif\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; days[] = {\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;};\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; *ptr = days;\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%u\\n\u0026quot;\u0026lt;/span\u0026gt;, ARRAY_SIZE(days));\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%u\\n\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;(ptr));\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You can google for reasons to be wary of macros like this. Be careful.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If possible, the C++ stdlib such as vector which is much safer and easier to use.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;There is a clean solution with C++ templates, without using \u0026lt;strong\u0026gt;sizeof()\u0026lt;/strong\u0026gt;. The following \u0026lt;strong\u0026gt;getSize()\u0026lt;/strong\u0026gt; function returns the size of any static array:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;cstddef\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\ntemplate\u0026amp;lt;typename T, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;size_t\u0026lt;/span\u0026gt; SIZE\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;size_t\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getSize\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(T (\u0026amp;amp;)[SIZE])\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; SIZE;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Here is an example with a \u0026lt;strong\u0026gt;foo_t\u0026lt;/strong\u0026gt; structure:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;cstddef\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\ntemplate\u0026amp;lt;typename T, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;size_t\u0026lt;/span\u0026gt; SIZE\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;size_t\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getSize\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(T (\u0026amp;amp;)[SIZE])\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; SIZE;\n}\n\n\u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo_t\u0026lt;/span\u0026gt; {\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; ball;\n};\n\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;foo_t\u0026lt;/span\u0026gt; foos3[] = {{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;},{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;},{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;}};\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;foo_t\u0026lt;/span\u0026gt; foos5[] = {{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;},{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;},{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;},{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;},{\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;}};\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%u\\n\u0026quot;\u0026lt;/span\u0026gt;, getSize(foos3));\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%u\\n\u0026quot;\u0026lt;/span\u0026gt;, getSize(foos5));\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Output:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;As all the correct answers have stated, you cannot get this information from the decayed pointer value of the array alone. If the decayed pointer is the argument received by the function, then the size of the originating array has to be provided in some other way for the function to come to know that size.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Here\u0026apos;s a suggestion different from what has been provided thus far,that will work: Pass a pointer to the array instead. This suggestion is similar to the C++ style suggestions, except that C does not support templates or references:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; ARRAY_SZ 10\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; (*arr)[ARRAY_SZ])\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%u\\n\u0026quot;\u0026lt;/span\u0026gt;, (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;unsigned\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;(*arr)/\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;(**arr));\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;But, this suggestion is kind of silly for your problem, since the function is defined to know exactly the size of the array that is passed in (hence, there is little need to use sizeof at all on the array). What it does do, though, is offer some type safety. It will prohibit you from passing in an array of an unwanted size.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; x[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;];\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; y[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;];\nfoo(\u0026amp;amp;x); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* error */\u0026lt;/span\u0026gt;\nfoo(\u0026amp;amp;y); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* ok */\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;If the function is supposed to be able to operate on any size of array, then you will have to provide the size to the function as additional information.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;For this specific example, yes, there is, IF you use typedefs (see below). Of course, if you do it this way, you\u0026apos;re just as well off to use SIZEOF_DAYS, since you know what the pointer is pointing to. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you have a (void *) pointer, as is returned by malloc()  or the like, then, no, there is no way to determine what data structure the pointer is pointing to and thus, no way to determine its size.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;stdio.h\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; NUM_DAYS 5\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typedef\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;days_t\u0026lt;/span\u0026gt;[ NUM_DAYS ];\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; SIZEOF_DAYS ( sizeof( days_t ) )\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;days_t\u0026lt;/span\u0026gt;  days;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;days_t\u0026lt;/span\u0026gt; *ptr = \u0026amp;amp;days; \n\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SIZEOF_DAYS:  %u\\n\u0026quot;\u0026lt;/span\u0026gt;, SIZEOF_DAYS  );\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;sizeof(days): %u\\n\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;(days) );\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;sizeof(*ptr): %u\\n\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;(*ptr) );\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;sizeof(ptr):  %u\\n\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;(ptr)  );\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n} \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Output:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;SIZEOF_DAYS:  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;(days): \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;(*ptr): \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;(ptr):  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;There is no magic solution. C is not a reflective language. Objects don\u0026apos;t automatically know what they are.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;But you have many choices:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Obviously, add a parameter\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Wrap the call in a macro and automatically add a parameter\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Use a more complex object. Define a structure which contains the dynamic array and also the size of the array. Then, pass the address of the structure.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can do something like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; days[] = { \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/*length:*/\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/*values:*/\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt; };\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; *ptr = days + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;array length: %u\\n\u0026quot;\u0026lt;/span\u0026gt;, ptr[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;-1\u0026lt;/span\u0026gt;]);\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;My solution to this problem is to save the length of the array into a struct Array as a meta-information about the array.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;stdio.h\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;stdlib.h\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;\n{\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; length;\n\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt; *\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;;\n};\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typedef\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;;\u0026lt;/span\u0026gt;\n\nArray* \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;NewArray\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; length)\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* Allocate the memory for the struct Array */\u0026lt;/span\u0026gt;\n    Array *newArray = (Array*) \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;malloc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;(Array));\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* Insert only non-negative length\u0026apos;s*/\u0026lt;/span\u0026gt;\n    newArray-\u0026amp;gt;length = (length \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;) ? length : \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n\n    newArray-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt;*) \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;malloc\u0026lt;/span\u0026gt;(length*\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt;));\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; newArray;\n}\n\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;SetArray\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Array *structure,\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; length,\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt;* \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\n{\n    structure-\u0026amp;gt;length = length;\n    structure-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;PrintArray\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Array *structure)\u0026lt;/span\u0026gt;\n{       \n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(structure-\u0026amp;gt;length \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)\n    {\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; i;\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;length: %d\\n\u0026quot;\u0026lt;/span\u0026gt;, structure-\u0026amp;gt;length);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; structure-\u0026amp;gt;length; i++)\n            \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%g\\n\u0026quot;\u0026lt;/span\u0026gt;, structure-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;[i]);\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Empty Array. Length 0\\n\u0026quot;\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; i;\n    Array *negativeTest, *days = NewArray(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;);\n\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt; moreDays[] = {\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;};\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; days-\u0026amp;gt;length; i++)\n        days-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;[i] = i+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n\n    PrintArray(days);\n\n    SetArray(days,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;,moreDays);\n\n    PrintArray(days);\n\n    negativeTest = NewArray(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;-5\u0026lt;/span\u0026gt;);\n\n    PrintArray(negativeTest);\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;But you have to care about set the right length of the array you want to store, because the is no way to check this length, like our friends massively explained.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;No, you can\u0026apos;t use \u0026lt;code\u0026gt;sizeof(ptr)\u0026lt;/code\u0026gt; to find the size of array \u0026lt;code\u0026gt;ptr\u0026lt;/code\u0026gt; is pointing to.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Though allocating extra memory(more than the size of array) will be helpful if you want  to store the length in extra space.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; days[] = {\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;};\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; *ptr = days;\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%u\\n\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;(days));\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%u\\n\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;(ptr));\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Size of days[] is 20 which is no of elements * size of it\u0026apos;s data type.\nWhile the size of pointer is 4 no matter what it is pointing to.\nBecause a pointer points to other element by storing it\u0026apos;s address. \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\nIn strings there is a \u0026lt;code\u0026gt;\u0026apos;\\0\u0026apos;\u0026lt;/code\u0026gt; character at the end so the length of the string can be gotten using functions like \u0026lt;code\u0026gt;strlen\u0026lt;/code\u0026gt;. The problem with an integer array, for example, is that you can\u0026apos;t use any value as an end value so one possible solution is to address the array and use as an end value the \u0026lt;code\u0026gt;NULL\u0026lt;/code\u0026gt; pointer.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;stdio.h\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* the following function will produce the warning:\n * sizeof on array function parameter a will\n * return size of int * [-Wsizeof-array-argument]\n */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;( \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; a[] )\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%lu\\n\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt; a );\n}\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* so we have to implement something else one possible\n * idea is to use the NULL pointer as a control value\n * the same way \u0026apos;\\0\u0026apos; is used in strings but this way\n * the pointer passed to a function should address pointers\n * so the actual implementation of an array type will\n * be a pointer to pointer\n */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typedef\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;char\u0026lt;/span\u0026gt; * \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;type_t\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* line 18 */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typedef\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;type_t\u0026lt;/span\u0026gt; ** \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;array_t\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;( \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; )\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;array_t\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;initialize\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;( \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;, ... )\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* initialize an array with four values \u0026quot;foo\u0026quot;, \u0026quot;bar\u0026quot;, \u0026quot;baz\u0026quot;, \u0026quot;foobar\u0026quot;\n     * if one wants to use integers rather than strings than in the typedef\n     * declaration at line 18 the char * type should be changed with int\n     * and in the format used for printing the array values \n     * at line 45 and 51 \u0026quot;%s\u0026quot; should be changed with \u0026quot;%i\u0026quot;\n     */\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;array_t\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt; = initialize( \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;foo\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;bar\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;baz\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;foobar\u0026quot;\u0026lt;/span\u0026gt; );\n\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;size\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;( \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;array_t\u0026lt;/span\u0026gt; )\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* print array size */\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;size %i:\\n\u0026quot;\u0026lt;/span\u0026gt;, size( \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt; ));\n\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;aprint\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;( \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;char\u0026lt;/span\u0026gt; *, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;array_t\u0026lt;/span\u0026gt; )\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* print array values */\u0026lt;/span\u0026gt;\n    aprint( \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%s\\n\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt; ); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* line 45 */\u0026lt;/span\u0026gt;\n\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;type_t\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getval\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;( \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;array_t\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; )\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* print an indexed value */\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;type_t\u0026lt;/span\u0026gt; val = getval( \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;, i );\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%i: %s\\n\u0026quot;\u0026lt;/span\u0026gt;, i, val ); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* line 51 */\u0026lt;/span\u0026gt;\n\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;delete\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;( \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;array_t\u0026lt;/span\u0026gt; )\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* free some space */\u0026lt;/span\u0026gt;\n    delete( \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt; );\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* the output of the program should be:\n * size 4:\n * foo\n * bar\n * baz\n * foobar\n * 2: baz\n */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;stdarg.h\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;stdlib.h\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;array_t\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;initialize\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;( \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; n, ... )\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* here we store the array values */\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;type_t\u0026lt;/span\u0026gt; *v = (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;type_t\u0026lt;/span\u0026gt; *) \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;malloc\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;type_t\u0026lt;/span\u0026gt; ) * n );\n    va_list ap;\n    va_start( ap, n );\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; j;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; ( j = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; j \u0026amp;lt; n; j++ )\n        v[j] = va_arg( ap, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;type_t\u0026lt;/span\u0026gt; );\n    va_end( ap );\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* the actual array will hold the addresses of those\n     * values plus a NULL pointer\n     */\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;array_t\u0026lt;/span\u0026gt; a = (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;array_t\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;malloc\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;type_t\u0026lt;/span\u0026gt; *) * ( n + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; ));\n    a[n] = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;NULL\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; ( j = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; j \u0026amp;lt; n; j++ )\n        a[j] = v + j;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; a;\n}\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;size\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;( \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;array_t\u0026lt;/span\u0026gt; a )\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; n = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; ( *a++ != \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;NULL\u0026lt;/span\u0026gt; )\n        n++;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; n;\n}\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;aprint\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;( \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;char\u0026lt;/span\u0026gt; *fmt, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;array_t\u0026lt;/span\u0026gt; a )\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; ( *a != \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;NULL\u0026lt;/span\u0026gt; )\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;( fmt, **a++ );   \n}\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;type_t\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getval\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;( \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;array_t\u0026lt;/span\u0026gt; a, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; i )\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; *a[i];\n}\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;delete\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;( \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;array_t\u0026lt;/span\u0026gt; a )\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;free\u0026lt;/span\u0026gt;( *a );\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;free\u0026lt;/span\u0026gt;( a );\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This is how I personally do it in my code. I like to keep it as simple as possible while still able to get values that I need.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typedef\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;intArr\u0026lt;/span\u0026gt; {\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; size;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;* arr; \n} intArr_t;\n\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n    intArr_t arr;\n    arr.size = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;;\n    arr.arr = (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;*)\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;malloc\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;) * arr.size);\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;size_t\u0026lt;/span\u0026gt; i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; arr.size; i++) {\n        arr.arr[i] = i * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;stdio.h\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;string.h\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;stddef.h\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;stdlib.h\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; array(type) struct { size_t size; type elem[0]; }\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; *\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;array_new\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; esize, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; ecnt)\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;size_t\u0026lt;/span\u0026gt; *a = (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;size_t\u0026lt;/span\u0026gt; *)\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;malloc\u0026lt;/span\u0026gt;(esize*ecnt+\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;size_t\u0026lt;/span\u0026gt;));\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (a) *a = ecnt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; a;\n}\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; array_new(type, count) array_new(sizeof(type),count)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; array_delete free\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; array_foreach(type, e, arr) \\\n    for (type *e = (arr)-\u0026amp;gt;elem; e \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt; (arr)-\u0026amp;gt;\u0026lt;/span\u0026gt;size + (arr)-\u0026amp;gt;elem; ++e)\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; argc, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;char\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; *argv[])\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;) *iarr = array_new(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;float\u0026lt;/span\u0026gt;) *farr = array_new(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;float\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt;) *darr = array_new(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;char\u0026lt;/span\u0026gt;) *carr = array_new(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;char\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; iarr-\u0026amp;gt;size; ++i) {\n        iarr-\u0026amp;gt;elem[i] = i;\n        farr-\u0026amp;gt;elem[i] = i*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.0f\u0026lt;/span\u0026gt;;\n        darr-\u0026amp;gt;elem[i] = i*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.0\u0026lt;/span\u0026gt;;\n        carr-\u0026amp;gt;elem[i] = i+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;0\u0026apos;\u0026lt;/span\u0026gt;;\n    }\n    array_foreach(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;, e, iarr) {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%d \u0026quot;\u0026lt;/span\u0026gt;, *e);\n    }\n    array_foreach(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;float\u0026lt;/span\u0026gt;, e, farr) {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%.0f \u0026quot;\u0026lt;/span\u0026gt;, *e);\n    }\n    array_foreach(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt;, e, darr) {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%.0lf \u0026quot;\u0026lt;/span\u0026gt;, *e);\n    }\n    carr-\u0026amp;gt;elem[carr-\u0026amp;gt;size\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;-1\u0026lt;/span\u0026gt;] = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\0\u0026apos;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%s\\n\u0026quot;\u0026lt;/span\u0026gt;, carr-\u0026amp;gt;elem);\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt; \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; array_size 10\u0026lt;/span\u0026gt;\n\n \u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; {\u0026lt;/span\u0026gt;\n     int16 size;\n     int16 \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;[array_size];\n     int16 property1[(array_size/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;)+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;]\n     int16 property2[(array_size/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;)+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;]\n } array1 = {array_size, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;};\n\n \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;undef\u0026lt;/span\u0026gt; array_size\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;array_size is passing to the \u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;size\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt; variable:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; array_size 30\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; {\u0026lt;/span\u0026gt;\n    int16 size;\n    int16 \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;[array_size];\n    int16 property1[(array_size/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;)+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;]\n    int16 property2[(array_size/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;)+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;]\n} array2 = {array_size};\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;undef\u0026lt;/span\u0026gt; array_size\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Usage is:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n\n    int16 size = array1.size;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; i=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i!=size; i++) {\n\n        array1.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;[i] *= \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;;\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Most implementations will have a function that tells you the reserved size for objects allocated with \u0026lt;code\u0026gt;malloc()\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;calloc()\u0026lt;/code\u0026gt;, for example GNU has \u0026lt;code\u0026gt;malloc_usable_size()\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;However, this will return the size of the reversed block, which can be larger than the value given to \u0026lt;code\u0026gt;malloc()\u0026lt;/code\u0026gt;/\u0026lt;code\u0026gt;realloc()\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n    ","\n\u0026lt;p\u0026gt;There is a popular macro, which you can define for finding number of elements in the array (Microsoft CRT even provides it OOB with name \u0026lt;code\u0026gt;_countof\u0026lt;/code\u0026gt;):\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; countof(x) (sizeof(x)/sizeof((x)[0]))\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Then you can write:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; my_array[] = { ... some elements ... };\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%zu\u0026quot;\u0026lt;/span\u0026gt;, countof(my_array)); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// \u0026apos;z\u0026apos; is correct type specifier for size_t\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":233,"title":"How to find the 'sizeof' (a pointer pointing to an array)?","content":"\n                \n\u0026lt;p\u0026gt;First off, here is some code:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-c s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-c\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; days[] = {\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;};\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; *ptr = days;\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%u\\n\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;(days));\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%u\\n\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;sizeof\u0026lt;/span\u0026gt;(ptr));\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Is there a way to find out the size of the array that \u0026lt;code\u0026gt;ptr\u0026lt;/code\u0026gt; is pointing to (instead of just giving its size, which is four bytes on a 32-bit system)? \u0026lt;/p\u0026gt;\n    ","slug":"how-to-find-the-'sizeof'-(a-pointer-pointing-to-an-array)-1657387354284","postType":"QUESTION","createdAt":"2022-07-09T17:22:34.000Z","updatedAt":"2022-07-09T17:22:34.000Z","tags":[{"id":1561,"name":"sizeof","slug":"sizeof","createdAt":"2022-07-09T17:22:34.000Z","updatedAt":"2022-07-09T17:22:34.000Z","Questions_Tags":{"questionId":233,"tagId":1561}}],"relatedQuestions":[{"title":"How to find the 'sizeof' (a pointer pointing to an array)?","slug":"how-to-find-the-'sizeof'-(a-pointer-pointing-to-an-array)-1657387354284","tags":[{"name":"sizeof","Questions_Tags":{"questionId":233,"tagId":1561}}]}]},"randomQuestions":[{"title":"What is the behavior of integer division?","slug":"what-is-the-behavior-of-integer-division-1657388222571"},{"title":"What is an efficient way to implement a singleton pattern in Java? [closed]","slug":"what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java-closed-1657387970474"},{"title":"How do I modify the URL without reloading the page?","slug":"how-do-i-modify-the-url-without-reloading-the-page-1657387509731"},{"title":"Copy array by value","slug":"copy-array-by-value-1657387649531"},{"title":"Returning data from async call in Swift function","slug":"returning-data-from-async-call-in-swift-function-1657387469218"},{"title":"The model item passed into the dictionary is of type .. but this dictionary requires a model item of type","slug":"the-model-item-passed-into-the-dictionary-is-of-type-..-but-this-dictionary-requires-a-model-item-of-type-1657388480874"},{"title":"What's the difference between INNER JOIN, LEFT JOIN, RIGHT JOIN and FULL JOIN? [duplicate]","slug":"what's-the-difference-between-inner-join-left-join-right-join-and-full-join-duplicate-1657388082887"},{"title":"How do you convert a byte array to a hexadecimal string, and vice versa?","slug":"how-do-you-convert-a-byte-array-to-a-hexadecimal-string-and-vice-versa-1657388010428"},{"title":"Align inline-block DIVs to top of container element","slug":"align-inline-block-divs-to-top-of-container-element-1657387489610"},{"title":"Why does my ArrayList contain N copies of the last item added to the list?","slug":"why-does-my-arraylist-contain-n-copies-of-the-last-item-added-to-the-list-1657387712003"},{"title":"How to compare arrays in JavaScript?","slug":"how-to-compare-arrays-in-javascript-1657387352277"},{"title":"Why is while( !feof(file) ) always wrong?","slug":"why-is-\"while(-!feof(file)-)\"-always-wrong-1657384367349"},{"title":"Variables are not behaving as expected","slug":"variables-are-not-behaving-as-expected-1657384865672"},{"title":"Collapse / concatenate / aggregate a column to a single comma separated string within each group","slug":"collapse-concatenate-aggregate-a-column-to-a-single-comma-separated-string-within-each-group-1657387870901"},{"title":"Are 'Arrow Functions' and 'Functions' equivalent / interchangeable?","slug":"are-'arrow-functions'-and-'functions'-equivalent-interchangeable-1657384527873"},{"title":"Of the many findElement(s)/By functions in Selenium, when would you use one over the other?","slug":"of-the-many-findelement(s)by-functions-in-selenium-when-would-you-use-one-over-the-other-1657388412658"},{"title":"When does SQLiteOpenHelper onCreate() / onUpgrade() run?","slug":"when-does-sqliteopenhelper-oncreate()-onupgrade()-run-1657384883864"},{"title":"How can I fix 'android.os.NetworkOnMainThreadException'?","slug":"how-can-i-fix-'android.os.networkonmainthreadexception'-1657384454963"},{"title":"How does Access-Control-Allow-Origin header work?","slug":"how-does-access-control-allow-origin-header-work-1657384881723"},{"title":"Relative imports for the billionth time","slug":"relative-imports-for-the-billionth-time-1657387756383"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-to-find-the-'sizeof'-(a-pointer-pointing-to-an-array)-1657387354284"},"buildId":"XDXakEY6gSPdgAODPxtjg","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>