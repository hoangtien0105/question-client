<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find the solution to any question. We focus on finding the fastest possible solution for users. Main topics like coding, learning. - solutionschecker.com"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><link name="keywords" content="bounded-wildcard,super,pecs,solutions checker, solution checker, how to, solution for, check for solution, resolve question, what is, what solution for, find solution"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://solutionschecker.com","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://solutionschecker.com/questions","name":"Questions"}},{"@type":"ListItem","position":3,"item":{"@id":"https://solutionschecker.com/questions/what-is-pecs-(producer-extends-consumer-super)-1657384828870","name":"Questions"}}]}</script><title>What is PECS (Producer Extends Consumer Super)? | Solution Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="I came across PECS (short for Producer extends and Consumer super) while reading up on generics. 

Can someone explain to me how to use PECS to resolve confusion between extends and super?
    "/><meta property="og:title" content="What is PECS (Producer Extends Consumer Super)? | Solution Checker"/><meta property="og:description" content="I came across PECS (short for Producer extends and Consumer super) while reading up on generics. 

Can someone explain to me how to use PECS to resolve confusion between extends and super?
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"What is PECS (Producer Extends Consumer Super)?","text":"I came across PECS (short for Producer extends and Consumer super) while reading up on generics. \n\nCan someone explain to me how to use PECS to resolve confusion between extends and super?\n    ","answerCount":16,"upVoteCount":500,"suggestedAnswer":[{"text":"tl;dr: &quot;PECS&quot; is from the collection&apos;s point of view. If you are only pulling items from a generic collection, it is a producer and you should use extends; if you are only stuffing items in, it is a consumer and you should use super. If you do both with the same collection, you shouldn&apos;t use either extends or super.\n\nSuppose you have a method that takes as its parameter a collection of things, but you want it to be more flexible than just accepting a Collection&lt;Thing&gt;.\nCase 1: You want to go through the collection and do things with each item.\nThen the list is a producer, so you should use a Collection&lt;? extends Thing&gt;.\nThe reasoning is that a Collection&lt;? extends Thing&gt; could hold any subtype of Thing, and thus each element will behave as a Thing when you perform your operation. (You actually cannot add anything (except null) to a Collection&lt;? extends Thing&gt;, because you cannot know at runtime which specific subtype of Thing the collection holds.)\nCase 2: You want to add things to the collection.\nThen the list is a consumer, so you should use a Collection&lt;? super Thing&gt;.\nThe reasoning here is that unlike Collection&lt;? extends Thing&gt;, Collection&lt;? super Thing&gt; can always hold a Thing no matter what the actual parameterized type is. Here you don&apos;t care what is already in the list as long as it will allow a Thing to be added; this is what ? super Thing guarantees.\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"The principles behind this in computer science is called\n\nCovariance: ? extends MyClass,\nContravariance: ? super MyClass and\nInvariance/non-variance: MyClass\n\nThe picture below should explain the concept.\nPicture courtesy: Andrey Tyukin\n\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"\nWhen dealing with collections, a common rule for selecting between upper or lower bounded wildcards is PECS. credit\n\nPECS (Producer extends and Consumer super)\nmnemonic  Get (extend) and Put (Super) principle.\n\nThis principle states that:\n\nUse an extends wildcard when you only get values out of a structure.\nUse a super wildcard when you only put values into a structure.\nAnd dont use a wildcard when you both get and put.\n\n\n\nExample in Java:\nclass Super {\n        Number testCoVariance() {\n            return null;\n        }\n        void testContraVariance(Number parameter) {\n        } \n    }\n    \n    class Sub extends Super {\n        @Override\n        Integer testCoVariance() {\n            return null;\n        } //compiles successfully i.e. return type is don&apos;t care(Integer is subtype of Number)\n        @Override\n        void testContraVariance(Integer parameter) {\n        } //doesn&apos;t support even though Integer is subtype of Number\n    }\n\nThe Liskov Substitution Principle (LSP) states that objects in a program should be replaceable with instances of their subtypes without altering the correctness of that program.\nWithin the type system of a programming language, a typing rule\n\ncovariant if it preserves the ordering of types (), which orders types from more specific to more generic;\ncontravariant if it reverses this ordering;\ninvariant or nonvariant if neither of these applies.\n\nCovariance and contravariance\n\nRead-only data types (sources) can be covariant;\nwrite-only data types (sinks) can be contravariant.\nMutable data types which act as both sources and sinks should be invariant.\n\nTo illustrate this general phenomenon, consider the array type. For the type Animal we can make the type Animal[]\n\ncovariant: a Cat[] is an Animal[];\ncontravariant: an Animal[] is a Cat[];\ninvariant: an Animal[] is not a Cat[] and a Cat[] is not an Animal[].\n\nJava Examples:\nObject name= new String(&quot;prem&quot;); //works\nList&lt;Number&gt; numbers = new ArrayList&lt;Integer&gt;();//gets compile time error\n\nInteger[] myInts = {1,2,3,4};\nNumber[] myNumber = myInts;\nmyNumber[0] = 3.14; //attempt of heap pollution i.e. at runtime gets java.lang.ArrayStoreException: java.lang.Double(we can fool compiler but not run-time)\n\nList&lt;String&gt; list=new ArrayList&lt;&gt;();\nlist.add(&quot;prem&quot;);\nList&lt;Object&gt; listObject=list; //Type mismatch: cannot convert from List&lt;String&gt; to List&lt;Object&gt; at Compiletime  \n\nmore examples\n Image src\nbounded(i.e. heading toward somewhere) wildcard : There are 3 different flavours of wildcards:\n\nIn-variance/Non-variance: ? or ? extends Object - Unbounded Wildcard. It stands for the family of  all types. Use when you both get and put.\nCo-variance: ? extends T ( Reign of T descendants)  - a wildcard with an upper bound. T is the upper-most class in the inheritance hierarchy. Use an extends wildcard when you only Get values out of a structure.\nContra-variance: ? super T ( Reign of T ancestor)  - a wildcard with a lower bound. T is the lower-most class in the inheritance hierarchy. Use a super wildcard when you only Put values into a structure.\n\nNote: wildcard ? means zero or one time, represents an unknown type. The wildcard can be used as the type of a parameter, never used as a type argument for a generic method invocation, a generic class instance creation.(i.e. when used wildcard that reference not used in elsewhere in program like we use T)\n\n import java.util.ArrayList;\nimport java.util.List;\n\nclass Shape { void draw() {}}\n\nclass Circle extends Shape {void draw() {}}\n\nclass Square extends Shape {void draw() {}}\n\nclass Rectangle extends Shape {void draw() {}}\n\npublic class Test {\n\n    public static void main(String[] args) {\n        //? extends Shape i.e. can use any sub type of Shape, here Shape is Upper Bound in inheritance hierarchy\n        List&lt;? extends Shape&gt; intList5 = new ArrayList&lt;Shape&gt;();\n        List&lt;? extends Shape&gt; intList6 = new ArrayList&lt;Cricle&gt;();\n        List&lt;? extends Shape&gt; intList7 = new ArrayList&lt;Rectangle&gt;();\n        List&lt;? extends Shape&gt; intList9 = new ArrayList&lt;Object&gt;();//ERROR.\n\n\n        //? super Shape i.e. can use any super type of Shape, here Shape is Lower Bound in inheritance hierarchy\n        List&lt;? super Shape&gt; inList5 = new ArrayList&lt;Shape&gt;();\n        List&lt;? super Shape&gt; inList6 = new ArrayList&lt;Object&gt;();\n        List&lt;? super Shape&gt; inList7 = new ArrayList&lt;Circle&gt;(); //ERROR.\n\n        //-----------------------------------------------------------\n        Circle circle = new Circle();\n        Shape shape = circle; // OK. Circle IS-A Shape\n\n        List&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\n        List&lt;Shape&gt; shapes = circles; // ERROR. List&lt;Circle&gt; is not subtype of List&lt;Shape&gt; even when Circle IS-A Shape\n\n        List&lt;? extends Circle&gt; circles2 = new ArrayList&lt;&gt;();\n        List&lt;? extends Shape&gt; shapes2 = circles2; // OK. List&lt;? extends Circle&gt; is subtype of List&lt;? extends Shape&gt;\n\n\n        //-----------------------------------------------------------\n        Shape shape2 = new Shape();\n        Circle circle2= (Circle) shape2; // OK. with type casting\n\n        List&lt;Shape&gt; shapes3 = new ArrayList&lt;&gt;();\n        List&lt;Circle&gt; circles3 = shapes3; //ERROR. List&lt;Circle&gt; is not subtype of  List&lt;Shape&gt; even Circle is subetype of Shape\n\n        List&lt;? super Shape&gt; shapes4 = new ArrayList&lt;&gt;();\n        List&lt;? super Circle&gt; circles4 = shapes4; //OK.\n    }\n\n    \n    \n    /*\n     * Example for an upper bound wildcard (Get values i.e Producer `extends`)\n     *\n     * */\n    public void testCoVariance(List&lt;? extends Shape&gt; list) {\n        list.add(new Object());//ERROR\n        list.add(new Shape()); //ERROR\n        list.add(new Circle()); // ERROR\n        list.add(new Square()); // ERROR\n        list.add(new Rectangle()); // ERROR\n        Shape shape= list.get(0);//OK so list act as produces only\n    /*\n     * You can&apos;t add a Shape,Circle,Square,Rectangle to a List&lt;? extends Shape&gt;\n     * You can get an object and know that it will be an Shape\n     */\n    }\n    \n    \n    /*\n     * Example for  a lower bound wildcard (Put values i.e Consumer`super`)\n     * */\n    public void testContraVariance(List&lt;? super Shape&gt; list) {\n        list.add(new Object());//ERROR\n        list.add(new Shape());//OK\n        list.add(new Circle());//OK\n        list.add(new Square());//OK\n        list.add(new Rectangle());//OK\n        Shape shape= list.get(0); // ERROR. Type mismatch, so list acts only as consumer\n        Object object= list.get(0); //OK gets an object, but we don&apos;t know what kind of Object it is.\n        /*\n         * You can add a Shape,Circle,Square,Rectangle to a List&lt;? super Shape&gt;\n         * You can&apos;t get an Shape(but can get Object) and don&apos;t know what kind of Shape it is.\n         */\n    }\n}\n\ngenerics and examples\nCovariance and contravariance determine compatibility based on types. In either case, variance is a directed relation. Covariance can be translated as &quot;different in the same direction,&quot; or with-different, whereas contravariance means &quot;different in the opposite direction,&quot; or against-different. Covariant and contravariant types are not the same, but there is a correlation between them. The names imply the direction of the correlation.\nhttps://stackoverflow.com/a/54576828/1697099\nhttps://stackoverflow.com/a/64888058/1697099\n\nCovariance: accept subtypes (read only i.e. Producer)\nContravariance: accept supertypes (write only i.e. Consumer)\n\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"public class Test {\n\n    public class A {}\n\n    public class B extends A {}\n\n    public class C extends B {}\n\n    public void testCoVariance(List&lt;? extends B&gt; myBlist) {\n        B b = new B();\n        C c = new C();\n        myBlist.add(b); // does not compile\n        myBlist.add(c); // does not compile\n        A a = myBlist.get(0); \n    }\n\n    public void testContraVariance(List&lt;? super B&gt; myBlist) {\n        B b = new B();\n        C c = new C();\n        myBlist.add(b);\n        myBlist.add(c);\n        A a = myBlist.get(0); // does not compile\n    }\n}\n\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"In a nutshell, three easy rules to remember PECS: \n\n\nUse the &lt;? extends T&gt; wildcard if you need to retrieve object of\ntype T from a collection.\nUse the &lt;? super T&gt; wildcard if you need to put objects of type T in\na collection.\nIf you need to satisfy both things, well, dont use any wildcard. As\nsimple as that.\n\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"As I explain in my answer to another question, PECS is a mnemonic device  created by Josh Bloch to help remember Producer extends, Consumer super.\n\nThis means that when a parameterized type being passed to a method will produce instances of T (they will be retrieved from it in some way), ? extends T should be used, since any instance of a subclass of T is also a T.\nWhen a parameterized type being passed to a method will consume instances of T (they will be passed to it to do something), ? super T should be used because an instance of T can legally be passed to any method that accepts some supertype of T. A Comparator&lt;Number&gt; could be used on a Collection&lt;Integer&gt;, for example. ? extends T would not work, because a Comparator&lt;Integer&gt; could not operate on a Collection&lt;Number&gt;.\n\nNote that generally you should only be using ? extends T and ? super T for the parameters of some method. Methods should just use T as the type parameter on a generic return type.\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"let&apos;s assume this hierarchy:\n\nclass Creature{}// X\nclass Animal extends Creature{}// Y\nclass Fish extends Animal{}// Z\nclass Shark extends Fish{}// A\nclass HammerSkark extends Shark{}// B\nclass DeadHammerShark extends HammerSkark{}// C\n\n\nLet&apos;s clarify PE - Producer Extends:\n\nList&lt;? extends Shark&gt; sharks = new ArrayList&lt;&gt;();\n\n\nWhy you cannot add objects that extend &quot;Shark&quot; in this list? like:\n\nsharks.add(new HammerShark());//will result in compilation error\n\n\nSince you have a list that can be of type A, B or C at runtime, you cannot add any object of type A, B or C in it because you can end up with a combination that is not allowed in java. In practice, the compiler can indeed see at compiletime that you add a B:\n\nsharks.add(new HammerShark());\n\n\n...but it has no way to tell if at runtime, your B will be a subtype or supertype of the list type. At runtime the list type can be any of the types A, B, C. So you cannot end up adding HammerSkark (super type) in a list of DeadHammerShark for example.\n\n*You will say: &quot;OK, but why can&apos;t I add HammerSkark in it since it is the smallest type?&quot;. \nAnswer: It is the smallest you know. But HammerSkark can be extended too by somebody else and you end up in the same scenario.\n\nLet&apos;s clarify CS - Consumer Super:\n\nIn the same hierarchy we can try this:\n\nList&lt;? super Shark&gt; sharks = new ArrayList&lt;&gt;();\n\n\nWhat and why you can add to this list?\n\nsharks.add(new Shark());\nsharks.add(new DeadHammerShark());\nsharks.add(new HammerSkark());\n\n\nYou can add the above types of objects because anything below shark(A,B,C) will always be subtypes of anything above shark (X,Y,Z). Easy to understand. \n\nYou cannot add types above Shark, because at runtime the type of added object can be higher in hierarchy than the declared type of the list(X,Y,Z). This is not allowed.\n\nBut why you cannot read from this list?\n(I mean you can get an element out of it, but you cannot assign it to anything other than Object o):\n\nObject o;\no = sharks.get(2);// only assignment that works\n\nAnimal s;\ns = sharks.get(2);//doen&apos;t work\n\n\nAt runtime, the type of list can be any type above A: X, Y, Z, ...\nThe compiler can compile your assignment statement (which seems correct) but, at runtime the type of s (Animal) can be lower in hierarchy than the declared type of the list(which could be Creature, or higher). This is not allowed.\n\nTo sum up\n\nWe use &lt;? super T&gt; to add objects of types equal or below T to the List. We cannot read from \nit.\nWe use &lt;? extends T&gt; to read objects of types equal or below T from list. We cannot add element to it.\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"This is the clearest, simplest way for me think of extends vs. super:\n\n\nextends is for reading\nsuper is for writing\n\n\nI find &quot;PECS&quot; to be a non-obvious way to think of things regarding who is the &quot;producer&quot; and who is the &quot;consumer&quot;. &quot;PECS&quot; is defined from the perspective of the data collection itself  the collection &quot;consumes&quot; if objects are being written to it (it is consuming objects from calling code), and it &quot;produces&quot; if objects are being read from it (it is producing objects to some calling code). This is counter to how everything else is named though. Standard Java APIs are named from the perspective of the calling code, not the collection itself. For example, a collection-centric view of java.util.List should have a method named &quot;receive()&quot; instead of &quot;add()&quot;  after all, the calling code adds the element, but the list itself receives the element.\n\nI think it&apos;s more intuitive, natural and consistent to think of things from the perspective of the code that interacts with the collection  does the code &quot;read from&quot; or &quot;write to&quot; the collection? Following that, any code writing to the collection would be the &quot;producer&quot;, and any code reading from the collection would be the &quot;consumer&quot;.\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"lets try visualizing this concept.\n&lt;? super SomeType&gt; is an undefined(yet) type, but that undefined type should be a superclass of the SomeType class.\nThe same goes for &lt;? extends SomeType&gt;. Its a type that should extend the SomeType class (it should be a child class of the SomeType class).\nIf we consider the concept of &apos;class inheritance&apos; in a Venn diagram, an example would be like this:\n\nMammal class extends Animal class (Animal class is a superclass of Mammal class).\nCat/Dog class extends Mammal class (Mammal class is a superclass of Cat/Dog class).\nThen, lets think about the circles in the above diagram as a box that has a physical volume.\n\nYou CANT put a bigger box into a smaller one.\nYou can ONLY put a smaller box into a bigger one.\nWhen you say &lt;? super SomeType&gt;, you wanna describe a box that is the same size or bigger than the SomeType box.\nIf you say &lt;? extends SomeType&gt;, then you wanna describe a box that is the same size or smaller than the SomeType box.\nso what is PECS anyway?\nAn example of a Producer is a List which we only read from.\nAn example of a Consumer is a List which we only write into.\nJust keep in mind this:\n\nWe read from a producer, and take that stuff into our own box.\n\nAnd we write our own box into a consumer.\n\n\nSo, we need to read(take) something from a producer and put that into our box. This means that any boxes taken from the producer should NOT be bigger than our box. Thats why Producer Extends.\nExtends means a smaller box(smaller circle in the Venn diagram above). The boxes of a producer should be smaller than our own box, because we are gonna take those boxes from the producer and put them into our own box. We cant put anything bigger than our box!\nAlso, we need to write(put) our own box into a consumer. This means that the boxes of the consumer should NOT be smaller than our own box. Thats why Consumer Super.\nSuper means a bigger box(bigger circle in the Venn diagram above). If we want to put our own boxes into a consumer, the boxes of the consumer should be bigger than our box!\nNow we can easily understand this example:\npublic class Collections { \n  public static &lt;T&gt; void copy(List&lt;? super T&gt; dest, List&lt;? extends T&gt; src) {\n      for (int i = 0; i &lt; src.size(); i++) \n        dest.set(i, src.get(i)); \n  } \n}\n\nIn the above example, we want to read(take) something from src and write(put) them into dest. So the src is a Producer and its boxes should be smaller(more specific) than some type T.\nVice versa, the dest is a Consumer and its boxes should be bigger(more general) than some type T.\nIf the boxes of the src were bigger than that of the dest, we couldnt put those big boxes into the smaller boxes the dest has.\nIf anyone reads this, I hope it helps you better understand\nProducer Extends, Consumer Super.\nHappy coding! :)\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"(adding an answer because never enough examples with Generics wildcards)\n\n       // Source \n       List&lt;Integer&gt; intList = Arrays.asList(1,2,3);\n       List&lt;Double&gt; doubleList = Arrays.asList(2.78,3.14);\n       List&lt;Number&gt; numList = Arrays.asList(1,2,2.78,3.14,5);\n\n       // Destination\n       List&lt;Integer&gt; intList2 = new ArrayList&lt;&gt;();\n       List&lt;Double&gt; doublesList2 = new ArrayList&lt;&gt;();\n       List&lt;Number&gt; numList2 = new ArrayList&lt;&gt;();\n\n        // Works\n        copyElements1(intList,intList2);         // from int to int\n        copyElements1(doubleList,doublesList2);  // from double to double\n\n\n     static &lt;T&gt; void copyElements1(Collection&lt;T&gt; src, Collection&lt;T&gt; dest) {\n        for(T n : src){\n            dest.add(n);\n         }\n      }\n\n\n     // Let&apos;s try to copy intList to its supertype\n     copyElements1(intList,numList2); // error, method signature just says &quot;T&quot;\n                                      // and here the compiler is given \n                                      // two types: Integer and Number, \n                                      // so which one shall it be?\n\n     // PECS to the rescue!\n     copyElements2(intList,numList2);  // possible\n\n\n\n    // copy Integer (? extends T) to its supertype (Number is super of Integer)\n    private static &lt;T&gt; void copyElements2(Collection&lt;? extends T&gt; src, \n                                          Collection&lt;? super T&gt; dest) {\n        for(T n : src){\n            dest.add(n);\n        }\n    }\n\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"The PECS &quot;rule&quot; just ensures that the following is legal:\n\n\nConsumer: whatever ? is, it can legally refer to T \nProducer: whatever ? is, it can legally be referred to by T\n\n\nThe typical pairing along the lines of List&lt;? extends T&gt; producer, List&lt;? super T&gt; consumer is simply ensuring that the compiler can enforce the standard &quot;IS-A&quot; inheritance relationship rules. If we could do so legally, it might be simpler to say &lt;T extends ?&gt;, &lt;? extends T&gt; (or better yet in Scala, as you can see above, it&apos;s [-T], [+T]. Unfortunately the best we can do is &lt;? super T&gt;, &lt;? extends T&gt;.\n\nWhen I first encountered this and broke it down in my head the mechanics made sense but the code itself continued to look confusing to me - I kept thinking &quot;it seems like the bounds shouldn&apos;t need to be inverted like that&quot; - even though I was clear on the above - that it&apos;s simply about guaranteeing compliance with the standard rules of reference.\n\nWhat helped me was looking at it using ordinary assignment as an analogy. \n\nConsider the following (not production ready) toy code:\n\n// copies the elements of &apos;producer&apos; into &apos;consumer&apos;\nstatic &lt;T&gt; void copy(List&lt;? extends T&gt; producer, List&lt;? super T&gt; consumer) {\n   for(T t : producer)\n       consumer.add(t);\n}\n\n\nIllustrating this in terms of the assignment analogy, for consumer the ? wildcard (unknown type) is the reference - the &quot;left hand side&quot; of the assignment - and &lt;? super T&gt; ensures that whatever ? is, T &quot;IS-A&quot; ? - that T can be assigned to it, because ? is a super type (or at most the same type) as T.\n\nFor producer the concern is the same it&apos;s just inverted: producer&apos;s ? wildcard (unknown type) is the referent - the &quot;right hand side&quot; of the assignment - and &lt;? extends T&gt; ensures that whatever ? is, ? &quot;IS-A&quot; T - that it can be assigned to a T, because ? is a sub type (or at least the same type) as T. \n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"Covariance: accept subtypes\nContravariance: accept supertypes\n\nCovariant types are read-only, while contravariant types are write-only.\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"Remember this: \n\n\n  Consumer eat supper(super); Producer extends his parent&apos;s factory\n\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"[Covariance and contravariance]\nLets take a look at example\npublic class A { }\n//B is A\npublic class B extends A { }\n//C is A\npublic class C extends A { }\n\nGenerics allows you to work with Types dynamically in a safe way\n//ListA\nList&lt;A&gt; listA = new ArrayList&lt;A&gt;();\n\n//add\nlistA.add(new A());\nlistA.add(new B());\nlistA.add(new C());\n\n//get\nA a0 = listA.get(0);\nA a1 = listA.get(1);\nA a2 = listA.get(2);\n\n//ListB\nList&lt;B&gt; listB = new ArrayList&lt;B&gt;();\n\n//add\nlistB.add(new B());\n\n//get\nB b0 = listB.get(0);\n\n\nProblem\nSince Java&apos;s Collection is a reference type as a result we have next issues:\nProblem #1\n//not compiled\n//danger of **adding** non-B objects using listA reference\nlistA = listB;\n\n\n*Swift&apos;s generic does not have such problem because Collection is Value type[About] therefore a new collection is created\nProblem #2\n//not compiled\n//danger of **getting** non-B objects using listB reference\nlistB = listA;\n\n\nThe solution - Generic Wildcards\nWildcard is a reference type feature and it can not be instantiated directly\nSolution #1\n&lt;? super A&gt; aka lower bound aka contravariance aka consumers guarantees that it is operates by A and all superclasses, that is why it is safe to add\nList&lt;? super A&gt; listSuperA;\nlistSuperA = listA;\nlistSuperA = new ArrayList&lt;Object&gt;();\n\n//add\nlistSuperA.add(new A());\nlistSuperA.add(new B());\n\n//get\nObject o0 = listSuperA.get(0);\n\n\nSolution #2\n&lt;? extends A&gt; aka upper bound aka covariance aka producers guarantees that it is operates by A and all subclasses, that is why it is safe to get and cast\nList&lt;? extends A&gt; listExtendsA;\nlistExtendsA = listA;\nlistExtendsA = listB;\n\n//get\nA a0 = listExtendsA.get(0);\n\n\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0},{"text":"Using real life example (with some simplifications):\n\n\nImagine a freight train with freight cars as analogy to a list.\nYou can put a cargo in a freight car if the cargo has the same or smaller size than the freight car = &lt;? super FreightCarSize&gt;\nYou can unload a cargo from a freight car if you have enough place (more than the size of the cargo) in your depot = &lt;? extends DepotSize&gt;\n\n    ","url":"/questions/[slug]#solution15","@type":"Answer","upvoteCount":0},{"text":"PECS: Producer extends and Consumer super\nPrerequisites for understanding:\n\nGenerics and generic wildcards\nPolymorphism, Subtyping and Supertyping\n\n\nLets say we have a type which takes a generic type parameter T, for example List&lt;T&gt;. When we write code it can be potentially beneficial to also allow subtypes or supertypes of our generic type parameter T. This relaxes the restraints for the user of the API and can make the code more flexible.\nLet first see what we gain relaxing these restrictions. Lets say we have the following 3 classes:\nclass BaseAnimal{};\n\nclass Animal extends BaseAnimal{};\n\nclass Duck extends Animal{};\n\nand we are building a public method which takes a list&lt;Animal&gt;\n\nIf we use a super List&lt;? super Animal&gt; instead of List&lt;Animal&gt; we now can pass in more lists to satisfy the requirement of our method. We now can pass in either List&lt;Animal&gt; or List&lt;BaseAnimal&gt; even List&lt;Object&gt;\nIf we use an extends List&lt;? extends Animal&gt; instead of List&lt;Animal&gt; we now can pass in more lists to satisfy the requirement of our method. We now can pass in either List&lt;Animal&gt; or List&lt;Duck&gt;\n\nHowever this poses the following 2 restrictions:\n\nIf we use a super type like List&lt;? super Animal&gt; we don&apos;t know the exact type of List&lt;T&gt; it will be. It could be either a list of List&lt;Animal&gt; or List&lt;BaseAnimal&gt; or List&lt;Object&gt;. We have no way of knowing. This means we can never get a value out of this List because we do not know what the type will be. However we can put any data type which is Animal or extends it into the List. Because we can only put data into the  List it is called a consumer of data.\nIf we use an extends List&lt;? extends Animal&gt; instead of List&lt;Animal&gt;. We also don&apos;t know what the exact type is. It can either be List&lt;Animal&gt; or List&lt;Duck&gt;. We can&apos;t add something to the List now because we can never certainly know what the type is. However we can pull something out because we always know that anything which comes out of the list is a subtype of Animal. Because we can only pull data out of the List is it called a producer of data.\n\nHere is a simple program to illustrate the relaxation of the type restrictions:\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Generics {\n    public static void main(String[] args) {\n\n        Generics generics = new Generics();\n\n        generics.producerExtends(new ArrayList&lt;Duck&gt;());\n        generics.producerExtends(new ArrayList&lt;Animal&gt;());\n\n        generics.consumerSuper(new ArrayList&lt;Object&gt;());\n        generics.consumerSuper(new ArrayList&lt;Animal&gt;());\n\n    }\n\n    //  ? extends T   is an upper bound\n    public void producerExtends (List&lt;? extends Animal&gt; list) {\n\n        // Following are illegal since we never know exactly what type the list will be\n        // list.add(new Duck());\n        // list.add(new Animal());\n        \n        // We can read from it since we are always getting an Animal or subclass from it\n        // However we can read them as an animal type, so this compiles fine\n        if (list.size() &gt; 0) {\n            Animal animal = list.get(0);\n        }\n    }\n\n    // ? extends T   is a lower bound\n    public void consumerSuper (List&lt;? super Animal&gt; list) {\n        // It will be either a list of Animal or a superclass of it\n        // Therefore we can add any type which extends animals\n        list.add(new Duck());\n        list.add(new Animal());\n\n        // Compiler won&apos;t allow this it could potentially be a super type of Animal\n        // Animal animal = list.get(0);\n    }\n\n    ","url":"/questions/[slug]#solution16","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="22"/><link rel="preload" href="/_next/static/css/c116652e2d6f4ad0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c116652e2d6f4ad0.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c0d2dcb5e85faf18.js" defer=""></script><script src="/_next/static/chunks/294-106ef8570fa99deb.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-50e201fdaa1e0fd1.js" defer=""></script><script src="/_next/static/DSpI0pSdXueTMCIVyw0q4/_buildManifest.js" defer=""></script><script src="/_next/static/DSpI0pSdXueTMCIVyw0q4/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h1 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h1></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/what-is-pecs-(producer-extends-consumer-super)-1657384828870#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/what-is-pecs-(producer-extends-consumer-super)-1657384828870"><h1>What is PECS (Producer Extends Consumer Super)?</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/bounded-wildcard">bounded-wildcard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/super">super</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/pecs">pecs</a></div></div><div class="question-content mt-5">
                
<p>I came across PECS (short for <em>Producer <code>extends</code> and Consumer <code>super</code></em>) while reading up on generics. </p>

<p>Can someone explain to me how to use PECS to resolve confusion between <code>extends</code> and <code>super</code>?</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><h1 class="text-lg font-semibold mb-5">Navigate to solutions: </h1><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 1</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/bounded-wildcard">bounded-wildcard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/super">super</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pecs">pecs</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>tl;dr:</strong> "PECS" is from the collection's point of view. If you are <em>only</em> pulling items from a generic collection, it is a producer and you should use <code>extends</code>; if you are <em>only</em> stuffing items in, it is a consumer and you should use <code>super</code>. If you do both with the same collection, you shouldn't use either <code>extends</code> or <code>super</code>.</p>
<hr>
<p>Suppose you have a method that takes as its parameter a collection of things, but you want it to be more flexible than just accepting a <code>Collection&lt;Thing&gt;</code>.</p>
<p><strong>Case 1: You want to go through the collection and do things with each item.</strong><br>
Then the list is a <strong>producer</strong>, so you should use a <code>Collection&lt;? extends Thing&gt;</code>.</p>
<p>The reasoning is that a <code>Collection&lt;? extends Thing&gt;</code> could hold any subtype of <code>Thing</code>, and thus each element will behave as a <code>Thing</code> when you perform your operation. (You actually cannot add anything (except null) to a <code>Collection&lt;? extends Thing&gt;</code>, because you cannot know at runtime which <em>specific</em> subtype of <code>Thing</code> the collection holds.)</p>
<p><strong>Case 2: You want to add things to the collection.</strong><br>
Then the list is a <strong>consumer</strong>, so you should use a <code>Collection&lt;? super Thing&gt;</code>.</p>
<p>The reasoning here is that unlike <code>Collection&lt;? extends Thing&gt;</code>, <code>Collection&lt;? super Thing&gt;</code> can always hold a <code>Thing</code> no matter what the actual parameterized type is. Here you don't care what is already in the list as long as it will allow a <code>Thing</code> to be added; this is what <code>? super Thing</code> guarantees.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 2</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/bounded-wildcard">bounded-wildcard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/super">super</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pecs">pecs</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The principles behind this in computer science is called</p>
<ul>
<li>Covariance: <code>? extends MyClass</code>,</li>
<li>Contravariance: <code>? super MyClass</code> and</li>
<li>Invariance/non-variance: <code>MyClass</code></li>
</ul>
<p>The picture below should explain the concept.
Picture courtesy: <a href="https://stackoverflow.com/users/2707792/andrey-tyukin">Andrey Tyukin</a></p>
<p><img src="https://i.stack.imgur.com/KjDLw.png" alt="Covariance vs Contravariance"></p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 3</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/bounded-wildcard">bounded-wildcard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/super">super</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pecs">pecs</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<blockquote>
<p>When dealing with collections, a common rule for selecting between upper or lower bounded wildcards is PECS. <a href="https://www.baeldung.com/java-generics-interview-questions#q13-when-would-you-choose-to-use-a-lower-bounded-type-vs-an-upper-bounded-type" rel="noreferrer">credit</a></p>
</blockquote>
<p>PECS (Producer <code>extends</code> and Consumer <code>super</code>)</p>
<p>mnemonic  Ge<strong>t</strong> (ex<strong>t</strong>end) and P<strong>u</strong>t (S<strong>u</strong>per) principle.</p>
<ul>
<li><p>This <strong>principle</strong> states that:</p>
<ul>
<li>Use an <code>extends</code> wildcard when you only get values out of a structure.</li>
<li>Use a <code>super</code> wildcard when you only put values into a structure.</li>
<li>And dont use a wildcard when you both get and put.</li>
</ul>
</li>
</ul>
<p>Example in Java:</p>
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Super</span> {
        Number <span class="hljs-title function_">testCoVariance</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">testContraVariance</span><span class="hljs-params">(Number parameter)</span> {
        } 
    }
    
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Sub</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Super</span> {
        <span class="hljs-meta">@Override</span>
        Integer <span class="hljs-title function_">testCoVariance</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        } <span class="hljs-comment">//compiles successfully i.e. return type is don't care(Integer is subtype of Number)</span>
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">testContraVariance</span><span class="hljs-params">(Integer parameter)</span> {
        } <span class="hljs-comment">//doesn't support even though Integer is subtype of Number</span>
    }
</code></pre>
<p>The Liskov Substitution Principle (LSP) states that <strong>objects in a program should be replaceable with instances of their subtypes without altering the correctness of that program</strong>.</p>
<p>Within the type system of a programming language, a typing rule</p>
<ul>
<li><strong>covariant</strong> if it preserves the ordering of types (), which orders types from more specific to more generic;</li>
<li><strong>contravariant</strong> if it reverses this ordering;</li>
<li><strong>invariant</strong> or nonvariant if neither of these applies.</li>
</ul>
<p><a href="https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)" rel="noreferrer">Covariance and contravariance</a></p>
<ul>
<li>Read-only data types (sources) can be <strong><a href="https://en.m.wikipedia.org/wiki/Covariant_return_type" rel="noreferrer">covariant</a></strong>;</li>
<li>write-only data types (sinks) can be <strong>contravariant</strong>.</li>
<li>Mutable data types which act as both sources and sinks should be <strong>invariant</strong>.</li>
</ul>
<p>To illustrate this general phenomenon, consider the array type. For the type Animal we can make the type Animal[]</p>
<ul>
<li><strong>covariant</strong>: a Cat[] is an Animal[];</li>
<li><strong>contravariant</strong>: an Animal[] is a Cat[];</li>
<li><strong>invariant</strong>: an Animal[] is not a Cat[] and a Cat[] is not an Animal[].</li>
</ul>
<p>Java Examples:</p>
<pre class="lang-java s-code-block"><code class="hljs language-java">Object name= <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">"prem"</span>); <span class="hljs-comment">//works</span>
List&lt;Number&gt; numbers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Integer&gt;();<span class="hljs-comment">//gets compile time error</span>

Integer[] myInts = {<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>};
Number[] myNumber = myInts;
myNumber[<span class="hljs-number">0</span>] = <span class="hljs-number">3.14</span>; <span class="hljs-comment">//attempt of heap pollution i.e. at runtime gets java.lang.ArrayStoreException: java.lang.Double(we can fool compiler but not run-time)</span>

List&lt;String&gt; list=<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
list.add(<span class="hljs-string">"prem"</span>);
List&lt;Object&gt; listObject=list; <span class="hljs-comment">//Type mismatch: cannot convert from List&lt;String&gt; to List&lt;Object&gt; at Compiletime  </span>
</code></pre>
<p><a href="http://www.codejava.net/java-core/collections/generics-with-subtyping-and-the-substitution-principle" rel="noreferrer">more examples</a></p>
<p><a href="https://i.stack.imgur.com/KoW5X.png" rel="noreferrer"><img src="https://i.stack.imgur.com/KoW5X.png" alt="enter image description here"></a> <a href="https://www.mathsisfun.com/definitions/bounds.html" rel="noreferrer">Image src</a></p>
<p><strong>bounded</strong>(i.e. heading toward somewhere) <strong>wildcard</strong> : There are 3 different flavours of wildcards:</p>
<ul>
<li>In-variance/Non-variance: <code>?</code> or <code>? extends Object</code> - <strong>Unbounded</strong> Wildcard. It stands for the family of  all types. Use when you both get and put.</li>
<li>Co-variance: <code>? extends T</code> ( Reign of <code>T</code> descendants)  - a wildcard with an <strong>upper bound</strong>. <code>T</code> is the <strong>upper</strong>-most class in the inheritance hierarchy. Use an <code>extends</code> wildcard when you only <strong>Get</strong> values out of a structure.</li>
<li>Contra-variance: <code>? super T</code> ( Reign of <code>T</code> ancestor)  - a wildcard with a <strong>lower bound</strong>. <code>T</code> is the <strong>lower</strong>-most class in the inheritance hierarchy. Use a <code>super</code> wildcard when you only <strong>Put</strong> values into a structure.</li>
</ul>
<p>Note: wildcard <code>?</code> means <strong>zero or one time</strong>, represents an <strong>unknown type</strong>. The wildcard can be used as the type of a parameter, never used as a type argument for a generic method invocation, a generic class instance creation.(i.e. when used wildcard that reference not used in elsewhere in program like we use <code>T</code>)</p>
<p><a href="https://i.stack.imgur.com/ki1Kf.jpg" rel="noreferrer"><img src="https://i.stack.imgur.com/ki1Kf.jpg" alt="enter image description here"></a></p>
<pre class="lang-java s-code-block"><code class="hljs language-java"> <span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Shape</span> { <span class="hljs-keyword">void</span> <span class="hljs-title function_">draw</span><span class="hljs-params">()</span> {}}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Circle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Shape</span> {<span class="hljs-keyword">void</span> <span class="hljs-title function_">draw</span><span class="hljs-params">()</span> {}}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Square</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Shape</span> {<span class="hljs-keyword">void</span> <span class="hljs-title function_">draw</span><span class="hljs-params">()</span> {}}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Shape</span> {<span class="hljs-keyword">void</span> <span class="hljs-title function_">draw</span><span class="hljs-params">()</span> {}}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">//? extends Shape i.e. can use any sub type of Shape, here Shape is Upper Bound in inheritance hierarchy</span>
        List&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Shape</span>&gt; intList5 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Shape&gt;();
        List&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Shape</span>&gt; intList6 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Cricle&gt;();
        List&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Shape</span>&gt; intList7 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Rectangle&gt;();
        List&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Shape</span>&gt; intList9 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Object&gt;();<span class="hljs-comment">//ERROR.</span>


        <span class="hljs-comment">//? super Shape i.e. can use any super type of Shape, here Shape is Lower Bound in inheritance hierarchy</span>
        List&lt;? <span class="hljs-built_in">super</span> Shape&gt; inList5 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Shape&gt;();
        List&lt;? <span class="hljs-built_in">super</span> Shape&gt; inList6 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Object&gt;();
        List&lt;? <span class="hljs-built_in">super</span> Shape&gt; inList7 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Circle&gt;(); <span class="hljs-comment">//ERROR.</span>

        <span class="hljs-comment">//-----------------------------------------------------------</span>
        <span class="hljs-type">Circle</span> <span class="hljs-variable">circle</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Circle</span>();
        <span class="hljs-type">Shape</span> <span class="hljs-variable">shape</span> <span class="hljs-operator">=</span> circle; <span class="hljs-comment">// OK. Circle IS-A Shape</span>

        List&lt;Circle&gt; circles = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        List&lt;Shape&gt; shapes = circles; <span class="hljs-comment">// ERROR. List&lt;Circle&gt; is not subtype of List&lt;Shape&gt; even when Circle IS-A Shape</span>

        List&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Circle</span>&gt; circles2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        List&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Shape</span>&gt; shapes2 = circles2; <span class="hljs-comment">// OK. List&lt;? extends Circle&gt; is subtype of List&lt;? extends Shape&gt;</span>


        <span class="hljs-comment">//-----------------------------------------------------------</span>
        <span class="hljs-type">Shape</span> <span class="hljs-variable">shape2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Shape</span>();
        Circle circle2= (Circle) shape2; <span class="hljs-comment">// OK. with type casting</span>

        List&lt;Shape&gt; shapes3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        List&lt;Circle&gt; circles3 = shapes3; <span class="hljs-comment">//ERROR. List&lt;Circle&gt; is not subtype of  List&lt;Shape&gt; even Circle is subetype of Shape</span>

        List&lt;? <span class="hljs-built_in">super</span> Shape&gt; shapes4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        List&lt;? <span class="hljs-built_in">super</span> Circle&gt; circles4 = shapes4; <span class="hljs-comment">//OK.</span>
    }

    
    
    <span class="hljs-comment">/*
     * Example for an upper bound wildcard (Get values i.e Producer `extends`)
     *
     * */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testCoVariance</span><span class="hljs-params">(List&lt;? extends Shape&gt; list)</span> {
        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());<span class="hljs-comment">//ERROR</span>
        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Shape</span>()); <span class="hljs-comment">//ERROR</span>
        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Circle</span>()); <span class="hljs-comment">// ERROR</span>
        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Square</span>()); <span class="hljs-comment">// ERROR</span>
        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Rectangle</span>()); <span class="hljs-comment">// ERROR</span>
        Shape shape= list.get(<span class="hljs-number">0</span>);<span class="hljs-comment">//OK so list act as produces only</span>
    <span class="hljs-comment">/*
     * You can't add a Shape,Circle,Square,Rectangle to a List&lt;? extends Shape&gt;
     * You can get an object and know that it will be an Shape
     */</span>
    }
    
    
    <span class="hljs-comment">/*
     * Example for  a lower bound wildcard (Put values i.e Consumer`super`)
     * */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testContraVariance</span><span class="hljs-params">(List&lt;? <span class="hljs-built_in">super</span> Shape&gt; list)</span> {
        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());<span class="hljs-comment">//ERROR</span>
        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Shape</span>());<span class="hljs-comment">//OK</span>
        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Circle</span>());<span class="hljs-comment">//OK</span>
        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Square</span>());<span class="hljs-comment">//OK</span>
        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Rectangle</span>());<span class="hljs-comment">//OK</span>
        Shape shape= list.get(<span class="hljs-number">0</span>); <span class="hljs-comment">// ERROR. Type mismatch, so list acts only as consumer</span>
        Object object= list.get(<span class="hljs-number">0</span>); <span class="hljs-comment">//OK gets an object, but we don't know what kind of Object it is.</span>
        <span class="hljs-comment">/*
         * You can add a Shape,Circle,Square,Rectangle to a List&lt;? super Shape&gt;
         * You can't get an Shape(but can get Object) and don't know what kind of Shape it is.
         */</span>
    }
}
</code></pre>
<p><a href="http://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeArguments.html" rel="noreferrer">generics</a> and <a href="http://www.codejava.net/java-core/collections/generics-with-extends-and-super-wildcards-and-the-get-and-put-principle" rel="noreferrer">examples</a></p>
<p><a href="https://www.infoworld.com/article/3172592/type-dependency-in-java-part-1.html" rel="noreferrer">Covariance and contravariance</a> determine compatibility based on types. In either case, variance is a directed relation. Covariance can be translated as "<strong>different in the same direction</strong>," or with-different, whereas contravariance means "<strong>different in the opposite direction</strong>," or against-different. Covariant and contravariant types are not the same, but there is a correlation between them. The names imply the direction of the correlation.</p>
<p><a href="https://stackoverflow.com/a/54576828/1697099">https://stackoverflow.com/a/54576828/1697099</a><br>
<a href="https://stackoverflow.com/a/64888058/1697099">https://stackoverflow.com/a/64888058/1697099</a></p>
<ul>
<li>Covariance: accept subtypes (read only i.e. Producer)</li>
<li>Contravariance: accept supertypes (write only i.e. Consumer)</li>
</ul>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 4</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/bounded-wildcard">bounded-wildcard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/super">super</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pecs">pecs</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">A</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">B</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testCoVariance</span><span class="hljs-params">(List&lt;? extends B&gt; myBlist)</span> {
        <span class="hljs-type">B</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">B</span>();
        <span class="hljs-type">C</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">C</span>();
        myBlist.add(b); <span class="hljs-comment">// does not compile</span>
        myBlist.add(c); <span class="hljs-comment">// does not compile</span>
        <span class="hljs-type">A</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> myBlist.get(<span class="hljs-number">0</span>); 
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testContraVariance</span><span class="hljs-params">(List&lt;? <span class="hljs-built_in">super</span> B&gt; myBlist)</span> {
        <span class="hljs-type">B</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">B</span>();
        <span class="hljs-type">C</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">C</span>();
        myBlist.add(b);
        myBlist.add(c);
        <span class="hljs-type">A</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> myBlist.get(<span class="hljs-number">0</span>); <span class="hljs-comment">// does not compile</span>
    }
}
</code></pre>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 5</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/bounded-wildcard">bounded-wildcard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/super">super</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pecs">pecs</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In a nutshell, three easy rules to remember PECS: </p>

<ol>
<li>Use the <code>&lt;? extends T&gt;</code> wildcard if you need to retrieve object of
type <code>T</code> from a collection.</li>
<li>Use the <code>&lt;? super T&gt;</code> wildcard if you need to put objects of type <code>T</code> in
a collection.</li>
<li>If you need to satisfy both things, well, dont use any wildcard. As
simple as that.</li>
</ol>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 6</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/bounded-wildcard">bounded-wildcard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/super">super</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pecs">pecs</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>As I explain in <a href="https://stackoverflow.com/questions/2248390/java-generics-collections-max-signature-and-comparator/2248503#2248503">my answer</a> to another question, PECS is a mnemonic device  created by Josh Bloch to help remember <strong>P</strong>roducer <code><strong>e</strong>xtends</code>, <strong>C</strong>onsumer <code><strong>s</strong>uper</code>.</p>
<blockquote>
<p>This means that when a parameterized type being passed to a method will <em>produce</em> instances of <code>T</code> (they will be retrieved from it in some way), <code>? extends T</code> should be used, since any instance of a subclass of <code>T</code> is also a <code>T</code>.</p>
<p>When a parameterized type being passed to a method will <em>consume</em> instances of <code>T</code> (they will be passed to it to do something), <code>? super T</code> should be used because an instance of <code>T</code> can legally be passed to any method that accepts some supertype of <code>T</code>. A <code>Comparator&lt;Number&gt;</code> could be used on a <code>Collection&lt;Integer&gt;</code>, for example. <code>? extends T</code> would not work, because a <code>Comparator&lt;Integer&gt;</code> could not operate on a <code>Collection&lt;Number&gt;</code>.</p>
</blockquote>
<p>Note that generally you should only be using <code>? extends T</code> and <code>? super T</code> for the parameters of some method. Methods should just use <code>T</code> as the type parameter on a generic return type.</p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 7</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/bounded-wildcard">bounded-wildcard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/super">super</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pecs">pecs</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>let's assume this hierarchy:</p>

<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Creature</span>{}<span class="hljs-comment">// X</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Creature</span>{}<span class="hljs-comment">// Y</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Fish</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span>{}<span class="hljs-comment">// Z</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Shark</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Fish</span>{}<span class="hljs-comment">// A</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HammerSkark</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Shark</span>{}<span class="hljs-comment">// B</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DeadHammerShark</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HammerSkark</span>{}<span class="hljs-comment">// C</span>
</code></pre>

<p><strong>Let's clarify PE - Producer Extends:</strong></p>

<pre class="lang-java s-code-block"><code class="hljs language-java">List&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Shark</span>&gt; sharks = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
</code></pre>

<p>Why you cannot add objects that extend "Shark" in this list? like:</p>

<pre class="lang-java s-code-block"><code class="hljs language-java">sharks.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HammerShark</span>());<span class="hljs-comment">//will result in compilation error</span>
</code></pre>

<p>Since you have a list that can be of type A, B or C <strong>at runtime</strong>, you cannot add any object of type A, B or C in it because you can end up with a combination that is not allowed in java. <br>In practice, the compiler can indeed see at compiletime that you add a B:</p>

<pre class="lang-java s-code-block"><code class="hljs language-java">sharks.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HammerShark</span>());
</code></pre>

<p>...but it has no way to tell if at runtime, your B will be a subtype or supertype of the list type. At runtime the list type can be any of the types A, B, C. So you cannot end up adding HammerSkark (super type) in a list of DeadHammerShark for example.</p>

<p>*You will say: "OK, but why can't I add HammerSkark in it since it is the smallest type?". 
Answer: It is the smallest <strong>you</strong> know. But HammerSkark can be extended too by somebody else and you end up in the same scenario.</p>

<p><strong>Let's clarify CS - Consumer Super:</strong></p>

<p>In the same hierarchy we can try this:</p>

<pre class="lang-java s-code-block"><code class="hljs language-java">List&lt;? <span class="hljs-built_in">super</span> Shark&gt; sharks = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
</code></pre>

<p>What and why you <strong>can</strong> add to this list?</p>

<pre class="lang-java s-code-block"><code class="hljs language-java">sharks.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Shark</span>());
sharks.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">DeadHammerShark</span>());
sharks.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HammerSkark</span>());
</code></pre>

<p>You can add the above types of objects because anything below shark(A,B,C) will always be subtypes of anything above shark (X,Y,Z). Easy to understand. </p>

<p>You <strong>cannot</strong> add types above Shark, because <strong>at runtime</strong> the type of added object can be higher in hierarchy than the declared type of the list(X,Y,Z). This is not allowed.</p>

<p>But why you cannot read from this list?
(I mean you can get an element out of it, but you cannot assign it to anything other than Object o):</p>

<pre class="lang-java s-code-block"><code class="hljs language-java">Object o;
o = sharks.get(<span class="hljs-number">2</span>);<span class="hljs-comment">// only assignment that works</span>

Animal s;
s = sharks.get(<span class="hljs-number">2</span>);<span class="hljs-comment">//doen't work</span>
</code></pre>

<p>At runtime, the type of list can be any type above A: X, Y, Z, ...
The compiler can compile your assignment statement (which seems correct) but, <strong>at runtime</strong> the type of s (Animal) can be lower in hierarchy than the declared type of the list(which could be Creature, or higher). This is not allowed.</p>

<p><strong>To sum up</strong></p>

<p><strong>We use <code>&lt;? super T&gt;</code> to add objects of types equal or below <code>T</code> to the <code>List</code>.</strong> We cannot read from 
it.<br>
<strong>We use <code>&lt;? extends T&gt;</code> to read objects of types equal or below <code>T</code> from list.</strong> We cannot add element to it.</p>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 8</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/bounded-wildcard">bounded-wildcard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/super">super</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pecs">pecs</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This is the clearest, simplest way for me think of extends vs. super:</p>

<ul>
<li><p><code>extends</code> is for <strong>reading</strong></p></li>
<li><p><code>super</code> is for <strong>writing</strong></p></li>
</ul>

<p>I find "PECS" to be a non-obvious way to think of things regarding who is the "producer" and who is the "consumer". "PECS" is defined from the perspective of the <em>data collection itself</em>  the collection "consumes" if objects are being written <em>to</em> it (it is consuming objects from calling code), and it "produces" if objects are being read <em>from</em> it (it is producing objects to some calling code). This is counter to how everything else is named though. Standard Java APIs are named from the perspective of the calling code, not the collection itself. For example, a collection-centric view of <a href="https://docs.oracle.com/javase/9/docs/api/java/util/List.html" rel="noreferrer">java.util.List</a> should have a method named "receive()" instead of "add()"  after all, the calling code <em>adds</em> the element, but the list itself <em>receives</em> the element.</p>

<p>I think it's more intuitive, natural and consistent to think of things from the perspective of the code that interacts with the collection  does the code "read from" or "write to" the collection? Following that, any code <em>writing to</em> the collection would be the "producer", and any code <em>reading from</em> the collection would be the "consumer".</p>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 9</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/bounded-wildcard">bounded-wildcard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/super">super</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pecs">pecs</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>lets try visualizing this concept.</p>
<p><code>&lt;? super SomeType&gt;</code> is an undefined(yet) type, but that undefined type <strong>should be a super</strong>class of the SomeType class.</p>
<p>The same goes for <code>&lt;? extends SomeType&gt;</code>. Its a type that <strong>should extend</strong> the SomeType class (it should be a child class of the SomeType class).</p>
<p>If we consider the concept of 'class inheritance' in a Venn diagram, an example would be like this:</p>
<p><a href="https://i.stack.imgur.com/rneiP.png" rel="noreferrer"><img src="https://i.stack.imgur.com/rneiP.png" alt="enter image description here"></a></p>
<p>Mammal class <strong>extends</strong> Animal class (Animal class is a <strong>super</strong>class of Mammal class).</p>
<p>Cat/Dog class <strong>extends</strong> Mammal class (Mammal class is a <strong>super</strong>class of Cat/Dog class).</p>
<p>Then, lets think about the circles in the above diagram as a box that has a physical volume.</p>
<p><a href="https://i.stack.imgur.com/mpxnl.png" rel="noreferrer"><img src="https://i.stack.imgur.com/mpxnl.png" alt="enter image description here"></a></p>
<p>You CANT put a bigger box into a smaller one.</p>
<p>You can ONLY put a smaller box into a bigger one.</p>
<p>When you say <code>&lt;? super SomeType&gt;</code>, you wanna describe a box that is the same size or <strong>bigger</strong> than the SomeType box.</p>
<p>If you say <code>&lt;? extends SomeType&gt;</code>, then you wanna describe a box that is the same size or <strong>smaller</strong> than the SomeType box.</p>
<p><em>so what is PECS anyway?</em></p>
<p>An example of a Producer is a List which we only read from.</p>
<p>An example of a Consumer is a List which we only write into.</p>
<p><em>Just keep in mind this:</em></p>
<ul>
<li><p>We read from a producer, and take that stuff into our own box.</p>
</li>
<li><p>And we write our own box into a consumer.</p>
</li>
</ul>
<p>So, we need to read(take) something from a producer <strong>and put that into our box.</strong> This means that any boxes taken from the producer should <strong>NOT</strong> be bigger than our box. Thats why <strong>P</strong>roducer <strong>E</strong>xtends.</p>
<p><strong>Extends means a smaller box</strong>(smaller circle in the Venn diagram above). The boxes of a producer should be smaller than our own box, because we are gonna take those boxes from the producer and put them into our own box. We cant put anything bigger than our box!</p>
<p>Also, we need to write(put) <strong>our own box into</strong> a consumer. This means that the boxes of the consumer should <strong>NOT</strong> be smaller than our own box. Thats why <strong>C</strong>onsumer <strong>S</strong>uper.</p>
<p><strong>Super means a bigger box</strong>(bigger circle in the Venn diagram above). If we want to put our own boxes into a consumer, the boxes of the consumer should be bigger than our box!</p>
<p>Now we can easily understand this example:</p>
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Collections</span> { 
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">copy</span><span class="hljs-params">(List&lt;? <span class="hljs-built_in">super</span> T&gt; dest, List&lt;? extends T&gt; src)</span> {
      <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; src.size(); i++) 
        dest.set(i, src.get(i)); 
  } 
}
</code></pre>
<p>In the above example, we want to read(take) something from <code>src</code> and write(put) them into <code>dest</code>. So the <code>src</code> is a Producer and its boxes should be smaller(more specific) than some type <code>T</code>.</p>
<p>Vice versa, the <code>dest</code> is a Consumer and its boxes should be bigger(more general) than some type <code>T</code>.</p>
<p>If the boxes of the <code>src</code> were bigger than that of the <code>dest</code>, we couldnt put those big boxes into the smaller boxes the <code>dest</code> has.</p>
<p>If anyone reads this, I hope it helps you better understand
<strong>P</strong>roducer <strong>E</strong>xtends, <strong>C</strong>onsumer <strong>S</strong>uper.</p>
<p>Happy coding! :)</p>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 10</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/bounded-wildcard">bounded-wildcard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/super">super</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pecs">pecs</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>(adding an answer because never enough examples with Generics wildcards)</p>

<pre class="lang-java s-code-block"><code class="hljs language-java">       <span class="hljs-comment">// Source </span>
       List&lt;Integer&gt; intList = Arrays.asList(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>);
       List&lt;Double&gt; doubleList = Arrays.asList(<span class="hljs-number">2.78</span>,<span class="hljs-number">3.14</span>);
       List&lt;Number&gt; numList = Arrays.asList(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2.78</span>,<span class="hljs-number">3.14</span>,<span class="hljs-number">5</span>);

       <span class="hljs-comment">// Destination</span>
       List&lt;Integer&gt; intList2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
       List&lt;Double&gt; doublesList2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
       List&lt;Number&gt; numList2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();

        <span class="hljs-comment">// Works</span>
        copyElements1(intList,intList2);         <span class="hljs-comment">// from int to int</span>
        copyElements1(doubleList,doublesList2);  <span class="hljs-comment">// from double to double</span>


     <span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">copyElements1</span><span class="hljs-params">(Collection&lt;T&gt; src, Collection&lt;T&gt; dest)</span> {
        <span class="hljs-keyword">for</span>(T n : src){
            dest.add(n);
         }
      }


     <span class="hljs-comment">// Let's try to copy intList to its supertype</span>
     copyElements1(intList,numList2); <span class="hljs-comment">// error, method signature just says "T"</span>
                                      <span class="hljs-comment">// and here the compiler is given </span>
                                      <span class="hljs-comment">// two types: Integer and Number, </span>
                                      <span class="hljs-comment">// so which one shall it be?</span>

     <span class="hljs-comment">// PECS to the rescue!</span>
     copyElements2(intList,numList2);  <span class="hljs-comment">// possible</span>



    <span class="hljs-comment">// copy Integer (? extends T) to its supertype (Number is super of Integer)</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">copyElements2</span><span class="hljs-params">(Collection&lt;? extends T&gt; src, 
                                          Collection&lt;? <span class="hljs-built_in">super</span> T&gt; dest)</span> {
        <span class="hljs-keyword">for</span>(T n : src){
            dest.add(n);
        }
    }
</code></pre>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 11</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/bounded-wildcard">bounded-wildcard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/super">super</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pecs">pecs</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The PECS "rule" just ensures that the following is legal:</p>

<ul>
<li>Consumer: whatever <code>?</code> is, it can legally <em>refer to</em> <code>T</code> </li>
<li>Producer: whatever <code>?</code> is, it can legally be <em>referred to by</em> <code>T</code></li>
</ul>

<p>The typical pairing along the lines of <code>List&lt;? extends T&gt; producer, List&lt;? super T&gt; consumer</code> is simply ensuring that the compiler can enforce the standard "IS-A" inheritance relationship rules. If we could do so legally, it might be simpler to say <code>&lt;T extends ?&gt;, &lt;? extends T&gt;</code> (or better yet in Scala, as you can see above, it's <code>[-T], [+T]</code>. Unfortunately the best we can do is <code>&lt;? super T&gt;, &lt;? extends T&gt;</code>.</p>

<p>When I first encountered this and broke it down in my head the mechanics made sense but the code itself continued to look confusing to me - I kept thinking "it seems like the bounds shouldn't need to be inverted like that" - even though I was clear on the above - that it's simply about guaranteeing compliance with the standard rules of reference.</p>

<p>What helped me was looking at it using ordinary assignment as an analogy. </p>

<p>Consider the following (not production ready) toy code:</p>

<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-comment">// copies the elements of 'producer' into 'consumer'</span>
<span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">copy</span><span class="hljs-params">(List&lt;? extends T&gt; producer, List&lt;? <span class="hljs-built_in">super</span> T&gt; consumer)</span> {
   <span class="hljs-keyword">for</span>(T t : producer)
       consumer.add(t);
}
</code></pre>

<p>Illustrating this in terms of the assignment analogy, for <code>consumer</code> the <code>?</code> wildcard (unknown type) is the reference - the "left hand side" of the assignment - and <code>&lt;? super T&gt;</code> ensures that whatever <code>?</code> is, <code>T</code> "IS-A" <code>?</code> - that <code>T</code> can be assigned to it, because <code>?</code> is a super type (or at most the same type) as <code>T</code>.</p>

<p>For <code>producer</code> the concern is the same it's just inverted: <code>producer</code>'s <code>?</code> wildcard (unknown type) is the <em>referent</em> - the "right hand side" of the assignment - and <code>&lt;? extends T&gt;</code> ensures that whatever <code>?</code> is, <code>?</code> "IS-A" <code>T</code> - that <em>it</em> can be assigned <em>to a <code>T</code></em>, because <code>?</code> is a sub type (or at least the same type) as <code>T</code>. </p>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 12</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/bounded-wildcard">bounded-wildcard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/super">super</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pecs">pecs</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>Covariance</strong>: accept subtypes<br>
<strong>Contravariance</strong>: accept supertypes</p>

<p>Covariant types are read-only, while contravariant types are write-only.</p>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 13</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/bounded-wildcard">bounded-wildcard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/super">super</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pecs">pecs</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Remember this: </p>

<blockquote>
  <p>Consumer eat <strong>supper</strong>(super); Producer <strong>extends</strong> his parent's factory</p>
</blockquote>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 14</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/bounded-wildcard">bounded-wildcard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/super">super</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pecs">pecs</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><a href="https://stackoverflow.com/a/62752867/4770877">[Covariance and contravariance]</a></p>
<p>Lets take a look at example</p>
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> { }
<span class="hljs-comment">//B is A</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">A</span> { }
<span class="hljs-comment">//C is A</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">A</span> { }
</code></pre>
<p>Generics allows you to work with Types dynamically in a safe way</p>
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-comment">//ListA</span>
List&lt;A&gt; listA = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;A&gt;();

<span class="hljs-comment">//add</span>
listA.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">A</span>());
listA.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">B</span>());
listA.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">C</span>());

<span class="hljs-comment">//get</span>
<span class="hljs-type">A</span> <span class="hljs-variable">a0</span> <span class="hljs-operator">=</span> listA.get(<span class="hljs-number">0</span>);
<span class="hljs-type">A</span> <span class="hljs-variable">a1</span> <span class="hljs-operator">=</span> listA.get(<span class="hljs-number">1</span>);
<span class="hljs-type">A</span> <span class="hljs-variable">a2</span> <span class="hljs-operator">=</span> listA.get(<span class="hljs-number">2</span>);
</code></pre>
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-comment">//ListB</span>
List&lt;B&gt; listB = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;B&gt;();

<span class="hljs-comment">//add</span>
listB.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">B</span>());

<span class="hljs-comment">//get</span>
<span class="hljs-type">B</span> <span class="hljs-variable">b0</span> <span class="hljs-operator">=</span> listB.get(<span class="hljs-number">0</span>);
</code></pre>
<img src="https://i.stack.imgur.com/D4RwI.png" height="150">
<h2>Problem</h2>
<p>Since Java's Collection is a reference type as a result we have next issues:</p>
<p><strong>Problem #1</strong></p>
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-comment">//not compiled</span>
<span class="hljs-comment">//danger of **adding** non-B objects using listA reference</span>
listA = listB;
</code></pre>
<img src="https://i.stack.imgur.com/WyHs7.png" height="150">
<p>*Swift's generic does not have such problem because Collection is <code>Value type</code><a href="https://stackoverflow.com/a/59219141/4770877"><sup>[About]</sup></a> therefore a new collection is created</p>
<p><strong>Problem #2</strong></p>
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-comment">//not compiled</span>
<span class="hljs-comment">//danger of **getting** non-B objects using listB reference</span>
listB = listA;
</code></pre>
<img src="https://i.stack.imgur.com/nTEXJ.png" height="150">
<h2>The solution - Generic Wildcards</h2>
<p>Wildcard is a reference type feature and it can not be instantiated directly</p>
<p><strong>Solution #1</strong>
<code>&lt;? super A&gt;</code> aka lower bound aka contravariance aka consumers guarantees that it is operates by A and all superclasses, that is why it is safe to <strong>add</strong></p>
<pre class="lang-java s-code-block"><code class="hljs language-java">List&lt;? <span class="hljs-built_in">super</span> A&gt; listSuperA;
listSuperA = listA;
listSuperA = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Object&gt;();

<span class="hljs-comment">//add</span>
listSuperA.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">A</span>());
listSuperA.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">B</span>());

<span class="hljs-comment">//get</span>
<span class="hljs-type">Object</span> <span class="hljs-variable">o0</span> <span class="hljs-operator">=</span> listSuperA.get(<span class="hljs-number">0</span>);
</code></pre>
<img src="https://i.stack.imgur.com/jtcBs.png" height="150">
<p><strong>Solution #2</strong></p>
<p><code>&lt;? extends A&gt;</code> aka upper bound aka covariance aka producers guarantees that it is operates by A and all subclasses, that is why it is safe to <strong>get</strong> and cast</p>
<pre class="lang-java s-code-block"><code class="hljs language-java">List&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">A</span>&gt; listExtendsA;
listExtendsA = listA;
listExtendsA = listB;

<span class="hljs-comment">//get</span>
<span class="hljs-type">A</span> <span class="hljs-variable">a0</span> <span class="hljs-operator">=</span> listExtendsA.get(<span class="hljs-number">0</span>);
</code></pre>
<img src="https://i.stack.imgur.com/Y33aY.png" height="150">
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 15</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/bounded-wildcard">bounded-wildcard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/super">super</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pecs">pecs</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Using real life example (with some simplifications):</p>

<ol>
<li>Imagine a freight train with freight cars as analogy to a list.</li>
<li>You can <strong>put</strong> a cargo in a freight car if the cargo has <strong>the same or smaller size</strong> than the freight car = <code>&lt;? super FreightCarSize&gt;</code></li>
<li>You can <strong>unload</strong> a cargo from a freight car if you have <strong>enough place</strong> (more than the size of the cargo) in your depot = <code>&lt;? extends DepotSize&gt;</code></li>
</ol>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 16</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/bounded-wildcard">bounded-wildcard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/super">super</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pecs">pecs</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>PECS: Producer extends and Consumer super</h2>
<p>Prerequisites for understanding:</p>
<ul>
<li>Generics and generic wildcards</li>
<li>Polymorphism, Subtyping and Supertyping</li>
</ul>
<hr>
<p>Lets say we have a type which takes a generic type parameter T, for example <code>List&lt;T&gt;</code>. When we write code it can be potentially beneficial to also allow subtypes or supertypes of our generic type parameter T. This relaxes the restraints for the user of the API and can make the code more flexible.</p>
<p>Let first see what we gain relaxing these restrictions. Lets say we have the following 3 classes:</p>
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseAnimal</span>{};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseAnimal</span>{};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Duck</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span>{};
</code></pre>
<p>and we are building a public method which takes a <code>list&lt;Animal&gt;</code></p>
<ol>
<li>If we use a super <code>List&lt;? super Animal&gt;</code> instead of <code>List&lt;Animal&gt;</code> we now can pass in more lists to satisfy the requirement of our method. We now can pass in either <code>List&lt;Animal&gt;</code> or <code>List&lt;BaseAnimal&gt;</code> even <code>List&lt;Object&gt;</code></li>
<li>If we use an extends <code>List&lt;? extends Animal&gt;</code> instead of <code>List&lt;Animal&gt;</code> we now can pass in more lists to satisfy the requirement of our method. We now can pass in either <code>List&lt;Animal&gt;</code> or <code>List&lt;Duck&gt;</code></li>
</ol>
<p>However this poses the following 2 restrictions:</p>
<ol>
<li>If we use a super type like <code>List&lt;? super Animal&gt;</code> we don't know the exact type of <code>List&lt;T&gt;</code> it will be. It could be either a list of <code>List&lt;Animal&gt;</code> or <code>List&lt;BaseAnimal&gt;</code> or <code>List&lt;Object&gt;</code>. We have no way of knowing. This means we can never get a value out of this List because we do not know what the type will be. However we can put any data type which is <code>Animal</code> or extends it into the <code>List</code>. Because we can only put data into the  <code>List</code> it is called a <strong>consumer</strong> of data.</li>
<li>If we use an extends <code>List&lt;? extends Animal&gt;</code> instead of <code>List&lt;Animal&gt;</code>. We also don't know what the exact type is. It can either be <code>List&lt;Animal&gt;</code> or <code>List&lt;Duck&gt;</code>. We can't add something to the <code>List</code> now because we can never certainly know what the type is. However we can pull something out because we always know that anything which comes out of the list is a subtype of <code>Animal</code>. Because we can only pull data out of the <code>List</code> is it called a <strong>producer</strong> of data.</li>
</ol>
<p>Here is a simple program to illustrate the relaxation of the type restrictions:</p>
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Generics</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {

        <span class="hljs-type">Generics</span> <span class="hljs-variable">generics</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Generics</span>();

        generics.producerExtends(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Duck&gt;());
        generics.producerExtends(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Animal&gt;());

        generics.consumerSuper(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Object&gt;());
        generics.consumerSuper(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Animal&gt;());

    }

    <span class="hljs-comment">//  ? extends T   is an upper bound</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">producerExtends</span> <span class="hljs-params">(List&lt;? extends Animal&gt; list)</span> {

        <span class="hljs-comment">// Following are illegal since we never know exactly what type the list will be</span>
        <span class="hljs-comment">// list.add(new Duck());</span>
        <span class="hljs-comment">// list.add(new Animal());</span>
        
        <span class="hljs-comment">// We can read from it since we are always getting an Animal or subclass from it</span>
        <span class="hljs-comment">// However we can read them as an animal type, so this compiles fine</span>
        <span class="hljs-keyword">if</span> (list.size() &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-type">Animal</span> <span class="hljs-variable">animal</span> <span class="hljs-operator">=</span> list.get(<span class="hljs-number">0</span>);
        }
    }

    <span class="hljs-comment">// ? extends T   is a lower bound</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">consumerSuper</span> <span class="hljs-params">(List&lt;? <span class="hljs-built_in">super</span> Animal&gt; list)</span> {
        <span class="hljs-comment">// It will be either a list of Animal or a superclass of it</span>
        <span class="hljs-comment">// Therefore we can add any type which extends animals</span>
        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Duck</span>());
        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>());

        <span class="hljs-comment">// Compiler won't allow this it could potentially be a super type of Animal</span>
        <span class="hljs-comment">// Animal animal = list.get(0);</span>
    }
</code></pre>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/how-do-i-set-a-variable-to-the-output-of-a-command-in-bash-1657387250909">How do I set a variable to the output of a command in Bash?</a><a href="/questions/which-equals-operator-(-vs-)-should-be-used-in-javascript-comparisons-1657384663105">Which equals operator (== vs ===) should be used in JavaScript comparisons?</a><a href="/questions/how-can-i-sanitize-user-input-with-php-1657387892329">How can I sanitize user input with PHP?</a><a href="/questions/importing-files-from-different-folder-1657388203798">Importing files from different folder</a><a href="/questions/how-can-i-sort-arrays-and-data-in-php-1657384726665">How can I sort arrays and data in PHP?</a><a href="/questions/why-does-std::getline()-skip-input-after-a-formatted-extraction-1657384756118">Why does std::getline() skip input after a formatted extraction?</a><a href="/questions/how-can-i-transition-height:-0-to-height:-auto-using-css-1657388022100">How can I transition height: 0; to height: auto; using CSS?</a><a href="/questions/what-does-a-%22cannot-find-symbol%22-or-%22cannot-resolve-symbol%22-error-mean-1657384492160">What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?</a><a href="/questions/understanding-slicing-1657384397680">Understanding slicing</a><a href="/questions/unfortunately-myapp-has-stopped.-how-can-i-solve-this-1657384402171">Unfortunately MyApp has stopped. How can I solve this?</a><a href="/questions/how-to-reshape-data-from-long-to-wide-format-1657384486421">How to reshape data from long to wide format</a><a href="/questions/relative-imports-for-the-billionth-time-1657387756383">Relative imports for the billionth time</a><a href="/questions/is-java-%22pass-by-reference%22-or-%22pass-by-value%22-1657384319828">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a><a href="/questions/list-of-lists-changes-reflected-across-sublists-unexpectedly-1657384393720">List of lists changes reflected across sublists unexpectedly</a><a href="/questions/php-failed-to-open-stream-:-no-such-file-or-directory-1657387872896">PHP - Failed to open stream : No such file or directory</a><a href="/questions/captured-variable-in-a-loop-in-c-1657387696779">Captured variable in a loop in C#</a><a href="/questions/using-limit-within-group-by-to-get-n-results-per-group-1657388324167">Using LIMIT within GROUP BY to get N results per group?</a><a href="/questions/sorting-object-property-by-values-1657388367300">Sorting object property by values</a><a href="/questions/how-to-replace-all-occurrences-of-a-string-in-javascript-1657384895467">How to replace all occurrences of a string in JavaScript</a><a href="/questions/no-&#x27;access-control-allow-origin&#x27;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467">No &#x27;Access-Control-Allow-Origin&#x27; header is present on the requested resource—when trying to get data from a REST API</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;tl;dr:\u0026lt;/strong\u0026gt; \u0026quot;PECS\u0026quot; is from the collection\u0026apos;s point of view. If you are \u0026lt;em\u0026gt;only\u0026lt;/em\u0026gt; pulling items from a generic collection, it is a producer and you should use \u0026lt;code\u0026gt;extends\u0026lt;/code\u0026gt;; if you are \u0026lt;em\u0026gt;only\u0026lt;/em\u0026gt; stuffing items in, it is a consumer and you should use \u0026lt;code\u0026gt;super\u0026lt;/code\u0026gt;. If you do both with the same collection, you shouldn\u0026apos;t use either \u0026lt;code\u0026gt;extends\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;super\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;Suppose you have a method that takes as its parameter a collection of things, but you want it to be more flexible than just accepting a \u0026lt;code\u0026gt;Collection\u0026amp;lt;Thing\u0026amp;gt;\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Case 1: You want to go through the collection and do things with each item.\u0026lt;/strong\u0026gt;\u0026lt;br\u0026gt;\nThen the list is a \u0026lt;strong\u0026gt;producer\u0026lt;/strong\u0026gt;, so you should use a \u0026lt;code\u0026gt;Collection\u0026amp;lt;? extends Thing\u0026amp;gt;\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The reasoning is that a \u0026lt;code\u0026gt;Collection\u0026amp;lt;? extends Thing\u0026amp;gt;\u0026lt;/code\u0026gt; could hold any subtype of \u0026lt;code\u0026gt;Thing\u0026lt;/code\u0026gt;, and thus each element will behave as a \u0026lt;code\u0026gt;Thing\u0026lt;/code\u0026gt; when you perform your operation. (You actually cannot add anything (except null) to a \u0026lt;code\u0026gt;Collection\u0026amp;lt;? extends Thing\u0026amp;gt;\u0026lt;/code\u0026gt;, because you cannot know at runtime which \u0026lt;em\u0026gt;specific\u0026lt;/em\u0026gt; subtype of \u0026lt;code\u0026gt;Thing\u0026lt;/code\u0026gt; the collection holds.)\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Case 2: You want to add things to the collection.\u0026lt;/strong\u0026gt;\u0026lt;br\u0026gt;\nThen the list is a \u0026lt;strong\u0026gt;consumer\u0026lt;/strong\u0026gt;, so you should use a \u0026lt;code\u0026gt;Collection\u0026amp;lt;? super Thing\u0026amp;gt;\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The reasoning here is that unlike \u0026lt;code\u0026gt;Collection\u0026amp;lt;? extends Thing\u0026amp;gt;\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;Collection\u0026amp;lt;? super Thing\u0026amp;gt;\u0026lt;/code\u0026gt; can always hold a \u0026lt;code\u0026gt;Thing\u0026lt;/code\u0026gt; no matter what the actual parameterized type is. Here you don\u0026apos;t care what is already in the list as long as it will allow a \u0026lt;code\u0026gt;Thing\u0026lt;/code\u0026gt; to be added; this is what \u0026lt;code\u0026gt;? super Thing\u0026lt;/code\u0026gt; guarantees.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The principles behind this in computer science is called\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Covariance: \u0026lt;code\u0026gt;? extends MyClass\u0026lt;/code\u0026gt;,\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Contravariance: \u0026lt;code\u0026gt;? super MyClass\u0026lt;/code\u0026gt; and\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Invariance/non-variance: \u0026lt;code\u0026gt;MyClass\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;The picture below should explain the concept.\nPicture courtesy: \u0026lt;a href=\u0026quot;https://stackoverflow.com/users/2707792/andrey-tyukin\u0026quot;\u0026gt;Andrey Tyukin\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/KjDLw.png\u0026quot; alt=\u0026quot;Covariance vs Contravariance\u0026quot;\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;When dealing with collections, a common rule for selecting between upper or lower bounded wildcards is PECS. \u0026lt;a href=\u0026quot;https://www.baeldung.com/java-generics-interview-questions#q13-when-would-you-choose-to-use-a-lower-bounded-type-vs-an-upper-bounded-type\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;credit\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;PECS (Producer \u0026lt;code\u0026gt;extends\u0026lt;/code\u0026gt; and Consumer \u0026lt;code\u0026gt;super\u0026lt;/code\u0026gt;)\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;mnemonic  Ge\u0026lt;strong\u0026gt;t\u0026lt;/strong\u0026gt; (ex\u0026lt;strong\u0026gt;t\u0026lt;/strong\u0026gt;end) and P\u0026lt;strong\u0026gt;u\u0026lt;/strong\u0026gt;t (S\u0026lt;strong\u0026gt;u\u0026lt;/strong\u0026gt;per) principle.\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;This \u0026lt;strong\u0026gt;principle\u0026lt;/strong\u0026gt; states that:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Use an \u0026lt;code\u0026gt;extends\u0026lt;/code\u0026gt; wildcard when you only get values out of a structure.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Use a \u0026lt;code\u0026gt;super\u0026lt;/code\u0026gt; wildcard when you only put values into a structure.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;And dont use a wildcard when you both get and put.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;Example in Java:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Super\u0026lt;/span\u0026gt; {\n        Number \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;testCoVariance\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;;\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;testContraVariance\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Number parameter)\u0026lt;/span\u0026gt; {\n        } \n    }\n    \n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Sub\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Super\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        Integer \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;testCoVariance\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;;\n        } \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//compiles successfully i.e. return type is don\u0026apos;t care(Integer is subtype of Number)\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;testContraVariance\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Integer parameter)\u0026lt;/span\u0026gt; {\n        } \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//doesn\u0026apos;t support even though Integer is subtype of Number\u0026lt;/span\u0026gt;\n    }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The Liskov Substitution Principle (LSP) states that \u0026lt;strong\u0026gt;objects in a program should be replaceable with instances of their subtypes without altering the correctness of that program\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Within the type system of a programming language, a typing rule\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;covariant\u0026lt;/strong\u0026gt; if it preserves the ordering of types (), which orders types from more specific to more generic;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;contravariant\u0026lt;/strong\u0026gt; if it reverses this ordering;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;invariant\u0026lt;/strong\u0026gt; or nonvariant if neither of these applies.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Covariance and contravariance\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Read-only data types (sources) can be \u0026lt;strong\u0026gt;\u0026lt;a href=\u0026quot;https://en.m.wikipedia.org/wiki/Covariant_return_type\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;covariant\u0026lt;/a\u0026gt;\u0026lt;/strong\u0026gt;;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;write-only data types (sinks) can be \u0026lt;strong\u0026gt;contravariant\u0026lt;/strong\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Mutable data types which act as both sources and sinks should be \u0026lt;strong\u0026gt;invariant\u0026lt;/strong\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;To illustrate this general phenomenon, consider the array type. For the type Animal we can make the type Animal[]\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;covariant\u0026lt;/strong\u0026gt;: a Cat[] is an Animal[];\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;contravariant\u0026lt;/strong\u0026gt;: an Animal[] is a Cat[];\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;invariant\u0026lt;/strong\u0026gt;: an Animal[] is not a Cat[] and a Cat[] is not an Animal[].\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;Java Examples:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;Object name= \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;prem\u0026quot;\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//works\u0026lt;/span\u0026gt;\nList\u0026amp;lt;Number\u0026amp;gt; numbers = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;Integer\u0026amp;gt;();\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//gets compile time error\u0026lt;/span\u0026gt;\n\nInteger[] myInts = {\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;};\nNumber[] myNumber = myInts;\nmyNumber[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;] = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3.14\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//attempt of heap pollution i.e. at runtime gets java.lang.ArrayStoreException: java.lang.Double(we can fool compiler but not run-time)\u0026lt;/span\u0026gt;\n\nList\u0026amp;lt;String\u0026amp;gt; list=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;gt;();\nlist.add(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;prem\u0026quot;\u0026lt;/span\u0026gt;);\nList\u0026amp;lt;Object\u0026amp;gt; listObject=list; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Type mismatch: cannot convert from List\u0026amp;lt;String\u0026amp;gt; to List\u0026amp;lt;Object\u0026amp;gt; at Compiletime  \u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://www.codejava.net/java-core/collections/generics-with-subtyping-and-the-substitution-principle\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;more examples\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/KoW5X.png\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/KoW5X.png\u0026quot; alt=\u0026quot;enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt; \u0026lt;a href=\u0026quot;https://www.mathsisfun.com/definitions/bounds.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Image src\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;bounded\u0026lt;/strong\u0026gt;(i.e. heading toward somewhere) \u0026lt;strong\u0026gt;wildcard\u0026lt;/strong\u0026gt; : There are 3 different flavours of wildcards:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;In-variance/Non-variance: \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;? extends Object\u0026lt;/code\u0026gt; - \u0026lt;strong\u0026gt;Unbounded\u0026lt;/strong\u0026gt; Wildcard. It stands for the family of  all types. Use when you both get and put.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Co-variance: \u0026lt;code\u0026gt;? extends T\u0026lt;/code\u0026gt; ( Reign of \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; descendants)  - a wildcard with an \u0026lt;strong\u0026gt;upper bound\u0026lt;/strong\u0026gt;. \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; is the \u0026lt;strong\u0026gt;upper\u0026lt;/strong\u0026gt;-most class in the inheritance hierarchy. Use an \u0026lt;code\u0026gt;extends\u0026lt;/code\u0026gt; wildcard when you only \u0026lt;strong\u0026gt;Get\u0026lt;/strong\u0026gt; values out of a structure.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Contra-variance: \u0026lt;code\u0026gt;? super T\u0026lt;/code\u0026gt; ( Reign of \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; ancestor)  - a wildcard with a \u0026lt;strong\u0026gt;lower bound\u0026lt;/strong\u0026gt;. \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; is the \u0026lt;strong\u0026gt;lower\u0026lt;/strong\u0026gt;-most class in the inheritance hierarchy. Use a \u0026lt;code\u0026gt;super\u0026lt;/code\u0026gt; wildcard when you only \u0026lt;strong\u0026gt;Put\u0026lt;/strong\u0026gt; values into a structure.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;Note: wildcard \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; means \u0026lt;strong\u0026gt;zero or one time\u0026lt;/strong\u0026gt;, represents an \u0026lt;strong\u0026gt;unknown type\u0026lt;/strong\u0026gt;. The wildcard can be used as the type of a parameter, never used as a type argument for a generic method invocation, a generic class instance creation.(i.e. when used wildcard that reference not used in elsewhere in program like we use \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt;)\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/ki1Kf.jpg\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/ki1Kf.jpg\u0026quot; alt=\u0026quot;enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; java.util.ArrayList;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; java.util.List;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Shape\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;draw\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {}}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Circle\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Shape\u0026lt;/span\u0026gt; {\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;draw\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {}}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Square\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Shape\u0026lt;/span\u0026gt; {\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;draw\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {}}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Rectangle\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Shape\u0026lt;/span\u0026gt; {\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;draw\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {}}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Test\u0026lt;/span\u0026gt; {\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(String[] args)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//? extends Shape i.e. can use any sub type of Shape, here Shape is Upper Bound in inheritance hierarchy\u0026lt;/span\u0026gt;\n        List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Shape\u0026lt;/span\u0026gt;\u0026amp;gt; intList5 = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;Shape\u0026amp;gt;();\n        List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Shape\u0026lt;/span\u0026gt;\u0026amp;gt; intList6 = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;Cricle\u0026amp;gt;();\n        List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Shape\u0026lt;/span\u0026gt;\u0026amp;gt; intList7 = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;Rectangle\u0026amp;gt;();\n        List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Shape\u0026lt;/span\u0026gt;\u0026amp;gt; intList9 = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;Object\u0026amp;gt;();\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//ERROR.\u0026lt;/span\u0026gt;\n\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//? super Shape i.e. can use any super type of Shape, here Shape is Lower Bound in inheritance hierarchy\u0026lt;/span\u0026gt;\n        List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt; Shape\u0026amp;gt; inList5 = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;Shape\u0026amp;gt;();\n        List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt; Shape\u0026amp;gt; inList6 = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;Object\u0026amp;gt;();\n        List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt; Shape\u0026amp;gt; inList7 = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;Circle\u0026amp;gt;(); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//ERROR.\u0026lt;/span\u0026gt;\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//-----------------------------------------------------------\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Circle\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;circle\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Circle\u0026lt;/span\u0026gt;();\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Shape\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;shape\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; circle; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// OK. Circle IS-A Shape\u0026lt;/span\u0026gt;\n\n        List\u0026amp;lt;Circle\u0026amp;gt; circles = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;gt;();\n        List\u0026amp;lt;Shape\u0026amp;gt; shapes = circles; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ERROR. List\u0026amp;lt;Circle\u0026amp;gt; is not subtype of List\u0026amp;lt;Shape\u0026amp;gt; even when Circle IS-A Shape\u0026lt;/span\u0026gt;\n\n        List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Circle\u0026lt;/span\u0026gt;\u0026amp;gt; circles2 = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;gt;();\n        List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Shape\u0026lt;/span\u0026gt;\u0026amp;gt; shapes2 = circles2; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// OK. List\u0026amp;lt;? extends Circle\u0026amp;gt; is subtype of List\u0026amp;lt;? extends Shape\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//-----------------------------------------------------------\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Shape\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;shape2\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Shape\u0026lt;/span\u0026gt;();\n        Circle circle2= (Circle) shape2; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// OK. with type casting\u0026lt;/span\u0026gt;\n\n        List\u0026amp;lt;Shape\u0026amp;gt; shapes3 = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;gt;();\n        List\u0026amp;lt;Circle\u0026amp;gt; circles3 = shapes3; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//ERROR. List\u0026amp;lt;Circle\u0026amp;gt; is not subtype of  List\u0026amp;lt;Shape\u0026amp;gt; even Circle is subetype of Shape\u0026lt;/span\u0026gt;\n\n        List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt; Shape\u0026amp;gt; shapes4 = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;gt;();\n        List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt; Circle\u0026amp;gt; circles4 = shapes4; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//OK.\u0026lt;/span\u0026gt;\n    }\n\n    \n    \n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/*\n     * Example for an upper bound wildcard (Get values i.e Producer `extends`)\n     *\n     * */\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;testCoVariance\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(List\u0026amp;lt;? extends Shape\u0026amp;gt; list)\u0026lt;/span\u0026gt; {\n        list.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt;());\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//ERROR\u0026lt;/span\u0026gt;\n        list.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Shape\u0026lt;/span\u0026gt;()); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//ERROR\u0026lt;/span\u0026gt;\n        list.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Circle\u0026lt;/span\u0026gt;()); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ERROR\u0026lt;/span\u0026gt;\n        list.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Square\u0026lt;/span\u0026gt;()); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ERROR\u0026lt;/span\u0026gt;\n        list.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Rectangle\u0026lt;/span\u0026gt;()); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ERROR\u0026lt;/span\u0026gt;\n        Shape shape= list.get(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//OK so list act as produces only\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/*\n     * You can\u0026apos;t add a Shape,Circle,Square,Rectangle to a List\u0026amp;lt;? extends Shape\u0026amp;gt;\n     * You can get an object and know that it will be an Shape\n     */\u0026lt;/span\u0026gt;\n    }\n    \n    \n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/*\n     * Example for  a lower bound wildcard (Put values i.e Consumer`super`)\n     * */\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;testContraVariance\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt; Shape\u0026amp;gt; list)\u0026lt;/span\u0026gt; {\n        list.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt;());\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//ERROR\u0026lt;/span\u0026gt;\n        list.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Shape\u0026lt;/span\u0026gt;());\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//OK\u0026lt;/span\u0026gt;\n        list.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Circle\u0026lt;/span\u0026gt;());\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//OK\u0026lt;/span\u0026gt;\n        list.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Square\u0026lt;/span\u0026gt;());\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//OK\u0026lt;/span\u0026gt;\n        list.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Rectangle\u0026lt;/span\u0026gt;());\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//OK\u0026lt;/span\u0026gt;\n        Shape shape= list.get(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ERROR. Type mismatch, so list acts only as consumer\u0026lt;/span\u0026gt;\n        Object object= list.get(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//OK gets an object, but we don\u0026apos;t know what kind of Object it is.\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/*\n         * You can add a Shape,Circle,Square,Rectangle to a List\u0026amp;lt;? super Shape\u0026amp;gt;\n         * You can\u0026apos;t get an Shape(but can get Object) and don\u0026apos;t know what kind of Shape it is.\n         */\u0026lt;/span\u0026gt;\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeArguments.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;generics\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;http://www.codejava.net/java-core/collections/generics-with-extends-and-super-wildcards-and-the-get-and-put-principle\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;examples\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://www.infoworld.com/article/3172592/type-dependency-in-java-part-1.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Covariance and contravariance\u0026lt;/a\u0026gt; determine compatibility based on types. In either case, variance is a directed relation. Covariance can be translated as \u0026quot;\u0026lt;strong\u0026gt;different in the same direction\u0026lt;/strong\u0026gt;,\u0026quot; or with-different, whereas contravariance means \u0026quot;\u0026lt;strong\u0026gt;different in the opposite direction\u0026lt;/strong\u0026gt;,\u0026quot; or against-different. Covariant and contravariant types are not the same, but there is a correlation between them. The names imply the direction of the correlation.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/54576828/1697099\u0026quot;\u0026gt;https://stackoverflow.com/a/54576828/1697099\u0026lt;/a\u0026gt;\u0026lt;br\u0026gt;\n\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/64888058/1697099\u0026quot;\u0026gt;https://stackoverflow.com/a/64888058/1697099\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Covariance: accept subtypes (read only i.e. Producer)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Contravariance: accept supertypes (write only i.e. Consumer)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Test\u0026lt;/span\u0026gt; {\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; {}\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; {}\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;C\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt; {}\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;testCoVariance\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(List\u0026amp;lt;? extends B\u0026amp;gt; myBlist)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;();\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;C\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;c\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;C\u0026lt;/span\u0026gt;();\n        myBlist.add(b); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// does not compile\u0026lt;/span\u0026gt;\n        myBlist.add(c); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// does not compile\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; myBlist.get(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;); \n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;testContraVariance\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt; B\u0026amp;gt; myBlist)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;();\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;C\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;c\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;C\u0026lt;/span\u0026gt;();\n        myBlist.add(b);\n        myBlist.add(c);\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; myBlist.get(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// does not compile\u0026lt;/span\u0026gt;\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In a nutshell, three easy rules to remember PECS: \u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Use the \u0026lt;code\u0026gt;\u0026amp;lt;? extends T\u0026amp;gt;\u0026lt;/code\u0026gt; wildcard if you need to retrieve object of\ntype \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; from a collection.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Use the \u0026lt;code\u0026gt;\u0026amp;lt;? super T\u0026amp;gt;\u0026lt;/code\u0026gt; wildcard if you need to put objects of type \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; in\na collection.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If you need to satisfy both things, well, dont use any wildcard. As\nsimple as that.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;As I explain in \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/2248390/java-generics-collections-max-signature-and-comparator/2248503#2248503\u0026quot;\u0026gt;my answer\u0026lt;/a\u0026gt; to another question, PECS is a mnemonic device  created by Josh Bloch to help remember \u0026lt;strong\u0026gt;P\u0026lt;/strong\u0026gt;roducer \u0026lt;code\u0026gt;\u0026lt;strong\u0026gt;e\u0026lt;/strong\u0026gt;xtends\u0026lt;/code\u0026gt;, \u0026lt;strong\u0026gt;C\u0026lt;/strong\u0026gt;onsumer \u0026lt;code\u0026gt;\u0026lt;strong\u0026gt;s\u0026lt;/strong\u0026gt;uper\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;This means that when a parameterized type being passed to a method will \u0026lt;em\u0026gt;produce\u0026lt;/em\u0026gt; instances of \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; (they will be retrieved from it in some way), \u0026lt;code\u0026gt;? extends T\u0026lt;/code\u0026gt; should be used, since any instance of a subclass of \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; is also a \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;When a parameterized type being passed to a method will \u0026lt;em\u0026gt;consume\u0026lt;/em\u0026gt; instances of \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; (they will be passed to it to do something), \u0026lt;code\u0026gt;? super T\u0026lt;/code\u0026gt; should be used because an instance of \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; can legally be passed to any method that accepts some supertype of \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt;. A \u0026lt;code\u0026gt;Comparator\u0026amp;lt;Number\u0026amp;gt;\u0026lt;/code\u0026gt; could be used on a \u0026lt;code\u0026gt;Collection\u0026amp;lt;Integer\u0026amp;gt;\u0026lt;/code\u0026gt;, for example. \u0026lt;code\u0026gt;? extends T\u0026lt;/code\u0026gt; would not work, because a \u0026lt;code\u0026gt;Comparator\u0026amp;lt;Integer\u0026amp;gt;\u0026lt;/code\u0026gt; could not operate on a \u0026lt;code\u0026gt;Collection\u0026amp;lt;Number\u0026amp;gt;\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;Note that generally you should only be using \u0026lt;code\u0026gt;? extends T\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;? super T\u0026lt;/code\u0026gt; for the parameters of some method. Methods should just use \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; as the type parameter on a generic return type.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;let\u0026apos;s assume this hierarchy:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Creature\u0026lt;/span\u0026gt;{}\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// X\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Animal\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Creature\u0026lt;/span\u0026gt;{}\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Y\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Fish\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Animal\u0026lt;/span\u0026gt;{}\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Z\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Shark\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Fish\u0026lt;/span\u0026gt;{}\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// A\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HammerSkark\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Shark\u0026lt;/span\u0026gt;{}\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// B\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DeadHammerShark\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HammerSkark\u0026lt;/span\u0026gt;{}\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// C\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Let\u0026apos;s clarify PE - Producer Extends:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Shark\u0026lt;/span\u0026gt;\u0026amp;gt; sharks = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Why you cannot add objects that extend \u0026quot;Shark\u0026quot; in this list? like:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;sharks.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HammerShark\u0026lt;/span\u0026gt;());\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//will result in compilation error\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Since you have a list that can be of type A, B or C \u0026lt;strong\u0026gt;at runtime\u0026lt;/strong\u0026gt;, you cannot add any object of type A, B or C in it because you can end up with a combination that is not allowed in java. \u0026lt;br\u0026gt;In practice, the compiler can indeed see at compiletime that you add a B:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;sharks.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HammerShark\u0026lt;/span\u0026gt;());\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;...but it has no way to tell if at runtime, your B will be a subtype or supertype of the list type. At runtime the list type can be any of the types A, B, C. So you cannot end up adding HammerSkark (super type) in a list of DeadHammerShark for example.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;*You will say: \u0026quot;OK, but why can\u0026apos;t I add HammerSkark in it since it is the smallest type?\u0026quot;. \nAnswer: It is the smallest \u0026lt;strong\u0026gt;you\u0026lt;/strong\u0026gt; know. But HammerSkark can be extended too by somebody else and you end up in the same scenario.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Let\u0026apos;s clarify CS - Consumer Super:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In the same hierarchy we can try this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt; Shark\u0026amp;gt; sharks = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;What and why you \u0026lt;strong\u0026gt;can\u0026lt;/strong\u0026gt; add to this list?\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;sharks.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Shark\u0026lt;/span\u0026gt;());\nsharks.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DeadHammerShark\u0026lt;/span\u0026gt;());\nsharks.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HammerSkark\u0026lt;/span\u0026gt;());\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You can add the above types of objects because anything below shark(A,B,C) will always be subtypes of anything above shark (X,Y,Z). Easy to understand. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You \u0026lt;strong\u0026gt;cannot\u0026lt;/strong\u0026gt; add types above Shark, because \u0026lt;strong\u0026gt;at runtime\u0026lt;/strong\u0026gt; the type of added object can be higher in hierarchy than the declared type of the list(X,Y,Z). This is not allowed.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;But why you cannot read from this list?\n(I mean you can get an element out of it, but you cannot assign it to anything other than Object o):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;Object o;\no = sharks.get(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;);\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// only assignment that works\u0026lt;/span\u0026gt;\n\nAnimal s;\ns = sharks.get(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;);\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//doen\u0026apos;t work\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;At runtime, the type of list can be any type above A: X, Y, Z, ...\nThe compiler can compile your assignment statement (which seems correct) but, \u0026lt;strong\u0026gt;at runtime\u0026lt;/strong\u0026gt; the type of s (Animal) can be lower in hierarchy than the declared type of the list(which could be Creature, or higher). This is not allowed.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;To sum up\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;We use \u0026lt;code\u0026gt;\u0026amp;lt;? super T\u0026amp;gt;\u0026lt;/code\u0026gt; to add objects of types equal or below \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; to the \u0026lt;code\u0026gt;List\u0026lt;/code\u0026gt;.\u0026lt;/strong\u0026gt; We cannot read from \nit.\u0026lt;br\u0026gt;\n\u0026lt;strong\u0026gt;We use \u0026lt;code\u0026gt;\u0026amp;lt;? extends T\u0026amp;gt;\u0026lt;/code\u0026gt; to read objects of types equal or below \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; from list.\u0026lt;/strong\u0026gt; We cannot add element to it.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This is the clearest, simplest way for me think of extends vs. super:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;extends\u0026lt;/code\u0026gt; is for \u0026lt;strong\u0026gt;reading\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;super\u0026lt;/code\u0026gt; is for \u0026lt;strong\u0026gt;writing\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;I find \u0026quot;PECS\u0026quot; to be a non-obvious way to think of things regarding who is the \u0026quot;producer\u0026quot; and who is the \u0026quot;consumer\u0026quot;. \u0026quot;PECS\u0026quot; is defined from the perspective of the \u0026lt;em\u0026gt;data collection itself\u0026lt;/em\u0026gt;  the collection \u0026quot;consumes\u0026quot; if objects are being written \u0026lt;em\u0026gt;to\u0026lt;/em\u0026gt; it (it is consuming objects from calling code), and it \u0026quot;produces\u0026quot; if objects are being read \u0026lt;em\u0026gt;from\u0026lt;/em\u0026gt; it (it is producing objects to some calling code). This is counter to how everything else is named though. Standard Java APIs are named from the perspective of the calling code, not the collection itself. For example, a collection-centric view of \u0026lt;a href=\u0026quot;https://docs.oracle.com/javase/9/docs/api/java/util/List.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;java.util.List\u0026lt;/a\u0026gt; should have a method named \u0026quot;receive()\u0026quot; instead of \u0026quot;add()\u0026quot;  after all, the calling code \u0026lt;em\u0026gt;adds\u0026lt;/em\u0026gt; the element, but the list itself \u0026lt;em\u0026gt;receives\u0026lt;/em\u0026gt; the element.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I think it\u0026apos;s more intuitive, natural and consistent to think of things from the perspective of the code that interacts with the collection  does the code \u0026quot;read from\u0026quot; or \u0026quot;write to\u0026quot; the collection? Following that, any code \u0026lt;em\u0026gt;writing to\u0026lt;/em\u0026gt; the collection would be the \u0026quot;producer\u0026quot;, and any code \u0026lt;em\u0026gt;reading from\u0026lt;/em\u0026gt; the collection would be the \u0026quot;consumer\u0026quot;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;lets try visualizing this concept.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;\u0026amp;lt;? super SomeType\u0026amp;gt;\u0026lt;/code\u0026gt; is an undefined(yet) type, but that undefined type \u0026lt;strong\u0026gt;should be a super\u0026lt;/strong\u0026gt;class of the SomeType class.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The same goes for \u0026lt;code\u0026gt;\u0026amp;lt;? extends SomeType\u0026amp;gt;\u0026lt;/code\u0026gt;. Its a type that \u0026lt;strong\u0026gt;should extend\u0026lt;/strong\u0026gt; the SomeType class (it should be a child class of the SomeType class).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If we consider the concept of \u0026apos;class inheritance\u0026apos; in a Venn diagram, an example would be like this:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/rneiP.png\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/rneiP.png\u0026quot; alt=\u0026quot;enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Mammal class \u0026lt;strong\u0026gt;extends\u0026lt;/strong\u0026gt; Animal class (Animal class is a \u0026lt;strong\u0026gt;super\u0026lt;/strong\u0026gt;class of Mammal class).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Cat/Dog class \u0026lt;strong\u0026gt;extends\u0026lt;/strong\u0026gt; Mammal class (Mammal class is a \u0026lt;strong\u0026gt;super\u0026lt;/strong\u0026gt;class of Cat/Dog class).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Then, lets think about the circles in the above diagram as a box that has a physical volume.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/mpxnl.png\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/mpxnl.png\u0026quot; alt=\u0026quot;enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You CANT put a bigger box into a smaller one.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You can ONLY put a smaller box into a bigger one.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;When you say \u0026lt;code\u0026gt;\u0026amp;lt;? super SomeType\u0026amp;gt;\u0026lt;/code\u0026gt;, you wanna describe a box that is the same size or \u0026lt;strong\u0026gt;bigger\u0026lt;/strong\u0026gt; than the SomeType box.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If you say \u0026lt;code\u0026gt;\u0026amp;lt;? extends SomeType\u0026amp;gt;\u0026lt;/code\u0026gt;, then you wanna describe a box that is the same size or \u0026lt;strong\u0026gt;smaller\u0026lt;/strong\u0026gt; than the SomeType box.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;so what is PECS anyway?\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;An example of a Producer is a List which we only read from.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;An example of a Consumer is a List which we only write into.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Just keep in mind this:\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;We read from a producer, and take that stuff into our own box.\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;And we write our own box into a consumer.\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;So, we need to read(take) something from a producer \u0026lt;strong\u0026gt;and put that into our box.\u0026lt;/strong\u0026gt; This means that any boxes taken from the producer should \u0026lt;strong\u0026gt;NOT\u0026lt;/strong\u0026gt; be bigger than our box. Thats why \u0026lt;strong\u0026gt;P\u0026lt;/strong\u0026gt;roducer \u0026lt;strong\u0026gt;E\u0026lt;/strong\u0026gt;xtends.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Extends means a smaller box\u0026lt;/strong\u0026gt;(smaller circle in the Venn diagram above). The boxes of a producer should be smaller than our own box, because we are gonna take those boxes from the producer and put them into our own box. We cant put anything bigger than our box!\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Also, we need to write(put) \u0026lt;strong\u0026gt;our own box into\u0026lt;/strong\u0026gt; a consumer. This means that the boxes of the consumer should \u0026lt;strong\u0026gt;NOT\u0026lt;/strong\u0026gt; be smaller than our own box. Thats why \u0026lt;strong\u0026gt;C\u0026lt;/strong\u0026gt;onsumer \u0026lt;strong\u0026gt;S\u0026lt;/strong\u0026gt;uper.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Super means a bigger box\u0026lt;/strong\u0026gt;(bigger circle in the Venn diagram above). If we want to put our own boxes into a consumer, the boxes of the consumer should be bigger than our box!\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Now we can easily understand this example:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Collections\u0026lt;/span\u0026gt; { \n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026amp;lt;T\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;copy\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt; T\u0026amp;gt; dest, List\u0026amp;lt;? extends T\u0026amp;gt; src)\u0026lt;/span\u0026gt; {\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;i\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; src.size(); i++) \n        dest.set(i, src.get(i)); \n  } \n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;In the above example, we want to read(take) something from \u0026lt;code\u0026gt;src\u0026lt;/code\u0026gt; and write(put) them into \u0026lt;code\u0026gt;dest\u0026lt;/code\u0026gt;. So the \u0026lt;code\u0026gt;src\u0026lt;/code\u0026gt; is a Producer and its boxes should be smaller(more specific) than some type \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Vice versa, the \u0026lt;code\u0026gt;dest\u0026lt;/code\u0026gt; is a Consumer and its boxes should be bigger(more general) than some type \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If the boxes of the \u0026lt;code\u0026gt;src\u0026lt;/code\u0026gt; were bigger than that of the \u0026lt;code\u0026gt;dest\u0026lt;/code\u0026gt;, we couldnt put those big boxes into the smaller boxes the \u0026lt;code\u0026gt;dest\u0026lt;/code\u0026gt; has.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If anyone reads this, I hope it helps you better understand\n\u0026lt;strong\u0026gt;P\u0026lt;/strong\u0026gt;roducer \u0026lt;strong\u0026gt;E\u0026lt;/strong\u0026gt;xtends, \u0026lt;strong\u0026gt;C\u0026lt;/strong\u0026gt;onsumer \u0026lt;strong\u0026gt;S\u0026lt;/strong\u0026gt;uper.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Happy coding! :)\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;(adding an answer because never enough examples with Generics wildcards)\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;       \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Source \u0026lt;/span\u0026gt;\n       List\u0026amp;lt;Integer\u0026amp;gt; intList = Arrays.asList(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;);\n       List\u0026amp;lt;Double\u0026amp;gt; doubleList = Arrays.asList(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.78\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3.14\u0026lt;/span\u0026gt;);\n       List\u0026amp;lt;Number\u0026amp;gt; numList = Arrays.asList(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.78\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3.14\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;);\n\n       \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Destination\u0026lt;/span\u0026gt;\n       List\u0026amp;lt;Integer\u0026amp;gt; intList2 = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;gt;();\n       List\u0026amp;lt;Double\u0026amp;gt; doublesList2 = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;gt;();\n       List\u0026amp;lt;Number\u0026amp;gt; numList2 = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;gt;();\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Works\u0026lt;/span\u0026gt;\n        copyElements1(intList,intList2);         \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// from int to int\u0026lt;/span\u0026gt;\n        copyElements1(doubleList,doublesList2);  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// from double to double\u0026lt;/span\u0026gt;\n\n\n     \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026amp;lt;T\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;copyElements1\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Collection\u0026amp;lt;T\u0026amp;gt; src, Collection\u0026amp;lt;T\u0026amp;gt; dest)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt;(T n : src){\n            dest.add(n);\n         }\n      }\n\n\n     \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Let\u0026apos;s try to copy intList to its supertype\u0026lt;/span\u0026gt;\n     copyElements1(intList,numList2); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// error, method signature just says \u0026quot;T\u0026quot;\u0026lt;/span\u0026gt;\n                                      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// and here the compiler is given \u0026lt;/span\u0026gt;\n                                      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// two types: Integer and Number, \u0026lt;/span\u0026gt;\n                                      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// so which one shall it be?\u0026lt;/span\u0026gt;\n\n     \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// PECS to the rescue!\u0026lt;/span\u0026gt;\n     copyElements2(intList,numList2);  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// possible\u0026lt;/span\u0026gt;\n\n\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// copy Integer (? extends T) to its supertype (Number is super of Integer)\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026amp;lt;T\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;copyElements2\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Collection\u0026amp;lt;? extends T\u0026amp;gt; src, \n                                          Collection\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt; T\u0026amp;gt; dest)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt;(T n : src){\n            dest.add(n);\n        }\n    }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The PECS \u0026quot;rule\u0026quot; just ensures that the following is legal:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Consumer: whatever \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; is, it can legally \u0026lt;em\u0026gt;refer to\u0026lt;/em\u0026gt; \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Producer: whatever \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; is, it can legally be \u0026lt;em\u0026gt;referred to by\u0026lt;/em\u0026gt; \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;The typical pairing along the lines of \u0026lt;code\u0026gt;List\u0026amp;lt;? extends T\u0026amp;gt; producer, List\u0026amp;lt;? super T\u0026amp;gt; consumer\u0026lt;/code\u0026gt; is simply ensuring that the compiler can enforce the standard \u0026quot;IS-A\u0026quot; inheritance relationship rules. If we could do so legally, it might be simpler to say \u0026lt;code\u0026gt;\u0026amp;lt;T extends ?\u0026amp;gt;, \u0026amp;lt;? extends T\u0026amp;gt;\u0026lt;/code\u0026gt; (or better yet in Scala, as you can see above, it\u0026apos;s \u0026lt;code\u0026gt;[-T], [+T]\u0026lt;/code\u0026gt;. Unfortunately the best we can do is \u0026lt;code\u0026gt;\u0026amp;lt;? super T\u0026amp;gt;, \u0026amp;lt;? extends T\u0026amp;gt;\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;When I first encountered this and broke it down in my head the mechanics made sense but the code itself continued to look confusing to me - I kept thinking \u0026quot;it seems like the bounds shouldn\u0026apos;t need to be inverted like that\u0026quot; - even though I was clear on the above - that it\u0026apos;s simply about guaranteeing compliance with the standard rules of reference.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;What helped me was looking at it using ordinary assignment as an analogy. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Consider the following (not production ready) toy code:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// copies the elements of \u0026apos;producer\u0026apos; into \u0026apos;consumer\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026amp;lt;T\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;copy\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(List\u0026amp;lt;? extends T\u0026amp;gt; producer, List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt; T\u0026amp;gt; consumer)\u0026lt;/span\u0026gt; {\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt;(T t : producer)\n       consumer.add(t);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Illustrating this in terms of the assignment analogy, for \u0026lt;code\u0026gt;consumer\u0026lt;/code\u0026gt; the \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; wildcard (unknown type) is the reference - the \u0026quot;left hand side\u0026quot; of the assignment - and \u0026lt;code\u0026gt;\u0026amp;lt;? super T\u0026amp;gt;\u0026lt;/code\u0026gt; ensures that whatever \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; is, \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; \u0026quot;IS-A\u0026quot; \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; - that \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; can be assigned to it, because \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; is a super type (or at most the same type) as \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For \u0026lt;code\u0026gt;producer\u0026lt;/code\u0026gt; the concern is the same it\u0026apos;s just inverted: \u0026lt;code\u0026gt;producer\u0026lt;/code\u0026gt;\u0026apos;s \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; wildcard (unknown type) is the \u0026lt;em\u0026gt;referent\u0026lt;/em\u0026gt; - the \u0026quot;right hand side\u0026quot; of the assignment - and \u0026lt;code\u0026gt;\u0026amp;lt;? extends T\u0026amp;gt;\u0026lt;/code\u0026gt; ensures that whatever \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; is, \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; \u0026quot;IS-A\u0026quot; \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; - that \u0026lt;em\u0026gt;it\u0026lt;/em\u0026gt; can be assigned \u0026lt;em\u0026gt;to a \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt;\u0026lt;/em\u0026gt;, because \u0026lt;code\u0026gt;?\u0026lt;/code\u0026gt; is a sub type (or at least the same type) as \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt;. \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Covariance\u0026lt;/strong\u0026gt;: accept subtypes\u0026lt;br\u0026gt;\n\u0026lt;strong\u0026gt;Contravariance\u0026lt;/strong\u0026gt;: accept supertypes\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Covariant types are read-only, while contravariant types are write-only.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Remember this: \u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Consumer eat \u0026lt;strong\u0026gt;supper\u0026lt;/strong\u0026gt;(super); Producer \u0026lt;strong\u0026gt;extends\u0026lt;/strong\u0026gt; his parent\u0026apos;s factory\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/62752867/4770877\u0026quot;\u0026gt;[Covariance and contravariance]\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Lets take a look at example\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; { }\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//B is A\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; { }\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//C is A\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;C\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; { }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Generics allows you to work with Types dynamically in a safe way\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//ListA\u0026lt;/span\u0026gt;\nList\u0026amp;lt;A\u0026amp;gt; listA = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;A\u0026amp;gt;();\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//add\u0026lt;/span\u0026gt;\nlistA.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;());\nlistA.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;());\nlistA.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;C\u0026lt;/span\u0026gt;());\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//get\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;a0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; listA.get(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;a1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; listA.get(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;a2\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; listA.get(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//ListB\u0026lt;/span\u0026gt;\nList\u0026amp;lt;B\u0026amp;gt; listB = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;B\u0026amp;gt;();\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//add\u0026lt;/span\u0026gt;\nlistB.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;());\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//get\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;b0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; listB.get(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/D4RwI.png\u0026quot; height=\u0026quot;150\u0026quot;\u0026gt;\n\u0026lt;h2\u0026gt;Problem\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;Since Java\u0026apos;s Collection is a reference type as a result we have next issues:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Problem #1\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//not compiled\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//danger of **adding** non-B objects using listA reference\u0026lt;/span\u0026gt;\nlistA = listB;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/WyHs7.png\u0026quot; height=\u0026quot;150\u0026quot;\u0026gt;\n\u0026lt;p\u0026gt;*Swift\u0026apos;s generic does not have such problem because Collection is \u0026lt;code\u0026gt;Value type\u0026lt;/code\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/59219141/4770877\u0026quot;\u0026gt;\u0026lt;sup\u0026gt;[About]\u0026lt;/sup\u0026gt;\u0026lt;/a\u0026gt; therefore a new collection is created\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Problem #2\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//not compiled\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//danger of **getting** non-B objects using listB reference\u0026lt;/span\u0026gt;\nlistB = listA;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/nTEXJ.png\u0026quot; height=\u0026quot;150\u0026quot;\u0026gt;\n\u0026lt;h2\u0026gt;The solution - Generic Wildcards\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;Wildcard is a reference type feature and it can not be instantiated directly\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Solution #1\u0026lt;/strong\u0026gt;\n\u0026lt;code\u0026gt;\u0026amp;lt;? super A\u0026amp;gt;\u0026lt;/code\u0026gt; aka lower bound aka contravariance aka consumers guarantees that it is operates by A and all superclasses, that is why it is safe to \u0026lt;strong\u0026gt;add\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt; A\u0026amp;gt; listSuperA;\nlistSuperA = listA;\nlistSuperA = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;Object\u0026amp;gt;();\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//add\u0026lt;/span\u0026gt;\nlistSuperA.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;());\nlistSuperA.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;());\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//get\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;o0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; listSuperA.get(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/jtcBs.png\u0026quot; height=\u0026quot;150\u0026quot;\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Solution #2\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;\u0026amp;lt;? extends A\u0026amp;gt;\u0026lt;/code\u0026gt; aka upper bound aka covariance aka producers guarantees that it is operates by A and all subclasses, that is why it is safe to \u0026lt;strong\u0026gt;get\u0026lt;/strong\u0026gt; and cast\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;\u0026amp;gt; listExtendsA;\nlistExtendsA = listA;\nlistExtendsA = listB;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//get\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;a0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; listExtendsA.get(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/Y33aY.png\u0026quot; height=\u0026quot;150\u0026quot;\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Using real life example (with some simplifications):\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Imagine a freight train with freight cars as analogy to a list.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;You can \u0026lt;strong\u0026gt;put\u0026lt;/strong\u0026gt; a cargo in a freight car if the cargo has \u0026lt;strong\u0026gt;the same or smaller size\u0026lt;/strong\u0026gt; than the freight car = \u0026lt;code\u0026gt;\u0026amp;lt;? super FreightCarSize\u0026amp;gt;\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;You can \u0026lt;strong\u0026gt;unload\u0026lt;/strong\u0026gt; a cargo from a freight car if you have \u0026lt;strong\u0026gt;enough place\u0026lt;/strong\u0026gt; (more than the size of the cargo) in your depot = \u0026lt;code\u0026gt;\u0026amp;lt;? extends DepotSize\u0026amp;gt;\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;PECS: Producer extends and Consumer super\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;Prerequisites for understanding:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Generics and generic wildcards\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Polymorphism, Subtyping and Supertyping\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;Lets say we have a type which takes a generic type parameter T, for example \u0026lt;code\u0026gt;List\u0026amp;lt;T\u0026amp;gt;\u0026lt;/code\u0026gt;. When we write code it can be potentially beneficial to also allow subtypes or supertypes of our generic type parameter T. This relaxes the restraints for the user of the API and can make the code more flexible.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Let first see what we gain relaxing these restrictions. Lets say we have the following 3 classes:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;BaseAnimal\u0026lt;/span\u0026gt;{};\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Animal\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;BaseAnimal\u0026lt;/span\u0026gt;{};\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Duck\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Animal\u0026lt;/span\u0026gt;{};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;and we are building a public method which takes a \u0026lt;code\u0026gt;list\u0026amp;lt;Animal\u0026amp;gt;\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;If we use a super \u0026lt;code\u0026gt;List\u0026amp;lt;? super Animal\u0026amp;gt;\u0026lt;/code\u0026gt; instead of \u0026lt;code\u0026gt;List\u0026amp;lt;Animal\u0026amp;gt;\u0026lt;/code\u0026gt; we now can pass in more lists to satisfy the requirement of our method. We now can pass in either \u0026lt;code\u0026gt;List\u0026amp;lt;Animal\u0026amp;gt;\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;List\u0026amp;lt;BaseAnimal\u0026amp;gt;\u0026lt;/code\u0026gt; even \u0026lt;code\u0026gt;List\u0026amp;lt;Object\u0026amp;gt;\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If we use an extends \u0026lt;code\u0026gt;List\u0026amp;lt;? extends Animal\u0026amp;gt;\u0026lt;/code\u0026gt; instead of \u0026lt;code\u0026gt;List\u0026amp;lt;Animal\u0026amp;gt;\u0026lt;/code\u0026gt; we now can pass in more lists to satisfy the requirement of our method. We now can pass in either \u0026lt;code\u0026gt;List\u0026amp;lt;Animal\u0026amp;gt;\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;List\u0026amp;lt;Duck\u0026amp;gt;\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;However this poses the following 2 restrictions:\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;If we use a super type like \u0026lt;code\u0026gt;List\u0026amp;lt;? super Animal\u0026amp;gt;\u0026lt;/code\u0026gt; we don\u0026apos;t know the exact type of \u0026lt;code\u0026gt;List\u0026amp;lt;T\u0026amp;gt;\u0026lt;/code\u0026gt; it will be. It could be either a list of \u0026lt;code\u0026gt;List\u0026amp;lt;Animal\u0026amp;gt;\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;List\u0026amp;lt;BaseAnimal\u0026amp;gt;\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;List\u0026amp;lt;Object\u0026amp;gt;\u0026lt;/code\u0026gt;. We have no way of knowing. This means we can never get a value out of this List because we do not know what the type will be. However we can put any data type which is \u0026lt;code\u0026gt;Animal\u0026lt;/code\u0026gt; or extends it into the \u0026lt;code\u0026gt;List\u0026lt;/code\u0026gt;. Because we can only put data into the  \u0026lt;code\u0026gt;List\u0026lt;/code\u0026gt; it is called a \u0026lt;strong\u0026gt;consumer\u0026lt;/strong\u0026gt; of data.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If we use an extends \u0026lt;code\u0026gt;List\u0026amp;lt;? extends Animal\u0026amp;gt;\u0026lt;/code\u0026gt; instead of \u0026lt;code\u0026gt;List\u0026amp;lt;Animal\u0026amp;gt;\u0026lt;/code\u0026gt;. We also don\u0026apos;t know what the exact type is. It can either be \u0026lt;code\u0026gt;List\u0026amp;lt;Animal\u0026amp;gt;\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;List\u0026amp;lt;Duck\u0026amp;gt;\u0026lt;/code\u0026gt;. We can\u0026apos;t add something to the \u0026lt;code\u0026gt;List\u0026lt;/code\u0026gt; now because we can never certainly know what the type is. However we can pull something out because we always know that anything which comes out of the list is a subtype of \u0026lt;code\u0026gt;Animal\u0026lt;/code\u0026gt;. Because we can only pull data out of the \u0026lt;code\u0026gt;List\u0026lt;/code\u0026gt; is it called a \u0026lt;strong\u0026gt;producer\u0026lt;/strong\u0026gt; of data.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;Here is a simple program to illustrate the relaxation of the type restrictions:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; java.util.ArrayList;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; java.util.List;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Generics\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(String[] args)\u0026lt;/span\u0026gt; {\n\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Generics\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;generics\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Generics\u0026lt;/span\u0026gt;();\n\n        generics.producerExtends(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;Duck\u0026amp;gt;());\n        generics.producerExtends(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;Animal\u0026amp;gt;());\n\n        generics.consumerSuper(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;Object\u0026amp;gt;());\n        generics.consumerSuper(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;Animal\u0026amp;gt;());\n\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//  ? extends T   is an upper bound\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;producerExtends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(List\u0026amp;lt;? extends Animal\u0026amp;gt; list)\u0026lt;/span\u0026gt; {\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Following are illegal since we never know exactly what type the list will be\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// list.add(new Duck());\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// list.add(new Animal());\u0026lt;/span\u0026gt;\n        \n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// We can read from it since we are always getting an Animal or subclass from it\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// However we can read them as an animal type, so this compiles fine\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (list.size() \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Animal\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;animal\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; list.get(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n        }\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ? extends T   is a lower bound\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;consumerSuper\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(List\u0026amp;lt;? \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt; Animal\u0026amp;gt; list)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// It will be either a list of Animal or a superclass of it\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Therefore we can add any type which extends animals\u0026lt;/span\u0026gt;\n        list.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Duck\u0026lt;/span\u0026gt;());\n        list.add(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Animal\u0026lt;/span\u0026gt;());\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Compiler won\u0026apos;t allow this it could potentially be a super type of Animal\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Animal animal = list.get(0);\u0026lt;/span\u0026gt;\n    }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":163,"title":"What is PECS (Producer Extends Consumer Super)?","content":"\n                \n\u0026lt;p\u0026gt;I came across PECS (short for \u0026lt;em\u0026gt;Producer \u0026lt;code\u0026gt;extends\u0026lt;/code\u0026gt; and Consumer \u0026lt;code\u0026gt;super\u0026lt;/code\u0026gt;\u0026lt;/em\u0026gt;) while reading up on generics. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Can someone explain to me how to use PECS to resolve confusion between \u0026lt;code\u0026gt;extends\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;super\u0026lt;/code\u0026gt;?\u0026lt;/p\u0026gt;\n    ","slug":"what-is-pecs-(producer-extends-consumer-super)-1657384828870","postType":"QUESTION","createdAt":"2022-07-09T16:40:28.000Z","updatedAt":"2022-07-09T16:40:28.000Z","tags":[{"id":598,"name":"bounded-wildcard","slug":"bounded-wildcard","createdAt":"2022-07-09T16:40:28.000Z","updatedAt":"2022-07-09T16:40:28.000Z","Questions_Tags":{"questionId":163,"tagId":598}},{"id":599,"name":"super","slug":"super","createdAt":"2022-07-09T16:40:28.000Z","updatedAt":"2022-07-09T16:40:28.000Z","Questions_Tags":{"questionId":163,"tagId":599}},{"id":600,"name":"pecs","slug":"pecs","createdAt":"2022-07-09T16:40:28.000Z","updatedAt":"2022-07-09T16:40:28.000Z","Questions_Tags":{"questionId":163,"tagId":600}}],"relatedQuestions":[{"title":"What is PECS (Producer Extends Consumer Super)?","slug":"what-is-pecs-(producer-extends-consumer-super)-1657384828870","tags":[{"name":"bounded-wildcard","Questions_Tags":{"questionId":163,"tagId":598}},{"name":"super","Questions_Tags":{"questionId":163,"tagId":599}},{"name":"pecs","Questions_Tags":{"questionId":163,"tagId":600}}]}]},"randomQuestions":[{"title":"How do I set a variable to the output of a command in Bash?","slug":"how-do-i-set-a-variable-to-the-output-of-a-command-in-bash-1657387250909"},{"title":"Which equals operator (== vs ===) should be used in JavaScript comparisons?","slug":"which-equals-operator-(-vs-)-should-be-used-in-javascript-comparisons-1657384663105"},{"title":"How can I sanitize user input with PHP?","slug":"how-can-i-sanitize-user-input-with-php-1657387892329"},{"title":"Importing files from different folder","slug":"importing-files-from-different-folder-1657388203798"},{"title":"How can I sort arrays and data in PHP?","slug":"how-can-i-sort-arrays-and-data-in-php-1657384726665"},{"title":"Why does std::getline() skip input after a formatted extraction?","slug":"why-does-std::getline()-skip-input-after-a-formatted-extraction-1657384756118"},{"title":"How can I transition height: 0; to height: auto; using CSS?","slug":"how-can-i-transition-height:-0-to-height:-auto-using-css-1657388022100"},{"title":"What does a \"Cannot find symbol\" or \"Cannot resolve symbol\" error mean?","slug":"what-does-a-\"cannot-find-symbol\"-or-\"cannot-resolve-symbol\"-error-mean-1657384492160"},{"title":"Understanding slicing","slug":"understanding-slicing-1657384397680"},{"title":"Unfortunately MyApp has stopped. How can I solve this?","slug":"unfortunately-myapp-has-stopped.-how-can-i-solve-this-1657384402171"},{"title":"How to reshape data from long to wide format","slug":"how-to-reshape-data-from-long-to-wide-format-1657384486421"},{"title":"Relative imports for the billionth time","slug":"relative-imports-for-the-billionth-time-1657387756383"},{"title":"Is Java \"pass-by-reference\" or \"pass-by-value\"?","slug":"is-java-\"pass-by-reference\"-or-\"pass-by-value\"-1657384319828"},{"title":"List of lists changes reflected across sublists unexpectedly","slug":"list-of-lists-changes-reflected-across-sublists-unexpectedly-1657384393720"},{"title":"PHP - Failed to open stream : No such file or directory","slug":"php-failed-to-open-stream-:-no-such-file-or-directory-1657387872896"},{"title":"Captured variable in a loop in C#","slug":"captured-variable-in-a-loop-in-c-1657387696779"},{"title":"Using LIMIT within GROUP BY to get N results per group?","slug":"using-limit-within-group-by-to-get-n-results-per-group-1657388324167"},{"title":"Sorting object property by values","slug":"sorting-object-property-by-values-1657388367300"},{"title":"How to replace all occurrences of a string in JavaScript","slug":"how-to-replace-all-occurrences-of-a-string-in-javascript-1657384895467"},{"title":"No 'Access-Control-Allow-Origin' header is present on the requested resource—when trying to get data from a REST API","slug":"no-'access-control-allow-origin'-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"what-is-pecs-(producer-extends-consumer-super)-1657384828870"},"buildId":"DSpI0pSdXueTMCIVyw0q4","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>