{"pageProps":{"data":{"count":1,"rows":[{"id":369,"title":"What is JSONP, and why was it created?","slug":"what-is-jsonp-and-why-was-it-created-1657387770563","postType":"QUESTION","createdAt":"2022-07-09T17:29:30.000Z","updatedAt":"2022-07-09T17:29:30.000Z","tags":[{"id":2038,"name":"terminology","slug":"terminology","createdAt":"2022-07-09T17:29:30.000Z","updatedAt":"2022-07-09T17:29:30.000Z","Questions_Tags":{"questionId":369,"tagId":2038}}]}]},"slug":"terminology","page":1,"answers":{"369":["\n&lt;p&gt;It&apos;s actually not too complicated...&lt;/p&gt;\n\n&lt;p&gt;Say you&apos;re on domain &lt;strong&gt;&lt;code&gt;example.com&lt;/code&gt;&lt;/strong&gt;, and you want to make a request to domain &lt;strong&gt;&lt;code&gt;example.net&lt;/code&gt;&lt;/strong&gt;. To do so, you need to &lt;strong&gt;cross domain&lt;/strong&gt; boundaries, a &lt;strong&gt;no-no&lt;/strong&gt; in most of browserland. &lt;/p&gt;\n\n&lt;p&gt;The one item that bypasses this limitation is &lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt; tags. When you use a script tag, the domain limitation is ignored, but under normal circumstances, you can&apos;t really &lt;strong&gt;do&lt;/strong&gt; anything with the results, the script just gets evaluated.&lt;/p&gt;\n\n&lt;p&gt;Enter &lt;strong&gt;&lt;code&gt;JSONP&lt;/code&gt;&lt;/strong&gt;. When you make your request to a server that is JSONP enabled, you pass a special parameter that tells the server a little bit about your page. That way, the server is able to nicely wrap up its response in a way that your page can handle. &lt;/p&gt;\n\n&lt;p&gt;For example, say the server expects a parameter called &lt;strong&gt;&lt;code&gt;callback&lt;/code&gt;&lt;/strong&gt; to enable its JSONP capabilities. Then your request would look like:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-none s-code-block&quot;&gt;&lt;code&gt;http://www.example.net/sample.aspx?callback=mycallback\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Without JSONP, this might return some basic JavaScript object, like so:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;{ &lt;span class=&quot;hljs-attr&quot;&gt;foo&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;bar&apos;&lt;/span&gt; }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;However, with JSONP, when the server receives the &quot;callback&quot; parameter, it wraps up the result a little differently, returning something like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;mycallback&lt;/span&gt;({ &lt;span class=&quot;hljs-attr&quot;&gt;foo&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;bar&apos;&lt;/span&gt; });\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;As you can see, it will now invoke the method you specified. So, in your page, you define the callback function:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;mycallback = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;){\n  &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(data.&lt;span class=&quot;hljs-property&quot;&gt;foo&lt;/span&gt;);\n};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And now, when the script is loaded, it&apos;ll be evaluated, and your function will be executed. Voila, cross-domain requests!&lt;/p&gt;\n\n&lt;p&gt;It&apos;s also worth noting the one major issue with JSONP: you lose a lot of control of the request. For example, there is no &quot;nice&quot; way to get proper failure codes back. As a result, you end up using timers to monitor the request, etc, which is always a bit suspect. The proposition for &lt;a href=&quot;http://www.json.org/JSONRequest.html&quot; rel=&quot;noreferrer&quot;&gt;JSONRequest&lt;/a&gt; is a great solution to allowing cross domain scripting, maintaining security, and allowing proper control of the request.&lt;/p&gt;\n\n&lt;p&gt;These days (2015), &lt;a href=&quot;http://en.wikipedia.org/wiki/Cross-origin_resource_sharing&quot; rel=&quot;noreferrer&quot;&gt;CORS&lt;/a&gt; is the recommended approach vs. JSONRequest. JSONP is still useful for older browser support, but given the security implications, unless you have no choice CORS is the better choice.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;JSONP&lt;/strong&gt; is really a simple trick to overcome the &lt;strong&gt;XMLHttpRequest&lt;/strong&gt; same domain policy. (As you know one cannot send &lt;strong&gt;AJAX (XMLHttpRequest)&lt;/strong&gt; request to a different domain.)&lt;/p&gt;\n\n&lt;p&gt;So - instead of using &lt;strong&gt;XMLHttpRequest&lt;/strong&gt; we have to use &lt;strong&gt;script&lt;/strong&gt; HTML tags, the ones you usually use to load js files, in order for js to get data from another domain. Sounds weird?&lt;/p&gt;\n\n&lt;p&gt;Thing is - turns out &lt;strong&gt;script&lt;/strong&gt; tags can be used in a fashion similar to &lt;strong&gt;XMLHttpRequest&lt;/strong&gt;! Check this out:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;script = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;createElement&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;script&apos;&lt;/span&gt;);\nscript.&lt;span class=&quot;hljs-property&quot;&gt;type&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;text/javascript&apos;&lt;/span&gt;;\nscript.&lt;span class=&quot;hljs-property&quot;&gt;src&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;http://www.someWebApiServer.com/some-data&apos;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You will end up with a &lt;strong&gt;script&lt;/strong&gt; segment that looks like this after it loads the data:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;script&amp;gt;\n{[&lt;span class=&quot;hljs-string&quot;&gt;&apos;some string 1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;some data&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;whatever data&apos;&lt;/span&gt;]}\n&amp;lt;/script&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;However this is a bit inconvenient, because we have to fetch this array from &lt;strong&gt;script&lt;/strong&gt; tag. So &lt;strong&gt;JSONP&lt;/strong&gt; creators decided that this will work better(and it is):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;script = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;createElement&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;script&apos;&lt;/span&gt;);\nscript.&lt;span class=&quot;hljs-property&quot;&gt;type&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;text/javascript&apos;&lt;/span&gt;;\nscript.&lt;span class=&quot;hljs-property&quot;&gt;src&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;http://www.someWebApiServer.com/some-data?callback=my_callback&apos;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Notice the &lt;strong&gt;my_callback&lt;/strong&gt; function over there? So - when &lt;strong&gt;JSONP&lt;/strong&gt; server receives your request and finds callback parameter - instead of returning plain js array it&apos;ll return this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;my_callback&lt;/span&gt;({[&lt;span class=&quot;hljs-string&quot;&gt;&apos;some string 1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;some data&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;whatever data&apos;&lt;/span&gt;]});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;See where the profit is:&lt;/strong&gt; now we get automatic callback (my_callback) that&apos;ll be triggered once we get the data.&lt;br&gt;\nThat&apos;s all there is to know about &lt;strong&gt;JSONP&lt;/strong&gt;: it&apos;s a callback and script tags.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;NOTE: these are simple examples of JSONP usage,  these are not production ready scripts.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Basic JavaScript example (simple Twitter feed using JSONP)&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;html&amp;gt;\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;twitterFeed&apos;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;myCallback&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;dataWeGotViaJsonp&lt;/span&gt;){\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; text = &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; len = dataWeGotViaJsonp.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;i&amp;lt;len;i++){\n                twitterEntry = dataWeGotViaJsonp[i];\n                text += &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;p&amp;gt;&amp;lt;img src = &quot;&apos;&lt;/span&gt; + twitterEntry.&lt;span class=&quot;hljs-property&quot;&gt;user&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;profile_image_url_https&lt;/span&gt; +&lt;span class=&quot;hljs-string&quot;&gt;&apos;&quot;/&amp;gt;&apos;&lt;/span&gt; + twitterEntry[&lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;] + &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;/p&amp;gt;&apos;&lt;/span&gt;\n            }\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;twitterFeed&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-property&quot;&gt;innerHTML&lt;/span&gt; = text;\n        }\n        &lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://twitter.com/status/user_timeline/padraicb.json?count=10&amp;amp;callback=myCallback&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Basic jQuery example (simple Twitter feed using JSONP)&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;html&amp;gt;\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n            $(&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;ready&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n                $.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({\n                    &lt;span class=&quot;hljs-attr&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;http://twitter.com/status/user_timeline/padraicb.json?count=10&apos;&lt;/span&gt;,\n                    &lt;span class=&quot;hljs-attr&quot;&gt;dataType&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;jsonp&apos;&lt;/span&gt;,\n                    &lt;span class=&quot;hljs-attr&quot;&gt;success&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;dataWeGotViaJsonp&lt;/span&gt;){\n                        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; text = &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;;\n                        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; len = dataWeGotViaJsonp.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;;\n                        &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;i&amp;lt;len;i++){\n                            twitterEntry = dataWeGotViaJsonp[i];\n                            text += &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;p&amp;gt;&amp;lt;img src = &quot;&apos;&lt;/span&gt; + twitterEntry.&lt;span class=&quot;hljs-property&quot;&gt;user&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;profile_image_url_https&lt;/span&gt; +&lt;span class=&quot;hljs-string&quot;&gt;&apos;&quot;/&amp;gt;&apos;&lt;/span&gt; + twitterEntry[&lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;] + &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;/p&amp;gt;&apos;&lt;/span&gt;\n                        }\n                        $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#twitterFeed&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;html&lt;/span&gt;(text);\n                    }\n                });\n            })\n        &lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;twitterFeed&apos;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;br&gt;\n&lt;strong&gt;JSONP&lt;/strong&gt; stands for &lt;strong&gt;JSON with Padding&lt;/strong&gt;. (very poorly named technique as it really has nothing to do with what most people would think of as padding.)&lt;/p&gt;\n    ","\n&lt;p&gt;JSONP works by constructing a script element (either in HTML markup or inserted into the DOM via JavaScript), which requests to a remote data service location. The response is a javascript loaded on to your browser with name of the pre-defined function along with parameter being passed that is tht JSON data being requested. When the script executes, the function is called along with JSON data, allowing the requesting page to receive and process the data.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;For Further Reading Visit:&lt;/strong&gt; &lt;a href=&quot;https://blogs.sap.com/2013/07/15/secret-behind-jsonp/&quot; rel=&quot;noreferrer&quot;&gt;https://blogs.sap.com/2013/07/15/secret-behind-jsonp/&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;client side snippet of code&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;    &amp;lt;!&lt;span class=&quot;hljs-variable constant_&quot;&gt;DOCTYPE&lt;/span&gt; html&amp;gt;\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;lang&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;en&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;\n     &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;title&lt;/span&gt;&amp;gt;&lt;/span&gt;AvLabz - CORS : The Secrets Behind JSONP &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;title&lt;/span&gt;&amp;gt;&lt;/span&gt;\n     &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;meta&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;charset&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;username&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;placeholder&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Enter Your Name&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;submit&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;onclick&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;sendRequest()&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt; Send Request to Server &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;\n    &quot;use strict&quot;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;//Construct the script tag at Runtime&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;requestServerCall&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;url&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; head = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;head&lt;/span&gt;;\n      &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; script = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;createElement&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;script&quot;&lt;/span&gt;);\n\n      script.&lt;span class=&quot;hljs-title function_&quot;&gt;setAttribute&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;src&quot;&lt;/span&gt;, url);\n      head.&lt;span class=&quot;hljs-title function_&quot;&gt;appendChild&lt;/span&gt;(script);\n      head.&lt;span class=&quot;hljs-title function_&quot;&gt;removeChild&lt;/span&gt;(script);\n    }\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;//Predefined callback function    &lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;jsonpCallback&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(data.&lt;span class=&quot;hljs-property&quot;&gt;message&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// Response data from the server&lt;/span&gt;\n    }\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;//Reference to the input field&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; username = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;username&quot;&lt;/span&gt;);\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;//Send Request to Server&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;sendRequest&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-comment&quot;&gt;// Edit with your Web Service URL&lt;/span&gt;\n      &lt;span class=&quot;hljs-title function_&quot;&gt;requestServerCall&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://localhost/PHP_Series/CORS/myService.php?callback=jsonpCallback&amp;amp;message=&quot;&lt;/span&gt;+username.&lt;span class=&quot;hljs-property&quot;&gt;value&lt;/span&gt;+&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;);\n    }    \n\n  &lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n   &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n   &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Server side piece of PHP code&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;?php\n    &lt;span class=&quot;hljs-title function_&quot;&gt;header&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Content-Type: application/javascript&quot;&lt;/span&gt;);\n    $callback = $_GET[&lt;span class=&quot;hljs-string&quot;&gt;&quot;callback&quot;&lt;/span&gt;];\n    $message = $_GET[&lt;span class=&quot;hljs-string&quot;&gt;&quot;message&quot;&lt;/span&gt;].&lt;span class=&quot;hljs-string&quot;&gt;&quot; you got a response from server yipeee!!!&quot;&lt;/span&gt;;\n    $jsonResponse = &lt;span class=&quot;hljs-string&quot;&gt;&quot;{\\&quot;message\\&quot;:\\&quot;&quot;&lt;/span&gt; . $message . &lt;span class=&quot;hljs-string&quot;&gt;&quot;\\&quot;}&quot;&lt;/span&gt;;\n    echo $callback . &lt;span class=&quot;hljs-string&quot;&gt;&quot;(&quot;&lt;/span&gt; . $jsonResponse . &lt;span class=&quot;hljs-string&quot;&gt;&quot;)&quot;&lt;/span&gt;;\n?&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Because you can ask the server to prepend a prefix to the returned JSON object. E.g&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;function_prefix(json_object);&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;in order for the browser to &lt;code&gt;eval&lt;/code&gt; &quot;inline&quot; the JSON string as an expression. This trick makes it possible for the server to &quot;inject&quot; javascript code directly in the Client browser and this with bypassing the &quot;same origin&quot; restrictions.&lt;/p&gt;\n\n&lt;p&gt;In other words, you can achieve &lt;strong&gt;cross-domain data exchange&lt;/strong&gt;.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;Normally, &lt;code&gt;XMLHttpRequest&lt;/code&gt; doesn&apos;t permit cross-domain data-exchange directly (one needs to go through a server in the same domain) whereas:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;&amp;lt;script src=&quot;some_other_domain/some_data.js&amp;amp;prefix=function_prefix&lt;/code&gt;&amp;gt;` one can access data from a domain different than from the origin.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;Also worth noting: even though the server should be considered as &quot;trusted&quot; before attempting that sort of &quot;trick&quot;, the side-effects of possible change in object format etc. can be contained.  If a &lt;code&gt;function_prefix&lt;/code&gt; (i.e. a proper js function) is used to receive the JSON object, the said function can perform checks before accepting/further processing the returned data.&lt;/p&gt;\n    ","\n&lt;h1&gt;TL;DR&lt;/h1&gt;\n&lt;p&gt;JSONP is an &lt;strong&gt;old trick&lt;/strong&gt; invented to bypass the security restriction that forbids us to get JSON data that is in a different website (a different &lt;strong&gt;origin&lt;/strong&gt;&lt;sup&gt;1&lt;/sup&gt;) than the one we are currently browsing.&lt;/p&gt;\n&lt;p&gt;The trick works by using a &lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt; tag that asks for the JSON from that place, e.g.: &lt;code&gt;{ &quot;user&quot;:&quot;Smith&quot; }&lt;/code&gt;, but wrapped in a function, the &lt;em&gt;actual JSONP&lt;/em&gt; (&quot;JSON with Padding&quot;):&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;peopleDataJSONP&lt;/span&gt;({&lt;span class=&quot;hljs-string&quot;&gt;&quot;user&quot;&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;Smith&quot;&lt;/span&gt;})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Receiving it in this form enables us to use the data within our &lt;code&gt;peopleDataJSONP&lt;/code&gt; function. &lt;strong&gt;JSONP is a bad practice&lt;/strong&gt; and not needed anymore, don&apos;t use it (read below).&lt;/p&gt;\n&lt;br&gt;\n&lt;h1&gt;The problem&lt;/h1&gt;\n&lt;p&gt;Say we want to use on &lt;code&gt;ourweb.com&lt;/code&gt; some JSON data (or any raw data really) hosted at &lt;code&gt;anotherweb.com&lt;/code&gt;. If we were to use GET request (think &lt;code&gt;XMLHttpRequest&lt;/code&gt;, or &lt;code&gt;fetch&lt;/code&gt; call, &lt;code&gt;$.ajax&lt;/code&gt;, etc.), our browser would tell us it&apos;s not allowed with this ugly error:&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/lezhN.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/lezhN.png&quot; alt=&quot;Chrome CORS console error&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;How to get the data we want? Well, &lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt; tags are not subjected to this whole server (origin&lt;sup&gt;1&lt;/sup&gt;) restriction! That&apos;s why we can load a library like jQuery or Google Maps from any server, such as a CDN, without any errors.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Here&apos;s the important point:&lt;/strong&gt; if you think about it, those libraries are &lt;em&gt;actual, runnable JS code&lt;/em&gt; (usually a massive function with all the logic inside). But raw data? JSON data &lt;em&gt;is not code&lt;/em&gt;. There&apos;s nothing to run; it&apos;s just plain text.&lt;/p&gt;\n&lt;p&gt;Therefore, there&apos;s no way to handle or manipulate our precious data. The browser will download the data pointed at by our &lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt; tag and when processing it&apos;ll rightfully complain:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;wtf is this &lt;code&gt;{&quot;user&quot;:&quot;Smith&quot;}&lt;/code&gt; crap we loaded? It&apos;s not code. I can&apos;t compute, syntax error!&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;br&gt;\n&lt;h1&gt;The JSONP hack&lt;/h1&gt;\n&lt;p&gt;The old/hacky way to utilize that data? If we could make plain text somehow &lt;em&gt;runnable&lt;/em&gt;, we could grab it on runtime. So we need &lt;code&gt;anotherweb.com&lt;/code&gt; to send it with some logic, so when it&apos;s loaded, your code in the browser will be able to use said data. We need two things: &lt;strong&gt;1)&lt;/strong&gt; to get the data in a way that it can be run, and &lt;strong&gt;2)&lt;/strong&gt; write some code in the client so that when the data runs, this code is called and we get to use the data.&lt;/p&gt;\n&lt;p&gt;For &lt;strong&gt;1)&lt;/strong&gt; we ask the foreign server to send us the JSON data inside a JS function. The data itself is set up as that function&apos;s input. It looks like this:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;peopleDataJSONP&lt;/span&gt;({&lt;span class=&quot;hljs-string&quot;&gt;&quot;user&quot;&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;Smith&quot;&lt;/span&gt;})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;which makes it &lt;em&gt;JS code&lt;/em&gt; our browser will parse and run without complaining! Exactly like it does with the jQuery library.\nTo receive the data like that, the client &quot;asks&quot; the JSONP-friendly server for it, usually done like this:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;script src=&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://anotherweb.com/api/data-from-people.json?myCallback=peopleDataJSONP&quot;&lt;/span&gt;&amp;gt;&amp;lt;/script&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;As per &lt;strong&gt;2)&lt;/strong&gt;, since our browser will receive the JSONP with that function name, we need a function with the same name in our code, like this:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;peopleDataJSONP&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;){\n  &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(data.&lt;span class=&quot;hljs-property&quot;&gt;user&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// &quot;Smith&quot;&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The browser will download the JSONP and run it, &lt;strong&gt;which calls our function&lt;/strong&gt;, where the argument &lt;code&gt;data&lt;/code&gt; will be the JSON data from &lt;code&gt;anotherweb.com&lt;/code&gt;. We can now do with our data whatever we want to.&lt;/p&gt;\n&lt;br&gt;\n&lt;h1&gt;Don&apos;t use JSONP, use CORS&lt;/h1&gt;\n&lt;p&gt;JSONP is a cross-site hack with a few downsides:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;We can only perform GET requests&lt;/li&gt;\n&lt;li&gt;Since it&apos;s a GET request triggered by a simple script tag, we don&apos;t get helpful errors or progress info&lt;/li&gt;\n&lt;li&gt;There are also some security concerns, like running in your client JS code that could be changed to a malicious payload&lt;/li&gt;\n&lt;li&gt;It only solves the problem with JSON data, but Same-Origin security policy applies to other data (WebFonts, images/video drawn with drawImage()...)&lt;/li&gt;\n&lt;li&gt;It&apos;s not very elegant nor readable.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;The takeaway is that there&apos;s &lt;strong&gt;no need to use it nowadays&lt;/strong&gt;.&lt;/p&gt;\n&lt;p&gt;You should &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS&quot; rel=&quot;noreferrer&quot;&gt;read about CORS here&lt;/a&gt;, but the gist of it is:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Cross-Origin Resource Sharing (CORS) is a mechanism that uses\nadditional HTTP headers to tell browsers to give a web application\nrunning at one origin, access to selected resources from a different\norigin. A web application executes a cross-origin HTTP request when it\nrequests a resource that has a different origin (domain, protocol, or\nport) from its own.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;br&gt;\n&lt;hr&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;em&gt;origin&lt;/em&gt; is defined by 3 things: &lt;strong&gt;protocol&lt;/strong&gt;, &lt;strong&gt;port&lt;/strong&gt;, and &lt;strong&gt;host&lt;/strong&gt;. So, for example, &lt;code&gt;https://web.com&lt;/code&gt; is a different origin than &lt;code&gt;http://web.com&lt;/code&gt; (different protocol) and &lt;code&gt;https://web.com:8081&lt;/code&gt; (different port) and obviously &lt;code&gt;https://thatotherweb.net&lt;/code&gt; (different host)&lt;/li&gt;\n&lt;/ol&gt;\n    ","\n&lt;p&gt;JSONP is a great away to get around cross-domain scripting errors. You can consume a JSONP service purely with JS without having to implement a AJAX proxy on the server side. &lt;/p&gt;\n\n&lt;p&gt;You can use the &lt;a href=&quot;http://b1t.co&quot; rel=&quot;noreferrer&quot;&gt;b1t.co&lt;/a&gt; service to see how it works. This is a free JSONP service that alllows you to minify your URLs. Here is the url to use for the service:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://b1t.co/Site/api/External/MakeUrlWithGet?callback=[resultsCallBack]&amp;amp;url=[escapedUrlToMinify]&quot; rel=&quot;noreferrer&quot;&gt;http://b1t.co/Site/api/External/MakeUrlWithGet?callback=[resultsCallBack]&amp;amp;url=[escapedUrlToMinify]&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;For example the call, &lt;a href=&quot;http://b1t.co/Site/api/External/MakeUrlWithGet?callback=whateverJavascriptName&amp;amp;url=google.com&quot; rel=&quot;noreferrer&quot;&gt;http://b1t.co/Site/api/External/MakeUrlWithGet?callback=whateverJavascriptName&amp;amp;url=google.com&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;would return&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;whateverJavascriptName&lt;/span&gt;({&lt;span class=&quot;hljs-string&quot;&gt;&quot;success&quot;&lt;/span&gt;:&lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;url&quot;&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://google.com&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;shortUrl&quot;&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://b1t.co/54&quot;&lt;/span&gt;});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And thus when that get&apos;s loaded in your js as a src, it will automatically run whateverJavascriptName which you should implement as your callback function:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;minifyResultsCallBack&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;)\n{\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;results&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-property&quot;&gt;innerHTML&lt;/span&gt; = &lt;span class=&quot;hljs-title class_&quot;&gt;JSON&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;stringify&lt;/span&gt;(data);\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To actually make the JSONP call, you can do it about several ways (including using jQuery) but here is a pure JS example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;minify&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;urlToMinify&lt;/span&gt;)\n{\n   url = &lt;span class=&quot;hljs-built_in&quot;&gt;escape&lt;/span&gt;(urlToMinify);\n   &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; s = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;createElement&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;script&apos;&lt;/span&gt;);\n   s.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;dynScript&apos;&lt;/span&gt;;\n   s.&lt;span class=&quot;hljs-property&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&apos;text/javascript&apos;&lt;/span&gt;;\n   s.&lt;span class=&quot;hljs-property&quot;&gt;src&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;http://b1t.co/Site/api/External/MakeUrlWithGet?callback=resultsCallBack&amp;amp;url=&quot;&lt;/span&gt; + url;\n   &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementsByTagName&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;head&apos;&lt;/span&gt;)[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;].&lt;span class=&quot;hljs-title function_&quot;&gt;appendChild&lt;/span&gt;(s);\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;A step by step example and a jsonp web service to practice on is available at: &lt;a href=&quot;http://b1t.co/5f&quot; rel=&quot;noreferrer&quot;&gt;this post&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;A simple example for the usage of JSONP.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;client.html&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;    &amp;lt;html&amp;gt;\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;\n   &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n     body&amp;gt;\n\n\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;button&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;001&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;onclick&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;gO(&lt;/span&gt;&quot;&lt;span class=&quot;hljs-attr&quot;&gt;getCompany&lt;/span&gt;&quot;) &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Company&quot;&lt;/span&gt;  /&amp;gt;&lt;/span&gt;&lt;/span&gt;\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;button&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;002&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;onclick&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;gO(&lt;/span&gt;&quot;&lt;span class=&quot;hljs-attr&quot;&gt;getPosition&lt;/span&gt;&quot;) &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Position&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;101&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; elem=&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;101&quot;&lt;/span&gt;);\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;gO&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;callback&lt;/span&gt;){\n\n    script = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;createElement&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;script&apos;&lt;/span&gt;);\n    script.&lt;span class=&quot;hljs-property&quot;&gt;type&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;text/javascript&apos;&lt;/span&gt;;\n    script.&lt;span class=&quot;hljs-property&quot;&gt;src&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;http://localhost/test/server.php?callback=&apos;&lt;/span&gt;+callback;\n    elem.&lt;span class=&quot;hljs-title function_&quot;&gt;appendChild&lt;/span&gt;(script);\n    elem.&lt;span class=&quot;hljs-title function_&quot;&gt;removeChild&lt;/span&gt;(script);\n\n\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;getCompany&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;){\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; message=&lt;span class=&quot;hljs-string&quot;&gt;&quot;The company you work for is &quot;&lt;/span&gt;+data.&lt;span class=&quot;hljs-property&quot;&gt;company&lt;/span&gt; +&lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;img src=&apos;&quot;&lt;/span&gt;+data.&lt;span class=&quot;hljs-property&quot;&gt;image&lt;/span&gt;+&lt;span class=&quot;hljs-string&quot;&gt;&quot;&apos;/   &amp;gt;&quot;&lt;/span&gt;;\n    elem.&lt;span class=&quot;hljs-property&quot;&gt;innerHTML&lt;/span&gt;=message;\n}\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;getPosition&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; message=&lt;span class=&quot;hljs-string&quot;&gt;&quot;The position you are offered is &quot;&lt;/span&gt;+data.&lt;span class=&quot;hljs-property&quot;&gt;position&lt;/span&gt;;\n    elem.&lt;span class=&quot;hljs-property&quot;&gt;innerHTML&lt;/span&gt;=message;\n    }\n    &lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n    &amp;lt;/html&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;server.php&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;  &amp;lt;?php\n\n    $callback=$_GET[&lt;span class=&quot;hljs-string&quot;&gt;&quot;callback&quot;&lt;/span&gt;];\n    echo $callback;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;($callback==&lt;span class=&quot;hljs-string&quot;&gt;&apos;getCompany&apos;&lt;/span&gt;)\n    $response=&lt;span class=&quot;hljs-string&quot;&gt;&quot;({\\&quot;company\\&quot;:\\&quot;Google\\&quot;,\\&quot;image\\&quot;:\\&quot;xyz.jpg\\&quot;})&quot;&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;\n    $response=&lt;span class=&quot;hljs-string&quot;&gt;&quot;({\\&quot;position\\&quot;:\\&quot;Development Intern\\&quot;})&quot;&lt;/span&gt;;\n    echo $response;\n\n    ?&amp;gt;    \n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Before understanding JSONP, you need to know JSON format and XML. Currently the most frequently used data format on the web is XML, but XML is very complicated. It makes users inconvenient to process embedded in Web pages. &lt;/p&gt;\n\n&lt;p&gt;To make JavaScript can easily exchange data, even as the data processing program, we use the wording according to JavaScript objects and developed a simple data exchange format, which is JSON. JSON can be used as data, or as a JavaScript program. &lt;/p&gt;\n\n&lt;p&gt;JSON can be directly embedded in JavaScript, using them you can directly execute certain JSON program, but due to security constraints, the browser Sandbox mechanism disables cross-domain JSON code execution.&lt;/p&gt;\n\n&lt;p&gt;To make JSON can be passed after the execution, we developed a JSONP. JSONP bypass the security limits of the browser with JavaScript Callback functionality and the &amp;lt; script &amp;gt; tag. &lt;/p&gt;\n\n&lt;p&gt;So in short it explains what JSONP is, what problem it solves (when to use it).&lt;/p&gt;\n    ","\n&lt;blockquote&gt;\n  &lt;p&gt;&lt;strong&gt;JSONP&lt;/strong&gt; stands for &lt;strong&gt;JSON&lt;/strong&gt; with &lt;strong&gt;Padding&lt;/strong&gt;.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Here is the site, with &lt;strong&gt;great examples&lt;/strong&gt;, &lt;strong&gt;with the explanation from the simplest use&lt;/strong&gt; of this technique &lt;strong&gt;to the most advanced&lt;/strong&gt; in plane JavaScript:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://www.w3schools.com/js/js_json_jsonp.asp&quot; rel=&quot;nofollow noreferrer&quot;&gt;w3schools.com / JSONP&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;One of my more favorite techniques described above is &lt;strong&gt;Dynamic JSON Result&lt;/strong&gt;, which &lt;strong&gt;allow to send JSON to the PHP file in URL parameter&lt;/strong&gt;, and let the &lt;strong&gt;PHP file also return a JSON object based on the information it gets&lt;/strong&gt;.&lt;/p&gt;\n\n&lt;p&gt;Tools like &lt;a href=&quot;https://learn.jquery.com/ajax/working-with-jsonp/&quot; rel=&quot;nofollow noreferrer&quot;&gt;jQuery also have facilities to use JSONP&lt;/a&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;jQuery.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({\n  &lt;span class=&quot;hljs-attr&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;https://data.acgov.org/resource/k9se-aps6.json?city=Berkeley&quot;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-attr&quot;&gt;jsonp&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;callbackName&quot;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-attr&quot;&gt;dataType&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;jsonp&quot;&lt;/span&gt;\n}).&lt;span class=&quot;hljs-title function_&quot;&gt;done&lt;/span&gt;(\n  &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;response&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(response)\n);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I try to explain in easy way:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;JSONP stands for JSON with Padding.&lt;/li&gt;\n&lt;li&gt;JSONP is a method for sending JSON data without worrying about cross-domain issues.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;strong&gt;Why Used:&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;Requesting a file from another domain can cause problems, due to cross-domain policy.&lt;/p&gt;\n&lt;p&gt;Requesting an external script from another domain does not have this problem.&lt;/p&gt;\n&lt;p&gt;JSONP uses this advantage, and request files using the script tag instead of the XMLHttpRequest object.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Code For Server File:&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;?php\n$myJSON = &lt;span class=&quot;hljs-string&quot;&gt;&apos;{ &quot;name&quot;:&quot;John&quot;, &quot;age&quot;:30, &quot;city&quot;:&quot;New York&quot; }&apos;&lt;/span&gt;;\n\necho &lt;span class=&quot;hljs-string&quot;&gt;&quot;myFunc(&quot;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;$myJSON&lt;/span&gt;.&lt;span class=&quot;hljs-string&quot;&gt;&quot;);&quot;&lt;/span&gt;;\n?&amp;gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif1&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Function that will handle data:&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;function myFunc(myObj) {\n  document.getElementById(&quot;demo&quot;).innerHTML = myObj.name;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif2&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    "]},"randomTags":[{"name":"optimization","slug":"optimization"},{"name":"aggregation-framework","slug":"aggregation-framework"},{"name":"dst","slug":"dst"},{"name":"kill","slug":"kill"},{"name":"buffer-overflow","slug":"buffer-overflow"},{"name":"razor","slug":"razor"},{"name":"abi","slug":"abi"},{"name":"c-preprocessor","slug":"c-preprocessor"},{"name":"python-packaging","slug":"python-packaging"},{"name":"inheritance","slug":"inheritance"},{"name":"substring","slug":"substring"},{"name":"jtable","slug":"jtable"},{"name":"sql-injection","slug":"sql-injection"},{"name":"regex","slug":"regex"},{"name":"class-table-inheritance","slug":"class-table-inheritance"},{"name":"full-outer-join","slug":"full-outer-join"},{"name":"security","slug":"security"},{"name":"oop","slug":"oop"},{"name":"javascript-objects","slug":"javascript-objects"},{"name":"stdin","slug":"stdin"}]},"__N_SSG":true}