{"pageProps":{"data":{"count":1,"rows":[{"id":273,"title":"Do DOM tree elements with IDs become global properties?","slug":"do-dom-tree-elements-with-ids-become-global-properties-1657387475110","postType":"QUESTION","createdAt":"2022-07-09T17:24:35.000Z","updatedAt":"2022-07-09T17:24:35.000Z","tags":[{"id":1708,"name":"getelementbyid","slug":"getelementbyid","createdAt":"2022-07-09T17:24:35.000Z","updatedAt":"2022-07-09T17:24:35.000Z","Questions_Tags":{"questionId":273,"tagId":1708}}]}]},"slug":"getelementbyid","page":"1","answers":{"273":["\n&lt;p&gt;What is supposed to happen is that named elements are added as apparent properties of the &lt;code&gt;document&lt;/code&gt; object. This is a really bad idea, as it allows element names to clash with real properties of &lt;code&gt;document&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;IE made the situation worse by also adding named elements as properties of the &lt;code&gt;window&lt;/code&gt; object. This is doubly bad in that now you have to avoid naming your elements after any member of either the &lt;code&gt;document&lt;/code&gt; or the &lt;code&gt;window&lt;/code&gt; object you (or any other library code in your project) might want to use.&lt;/p&gt;\n&lt;p&gt;It also means that these elements are visible as global-like variables. Luckily in this case any real global &lt;code&gt;var&lt;/code&gt; or &lt;code&gt;function&lt;/code&gt; declarations in your code shadow them, so you don&apos;t need to worry so much about naming here, but if you try to do an assignment to a global variable with a clashing name and you forget to declare it &lt;code&gt;var&lt;/code&gt;, you&apos;ll get an error in IE as it tries to assign the value to the element itself.&lt;/p&gt;\n&lt;p&gt;It&apos;s generally considered bad practice to omit &lt;code&gt;var&lt;/code&gt;, as well as to rely on named elements being visible on &lt;code&gt;window&lt;/code&gt; or as globals. Stick to &lt;code&gt;document.getElementById&lt;/code&gt;, which is more widely-supported and less ambiguous. You can write a trivial wrapper function with a shorter name if you don&apos;t like the typing. Either way, there&apos;s no point in using an id-to-element lookup cache, because browsers typically optimise the &lt;code&gt;getElementById&lt;/code&gt; call to use a quick lookup anyway; all you get is problems when elements change &lt;code&gt;id&lt;/code&gt; or are added/removed from the document.&lt;/p&gt;\n&lt;p&gt;Opera copied IE, then WebKit joined in, and now both the previously-unstandardised practice of putting named elements on &lt;code&gt;document&lt;/code&gt; properties, and the previously-IE-only practice of putting them on &lt;code&gt;window&lt;/code&gt; are &lt;a href=&quot;https://www.w3.org/TR/html5/dom.html#dom-tree-accessors&quot; rel=&quot;noreferrer&quot;&gt;being&lt;/a&gt; &lt;a href=&quot;https://www.w3.org/TR/html5/browsers.html#named-access-on-the-window-object&quot; rel=&quot;noreferrer&quot;&gt;standardised&lt;/a&gt; by HTML5, whose approach is to document and standardise every terrible practice inflicted on us by browser authors, making them part of the web forever. So Firefox 4 will also support this.&lt;/p&gt;\n&lt;p&gt;What are named elements? Anything with an &lt;code&gt;id&lt;/code&gt;, and anything with a &lt;code&gt;name&lt;/code&gt; being used for identifying purposes: that is, forms, images, anchors and a few others, but not other unrelated instances of a &lt;code&gt;name&lt;/code&gt; attribute, like control-names in form input fields, parameter names in &lt;code&gt;&amp;lt;param&amp;gt;&lt;/code&gt; or metadata type in &lt;code&gt;&amp;lt;meta&amp;gt;&lt;/code&gt;. Identifying &lt;code&gt;name&lt;/code&gt;s are the ones that should be avoided in favour of &lt;code&gt;id&lt;/code&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;As mentioned in the earlier answer this behavior is known as &lt;a href=&quot;https://html.spec.whatwg.org/multipage/browsers.html#named-access-on-the-window-object&quot; rel=&quot;noreferrer&quot;&gt;named access on the window object&lt;/a&gt;.  The value of the &lt;code&gt;name&lt;/code&gt; attribute for some elements and the value of the &lt;code&gt;id&lt;/code&gt; attribute for all elements are made available as properties of the global &lt;code&gt;window&lt;/code&gt; object.  These are known as named elements.  Since &lt;code&gt;window&lt;/code&gt; is the global object in the browser, each named element will be accessible as a global variable.&lt;/p&gt;\n\n&lt;p&gt;This was originally added by Internet Explorer and eventually was implemented by all other browsers simply for compatibility with sites that are dependent on this behavior.  Interestingly, Gecko (Firefox&apos;s rendering engine) chose to implement this in &lt;a href=&quot;https://developer.mozilla.org/en/Mozilla%2527s_Quirks_Mode&quot; rel=&quot;noreferrer&quot;&gt;quirks mode&lt;/a&gt; only, whereas other rendering engines left it on in standards mode.&lt;/p&gt;\n\n&lt;p&gt;However, as of Firefox 14, &lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=622491&quot; rel=&quot;noreferrer&quot;&gt;Firefox  now supports named access&lt;/a&gt; on the &lt;code&gt;window&lt;/code&gt; object in standards mode as well.  Why did they change this?  Turns out there&apos;s still a lot of sites that rely on this functionality in standards mode.  Microsoft even &lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=737760&quot; rel=&quot;noreferrer&quot;&gt;released a marketing demo&lt;/a&gt; that did, preventing the demo from working in Firefox.&lt;/p&gt;\n\n&lt;p&gt;Webkit has recently &lt;a href=&quot;https://www.w3.org/Bugs/Public/show_bug.cgi?id=11960&quot; rel=&quot;noreferrer&quot;&gt;considered the opposite&lt;/a&gt;, relegating named access on the &lt;code&gt;window&lt;/code&gt; object to quirks mode only.  They decided against it by the same reasoning as Gecko.&lt;/p&gt;\n\n&lt;p&gt;So crazy as it seems this behavior is now &lt;strong&gt;technically safe to use in the latest version of all major browsers in standards mode&lt;/strong&gt;.  But while named access can seem somewhat convenient , &lt;strong&gt;it should not be used&lt;/strong&gt;.&lt;/p&gt;\n\n&lt;p&gt;Why?  A lot of the reasoning can be summed up in this article about why &lt;a href=&quot;http://c2.com/cgi/wiki?GlobalVariablesAreBad&quot; rel=&quot;noreferrer&quot;&gt;global variables are bad&lt;/a&gt;.  Simply put, having a bunch of extra global variables leads to more bugs.  Let&apos;s say you accidentally type the name of a &lt;code&gt;var&lt;/code&gt; and happen to type an &lt;code&gt;id&lt;/code&gt; of a DOM node, SURPRISE!&lt;/p&gt;\n\n&lt;p&gt;Additionally, despite being standardized there are still quite a few discrepancies in browser&apos;s implementations of named access.&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;IE incorrectly makes the value of the &lt;code&gt;name&lt;/code&gt; attribute accessible for form elements (input, select, etc).&lt;/li&gt;\n&lt;li&gt;Gecko and Webkit incorrectly do NOT make &lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt; tags accessible via their &lt;code&gt;name&lt;/code&gt; attribute.&lt;/li&gt;\n&lt;li&gt;Gecko incorrectly handles multiple named elements with the same name (it returns a reference to a single node instead of an array of references).&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;And I&apos;m sure there&apos;s more if you try using named access on edge cases.&lt;/p&gt;\n\n&lt;p&gt;As mentioned in other answers use &lt;code&gt;document.getElementById&lt;/code&gt; to get a reference to a DOM node by its &lt;code&gt;id&lt;/code&gt;.  If you need to get a reference to a node by its &lt;code&gt;name&lt;/code&gt; attribute use &lt;code&gt;document.querySelectorAll&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Please, please do not propagate this problem by using named access in your site.  So many web developers have wasted time trying to track down this &lt;em&gt;magical&lt;/em&gt; behavior.  We really need to take action and get rendering engines to turn named access off in standards mode.  In the short term it will break some sites doing bad things, but in the long run it&apos;ll help move the web forward.&lt;/p&gt;\n\n&lt;p&gt;If you&apos;re interested I talk about this in more detail on my blog - &lt;a href=&quot;https://www.tjvantoll.com/2012/07/19/dom-element-references-as-global-variables/&quot; rel=&quot;noreferrer&quot;&gt;https://www.tjvantoll.com/2012/07/19/dom-element-references-as-global-variables/&lt;/a&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;You should stick to &lt;code&gt;getElementById()&lt;/code&gt; in these cases, for example:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;example&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-property&quot;&gt;innerHTML&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;IE likes to mix elements with &lt;code&gt;name&lt;/code&gt; &lt;em&gt;and&lt;/em&gt; &lt;code&gt;ID&lt;/code&gt; attributes in the global namespace, so best to be explicit about what you&apos;re trying to get.&lt;/p&gt;\n    ","\n&lt;p&gt;The question should sound:: &quot;Do HTML Tags with provided IDs become globally accessible DOM Elements?&quot;&lt;/p&gt;\n\n&lt;p&gt;The answer is YES! &lt;/p&gt;\n\n&lt;p&gt;That&apos;s how it was meant to work, and that&apos;s why IDs were introduced by W3C to begin with.: \n&lt;em&gt;The ID of an HTML Tag in a parsed scripting environment becomes its corresponding DOM Element handle.&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;However, Netscape Mozilla refused to conform to (to them intruding) W3C and stubbornly kept using the deprecated Name attribute to create havoc and therefore break the Scripting functionality and the coding convenience brought in by the W3C&apos;s introduction of Unique IDs.&lt;/p&gt;\n\n&lt;p&gt;After the Netscape Navigator 4.7 fiasco their developers all went and infiltrated the W3C, whereas their associates were superseding the Web with wrong practices and misusing examples. Forcing the use and reuse of already deprecated Name attribute [!which was not meant to be unique] on par with ID attributes so that scripts that utilized ID handles for accessing particular DOM elements would simply break!&lt;/p&gt;\n\n&lt;p&gt;And break they did as they would also write and publish extensive coding lessons and examples [their browser would not recognize anyway] such as  &lt;code&gt;document.all.ElementID.property&lt;/code&gt; instead of &lt;code&gt;ElementID.property&lt;/code&gt; to at least make it inefficient and give the browser more overhead in case it didn&apos;t simply break it at HTML domain by using the same token for the (now [1996-97], deprecated) Name and the standard ID attribute supplying it with the same token value.&lt;/p&gt;\n\n&lt;p&gt;They easily managed to convince the - back then - overwhelming army of ignorant code-writing amateurs that Names and IDs are practically the same, except that ID attribute is shorter and therefore byte-saving and more convenient to the coder than the ancient Name property. Which was of course a lie. Or - in their superseding published articles of HTML, convincing articles that you&apos;ll need to provide both Name and ID to your tags for them to be accessible by the Scripting engine. &lt;/p&gt;\n\n&lt;p&gt;Mosaic Killers [codenamed &quot;Mozilla&quot;] were so pissed they thought &quot;if we go down, so should Internet&quot;. &lt;/p&gt;\n\n&lt;p&gt;The rising Microsoft - on the other hand - were so naive they thought they should keep the deprecated and marked for deletion Name property and treat it as if it was an ID that is a unique Identifier so that they wouldn&apos;t break the scripting functionality of old pages coded by Netscape trainees. They were deadly wrong...&lt;/p&gt;\n\n&lt;p&gt;And the returning of an array collection of ID conflicting elements was not a solution to this deliberate man-made problem either. Actually it defeated the whole purpose. &lt;/p&gt;\n\n&lt;p&gt;And this is the sole reason W3C turned ugly and gave us idiocies such as &lt;code&gt;document.getElementById&lt;/code&gt; and the accompanying rococo goddamn annoying syntax of the sort...\n (...)&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Yes, they do.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Tested in Chrome 55, Firefox 50, IE 11, IE Edge 14, and Safari 10&lt;br&gt;\nwith the following example: &lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;!DOCTYPE &lt;span class=&quot;hljs-keyword&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;im_not_particularly_happy_with_that&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    Hello World!\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n    im_not_particularly_happy_with_that.&lt;span class=&quot;hljs-property&quot;&gt;innerText&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;Hello Internet!&apos;&lt;/span&gt;;\n  &lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- Looking at you W3 HTML5 spec group _ --&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://jsbin.com/mahobinopa/edit?html,output&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://jsbin.com/mahobinopa/edit?html,output&lt;/a&gt;&lt;/p&gt;\n    "]},"randomTags":[{"name":"nosuchelementexception","slug":"nosuchelementexception"},{"name":"bash","slug":"bash"},{"name":"html","slug":"html"},{"name":"q","slug":"q"},{"name":"using-directives","slug":"using-directives"},{"name":"download","slug":"download"},{"name":"preg-replace","slug":"preg-replace"},{"name":"buffer-overflow","slug":"buffer-overflow"},{"name":"twitter-bootstrap","slug":"twitter-bootstrap"},{"name":"circular-dependency","slug":"circular-dependency"},{"name":"variable-variables","slug":"variable-variables"},{"name":"implementation-defined-behavior","slug":"implementation-defined-behavior"},{"name":"floating-point","slug":"floating-point"},{"name":"git-rewrite-history","slug":"git-rewrite-history"},{"name":"mysql","slug":"mysql"},{"name":"file-upload","slug":"file-upload"},{"name":"jvm","slug":"jvm"},{"name":"onclick","slug":"onclick"},{"name":"dependency-injection","slug":"dependency-injection"},{"name":"css-selectors","slug":"css-selectors"}]},"__N_SSG":true}