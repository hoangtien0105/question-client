{"pageProps":{"data":{"count":1,"rows":[{"id":511,"title":"Read file line by line using ifstream in C++","slug":"read-file-line-by-line-using-ifstream-in-c++-1657388236966","postType":"QUESTION","createdAt":"2022-07-09T17:37:17.000Z","updatedAt":"2022-07-09T17:37:17.000Z","tags":[{"id":2537,"name":"ofstream","slug":"ofstream","createdAt":"2022-07-09T17:37:17.000Z","updatedAt":"2022-07-09T17:37:17.000Z","Questions_Tags":{"questionId":511,"tagId":2537}}]}]},"slug":"ofstream","page":"1","answers":{"511":["\n&lt;p&gt;First, make an &lt;code&gt;ifstream&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;fstream&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;std::ifstream &lt;span class=&quot;hljs-title&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;thefile.txt&quot;&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The two standard methods are:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;Assume that every line consists of two numbers and read token by token:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; a, b;\n&lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (infile &amp;gt;&amp;gt; a &amp;gt;&amp;gt; b)\n{\n    &lt;span class=&quot;hljs-comment&quot;&gt;// process pair (a,b)&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Line-based parsing, using string streams:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;sstream&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;string&amp;gt;&lt;/span&gt;&lt;/span&gt;\n\nstd::string line;\n&lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (std::&lt;span class=&quot;hljs-built_in&quot;&gt;getline&lt;/span&gt;(infile, line))\n{\n    &lt;span class=&quot;hljs-function&quot;&gt;std::istringstream &lt;span class=&quot;hljs-title&quot;&gt;iss&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(line)&lt;/span&gt;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; a, b;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!(iss &amp;gt;&amp;gt; a &amp;gt;&amp;gt; b)) { &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;; } &lt;span class=&quot;hljs-comment&quot;&gt;// error&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// process pair (a,b)&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;You shouldn&apos;t mix (1) and (2), since the token-based parsing doesn&apos;t gobble up newlines, so you may end up with spurious empty lines if you use &lt;code&gt;getline()&lt;/code&gt; after token-based extraction got you to the end of a line already.&lt;/p&gt;\n    ","\n&lt;p&gt;Use &lt;code&gt;ifstream&lt;/code&gt; to read data from a file:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;std::ifstream &lt;span class=&quot;hljs-title&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;( &lt;span class=&quot;hljs-string&quot;&gt;&quot;filename.ext&quot;&lt;/span&gt; )&lt;/span&gt;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If you really need to read line by line, then do this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;( std::string line; &lt;span class=&quot;hljs-built_in&quot;&gt;getline&lt;/span&gt;( input, line ); )\n{\n    ...&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; each line in input...\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;But you probably just need to extract coordinate pairs:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; x, y;\ninput &amp;gt;&amp;gt; x &amp;gt;&amp;gt; y;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;In your code you use &lt;code&gt;ofstream myfile;&lt;/code&gt;, however the &lt;code&gt;o&lt;/code&gt; in &lt;code&gt;ofstream&lt;/code&gt; stands for &lt;code&gt;output&lt;/code&gt;. If you want to read from the file (input) use &lt;code&gt;ifstream&lt;/code&gt;. If you want to both read and write use &lt;code&gt;fstream&lt;/code&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;Reading a file line by line in C++ can be done in some different ways.&lt;/p&gt;\n\n&lt;h2&gt;[Fast] Loop with std::getline()&lt;/h2&gt;\n\n&lt;p&gt;The simplest approach is to open an std::ifstream and loop using std::getline() calls. The code is clean and easy to understand.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;fstream&amp;gt;&lt;/span&gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-function&quot;&gt;std::ifstream &lt;span class=&quot;hljs-title&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(FILENAME)&lt;/span&gt;&lt;/span&gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (file.&lt;span class=&quot;hljs-built_in&quot;&gt;is_open&lt;/span&gt;()) {\n    std::string line;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (std::&lt;span class=&quot;hljs-built_in&quot;&gt;getline&lt;/span&gt;(file, line)) {\n        &lt;span class=&quot;hljs-comment&quot;&gt;// using printf() in all tests for consistency&lt;/span&gt;\n        &lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;%s&quot;&lt;/span&gt;, line.&lt;span class=&quot;hljs-built_in&quot;&gt;c_str&lt;/span&gt;());\n    }\n    file.&lt;span class=&quot;hljs-built_in&quot;&gt;close&lt;/span&gt;();\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;[Fast] Use Boost&apos;s file_description_source&lt;/h2&gt;\n\n&lt;p&gt;Another possibility is to use the Boost library, but the code gets a bit more verbose. The performance is quite similar to the code above (Loop with std::getline()).&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;boost/iostreams/device/file_descriptor.hpp&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;boost/iostreams/stream.hpp&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;fcntl.h&amp;gt;&lt;/span&gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;namespace&lt;/span&gt; io = boost::iostreams;\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;readLineByLineBoost&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; fdr = &lt;span class=&quot;hljs-built_in&quot;&gt;open&lt;/span&gt;(FILENAME, O_RDONLY);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (fdr &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-function&quot;&gt;io::file_descriptor_source &lt;span class=&quot;hljs-title&quot;&gt;fdDevice&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(fdr, io::file_descriptor_flags::close_handle)&lt;/span&gt;&lt;/span&gt;;\n        io::stream &amp;lt;io::file_descriptor_source&amp;gt; &lt;span class=&quot;hljs-built_in&quot;&gt;in&lt;/span&gt;(fdDevice);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (fdDevice.&lt;span class=&quot;hljs-built_in&quot;&gt;is_open&lt;/span&gt;()) {\n            std::string line;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (std::&lt;span class=&quot;hljs-built_in&quot;&gt;getline&lt;/span&gt;(in, line)) {\n                &lt;span class=&quot;hljs-comment&quot;&gt;// using printf() in all tests for consistency&lt;/span&gt;\n                &lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;%s&quot;&lt;/span&gt;, line.&lt;span class=&quot;hljs-built_in&quot;&gt;c_str&lt;/span&gt;());\n            }\n            fdDevice.&lt;span class=&quot;hljs-built_in&quot;&gt;close&lt;/span&gt;();\n        }\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;[Fastest] Use C code&lt;/h2&gt;\n\n&lt;p&gt;If performance is critical for your software, you may consider using the C language. This code can be 4-5 times faster than the C++ versions above, see benchmark below&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;FILE* fp = &lt;span class=&quot;hljs-built_in&quot;&gt;fopen&lt;/span&gt;(FILENAME, &lt;span class=&quot;hljs-string&quot;&gt;&quot;r&quot;&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (fp == &lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;)\n    &lt;span class=&quot;hljs-built_in&quot;&gt;exit&lt;/span&gt;(EXIT_FAILURE);\n\n&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt;* line = &lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;;\n&lt;span class=&quot;hljs-type&quot;&gt;size_t&lt;/span&gt; len = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; ((&lt;span class=&quot;hljs-built_in&quot;&gt;getline&lt;/span&gt;(&amp;amp;line, &amp;amp;len, fp)) != &lt;span class=&quot;hljs-number&quot;&gt;-1&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-comment&quot;&gt;// using printf() in all tests for consistency&lt;/span&gt;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;%s&quot;&lt;/span&gt;, line);\n}\n&lt;span class=&quot;hljs-built_in&quot;&gt;fclose&lt;/span&gt;(fp);\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (line)\n    &lt;span class=&quot;hljs-built_in&quot;&gt;free&lt;/span&gt;(line);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;Benchmark -- Which one is faster?&lt;/h2&gt;\n\n&lt;p&gt;I have done some performance benchmarks with the code above and the results are interesting. I have tested the code with ASCII files that contain 100,000 lines, 1,000,000 lines and 10,000,000 lines of text. Each line of text contains 10 words in average. The program is compiled with &lt;code&gt;-O3&lt;/code&gt; optimization and its output is forwarded to &lt;code&gt;/dev/null&lt;/code&gt; in order to remove the logging time variable from the measurement. Last, but not least, each piece of code logs each line with the &lt;code&gt;printf()&lt;/code&gt; function for consistency.&lt;/p&gt;\n\n&lt;p&gt;The results show the time (in ms) that each piece of code took to read the files.&lt;/p&gt;\n\n&lt;p&gt;The performance difference between the two C++ approaches is minimal and shouldn&apos;t make any difference in practice. The performance of the C code is what makes the benchmark impressive and can be a game changer in terms of speed.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;                             &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;K lines     &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;K lines     &lt;span class=&quot;hljs-number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;hljs-function&quot;&gt;K lines\nLoop with &lt;span class=&quot;hljs-title&quot;&gt;std::getline&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;         105ms          894ms          9773ms\nBoost code                       106ms          968ms          9561ms\nC code                            23ms          243ms          2397ms\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/fKKqc.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/fKKqc.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Since your coordinates belong together as pairs, why not write a struct for them?&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;CoordinatePair&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; x;\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; y;\n};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Then you can write an overloaded extraction operator for istreams:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;std::istream&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;&amp;gt;&amp;gt;(std::istream&amp;amp; is, CoordinatePair&amp;amp; coordinates)\n{\n    is &amp;gt;&amp;gt; coordinates.x &amp;gt;&amp;gt; coordinates.y;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; is;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And then you can read a file of coordinates straight into a vector like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;fstream&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;iterator&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;vector&amp;gt;&lt;/span&gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;{\n    &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; filename[] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;coordinates.txt&quot;&lt;/span&gt;;\n    std::vector&amp;lt;CoordinatePair&amp;gt; v;\n    &lt;span class=&quot;hljs-function&quot;&gt;std::ifstream &lt;span class=&quot;hljs-title&quot;&gt;ifs&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(filename)&lt;/span&gt;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (ifs) {\n        std::&lt;span class=&quot;hljs-built_in&quot;&gt;copy&lt;/span&gt;(std::&lt;span class=&quot;hljs-built_in&quot;&gt;istream_iterator&lt;/span&gt;&amp;lt;CoordinatePair&amp;gt;(ifs), \n                std::&lt;span class=&quot;hljs-built_in&quot;&gt;istream_iterator&lt;/span&gt;&amp;lt;CoordinatePair&amp;gt;(),\n                std::&lt;span class=&quot;hljs-built_in&quot;&gt;back_inserter&lt;/span&gt;(v));\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        std::cerr &amp;lt;&amp;lt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Couldn&apos;t open &quot;&lt;/span&gt; &amp;lt;&amp;lt; filename &amp;lt;&amp;lt; &lt;span class=&quot;hljs-string&quot;&gt;&quot; for reading\\n&quot;&lt;/span&gt;;\n    }\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Now you can work with the contents of v&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Expanding on the accepted answer, if the input is:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,NYC\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,ABQ\n...\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;you will still be able to apply the same logic, like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;fstream&amp;gt;&lt;/span&gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-function&quot;&gt;std::ifstream &lt;span class=&quot;hljs-title&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;thefile.txt&quot;&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (infile.&lt;span class=&quot;hljs-built_in&quot;&gt;is_open&lt;/span&gt;()) {\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; number;\n    std::string str;\n    &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; c;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (infile &amp;gt;&amp;gt; number &amp;gt;&amp;gt; c &amp;gt;&amp;gt; str &amp;amp;&amp;amp; c == &lt;span class=&quot;hljs-string&quot;&gt;&apos;,&apos;&lt;/span&gt;)\n        std::cout &amp;lt;&amp;lt; number &amp;lt;&amp;lt; &lt;span class=&quot;hljs-string&quot;&gt;&quot; &quot;&lt;/span&gt; &amp;lt;&amp;lt; str &amp;lt;&amp;lt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;\\n&quot;&lt;/span&gt;;\n}\ninfile.&lt;span class=&quot;hljs-built_in&quot;&gt;close&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;This answer is for visual studio 2017 and if you want to read from text file which location is relative to your compiled console application.&lt;/p&gt;\n\n&lt;p&gt;first put your textfile (test.txt in this case) into your solution folder. After compiling keep text file in same folder with applicationName.exe&lt;/p&gt;\n\n&lt;p&gt;C:\\Users\\&quot;username&quot;\\source\\repos\\&quot;solutionName&quot;\\&quot;solutionName&quot;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;fstream&amp;gt;&lt;/span&gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;namespace&lt;/span&gt; std;\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;{\n    ifstream inFile;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// open the file stream&lt;/span&gt;\n    inFile.&lt;span class=&quot;hljs-built_in&quot;&gt;open&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;.\\\\test.txt&quot;&lt;/span&gt;);\n    &lt;span class=&quot;hljs-comment&quot;&gt;// check if opening a file failed&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (inFile.&lt;span class=&quot;hljs-built_in&quot;&gt;fail&lt;/span&gt;()) {\n        cerr &amp;lt;&amp;lt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Error opeing a file&quot;&lt;/span&gt; &amp;lt;&amp;lt; endl;\n        inFile.&lt;span class=&quot;hljs-built_in&quot;&gt;close&lt;/span&gt;();\n        &lt;span class=&quot;hljs-built_in&quot;&gt;exit&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n    }\n    string line;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;hljs-built_in&quot;&gt;getline&lt;/span&gt;(inFile, line))\n    {\n        cout &amp;lt;&amp;lt; line &amp;lt;&amp;lt; endl;\n    }\n    &lt;span class=&quot;hljs-comment&quot;&gt;// close the file stream&lt;/span&gt;\n    inFile.&lt;span class=&quot;hljs-built_in&quot;&gt;close&lt;/span&gt;();\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Although there is no need to close the file manually but it is good idea to do so if the scope of the file variable is bigger:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;    &lt;span class=&quot;hljs-function&quot;&gt;ifstream &lt;span class=&quot;hljs-title&quot;&gt;infile&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(szFilePath)&lt;/span&gt;&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (string line = &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;; &lt;span class=&quot;hljs-built_in&quot;&gt;getline&lt;/span&gt;(infile, line); )\n    {\n        &lt;span class=&quot;hljs-comment&quot;&gt;//do something with the line&lt;/span&gt;\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(infile.&lt;span class=&quot;hljs-built_in&quot;&gt;is_open&lt;/span&gt;())\n        infile.&lt;span class=&quot;hljs-built_in&quot;&gt;close&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;This is a general solution to loading data into a C++ program, and uses the readline function. This could be modified for CSV files, but the delimiter is a space here. &lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; n = &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, p = &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; X[n][p];\n\nifstream myfile;\n\nmyfile.&lt;span class=&quot;hljs-built_in&quot;&gt;open&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;data.txt&quot;&lt;/span&gt;);\n\nstring line;\nstring temp = &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;;\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; a = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// row index &lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;hljs-built_in&quot;&gt;getline&lt;/span&gt;(myfile, line)) { &lt;span class=&quot;hljs-comment&quot;&gt;//while there is a line&lt;/span&gt;\n     &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; b = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// column index&lt;/span&gt;\n     &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; line.&lt;span class=&quot;hljs-built_in&quot;&gt;size&lt;/span&gt;(); i++) { &lt;span class=&quot;hljs-comment&quot;&gt;// for each character in rowstring&lt;/span&gt;\n          &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;hljs-built_in&quot;&gt;isblank&lt;/span&gt;(line[i])) { &lt;span class=&quot;hljs-comment&quot;&gt;// if it is not blank, do this&lt;/span&gt;\n              &lt;span class=&quot;hljs-function&quot;&gt;string &lt;span class=&quot;hljs-title&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, line[i])&lt;/span&gt;&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// convert character to string&lt;/span&gt;\n              temp.&lt;span class=&quot;hljs-built_in&quot;&gt;append&lt;/span&gt;(d); &lt;span class=&quot;hljs-comment&quot;&gt;// append the two strings&lt;/span&gt;\n        } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n              X[a][b] = &lt;span class=&quot;hljs-built_in&quot;&gt;stod&lt;/span&gt;(temp);  &lt;span class=&quot;hljs-comment&quot;&gt;// convert string to double&lt;/span&gt;\n              temp = &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// reset the capture&lt;/span&gt;\n              b++; &lt;span class=&quot;hljs-comment&quot;&gt;// increment b cause we have a new number&lt;/span&gt;\n        }\n    }\n\n  X[a][b] = &lt;span class=&quot;hljs-built_in&quot;&gt;stod&lt;/span&gt;(temp);\n  temp = &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;;\n  a++; &lt;span class=&quot;hljs-comment&quot;&gt;// onto next row&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    "]},"randomTags":[{"name":"cross-browser","slug":"cross-browser"},{"name":"reserved-words","slug":"reserved-words"},{"name":"magic-methods","slug":"magic-methods"},{"name":"session-variables","slug":"session-variables"},{"name":"application-state","slug":"application-state"},{"name":"bit-manipulation","slug":"bit-manipulation"},{"name":"extract","slug":"extract"},{"name":"javafx","slug":"javafx"},{"name":"php-password-hash","slug":"php-password-hash"},{"name":"x509certificate","slug":"x509certificate"},{"name":"sizeof","slug":"sizeof"},{"name":"double-quotes","slug":"double-quotes"},{"name":"android-networking","slug":"android-networking"},{"name":"methods","slug":"methods"},{"name":"parsing","slug":"parsing"},{"name":"operator-overloading","slug":"operator-overloading"},{"name":"sqlexception","slug":"sqlexception"},{"name":"foreach","slug":"foreach"},{"name":"copy-and-swap","slug":"copy-and-swap"},{"name":"compiler-errors","slug":"compiler-errors"}]},"__N_SSG":true}