{"pageProps":{"data":{"count":1,"rows":[{"id":24,"title":"How to make good reproducible pandas examples","slug":"how-to-make-good-reproducible-pandas-examples-1657384310402","postType":"QUESTION","createdAt":"2022-07-09T16:31:50.000Z","updatedAt":"2022-07-09T16:31:50.000Z","tags":[{"id":79,"name":"pandas","slug":"pandas","createdAt":"2022-07-09T16:31:50.000Z","updatedAt":"2022-07-09T16:31:50.000Z","Questions_Tags":{"questionId":24,"tagId":79}}]}]},"slug":"pandas","page":"1","answers":{"24":["\n&lt;p&gt;&lt;em&gt;Note: The ideas here are pretty generic for Stack Overflow, indeed &lt;a href=&quot;http://sscce.org/&quot; rel=&quot;noreferrer&quot;&gt;questions&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;\n&lt;h3&gt;Disclaimer: Writing a good question is &lt;em&gt;hard&lt;/em&gt;.&lt;/h3&gt;\n&lt;h2&gt;The Good:&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;do include small* example DataFrame, either as runnable code:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]: df = pd.DataFrame([[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]], columns=[&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;B&apos;&lt;/span&gt;])\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;or make it &quot;copy and pasteable&quot; using &lt;code&gt;pd.read_clipboard(sep=&apos;\\s\\s+&apos;)&lt;/code&gt;, you can format the text for Stack Overflow highlight and use &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;K&lt;/kbd&gt; (or prepend four spaces to each line), or place three backticks (```) above and below your code with your code unindented:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]: df\nOut[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]:\n   A  B\n&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;test &lt;code&gt;pd.read_clipboard(sep=&apos;\\s\\s+&apos;)&lt;/code&gt; yourself.&lt;/p&gt;\n&lt;p&gt;* &lt;em&gt;I really do mean &lt;strong&gt;small&lt;/strong&gt;. The vast majority of example DataFrames could be fewer than 6 rows &lt;sup&gt;[citation needed]&lt;/sup&gt;, and &lt;strong&gt;I bet I can do it in 5 rows.&lt;/strong&gt; Can you reproduce the error with &lt;code&gt;df = df.head()&lt;/code&gt;? If not, fiddle around to see if you can make up a small DataFrame which exhibits the issue you are facing.&lt;/em&gt;&lt;/p&gt;\n&lt;p&gt;* &lt;em&gt;Every rule has an exception, the obvious one is for performance issues  (&lt;a href=&quot;http://ipython.org/ipython-doc/dev/interactive/tutorial.html#magic-functions&quot; rel=&quot;noreferrer&quot;&gt;in which case definitely use %timeit and possibly %prun&lt;/a&gt;), where you should generate: &lt;code&gt;df = pd.DataFrame(np.random.randn(100000000, 10))&lt;/code&gt;. Consider using &lt;code&gt;np.random.seed&lt;/code&gt; so we have the exact same frame. Saying that, &quot;make this code fast for me&quot; is not strictly on topic for the site.&lt;/em&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;write out the outcome you desire (similarly to above)&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]: iwantthis\nOut[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]:\n   A  B\n&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;em&gt;Explain what the numbers come from: the 5 is sum of the B column for the rows where A is 1.&lt;/em&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;do show &lt;em&gt;the code&lt;/em&gt; you&apos;ve tried:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]: df.groupby(&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;()\nOut[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]:\n   B\nA\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;em&gt;But say what&apos;s incorrect: the A column is in the index rather than a column.&lt;/em&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;do show you&apos;ve done some research (&lt;a href=&quot;http://pandas.pydata.org/pandas-docs/stable/search.html?q=groupby+sum&quot; rel=&quot;noreferrer&quot;&gt;search the documentation&lt;/a&gt;, &lt;a href=&quot;https://stackoverflow.com/search?q=%5Bpandas%5D+groupby+sum&quot;&gt;search Stack&amp;nbsp;Overflow&lt;/a&gt;), and give a summary:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;The docstring for sum simply states &quot;Compute sum of group values&quot;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;blockquote&gt;\n&lt;p&gt;The &lt;a href=&quot;http://pandas.pydata.org/pandas-docs/stable/groupby.html#cython-optimized-aggregation-functions&quot; rel=&quot;noreferrer&quot;&gt;groupby documentation&lt;/a&gt; doesn&apos;t give any examples for this.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;&lt;em&gt;Aside: the answer here is to use &lt;code&gt;df.groupby(&apos;A&apos;, as_index=False).sum()&lt;/code&gt;.&lt;/em&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;if it&apos;s relevant that you have Timestamp columns, e.g. you&apos;re resampling or something, then be explicit and apply &lt;code&gt;pd.to_datetime&lt;/code&gt; to them for good measure**.&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;df[&lt;span class=&quot;hljs-string&quot;&gt;&apos;date&apos;&lt;/span&gt;] = pd.to_datetime(df[&lt;span class=&quot;hljs-string&quot;&gt;&apos;date&apos;&lt;/span&gt;]) &lt;span class=&quot;hljs-comment&quot;&gt;# this column ought to be date..&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;** &lt;em&gt;Sometimes this is the issue itself: they were strings.&lt;/em&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2&gt;The Bad:&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;don&apos;t include a MultiIndex, which &lt;strong&gt;we can&apos;t copy and paste&lt;/strong&gt; (see above). This is kind of a grievance with Pandas&apos; default display, but nonetheless annoying:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;]: df\nOut[&lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;]:\n     C\nA B\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;em&gt;The correct way is to include an ordinary DataFrame with a &lt;a href=&quot;http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.set_index.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;set_index&lt;/code&gt;&lt;/a&gt; call:&lt;/em&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;]: df = pd.DataFrame([[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]], columns=[&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;B&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;C&apos;&lt;/span&gt;]).set_index([&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;B&apos;&lt;/span&gt;])\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;13&lt;/span&gt;]: df\nOut[&lt;span class=&quot;hljs-number&quot;&gt;13&lt;/span&gt;]:\n     C\nA B\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;do provide insight to what it is when giving the outcome you want:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;   B\nA\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;em&gt;Be specific about how you got the numbers (what are they)... double check they&apos;re correct.&lt;/em&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;If your code throws an error, do include the entire stack trace (this can be edited out later if it&apos;s too noisy). Show the line number (and the corresponding line of your code which it&apos;s raising against).&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2&gt;The Ugly:&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;don&apos;t link to a &lt;a href=&quot;https://en.wikipedia.org/wiki/Comma-separated_values&quot; rel=&quot;noreferrer&quot;&gt;CSV&lt;/a&gt; file we don&apos;t have access to (ideally don&apos;t link to an external source at all...)&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;df = pd.read_csv(&lt;span class=&quot;hljs-string&quot;&gt;&apos;my_secret_file.csv&apos;&lt;/span&gt;)  &lt;span class=&quot;hljs-comment&quot;&gt;# ideally with lots of parsing options&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;em&gt;&lt;strong&gt;Most data is proprietary&lt;/strong&gt; we get that: Make up similar data and see if you can reproduce the problem (something small).&lt;/em&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;don&apos;t explain the situation vaguely in words, like you have a DataFrame which is &quot;large&quot;, mention some of the column names in passing (be sure not to mention their dtypes). Try and go into lots of detail about something which is completely meaningless without seeing the actual context. Presumably no one is even going to read to the end of this paragraph.&lt;/p&gt;\n&lt;p&gt;&lt;em&gt;Essays are bad, it&apos;s easier with small examples.&lt;/em&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;don&apos;t include 10+ (100+??) lines of data munging before getting to your actual question.&lt;/p&gt;\n&lt;p&gt;&lt;em&gt;Please, we see enough of this in our day jobs. We want to help, but &lt;a href=&quot;https://www.youtube.com/watch?v=ECfRp-jwbI4&quot; rel=&quot;noreferrer&quot;&gt;not like this...&lt;/a&gt;.&lt;/em&gt;\n&lt;em&gt;Cut the intro, and just show the relevant DataFrames (or small versions of them) in the step which is causing you trouble.&lt;/em&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3&gt;Anyway, have fun learning Python, NumPy and Pandas!&lt;/h3&gt;\n    ","\n&lt;h2 id=&quot;how-to-create-sample-datasets-g7je&quot;&gt;How to create sample datasets&lt;/h2&gt;\n&lt;p&gt;This is to mainly to expand on &lt;a href=&quot;https://stackoverflow.com/questions/20109391/how-to-make-good-reproducible-pandas-examples/20159305#20159305&quot;&gt;AndyHayden&apos;s answer&lt;/a&gt; by providing examples of how you can create sample dataframes.  Pandas and (especially) NumPy give you a variety of tools for this such that you can generally create a reasonable facsimile of any real dataset with just a few lines of code.&lt;/p&gt;\n&lt;p&gt;After importing NumPy and Pandas, be sure to provide a random seed if you want folks to be able to exactly reproduce your data and results.&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; numpy &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; np\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; pandas &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; pd\n\nnp.random.seed(&lt;span class=&quot;hljs-number&quot;&gt;123&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=&quot;a-kitchen-sink-example-q2h8&quot;&gt;A kitchen sink example&lt;/h3&gt;\n&lt;p&gt;Here&apos;s an example showing a variety of things you can do.  All kinds of useful sample dataframes could be created from a subset of this:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;df = pd.DataFrame({\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;# some ways to create random data&lt;/span&gt;\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;:np.random.randn(&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;),\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;:np.random.choice( [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;,np.nan], &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;),\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;:np.random.choice( [&lt;span class=&quot;hljs-string&quot;&gt;&apos;panda&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;python&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;shark&apos;&lt;/span&gt;], &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;),\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;# some ways to create systematic groups for indexing or groupby&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;# this is similar to R&apos;s expand.grid(), see note 2 below&lt;/span&gt;\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;:np.repeat( &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;), &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; ),\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;e&apos;&lt;/span&gt;:np.tile(   &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;), &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; ),\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;# a date range and set of random dates&lt;/span&gt;\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;f&apos;&lt;/span&gt;:pd.date_range(&lt;span class=&quot;hljs-string&quot;&gt;&apos;1/1/2011&apos;&lt;/span&gt;, periods=&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, freq=&lt;span class=&quot;hljs-string&quot;&gt;&apos;D&apos;&lt;/span&gt;),\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;g&apos;&lt;/span&gt;:np.random.choice( pd.date_range(&lt;span class=&quot;hljs-string&quot;&gt;&apos;1/1/2011&apos;&lt;/span&gt;, periods=&lt;span class=&quot;hljs-number&quot;&gt;365&lt;/span&gt;,\n                          freq=&lt;span class=&quot;hljs-string&quot;&gt;&apos;D&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, replace=&lt;span class=&quot;hljs-literal&quot;&gt;False&lt;/span&gt;)\n    })\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This produces:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;          a   b       c  d  e          f          g\n&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; -&lt;span class=&quot;hljs-number&quot;&gt;1.085631&lt;/span&gt; NaN   panda  &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-01 &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-08-&lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;0.997345&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;   shark  &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-02 &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;0.282978&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;   panda  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-03 &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; -&lt;span class=&quot;hljs-number&quot;&gt;1.506295&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;  python  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-04 &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-09-07\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; -&lt;span class=&quot;hljs-number&quot;&gt;0.578600&lt;/span&gt; NaN   shark  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-05 &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-02-&lt;span class=&quot;hljs-number&quot;&gt;27&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1.651437&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;  python  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-06 &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-02-03\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Some notes:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;code&gt;np.repeat&lt;/code&gt; and &lt;code&gt;np.tile&lt;/code&gt; (columns &lt;code&gt;d&lt;/code&gt; and &lt;code&gt;e&lt;/code&gt;) are very useful for creating groups and indices in a very regular way.  For 2 columns, this can be used to easily duplicate r&apos;s &lt;code&gt;expand.grid()&lt;/code&gt; but is also more flexible in ability to provide a subset of all permutations.  However, for 3 or more columns the syntax quickly becomes unwieldy.&lt;/li&gt;\n&lt;li&gt;For a more direct replacement for R&apos;s &lt;code&gt;expand.grid()&lt;/code&gt; see the &lt;code&gt;itertools&lt;/code&gt; solution in the &lt;a href=&quot;http://pandas.pydata.org/pandas-docs/version/0.16.1/cookbook.html#creating-example-data&quot; rel=&quot;nofollow noreferrer&quot;&gt;pandas cookbook&lt;/a&gt; or the &lt;code&gt;np.meshgrid&lt;/code&gt; solution shown &lt;a href=&quot;https://stackoverflow.com/questions/12130883/r-expand-grid-function-in-python&quot;&gt;here&lt;/a&gt;.  Those will allow any number of dimensions.&lt;/li&gt;\n&lt;li&gt;You can do quite a bit with &lt;code&gt;np.random.choice&lt;/code&gt;.  For example, in column &lt;code&gt;g&lt;/code&gt;, we have a random selection of six dates from 2011.  Additionally, by setting &lt;code&gt;replace=False&lt;/code&gt; we can assure these dates are unique -- very handy if we want to use this as an index with unique values.&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h3 id=&quot;fake-stock-market-data-abwo&quot;&gt;Fake stock market data&lt;/h3&gt;\n&lt;p&gt;In addition to taking subsets of the above code, you can further combine the techniques to do just about anything.  For example, here&apos;s a short example that combines &lt;code&gt;np.tile&lt;/code&gt; and &lt;code&gt;date_range&lt;/code&gt; to create sample ticker data for 4 stocks covering the same dates:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;stocks = pd.DataFrame({\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;ticker&apos;&lt;/span&gt;:np.repeat( [&lt;span class=&quot;hljs-string&quot;&gt;&apos;aapl&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;goog&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;yhoo&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;msft&apos;&lt;/span&gt;], &lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt; ),\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;date&apos;&lt;/span&gt;:np.tile( pd.date_range(&lt;span class=&quot;hljs-string&quot;&gt;&apos;1/1/2011&apos;&lt;/span&gt;, periods=&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;, freq=&lt;span class=&quot;hljs-string&quot;&gt;&apos;D&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; ),\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;price&apos;&lt;/span&gt;:(np.random.randn(&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;).cumsum() + &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;) })\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Now we have a sample dataset with 100 lines (25 dates per ticker), but we have only used 4 lines to do it, making it easy for everyone else to reproduce without copying and pasting 100 lines of code.  You can then display subsets of the data if it helps to explain your question:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;stocks.head(&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;)\n\n        date      price ticker\n&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-01   &lt;span class=&quot;hljs-number&quot;&gt;9.497412&lt;/span&gt;   aapl\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-02  &lt;span class=&quot;hljs-number&quot;&gt;10.261908&lt;/span&gt;   aapl\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-03   &lt;span class=&quot;hljs-number&quot;&gt;9.438538&lt;/span&gt;   aapl\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-04   &lt;span class=&quot;hljs-number&quot;&gt;9.515958&lt;/span&gt;   aapl\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-05   &lt;span class=&quot;hljs-number&quot;&gt;7.554070&lt;/span&gt;   aapl\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;stocks.groupby(&lt;span class=&quot;hljs-string&quot;&gt;&apos;ticker&apos;&lt;/span&gt;).head(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;)\n\n         date      price ticker\n&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-01   &lt;span class=&quot;hljs-number&quot;&gt;9.497412&lt;/span&gt;   aapl\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-02  &lt;span class=&quot;hljs-number&quot;&gt;10.261908&lt;/span&gt;   aapl\n&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-01   &lt;span class=&quot;hljs-number&quot;&gt;8.277772&lt;/span&gt;   goog\n&lt;span class=&quot;hljs-number&quot;&gt;26&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-02   &lt;span class=&quot;hljs-number&quot;&gt;7.714916&lt;/span&gt;   goog\n&lt;span class=&quot;hljs-number&quot;&gt;50&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-01   &lt;span class=&quot;hljs-number&quot;&gt;5.613023&lt;/span&gt;   yhoo\n&lt;span class=&quot;hljs-number&quot;&gt;51&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-02   &lt;span class=&quot;hljs-number&quot;&gt;6.397686&lt;/span&gt;   yhoo\n&lt;span class=&quot;hljs-number&quot;&gt;75&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-01  &lt;span class=&quot;hljs-number&quot;&gt;11.736584&lt;/span&gt;   msft\n&lt;span class=&quot;hljs-number&quot;&gt;76&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-02  &lt;span class=&quot;hljs-number&quot;&gt;11.944519&lt;/span&gt;   msft\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;h1&gt;Diary of an Answerer&lt;/h1&gt;\n\n&lt;p&gt;My best advice for asking questions would be to play on the psychology of the people who answer questions.  Being one of those people, I can give insight into why I answer certain questions and why I don&apos;t answer others.&lt;/p&gt;\n\n&lt;h3&gt;Motivations&lt;/h3&gt;\n\n&lt;p&gt;I&apos;m motivated to answer questions for several reasons&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Stackoverflow.com has been a tremendously valuable resource to me.  I wanted to give back.&lt;/li&gt;\n&lt;li&gt;In my efforts to give back, I&apos;ve found this site to be an even more powerful resource than before.  Answering questions is a learning experience for me and I like to learn.  &lt;a href=&quot;https://stackoverflow.com/a/38444638/2336654&quot;&gt;Read this answer and comment from another vet&lt;/a&gt;.  This kind of interaction makes me happy.&lt;/li&gt;\n&lt;li&gt;I like points!&lt;/li&gt;\n&lt;li&gt;See #3.&lt;/li&gt;\n&lt;li&gt;I like interesting problems.&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;All my purest intentions are great and all, but I get that satisfaction if I answer 1 question or 30.  &lt;strong&gt;What drives my choices&lt;/strong&gt; for which questions to answer has a huge component of point maximization.&lt;/p&gt;\n\n&lt;p&gt;I&apos;ll also spend time on interesting problems but that is few and far between and doesn&apos;t help an asker who needs a solution to a non-interesting question.  Your best bet to get me to answer a question is to serve that question up on a platter ripe for me to answer it with as little effort as possible.  If I&apos;m looking at two questions and one has code I can copy paste to create all the variables I need... I&apos;m taking that one!  I&apos;ll come back to the other one if I have time, maybe.&lt;/p&gt;\n\n&lt;h3&gt;Main Advice&lt;/h3&gt;\n\n&lt;p&gt;Make it easy for the people answering questions.&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Provide code that creates variables that are needed.&lt;/li&gt;\n&lt;li&gt;Minimize that code.  If my eyes glaze over as I look at the post, I&apos;m on to the next question or getting back to whatever else I&apos;m doing.&lt;/li&gt;\n&lt;li&gt;Think about what you&apos;re asking and be specific.  We want to see what you&apos;ve done because natural languages (English) are inexact and confusing.  Code samples of what you&apos;ve tried help resolve inconsistencies in a natural language description.&lt;/li&gt;\n&lt;li&gt;PLEASE show what you expect!!!  I have to sit down and try things.  I almost never know the answer to a question without trying some things out.  If I don&apos;t see an example of what you&apos;re looking for, I might pass on the question because I don&apos;t feel like guessing.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h3&gt;Your reputation is more than just your reputation.&lt;/h3&gt;\n\n&lt;p&gt;I like points (I mentioned that above).  But those points aren&apos;t really really my reputation.  My real reputation is an amalgamation of what others on the site think of me.  I strive to be fair and honest and I hope others can see that.  What that means for an asker is, we remember the behaviors of askers.  If you don&apos;t select answers and upvote good answers, I remember.  If you behave in ways I don&apos;t like or in ways I do like, I remember.  This also plays into which questions I&apos;ll answer.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;Anyway, I can probably go on, but I&apos;ll spare all of you who actually read this.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;The Challenge&lt;/strong&gt; One of the most challenging aspects of responding to SO questions is the time it takes to recreate the problem (including the data).  Questions which don&apos;t have a clear way to reproduce the data are less likely to be answered.  Given that you are taking the time to write a question and you have an issue that you&apos;d like help with, you can easily help yourself by providing data that others can then use to help solve your problem.&lt;/p&gt;\n&lt;p&gt;The instructions provided by @Andy for writing good Pandas questions are an excellent place to start.  For more information, refer to &lt;a href=&quot;https://stackoverflow.com/help/how-to-ask&quot;&gt;how to ask&lt;/a&gt; and how to create &lt;a href=&quot;https://stackoverflow.com/help/mcve&quot;&gt;Minimal, Complete, and Verifiable examples&lt;/a&gt;.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Please clearly state your question upfront.&lt;/strong&gt;  After taking the time to write your question and any sample code, try to read it and provide an &apos;Executive Summary&apos; for your reader which summarizes the problem and clearly states the question.&lt;/p&gt;\n&lt;p&gt;&lt;em&gt;Original question&lt;/em&gt;:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;I have this data...&lt;/p&gt;\n&lt;p&gt;I want to do this...&lt;/p&gt;\n&lt;p&gt;I want my result to look like this...&lt;/p&gt;\n&lt;p&gt;However, when I try to do [this], I get the following problem...&lt;/p&gt;\n&lt;p&gt;I&apos;ve tried to find solutions by doing [this] and [that].&lt;/p&gt;\n&lt;p&gt;How do I fix it?&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;Depending on the amount of data, sample code and error stacks provided, the reader needs to go a long way before understanding what the problem is.  Try restating your question so that the question itself is on top, and then provide the necessary details.&lt;/p&gt;\n&lt;p&gt;&lt;em&gt;Revised Question&lt;/em&gt;:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;&lt;strong&gt;Qustion:&lt;/strong&gt;  How can I do [this]?&lt;/p&gt;\n&lt;p&gt;I&apos;ve tried to find solutions by doing [this] and [that].&lt;/p&gt;\n&lt;p&gt;When I&apos;ve tried to do [this], I get the following problem...&lt;/p&gt;\n&lt;p&gt;I&apos;d like my final results to look like this...&lt;/p&gt;\n&lt;p&gt;Here is some minimal code that can reproduce my problem...&lt;/p&gt;\n&lt;p&gt;And here is how to recreate my sample data:\n&lt;code&gt;df = pd.DataFrame({&apos;A&apos;: [...], &apos;B&apos;: [...], ...})&lt;/code&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;&lt;strong&gt;PROVIDE SAMPLE DATA IF NEEDED!!!&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;Sometimes just the head or tail of the DataFrame is all that is needed.  You can also use the methods proposed by @JohnE to create larger datasets that can be reproduced by others.  Using his example to generate a 100 row DataFrame of stock prices:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;stocks = pd.DataFrame({ \n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;ticker&apos;&lt;/span&gt;:np.repeat( [&lt;span class=&quot;hljs-string&quot;&gt;&apos;aapl&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;goog&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;yhoo&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;msft&apos;&lt;/span&gt;], &lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt; ),\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;date&apos;&lt;/span&gt;:np.tile( pd.date_range(&lt;span class=&quot;hljs-string&quot;&gt;&apos;1/1/2011&apos;&lt;/span&gt;, periods=&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;, freq=&lt;span class=&quot;hljs-string&quot;&gt;&apos;D&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; ),\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;price&apos;&lt;/span&gt;:(np.random.randn(&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;).cumsum() + &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;) })\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;If this was your actual data, you may just want to include the head and/or tail of the dataframe as follows (be sure to anonymize any sensitive data):&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;stocks.head(&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;).to_dict()\n{&lt;span class=&quot;hljs-string&quot;&gt;&apos;date&apos;&lt;/span&gt;: {&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;: Timestamp(&lt;span class=&quot;hljs-string&quot;&gt;&apos;2011-01-01 00:00:00&apos;&lt;/span&gt;),\n  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;: Timestamp(&lt;span class=&quot;hljs-string&quot;&gt;&apos;2011-01-01 00:00:00&apos;&lt;/span&gt;),\n  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;: Timestamp(&lt;span class=&quot;hljs-string&quot;&gt;&apos;2011-01-01 00:00:00&apos;&lt;/span&gt;),\n  &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;: Timestamp(&lt;span class=&quot;hljs-string&quot;&gt;&apos;2011-01-01 00:00:00&apos;&lt;/span&gt;),\n  &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;: Timestamp(&lt;span class=&quot;hljs-string&quot;&gt;&apos;2011-01-02 00:00:00&apos;&lt;/span&gt;)},\n &lt;span class=&quot;hljs-string&quot;&gt;&apos;price&apos;&lt;/span&gt;: {&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;10.284260107718254&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;11.930300761831457&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;10.93741046217319&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;10.884574289565609&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;11.78005850418319&lt;/span&gt;},\n &lt;span class=&quot;hljs-string&quot;&gt;&apos;ticker&apos;&lt;/span&gt;: {&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;aapl&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;aapl&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;aapl&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;aapl&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;aapl&apos;&lt;/span&gt;}}\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;pd.concat([stocks.head(), stocks.tail()], ignore_index=&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;).to_dict()\n{&lt;span class=&quot;hljs-string&quot;&gt;&apos;date&apos;&lt;/span&gt;: {&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;: Timestamp(&lt;span class=&quot;hljs-string&quot;&gt;&apos;2011-01-01 00:00:00&apos;&lt;/span&gt;),\n  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;: Timestamp(&lt;span class=&quot;hljs-string&quot;&gt;&apos;2011-01-01 00:00:00&apos;&lt;/span&gt;),\n  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;: Timestamp(&lt;span class=&quot;hljs-string&quot;&gt;&apos;2011-01-01 00:00:00&apos;&lt;/span&gt;),\n  &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;: Timestamp(&lt;span class=&quot;hljs-string&quot;&gt;&apos;2011-01-01 00:00:00&apos;&lt;/span&gt;),\n  &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;: Timestamp(&lt;span class=&quot;hljs-string&quot;&gt;&apos;2011-01-02 00:00:00&apos;&lt;/span&gt;),\n  &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;: Timestamp(&lt;span class=&quot;hljs-string&quot;&gt;&apos;2011-01-24 00:00:00&apos;&lt;/span&gt;),\n  &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;: Timestamp(&lt;span class=&quot;hljs-string&quot;&gt;&apos;2011-01-25 00:00:00&apos;&lt;/span&gt;),\n  &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;: Timestamp(&lt;span class=&quot;hljs-string&quot;&gt;&apos;2011-01-25 00:00:00&apos;&lt;/span&gt;),\n  &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;: Timestamp(&lt;span class=&quot;hljs-string&quot;&gt;&apos;2011-01-25 00:00:00&apos;&lt;/span&gt;),\n  &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;: Timestamp(&lt;span class=&quot;hljs-string&quot;&gt;&apos;2011-01-25 00:00:00&apos;&lt;/span&gt;)},\n &lt;span class=&quot;hljs-string&quot;&gt;&apos;price&apos;&lt;/span&gt;: {&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;10.284260107718254&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;11.930300761831457&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;10.93741046217319&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;10.884574289565609&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;11.78005850418319&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;10.017209045035006&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;10.57090128181566&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;11.442792747870204&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;11.592953372130493&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;12.864146419530938&lt;/span&gt;},\n &lt;span class=&quot;hljs-string&quot;&gt;&apos;ticker&apos;&lt;/span&gt;: {&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;aapl&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;aapl&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;aapl&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;aapl&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;aapl&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;msft&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;msft&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;msft&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;msft&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;msft&apos;&lt;/span&gt;}}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;You may also want to provide a description of the DataFrame (using only the relevant columns).  This makes it easier for others to check the data types of each column and identify other common errors (e.g. dates as string vs. datetime64 vs. object):&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;stocks.info()\n&amp;lt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;pandas.core.frame.DataFrame&apos;&lt;/span&gt;&amp;gt;\nInt64Index: &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt; entries, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; to &lt;span class=&quot;hljs-number&quot;&gt;99&lt;/span&gt;\nData columns (total &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; columns):\ndate      &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt; non-null datetime64[ns]\nprice     &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt; non-null float64\nticker    &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt; non-null &lt;span class=&quot;hljs-built_in&quot;&gt;object&lt;/span&gt;\ndtypes: datetime64[ns](&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;), float64(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;), &lt;span class=&quot;hljs-built_in&quot;&gt;object&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;NOTE:  If your DataFrame has a MultiIndex:&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;If your DataFrame has a multiindex, you must first reset before calling &lt;code&gt;to_dict&lt;/code&gt;.  You then need to recreate the index using &lt;code&gt;set_index&lt;/code&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# MultiIndex example.  First create a MultiIndex DataFrame.&lt;/span&gt;\ndf = stocks.set_index([&lt;span class=&quot;hljs-string&quot;&gt;&apos;date&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;ticker&apos;&lt;/span&gt;])\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;df\n                       price\ndate       ticker           \n&lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-01 aapl    &lt;span class=&quot;hljs-number&quot;&gt;10.284260&lt;/span&gt;\n           aapl    &lt;span class=&quot;hljs-number&quot;&gt;11.930301&lt;/span&gt;\n           aapl    &lt;span class=&quot;hljs-number&quot;&gt;10.937410&lt;/span&gt;\n           aapl    &lt;span class=&quot;hljs-number&quot;&gt;10.884574&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-02 aapl    &lt;span class=&quot;hljs-number&quot;&gt;11.780059&lt;/span&gt;\n...\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# After resetting the index and passing the DataFrame to `to_dict`, make sure to use &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# `set_index` to restore the original MultiIndex.  This DataFrame can then be restored.&lt;/span&gt;\n\nd = df.reset_index().to_dict()\ndf_new = pd.DataFrame(d).set_index([&lt;span class=&quot;hljs-string&quot;&gt;&apos;date&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;ticker&apos;&lt;/span&gt;])\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;df_new.head()\n                       price\ndate       ticker           \n&lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-01 aapl    &lt;span class=&quot;hljs-number&quot;&gt;10.284260&lt;/span&gt;\n           aapl    &lt;span class=&quot;hljs-number&quot;&gt;11.930301&lt;/span&gt;\n           aapl    &lt;span class=&quot;hljs-number&quot;&gt;10.937410&lt;/span&gt;\n           aapl    &lt;span class=&quot;hljs-number&quot;&gt;10.884574&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2011&lt;/span&gt;-01-02 aapl    &lt;span class=&quot;hljs-number&quot;&gt;11.780059&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Here is my version of &lt;a href=&quot;https://stat.ethz.ch/R-manual/R-devel/library/base/html/dput.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;dput&lt;/code&gt;&lt;/a&gt; - the standard R tool to produce reproducible reports - for Pandas &lt;code&gt;DataFrame&lt;/code&gt;s.\nIt will probably fail for more complex frames, but it seems to do the job in simple cases:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; pandas &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; pd\n&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;dput&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt;):\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;isinstance&lt;/span&gt;(x,pd.Series):\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;pd.Series(%s,dtype=&apos;%s&apos;,index=pd.%s)&quot;&lt;/span&gt; % (&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(x),x.dtype,x.index)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;isinstance&lt;/span&gt;(x,pd.DataFrame):\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;pd.DataFrame({&quot;&lt;/span&gt; + &lt;span class=&quot;hljs-string&quot;&gt;&quot;, &quot;&lt;/span&gt;.join([\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;&apos;%s&apos;: %s&quot;&lt;/span&gt; % (c,dput(x[c])) &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; c &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; x.columns]) + (\n                &lt;span class=&quot;hljs-string&quot;&gt;&quot;}, index=pd.%s)&quot;&lt;/span&gt; % (x.index))\n    &lt;span class=&quot;hljs-keyword&quot;&gt;raise&lt;/span&gt; NotImplementedError(&lt;span class=&quot;hljs-string&quot;&gt;&quot;dput&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-built_in&quot;&gt;type&lt;/span&gt;(x),x)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;now,&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;df = pd.DataFrame({&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;:[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]})\n&lt;span class=&quot;hljs-keyword&quot;&gt;assert&lt;/span&gt; df.equals(&lt;span class=&quot;hljs-built_in&quot;&gt;eval&lt;/span&gt;(dput(df)))\ndu = pd.get_dummies(df.a,&lt;span class=&quot;hljs-string&quot;&gt;&quot;foo&quot;&lt;/span&gt;)\n&lt;span class=&quot;hljs-keyword&quot;&gt;assert&lt;/span&gt; du.equals(&lt;span class=&quot;hljs-built_in&quot;&gt;eval&lt;/span&gt;(dput(du)))\ndi = df\ndi.index = &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;abcdefgh&apos;&lt;/span&gt;)\n&lt;span class=&quot;hljs-keyword&quot;&gt;assert&lt;/span&gt; di.equals(&lt;span class=&quot;hljs-built_in&quot;&gt;eval&lt;/span&gt;(dput(di)))\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt; that this produces a much more verbose output than &lt;a href=&quot;http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_dict.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;DataFrame.to_dict&lt;/code&gt;&lt;/a&gt;, e.g.,&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;pd.DataFrame({\n  &lt;span class=&quot;hljs-string&quot;&gt;&apos;foo_1&apos;&lt;/span&gt;:pd.Series([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;],dtype=&lt;span class=&quot;hljs-string&quot;&gt;&apos;uint8&apos;&lt;/span&gt;,index=pd.RangeIndex(start=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, stop=&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, step=&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)),\n  &lt;span class=&quot;hljs-string&quot;&gt;&apos;foo_2&apos;&lt;/span&gt;:pd.Series([&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;],dtype=&lt;span class=&quot;hljs-string&quot;&gt;&apos;uint8&apos;&lt;/span&gt;,index=pd.RangeIndex(start=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, stop=&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, step=&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)),\n  &lt;span class=&quot;hljs-string&quot;&gt;&apos;foo_3&apos;&lt;/span&gt;:pd.Series([&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;],dtype=&lt;span class=&quot;hljs-string&quot;&gt;&apos;uint8&apos;&lt;/span&gt;,index=pd.RangeIndex(start=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, stop=&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, step=&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)),\n  &lt;span class=&quot;hljs-string&quot;&gt;&apos;foo_4&apos;&lt;/span&gt;:pd.Series([&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;],dtype=&lt;span class=&quot;hljs-string&quot;&gt;&apos;uint8&apos;&lt;/span&gt;,index=pd.RangeIndex(start=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, stop=&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, step=&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;))},\n  index=pd.RangeIndex(start=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, stop=&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, step=&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;))\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;vs&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;{&lt;span class=&quot;hljs-string&quot;&gt;&apos;foo_1&apos;&lt;/span&gt;: {&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;}, \n &lt;span class=&quot;hljs-string&quot;&gt;&apos;foo_2&apos;&lt;/span&gt;: {&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;}, \n &lt;span class=&quot;hljs-string&quot;&gt;&apos;foo_3&apos;&lt;/span&gt;: {&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;}, \n &lt;span class=&quot;hljs-string&quot;&gt;&apos;foo_4&apos;&lt;/span&gt;: {&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;}}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;for &lt;code&gt;du&lt;/code&gt; above, but it &lt;em&gt;preserves column types&lt;/em&gt;.\nE.g., in the above test case,&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;du.equals(pd.DataFrame(du.to_dict()))\n==&amp;gt; &lt;span class=&quot;hljs-literal&quot;&gt;False&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;because &lt;code&gt;du.dtypes&lt;/code&gt; is &lt;code&gt;uint8&lt;/code&gt; and &lt;code&gt;pd.DataFrame(du.to_dict()).dtypes&lt;/code&gt; is &lt;code&gt;int64&lt;/code&gt;.&lt;/p&gt;\n    "]},"randomTags":[{"name":"validation","slug":"validation"},{"name":"pandas-groupby","slug":"pandas-groupby"},{"name":"c99","slug":"c99"},{"name":"variable-variables","slug":"variable-variables"},{"name":"undefined-behavior","slug":"undefined-behavior"},{"name":"managed-bean","slug":"managed-bean"},{"name":"chrome-web-driver","slug":"chrome-web-driver"},{"name":"firefox","slug":"firefox"},{"name":"opengl","slug":"opengl"},{"name":"complexity-theory","slug":"complexity-theory"},{"name":"fflush","slug":"fflush"},{"name":"profiling","slug":"profiling"},{"name":"frame","slug":"frame"},{"name":"text-files","slug":"text-files"},{"name":"boolean-logic","slug":"boolean-logic"},{"name":"android","slug":"android"},{"name":"namespaces","slug":"namespaces"},{"name":"pygame-surface","slug":"pygame-surface"},{"name":"clone","slug":"clone"},{"name":"pdo","slug":"pdo"}]},"__N_SSG":true}