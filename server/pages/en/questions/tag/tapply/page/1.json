{"pageProps":{"data":{"count":1,"rows":[{"id":394,"title":"Grouping functions (tapply, by, aggregate) and the *apply family","slug":"grouping-functions-(tapply-by-aggregate)-and-the-*apply-family-1657387844286","postType":"QUESTION","createdAt":"2022-07-09T17:30:44.000Z","updatedAt":"2022-07-09T17:30:44.000Z","tags":[{"id":2129,"name":"tapply","slug":"tapply","createdAt":"2022-07-09T17:30:44.000Z","updatedAt":"2022-07-09T17:30:44.000Z","Questions_Tags":{"questionId":394,"tagId":2129}}]}]},"slug":"tapply","page":"1","answers":{"394":["\n&lt;p&gt;R has many *apply functions which are ably described in the help files (e.g. &lt;code&gt;?apply&lt;/code&gt;). There are enough of them, though, that beginning useRs may have difficulty deciding which one is appropriate for their situation or even remembering them all. They may have a general sense that &quot;I should be using an *apply function here&quot;, but it can be tough to keep them all straight at first.&lt;/p&gt;\n&lt;p&gt;Despite the fact (noted in other answers) that much of the functionality of the *apply family is covered by the extremely popular &lt;code&gt;plyr&lt;/code&gt; package, the base functions remain useful and worth knowing.&lt;/p&gt;\n&lt;p&gt;This answer is intended to act as a sort of &lt;strong&gt;signpost&lt;/strong&gt; for new useRs to help direct them to the correct *apply function for their particular problem. Note, this is &lt;strong&gt;not&lt;/strong&gt; intended to simply regurgitate or replace the R documentation! The hope is that this answer helps you to decide which *apply function suits your situation and then it is up to you to research it further. With one exception, performance differences will not be addressed.&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;apply&lt;/strong&gt; - &lt;em&gt;When you want to apply a function to the rows or columns\nof a matrix (and higher-dimensional analogues); not generally advisable for data frames as it will coerce to a matrix first.&lt;/em&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt; &lt;span class=&quot;hljs-comment&quot;&gt;# Two dimensional matrix&lt;/span&gt;\n M &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; matrix&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;seq&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n &lt;span class=&quot;hljs-comment&quot;&gt;# apply min to rows&lt;/span&gt;\n apply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;M&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;\n\n &lt;span class=&quot;hljs-comment&quot;&gt;# apply max to columns&lt;/span&gt;\n apply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;M&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;16&lt;/span&gt;\n\n &lt;span class=&quot;hljs-comment&quot;&gt;# 3 dimensional array&lt;/span&gt;\n M &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; array&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt; seq&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;dim&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n &lt;span class=&quot;hljs-comment&quot;&gt;# Apply sum across each M[*, , ] - i.e Sum across 2nd and 3rd dimension&lt;/span&gt;\n apply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;M&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n &lt;span class=&quot;hljs-comment&quot;&gt;# Result is one-dimensional&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;120&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;128&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;136&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;144&lt;/span&gt;\n\n &lt;span class=&quot;hljs-comment&quot;&gt;# Apply sum across each M[*, *, ] - i.e Sum across 3rd dimension&lt;/span&gt;\n apply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;M&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n &lt;span class=&quot;hljs-comment&quot;&gt;# Result is two-dimensional&lt;/span&gt;\n      &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;18&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;26&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;34&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;42&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;28&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;36&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;44&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;22&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;38&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;46&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;24&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;32&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;40&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;48&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;If you want row/column means or sums for a 2D matrix, be sure to\ninvestigate the highly optimized, lightning-quick &lt;code&gt;colMeans&lt;/code&gt;,\n&lt;code&gt;rowMeans&lt;/code&gt;, &lt;code&gt;colSums&lt;/code&gt;, &lt;code&gt;rowSums&lt;/code&gt;.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;lapply&lt;/strong&gt; - &lt;em&gt;When you want to apply a function to each element of a\nlist in turn and get a list back.&lt;/em&gt;&lt;/p&gt;\n&lt;p&gt;This is the workhorse of many of the other *apply functions. Peel\nback their code and you will often find &lt;code&gt;lapply&lt;/code&gt; underneath.&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt; x &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;a &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; b &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; \n lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; \n &lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;a \n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n &lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;b \n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n &lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt; \n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;\n lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; \n &lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;a \n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n &lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;b \n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;\n &lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt; \n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;5005&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;sapply&lt;/strong&gt; - &lt;em&gt;When you want to apply a function to each element of a\nlist in turn, but you want a &lt;strong&gt;vector&lt;/strong&gt; back, rather than a list.&lt;/em&gt;&lt;/p&gt;\n&lt;p&gt;If you find yourself typing &lt;code&gt;unlist(lapply(...))&lt;/code&gt;, stop and consider\n&lt;code&gt;sapply&lt;/code&gt;.&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt; x &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;a &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; b &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n &lt;span class=&quot;hljs-comment&quot;&gt;# Compare with above; a named vector, not a list &lt;/span&gt;\n sapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;  \n a  b  &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;   \n &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;\n\n sapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;   \n a    b    &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;    \n &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;5005&lt;/span&gt; \n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;In more advanced uses of &lt;code&gt;sapply&lt;/code&gt; it will attempt to coerce the\nresult to a multi-dimensional array, if appropriate. For example, if our function returns vectors of the same length, &lt;code&gt;sapply&lt;/code&gt; will use them as columns of a matrix:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt; sapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; rnorm&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;If our function returns a 2 dimensional matrix, &lt;code&gt;sapply&lt;/code&gt; will do essentially the same thing, treating each returned matrix as a single long vector:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt; sapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; matrix&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Unless we specify &lt;code&gt;simplify = &quot;array&quot;&lt;/code&gt;, in which case it will use the individual matrices to build a multi-dimensional array:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt; sapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; matrix&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; simplify &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;array&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Each of these behaviors is of course contingent on our function returning vectors or matrices of the same length or dimension.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;vapply&lt;/strong&gt; - &lt;em&gt;When you want to use &lt;code&gt;sapply&lt;/code&gt; but perhaps need to\nsqueeze some more speed out of your code or &lt;a href=&quot;http://stackoverflow.com/questions/12339650/why-is-vapply-safer-than-sapply/12340888#12340888&quot;&gt;want more type safety&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;\n&lt;p&gt;For &lt;code&gt;vapply&lt;/code&gt;, you basically give R an example of what sort of thing\nyour function will return, which can save some time coercing returned\nvalues to fit in a single atomic vector.&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt; x &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;a &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; b &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n &lt;span class=&quot;hljs-comment&quot;&gt;#Note that since the advantage here is mainly speed, this&lt;/span&gt;\n &lt;span class=&quot;hljs-comment&quot;&gt;# example is only for illustration. We&apos;re telling R that&lt;/span&gt;\n &lt;span class=&quot;hljs-comment&quot;&gt;# everything returned by length() should be an integer of &lt;/span&gt;\n &lt;span class=&quot;hljs-comment&quot;&gt;# length 1. &lt;/span&gt;\n vapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN.VALUE &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; \n a  b  &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;  \n &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;mapply&lt;/strong&gt; - &lt;em&gt;For when you have several data structures (e.g.\nvectors, lists) and you want to apply a function to the 1st elements\nof each, and then the 2nd elements of each, etc., coercing the result\nto a vector/array as in &lt;code&gt;sapply&lt;/code&gt;.&lt;/em&gt;&lt;/p&gt;\n&lt;p&gt;This is multivariate in the sense that your function must accept\nmultiple arguments.&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt; &lt;span class=&quot;hljs-comment&quot;&gt;#Sums the 1st elements, the 2nd elements, etc. &lt;/span&gt;\n mapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; \n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;\n &lt;span class=&quot;hljs-comment&quot;&gt;#To do rep(1,4), rep(2,3), etc.&lt;/span&gt;\n mapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;   \n &lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\n\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;Map&lt;/strong&gt; - &lt;em&gt;A wrapper to &lt;code&gt;mapply&lt;/code&gt; with &lt;code&gt;SIMPLIFY = FALSE&lt;/code&gt;, so it is guaranteed to return a list.&lt;/em&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt; Map&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;\n\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\n\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;\n\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;rapply&lt;/strong&gt; - &lt;em&gt;For when you want to apply a function to each element of a &lt;strong&gt;nested list&lt;/strong&gt; structure, recursively.&lt;/em&gt;&lt;/p&gt;\n&lt;p&gt;To give you some idea of how uncommon &lt;code&gt;rapply&lt;/code&gt; is, I forgot about it when first posting this answer! Obviously, I&apos;m sure many people use it, but YMMV. &lt;code&gt;rapply&lt;/code&gt; is best illustrated with a user-defined function to apply:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt; &lt;span class=&quot;hljs-comment&quot;&gt;# Append ! to string, otherwise increment&lt;/span&gt;\n myFun &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n     &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;is.character&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n       &lt;span class=&quot;hljs-built_in&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;paste&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;!&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;sep&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n     &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;\n     &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n       &lt;span class=&quot;hljs-built_in&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n     &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;\n\n &lt;span class=&quot;hljs-comment&quot;&gt;#A nested list structure&lt;/span&gt;\n l &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;a &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;a1 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Boo&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; b1 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; c1 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Eeek&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n           b &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Yikes&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n           d &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;a2 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; b2 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;a3 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Hey&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; b3 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n\n &lt;span class=&quot;hljs-comment&quot;&gt;# Result is named vector, coerced to character          &lt;/span&gt;\n rapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;l&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; myFun&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n &lt;span class=&quot;hljs-comment&quot;&gt;# Result is a nested list like l, with values altered&lt;/span&gt;\n rapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;l&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; myFun&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; how&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;replace&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;tapply&lt;/strong&gt; - &lt;em&gt;For when you want to apply a function to &lt;strong&gt;subsets&lt;/strong&gt; of a\nvector and the subsets are defined by some other vector, usually a\nfactor.&lt;/em&gt;&lt;/p&gt;\n&lt;p&gt;The black sheep of the *apply family, of sorts. The help file&apos;s use of\nthe phrase &quot;ragged array&quot; can be a bit &lt;a href=&quot;https://stackoverflow.com/questions/6297201/explain-r-tapply-description/6297396#6297396&quot;&gt;confusing&lt;/a&gt;, but it is actually\nquite simple.&lt;/p&gt;\n&lt;p&gt;A vector:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt; x &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; 1&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;A factor (of the same length!) defining groups:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt; y &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; factor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;letters&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; each &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Add up the values in &lt;code&gt;x&lt;/code&gt; within each subgroup defined by &lt;code&gt;y&lt;/code&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt; tapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;  \n  a  b  &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;  d  e  \n &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;26&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;42&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;58&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;74&lt;/span&gt; \n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;More complex examples can be handled where the subgroups are defined\nby the unique combinations of a list of several factors. &lt;code&gt;tapply&lt;/code&gt; is\nsimilar in spirit to the split-apply-combine functions that are\ncommon in R (&lt;code&gt;aggregate&lt;/code&gt;, &lt;code&gt;by&lt;/code&gt;, &lt;code&gt;ave&lt;/code&gt;, &lt;code&gt;ddply&lt;/code&gt;, etc.) Hence its\nblack sheep status.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;On the side note, here is how the various &lt;code&gt;plyr&lt;/code&gt; functions correspond to the base &lt;code&gt;*apply&lt;/code&gt; functions (from the intro to plyr document from the plyr webpage &lt;a href=&quot;http://had.co.nz/plyr/&quot; rel=&quot;noreferrer&quot;&gt;http://had.co.nz/plyr/&lt;/a&gt;)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;Base &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;   Input   Output   plyr &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; \n&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;\naggregate        d       d       ddply &lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt; colwise \napply            a       a&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;l     aaply &lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt; alply \nby               d       l       dlply \nlapply           l       l       llply  \nmapply           a       a&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;l     maply &lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt; mlply \nreplicate        r       a&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;l     raply &lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt; rlply \nsapply           l       a       laply \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;One of the goals of &lt;code&gt;plyr&lt;/code&gt; is to provide consistent naming conventions for each of the functions, encoding the input and output data types in the function name. It also provides consistency in output, in that output from &lt;code&gt;dlply()&lt;/code&gt; is easily passable to &lt;code&gt;ldply()&lt;/code&gt; to produce useful output, etc.&lt;/p&gt;\n\n&lt;p&gt;Conceptually, learning &lt;code&gt;plyr&lt;/code&gt; is no more difficult than understanding the base &lt;code&gt;*apply&lt;/code&gt; functions.&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;plyr&lt;/code&gt; and &lt;code&gt;reshape&lt;/code&gt; functions have replaced almost all of these functions in my every day use. But, also from the Intro to Plyr document:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;Related functions &lt;code&gt;tapply&lt;/code&gt; and &lt;code&gt;sweep&lt;/code&gt; have no corresponding function in &lt;code&gt;plyr&lt;/code&gt;, and remain useful. &lt;code&gt;merge&lt;/code&gt; is useful for combining summaries with the original data.&lt;/p&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;From slide 21 of &lt;a href=&quot;http://www.slideshare.net/hadley/plyr-one-data-analytic-strategy&quot; rel=&quot;noreferrer&quot;&gt;http://www.slideshare.net/hadley/plyr-one-data-analytic-strategy&lt;/a&gt;:&lt;/p&gt;\n\n&lt;p&gt;&lt;img src=&quot;https://i.stack.imgur.com/UMzZ4.png&quot; alt=&quot;apply, sapply, lapply, by, aggregate&quot;&gt;&lt;/p&gt;\n\n&lt;p&gt;(Hopefully it&apos;s clear that &lt;code&gt;apply&lt;/code&gt; corresponds to @Hadley&apos;s &lt;code&gt;aaply&lt;/code&gt; and &lt;code&gt;aggregate&lt;/code&gt; corresponds to @Hadley&apos;s &lt;code&gt;ddply&lt;/code&gt; etc. Slide 20 of the same slideshare will clarify if you don&apos;t get it from this image.)&lt;/p&gt;\n\n&lt;p&gt;(on the left is input, on the top is output)&lt;/p&gt;\n    ","\n&lt;p&gt;First start with &lt;a href=&quot;https://stackoverflow.com/a/7141669/181638&quot;&gt;Joran&apos;s excellent answer&lt;/a&gt; -- doubtful anything can better that.&lt;/p&gt;\n\n&lt;p&gt;Then the following mnemonics may help to remember the distinctions between each.  Whilst some are obvious, others may be less so --- for these you&apos;ll find justification in Joran&apos;s discussions.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Mnemonics&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;lapply&lt;/code&gt; is a &lt;em&gt;list&lt;/em&gt; apply which acts on a list or vector and returns a list.&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;sapply&lt;/code&gt; is a &lt;em&gt;simple&lt;/em&gt; &lt;code&gt;lapply&lt;/code&gt; (function defaults to returning a vector or matrix when possible)&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;vapply&lt;/code&gt; is a &lt;em&gt;verified apply&lt;/em&gt; (allows the return object type to be prespecified)&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;rapply&lt;/code&gt; is a &lt;em&gt;recursive&lt;/em&gt; apply for nested lists, i.e. lists within lists&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;tapply&lt;/code&gt; is a &lt;em&gt;tagged&lt;/em&gt; apply where the tags identify the subsets&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;apply&lt;/code&gt;  is  &lt;em&gt;generic&lt;/em&gt;: applies a function to a matrix&apos;s rows or columns (or, more generally, to dimensions of an array)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Building the Right Background&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;If using the &lt;code&gt;apply&lt;/code&gt; family still feels a bit alien to you, then it might be that you&apos;re missing a key point of view.&lt;/p&gt;\n\n&lt;p&gt;These two articles can help.  They provide the necessary background to motivate the &lt;strong&gt;functional programming techniques&lt;/strong&gt; that are being provided by the &lt;code&gt;apply&lt;/code&gt; family of functions.  &lt;/p&gt;\n\n&lt;p&gt;Users of Lisp will recognise the paradigm immediately.  If you&apos;re not familiar with Lisp, once you get your head around FP, you&apos;ll have gained a powerful point of view for use in R -- and &lt;code&gt;apply&lt;/code&gt; will make a lot more sense.&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;http://adv-r.had.co.nz/Functional-programming.html&quot; rel=&quot;noreferrer&quot;&gt;Advanced R: Functional Programming&lt;/a&gt;, by Hadley Wickham&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://www.bioinformaticszen.com/post/simple-functional-programming-in-r/&quot; rel=&quot;noreferrer&quot;&gt;Simple Functional Programming in R&lt;/a&gt;, by Michael Barton&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;Since I realized that (the very excellent) answers of this post lack of &lt;code&gt;by&lt;/code&gt; and &lt;code&gt;aggregate&lt;/code&gt; explanations. Here is my contribution.&lt;/p&gt;\n\n&lt;h3&gt;BY&lt;/h3&gt;\n\n&lt;p&gt;The &lt;code&gt;by&lt;/code&gt; function, as stated in the documentation can be though, as a &quot;wrapper&quot; for &lt;code&gt;tapply&lt;/code&gt;. The power of &lt;code&gt;by&lt;/code&gt; arises when we want to compute a task that &lt;code&gt;tapply&lt;/code&gt; can&apos;t handle. One example is this code:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;ct &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; tapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Sepal.Width &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; summary &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ncb &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Sepal.Width &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; summary &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n cb\niris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; setosa\n   Min. &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.  Median    Mean &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.    Max. \n  &lt;span class=&quot;hljs-number&quot;&gt;2.300&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.200&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.400&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.428&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.675&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;4.400&lt;/span&gt; \n&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt; \niris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; versicolor\n   Min. &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.  Median    Mean &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.    Max. \n  &lt;span class=&quot;hljs-number&quot;&gt;2.000&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2.525&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2.800&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2.770&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.000&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.400&lt;/span&gt; \n&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt; \niris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; virginica\n   Min. &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.  Median    Mean &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.    Max. \n  &lt;span class=&quot;hljs-number&quot;&gt;2.200&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2.800&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.000&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2.974&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.175&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.800&lt;/span&gt; \n\n\nct\n&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;setosa\n   Min. &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.  Median    Mean &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.    Max. \n  &lt;span class=&quot;hljs-number&quot;&gt;2.300&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.200&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.400&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.428&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.675&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;4.400&lt;/span&gt; \n\n&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;versicolor\n   Min. &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.  Median    Mean &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.    Max. \n  &lt;span class=&quot;hljs-number&quot;&gt;2.000&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2.525&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2.800&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2.770&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.000&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.400&lt;/span&gt; \n\n&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;virginica\n   Min. &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.  Median    Mean &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.    Max. \n  &lt;span class=&quot;hljs-number&quot;&gt;2.200&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2.800&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.000&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;2.974&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.175&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.800&lt;/span&gt; \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If we print these two objects, &lt;code&gt;ct&lt;/code&gt; and &lt;code&gt;cb&lt;/code&gt;, we &quot;essentially&quot; have the same results and the only differences are in how they are shown and the different &lt;code&gt;class&lt;/code&gt; attributes, respectively &lt;code&gt;by&lt;/code&gt; for &lt;code&gt;cb&lt;/code&gt; and &lt;code&gt;array&lt;/code&gt; for &lt;code&gt;ct&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;As I&apos;ve said, the power of &lt;code&gt;by&lt;/code&gt; arises when we can&apos;t use &lt;code&gt;tapply&lt;/code&gt;; the following code is one example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt; tapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; summary &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nError &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; tapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; summary&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; \n  arguments must have same &lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;R says that arguments must have the same lengths, say &quot;we want to calculate the &lt;code&gt;summary&lt;/code&gt; of all variable in &lt;code&gt;iris&lt;/code&gt; along the factor &lt;code&gt;Species&lt;/code&gt;&quot;: but R just can&apos;t do that because it does not know how to handle.&lt;/p&gt;\n\n&lt;p&gt;With the &lt;code&gt;by&lt;/code&gt; function R dispatch a specific method for &lt;code&gt;data frame&lt;/code&gt; class and then let the &lt;code&gt;summary&lt;/code&gt; function works even if the length of the first argument (and the type too) are different.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;bywork &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; summary &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\nbywork\niris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; setosa\n  Sepal.Length    Sepal.Width     Petal.Length    Petal.Width          Species  \n Min.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4.300&lt;/span&gt;   Min.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2.300&lt;/span&gt;   Min.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.000&lt;/span&gt;   Min.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.100&lt;/span&gt;   setosa    &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;50&lt;/span&gt;  \n &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4.800&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3.200&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.400&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.200&lt;/span&gt;   versicolor&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  \n Median &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5.000&lt;/span&gt;   Median &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3.400&lt;/span&gt;   Median &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.500&lt;/span&gt;   Median &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.200&lt;/span&gt;   virginica &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  \n Mean   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5.006&lt;/span&gt;   Mean   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3.428&lt;/span&gt;   Mean   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.462&lt;/span&gt;   Mean   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.246&lt;/span&gt;                  \n &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5.200&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3.675&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.575&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.300&lt;/span&gt;                  \n Max.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5.800&lt;/span&gt;   Max.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4.400&lt;/span&gt;   Max.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.900&lt;/span&gt;   Max.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0.600&lt;/span&gt;                  \n&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt; \niris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; versicolor\n  Sepal.Length    Sepal.Width     Petal.Length   Petal.Width          Species  \n Min.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4.900&lt;/span&gt;   Min.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2.000&lt;/span&gt;   Min.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3.00&lt;/span&gt;   Min.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.000&lt;/span&gt;   setosa    &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  \n &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5.600&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2.525&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4.00&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.200&lt;/span&gt;   versicolor&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;50&lt;/span&gt;  \n Median &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5.900&lt;/span&gt;   Median &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2.800&lt;/span&gt;   Median &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4.35&lt;/span&gt;   Median &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.300&lt;/span&gt;   virginica &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  \n Mean   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5.936&lt;/span&gt;   Mean   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2.770&lt;/span&gt;   Mean   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4.26&lt;/span&gt;   Mean   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.326&lt;/span&gt;                  \n &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6.300&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3.000&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4.60&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.500&lt;/span&gt;                  \n Max.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7.000&lt;/span&gt;   Max.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3.400&lt;/span&gt;   Max.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5.10&lt;/span&gt;   Max.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.800&lt;/span&gt;                  \n&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt; \niris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; virginica\n  Sepal.Length    Sepal.Width     Petal.Length    Petal.Width          Species  \n Min.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4.900&lt;/span&gt;   Min.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2.200&lt;/span&gt;   Min.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4.500&lt;/span&gt;   Min.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.400&lt;/span&gt;   setosa    &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  \n &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6.225&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2.800&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5.100&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;st Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1.800&lt;/span&gt;   versicolor&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  \n Median &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6.500&lt;/span&gt;   Median &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3.000&lt;/span&gt;   Median &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5.550&lt;/span&gt;   Median &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2.000&lt;/span&gt;   virginica &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;50&lt;/span&gt;  \n Mean   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6.588&lt;/span&gt;   Mean   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2.974&lt;/span&gt;   Mean   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5.552&lt;/span&gt;   Mean   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2.026&lt;/span&gt;                  \n &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6.900&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3.175&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5.875&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;rd Qu.&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2.300&lt;/span&gt;                  \n Max.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7.900&lt;/span&gt;   Max.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3.800&lt;/span&gt;   Max.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6.900&lt;/span&gt;   Max.   &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2.500&lt;/span&gt;     \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;it works indeed and the result is very surprising. It is an object of class &lt;code&gt;by&lt;/code&gt; that along &lt;code&gt;Species&lt;/code&gt; (say, for each of them) computes the &lt;code&gt;summary&lt;/code&gt; of each variable.&lt;/p&gt;\n\n&lt;p&gt;Note that if the first argument is a &lt;code&gt;data frame&lt;/code&gt;, the dispatched function must have a method for that class of objects. For example is we use this code with the &lt;code&gt;mean&lt;/code&gt; function we will have this code that has no sense at all:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt; by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; mean&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\niris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; setosa\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;\n&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt; \niris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; versicolor\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;\n&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt; \niris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; virginica\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;\nWarning messages&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; In mean.default&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; drop &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; ...&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;\n  argument is not numeric or logical&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; returning &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; In mean.default&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; drop &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; ...&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;\n  argument is not numeric or logical&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; returning &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; In mean.default&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; drop &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; ...&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;\n  argument is not numeric or logical&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; returning &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h3&gt;AGGREGATE&lt;/h3&gt;\n\n&lt;p&gt;&lt;code&gt;aggregate&lt;/code&gt; can be seen as another a different way of use &lt;code&gt;tapply&lt;/code&gt; if we use it in such a way.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;at &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; tapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Sepal.Length &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; mean&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nag &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; aggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Sepal.Length &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; mean&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n at\n    setosa versicolor  virginica \n     &lt;span class=&quot;hljs-number&quot;&gt;5.006&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;5.936&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;6.588&lt;/span&gt; \n ag\n     Group.1     x\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;     setosa &lt;span class=&quot;hljs-number&quot;&gt;5.006&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; versicolor &lt;span class=&quot;hljs-number&quot;&gt;5.936&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  virginica &lt;span class=&quot;hljs-number&quot;&gt;6.588&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The two immediate differences are that the second argument of &lt;code&gt;aggregate&lt;/code&gt; &lt;strong&gt;must&lt;/strong&gt; be a list while &lt;code&gt;tapply&lt;/code&gt; &lt;strong&gt;can&lt;/strong&gt; (not mandatory) be a list and that the output of &lt;code&gt;aggregate&lt;/code&gt; is a data frame while the one of &lt;code&gt;tapply&lt;/code&gt; is an &lt;code&gt;array&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;The power of &lt;code&gt;aggregate&lt;/code&gt; is that it can handle easily subsets of the data with &lt;code&gt;subset&lt;/code&gt; argument and that it has methods for &lt;code&gt;ts&lt;/code&gt; objects and &lt;code&gt;formula&lt;/code&gt; as well.&lt;/p&gt;\n\n&lt;p&gt;These elements make &lt;code&gt;aggregate&lt;/code&gt; easier to work with that &lt;code&gt;tapply&lt;/code&gt; in some situations.\nHere are some examples (available in documentation):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;ag &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; aggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;len &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; .&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; data &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; ToothGrowth&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; mean&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n ag\n  supp dose   len\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   OJ  &lt;span class=&quot;hljs-number&quot;&gt;0.5&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;13.23&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   VC  &lt;span class=&quot;hljs-number&quot;&gt;0.5&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;7.98&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;   OJ  &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;22.70&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;   VC  &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;16.77&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;   OJ  &lt;span class=&quot;hljs-number&quot;&gt;2.0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;26.06&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;   VC  &lt;span class=&quot;hljs-number&quot;&gt;2.0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;26.14&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;We can achieve the same with &lt;code&gt;tapply&lt;/code&gt; but the syntax is slightly harder and the output (in some circumstances) less readable:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;att &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; tapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;ToothGrowth&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;len&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;ToothGrowth&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;dose&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; ToothGrowth&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;supp&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; mean&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n att\n       OJ    VC\n&lt;span class=&quot;hljs-number&quot;&gt;0.5&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;13.23&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;7.98&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;22.70&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;16.77&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;26.06&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;26.14&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;There are other times when we can&apos;t use &lt;code&gt;by&lt;/code&gt; or &lt;code&gt;tapply&lt;/code&gt; and we have to use &lt;code&gt;aggregate&lt;/code&gt;.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt; ag1 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; aggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;cbind&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Ozone&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; Temp&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; Month&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; data &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; airquality&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; mean&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n ag1\n  Month    Ozone     Temp\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;23.61538&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;66.73077&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;29.44444&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;78.22222&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;59.11538&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;83.88462&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;59.96154&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;83.96154&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;31.44828&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;76.89655&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;We cannot obtain the previous result with &lt;code&gt;tapply&lt;/code&gt; in one call but we have to calculate the mean along &lt;code&gt;Month&lt;/code&gt; for each elements and then combine them (also note that we have to call the &lt;code&gt;na.rm = TRUE&lt;/code&gt;, because the &lt;code&gt;formula&lt;/code&gt; methods of the &lt;code&gt;aggregate&lt;/code&gt; function has by default the &lt;code&gt;na.action = na.omit&lt;/code&gt;):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;ta1 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; tapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;airquality&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Ozone&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; airquality&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Month&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; mean&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; na.rm &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nta2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; tapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;airquality&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Temp&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; airquality&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Month&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; mean&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; na.rm &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n cbind&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;ta1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; ta2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n       ta1      ta2\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;23.61538&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;65.54839&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;29.44444&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;79.10000&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;59.11538&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;83.90323&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;59.96154&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;83.96774&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;31.44828&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;76.90000&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;while with &lt;code&gt;by&lt;/code&gt; we just can&apos;t achieve that in fact the following function call returns an error (but most likely it is related to the supplied function, &lt;code&gt;mean&lt;/code&gt;):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;airquality&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Ozone&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Temp&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; airquality&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Month&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; mean&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; na.rm &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Other times the results are the same and the differences are just in the class (and then how it is shown/printed and not only  -- example, how to subset it) object:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;byagg &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;airquality&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Ozone&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Temp&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; airquality&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Month&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; summary&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\naggagg &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; aggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;cbind&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Ozone&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; Temp&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; Month&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; data &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; airquality&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; summary&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The previous code achieve the same goal and results, at some points what tool to use is just a matter of personal tastes and needs; the previous two objects have very different needs in terms of subsetting.&lt;/p&gt;\n    ","\n&lt;p&gt;There are lots of great answers which discuss differences in the use cases for each function. None of the answer discuss the differences in performance. That is reasonable cause various functions expects various input and produces various output, yet most of them have a general common objective to evaluate by series/groups. My answer is going to focus on performance. Due to above the input creation from the vectors is included in the timing, also the &lt;code&gt;apply&lt;/code&gt; function is not measured.  &lt;/p&gt;\n\n&lt;p&gt;I have tested two different functions &lt;code&gt;sum&lt;/code&gt; and &lt;code&gt;length&lt;/code&gt; at once. Volume tested is 50M on input and 50K on output. I have also included two currently popular packages which were not widely used at the time when question was asked, &lt;code&gt;data.table&lt;/code&gt; and &lt;code&gt;dplyr&lt;/code&gt;. Both are definitely worth to look if you are aiming for good performance.    &lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nset.seed&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;123&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nn &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;5e7&lt;/span&gt;\nk &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;5e5&lt;/span&gt;\nx &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; runif&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ngrp &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; n&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\ntiming &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# sapply&lt;/span&gt;\ntiming&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;sapply&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; system.time&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n    lt &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; split&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; grp&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n    r.sapply &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; sapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;lt&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; simplify &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# lapply&lt;/span&gt;\ntiming&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;lapply&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; system.time&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n    lt &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; split&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; grp&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n    r.lapply &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;lt&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# tapply&lt;/span&gt;\ntiming&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;tapply&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; system.time&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n    r.tapply &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; tapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;grp&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# by&lt;/span&gt;\ntiming&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;by&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; system.time&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n    r.by &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;grp&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; simplify &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# aggregate&lt;/span&gt;\ntiming&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;aggregate&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; system.time&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n    r.aggregate &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; aggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;grp&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; simplify &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# dplyr&lt;/span&gt;\ntiming&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;dplyr&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; system.time&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n    df &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; data_frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; grp&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n    r.dplyr &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; summarise&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; grp&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; n&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# data.table&lt;/span&gt;\ntiming&lt;span class=&quot;hljs-punctuation&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;data.table&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; system.time&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n    dt &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; setnames&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;setDT&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; grp&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;grp&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n    r.data.table &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; dt&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; .&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; .N&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; grp&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# all output size match to group count&lt;/span&gt;\nsapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;sapply&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;r.sapply&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; lapply&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;r.lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; tapply&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;r.tapply&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;r.by&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; aggregate&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;r.aggregate&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; dplyr&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;r.dplyr&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; data.table&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;r.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n       &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;is.data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; nrow &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;==&lt;/span&gt;k&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#    sapply     lapply     tapply         by  aggregate      dplyr data.table &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#      TRUE       TRUE       TRUE       TRUE       TRUE       TRUE       TRUE &lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# print timings&lt;/span&gt;\nas.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;sapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;timing&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; `[[`&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;elapsed&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; keep.rownames &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;\n              &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;.&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;fun &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; V1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; elapsed &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; V2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n                &lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;order&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;elapsed&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#          fun elapsed&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#1:  aggregate 109.139&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#2:         by  25.738&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#3:      dplyr  18.978&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#4:     tapply  17.006&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#5:     lapply  11.524&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#6:     sapply  11.326&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#7: data.table   2.686&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Despite all the great answers here, there are 2 more base functions that deserve to be mentioned, the useful &lt;code&gt;outer&lt;/code&gt; function and the obscure &lt;code&gt;eapply&lt;/code&gt; function&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;outer&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;outer&lt;/code&gt; is a very useful function hidden as a more mundane one. If you read the help for &lt;code&gt;outer&lt;/code&gt; its description says:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;The outer product of the arrays X and Y is the array A with dimension  \n&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;dim&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;X&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;dim&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Y&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; where element A&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;arrayindex.x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; arrayindex.y&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;   \nFUN&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;X&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;arrayindex.x&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; Y&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;arrayindex.y&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; ...&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;.\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;which makes it seem like this is only useful for linear algebra type things.  However, it can be used much like &lt;code&gt;mapply&lt;/code&gt; to apply a function to two vectors of inputs. The difference is that &lt;code&gt;mapply&lt;/code&gt; will apply the function to the first two elements and then the second two etc, whereas &lt;code&gt;outer&lt;/code&gt; will apply the function to every combination of one element from the first vector and one from the second. For example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt; A&lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n B&lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\nmapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;FUN&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;pmax&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; A&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; B&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; mapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;FUN&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;pmax&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; A&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; B&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;\n\nouter&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;A&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;B&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; pmax&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n &lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; outer&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;A&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;B&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; pmax&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n      &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I have personally used this when I have a vector of values and a vector of conditions and wish to see which values meet which conditions.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;eapply&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;eapply&lt;/code&gt; is like &lt;code&gt;lapply&lt;/code&gt; except that rather than applying a function to every element in a list, it applies a function to every element in an environment. For example if you want to find a list of user defined functions in the global environment:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;A&lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nB&lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nC&lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nD&lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;x&lt;span class=&quot;hljs-operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;\n\n&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; eapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;.GlobalEnv&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;is.function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;A\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;\n\n&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;B\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;\n\n&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;C\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;\n\n&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;D\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt; \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Frankly I don&apos;t use this very much but if you are building a lot of packages or create a lot of environments it may come in handy. &lt;/p&gt;\n    ","\n&lt;p&gt;It is maybe worth mentioning &lt;code&gt;ave&lt;/code&gt;. &lt;code&gt;ave&lt;/code&gt; is &lt;code&gt;tapply&lt;/code&gt;&apos;s friendly cousin. It returns results in a form that you can plug straight back into your data frame.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;dfr &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; f&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;LETTERS&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; each&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nmeans &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; tapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dfr&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;a&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; dfr&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; mean&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##  A    B    C    D    E &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 2.5  6.5 10.5 14.5 18.5 &lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;## great, but putting it back in the data frame is another line:&lt;/span&gt;\n\ndfr&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;m &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; means&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;dfr&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n\ndfr&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;m2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; ave&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dfr&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;a&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; dfr&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;mean&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;# NB argument name FUN is needed!&lt;/span&gt;\ndfr\n&lt;span class=&quot;hljs-comment&quot;&gt;##   a f    m   m2&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##   1 A  2.5  2.5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##   2 A  2.5  2.5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##   3 A  2.5  2.5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##   4 A  2.5  2.5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##   5 B  6.5  6.5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##   6 B  6.5  6.5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##   7 B  6.5  6.5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##   ...&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;There is nothing in the base package that works like &lt;code&gt;ave&lt;/code&gt; for whole data frames (as &lt;code&gt;by&lt;/code&gt; is like &lt;code&gt;tapply&lt;/code&gt; for data frames). But you can fudge it:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;dfr&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;foo &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; ave&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;nrow&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dfr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; dfr&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n    x &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; dfr&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;m&lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;x&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;m2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndfr\n&lt;span class=&quot;hljs-comment&quot;&gt;##     a f    m   m2    foo&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 1   1 A  2.5  2.5    25&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 2   2 A  2.5  2.5    25&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 3   3 A  2.5  2.5    25&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## ...&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I recently discovered the rather useful &lt;code&gt;sweep&lt;/code&gt; function and add it here for the sake of completeness:&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;sweep&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;The basic idea is to &lt;em&gt;sweep&lt;/em&gt; through an array row- or column-wise and return a modified array. An example will make this clear (source: &lt;a href=&quot;https://www.datacamp.com/community/tutorials/r-tutorial-apply-family#sweep&quot; rel=&quot;nofollow noreferrer&quot;&gt;datacamp&lt;/a&gt;):&lt;/p&gt;\n&lt;p&gt;Let&apos;s say you have a matrix and want to &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_score&quot; rel=&quot;nofollow noreferrer&quot;&gt;standardize&lt;/a&gt; it column-wise:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;dataPoints &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; matrix&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; nrow &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Find means per column with `apply()`&lt;/span&gt;\ndataPoints_means &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; apply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dataPoints&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; mean&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Find standard deviation with `apply()`&lt;/span&gt;\ndataPoints_sdev &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; apply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dataPoints&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; sd&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Center the points &lt;/span&gt;\ndataPoints_Trans1 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; sweep&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dataPoints&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; dataPoints_means&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Return the result&lt;/span&gt;\ndataPoints_Trans1\n&lt;span class=&quot;hljs-comment&quot;&gt;##      [,1] [,2] [,3]&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## [1,] -1.5 -1.5 -1.5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## [2,] -0.5 -0.5 -0.5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## [3,]  0.5  0.5  0.5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## [4,]  1.5  1.5  1.5&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Normalize&lt;/span&gt;\ndataPoints_Trans2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; sweep&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dataPoints_Trans1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; dataPoints_sdev&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Return the result&lt;/span&gt;\ndataPoints_Trans2\n&lt;span class=&quot;hljs-comment&quot;&gt;##            [,1]       [,2]       [,3]&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## [1,] -1.1618950 -1.1618950 -1.1618950&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## [2,] -0.3872983 -0.3872983 -0.3872983&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## [3,]  0.3872983  0.3872983  0.3872983&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## [4,]  1.1618950  1.1618950  1.1618950&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;NB: for this simple example the same result can of course be achieved more easily by&lt;br&gt; &lt;code&gt;apply(dataPoints, 2, scale)&lt;/code&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;In the &lt;em&gt;collapse&lt;/em&gt; package recently released on CRAN, I have attempted to compress most of the common apply functionality into just 2 functions: &lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;code&gt;dapply&lt;/code&gt; (Data-Apply) applies functions to rows or (default) columns of matrices and data.frames and (default) returns an object of the same type and with the same attributes (unless the result of each computation is atomic and &lt;code&gt;drop = TRUE&lt;/code&gt;). The performance is comparable to &lt;code&gt;lapply&lt;/code&gt; for data.frame columns, and about 2x faster than &lt;code&gt;apply&lt;/code&gt; for matrix rows or columns. Parallelism is available via &lt;code&gt;mclapply&lt;/code&gt; (only for MAC). &lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;Syntax: &lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;dapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;X&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; ...&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; MARGIN &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; parallel &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; mc.cores &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n       &lt;span class=&quot;hljs-built_in&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;same&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;matrix&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;data.frame&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; drop &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Examples:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# Apply to columns:&lt;/span&gt;\ndapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;mtcars&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;mtcars&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;mtcars&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; quantile&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# Apply to rows:&lt;/span&gt;\ndapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;mtcars&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; MARGIN &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;mtcars&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; quantile&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; MARGIN &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# Return as matrix:&lt;/span&gt;\ndapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;mtcars&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; quantile&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;matrix&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;mtcars&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; quantile&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; MARGIN &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;matrix&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# Same for matrices ...&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;ol start=&quot;2&quot;&gt;\n&lt;li&gt;&lt;code&gt;BY&lt;/code&gt; is a S3 generic for split-apply-combine computing with vector, matrix and data.frame method. It is significantly faster than &lt;code&gt;tapply&lt;/code&gt;, &lt;code&gt;by&lt;/code&gt; and &lt;code&gt;aggregate&lt;/code&gt; (an also faster than &lt;code&gt;plyr&lt;/code&gt;, on large data &lt;code&gt;dplyr&lt;/code&gt; is faster though). &lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;Syntax:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;BY&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;X&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; g&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; ...&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; use.g.names &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; sort &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n   expand.wide &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; parallel &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; mc.cores &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n   &lt;span class=&quot;hljs-built_in&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;same&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;matrix&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;data.frame&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;list&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Examples:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# Vectors:&lt;/span&gt;\nBY&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Sepal.Length&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nBY&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Sepal.Length&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; quantile&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nBY&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Sepal.Length&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; quantile&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; expand.wide &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;# This returns a matrix &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# Data.frames&lt;/span&gt;\nBY&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nBY&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; quantile&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nBY&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; quantile&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; expand.wide &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;# This returns a wider data.frame&lt;/span&gt;\nBY&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; quantile&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;matrix&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;# This returns a matrix&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# Same for matrices ...&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Lists of grouping variables can also be supplied to &lt;code&gt;g&lt;/code&gt;. &lt;/p&gt;\n\n&lt;p&gt;Talking about performance: A main goal of &lt;em&gt;collapse&lt;/em&gt; is to foster high-performance programming in R and to move beyond split-apply-combine alltogether. For this purpose the package has a full set of C++ based fast generic functions: &lt;code&gt;fmean&lt;/code&gt;, &lt;code&gt;fmedian&lt;/code&gt;, &lt;code&gt;fmode&lt;/code&gt;, &lt;code&gt;fsum&lt;/code&gt;, &lt;code&gt;fprod&lt;/code&gt;, &lt;code&gt;fsd&lt;/code&gt;, &lt;code&gt;fvar&lt;/code&gt;, &lt;code&gt;fmin&lt;/code&gt;, &lt;code&gt;fmax&lt;/code&gt;, &lt;code&gt;ffirst&lt;/code&gt;, &lt;code&gt;flast&lt;/code&gt;, &lt;code&gt;fNobs&lt;/code&gt;, &lt;code&gt;fNdistinct&lt;/code&gt;, &lt;code&gt;fscale&lt;/code&gt;, &lt;code&gt;fbetween&lt;/code&gt;, &lt;code&gt;fwithin&lt;/code&gt;, &lt;code&gt;fHDbetween&lt;/code&gt;, &lt;code&gt;fHDwithin&lt;/code&gt;, &lt;code&gt;flag&lt;/code&gt;, &lt;code&gt;fdiff&lt;/code&gt; and &lt;code&gt;fgrowth&lt;/code&gt;. They perform grouped computations in a single pass through the data (i.e. no splitting and recombining).&lt;/p&gt;\n\n&lt;p&gt;Syntax:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;fFUN&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; g &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;w &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; TRA &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;na.rm &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; use.g.names &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; drop &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Examples:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;v &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Sepal.Length\nf &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Vectors&lt;/span&gt;\nfmean&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;             &lt;span class=&quot;hljs-comment&quot;&gt;# mean&lt;/span&gt;\nfmean&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;          &lt;span class=&quot;hljs-comment&quot;&gt;# grouped mean&lt;/span&gt;\nfsd&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;            &lt;span class=&quot;hljs-comment&quot;&gt;# grouped standard deviation&lt;/span&gt;\nfsd&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; f&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; TRA &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;# grouped scaling&lt;/span&gt;\nfscale&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;         &lt;span class=&quot;hljs-comment&quot;&gt;# grouped standardizing (scaling and centering)&lt;/span&gt;\nfwithin&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;        &lt;span class=&quot;hljs-comment&quot;&gt;# grouped demeaning&lt;/span&gt;\n\nw &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;abs&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;rnorm&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;nrow&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nfmean&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; w &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; w&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;      &lt;span class=&quot;hljs-comment&quot;&gt;# Weighted mean&lt;/span&gt;\nfmean&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; f&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; w&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;       &lt;span class=&quot;hljs-comment&quot;&gt;# Weighted grouped mean&lt;/span&gt;\nfsd&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; f&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; w&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;         &lt;span class=&quot;hljs-comment&quot;&gt;# Weighted grouped standard-deviation&lt;/span&gt;\nfsd&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; f&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; w&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;hljs-comment&quot;&gt;# Weighted grouped scaling&lt;/span&gt;\nfscale&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; f&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; w&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;      &lt;span class=&quot;hljs-comment&quot;&gt;# Weighted grouped standardizing&lt;/span&gt;\nfwithin&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; f&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; w&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;hljs-comment&quot;&gt;# Weighted grouped demeaning&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Same using data.frames...&lt;/span&gt;\nfmean&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;                &lt;span class=&quot;hljs-comment&quot;&gt;# grouped mean&lt;/span&gt;\nfscale&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;               &lt;span class=&quot;hljs-comment&quot;&gt;# grouped standardizing&lt;/span&gt;\nfwithin&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;              &lt;span class=&quot;hljs-comment&quot;&gt;# grouped demeaning&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Same with matrices ...&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;In the package vignettes I provide benchmarks. Programming with the fast functions is significantly faster than programming with &lt;em&gt;dplyr&lt;/em&gt; or &lt;em&gt;data.table&lt;/em&gt;, especially on smaller data, but also on large data. &lt;/p&gt;\n    "]},"randomTags":[{"name":"httpurlconnection","slug":"httpurlconnection"},{"name":"loops","slug":"loops"},{"name":"recursion","slug":"recursion"},{"name":"propertynotfoundexception","slug":"propertynotfoundexception"},{"name":"git-rm","slug":"git-rm"},{"name":"transpose","slug":"transpose"},{"name":"dynamic-languages","slug":"dynamic-languages"},{"name":"int","slug":"int"},{"name":"unobtrusive-javascript","slug":"unobtrusive-javascript"},{"name":"android-recyclerview","slug":"android-recyclerview"},{"name":"fetch-api","slug":"fetch-api"},{"name":"css-transitions","slug":"css-transitions"},{"name":"webdriver","slug":"webdriver"},{"name":"undefined-reference","slug":"undefined-reference"},{"name":"pandas","slug":"pandas"},{"name":"android-sdk-tools","slug":"android-sdk-tools"},{"name":"directory","slug":"directory"},{"name":"unresolved-external","slug":"unresolved-external"},{"name":"concatenation","slug":"concatenation"},{"name":"event-delegation","slug":"event-delegation"}]},"__N_SSG":true}