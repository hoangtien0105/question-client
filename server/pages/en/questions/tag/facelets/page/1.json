{"pageProps":{"data":{"count":1,"rows":[{"id":333,"title":"JSTL in JSF2 Facelets... makes sense?","slug":"jstl-in-jsf2-facelets...-makes-sense-1657387667435","postType":"QUESTION","createdAt":"2022-07-09T17:27:47.000Z","updatedAt":"2022-07-09T17:27:47.000Z","tags":[{"id":1915,"name":"facelets","slug":"facelets","createdAt":"2022-07-09T17:27:47.000Z","updatedAt":"2022-07-09T17:27:47.000Z","Questions_Tags":{"questionId":333,"tagId":1915}}]}]},"slug":"facelets","page":"1","answers":{"333":["\n&lt;h1&gt;Introduction&lt;/h1&gt;\n\n&lt;p&gt;JSTL &lt;code&gt;&amp;lt;c:xxx&amp;gt;&lt;/code&gt; tags are all &lt;a href=&quot;http://docs.oracle.com/javaee/7/api/javax/faces/view/facelets/TagHandler.html&quot; rel=&quot;noreferrer&quot;&gt;taghandlers&lt;/a&gt; and they are executed during &lt;strong&gt;view build time&lt;/strong&gt;, while JSF &lt;code&gt;&amp;lt;h:xxx&amp;gt;&lt;/code&gt; tags are all &lt;a href=&quot;http://docs.oracle.com/javaee/7/api/javax/faces/component/UIComponent.html&quot; rel=&quot;noreferrer&quot;&gt;UI components&lt;/a&gt; and they are executed during &lt;strong&gt;view render time&lt;/strong&gt;. &lt;/p&gt;\n\n&lt;p&gt;Note that from JSF&apos;s own &lt;code&gt;&amp;lt;f:xxx&amp;gt;&lt;/code&gt; and &lt;code&gt;&amp;lt;ui:xxx&amp;gt;&lt;/code&gt; tags only those which do &lt;em&gt;not&lt;/em&gt; extend from &lt;a href=&quot;http://docs.oracle.com/javaee/7/api/javax/faces/component/UIComponent.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;UIComponent&lt;/code&gt;&lt;/a&gt; are also taghandlers, e.g. &lt;code&gt;&amp;lt;f:validator&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;ui:include&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;ui:define&amp;gt;&lt;/code&gt;, etc. The ones which extend from &lt;code&gt;UIComponent&lt;/code&gt; are also JSF UI components, e.g. &lt;code&gt;&amp;lt;f:param&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;ui:fragment&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;ui:repeat&amp;gt;&lt;/code&gt;, etc. From JSF UI components only the &lt;code&gt;id&lt;/code&gt; and &lt;code&gt;binding&lt;/code&gt; attributes are also evaluated during view build time. Thus the below answer as to JSTL lifecycle also applies to the &lt;code&gt;id&lt;/code&gt; and &lt;code&gt;binding&lt;/code&gt; attributes of JSF components.&lt;/p&gt;\n\n&lt;p&gt;The view build time is that moment when the XHTML/JSP file is to be parsed and converted to a JSF component tree which is then stored as &lt;code&gt;UIViewRoot&lt;/code&gt; of the &lt;code&gt;FacesContext&lt;/code&gt;. The view render time is that moment when the JSF component tree is about to generate HTML, starting with &lt;code&gt;UIViewRoot#encodeAll()&lt;/code&gt;. So: JSF UI components and JSTL tags doesn&apos;t run in sync as you&apos;d expect from the coding. You can visualize it as follows: JSTL runs from top to bottom first, producing the JSF component tree, then it&apos;s JSF&apos;s turn to run from top to bottom again, producing the HTML output.&lt;/p&gt;\n\n&lt;h1&gt;&lt;code&gt;&amp;lt;c:forEach&amp;gt;&lt;/code&gt; vs &lt;code&gt;&amp;lt;ui:repeat&amp;gt;&lt;/code&gt;&lt;/h1&gt;\n\n&lt;p&gt;For example, this Facelets markup iterating over 3 items using &lt;code&gt;&amp;lt;c:forEach&amp;gt;&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;c:forEach&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;items&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{bean.items}&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;var&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h:outputText&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;item_#{item.id}&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{item.value}&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;c:forEach&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;...creates during view build time three separate &lt;code&gt;&amp;lt;h:outputText&amp;gt;&lt;/code&gt; components in the JSF component tree, roughly represented like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h:outputText&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;item_1&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{bean.items[0].value}&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h:outputText&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;item_2&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{bean.items[1].value}&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h:outputText&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;item_3&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{bean.items[2].value}&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;...which in turn individually generate their HTML output during view render time:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;item_1&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;value1&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;item_2&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;value2&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;item_3&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;value3&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Note that you need to manually ensure the uniqueness of the component IDs and that those are also evaluated during view build time.&lt;/p&gt;\n\n&lt;p&gt;While this Facelets markup iterating over 3 items using &lt;code&gt;&amp;lt;ui:repeat&amp;gt;&lt;/code&gt;, which is a JSF UI component:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;ui:repeat&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;items&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{bean.items}&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;var&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h:outputText&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;item&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{item.value}&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;ui:repeat&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;...already ends up as-is in the JSF component tree whereby the very same &lt;code&gt;&amp;lt;h:outputText&amp;gt;&lt;/code&gt; component is during view render time being &lt;strong&gt;reused&lt;/strong&gt; to generate HTML output based on current iteration round:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;items:0:item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;value1&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;items:1:item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;value2&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;items:2:item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;value3&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Note that the &lt;code&gt;&amp;lt;ui:repeat&amp;gt;&lt;/code&gt; as being a &lt;code&gt;NamingContainer&lt;/code&gt; component already ensured the uniqueness of the client ID based on iteration index; it&apos;s also not possible to use EL in &lt;code&gt;id&lt;/code&gt; attribute of child components this way as it is also evaluated during view build time while &lt;code&gt;#{item}&lt;/code&gt; is only available during view render time. Same is true for an &lt;code&gt;h:dataTable&lt;/code&gt; and similar components.&lt;/p&gt;\n\n&lt;h1&gt;&lt;code&gt;&amp;lt;c:if&amp;gt;&lt;/code&gt;/&lt;code&gt;&amp;lt;c:choose&amp;gt;&lt;/code&gt; vs &lt;code&gt;rendered&lt;/code&gt;&lt;/h1&gt;\n\n&lt;p&gt;As another example, this Facelets markup conditionally adding different tags using &lt;code&gt;&amp;lt;c:if&amp;gt;&lt;/code&gt; (you can also use &lt;code&gt;&amp;lt;c:choose&amp;gt;&amp;lt;c:when&amp;gt;&amp;lt;c:otherwise&amp;gt;&lt;/code&gt; for this):&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;c:if&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;test&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{field.type eq &apos;TEXT&apos;}&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h:inputText&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;...&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;c:if&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;c:if&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;test&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{field.type eq &apos;PASSWORD&apos;}&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h:inputSecret&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;...&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;c:if&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;c:if&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;test&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{field.type eq &apos;SELECTONE&apos;}&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h:selectOneMenu&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;...&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;c:if&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;...will in case of &lt;code&gt;type = TEXT&lt;/code&gt; only add the &lt;code&gt;&amp;lt;h:inputText&amp;gt;&lt;/code&gt; component to the JSF component tree:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h:inputText&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;...&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;While this Facelets markup:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-coffeescript&quot;&gt;&amp;lt;h:inputText ... rendered=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;#{field.type eq &lt;span class=&quot;hljs-string&quot;&gt;&apos;TEXT&apos;&lt;/span&gt;}&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;\n&amp;lt;h:inputSecret ... rendered=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;#{field.type eq &lt;span class=&quot;hljs-string&quot;&gt;&apos;PASSWORD&apos;&lt;/span&gt;}&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;\n&amp;lt;h:selectOneMenu ... rendered=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;#{field.type eq &lt;span class=&quot;hljs-string&quot;&gt;&apos;SELECTONE&apos;&lt;/span&gt;}&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;...will end up exactly as above in the JSF component tree regardless of the condition. This may thus end up in a &quot;bloated&quot; component tree when you have many of them and they are actually based on a &quot;static&quot; model (i.e. the &lt;code&gt;field&lt;/code&gt; does not ever change during at least the view scope). Also, you may run into EL &lt;a href=&quot;https://stackoverflow.com/questions/25594147/propertynotfoundexception-on-conditionally-rendered-subclasses-in-uirepeat/&quot;&gt;trouble&lt;/a&gt; when you deal with subclasses with additional properties in Mojarra versions before 2.2.7.&lt;/p&gt;\n\n&lt;h1&gt;&lt;code&gt;&amp;lt;c:set&amp;gt;&lt;/code&gt; vs &lt;code&gt;&amp;lt;ui:param&amp;gt;&lt;/code&gt;&lt;/h1&gt;\n\n&lt;p&gt;They are not interchangeable. The &lt;code&gt;&amp;lt;c:set&amp;gt;&lt;/code&gt; sets a variable in the EL scope, which is accessible only &lt;em&gt;after&lt;/em&gt; the tag location during view build time, but anywhere in the view during view render time. The &lt;code&gt;&amp;lt;ui:param&amp;gt;&lt;/code&gt; passes an EL variable to a Facelet template included via &lt;code&gt;&amp;lt;ui:include&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;ui:decorate template&amp;gt;&lt;/code&gt;, or &lt;code&gt;&amp;lt;ui:composition template&amp;gt;&lt;/code&gt;. Older JSF versions had bugs whereby the &lt;code&gt;&amp;lt;ui:param&amp;gt;&lt;/code&gt; variable is also available outside the Facelet template in question, this should never be relied upon.&lt;/p&gt;\n\n&lt;p&gt;The &lt;code&gt;&amp;lt;c:set&amp;gt;&lt;/code&gt; without a &lt;code&gt;scope&lt;/code&gt; attribute will behave like an alias. It does not cache the result of the EL expression in any scope. It can thus perfectly fine be used inside for example iterating JSF components. Thus, e.g. below will work fine:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-swift&quot;&gt;&lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;ui:&lt;span class=&quot;hljs-keyword&quot;&gt;repeat&lt;/span&gt; value&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{bean.products}&quot;&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;product&quot;&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;c:&lt;span class=&quot;hljs-keyword&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;price&quot;&lt;/span&gt; value&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{product.price}&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;/&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;h:outputText value&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{price}&quot;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;/&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;/&lt;/span&gt;ui:&lt;span class=&quot;hljs-keyword&quot;&gt;repeat&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It&apos;s only not suitable for e.g. calculating the sum in a loop. For that instead use &lt;a href=&quot;https://stackoverflow.com/questions/20456143/auto-calculate-total-sum-of-a-column-with-numeric-data-in-datatable-footer/&quot;&gt;EL 3.0 stream&lt;/a&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;ui:repeat&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{bean.products}&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;var&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;product&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    ...\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;ui:repeat&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Total price: #{bean.products.stream().map(product-&amp;gt;product.price).sum()}&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Only, when you set the &lt;code&gt;scope&lt;/code&gt; attribute with one of allowable values &lt;code&gt;request&lt;/code&gt;, &lt;code&gt;view&lt;/code&gt;, &lt;code&gt;session&lt;/code&gt;, or &lt;code&gt;application&lt;/code&gt;, then it will be evaluated immediately during view build time and stored in the specified scope.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&amp;lt;c:&lt;span class=&quot;hljs-keyword&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;dev&quot;&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{facesContext.application.projectStage eq &apos;Development&apos;}&quot;&lt;/span&gt; scope=&lt;span class=&quot;hljs-string&quot;&gt;&quot;application&quot;&lt;/span&gt; /&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This will be evaluated only once and available as &lt;code&gt;#{dev}&lt;/code&gt; throughout the entire application.&lt;/p&gt;\n\n&lt;h1&gt;Use JSTL to control JSF component tree building&lt;/h1&gt;\n\n&lt;p&gt;Using JSTL may only lead to unexpected results when being used inside JSF iterating components such as &lt;code&gt;&amp;lt;h:dataTable&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;ui:repeat&amp;gt;&lt;/code&gt;, etc, or when JSTL tag attributes depend on results of JSF events such as &lt;code&gt;preRenderView&lt;/code&gt; or submitted form values in the model which aren&apos;t available during view build time. So, use JSTL tags only to control flow of JSF component tree building. Use JSF UI components to control flow of HTML output generation. Do not bind the &lt;code&gt;var&lt;/code&gt; of iterating JSF components to JSTL tag attributes. Do not rely on JSF events in JSTL tag attributes.&lt;/p&gt;\n\n&lt;p&gt;Anytime you think you need to bind a component to the backing bean via &lt;code&gt;binding&lt;/code&gt;, or grab one via &lt;code&gt;findComponent()&lt;/code&gt;, and create/manipulate its children  using Java code in a backing bean with &lt;code&gt;new SomeComponent()&lt;/code&gt; and what not, then you should immediately stop and consider using JSTL instead. As JSTL is also XML based, the code needed to dynamically create JSF components will become so much better readable and maintainable.&lt;/p&gt;\n\n&lt;p&gt;Important to know is that Mojarra versions older than 2.1.18 had a bug in partial state saving when referencing a view scoped bean in a JSTL tag attribute. The whole view scoped bean would be &lt;strong&gt;newly&lt;/strong&gt; recreated instead of retrieved from the view tree (simply because the complete view tree isn&apos;t available yet at the point JSTL runs). If you&apos;re expecting or storing some state in the view scoped bean by a JSTL tag attribute, then it won&apos;t return the value you expect, or it will be &quot;lost&quot; in the real view scoped bean which is restored after the view tree is built. In case you can&apos;t upgrade to Mojarra 2.1.18 or newer, the work around is to turn off partial state saving in &lt;code&gt;web.xml&lt;/code&gt; like below:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;context-param&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;param-name&lt;/span&gt;&amp;gt;&lt;/span&gt;javax.faces.PARTIAL_STATE_SAVING&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;param-name&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;param-value&lt;/span&gt;&amp;gt;&lt;/span&gt;false&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;param-value&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;context-param&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h3&gt;See also:&lt;/h3&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/31890433&quot;&gt;What&apos;s the view build time?&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/14911158&quot;&gt;How does the &apos;binding&apos; attribute work in JSF? When and how should it be used?&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/31732567&quot;&gt;How to refactor snippet of old JSP to some JSF equivalent?&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/10337015&quot;&gt;Should PARTIAL_STATE_SAVING be set to false?&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://balusc.blogspot.com/2011/09/communication-in-jsf-20.html#ViewScopedFailsInTagHandlers&quot; rel=&quot;noreferrer&quot;&gt;Communication in JSF 2.0 - &lt;code&gt;@ViewScoped&lt;/code&gt; fails in tag handlers&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;To see some real world examples where JSTL tags are helpful (i.e. when really properly used during building the view), see the following questions/answers:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/5713718/how-to-make-a-grid-of-jsf-composite-component&quot;&gt;How to make a grid of JSF composite component?&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/11280688/create-table-columns-dynamically-in-jsf&quot;&gt;Create table columns dynamically in JSF&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/11255509/how-to-custom-layout-hselectoneradio/&quot;&gt;How to custom layout h:selectOneRadio&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/8400066/conditional-variable-definition-in-jsf&quot;&gt;Conditional variable definition in JSF&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/12509310/how-to-make-composite-component-similar-to-hselectoneradio/&quot;&gt;How to make composite component similar to &amp;lt;h:selectOneRadio /&amp;gt;&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/11368292/jsf-2-composite-component-with-optional-listener-attribute-on-fajax/&quot;&gt;JSF 2 -- Composite component with optional listener attribute on f:ajax&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/29987055/nested-jsf-composite-components-leading-to-a-stack-overflow-exception&quot;&gt;Nested JSF Composite Components leading to a Stack Overflow exception&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;hr&gt;\n\n&lt;h1&gt;In a nutshell&lt;/h1&gt;\n\n&lt;p&gt;As to your concrete functional requirement, if you want to &lt;strong&gt;render&lt;/strong&gt; JSF components conditionally, use the &lt;code&gt;rendered&lt;/code&gt; attribute on the JSF HTML component instead, &lt;em&gt;particularly&lt;/em&gt; if &lt;code&gt;#{lpc}&lt;/code&gt; represents the currently iterated item of a JSF iterating component such as &lt;code&gt;&amp;lt;h:dataTable&amp;gt;&lt;/code&gt; or &lt;code&gt;&amp;lt;ui:repeat&amp;gt;&lt;/code&gt;. &lt;/p&gt;\n\n&lt;pre class=&quot;lang-xml s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h:someComponent&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;rendered&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{lpc.verbose}&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    ...\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;h:someComponent&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Or, if you want to &lt;strong&gt;build&lt;/strong&gt; (create/add) JSF components conditionally, then keep using JSTL. It&apos;s way much better than verbosely doing &lt;code&gt;new SomeComponent()&lt;/code&gt; in java.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-xml s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;c:if&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;test&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{lpc.verbose}&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h:someComponent&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        ...\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;h:someComponent&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;c:if&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h3&gt;See also:&lt;/h3&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/4870462&quot;&gt;Conditionally displaying JSF components&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/3442380&quot;&gt;JSTL c:if doesn&apos;t work inside a JSF h:dataTable&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/7248439&quot;&gt;Specify conditional rendering of element inside &amp;lt;ui:repeat&amp;gt;? The &amp;lt;c:if&amp;gt; does not seem to work&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;use &lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h:panelGroup&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;rendered&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;#{lpc.verbose}&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  ...\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;h:panelGroup&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;For switch-like output, you can use the &lt;a href=&quot;http://www.primefaces.org/showcase-ext/sections/utils/switch.jsf&quot; rel=&quot;nofollow noreferrer&quot;&gt;switch&lt;/a&gt; face from PrimeFaces Extensions.&lt;/p&gt;\n    "]},"randomTags":[{"name":"group-by","slug":"group-by"},{"name":"xml-parsing","slug":"xml-parsing"},{"name":"multipartform-data","slug":"multipartform-data"},{"name":"tkinter","slug":"tkinter"},{"name":"relative-import","slug":"relative-import"},{"name":"namespaces","slug":"namespaces"},{"name":"overflow","slug":"overflow"},{"name":"single-quotes","slug":"single-quotes"},{"name":"dom-events","slug":"dom-events"},{"name":"undefined-reference","slug":"undefined-reference"},{"name":"webdriver","slug":"webdriver"},{"name":"flask","slug":"flask"},{"name":"iterator","slug":"iterator"},{"name":"awk","slug":"awk"},{"name":"soft-keyboard","slug":"soft-keyboard"},{"name":"datetimeoffset","slug":"datetimeoffset"},{"name":"c-strings","slug":"c-strings"},{"name":"kotlin","slug":"kotlin"},{"name":"python-import","slug":"python-import"},{"name":"pivot-table","slug":"pivot-table"}]},"__N_SSG":true}