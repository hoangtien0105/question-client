{"pageProps":{"data":{"count":1,"rows":[{"id":163,"title":"What is PECS (Producer Extends Consumer Super)?","slug":"what-is-pecs-(producer-extends-consumer-super)-1657384828870","postType":"QUESTION","createdAt":"2022-07-09T16:40:28.000Z","updatedAt":"2022-07-09T16:40:28.000Z","tags":[{"id":598,"name":"bounded-wildcard","slug":"bounded-wildcard","createdAt":"2022-07-09T16:40:28.000Z","updatedAt":"2022-07-09T16:40:28.000Z","Questions_Tags":{"questionId":163,"tagId":598}}]}]},"slug":"bounded-wildcard","page":1,"answers":{"163":["\n&lt;p&gt;&lt;strong&gt;tl;dr:&lt;/strong&gt; &quot;PECS&quot; is from the collection&apos;s point of view. If you are &lt;em&gt;only&lt;/em&gt; pulling items from a generic collection, it is a producer and you should use &lt;code&gt;extends&lt;/code&gt;; if you are &lt;em&gt;only&lt;/em&gt; stuffing items in, it is a consumer and you should use &lt;code&gt;super&lt;/code&gt;. If you do both with the same collection, you shouldn&apos;t use either &lt;code&gt;extends&lt;/code&gt; or &lt;code&gt;super&lt;/code&gt;.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;Suppose you have a method that takes as its parameter a collection of things, but you want it to be more flexible than just accepting a &lt;code&gt;Collection&amp;lt;Thing&amp;gt;&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Case 1: You want to go through the collection and do things with each item.&lt;/strong&gt;&lt;br&gt;\nThen the list is a &lt;strong&gt;producer&lt;/strong&gt;, so you should use a &lt;code&gt;Collection&amp;lt;? extends Thing&amp;gt;&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;The reasoning is that a &lt;code&gt;Collection&amp;lt;? extends Thing&amp;gt;&lt;/code&gt; could hold any subtype of &lt;code&gt;Thing&lt;/code&gt;, and thus each element will behave as a &lt;code&gt;Thing&lt;/code&gt; when you perform your operation. (You actually cannot add anything (except null) to a &lt;code&gt;Collection&amp;lt;? extends Thing&amp;gt;&lt;/code&gt;, because you cannot know at runtime which &lt;em&gt;specific&lt;/em&gt; subtype of &lt;code&gt;Thing&lt;/code&gt; the collection holds.)&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Case 2: You want to add things to the collection.&lt;/strong&gt;&lt;br&gt;\nThen the list is a &lt;strong&gt;consumer&lt;/strong&gt;, so you should use a &lt;code&gt;Collection&amp;lt;? super Thing&amp;gt;&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;The reasoning here is that unlike &lt;code&gt;Collection&amp;lt;? extends Thing&amp;gt;&lt;/code&gt;, &lt;code&gt;Collection&amp;lt;? super Thing&amp;gt;&lt;/code&gt; can always hold a &lt;code&gt;Thing&lt;/code&gt; no matter what the actual parameterized type is. Here you don&apos;t care what is already in the list as long as it will allow a &lt;code&gt;Thing&lt;/code&gt; to be added; this is what &lt;code&gt;? super Thing&lt;/code&gt; guarantees.&lt;/p&gt;\n    ","\n&lt;p&gt;The principles behind this in computer science is called&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Covariance: &lt;code&gt;? extends MyClass&lt;/code&gt;,&lt;/li&gt;\n&lt;li&gt;Contravariance: &lt;code&gt;? super MyClass&lt;/code&gt; and&lt;/li&gt;\n&lt;li&gt;Invariance/non-variance: &lt;code&gt;MyClass&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;The picture below should explain the concept.\nPicture courtesy: &lt;a href=&quot;https://stackoverflow.com/users/2707792/andrey-tyukin&quot;&gt;Andrey Tyukin&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;&lt;img src=&quot;https://i.stack.imgur.com/KjDLw.png&quot; alt=&quot;Covariance vs Contravariance&quot;&gt;&lt;/p&gt;\n    ","\n&lt;blockquote&gt;\n&lt;p&gt;When dealing with collections, a common rule for selecting between upper or lower bounded wildcards is PECS. &lt;a href=&quot;https://www.baeldung.com/java-generics-interview-questions#q13-when-would-you-choose-to-use-a-lower-bounded-type-vs-an-upper-bounded-type&quot; rel=&quot;noreferrer&quot;&gt;credit&lt;/a&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;PECS (Producer &lt;code&gt;extends&lt;/code&gt; and Consumer &lt;code&gt;super&lt;/code&gt;)&lt;/p&gt;\n&lt;p&gt;mnemonic  Ge&lt;strong&gt;t&lt;/strong&gt; (ex&lt;strong&gt;t&lt;/strong&gt;end) and P&lt;strong&gt;u&lt;/strong&gt;t (S&lt;strong&gt;u&lt;/strong&gt;per) principle.&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;This &lt;strong&gt;principle&lt;/strong&gt; states that:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Use an &lt;code&gt;extends&lt;/code&gt; wildcard when you only get values out of a structure.&lt;/li&gt;\n&lt;li&gt;Use a &lt;code&gt;super&lt;/code&gt; wildcard when you only put values into a structure.&lt;/li&gt;\n&lt;li&gt;And dont use a wildcard when you both get and put.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;Example in Java:&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Super&lt;/span&gt; {\n        Number &lt;span class=&quot;hljs-title function_&quot;&gt;testCoVariance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;;\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;testContraVariance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(Number parameter)&lt;/span&gt; {\n        } \n    }\n    \n    &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Sub&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Super&lt;/span&gt; {\n        &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n        Integer &lt;span class=&quot;hljs-title function_&quot;&gt;testCoVariance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;;\n        } &lt;span class=&quot;hljs-comment&quot;&gt;//compiles successfully i.e. return type is don&apos;t care(Integer is subtype of Number)&lt;/span&gt;\n        &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;testContraVariance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(Integer parameter)&lt;/span&gt; {\n        } &lt;span class=&quot;hljs-comment&quot;&gt;//doesn&apos;t support even though Integer is subtype of Number&lt;/span&gt;\n    }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The Liskov Substitution Principle (LSP) states that &lt;strong&gt;objects in a program should be replaceable with instances of their subtypes without altering the correctness of that program&lt;/strong&gt;.&lt;/p&gt;\n&lt;p&gt;Within the type system of a programming language, a typing rule&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;covariant&lt;/strong&gt; if it preserves the ordering of types (), which orders types from more specific to more generic;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;contravariant&lt;/strong&gt; if it reverses this ordering;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;invariant&lt;/strong&gt; or nonvariant if neither of these applies.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)&quot; rel=&quot;noreferrer&quot;&gt;Covariance and contravariance&lt;/a&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Read-only data types (sources) can be &lt;strong&gt;&lt;a href=&quot;https://en.m.wikipedia.org/wiki/Covariant_return_type&quot; rel=&quot;noreferrer&quot;&gt;covariant&lt;/a&gt;&lt;/strong&gt;;&lt;/li&gt;\n&lt;li&gt;write-only data types (sinks) can be &lt;strong&gt;contravariant&lt;/strong&gt;.&lt;/li&gt;\n&lt;li&gt;Mutable data types which act as both sources and sinks should be &lt;strong&gt;invariant&lt;/strong&gt;.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;To illustrate this general phenomenon, consider the array type. For the type Animal we can make the type Animal[]&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;covariant&lt;/strong&gt;: a Cat[] is an Animal[];&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;contravariant&lt;/strong&gt;: an Animal[] is a Cat[];&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;invariant&lt;/strong&gt;: an Animal[] is not a Cat[] and a Cat[] is not an Animal[].&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;Java Examples:&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;Object name= &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;prem&quot;&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;//works&lt;/span&gt;\nList&amp;lt;Number&amp;gt; numbers = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;Integer&amp;gt;();&lt;span class=&quot;hljs-comment&quot;&gt;//gets compile time error&lt;/span&gt;\n\nInteger[] myInts = {&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;};\nNumber[] myNumber = myInts;\nmyNumber[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-number&quot;&gt;3.14&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;//attempt of heap pollution i.e. at runtime gets java.lang.ArrayStoreException: java.lang.Double(we can fool compiler but not run-time)&lt;/span&gt;\n\nList&amp;lt;String&amp;gt; list=&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;&amp;gt;();\nlist.add(&lt;span class=&quot;hljs-string&quot;&gt;&quot;prem&quot;&lt;/span&gt;);\nList&amp;lt;Object&amp;gt; listObject=list; &lt;span class=&quot;hljs-comment&quot;&gt;//Type mismatch: cannot convert from List&amp;lt;String&amp;gt; to List&amp;lt;Object&amp;gt; at Compiletime  &lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;a href=&quot;http://www.codejava.net/java-core/collections/generics-with-subtyping-and-the-substitution-principle&quot; rel=&quot;noreferrer&quot;&gt;more examples&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/KoW5X.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/KoW5X.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt; &lt;a href=&quot;https://www.mathsisfun.com/definitions/bounds.html&quot; rel=&quot;noreferrer&quot;&gt;Image src&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;bounded&lt;/strong&gt;(i.e. heading toward somewhere) &lt;strong&gt;wildcard&lt;/strong&gt; : There are 3 different flavours of wildcards:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;In-variance/Non-variance: &lt;code&gt;?&lt;/code&gt; or &lt;code&gt;? extends Object&lt;/code&gt; - &lt;strong&gt;Unbounded&lt;/strong&gt; Wildcard. It stands for the family of  all types. Use when you both get and put.&lt;/li&gt;\n&lt;li&gt;Co-variance: &lt;code&gt;? extends T&lt;/code&gt; ( Reign of &lt;code&gt;T&lt;/code&gt; descendants)  - a wildcard with an &lt;strong&gt;upper bound&lt;/strong&gt;. &lt;code&gt;T&lt;/code&gt; is the &lt;strong&gt;upper&lt;/strong&gt;-most class in the inheritance hierarchy. Use an &lt;code&gt;extends&lt;/code&gt; wildcard when you only &lt;strong&gt;Get&lt;/strong&gt; values out of a structure.&lt;/li&gt;\n&lt;li&gt;Contra-variance: &lt;code&gt;? super T&lt;/code&gt; ( Reign of &lt;code&gt;T&lt;/code&gt; ancestor)  - a wildcard with a &lt;strong&gt;lower bound&lt;/strong&gt;. &lt;code&gt;T&lt;/code&gt; is the &lt;strong&gt;lower&lt;/strong&gt;-most class in the inheritance hierarchy. Use a &lt;code&gt;super&lt;/code&gt; wildcard when you only &lt;strong&gt;Put&lt;/strong&gt; values into a structure.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;Note: wildcard &lt;code&gt;?&lt;/code&gt; means &lt;strong&gt;zero or one time&lt;/strong&gt;, represents an &lt;strong&gt;unknown type&lt;/strong&gt;. The wildcard can be used as the type of a parameter, never used as a type argument for a generic method invocation, a generic class instance creation.(i.e. when used wildcard that reference not used in elsewhere in program like we use &lt;code&gt;T&lt;/code&gt;)&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/ki1Kf.jpg&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/ki1Kf.jpg&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; java.util.ArrayList;\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; java.util.List;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Shape&lt;/span&gt; { &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; {}}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Circle&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Shape&lt;/span&gt; {&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; {}}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Square&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Shape&lt;/span&gt; {&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; {}}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Rectangle&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Shape&lt;/span&gt; {&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; {}}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Test&lt;/span&gt; {\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(String[] args)&lt;/span&gt; {\n        &lt;span class=&quot;hljs-comment&quot;&gt;//? extends Shape i.e. can use any sub type of Shape, here Shape is Upper Bound in inheritance hierarchy&lt;/span&gt;\n        List&amp;lt;? &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Shape&lt;/span&gt;&amp;gt; intList5 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;Shape&amp;gt;();\n        List&amp;lt;? &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Shape&lt;/span&gt;&amp;gt; intList6 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;Cricle&amp;gt;();\n        List&amp;lt;? &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Shape&lt;/span&gt;&amp;gt; intList7 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;Rectangle&amp;gt;();\n        List&amp;lt;? &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Shape&lt;/span&gt;&amp;gt; intList9 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;Object&amp;gt;();&lt;span class=&quot;hljs-comment&quot;&gt;//ERROR.&lt;/span&gt;\n\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;//? super Shape i.e. can use any super type of Shape, here Shape is Lower Bound in inheritance hierarchy&lt;/span&gt;\n        List&amp;lt;? &lt;span class=&quot;hljs-built_in&quot;&gt;super&lt;/span&gt; Shape&amp;gt; inList5 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;Shape&amp;gt;();\n        List&amp;lt;? &lt;span class=&quot;hljs-built_in&quot;&gt;super&lt;/span&gt; Shape&amp;gt; inList6 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;Object&amp;gt;();\n        List&amp;lt;? &lt;span class=&quot;hljs-built_in&quot;&gt;super&lt;/span&gt; Shape&amp;gt; inList7 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;Circle&amp;gt;(); &lt;span class=&quot;hljs-comment&quot;&gt;//ERROR.&lt;/span&gt;\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;//-----------------------------------------------------------&lt;/span&gt;\n        &lt;span class=&quot;hljs-type&quot;&gt;Circle&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;circle&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Circle&lt;/span&gt;();\n        &lt;span class=&quot;hljs-type&quot;&gt;Shape&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;shape&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; circle; &lt;span class=&quot;hljs-comment&quot;&gt;// OK. Circle IS-A Shape&lt;/span&gt;\n\n        List&amp;lt;Circle&amp;gt; circles = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;&amp;gt;();\n        List&amp;lt;Shape&amp;gt; shapes = circles; &lt;span class=&quot;hljs-comment&quot;&gt;// ERROR. List&amp;lt;Circle&amp;gt; is not subtype of List&amp;lt;Shape&amp;gt; even when Circle IS-A Shape&lt;/span&gt;\n\n        List&amp;lt;? &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Circle&lt;/span&gt;&amp;gt; circles2 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;&amp;gt;();\n        List&amp;lt;? &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Shape&lt;/span&gt;&amp;gt; shapes2 = circles2; &lt;span class=&quot;hljs-comment&quot;&gt;// OK. List&amp;lt;? extends Circle&amp;gt; is subtype of List&amp;lt;? extends Shape&amp;gt;&lt;/span&gt;\n\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;//-----------------------------------------------------------&lt;/span&gt;\n        &lt;span class=&quot;hljs-type&quot;&gt;Shape&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;shape2&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Shape&lt;/span&gt;();\n        Circle circle2= (Circle) shape2; &lt;span class=&quot;hljs-comment&quot;&gt;// OK. with type casting&lt;/span&gt;\n\n        List&amp;lt;Shape&amp;gt; shapes3 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;&amp;gt;();\n        List&amp;lt;Circle&amp;gt; circles3 = shapes3; &lt;span class=&quot;hljs-comment&quot;&gt;//ERROR. List&amp;lt;Circle&amp;gt; is not subtype of  List&amp;lt;Shape&amp;gt; even Circle is subetype of Shape&lt;/span&gt;\n\n        List&amp;lt;? &lt;span class=&quot;hljs-built_in&quot;&gt;super&lt;/span&gt; Shape&amp;gt; shapes4 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;&amp;gt;();\n        List&amp;lt;? &lt;span class=&quot;hljs-built_in&quot;&gt;super&lt;/span&gt; Circle&amp;gt; circles4 = shapes4; &lt;span class=&quot;hljs-comment&quot;&gt;//OK.&lt;/span&gt;\n    }\n\n    \n    \n    &lt;span class=&quot;hljs-comment&quot;&gt;/*\n     * Example for an upper bound wildcard (Get values i.e Producer `extends`)\n     *\n     * */&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;testCoVariance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(List&amp;lt;? extends Shape&amp;gt; list)&lt;/span&gt; {\n        list.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;());&lt;span class=&quot;hljs-comment&quot;&gt;//ERROR&lt;/span&gt;\n        list.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Shape&lt;/span&gt;()); &lt;span class=&quot;hljs-comment&quot;&gt;//ERROR&lt;/span&gt;\n        list.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Circle&lt;/span&gt;()); &lt;span class=&quot;hljs-comment&quot;&gt;// ERROR&lt;/span&gt;\n        list.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Square&lt;/span&gt;()); &lt;span class=&quot;hljs-comment&quot;&gt;// ERROR&lt;/span&gt;\n        list.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Rectangle&lt;/span&gt;()); &lt;span class=&quot;hljs-comment&quot;&gt;// ERROR&lt;/span&gt;\n        Shape shape= list.get(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//OK so list act as produces only&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;/*\n     * You can&apos;t add a Shape,Circle,Square,Rectangle to a List&amp;lt;? extends Shape&amp;gt;\n     * You can get an object and know that it will be an Shape\n     */&lt;/span&gt;\n    }\n    \n    \n    &lt;span class=&quot;hljs-comment&quot;&gt;/*\n     * Example for  a lower bound wildcard (Put values i.e Consumer`super`)\n     * */&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;testContraVariance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(List&amp;lt;? &lt;span class=&quot;hljs-built_in&quot;&gt;super&lt;/span&gt; Shape&amp;gt; list)&lt;/span&gt; {\n        list.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;());&lt;span class=&quot;hljs-comment&quot;&gt;//ERROR&lt;/span&gt;\n        list.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Shape&lt;/span&gt;());&lt;span class=&quot;hljs-comment&quot;&gt;//OK&lt;/span&gt;\n        list.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Circle&lt;/span&gt;());&lt;span class=&quot;hljs-comment&quot;&gt;//OK&lt;/span&gt;\n        list.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Square&lt;/span&gt;());&lt;span class=&quot;hljs-comment&quot;&gt;//OK&lt;/span&gt;\n        list.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Rectangle&lt;/span&gt;());&lt;span class=&quot;hljs-comment&quot;&gt;//OK&lt;/span&gt;\n        Shape shape= list.get(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// ERROR. Type mismatch, so list acts only as consumer&lt;/span&gt;\n        Object object= list.get(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;//OK gets an object, but we don&apos;t know what kind of Object it is.&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;/*\n         * You can add a Shape,Circle,Square,Rectangle to a List&amp;lt;? super Shape&amp;gt;\n         * You can&apos;t get an Shape(but can get Object) and don&apos;t know what kind of Shape it is.\n         */&lt;/span&gt;\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;a href=&quot;http://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeArguments.html&quot; rel=&quot;noreferrer&quot;&gt;generics&lt;/a&gt; and &lt;a href=&quot;http://www.codejava.net/java-core/collections/generics-with-extends-and-super-wildcards-and-the-get-and-put-principle&quot; rel=&quot;noreferrer&quot;&gt;examples&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://www.infoworld.com/article/3172592/type-dependency-in-java-part-1.html&quot; rel=&quot;noreferrer&quot;&gt;Covariance and contravariance&lt;/a&gt; determine compatibility based on types. In either case, variance is a directed relation. Covariance can be translated as &quot;&lt;strong&gt;different in the same direction&lt;/strong&gt;,&quot; or with-different, whereas contravariance means &quot;&lt;strong&gt;different in the opposite direction&lt;/strong&gt;,&quot; or against-different. Covariant and contravariant types are not the same, but there is a correlation between them. The names imply the direction of the correlation.&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/a/54576828/1697099&quot;&gt;https://stackoverflow.com/a/54576828/1697099&lt;/a&gt;&lt;br&gt;\n&lt;a href=&quot;https://stackoverflow.com/a/64888058/1697099&quot;&gt;https://stackoverflow.com/a/64888058/1697099&lt;/a&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Covariance: accept subtypes (read only i.e. Producer)&lt;/li&gt;\n&lt;li&gt;Contravariance: accept supertypes (write only i.e. Consumer)&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Test&lt;/span&gt; {\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;A&lt;/span&gt; {}\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;A&lt;/span&gt; {}\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;C&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;B&lt;/span&gt; {}\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;testCoVariance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(List&amp;lt;? extends B&amp;gt; myBlist)&lt;/span&gt; {\n        &lt;span class=&quot;hljs-type&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;B&lt;/span&gt;();\n        &lt;span class=&quot;hljs-type&quot;&gt;C&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;C&lt;/span&gt;();\n        myBlist.add(b); &lt;span class=&quot;hljs-comment&quot;&gt;// does not compile&lt;/span&gt;\n        myBlist.add(c); &lt;span class=&quot;hljs-comment&quot;&gt;// does not compile&lt;/span&gt;\n        &lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; myBlist.get(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;); \n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;testContraVariance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(List&amp;lt;? &lt;span class=&quot;hljs-built_in&quot;&gt;super&lt;/span&gt; B&amp;gt; myBlist)&lt;/span&gt; {\n        &lt;span class=&quot;hljs-type&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;B&lt;/span&gt;();\n        &lt;span class=&quot;hljs-type&quot;&gt;C&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;C&lt;/span&gt;();\n        myBlist.add(b);\n        myBlist.add(c);\n        &lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; myBlist.get(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// does not compile&lt;/span&gt;\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;In a nutshell, three easy rules to remember PECS: &lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Use the &lt;code&gt;&amp;lt;? extends T&amp;gt;&lt;/code&gt; wildcard if you need to retrieve object of\ntype &lt;code&gt;T&lt;/code&gt; from a collection.&lt;/li&gt;\n&lt;li&gt;Use the &lt;code&gt;&amp;lt;? super T&amp;gt;&lt;/code&gt; wildcard if you need to put objects of type &lt;code&gt;T&lt;/code&gt; in\na collection.&lt;/li&gt;\n&lt;li&gt;If you need to satisfy both things, well, dont use any wildcard. As\nsimple as that.&lt;/li&gt;\n&lt;/ol&gt;\n    ","\n&lt;p&gt;As I explain in &lt;a href=&quot;https://stackoverflow.com/questions/2248390/java-generics-collections-max-signature-and-comparator/2248503#2248503&quot;&gt;my answer&lt;/a&gt; to another question, PECS is a mnemonic device  created by Josh Bloch to help remember &lt;strong&gt;P&lt;/strong&gt;roducer &lt;code&gt;&lt;strong&gt;e&lt;/strong&gt;xtends&lt;/code&gt;, &lt;strong&gt;C&lt;/strong&gt;onsumer &lt;code&gt;&lt;strong&gt;s&lt;/strong&gt;uper&lt;/code&gt;.&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;This means that when a parameterized type being passed to a method will &lt;em&gt;produce&lt;/em&gt; instances of &lt;code&gt;T&lt;/code&gt; (they will be retrieved from it in some way), &lt;code&gt;? extends T&lt;/code&gt; should be used, since any instance of a subclass of &lt;code&gt;T&lt;/code&gt; is also a &lt;code&gt;T&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;When a parameterized type being passed to a method will &lt;em&gt;consume&lt;/em&gt; instances of &lt;code&gt;T&lt;/code&gt; (they will be passed to it to do something), &lt;code&gt;? super T&lt;/code&gt; should be used because an instance of &lt;code&gt;T&lt;/code&gt; can legally be passed to any method that accepts some supertype of &lt;code&gt;T&lt;/code&gt;. A &lt;code&gt;Comparator&amp;lt;Number&amp;gt;&lt;/code&gt; could be used on a &lt;code&gt;Collection&amp;lt;Integer&amp;gt;&lt;/code&gt;, for example. &lt;code&gt;? extends T&lt;/code&gt; would not work, because a &lt;code&gt;Comparator&amp;lt;Integer&amp;gt;&lt;/code&gt; could not operate on a &lt;code&gt;Collection&amp;lt;Number&amp;gt;&lt;/code&gt;.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;Note that generally you should only be using &lt;code&gt;? extends T&lt;/code&gt; and &lt;code&gt;? super T&lt;/code&gt; for the parameters of some method. Methods should just use &lt;code&gt;T&lt;/code&gt; as the type parameter on a generic return type.&lt;/p&gt;\n    ","\n&lt;p&gt;let&apos;s assume this hierarchy:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Creature&lt;/span&gt;{}&lt;span class=&quot;hljs-comment&quot;&gt;// X&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Animal&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Creature&lt;/span&gt;{}&lt;span class=&quot;hljs-comment&quot;&gt;// Y&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Fish&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Animal&lt;/span&gt;{}&lt;span class=&quot;hljs-comment&quot;&gt;// Z&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Shark&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Fish&lt;/span&gt;{}&lt;span class=&quot;hljs-comment&quot;&gt;// A&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;HammerSkark&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Shark&lt;/span&gt;{}&lt;span class=&quot;hljs-comment&quot;&gt;// B&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;DeadHammerShark&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;HammerSkark&lt;/span&gt;{}&lt;span class=&quot;hljs-comment&quot;&gt;// C&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Let&apos;s clarify PE - Producer Extends:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;List&amp;lt;? &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Shark&lt;/span&gt;&amp;gt; sharks = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;&amp;gt;();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Why you cannot add objects that extend &quot;Shark&quot; in this list? like:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;sharks.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;HammerShark&lt;/span&gt;());&lt;span class=&quot;hljs-comment&quot;&gt;//will result in compilation error&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Since you have a list that can be of type A, B or C &lt;strong&gt;at runtime&lt;/strong&gt;, you cannot add any object of type A, B or C in it because you can end up with a combination that is not allowed in java. &lt;br&gt;In practice, the compiler can indeed see at compiletime that you add a B:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;sharks.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;HammerShark&lt;/span&gt;());\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;...but it has no way to tell if at runtime, your B will be a subtype or supertype of the list type. At runtime the list type can be any of the types A, B, C. So you cannot end up adding HammerSkark (super type) in a list of DeadHammerShark for example.&lt;/p&gt;\n\n&lt;p&gt;*You will say: &quot;OK, but why can&apos;t I add HammerSkark in it since it is the smallest type?&quot;. \nAnswer: It is the smallest &lt;strong&gt;you&lt;/strong&gt; know. But HammerSkark can be extended too by somebody else and you end up in the same scenario.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Let&apos;s clarify CS - Consumer Super:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;In the same hierarchy we can try this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;List&amp;lt;? &lt;span class=&quot;hljs-built_in&quot;&gt;super&lt;/span&gt; Shark&amp;gt; sharks = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;&amp;gt;();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;What and why you &lt;strong&gt;can&lt;/strong&gt; add to this list?&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;sharks.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Shark&lt;/span&gt;());\nsharks.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;DeadHammerShark&lt;/span&gt;());\nsharks.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;HammerSkark&lt;/span&gt;());\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You can add the above types of objects because anything below shark(A,B,C) will always be subtypes of anything above shark (X,Y,Z). Easy to understand. &lt;/p&gt;\n\n&lt;p&gt;You &lt;strong&gt;cannot&lt;/strong&gt; add types above Shark, because &lt;strong&gt;at runtime&lt;/strong&gt; the type of added object can be higher in hierarchy than the declared type of the list(X,Y,Z). This is not allowed.&lt;/p&gt;\n\n&lt;p&gt;But why you cannot read from this list?\n(I mean you can get an element out of it, but you cannot assign it to anything other than Object o):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;Object o;\no = sharks.get(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;// only assignment that works&lt;/span&gt;\n\nAnimal s;\ns = sharks.get(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//doen&apos;t work&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;At runtime, the type of list can be any type above A: X, Y, Z, ...\nThe compiler can compile your assignment statement (which seems correct) but, &lt;strong&gt;at runtime&lt;/strong&gt; the type of s (Animal) can be lower in hierarchy than the declared type of the list(which could be Creature, or higher). This is not allowed.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;To sum up&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;We use &lt;code&gt;&amp;lt;? super T&amp;gt;&lt;/code&gt; to add objects of types equal or below &lt;code&gt;T&lt;/code&gt; to the &lt;code&gt;List&lt;/code&gt;.&lt;/strong&gt; We cannot read from \nit.&lt;br&gt;\n&lt;strong&gt;We use &lt;code&gt;&amp;lt;? extends T&amp;gt;&lt;/code&gt; to read objects of types equal or below &lt;code&gt;T&lt;/code&gt; from list.&lt;/strong&gt; We cannot add element to it.&lt;/p&gt;\n    ","\n&lt;p&gt;This is the clearest, simplest way for me think of extends vs. super:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;&lt;code&gt;extends&lt;/code&gt; is for &lt;strong&gt;reading&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;code&gt;super&lt;/code&gt; is for &lt;strong&gt;writing&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;I find &quot;PECS&quot; to be a non-obvious way to think of things regarding who is the &quot;producer&quot; and who is the &quot;consumer&quot;. &quot;PECS&quot; is defined from the perspective of the &lt;em&gt;data collection itself&lt;/em&gt;  the collection &quot;consumes&quot; if objects are being written &lt;em&gt;to&lt;/em&gt; it (it is consuming objects from calling code), and it &quot;produces&quot; if objects are being read &lt;em&gt;from&lt;/em&gt; it (it is producing objects to some calling code). This is counter to how everything else is named though. Standard Java APIs are named from the perspective of the calling code, not the collection itself. For example, a collection-centric view of &lt;a href=&quot;https://docs.oracle.com/javase/9/docs/api/java/util/List.html&quot; rel=&quot;noreferrer&quot;&gt;java.util.List&lt;/a&gt; should have a method named &quot;receive()&quot; instead of &quot;add()&quot;  after all, the calling code &lt;em&gt;adds&lt;/em&gt; the element, but the list itself &lt;em&gt;receives&lt;/em&gt; the element.&lt;/p&gt;\n\n&lt;p&gt;I think it&apos;s more intuitive, natural and consistent to think of things from the perspective of the code that interacts with the collection  does the code &quot;read from&quot; or &quot;write to&quot; the collection? Following that, any code &lt;em&gt;writing to&lt;/em&gt; the collection would be the &quot;producer&quot;, and any code &lt;em&gt;reading from&lt;/em&gt; the collection would be the &quot;consumer&quot;.&lt;/p&gt;\n    ","\n&lt;p&gt;lets try visualizing this concept.&lt;/p&gt;\n&lt;p&gt;&lt;code&gt;&amp;lt;? super SomeType&amp;gt;&lt;/code&gt; is an undefined(yet) type, but that undefined type &lt;strong&gt;should be a super&lt;/strong&gt;class of the SomeType class.&lt;/p&gt;\n&lt;p&gt;The same goes for &lt;code&gt;&amp;lt;? extends SomeType&amp;gt;&lt;/code&gt;. Its a type that &lt;strong&gt;should extend&lt;/strong&gt; the SomeType class (it should be a child class of the SomeType class).&lt;/p&gt;\n&lt;p&gt;If we consider the concept of &apos;class inheritance&apos; in a Venn diagram, an example would be like this:&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/rneiP.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/rneiP.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Mammal class &lt;strong&gt;extends&lt;/strong&gt; Animal class (Animal class is a &lt;strong&gt;super&lt;/strong&gt;class of Mammal class).&lt;/p&gt;\n&lt;p&gt;Cat/Dog class &lt;strong&gt;extends&lt;/strong&gt; Mammal class (Mammal class is a &lt;strong&gt;super&lt;/strong&gt;class of Cat/Dog class).&lt;/p&gt;\n&lt;p&gt;Then, lets think about the circles in the above diagram as a box that has a physical volume.&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/mpxnl.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/mpxnl.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;You CANT put a bigger box into a smaller one.&lt;/p&gt;\n&lt;p&gt;You can ONLY put a smaller box into a bigger one.&lt;/p&gt;\n&lt;p&gt;When you say &lt;code&gt;&amp;lt;? super SomeType&amp;gt;&lt;/code&gt;, you wanna describe a box that is the same size or &lt;strong&gt;bigger&lt;/strong&gt; than the SomeType box.&lt;/p&gt;\n&lt;p&gt;If you say &lt;code&gt;&amp;lt;? extends SomeType&amp;gt;&lt;/code&gt;, then you wanna describe a box that is the same size or &lt;strong&gt;smaller&lt;/strong&gt; than the SomeType box.&lt;/p&gt;\n&lt;p&gt;&lt;em&gt;so what is PECS anyway?&lt;/em&gt;&lt;/p&gt;\n&lt;p&gt;An example of a Producer is a List which we only read from.&lt;/p&gt;\n&lt;p&gt;An example of a Consumer is a List which we only write into.&lt;/p&gt;\n&lt;p&gt;&lt;em&gt;Just keep in mind this:&lt;/em&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;We read from a producer, and take that stuff into our own box.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;And we write our own box into a consumer.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;So, we need to read(take) something from a producer &lt;strong&gt;and put that into our box.&lt;/strong&gt; This means that any boxes taken from the producer should &lt;strong&gt;NOT&lt;/strong&gt; be bigger than our box. Thats why &lt;strong&gt;P&lt;/strong&gt;roducer &lt;strong&gt;E&lt;/strong&gt;xtends.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Extends means a smaller box&lt;/strong&gt;(smaller circle in the Venn diagram above). The boxes of a producer should be smaller than our own box, because we are gonna take those boxes from the producer and put them into our own box. We cant put anything bigger than our box!&lt;/p&gt;\n&lt;p&gt;Also, we need to write(put) &lt;strong&gt;our own box into&lt;/strong&gt; a consumer. This means that the boxes of the consumer should &lt;strong&gt;NOT&lt;/strong&gt; be smaller than our own box. Thats why &lt;strong&gt;C&lt;/strong&gt;onsumer &lt;strong&gt;S&lt;/strong&gt;uper.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Super means a bigger box&lt;/strong&gt;(bigger circle in the Venn diagram above). If we want to put our own boxes into a consumer, the boxes of the consumer should be bigger than our box!&lt;/p&gt;\n&lt;p&gt;Now we can easily understand this example:&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Collections&lt;/span&gt; { \n  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &amp;lt;T&amp;gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;copy&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(List&amp;lt;? &lt;span class=&quot;hljs-built_in&quot;&gt;super&lt;/span&gt; T&amp;gt; dest, List&amp;lt;? extends T&amp;gt; src)&lt;/span&gt; {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; src.size(); i++) \n        dest.set(i, src.get(i)); \n  } \n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;In the above example, we want to read(take) something from &lt;code&gt;src&lt;/code&gt; and write(put) them into &lt;code&gt;dest&lt;/code&gt;. So the &lt;code&gt;src&lt;/code&gt; is a Producer and its boxes should be smaller(more specific) than some type &lt;code&gt;T&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;Vice versa, the &lt;code&gt;dest&lt;/code&gt; is a Consumer and its boxes should be bigger(more general) than some type &lt;code&gt;T&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;If the boxes of the &lt;code&gt;src&lt;/code&gt; were bigger than that of the &lt;code&gt;dest&lt;/code&gt;, we couldnt put those big boxes into the smaller boxes the &lt;code&gt;dest&lt;/code&gt; has.&lt;/p&gt;\n&lt;p&gt;If anyone reads this, I hope it helps you better understand\n&lt;strong&gt;P&lt;/strong&gt;roducer &lt;strong&gt;E&lt;/strong&gt;xtends, &lt;strong&gt;C&lt;/strong&gt;onsumer &lt;strong&gt;S&lt;/strong&gt;uper.&lt;/p&gt;\n&lt;p&gt;Happy coding! :)&lt;/p&gt;\n    ","\n&lt;p&gt;(adding an answer because never enough examples with Generics wildcards)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;       &lt;span class=&quot;hljs-comment&quot;&gt;// Source &lt;/span&gt;\n       List&amp;lt;Integer&amp;gt; intList = Arrays.asList(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;);\n       List&amp;lt;Double&amp;gt; doubleList = Arrays.asList(&lt;span class=&quot;hljs-number&quot;&gt;2.78&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3.14&lt;/span&gt;);\n       List&amp;lt;Number&amp;gt; numList = Arrays.asList(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2.78&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3.14&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;);\n\n       &lt;span class=&quot;hljs-comment&quot;&gt;// Destination&lt;/span&gt;\n       List&amp;lt;Integer&amp;gt; intList2 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;&amp;gt;();\n       List&amp;lt;Double&amp;gt; doublesList2 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;&amp;gt;();\n       List&amp;lt;Number&amp;gt; numList2 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;&amp;gt;();\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Works&lt;/span&gt;\n        copyElements1(intList,intList2);         &lt;span class=&quot;hljs-comment&quot;&gt;// from int to int&lt;/span&gt;\n        copyElements1(doubleList,doublesList2);  &lt;span class=&quot;hljs-comment&quot;&gt;// from double to double&lt;/span&gt;\n\n\n     &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &amp;lt;T&amp;gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;copyElements1&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(Collection&amp;lt;T&amp;gt; src, Collection&amp;lt;T&amp;gt; dest)&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(T n : src){\n            dest.add(n);\n         }\n      }\n\n\n     &lt;span class=&quot;hljs-comment&quot;&gt;// Let&apos;s try to copy intList to its supertype&lt;/span&gt;\n     copyElements1(intList,numList2); &lt;span class=&quot;hljs-comment&quot;&gt;// error, method signature just says &quot;T&quot;&lt;/span&gt;\n                                      &lt;span class=&quot;hljs-comment&quot;&gt;// and here the compiler is given &lt;/span&gt;\n                                      &lt;span class=&quot;hljs-comment&quot;&gt;// two types: Integer and Number, &lt;/span&gt;\n                                      &lt;span class=&quot;hljs-comment&quot;&gt;// so which one shall it be?&lt;/span&gt;\n\n     &lt;span class=&quot;hljs-comment&quot;&gt;// PECS to the rescue!&lt;/span&gt;\n     copyElements2(intList,numList2);  &lt;span class=&quot;hljs-comment&quot;&gt;// possible&lt;/span&gt;\n\n\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// copy Integer (? extends T) to its supertype (Number is super of Integer)&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &amp;lt;T&amp;gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;copyElements2&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(Collection&amp;lt;? extends T&amp;gt; src, \n                                          Collection&amp;lt;? &lt;span class=&quot;hljs-built_in&quot;&gt;super&lt;/span&gt; T&amp;gt; dest)&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(T n : src){\n            dest.add(n);\n        }\n    }\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;The PECS &quot;rule&quot; just ensures that the following is legal:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Consumer: whatever &lt;code&gt;?&lt;/code&gt; is, it can legally &lt;em&gt;refer to&lt;/em&gt; &lt;code&gt;T&lt;/code&gt; &lt;/li&gt;\n&lt;li&gt;Producer: whatever &lt;code&gt;?&lt;/code&gt; is, it can legally be &lt;em&gt;referred to by&lt;/em&gt; &lt;code&gt;T&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;The typical pairing along the lines of &lt;code&gt;List&amp;lt;? extends T&amp;gt; producer, List&amp;lt;? super T&amp;gt; consumer&lt;/code&gt; is simply ensuring that the compiler can enforce the standard &quot;IS-A&quot; inheritance relationship rules. If we could do so legally, it might be simpler to say &lt;code&gt;&amp;lt;T extends ?&amp;gt;, &amp;lt;? extends T&amp;gt;&lt;/code&gt; (or better yet in Scala, as you can see above, it&apos;s &lt;code&gt;[-T], [+T]&lt;/code&gt;. Unfortunately the best we can do is &lt;code&gt;&amp;lt;? super T&amp;gt;, &amp;lt;? extends T&amp;gt;&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;When I first encountered this and broke it down in my head the mechanics made sense but the code itself continued to look confusing to me - I kept thinking &quot;it seems like the bounds shouldn&apos;t need to be inverted like that&quot; - even though I was clear on the above - that it&apos;s simply about guaranteeing compliance with the standard rules of reference.&lt;/p&gt;\n\n&lt;p&gt;What helped me was looking at it using ordinary assignment as an analogy. &lt;/p&gt;\n\n&lt;p&gt;Consider the following (not production ready) toy code:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// copies the elements of &apos;producer&apos; into &apos;consumer&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &amp;lt;T&amp;gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;copy&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(List&amp;lt;? extends T&amp;gt; producer, List&amp;lt;? &lt;span class=&quot;hljs-built_in&quot;&gt;super&lt;/span&gt; T&amp;gt; consumer)&lt;/span&gt; {\n   &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(T t : producer)\n       consumer.add(t);\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Illustrating this in terms of the assignment analogy, for &lt;code&gt;consumer&lt;/code&gt; the &lt;code&gt;?&lt;/code&gt; wildcard (unknown type) is the reference - the &quot;left hand side&quot; of the assignment - and &lt;code&gt;&amp;lt;? super T&amp;gt;&lt;/code&gt; ensures that whatever &lt;code&gt;?&lt;/code&gt; is, &lt;code&gt;T&lt;/code&gt; &quot;IS-A&quot; &lt;code&gt;?&lt;/code&gt; - that &lt;code&gt;T&lt;/code&gt; can be assigned to it, because &lt;code&gt;?&lt;/code&gt; is a super type (or at most the same type) as &lt;code&gt;T&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;For &lt;code&gt;producer&lt;/code&gt; the concern is the same it&apos;s just inverted: &lt;code&gt;producer&lt;/code&gt;&apos;s &lt;code&gt;?&lt;/code&gt; wildcard (unknown type) is the &lt;em&gt;referent&lt;/em&gt; - the &quot;right hand side&quot; of the assignment - and &lt;code&gt;&amp;lt;? extends T&amp;gt;&lt;/code&gt; ensures that whatever &lt;code&gt;?&lt;/code&gt; is, &lt;code&gt;?&lt;/code&gt; &quot;IS-A&quot; &lt;code&gt;T&lt;/code&gt; - that &lt;em&gt;it&lt;/em&gt; can be assigned &lt;em&gt;to a &lt;code&gt;T&lt;/code&gt;&lt;/em&gt;, because &lt;code&gt;?&lt;/code&gt; is a sub type (or at least the same type) as &lt;code&gt;T&lt;/code&gt;. &lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Covariance&lt;/strong&gt;: accept subtypes&lt;br&gt;\n&lt;strong&gt;Contravariance&lt;/strong&gt;: accept supertypes&lt;/p&gt;\n\n&lt;p&gt;Covariant types are read-only, while contravariant types are write-only.&lt;/p&gt;\n    ","\n&lt;p&gt;Remember this: &lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;Consumer eat &lt;strong&gt;supper&lt;/strong&gt;(super); Producer &lt;strong&gt;extends&lt;/strong&gt; his parent&apos;s factory&lt;/p&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/a/62752867/4770877&quot;&gt;[Covariance and contravariance]&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Lets take a look at example&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;A&lt;/span&gt; { }\n&lt;span class=&quot;hljs-comment&quot;&gt;//B is A&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;A&lt;/span&gt; { }\n&lt;span class=&quot;hljs-comment&quot;&gt;//C is A&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;C&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;A&lt;/span&gt; { }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Generics allows you to work with Types dynamically in a safe way&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;//ListA&lt;/span&gt;\nList&amp;lt;A&amp;gt; listA = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;A&amp;gt;();\n\n&lt;span class=&quot;hljs-comment&quot;&gt;//add&lt;/span&gt;\nlistA.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;A&lt;/span&gt;());\nlistA.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;B&lt;/span&gt;());\nlistA.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;C&lt;/span&gt;());\n\n&lt;span class=&quot;hljs-comment&quot;&gt;//get&lt;/span&gt;\n&lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;a0&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; listA.get(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n&lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;a1&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; listA.get(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n&lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;a2&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; listA.get(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;//ListB&lt;/span&gt;\nList&amp;lt;B&amp;gt; listB = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;B&amp;gt;();\n\n&lt;span class=&quot;hljs-comment&quot;&gt;//add&lt;/span&gt;\nlistB.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;B&lt;/span&gt;());\n\n&lt;span class=&quot;hljs-comment&quot;&gt;//get&lt;/span&gt;\n&lt;span class=&quot;hljs-type&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;b0&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; listB.get(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;img src=&quot;https://i.stack.imgur.com/D4RwI.png&quot; height=&quot;150&quot;&gt;\n&lt;h2&gt;Problem&lt;/h2&gt;\n&lt;p&gt;Since Java&apos;s Collection is a reference type as a result we have next issues:&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Problem #1&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;//not compiled&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//danger of **adding** non-B objects using listA reference&lt;/span&gt;\nlistA = listB;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;img src=&quot;https://i.stack.imgur.com/WyHs7.png&quot; height=&quot;150&quot;&gt;\n&lt;p&gt;*Swift&apos;s generic does not have such problem because Collection is &lt;code&gt;Value type&lt;/code&gt;&lt;a href=&quot;https://stackoverflow.com/a/59219141/4770877&quot;&gt;&lt;sup&gt;[About]&lt;/sup&gt;&lt;/a&gt; therefore a new collection is created&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Problem #2&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;//not compiled&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//danger of **getting** non-B objects using listB reference&lt;/span&gt;\nlistB = listA;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;img src=&quot;https://i.stack.imgur.com/nTEXJ.png&quot; height=&quot;150&quot;&gt;\n&lt;h2&gt;The solution - Generic Wildcards&lt;/h2&gt;\n&lt;p&gt;Wildcard is a reference type feature and it can not be instantiated directly&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Solution #1&lt;/strong&gt;\n&lt;code&gt;&amp;lt;? super A&amp;gt;&lt;/code&gt; aka lower bound aka contravariance aka consumers guarantees that it is operates by A and all superclasses, that is why it is safe to &lt;strong&gt;add&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;List&amp;lt;? &lt;span class=&quot;hljs-built_in&quot;&gt;super&lt;/span&gt; A&amp;gt; listSuperA;\nlistSuperA = listA;\nlistSuperA = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;Object&amp;gt;();\n\n&lt;span class=&quot;hljs-comment&quot;&gt;//add&lt;/span&gt;\nlistSuperA.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;A&lt;/span&gt;());\nlistSuperA.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;B&lt;/span&gt;());\n\n&lt;span class=&quot;hljs-comment&quot;&gt;//get&lt;/span&gt;\n&lt;span class=&quot;hljs-type&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;o0&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; listSuperA.get(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;img src=&quot;https://i.stack.imgur.com/jtcBs.png&quot; height=&quot;150&quot;&gt;\n&lt;p&gt;&lt;strong&gt;Solution #2&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;&lt;code&gt;&amp;lt;? extends A&amp;gt;&lt;/code&gt; aka upper bound aka covariance aka producers guarantees that it is operates by A and all subclasses, that is why it is safe to &lt;strong&gt;get&lt;/strong&gt; and cast&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;List&amp;lt;? &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;A&lt;/span&gt;&amp;gt; listExtendsA;\nlistExtendsA = listA;\nlistExtendsA = listB;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;//get&lt;/span&gt;\n&lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;a0&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; listExtendsA.get(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;img src=&quot;https://i.stack.imgur.com/Y33aY.png&quot; height=&quot;150&quot;&gt;\n    ","\n&lt;p&gt;Using real life example (with some simplifications):&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Imagine a freight train with freight cars as analogy to a list.&lt;/li&gt;\n&lt;li&gt;You can &lt;strong&gt;put&lt;/strong&gt; a cargo in a freight car if the cargo has &lt;strong&gt;the same or smaller size&lt;/strong&gt; than the freight car = &lt;code&gt;&amp;lt;? super FreightCarSize&amp;gt;&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;You can &lt;strong&gt;unload&lt;/strong&gt; a cargo from a freight car if you have &lt;strong&gt;enough place&lt;/strong&gt; (more than the size of the cargo) in your depot = &lt;code&gt;&amp;lt;? extends DepotSize&amp;gt;&lt;/code&gt;&lt;/li&gt;\n&lt;/ol&gt;\n    ","\n&lt;h2&gt;PECS: Producer extends and Consumer super&lt;/h2&gt;\n&lt;p&gt;Prerequisites for understanding:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Generics and generic wildcards&lt;/li&gt;\n&lt;li&gt;Polymorphism, Subtyping and Supertyping&lt;/li&gt;\n&lt;/ul&gt;\n&lt;hr&gt;\n&lt;p&gt;Lets say we have a type which takes a generic type parameter T, for example &lt;code&gt;List&amp;lt;T&amp;gt;&lt;/code&gt;. When we write code it can be potentially beneficial to also allow subtypes or supertypes of our generic type parameter T. This relaxes the restraints for the user of the API and can make the code more flexible.&lt;/p&gt;\n&lt;p&gt;Let first see what we gain relaxing these restrictions. Lets say we have the following 3 classes:&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;BaseAnimal&lt;/span&gt;{};\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Animal&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;BaseAnimal&lt;/span&gt;{};\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Duck&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Animal&lt;/span&gt;{};\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;and we are building a public method which takes a &lt;code&gt;list&amp;lt;Animal&amp;gt;&lt;/code&gt;&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;If we use a super &lt;code&gt;List&amp;lt;? super Animal&amp;gt;&lt;/code&gt; instead of &lt;code&gt;List&amp;lt;Animal&amp;gt;&lt;/code&gt; we now can pass in more lists to satisfy the requirement of our method. We now can pass in either &lt;code&gt;List&amp;lt;Animal&amp;gt;&lt;/code&gt; or &lt;code&gt;List&amp;lt;BaseAnimal&amp;gt;&lt;/code&gt; even &lt;code&gt;List&amp;lt;Object&amp;gt;&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;If we use an extends &lt;code&gt;List&amp;lt;? extends Animal&amp;gt;&lt;/code&gt; instead of &lt;code&gt;List&amp;lt;Animal&amp;gt;&lt;/code&gt; we now can pass in more lists to satisfy the requirement of our method. We now can pass in either &lt;code&gt;List&amp;lt;Animal&amp;gt;&lt;/code&gt; or &lt;code&gt;List&amp;lt;Duck&amp;gt;&lt;/code&gt;&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;However this poses the following 2 restrictions:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;If we use a super type like &lt;code&gt;List&amp;lt;? super Animal&amp;gt;&lt;/code&gt; we don&apos;t know the exact type of &lt;code&gt;List&amp;lt;T&amp;gt;&lt;/code&gt; it will be. It could be either a list of &lt;code&gt;List&amp;lt;Animal&amp;gt;&lt;/code&gt; or &lt;code&gt;List&amp;lt;BaseAnimal&amp;gt;&lt;/code&gt; or &lt;code&gt;List&amp;lt;Object&amp;gt;&lt;/code&gt;. We have no way of knowing. This means we can never get a value out of this List because we do not know what the type will be. However we can put any data type which is &lt;code&gt;Animal&lt;/code&gt; or extends it into the &lt;code&gt;List&lt;/code&gt;. Because we can only put data into the  &lt;code&gt;List&lt;/code&gt; it is called a &lt;strong&gt;consumer&lt;/strong&gt; of data.&lt;/li&gt;\n&lt;li&gt;If we use an extends &lt;code&gt;List&amp;lt;? extends Animal&amp;gt;&lt;/code&gt; instead of &lt;code&gt;List&amp;lt;Animal&amp;gt;&lt;/code&gt;. We also don&apos;t know what the exact type is. It can either be &lt;code&gt;List&amp;lt;Animal&amp;gt;&lt;/code&gt; or &lt;code&gt;List&amp;lt;Duck&amp;gt;&lt;/code&gt;. We can&apos;t add something to the &lt;code&gt;List&lt;/code&gt; now because we can never certainly know what the type is. However we can pull something out because we always know that anything which comes out of the list is a subtype of &lt;code&gt;Animal&lt;/code&gt;. Because we can only pull data out of the &lt;code&gt;List&lt;/code&gt; is it called a &lt;strong&gt;producer&lt;/strong&gt; of data.&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;Here is a simple program to illustrate the relaxation of the type restrictions:&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; java.util.ArrayList;\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; java.util.List;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Generics&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(String[] args)&lt;/span&gt; {\n\n        &lt;span class=&quot;hljs-type&quot;&gt;Generics&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;generics&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Generics&lt;/span&gt;();\n\n        generics.producerExtends(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;Duck&amp;gt;());\n        generics.producerExtends(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;Animal&amp;gt;());\n\n        generics.consumerSuper(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;Object&amp;gt;());\n        generics.consumerSuper(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;Animal&amp;gt;());\n\n    }\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;//  ? extends T   is an upper bound&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;producerExtends&lt;/span&gt; &lt;span class=&quot;hljs-params&quot;&gt;(List&amp;lt;? extends Animal&amp;gt; list)&lt;/span&gt; {\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Following are illegal since we never know exactly what type the list will be&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// list.add(new Duck());&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// list.add(new Animal());&lt;/span&gt;\n        \n        &lt;span class=&quot;hljs-comment&quot;&gt;// We can read from it since we are always getting an Animal or subclass from it&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// However we can read them as an animal type, so this compiles fine&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (list.size() &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-type&quot;&gt;Animal&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;animal&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; list.get(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n        }\n    }\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// ? extends T   is a lower bound&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;consumerSuper&lt;/span&gt; &lt;span class=&quot;hljs-params&quot;&gt;(List&amp;lt;? &lt;span class=&quot;hljs-built_in&quot;&gt;super&lt;/span&gt; Animal&amp;gt; list)&lt;/span&gt; {\n        &lt;span class=&quot;hljs-comment&quot;&gt;// It will be either a list of Animal or a superclass of it&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Therefore we can add any type which extends animals&lt;/span&gt;\n        list.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Duck&lt;/span&gt;());\n        list.add(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Animal&lt;/span&gt;());\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Compiler won&apos;t allow this it could potentially be a super type of Animal&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Animal animal = list.get(0);&lt;/span&gt;\n    }\n&lt;/code&gt;&lt;/pre&gt;\n    "]},"randomTags":[{"name":"identity-operator","slug":"identity-operator"},{"name":"compiler-optimization","slug":"compiler-optimization"},{"name":"linked-list","slug":"linked-list"},{"name":"pass-by-reference","slug":"pass-by-reference"},{"name":"commandbutton","slug":"commandbutton"},{"name":"awt","slug":"awt"},{"name":"x86-64","slug":"x86-64"},{"name":"google-chrome-extension","slug":"google-chrome-extension"},{"name":"android-recyclerview","slug":"android-recyclerview"},{"name":"profiling","slug":"profiling"},{"name":"match","slug":"match"},{"name":"var","slug":"var"},{"name":"nullpointerexception","slug":"nullpointerexception"},{"name":"form-submit","slug":"form-submit"},{"name":"regex-greedy","slug":"regex-greedy"},{"name":"shadowing","slug":"shadowing"},{"name":"uniqueidentifier","slug":"uniqueidentifier"},{"name":"javascript-objects","slug":"javascript-objects"},{"name":"git","slug":"git"},{"name":"c-strings","slug":"c-strings"}]},"__N_SSG":true}