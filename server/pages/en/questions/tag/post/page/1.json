{"pageProps":{"data":{"count":1,"rows":[{"id":238,"title":"jQuery Ajax File Upload","slug":"jquery-ajax-file-upload-1657387368970","postType":"QUESTION","createdAt":"2022-07-09T17:22:48.000Z","updatedAt":"2022-07-09T17:22:48.000Z","tags":[{"id":1578,"name":"post","slug":"post","createdAt":"2022-07-09T17:22:49.000Z","updatedAt":"2022-07-09T17:22:49.000Z","Questions_Tags":{"questionId":238,"tagId":1578}}]}]},"slug":"post","page":"1","answers":{"238":["\n&lt;p&gt;File upload is &lt;strike&gt;not&lt;/strike&gt; possible through AJAX.&lt;br&gt;\nYou can upload file, without refreshing page by using &lt;code&gt;IFrame&lt;/code&gt;.&lt;br&gt;\nYou can check further details &lt;a href=&quot;http://www.ajaxf1.com/tutorial/ajax-file-upload-tutorial.html&quot; rel=&quot;noreferrer&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;h2&gt;UPDATE&lt;/h2&gt;\n\n&lt;p&gt;With XHR2, File upload through AJAX is supported. E.g. through &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/Guide/Using_FormData_Objects&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;FormData&lt;/code&gt;&lt;/a&gt; object, but unfortunately it is not supported by all/old browsers.&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;FormData&lt;/code&gt; support starts from following desktop browsers versions.&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;IE 10+&lt;/li&gt;\n&lt;li&gt;Firefox 4.0+&lt;/li&gt;\n&lt;li&gt;Chrome 7+&lt;/li&gt;\n&lt;li&gt;Safari 5+&lt;/li&gt;\n&lt;li&gt;Opera 12+&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;For more detail, see &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/XMLHttpRequest/FormData&quot; rel=&quot;noreferrer&quot;&gt;MDN link&lt;/a&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;Iframes is no longer needed for uploading files through ajax. I&apos;ve recently done it by myself. Check out these pages:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/4006520/using-html5-file-uploads-with-ajax-and-jquery&quot;&gt;Using HTML5 file uploads with AJAX and jQuery&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://dev.w3.org/2006/webapi/FileAPI/#FileReader-interface&quot; rel=&quot;noreferrer&quot;&gt;http://dev.w3.org/2006/webapi/FileAPI/#FileReader-interface&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Updated the answer and cleaned it up. Use the getSize function to check size or use getType function to check types.\nAdded progressbar html and css code.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Upload&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;file&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;file&lt;/span&gt; = file;\n};\n\n&lt;span class=&quot;hljs-title class_&quot;&gt;Upload&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;getType&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;file&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;type&lt;/span&gt;;\n};\n&lt;span class=&quot;hljs-title class_&quot;&gt;Upload&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;getSize&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;file&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;size&lt;/span&gt;;\n};\n&lt;span class=&quot;hljs-title class_&quot;&gt;Upload&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;getName&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;file&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt;;\n};\n&lt;span class=&quot;hljs-title class_&quot;&gt;Upload&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;doUpload&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; that = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; formData = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;();\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// add assoc key values, this will be posts values&lt;/span&gt;\n    formData.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;file&lt;/span&gt;, &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getName&lt;/span&gt;());\n    formData.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;upload_file&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n\n    $.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({\n        &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;POST&quot;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;script&quot;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;xhr&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; myXhr = $.ajaxSettings.&lt;span class=&quot;hljs-title function_&quot;&gt;xhr&lt;/span&gt;();\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (myXhr.&lt;span class=&quot;hljs-property&quot;&gt;upload&lt;/span&gt;) {\n                myXhr.&lt;span class=&quot;hljs-property&quot;&gt;upload&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;progress&apos;&lt;/span&gt;, that.&lt;span class=&quot;hljs-property&quot;&gt;progressHandling&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;);\n            }\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; myXhr;\n        },\n        &lt;span class=&quot;hljs-attr&quot;&gt;success&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-comment&quot;&gt;// your callback here&lt;/span&gt;\n        },\n        &lt;span class=&quot;hljs-attr&quot;&gt;error&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;error&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-comment&quot;&gt;// handle error&lt;/span&gt;\n        },\n        &lt;span class=&quot;hljs-attr&quot;&gt;async&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;data&lt;/span&gt;: formData,\n        &lt;span class=&quot;hljs-attr&quot;&gt;cache&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;contentType&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;processData&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;timeout&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;\n    });\n};\n\n&lt;span class=&quot;hljs-title class_&quot;&gt;Upload&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;progressHandling&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;event&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; percent = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; position = event.&lt;span class=&quot;hljs-property&quot;&gt;loaded&lt;/span&gt; || event.&lt;span class=&quot;hljs-property&quot;&gt;position&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; total = event.&lt;span class=&quot;hljs-property&quot;&gt;total&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; progress_bar_id = &lt;span class=&quot;hljs-string&quot;&gt;&quot;#progress-wrp&quot;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (event.&lt;span class=&quot;hljs-property&quot;&gt;lengthComputable&lt;/span&gt;) {\n        percent = &lt;span class=&quot;hljs-title class_&quot;&gt;Math&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;ceil&lt;/span&gt;(position / total * &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;);\n    }\n    &lt;span class=&quot;hljs-comment&quot;&gt;// update progressbars classes so it fits your code&lt;/span&gt;\n    $(progress_bar_id + &lt;span class=&quot;hljs-string&quot;&gt;&quot; .progress-bar&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;css&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;width&quot;&lt;/span&gt;, +percent + &lt;span class=&quot;hljs-string&quot;&gt;&quot;%&quot;&lt;/span&gt;);\n    $(progress_bar_id + &lt;span class=&quot;hljs-string&quot;&gt;&quot; .status&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;text&lt;/span&gt;(percent + &lt;span class=&quot;hljs-string&quot;&gt;&quot;%&quot;&lt;/span&gt;);\n};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;How to use the Upload class&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;//Change id to your id&lt;/span&gt;\n$(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#ingredient_file&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;on&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;change&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;e&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; file = $(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;)[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;].&lt;span class=&quot;hljs-property&quot;&gt;files&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;];\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; upload = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Upload&lt;/span&gt;(file);\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// maby check size or type here with upload.getSize() and upload.getType()&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// execute upload&lt;/span&gt;\n    upload.&lt;span class=&quot;hljs-title function_&quot;&gt;doUpload&lt;/span&gt;();\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Progressbar html code&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;div id=&lt;span class=&quot;hljs-string&quot;&gt;&quot;progress-wrp&quot;&lt;/span&gt;&amp;gt;\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;progress-bar&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;status&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;0%&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&amp;lt;/div&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Progressbar css code&lt;/p&gt;\n\n&lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#progress-wrp&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid &lt;span class=&quot;hljs-number&quot;&gt;#0099CC&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;: relative;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;30px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border-radius&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;3px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;text-align&lt;/span&gt;: left;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;#fff&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;box-shadow&lt;/span&gt;: inset &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;6px&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;rgba&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0.12&lt;/span&gt;);\n}\n\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#progress-wrp&lt;/span&gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.progress-bar&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border-radius&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;3px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;#f39ac7&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;box-shadow&lt;/span&gt;: inset &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;rgba&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0.11&lt;/span&gt;);\n}\n\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#progress-wrp&lt;/span&gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.status&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;top&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;3px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;left&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;50%&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;: absolute;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;: inline-block;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;#000000&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Ajax post and upload file is possible. I&apos;m using &lt;code&gt;jQuery $.ajax&lt;/code&gt; function to load my files. I tried to use the XHR object but could not get results on the server side with PHP.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; formData = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;();\nformData.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;file&apos;&lt;/span&gt;, $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#file&apos;&lt;/span&gt;)[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;].&lt;span class=&quot;hljs-property&quot;&gt;files&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]);\n\n$.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({\n       url : &lt;span class=&quot;hljs-string&quot;&gt;&apos;upload.php&apos;&lt;/span&gt;,\n       type : &lt;span class=&quot;hljs-string&quot;&gt;&apos;POST&apos;&lt;/span&gt;,\n       data : formData,\n       &lt;span class=&quot;hljs-attr&quot;&gt;processData&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,  &lt;span class=&quot;hljs-comment&quot;&gt;// tell jQuery not to process the data&lt;/span&gt;\n       &lt;span class=&quot;hljs-attr&quot;&gt;contentType&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,  &lt;span class=&quot;hljs-comment&quot;&gt;// tell jQuery not to set contentType&lt;/span&gt;\n       success : &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;) {\n           &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(data);\n           &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(data);\n       }\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;As you can see, you must create a FormData object, empty or from (serialized? - &lt;code&gt;$(&apos;#yourForm&apos;).serialize())&lt;/code&gt; existing form, and then attach the input file.&lt;/p&gt;\n\n&lt;p&gt;Here is more information: \n- &lt;a href=&quot;https://stackoverflow.com/questions/9622901/how-to-upload-a-file-using-jquery-ajax-and-formdata&quot;&gt;How to upload a file using jQuery.ajax and FormData&lt;/a&gt;\n- &lt;a href=&quot;https://stackoverflow.com/questions/20452853/uploading-files-via-jquery-object-formdata-is-provided-and-no-file-name-get-re&quot;&gt;Uploading files via jQuery, object FormData is provided and no file name, GET request&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;For the PHP process you can use something like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;//print_r($_FILES);&lt;/span&gt;\n$fileName = $_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&apos;file&apos;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&apos;name&apos;&lt;/span&gt;];\n$fileType = $_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&apos;file&apos;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&apos;type&apos;&lt;/span&gt;];\n$fileError = $_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&apos;file&apos;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&apos;error&apos;&lt;/span&gt;];\n$fileContent = &lt;span class=&quot;hljs-title function_&quot;&gt;file_get_contents&lt;/span&gt;($_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&apos;file&apos;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&apos;tmp_name&apos;&lt;/span&gt;]);\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;($fileError == &lt;span class=&quot;hljs-variable constant_&quot;&gt;UPLOAD_ERR_OK&lt;/span&gt;){\n   &lt;span class=&quot;hljs-comment&quot;&gt;//Processes your file here&lt;/span&gt;\n}&lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;{\n   &lt;span class=&quot;hljs-keyword&quot;&gt;switch&lt;/span&gt;($fileError){\n     &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;UPLOAD_ERR_INI_SIZE&lt;/span&gt;:   \n          $message = &lt;span class=&quot;hljs-string&quot;&gt;&apos;Error al intentar subir un archivo que excede el tamaño permitido.&apos;&lt;/span&gt;;\n          &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n     &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;UPLOAD_ERR_FORM_SIZE&lt;/span&gt;:  \n          $message = &lt;span class=&quot;hljs-string&quot;&gt;&apos;Error al intentar subir un archivo que excede el tamaño permitido.&apos;&lt;/span&gt;;\n          &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n     &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;UPLOAD_ERR_PARTIAL&lt;/span&gt;:    \n          $message = &lt;span class=&quot;hljs-string&quot;&gt;&apos;Error: no terminó la acción de subir el archivo.&apos;&lt;/span&gt;;\n          &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n     &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;UPLOAD_ERR_NO_FILE&lt;/span&gt;:    \n          $message = &lt;span class=&quot;hljs-string&quot;&gt;&apos;Error: ningún archivo fue subido.&apos;&lt;/span&gt;;\n          &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n     &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;UPLOAD_ERR_NO_TMP_DIR&lt;/span&gt;: \n          $message = &lt;span class=&quot;hljs-string&quot;&gt;&apos;Error: servidor no configurado para carga de archivos.&apos;&lt;/span&gt;;\n          &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n     &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;UPLOAD_ERR_CANT_WRITE&lt;/span&gt;: \n          $message= &lt;span class=&quot;hljs-string&quot;&gt;&apos;Error: posible falla al grabar el archivo.&apos;&lt;/span&gt;;\n          &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n     &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt;  &lt;span class=&quot;hljs-attr&quot;&gt;UPLOAD_ERR_EXTENSION&lt;/span&gt;: \n          $message = &lt;span class=&quot;hljs-string&quot;&gt;&apos;Error: carga de archivo no completada.&apos;&lt;/span&gt;;\n          &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n     &lt;span class=&quot;hljs-attr&quot;&gt;default&lt;/span&gt;: $message = &lt;span class=&quot;hljs-string&quot;&gt;&apos;Error: carga de archivo no completada.&apos;&lt;/span&gt;;\n              &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n    }\n      echo &lt;span class=&quot;hljs-title function_&quot;&gt;json_encode&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;array&lt;/span&gt;(\n               &lt;span class=&quot;hljs-string&quot;&gt;&apos;error&apos;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;,\n               &lt;span class=&quot;hljs-string&quot;&gt;&apos;message&apos;&lt;/span&gt; =&amp;gt; $message\n            ));\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Simple Upload Form&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;false&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;script&amp;gt;\n\n   &lt;span class=&quot;hljs-comment&quot;&gt;//form Submit&lt;/span&gt;\n   $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;form&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;submit&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;evt&lt;/span&gt;){   \n\n      evt.&lt;span class=&quot;hljs-title function_&quot;&gt;preventDefault&lt;/span&gt;();\n      &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; formData = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;($(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;)[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]);\n\n      $.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({\n          &lt;span class=&quot;hljs-attr&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;fileUpload&apos;&lt;/span&gt;,\n          &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;POST&apos;&lt;/span&gt;,\n          &lt;span class=&quot;hljs-attr&quot;&gt;data&lt;/span&gt;: formData,\n          &lt;span class=&quot;hljs-attr&quot;&gt;async&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n          &lt;span class=&quot;hljs-attr&quot;&gt;cache&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n          &lt;span class=&quot;hljs-attr&quot;&gt;contentType&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n          &lt;span class=&quot;hljs-attr&quot;&gt;enctype&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;multipart/form-data&apos;&lt;/span&gt;,\n          &lt;span class=&quot;hljs-attr&quot;&gt;processData&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n          &lt;span class=&quot;hljs-attr&quot;&gt;success&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;response&lt;/span&gt;) {\n         \n             &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(response);\n          }\n       });\n\n       &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n\n    });\n\n&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!--Upload Form--&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;form&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;table&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;colspan&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;2&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;File Upload&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;Select File &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;csv&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;csv&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;colspan&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;2&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;submit&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;submit&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt; \n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;table&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;form&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif1&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I&apos;m pretty late for this but I was looking for an ajax based image uploading solution and the answer I was looking for was kinda scattered throughout this post. The solution I settled on involved the FormData object. I assembled a basic form of the code I put together. You can see it demonstrates how to add a custom field to the form with fd.append() as well as how to handle response data when the ajax request is done.&lt;/p&gt;\n\n&lt;p&gt;Upload html:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;!&lt;span class=&quot;hljs-variable constant_&quot;&gt;DOCTYPE&lt;/span&gt; html&amp;gt;\n&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;title&lt;/span&gt;&amp;gt;&lt;/span&gt;Image Upload Form&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;title&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;//code.jquery.com/jquery-1.9.1.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;submitForm&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;submit event&quot;&lt;/span&gt;);\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; fd = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;fileinfo&quot;&lt;/span&gt;));\n            fd.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;label&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;WEBUPLOAD&quot;&lt;/span&gt;);\n            $.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({\n              &lt;span class=&quot;hljs-attr&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;upload.php&quot;&lt;/span&gt;,\n              &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;POST&quot;&lt;/span&gt;,\n              &lt;span class=&quot;hljs-attr&quot;&gt;data&lt;/span&gt;: fd,\n              &lt;span class=&quot;hljs-attr&quot;&gt;processData&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,  &lt;span class=&quot;hljs-comment&quot;&gt;// tell jQuery not to process the data&lt;/span&gt;\n              &lt;span class=&quot;hljs-attr&quot;&gt;contentType&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;   &lt;span class=&quot;hljs-comment&quot;&gt;// tell jQuery not to set contentType&lt;/span&gt;\n            }).&lt;span class=&quot;hljs-title function_&quot;&gt;done&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt; data &lt;/span&gt;) {\n                &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;PHP Output:&quot;&lt;/span&gt;);\n                &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;( data );\n            });\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        }\n    &lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;form&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;method&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;post&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;fileinfo&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;fileinfo&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;onsubmit&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;return submitForm();&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;label&lt;/span&gt;&amp;gt;&lt;/span&gt;Select a file:&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;label&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;required&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;submit&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Upload&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;form&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;output&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;In case you are working with php here&apos;s a way to handle the upload that includes making use of both of the custom fields demonstrated in the above html.&lt;/p&gt;\n\n&lt;p&gt;Upload.php&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;?php\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ($_POST[&lt;span class=&quot;hljs-string&quot;&gt;&quot;label&quot;&lt;/span&gt;]) {\n    $label = $_POST[&lt;span class=&quot;hljs-string&quot;&gt;&quot;label&quot;&lt;/span&gt;];\n}\n$allowedExts = &lt;span class=&quot;hljs-title function_&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;gif&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;jpeg&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;jpg&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;png&quot;&lt;/span&gt;);\n$temp = &lt;span class=&quot;hljs-title function_&quot;&gt;explode&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;.&quot;&lt;/span&gt;, $_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&quot;name&quot;&lt;/span&gt;]);\n$extension = &lt;span class=&quot;hljs-title function_&quot;&gt;end&lt;/span&gt;($temp);\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ((($_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&quot;type&quot;&lt;/span&gt;] == &lt;span class=&quot;hljs-string&quot;&gt;&quot;image/gif&quot;&lt;/span&gt;)\n|| ($_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&quot;type&quot;&lt;/span&gt;] == &lt;span class=&quot;hljs-string&quot;&gt;&quot;image/jpeg&quot;&lt;/span&gt;)\n|| ($_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&quot;type&quot;&lt;/span&gt;] == &lt;span class=&quot;hljs-string&quot;&gt;&quot;image/jpg&quot;&lt;/span&gt;)\n|| ($_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&quot;type&quot;&lt;/span&gt;] == &lt;span class=&quot;hljs-string&quot;&gt;&quot;image/pjpeg&quot;&lt;/span&gt;)\n|| ($_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&quot;type&quot;&lt;/span&gt;] == &lt;span class=&quot;hljs-string&quot;&gt;&quot;image/x-png&quot;&lt;/span&gt;)\n|| ($_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&quot;type&quot;&lt;/span&gt;] == &lt;span class=&quot;hljs-string&quot;&gt;&quot;image/png&quot;&lt;/span&gt;))\n&amp;amp;&amp;amp; ($_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&quot;size&quot;&lt;/span&gt;] &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;200000&lt;/span&gt;)\n&amp;amp;&amp;amp; &lt;span class=&quot;hljs-title function_&quot;&gt;in_array&lt;/span&gt;($extension, $allowedExts)) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ($_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&quot;error&quot;&lt;/span&gt;] &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) {\n        echo &lt;span class=&quot;hljs-string&quot;&gt;&quot;Return Code: &quot;&lt;/span&gt; . $_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&quot;error&quot;&lt;/span&gt;] . &lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;br&amp;gt;&quot;&lt;/span&gt;;\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        $filename = $label.&lt;span class=&quot;hljs-property&quot;&gt;$_FILES&lt;/span&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&quot;name&quot;&lt;/span&gt;];\n        echo &lt;span class=&quot;hljs-string&quot;&gt;&quot;Upload: &quot;&lt;/span&gt; . $_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&quot;name&quot;&lt;/span&gt;] . &lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;br&amp;gt;&quot;&lt;/span&gt;;\n        echo &lt;span class=&quot;hljs-string&quot;&gt;&quot;Type: &quot;&lt;/span&gt; . $_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&quot;type&quot;&lt;/span&gt;] . &lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;br&amp;gt;&quot;&lt;/span&gt;;\n        echo &lt;span class=&quot;hljs-string&quot;&gt;&quot;Size: &quot;&lt;/span&gt; . ($_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&quot;size&quot;&lt;/span&gt;] / &lt;span class=&quot;hljs-number&quot;&gt;1024&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&quot; kB&amp;lt;br&amp;gt;&quot;&lt;/span&gt;;\n        echo &lt;span class=&quot;hljs-string&quot;&gt;&quot;Temp file: &quot;&lt;/span&gt; . $_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&quot;tmp_name&quot;&lt;/span&gt;] . &lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;br&amp;gt;&quot;&lt;/span&gt;;\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;file_exists&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;uploads/&quot;&lt;/span&gt; . $filename)) {\n            echo $filename . &lt;span class=&quot;hljs-string&quot;&gt;&quot; already exists. &quot;&lt;/span&gt;;\n        } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n            &lt;span class=&quot;hljs-title function_&quot;&gt;move_uploaded_file&lt;/span&gt;($_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;][&lt;span class=&quot;hljs-string&quot;&gt;&quot;tmp_name&quot;&lt;/span&gt;],\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;uploads/&quot;&lt;/span&gt; . $filename);\n            echo &lt;span class=&quot;hljs-string&quot;&gt;&quot;Stored in: &quot;&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&quot;uploads/&quot;&lt;/span&gt; . $filename;\n        }\n    }\n} &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n    echo &lt;span class=&quot;hljs-string&quot;&gt;&quot;Invalid file&quot;&lt;/span&gt;;\n}\n?&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;An AJAX upload is indeed possible with &lt;code&gt;XMLHttpRequest()&lt;/code&gt;. No iframes necessary. Upload progress can be shown.&lt;/p&gt;\n\n&lt;p&gt;For details see: Answer &lt;a href=&quot;https://stackoverflow.com/a/4943774/873282&quot;&gt;https://stackoverflow.com/a/4943774/873282&lt;/a&gt; to question &lt;a href=&quot;https://stackoverflow.com/questions/4856917/jquery-upload-progress-and-ajax-file-upload&quot;&gt;jQuery Upload Progress and AJAX file upload&lt;/a&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;Here&apos;s how I got this working: &lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;HTML&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;input type=&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt; id=&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;&amp;gt;\n&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&apos;process-file-button&apos;&lt;/span&gt;&amp;gt;&lt;/span&gt;Process&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;JS&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#process-file-button&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;on&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;click&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;e&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; files = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;(), &lt;span class=&quot;hljs-comment&quot;&gt;// you can consider this as &apos;data bag&apos;&lt;/span&gt;\n        url = &lt;span class=&quot;hljs-string&quot;&gt;&apos;yourUrl&apos;&lt;/span&gt;;\n\n    files.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;fileName&apos;&lt;/span&gt;, $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#file&apos;&lt;/span&gt;)[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;].&lt;span class=&quot;hljs-property&quot;&gt;files&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]); &lt;span class=&quot;hljs-comment&quot;&gt;// append selected file to the bag named &apos;file&apos;&lt;/span&gt;\n\n    $.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({\n        &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;post&apos;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;url&lt;/span&gt;: url,\n        &lt;span class=&quot;hljs-attr&quot;&gt;processData&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;contentType&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;data&lt;/span&gt;: files,\n        &lt;span class=&quot;hljs-attr&quot;&gt;success&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;response&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(response);\n        },\n        &lt;span class=&quot;hljs-attr&quot;&gt;error&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;err&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(err);\n        }\n    });\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;PHP&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;isset&lt;/span&gt;($_FILES) &amp;amp;&amp;amp; !&lt;span class=&quot;hljs-title function_&quot;&gt;empty&lt;/span&gt;($_FILES)) {\n    $file = $_FILES[&lt;span class=&quot;hljs-string&quot;&gt;&apos;fileName&apos;&lt;/span&gt;];\n    $name = $file[&lt;span class=&quot;hljs-string&quot;&gt;&apos;name&apos;&lt;/span&gt;];\n    $path = $file[&lt;span class=&quot;hljs-string&quot;&gt;&apos;tmp_name&apos;&lt;/span&gt;];\n\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// process your file&lt;/span&gt;\n\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;h1&gt;Using pure js it is easier&lt;/h1&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;saveFile&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;inp&lt;/span&gt;) \n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; formData = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;();           \n    formData.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;, inp.&lt;span class=&quot;hljs-property&quot;&gt;files&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;fetch&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;/upload/somedata&apos;&lt;/span&gt;, {&lt;span class=&quot;hljs-attr&quot;&gt;method&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;POST&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;body&lt;/span&gt;: formData});    \n    &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;success&apos;&lt;/span&gt;);\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;onchange&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;saveFile(this)&quot;&lt;/span&gt; &amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif2&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;In server side you can read original file name (and other info) which is automatically included to request.&lt;/li&gt;\n&lt;li&gt;You do NOT need to set header &quot;Content-Type&quot; to &quot;multipart/form-data&quot; browser will set it automatically&lt;/li&gt;\n&lt;li&gt;This solutions should work on all major browsers.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;Here is more developed snippet with error handling, timeout and additional json sending&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;true&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&lt;div class=&quot;snippet-display&quot; style=&quot;vertical-align: center&quot;&gt;&lt;p&gt;&lt;a class=&quot;snippet-show-link-chevron&quot;&gt;&lt;span class=&quot;expander-arrow-hide&quot; style=&quot;vertical-align: middle;&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;a class=&quot;snippet-show-link&quot;&gt;&lt;span class=&quot;show-hide&quot; data-ishidden=&quot;true&quot; style=&quot;vertical-align: middle&quot;&gt;Show code snippet&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;\n&lt;div class=&quot;snippet-code snippet-currently-hidden&quot; style=&quot;display: none;&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;saveFile&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;inp&lt;/span&gt;) \n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; user = { &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;john&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;34&lt;/span&gt; };\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; formData = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; photo = inp.&lt;span class=&quot;hljs-property&quot;&gt;files&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;];      \n         \n    formData.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;photo&quot;&lt;/span&gt;, photo);\n    formData.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;user&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-title class_&quot;&gt;JSON&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;stringify&lt;/span&gt;(user));  \n    \n    &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; ctrl = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;AbortController&lt;/span&gt;() &lt;span class=&quot;hljs-comment&quot;&gt;// timeout&lt;/span&gt;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;setTimeout&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;() =&amp;gt;&lt;/span&gt; ctrl.&lt;span class=&quot;hljs-title function_&quot;&gt;abort&lt;/span&gt;(), &lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;);\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;try&lt;/span&gt; {\n       &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; r = &lt;span class=&quot;hljs-keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;fetch&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;/upload/image&apos;&lt;/span&gt;, \n         {&lt;span class=&quot;hljs-attr&quot;&gt;method&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;POST&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;body&lt;/span&gt;: formData, &lt;span class=&quot;hljs-attr&quot;&gt;signal&lt;/span&gt;: ctrl.&lt;span class=&quot;hljs-property&quot;&gt;signal&lt;/span&gt;}); \n       &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;HTTP response code:&apos;&lt;/span&gt;,r.&lt;span class=&quot;hljs-property&quot;&gt;status&lt;/span&gt;); \n       &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;success&apos;&lt;/span&gt;);\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;catch&lt;/span&gt;(e) {\n       &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Huston we have problem...:&apos;&lt;/span&gt;, e);\n    }\n    \n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;onchange&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;saveFile(this)&quot;&lt;/span&gt; &amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;\nBefore selecting the file Open chrome console &amp;gt; network tab to see the request details.\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;small&lt;/span&gt;&amp;gt;&lt;/span&gt;Because in this example we send request to https://stacksnippets.net/upload/image the response code will be 404 ofcourse...&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;small&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif3&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#submit_car&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;click&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; formData = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;($(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#car_cost_form&apos;&lt;/span&gt;)[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]);\n  $.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({\n     &lt;span class=&quot;hljs-attr&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;car_costs.php&apos;&lt;/span&gt;,\n     &lt;span class=&quot;hljs-attr&quot;&gt;data&lt;/span&gt;: formData,\n     &lt;span class=&quot;hljs-attr&quot;&gt;contentType&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n     &lt;span class=&quot;hljs-attr&quot;&gt;processData&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n     &lt;span class=&quot;hljs-attr&quot;&gt;cache&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n     &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;POST&apos;&lt;/span&gt;,\n     &lt;span class=&quot;hljs-attr&quot;&gt;success&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;) {\n       &lt;span class=&quot;hljs-comment&quot;&gt;// ...&lt;/span&gt;\n     },\n  });\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;edit: Note contentype and process data\nYou can simply use this to upload files via Ajax...... submit input cannot be outside form element :)&lt;/p&gt;\n    ","\n&lt;p&gt;In case you want to do it like that:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$.&lt;span class=&quot;hljs-title function_&quot;&gt;upload&lt;/span&gt;( form.&lt;span class=&quot;hljs-property&quot;&gt;action&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;( myForm))\n.&lt;span class=&quot;hljs-title function_&quot;&gt;progress&lt;/span&gt;( &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt; progressEvent, upload&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;( progressEvent.&lt;span class=&quot;hljs-property&quot;&gt;lengthComputable&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; percent = &lt;span class=&quot;hljs-title class_&quot;&gt;Math&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;round&lt;/span&gt;( progressEvent.&lt;span class=&quot;hljs-property&quot;&gt;loaded&lt;/span&gt; * &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt; / progressEvent.&lt;span class=&quot;hljs-property&quot;&gt;total&lt;/span&gt;) + &lt;span class=&quot;hljs-string&quot;&gt;&apos;%&apos;&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;( upload) {\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;( percent + &lt;span class=&quot;hljs-string&quot;&gt;&apos; uploaded&apos;&lt;/span&gt;);\n        } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;( percent + &lt;span class=&quot;hljs-string&quot;&gt;&apos; downloaded&apos;&lt;/span&gt;);\n        }\n    }\n})\n.&lt;span class=&quot;hljs-title function_&quot;&gt;done&lt;/span&gt;( &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;( &lt;span class=&quot;hljs-string&quot;&gt;&apos;Finished upload&apos;&lt;/span&gt;);                    \n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;than &lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://github.com/lgersman/jquery.orangevolt-ampere/blob/master/src/jquery.upload.js&quot;&gt;https://github.com/lgersman/jquery.orangevolt-ampere/blob/master/src/jquery.upload.js&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;might be your solution.&lt;/p&gt;\n    ","\n&lt;p&gt;Use FormData. It works really well :-) ...&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; jform = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;();\njform.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;user&apos;&lt;/span&gt;,$(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#user&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;val&lt;/span&gt;());\njform.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;image&apos;&lt;/span&gt;,$(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#image&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;).&lt;span class=&quot;hljs-property&quot;&gt;files&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]); &lt;span class=&quot;hljs-comment&quot;&gt;// Here&apos;s the important bit&lt;/span&gt;\n\n$.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({\n    &lt;span class=&quot;hljs-attr&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;/your-form-processing-page-url-here&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;POST&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;data&lt;/span&gt;: jform,\n    &lt;span class=&quot;hljs-attr&quot;&gt;dataType&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;json&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;mimeType&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;multipart/form-data&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-comment&quot;&gt;// this too&lt;/span&gt;\n    &lt;span class=&quot;hljs-attr&quot;&gt;contentType&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;cache&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;processData&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;success&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;data, status, jqXHR&lt;/span&gt;){\n        &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Hooray! All is well.&apos;&lt;/span&gt;);\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(data);\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(status);\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(jqXHR);\n\n    },\n    &lt;span class=&quot;hljs-attr&quot;&gt;error&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;jqXHR,status,error&lt;/span&gt;){\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Hopefully we should never reach here&lt;/span&gt;\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(jqXHR);\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(status);\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(error);\n    }\n});\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;2019 update:&lt;/p&gt;\n\n&lt;p&gt;html&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;form &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;fr&quot;&lt;/span&gt; method=&lt;span class=&quot;hljs-string&quot;&gt;&apos;POST&apos;&lt;/span&gt; enctype=&lt;span class=&quot;hljs-string&quot;&gt;&quot;multipart/form-data&quot;&lt;/span&gt;&amp;gt; {% csrf_token %}\n&amp;lt;textarea name=&lt;span class=&quot;hljs-string&quot;&gt;&apos;text&apos;&lt;/span&gt;&amp;gt;\n&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&apos;example_image&apos;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;submit&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;form&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;js&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$(&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;on&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;submit&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;.fr&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n\n    $.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({ \n        &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;post&apos;&lt;/span&gt;, \n        &lt;span class=&quot;hljs-attr&quot;&gt;url&lt;/span&gt;: url, &lt;span class=&quot;language-xml&quot;&gt;&amp;lt;--- you insert proper URL path to call your views.py function here.\n        enctype: &apos;multipart/form-data&apos;,\n        processData: false,\n        contentType: false,\n        data: new FormData(this) ,\n        success: function(data) {\n             console.log(data);\n        }\n        });\n        return false;\n\n    });\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;views.py&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;form = &lt;span class=&quot;hljs-title class_&quot;&gt;ThisForm&lt;/span&gt;(request.&lt;span class=&quot;hljs-property&quot;&gt;POST&lt;/span&gt;, request.&lt;span class=&quot;hljs-property&quot;&gt;FILES&lt;/span&gt;)\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; form.&lt;span class=&quot;hljs-title function_&quot;&gt;is_valid&lt;/span&gt;():\n    text = form.&lt;span class=&quot;hljs-property&quot;&gt;cleaned_data&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;text&quot;&lt;/span&gt;)\n    example_image = request.&lt;span class=&quot;hljs-property&quot;&gt;FILES&lt;/span&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;example_image&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;ul&gt;\n&lt;li&gt;Use a hidden iframe and set your form&apos;s target to that iframe&apos;s name.  This way, when the form is submitted, only the iframe will be refreshed.&lt;/li&gt;\n&lt;li&gt;Have an event handler registered for the iframe&apos;s load event to parse the response.&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;I have handled these in a simple code. You can download a working demo from &lt;a href=&quot;http://whats-online.info/science-and-tutorials/30/select-preview-rename-and-upload-image-using-jquery-Ajax/&quot; rel=&quot;noreferrer&quot;&gt;&lt;strong&gt;here&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;For your case, these very possible. I will take you step by step how you can upload a file to the server using AJAX jquery. &lt;/p&gt;\n\n&lt;p&gt;First let&apos;s us create an HTML file to add the following form file element as shown below.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;form action=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt; id=&lt;span class=&quot;hljs-string&quot;&gt;&quot;formContent&quot;&lt;/span&gt; method=&lt;span class=&quot;hljs-string&quot;&gt;&quot;post&quot;&lt;/span&gt; enctype=&lt;span class=&quot;hljs-string&quot;&gt;&quot;multipart/form-data&quot;&lt;/span&gt; &amp;gt;\n         &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt;  &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-attr&quot;&gt;required&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;upload&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n         &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;submitI&quot;&lt;/span&gt; &amp;gt;&lt;/span&gt;Upload Image&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt; \n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;form&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Secondly create a jquery.js file and add the following code to handle our file submission to the server&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;    $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#formContent&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;submit&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;e&lt;/span&gt;){\n        e.&lt;span class=&quot;hljs-title function_&quot;&gt;preventDefault&lt;/span&gt;();\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; formdata = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;);\n\n        $.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({\n            &lt;span class=&quot;hljs-attr&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;ajax_upload_image.php&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;POST&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-attr&quot;&gt;data&lt;/span&gt;: formdata,\n            &lt;span class=&quot;hljs-attr&quot;&gt;mimeTypes&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;multipart/form-data&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-attr&quot;&gt;contentType&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n            &lt;span class=&quot;hljs-attr&quot;&gt;cache&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n            &lt;span class=&quot;hljs-attr&quot;&gt;processData&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n            &lt;span class=&quot;hljs-attr&quot;&gt;success&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n                &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;file successfully submitted&quot;&lt;/span&gt;);\n            },&lt;span class=&quot;hljs-attr&quot;&gt;error&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n                &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;okey&quot;&lt;/span&gt;);\n            }\n         });\n      });\n    });\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;There you are done . &lt;a href=&quot;http://whats-online.info/science-and-tutorials/30/select-preview-rename-and-upload-image-using-jquery-Ajax/&quot; rel=&quot;noreferrer&quot;&gt;&lt;strong&gt;View more&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Using FormData is the way to go as indicated by many answers.  here is a bit of code that works great for this purpose.  I also agree with the comment of nesting ajax blocks to complete complex circumstances.  By including e.PreventDefault(); in my experience makes the code more cross browser compatible. &lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;    $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#UploadB1&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;click&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;e&lt;/span&gt;){        \n    e.&lt;span class=&quot;hljs-title function_&quot;&gt;preventDefault&lt;/span&gt;();\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!fileupload.&lt;span class=&quot;hljs-title function_&quot;&gt;valid&lt;/span&gt;()) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;            \n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; myformData = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;();        \n    myformData.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;file&apos;&lt;/span&gt;, $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#uploadFile&apos;&lt;/span&gt;)[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;].&lt;span class=&quot;hljs-property&quot;&gt;files&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]);\n\n    $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#UpdateMessage5&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;html&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Uploading file ....&quot;&lt;/span&gt;);\n    $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#UpdateMessage5&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;css&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;background&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;url(../include/images/loaderIcon.gif) no-repeat right&quot;&lt;/span&gt;);\n\n    myformData.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;mode&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;fileUpload&apos;&lt;/span&gt;);\n    myformData.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;myid&apos;&lt;/span&gt;, $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#myid&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;val&lt;/span&gt;());\n    myformData.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;type&apos;&lt;/span&gt;, $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#fileType&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;val&lt;/span&gt;());\n    &lt;span class=&quot;hljs-comment&quot;&gt;//formData.append(&apos;myfile&apos;, file, file.name); &lt;/span&gt;\n\n    $.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({\n        &lt;span class=&quot;hljs-attr&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;include/fetch.php&apos;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;method&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;post&apos;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;processData&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;contentType&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;cache&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;data&lt;/span&gt;: myformData,\n        &lt;span class=&quot;hljs-attr&quot;&gt;enctype&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;multipart/form-data&apos;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;success&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;response&lt;/span&gt;){\n            $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#UpdateMessage5&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;html&lt;/span&gt;(response); &lt;span class=&quot;hljs-comment&quot;&gt;//.delay(2000).hide(1); &lt;/span&gt;\n            $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#UpdateMessage5&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;css&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;background&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;);\n\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;file successfully submitted&quot;&lt;/span&gt;);\n        },&lt;span class=&quot;hljs-attr&quot;&gt;error&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;not okay&quot;&lt;/span&gt;);\n        }\n    });\n});\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I have implemented a multiple file select with instant preview and upload after removing unwanted files from preview via ajax. &lt;/p&gt;\n\n&lt;p&gt;Detailed documentation can be found here: &lt;a href=&quot;http://anasthecoder.blogspot.ae/2014/12/multi-file-select-preview-without.html&quot; rel=&quot;noreferrer&quot;&gt;http://anasthecoder.blogspot.ae/2014/12/multi-file-select-preview-without.html&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Demo: &lt;a href=&quot;http://jsfiddle.net/anas/6v8Kz/7/embedded/result/&quot; rel=&quot;noreferrer&quot;&gt;http://jsfiddle.net/anas/6v8Kz/7/embedded/result/&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;jsFiddle: &lt;a href=&quot;http://jsfiddle.net/anas/6v8Kz/7/&quot; rel=&quot;noreferrer&quot;&gt;http://jsfiddle.net/anas/6v8Kz/7/&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Javascript:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;    $(&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;ready&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;form&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;submit&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;ev&lt;/span&gt;){\n        $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.overlay&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;show&lt;/span&gt;();\n        $(&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;scrollTop&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;upload_images_selected&lt;/span&gt;(ev, ev.&lt;span class=&quot;hljs-property&quot;&gt;target&lt;/span&gt;);\n    })\n})\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;add_new_file_uploader&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;addBtn&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; currentRow = $(addBtn).&lt;span class=&quot;hljs-title function_&quot;&gt;parent&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;parent&lt;/span&gt;();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; newRow = $(currentRow).&lt;span class=&quot;hljs-title function_&quot;&gt;clone&lt;/span&gt;();\n    $(newRow).&lt;span class=&quot;hljs-title function_&quot;&gt;find&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.previewImage, .imagePreviewTable&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;hide&lt;/span&gt;();\n    $(newRow).&lt;span class=&quot;hljs-title function_&quot;&gt;find&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.removeButton&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;show&lt;/span&gt;();\n    $(newRow).&lt;span class=&quot;hljs-title function_&quot;&gt;find&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;table.imagePreviewTable&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;find&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;tr&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;remove&lt;/span&gt;();\n    $(newRow).&lt;span class=&quot;hljs-title function_&quot;&gt;find&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;input.multipleImageFileInput&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;val&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;);\n    $(addBtn).&lt;span class=&quot;hljs-title function_&quot;&gt;parent&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;parent&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;parent&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(newRow);\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;remove_file_uploader&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;removeBtn&lt;/span&gt;) {\n    $(removeBtn).&lt;span class=&quot;hljs-title function_&quot;&gt;parent&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;parent&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;remove&lt;/span&gt;();\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;show_image_preview&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;file_selector&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-comment&quot;&gt;//files selected using current file selector&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; files = file_selector.&lt;span class=&quot;hljs-property&quot;&gt;files&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;//Container of image previews&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; imageContainer = $(file_selector).&lt;span class=&quot;hljs-title function_&quot;&gt;next&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;table.imagePreviewTable&apos;&lt;/span&gt;);\n    &lt;span class=&quot;hljs-comment&quot;&gt;//Number of images selected&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; number_of_images = files.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;//Build image preview row&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; imagePreviewRow = $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;tr class=&quot;imagePreviewRow_0&quot;&amp;gt;&amp;lt;td valign=top style=&quot;width: 510px;&quot;&amp;gt;&amp;lt;/td&amp;gt;&apos;&lt;/span&gt; +\n        &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;td valign=top&amp;gt;&amp;lt;input type=&quot;button&quot; value=&quot;X&quot; title=&quot;Remove Image&quot; class=&quot;removeImageButton&quot; imageIndex=&quot;0&quot; onclick=&quot;remove_selected_image(this)&quot; /&amp;gt;&amp;lt;/td&amp;gt;&apos;&lt;/span&gt; +\n        &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;/tr&amp;gt; &apos;&lt;/span&gt;);\n    &lt;span class=&quot;hljs-comment&quot;&gt;//Add image preview row&lt;/span&gt;\n    $(imageContainer).&lt;span class=&quot;hljs-title function_&quot;&gt;html&lt;/span&gt;(imagePreviewRow);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (number_of_images &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i =&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;; i&amp;lt;number_of_images; i++) {\n            &lt;span class=&quot;hljs-comment&quot;&gt;/**\n             *Generate class name of the respective image container appending index of selected images, \n             *sothat we can match images selected and the one which is previewed\n             */&lt;/span&gt;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; newImagePreviewRow = $(imagePreviewRow).&lt;span class=&quot;hljs-title function_&quot;&gt;clone&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;removeClass&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;imagePreviewRow_0&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;addClass&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;imagePreviewRow_&apos;&lt;/span&gt;+i);\n            $(newImagePreviewRow).&lt;span class=&quot;hljs-title function_&quot;&gt;find&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;input[type=&quot;button&quot;]&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;attr&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;imageIndex&apos;&lt;/span&gt;, i);\n            $(imageContainer).&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(newImagePreviewRow);\n        }\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; files.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i++) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; file = files[i];\n        &lt;span class=&quot;hljs-comment&quot;&gt;/**\n         * Allow only images\n         */&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; imageType = &lt;span class=&quot;hljs-regexp&quot;&gt;/image.*/&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!file.&lt;span class=&quot;hljs-property&quot;&gt;type&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(imageType)) {\n          &lt;span class=&quot;hljs-keyword&quot;&gt;continue&lt;/span&gt;;\n        }\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;/**\n         * Create an image dom object dynamically\n         */&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; img = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;createElement&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;img&quot;&lt;/span&gt;);\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;/**\n         * Get preview area of the image\n         */&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; preview = $(imageContainer).&lt;span class=&quot;hljs-title function_&quot;&gt;find&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;tr.imagePreviewRow_&apos;&lt;/span&gt;+i).&lt;span class=&quot;hljs-title function_&quot;&gt;find&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;td:first&apos;&lt;/span&gt;);\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;/**\n         * Append preview of selected image to the corresponding container\n         */&lt;/span&gt;\n        preview.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(img); \n\n        &lt;span class=&quot;hljs-comment&quot;&gt;/**\n         * Set style of appended preview(Can be done via css also)\n         */&lt;/span&gt;\n        preview.&lt;span class=&quot;hljs-title function_&quot;&gt;find&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;img&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;addClass&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;previewImage&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;css&lt;/span&gt;({&lt;span class=&quot;hljs-string&quot;&gt;&apos;max-width&apos;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;500px&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;max-height&apos;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;500px&apos;&lt;/span&gt;});\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;/**\n         * Initialize file reader\n         */&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; reader = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FileReader&lt;/span&gt;();\n        &lt;span class=&quot;hljs-comment&quot;&gt;/**\n         * Onload event of file reader assign target image to the preview\n         */&lt;/span&gt;\n        reader.&lt;span class=&quot;hljs-property&quot;&gt;onload&lt;/span&gt; = (&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;aImg&lt;/span&gt;) { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;e&lt;/span&gt;) { aImg.&lt;span class=&quot;hljs-property&quot;&gt;src&lt;/span&gt; = e.&lt;span class=&quot;hljs-property&quot;&gt;target&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;result&lt;/span&gt;; }; })(img);\n        &lt;span class=&quot;hljs-comment&quot;&gt;/**\n         * Initiate read\n         */&lt;/span&gt;\n        reader.&lt;span class=&quot;hljs-title function_&quot;&gt;readAsDataURL&lt;/span&gt;(file);\n    }\n    &lt;span class=&quot;hljs-comment&quot;&gt;/**\n     * Show preview\n     */&lt;/span&gt;\n    $(imageContainer).&lt;span class=&quot;hljs-title function_&quot;&gt;show&lt;/span&gt;();\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;remove_selected_image&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;close_button&lt;/span&gt;)\n{\n    &lt;span class=&quot;hljs-comment&quot;&gt;/**\n     * Remove this image from preview\n     */&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; imageIndex = $(close_button).&lt;span class=&quot;hljs-title function_&quot;&gt;attr&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;imageindex&apos;&lt;/span&gt;);\n    $(close_button).&lt;span class=&quot;hljs-title function_&quot;&gt;parents&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.imagePreviewRow_&apos;&lt;/span&gt; + imageIndex).&lt;span class=&quot;hljs-title function_&quot;&gt;remove&lt;/span&gt;();\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;upload_images_selected&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;event, formObj&lt;/span&gt;)\n{\n    event.&lt;span class=&quot;hljs-title function_&quot;&gt;preventDefault&lt;/span&gt;();\n    &lt;span class=&quot;hljs-comment&quot;&gt;//Get number of images&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; imageCount = $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.previewImage&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;//Get all multi select inputs&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; fileInputs = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;querySelectorAll&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.multipleImageFileInput&apos;&lt;/span&gt;);\n    &lt;span class=&quot;hljs-comment&quot;&gt;//Url where the image is to be uploaded&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; url= &lt;span class=&quot;hljs-string&quot;&gt;&quot;/upload-directory/&quot;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;//Get number of inputs&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; number_of_inputs = $(fileInputs).&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; \n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; inputCount = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;//Iterate through each file selector input&lt;/span&gt;\n    $(fileInputs).&lt;span class=&quot;hljs-title function_&quot;&gt;each&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;index, input&lt;/span&gt;){\n\n        fileList = input.&lt;span class=&quot;hljs-property&quot;&gt;files&lt;/span&gt;;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Create a new FormData object.&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; formData = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;();\n        &lt;span class=&quot;hljs-comment&quot;&gt;//Extra parameters can be added to the form data object&lt;/span&gt;\n        formData.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;bulk_upload&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;1&apos;&lt;/span&gt;);\n        formData.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;username&apos;&lt;/span&gt;, $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;input[name=&quot;username&quot;]&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;val&lt;/span&gt;());\n        &lt;span class=&quot;hljs-comment&quot;&gt;//Iterate throug each images selected by each file selector and find if the image is present in the preview&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; fileList.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i++) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ($(input).&lt;span class=&quot;hljs-title function_&quot;&gt;next&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.imagePreviewTable&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;find&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.imagePreviewRow_&apos;&lt;/span&gt;+i).&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; != &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) {\n                &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; file = fileList[i];\n                &lt;span class=&quot;hljs-comment&quot;&gt;// Check the file type.&lt;/span&gt;\n                &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!file.&lt;span class=&quot;hljs-property&quot;&gt;type&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;image.*&apos;&lt;/span&gt;)) {\n                    &lt;span class=&quot;hljs-keyword&quot;&gt;continue&lt;/span&gt;;\n                }\n                &lt;span class=&quot;hljs-comment&quot;&gt;// Add the file to the request.&lt;/span&gt;\n                formData.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;image_uploader_multiple[&apos;&lt;/span&gt; +(inputCount++)+ &lt;span class=&quot;hljs-string&quot;&gt;&apos;]&apos;&lt;/span&gt;, file, file.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt;);\n            }\n        }\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Set up the request.&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; xhr = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;XMLHttpRequest&lt;/span&gt;();\n        xhr.&lt;span class=&quot;hljs-title function_&quot;&gt;open&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;POST&apos;&lt;/span&gt;, url, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n        xhr.&lt;span class=&quot;hljs-property&quot;&gt;onload&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (xhr.&lt;span class=&quot;hljs-property&quot;&gt;status&lt;/span&gt; === &lt;span class=&quot;hljs-number&quot;&gt;200&lt;/span&gt;) {\n                &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; jsonResponse = &lt;span class=&quot;hljs-title class_&quot;&gt;JSON&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;parse&lt;/span&gt;(xhr.&lt;span class=&quot;hljs-property&quot;&gt;responseText&lt;/span&gt;);\n                &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (jsonResponse.&lt;span class=&quot;hljs-property&quot;&gt;status&lt;/span&gt; == &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) {\n                    $(jsonResponse.&lt;span class=&quot;hljs-property&quot;&gt;file_info&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;each&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n                        &lt;span class=&quot;hljs-comment&quot;&gt;//Iterate through response and find data corresponding to each file uploaded&lt;/span&gt;\n                        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; uploaded_file_name = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;original&lt;/span&gt;;\n                        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; saved_file_name = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;target&lt;/span&gt;;\n                        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; file_name_input = &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;input type=&quot;hidden&quot; class=&quot;image_name&quot; name=&quot;image_names[]&quot; value=&quot;&apos;&lt;/span&gt; +saved_file_name+ &lt;span class=&quot;hljs-string&quot;&gt;&apos;&quot; /&amp;gt;&apos;&lt;/span&gt;;\n                        file_info_container.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(file_name_input);\n\n                        imageCount--;\n                    })\n                    &lt;span class=&quot;hljs-comment&quot;&gt;//Decrement count of inputs to find all images selected by all multi select are uploaded&lt;/span&gt;\n                    number_of_inputs--;\n                    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(number_of_inputs == &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) {\n                        &lt;span class=&quot;hljs-comment&quot;&gt;//All images selected by each file selector is uploaded&lt;/span&gt;\n                        &lt;span class=&quot;hljs-comment&quot;&gt;//Do necessary acteion post upload&lt;/span&gt;\n                        $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.overlay&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;hide&lt;/span&gt;();\n                    }\n                } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n                    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; jsonResponse.&lt;span class=&quot;hljs-property&quot;&gt;error_field_name&lt;/span&gt; != &lt;span class=&quot;hljs-string&quot;&gt;&apos;undefined&apos;&lt;/span&gt;) {\n                        &lt;span class=&quot;hljs-comment&quot;&gt;//Do appropriate error action&lt;/span&gt;\n                    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n                        &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(jsonResponse.&lt;span class=&quot;hljs-property&quot;&gt;message&lt;/span&gt;);\n                    }\n                    $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.overlay&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;hide&lt;/span&gt;();\n                    event.&lt;span class=&quot;hljs-title function_&quot;&gt;preventDefault&lt;/span&gt;();\n                    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n                }\n            } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n                &lt;span class=&quot;hljs-comment&quot;&gt;/*alert(&apos;Something went wrong!&apos;);*/&lt;/span&gt;\n                $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.overlay&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;hide&lt;/span&gt;();\n                event.&lt;span class=&quot;hljs-title function_&quot;&gt;preventDefault&lt;/span&gt;();\n            }\n        };\n        xhr.&lt;span class=&quot;hljs-title function_&quot;&gt;send&lt;/span&gt;(formData);\n    })\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Yes you can, just use javascript to get the file, making sure you read the file as a data URL. Parse out the stuff before base64 to actually get the base 64 encoded data and then if you are using php or really any back end language you can decode the base 64 data and save into a file like shown below&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Javascript&lt;/span&gt;:\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; reader = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FileReader&lt;/span&gt;();\nreader.&lt;span class=&quot;hljs-property&quot;&gt;onloadend&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;)\n{\n  dataToBeSent = reader.&lt;span class=&quot;hljs-property&quot;&gt;result&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;split&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;base64,&quot;&lt;/span&gt;)[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;];\n  $.&lt;span class=&quot;hljs-title function_&quot;&gt;post&lt;/span&gt;(url, {&lt;span class=&quot;hljs-attr&quot;&gt;data&lt;/span&gt;:dataToBeSent});\n}\nreader.&lt;span class=&quot;hljs-title function_&quot;&gt;readAsDataURL&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;files&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]);\n\n\n&lt;span class=&quot;hljs-attr&quot;&gt;PHP&lt;/span&gt;:\n    &lt;span class=&quot;hljs-title function_&quot;&gt;file_put_contents&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;my.pdf&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-title function_&quot;&gt;base64_decode&lt;/span&gt;($_POST[&lt;span class=&quot;hljs-string&quot;&gt;&quot;data&quot;&lt;/span&gt;]));\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Of course you will probably want to do some validation like checking which file type you are dealing with and stuff like that but this is the idea. &lt;/p&gt;\n    ","\n&lt;p&gt;To get all your form inputs, including the &lt;em&gt;type=&quot;file&quot;&lt;/em&gt; you need to use &lt;strong&gt;&lt;em&gt;FormData object&lt;/em&gt;&lt;/strong&gt;. \nyou will be able to see the formData content in the &lt;em&gt;debugger -&amp;gt; network -&amp;gt;Headers&lt;/em&gt; after you will submit the form.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; url = &lt;span class=&quot;hljs-string&quot;&gt;&quot;YOUR_URL&quot;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; form = $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#YOUR_FORM_ID&apos;&lt;/span&gt;)[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;];\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; formData = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;(form);\n\n\n$.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;(url, {\n    &lt;span class=&quot;hljs-attr&quot;&gt;method&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;post&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;processData&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;contentType&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;data&lt;/span&gt;: formData\n}).&lt;span class=&quot;hljs-title function_&quot;&gt;done&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (data.&lt;span class=&quot;hljs-property&quot;&gt;success&lt;/span&gt;){ \n        &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Files uploaded&quot;&lt;/span&gt;);\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Error while uploading the files&quot;&lt;/span&gt;);\n    }\n}).&lt;span class=&quot;hljs-title function_&quot;&gt;fail&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;){\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(data);\n    &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Error while uploading the files&quot;&lt;/span&gt;);\n});\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;html&amp;gt;\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;title&lt;/span&gt;&amp;gt;&lt;/span&gt;Ajax file upload&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;title&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n            $(&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;ready&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;e&lt;/span&gt;) {\n            $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#uploadimage&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;on&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;submit&apos;&lt;/span&gt;, (&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;e&lt;/span&gt;) {\n            e.&lt;span class=&quot;hljs-title function_&quot;&gt;preventDefault&lt;/span&gt;();\n                    $.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({\n                    &lt;span class=&quot;hljs-attr&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;upload.php&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-comment&quot;&gt;// Url to which the request is send&lt;/span&gt;\n                            &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;POST&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-comment&quot;&gt;// Type of request to be send, called as method&lt;/span&gt;\n                            &lt;span class=&quot;hljs-attr&quot;&gt;data&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;), &lt;span class=&quot;hljs-comment&quot;&gt;// Data sent to server, a set of key/value pairs (i.e. form fields and values)&lt;/span&gt;\n                            &lt;span class=&quot;hljs-attr&quot;&gt;contentType&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;hljs-comment&quot;&gt;// The content type used when sending data to the server.&lt;/span&gt;\n                            &lt;span class=&quot;hljs-attr&quot;&gt;cache&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;hljs-comment&quot;&gt;// To unable request pages to be cached&lt;/span&gt;\n                            &lt;span class=&quot;hljs-attr&quot;&gt;processData&lt;/span&gt;:&lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;hljs-comment&quot;&gt;// To send DOMDocument or non processed data file it is set to false&lt;/span&gt;\n                            &lt;span class=&quot;hljs-attr&quot;&gt;success&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;)   &lt;span class=&quot;hljs-comment&quot;&gt;// A function to be called if request succeeds&lt;/span&gt;\n                            {\n                            &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(data);\n                            }\n                    });\n            }));\n        &lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;main&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;Ajax Image Upload&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;/&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;hr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;form&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;uploadimage&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;action&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;method&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;post&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;enctype&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;multipart/form-data&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;image_preview&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;previewing&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;noimage.png&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;hr&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;line&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;selectImage&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;label&lt;/span&gt;&amp;gt;&lt;/span&gt;Select Your Image&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;label&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;/&amp;gt;&lt;/span&gt;\n                    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;required&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n                    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;submit&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Upload&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;submit&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n                &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;form&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;to upload a file which is submitted by user as a part of form using jquery please follow the below code :&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; formData = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;();\nformData.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;userfile&quot;&lt;/span&gt;, fileInputElement.&lt;span class=&quot;hljs-property&quot;&gt;files&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Then send the form data object to server.&lt;/p&gt;\n\n&lt;p&gt;We can also append a File or Blob directly to the FormData object.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;data.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;myfile&quot;&lt;/span&gt;, myBlob, &lt;span class=&quot;hljs-string&quot;&gt;&quot;filename.txt&quot;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can use method ajaxSubmit as follow :)\nwhen you select a file that need upload to server, form be submit to server :)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$(&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;ready&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; options = {\n    &lt;span class=&quot;hljs-attr&quot;&gt;target&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;#output&apos;&lt;/span&gt;,   &lt;span class=&quot;hljs-comment&quot;&gt;// target element(s) to be updated with server response&lt;/span&gt;\n    &lt;span class=&quot;hljs-attr&quot;&gt;timeout&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;error&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;jqXHR, textStatus&lt;/span&gt;) {\n            $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#output&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;html&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;have any error&apos;&lt;/span&gt;);\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        }\n    },\n    &lt;span class=&quot;hljs-attr&quot;&gt;success&lt;/span&gt;: afterSuccess,  &lt;span class=&quot;hljs-comment&quot;&gt;// post-submit callback&lt;/span&gt;\n    &lt;span class=&quot;hljs-attr&quot;&gt;resetForm&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;\n            &lt;span class=&quot;hljs-comment&quot;&gt;// reset the form after successful submit&lt;/span&gt;\n};\n\n$(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#idOfInputFile&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;on&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;change&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#idOfForm&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;ajaxSubmit&lt;/span&gt;(options);\n    &lt;span class=&quot;hljs-comment&quot;&gt;// always return false to prevent standard browser submit and page navigation&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n});\n});\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If you want to upload file using AJAX here is code which you can use for file uploading.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$(&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;ready&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; options = { \n                &lt;span class=&quot;hljs-attr&quot;&gt;beforeSubmit&lt;/span&gt;:  showRequest,\n        &lt;span class=&quot;hljs-attr&quot;&gt;success&lt;/span&gt;:       showResponse,\n        &lt;span class=&quot;hljs-attr&quot;&gt;dataType&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;json&apos;&lt;/span&gt; \n        }; \n    $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;body&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;delegate&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#image&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;change&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n        $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#upload&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;ajaxForm&lt;/span&gt;(options).&lt;span class=&quot;hljs-title function_&quot;&gt;submit&lt;/span&gt;();        \n    }); \n});     \n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;showRequest&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;formData, jqForm, options&lt;/span&gt;) { \n    $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#validation-errors&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;hide&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;empty&lt;/span&gt;();\n    $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#output&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;css&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;display&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;none&apos;&lt;/span&gt;);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;; \n} \n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;showResponse&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;response, statusText, xhr, $form&lt;/span&gt;)  { \n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(response.&lt;span class=&quot;hljs-property&quot;&gt;success&lt;/span&gt; == &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;)\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; arr = response.&lt;span class=&quot;hljs-property&quot;&gt;errors&lt;/span&gt;;\n        $.&lt;span class=&quot;hljs-title function_&quot;&gt;each&lt;/span&gt;(arr, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;index, value&lt;/span&gt;)\n        {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (value.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; != &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n            {\n                $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#validation-errors&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;div class=&quot;alert alert-error&quot;&amp;gt;&amp;lt;strong&amp;gt;&apos;&lt;/span&gt;+ value +&lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;/strong&amp;gt;&amp;lt;div&amp;gt;&apos;&lt;/span&gt;);\n            }\n        });\n        $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#validation-errors&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;show&lt;/span&gt;();\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n         $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#output&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;html&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;img src=&apos;&quot;&lt;/span&gt;+response.&lt;span class=&quot;hljs-property&quot;&gt;file&lt;/span&gt;+&lt;span class=&quot;hljs-string&quot;&gt;&quot;&apos; /&amp;gt;&quot;&lt;/span&gt;);\n         $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#output&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;css&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;display&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;block&apos;&lt;/span&gt;);\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here is the HTML for Upload the file&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;form &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;form-horizontal&quot;&lt;/span&gt; id=&lt;span class=&quot;hljs-string&quot;&gt;&quot;upload&quot;&lt;/span&gt; enctype=&lt;span class=&quot;hljs-string&quot;&gt;&quot;multipart/form-data&quot;&lt;/span&gt; method=&lt;span class=&quot;hljs-string&quot;&gt;&quot;post&quot;&lt;/span&gt; action=&lt;span class=&quot;hljs-string&quot;&gt;&quot;upload/image&apos;&quot;&lt;/span&gt; autocomplete=&lt;span class=&quot;hljs-string&quot;&gt;&quot;off&quot;&lt;/span&gt;&amp;gt;\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;image&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;image&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt; \n&amp;lt;/form&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; dataform = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;($(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#myform&quot;&lt;/span&gt;)[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]);\n&lt;span class=&quot;hljs-comment&quot;&gt;//console.log(dataform);&lt;/span&gt;\n$.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({\n    &lt;span class=&quot;hljs-attr&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;url&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;POST&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;data&lt;/span&gt;: dataform,\n    &lt;span class=&quot;hljs-attr&quot;&gt;async&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;success&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;res&lt;/span&gt;) {\n        response data;\n    },\n    &lt;span class=&quot;hljs-attr&quot;&gt;cache&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;contentType&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;processData&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;\n});\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Here was an idea I was thinking of:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Have&lt;/span&gt; an iframe on page and have a referencer.\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Have a form in which you move the input type file element to.&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Form&lt;/span&gt;:  A processing page &lt;span class=&quot;hljs-variable constant_&quot;&gt;AND&lt;/span&gt; a target &lt;span class=&quot;hljs-keyword&quot;&gt;of&lt;/span&gt; the &lt;span class=&quot;hljs-variable constant_&quot;&gt;FRAME&lt;/span&gt;.\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The result will post to the iframe, and then you can just send the fetched data up a level to the image tag you want with something like:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-attr&quot;&gt;data&lt;/span&gt;:image/png;base64,asdfasdfasdfasdfa\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;and the page loads.&lt;/p&gt;\n&lt;p&gt;I believe it works for me, and depending you might be able to do something like:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;aftersubmit&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-title function_&quot;&gt;stopPropagation&lt;/span&gt;(); &lt;span class=&quot;hljs-comment&quot;&gt;// or some other code which would prevent a refresh.&lt;/span&gt;\n});\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;input &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;form-control cu-b-border&quot;&lt;/span&gt; type=&lt;span class=&quot;hljs-string&quot;&gt;&quot;file&quot;&lt;/span&gt; id=&lt;span class=&quot;hljs-string&quot;&gt;&quot;formFile&quot;&lt;/span&gt;&amp;gt;\n&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;myImg&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;#&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;In js&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;script&amp;gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; formData = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;();\n    formData.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;file&apos;&lt;/span&gt;, $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#formFile&apos;&lt;/span&gt;)[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;].&lt;span class=&quot;hljs-property&quot;&gt;files&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]);\n    $.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({\n        &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;POST&quot;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;/GetData/UploadImage&apos;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;data&lt;/span&gt;: formData,\n        &lt;span class=&quot;hljs-attr&quot;&gt;processData&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;hljs-comment&quot;&gt;// tell jQuery not to process the data&lt;/span&gt;\n        &lt;span class=&quot;hljs-attr&quot;&gt;contentType&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;hljs-comment&quot;&gt;// tell jQuery not to set contentType&lt;/span&gt;\n        &lt;span class=&quot;hljs-attr&quot;&gt;success&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(data);\n            $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#myImg&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;attr&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;src&apos;&lt;/span&gt;, data);\n        },\n        &lt;span class=&quot;hljs-attr&quot;&gt;error&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;xhr, ajaxOptions, thrownError&lt;/span&gt;) {\n        }\n    })\n&amp;lt;/script&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;In controller&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;public &lt;span class=&quot;hljs-title class_&quot;&gt;ActionResult&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;UploadImage&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;HttpPostedFileBase&lt;/span&gt; file)\n        {\n            string filePath = &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (file != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;)\n            {\n                string path = &lt;span class=&quot;hljs-string&quot;&gt;&quot;/uploads/Temp/&quot;&lt;/span&gt;;\n                &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;hljs-title class_&quot;&gt;Directory&lt;/span&gt;.&lt;span class=&quot;hljs-title class_&quot;&gt;Exists&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Server&lt;/span&gt;.&lt;span class=&quot;hljs-title class_&quot;&gt;MapPath&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;~&quot;&lt;/span&gt; + path)))\n                {\n                    &lt;span class=&quot;hljs-title class_&quot;&gt;Directory&lt;/span&gt;.&lt;span class=&quot;hljs-title class_&quot;&gt;CreateDirectory&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Server&lt;/span&gt;.&lt;span class=&quot;hljs-title class_&quot;&gt;MapPath&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;~&quot;&lt;/span&gt; + path));\n                }\n                filePath = &lt;span class=&quot;hljs-title class_&quot;&gt;FileUpload&lt;/span&gt;.&lt;span class=&quot;hljs-title class_&quot;&gt;SaveUploadedFile&lt;/span&gt;(file, path);\n            }\n            \n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Json&lt;/span&gt;(filePath, &lt;span class=&quot;hljs-title class_&quot;&gt;JsonRequestBehavior&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;AllowGet&lt;/span&gt;);\n        }\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#form-id&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;submit&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;e&lt;/span&gt;) {\n   e.&lt;span class=&quot;hljs-title function_&quot;&gt;preventDefault&lt;/span&gt;();\n});\n\n$(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#form-id&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;submit&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;e&lt;/span&gt;) {\n\n     &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; formObj = $(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;);\n     &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; formURL = formObj.&lt;span class=&quot;hljs-title function_&quot;&gt;attr&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;action&quot;&lt;/span&gt;);\n     &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; formData = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;);\n          $.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({\n             &lt;span class=&quot;hljs-attr&quot;&gt;url&lt;/span&gt;: formURL,\n             &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;POST&apos;&lt;/span&gt;,\n             &lt;span class=&quot;hljs-attr&quot;&gt;data&lt;/span&gt;: formData,\n             &lt;span class=&quot;hljs-attr&quot;&gt;processData&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n             &lt;span class=&quot;hljs-attr&quot;&gt;contentType&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n             &lt;span class=&quot;hljs-attr&quot;&gt;async&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;,\n             &lt;span class=&quot;hljs-attr&quot;&gt;cache&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n             &lt;span class=&quot;hljs-attr&quot;&gt;enctype&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;multipart/form-data&quot;&lt;/span&gt;,\n             &lt;span class=&quot;hljs-attr&quot;&gt;dataType&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;json&quot;&lt;/span&gt;,\n             &lt;span class=&quot;hljs-attr&quot;&gt;success&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;) {\n                 &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (data.&lt;span class=&quot;hljs-property&quot;&gt;success&lt;/span&gt;) {\n                        &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(data.&lt;span class=&quot;hljs-property&quot;&gt;success&lt;/span&gt;)\n                 } \n                                \n                 &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;  (data.&lt;span class=&quot;hljs-property&quot;&gt;error&lt;/span&gt;) {\n                        &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(data.&lt;span class=&quot;hljs-property&quot;&gt;error&lt;/span&gt;)\n                 } \n             }\n         });\n});&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.1/jquery.min.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;form&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;form-horizontal&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;form-id&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;action&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;masterFileController&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;enctype&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;multipart/form-data&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;btn-success btn&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;submit&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;btn-save&quot;&lt;/span&gt; &amp;gt;&lt;/span&gt;Submit&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;form&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif4&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;servlet responce as &quot;out.print(&quot;your responce&quot;);&quot;&lt;/p&gt;\n    ","\n&lt;p&gt;This is my code that it works&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; formData = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;FormData&lt;/span&gt;();\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; files = $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;input[type=file]&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; files.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i++) {\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (files[i].&lt;span class=&quot;hljs-property&quot;&gt;value&lt;/span&gt; == &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt; || files[i].&lt;span class=&quot;hljs-property&quot;&gt;value&lt;/span&gt; == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;) {\n &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n formData.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(files[i].&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt;, files[i].&lt;span class=&quot;hljs-property&quot;&gt;files&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]);\n}\n}\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; formSerializeArray = $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#Form&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;serializeArray&lt;/span&gt;();\n&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; formSerializeArray.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i++) {\n  formData.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(formSerializeArray[i].&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt;, formSerializeArray[i].&lt;span class=&quot;hljs-property&quot;&gt;value&lt;/span&gt;)\n}\n$.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({\n &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;POST&apos;&lt;/span&gt;,\n &lt;span class=&quot;hljs-attr&quot;&gt;data&lt;/span&gt;: formData,\n &lt;span class=&quot;hljs-attr&quot;&gt;contentType&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n &lt;span class=&quot;hljs-attr&quot;&gt;processData&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n &lt;span class=&quot;hljs-attr&quot;&gt;cache&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n &lt;span class=&quot;hljs-attr&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;/Controller/Action&apos;&lt;/span&gt;,\n &lt;span class=&quot;hljs-attr&quot;&gt;success&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;response&lt;/span&gt;) {\n &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (response.&lt;span class=&quot;hljs-property&quot;&gt;Success&lt;/span&gt; == &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n }\n &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n }\n },\n &lt;span class=&quot;hljs-attr&quot;&gt;error&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n   &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n },\n &lt;span class=&quot;hljs-attr&quot;&gt;failure&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n   &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n }\n });\n&lt;/code&gt;&lt;/pre&gt;\n    "]},"randomTags":[{"name":"readlines","slug":"readlines"},{"name":"recursion","slug":"recursion"},{"name":"uitableview","slug":"uitableview"},{"name":"hex","slug":"hex"},{"name":"alignment","slug":"alignment"},{"name":"undefined-index","slug":"undefined-index"},{"name":"srand","slug":"srand"},{"name":"variable-variables","slug":"variable-variables"},{"name":"action","slug":"action"},{"name":"sed","slug":"sed"},{"name":"angularfire2","slug":"angularfire2"},{"name":"quoting","slug":"quoting"},{"name":"out-of-memory","slug":"out-of-memory"},{"name":"dictionary","slug":"dictionary"},{"name":"android-edittext","slug":"android-edittext"},{"name":"download","slug":"download"},{"name":"units-of-measurement","slug":"units-of-measurement"},{"name":"werkzeug","slug":"werkzeug"},{"name":"c++-faq","slug":"c++-faq"},{"name":"bitwise-operators","slug":"bitwise-operators"}]},"__N_SSG":true}