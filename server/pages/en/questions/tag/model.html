<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>model tags | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="All questions and solutions for model tags"/><meta property="og:title" content="model tags | Solutions Checker"/><meta property="og:description" content="All questions and solutions for model tags"/><meta name="next-head-count" content="15"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08d1a634dea6705e.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/150-b06815e21c943e0d.js" defer=""></script><script src="/_next/static/chunks/816-14d8d742fae4ce97.js" defer=""></script><script src="/_next/static/chunks/108-87de33c23337ff53.js" defer=""></script><script src="/_next/static/chunks/pages/questions/tag/%5Bslug%5D-f7d2d64a4abdd507.js" defer=""></script><script src="/_next/static/6ctJfCympFH_chh5mjicD/_buildManifest.js" defer=""></script><script src="/_next/static/6ctJfCympFH_chh5mjicD/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/tag/model#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="pagination-page-wrapper"><span class="pagination-buttons previous bg-stone-500 cursor-not-allowed  hover:bg-stone-500 text-white font-bold py-2 px-4 rounded">Previous</span></div><div class="question my-5"><div class="flex items-center justify-center"><div class="rounded-xl border p-5 shadow-md post-layout-inner bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-should-a-model-be-structured-in-mvc-closed-1657388394807">How should a model be structured in MVC? [closed]</a></div></div></div><div class="tags-wrap h-max space-x-8"><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/model">model</a></div></div></div><div><div class="flex items-center justify-between text-slate-500"><div class="flex space-x-4 md:space-x-8"><span class="btn bg-stone-500 cursor-pointer  hover:bg-stone-500 text-white font-bold py-2 px-4 rounded">Show Solution</span></div></div></div></div></div></div><div class="pagination-page-wrapper"><span class="pagination-buttons next bg-stone-500 cursor-not-allowed  hover:bg-stone-500 text-white font-bold py-2 px-4 rounded">Next</span></div><div class="widget"><a href="/questions/tag/sql">sql</a><a href="/questions/tag/include">include</a><a href="/questions/tag/int">int</a><a href="/questions/tag/iframe">iframe</a><a href="/questions/tag/jtable">jtable</a><a href="/questions/tag/haversine">haversine</a><a href="/questions/tag/scriptlet">scriptlet</a><a href="/questions/tag/getter">getter</a><a href="/questions/tag/tapply">tapply</a><a href="/questions/tag/keyword">keyword</a><a href="/questions/tag/iteration">iteration</a><a href="/questions/tag/dom-traversal">dom-traversal</a><a href="/questions/tag/pageload">pageload</a><a href="/questions/tag/generics">generics</a><a href="/questions/tag/mysqli">mysqli</a><a href="/questions/tag/importerror">importerror</a><a href="/questions/tag/main">main</a><a href="/questions/tag/unresolved-external">unresolved-external</a><a href="/questions/tag/callback">callback</a><a href="/questions/tag/selenium">selenium</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"count":1,"rows":[{"id":551,"title":"How should a model be structured in MVC? [closed]","slug":"how-should-a-model-be-structured-in-mvc-closed-1657388394807","postType":"QUESTION","createdAt":"2022-07-09T17:39:54.000Z","updatedAt":"2022-07-09T17:39:54.000Z","tags":[{"id":2681,"name":"model","slug":"model","createdAt":"2022-07-09T17:39:55.000Z","updatedAt":"2022-07-09T17:39:55.000Z","Questions_Tags":{"questionId":551,"tagId":2681}}]}]},"slug":"model","page":1,"answers":{"551":["\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;\u0026lt;sub\u0026gt;\u0026lt;strong\u0026gt;Disclaimer:\u0026lt;/strong\u0026gt; the following is a description of how I understand MVC-like patterns in the context of PHP-based web applications. All the external links that are used in the content are there to explain terms and concepts, and \u0026lt;strong\u0026gt;not\u0026lt;/strong\u0026gt; to imply my own credibility on the subject.\u0026lt;/sub\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;The first thing that I must clear up is: \u0026lt;strong\u0026gt;the model is a layer\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Second: there is a difference between \u0026lt;em\u0026gt;classical MVC\u0026lt;/em\u0026gt; and what we use in web development. \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/7622038/727208\u0026quot;\u0026gt;Here\u0026apos;s\u0026lt;/a\u0026gt; a bit of an older answer I wrote, which briefly describes how they are different.\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;What a model is NOT:\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;The model is not a class or any single object. It is a very common mistake to make \u0026lt;em\u0026gt;(I did too, though the original answer was written when I began to learn otherwise)\u0026lt;/em\u0026gt;, because most frameworks perpetuate this misconception.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Neither is it an Object-Relational Mapping technique (ORM) nor an abstraction of database tables. Anyone who tells you otherwise is most likely trying to \u0026lt;em\u0026gt;\u0026apos;sell\u0026apos;\u0026lt;/em\u0026gt; another brand-new ORM or a whole framework.\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;What a model is:\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;In proper MVC adaptation, the M contains all the domain business logic and the \u0026lt;em\u0026gt;Model Layer\u0026lt;/em\u0026gt; is \u0026lt;strong\u0026gt;mostly\u0026lt;/strong\u0026gt; made from three types of structures:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://c2.com/cgi/wiki?DomainObject\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;em\u0026gt;Domain Objects\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;A domain object is a logical container of purely domain information; it usually represents a logical entity in the problem domain space. Commonly referred to as \u0026lt;em\u0026gt;business logic\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;This would be where you define how to validate data before sending an invoice, or to compute the total cost of an order. At the same time, \u0026lt;em\u0026gt;Domain Objects\u0026lt;/em\u0026gt; are completely unaware of storage - neither from \u0026lt;em\u0026gt;where\u0026lt;/em\u0026gt; (SQL database, REST API, text file, etc.) nor even \u0026lt;em\u0026gt;if\u0026lt;/em\u0026gt; they get saved or retrieved.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://martinfowler.com/eaaCatalog/dataMapper.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;em\u0026gt;Data Mappers\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;These objects are only responsible for the storage. If you store information in a database, this would be where the SQL lives. Or maybe you use an XML file to store data, and your \u0026lt;em\u0026gt;Data Mappers\u0026lt;/em\u0026gt; are parsing from and to XML files.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://martinfowler.com/eaaCatalog/serviceLayer.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;em\u0026gt;Services\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You can think of them as \u0026quot;higher level Domain Objects\u0026quot;, but instead of business logic, \u0026lt;em\u0026gt;Services\u0026lt;/em\u0026gt; are responsible for interaction between \u0026lt;em\u0026gt;Domain Objects\u0026lt;/em\u0026gt; and \u0026lt;em\u0026gt;Mappers\u0026lt;/em\u0026gt;. These structures end up creating a \u0026quot;public\u0026quot; interface for interacting with the domain business logic. You can avoid them, but at the penalty of leaking some domain logic into \u0026lt;em\u0026gt;Controllers\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;There is a related answer to this subject in the \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/9685039/727208\u0026quot;\u0026gt;ACL implementation\u0026lt;/a\u0026gt; question - it might be useful.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;The communication between the model layer and other parts of the MVC triad should happen only through \u0026lt;em\u0026gt;Services\u0026lt;/em\u0026gt;. The clear separation has a few additional benefits:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;it helps to enforce the \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Single_responsibility_principle\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;single responsibility principle\u0026lt;/a\u0026gt; (SRP)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;provides additional \u0026apos;wiggle room\u0026apos; in case the logic changes\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;keeps the controller as simple as possible\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;gives a clear blueprint, if you ever need an external API\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026amp;nbsp;\u0026lt;/p\u0026gt;\n\n\u0026lt;h1\u0026gt;How to interact with a model?\u0026lt;/h1\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;\u0026lt;sub\u0026gt;\u0026lt;em\u0026gt;\u0026lt;strong\u0026gt;Prerequisites:\u0026lt;/strong\u0026gt; watch lectures \u0026lt;a href=\u0026quot;http://www.youtube.com/watch?v=-FRm3VPhseI\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026quot;Global State and Singletons\u0026quot;\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;http://www.youtube.com/watch?v=RlfLCWKxHJ0\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026quot;Don\u0026apos;t Look For Things!\u0026quot;\u0026lt;/a\u0026gt; from the Clean Code Talks.\u0026lt;/em\u0026gt;\u0026lt;/sub\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;h3\u0026gt;Gaining access to service instances\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;For both the \u0026lt;em\u0026gt;View\u0026lt;/em\u0026gt; and \u0026lt;em\u0026gt;Controller\u0026lt;/em\u0026gt; instances (what you could call: \u0026quot;UI layer\u0026quot;) to have access these services,  there are two general approaches: \u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;You can inject the required services in the constructors of your views and controllers directly, preferably using a DI container. \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Using a factory for services as a mandatory dependency for all of your views and controllers. \u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;As you might suspect, the DI container is a lot more elegant solution (while not being the easiest for a beginner). The two libraries, that I recommend considering for this functionality would be Syfmony\u0026apos;s standalone \u0026lt;a href=\u0026quot;http://symfony.com/doc/master/components/dependency_injection.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;DependencyInjection component\u0026lt;/a\u0026gt; or \u0026lt;a href=\u0026quot;https://github.com/rdlowrey/auryn\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Auryn\u0026lt;/a\u0026gt;. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Both the solutions using a factory and a DI container would let you also share the instances of various servers to be shared between the selected controller and view for a given request-response cycle.\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;Alteration of model\u0026apos;s state\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Now that you can access to the model layer in the controllers, you need to start actually using them: \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-php s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;postLogin\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Request \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$request\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;)\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$email\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$request\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;email\u0026apos;\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;identification-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;findIdentityByEmailAddress\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$email\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;identification-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;loginWithPassword\u0026lt;/span\u0026gt;(\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt;,\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$request\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;password\u0026apos;\u0026lt;/span\u0026gt;)\n    );\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Your controllers have a very clear task: take the user input and, based on this input, change the current state of business logic. In this example the states that are changed between are \u0026quot;anonymous user\u0026quot; and \u0026quot;logged in user\u0026quot;. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Controller is not responsible for validating user\u0026apos;s input, because that is part of business rules and controller is definitely not calling SQL queries, like what you would see \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/44535565/codeigniniter-insert-data-through-models-and-controller\u0026quot;\u0026gt;here\u0026lt;/a\u0026gt; or \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/27025412/loading-multiple-select-options-into-array\u0026quot;\u0026gt;here\u0026lt;/a\u0026gt; (please don\u0026apos;t hate on them, they are misguided, not evil).\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;Showing user the state-change.\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Ok, user has logged in (or failed). \u0026lt;a href=\u0026quot;http://i0.kym-cdn.com/photos/images/original/001/142/233/897.gif\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Now what?\u0026lt;/a\u0026gt; Said user is still unaware of it. So you need to actually produce a response and that is the responsibility of a view. \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-php s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;postLogin\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;)\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$path\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/login\u0026apos;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;identification-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;isUserLoggedIn\u0026lt;/span\u0026gt;()) {\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$path\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/dashboard\u0026apos;\u0026lt;/span\u0026gt;;\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RedirectResponse\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$path\u0026lt;/span\u0026gt;); \n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;In this case, the view produced one of two possible responses, based on the current state of model layer. For a different use-case you would have the view picking different templates to render, based on something like \u0026quot;current selected of article\u0026quot; .\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The presentation layer can actually get quite elaborate, as described here: \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/16596704/727208\u0026quot;\u0026gt;Understanding MVC Views in PHP\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;But I am just making a REST API!\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Of course, there are situations, when this is a overkill.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;MVC is just a concrete solution for \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Separation_of_concerns\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Separation of Concerns\u0026lt;/a\u0026gt; principle. \u0026lt;em\u0026gt;MVC separates user interface from the business logic, and it in the UI it separated handling of user input and the presentation.\u0026lt;/em\u0026gt; This is crucial. While often people describe it as a \u0026quot;triad\u0026quot;, it\u0026apos;s not actually made up from three independent parts. The structure is more like this: \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/iEn76.png\u0026quot; alt=\u0026quot;MVC separation\u0026quot;\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It means, that, when your presentation layer\u0026apos;s logic is close to none-existent, the pragmatic approach is to keep them as single layer. It also can substantially simplify some aspects of model layer. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Using this approach the login example (for an API) can be written as:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-php s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;postLogin\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Request \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$request\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;)\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$email\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$request\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;email\u0026apos;\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$data\u0026lt;/span\u0026gt; = [\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;status\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ok\u0026apos;\u0026lt;/span\u0026gt;,\n    ];\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;identification-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;findIdentityByEmailAddress\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$email\u0026lt;/span\u0026gt;);\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$token\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;identification-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;loginWithPassword\u0026lt;/span\u0026gt;(\n            \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt;,\n            \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$request\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;password\u0026apos;\u0026lt;/span\u0026gt;)\n        );\n    } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (FailedIdentification \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$exception\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$data\u0026lt;/span\u0026gt; = [\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;status\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;error\u0026apos;\u0026lt;/span\u0026gt;,\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;message\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Login failed!\u0026apos;\u0026lt;/span\u0026gt;,\n        ]\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;JsonResponse\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$data\u0026lt;/span\u0026gt;);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;While this is not sustainable, when you have complicate logic for rendering a response body, this simplification is very useful for more trivial scenarios. But \u0026lt;strong\u0026gt;be warned\u0026lt;/strong\u0026gt;, this approach will become a nightmare, when attempting to use in large codebases with complex presentation logic.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026amp;nbsp;\u0026lt;/p\u0026gt;\n\n\u0026lt;h1\u0026gt;How to build the model?\u0026lt;/h1\u0026gt;\n\n\u0026lt;p\u0026gt;Since there is not a single \u0026quot;Model\u0026quot; class (as explained above), you really do not \u0026quot;build the model\u0026quot;. Instead you start from making \u0026lt;em\u0026gt;Services\u0026lt;/em\u0026gt;, which are able to perform certain methods. And then implement \u0026lt;em\u0026gt;Domain Objects\u0026lt;/em\u0026gt; and \u0026lt;em\u0026gt;Mappers\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;An example of a service method:\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;In the both approaches above there was this login method for the identification service. What would it actually look like. I am using a slightly modified version of the same functionality from \u0026lt;a href=\u0026quot;https://github.com/teresko/palladium\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;a library\u0026lt;/a\u0026gt;, that I wrote .. because I am lazy:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-php s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;loginWithPassword\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Identity \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$password\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;): \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;matchPassword\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$password\u0026lt;/span\u0026gt;) === \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;logWrongPasswordNotice\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt;, [\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;email\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;getEmailAddress\u0026lt;/span\u0026gt;(),\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;key\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$password\u0026lt;/span\u0026gt;, // this is the wrong password\n        ]);\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;throw\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;PasswordMismatch\u0026lt;/span\u0026gt;;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;setPassword\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$password\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;updateIdentityOnUse\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$cookie\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;createCookieIdentity\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt;);\n\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;logger-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;info\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;login successful\u0026apos;\u0026lt;/span\u0026gt;, [\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;input\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; [\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;email\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;getEmailAddress\u0026lt;/span\u0026gt;(),\n        ],\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;user\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; [\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;account\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;getAccountId\u0026lt;/span\u0026gt;(),\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;identity\u0026apos;\u0026lt;/span\u0026gt; =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;getId\u0026lt;/span\u0026gt;(),\n        ],\n    ]);\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$cookie\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;getToken\u0026lt;/span\u0026gt;();\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;As you can see, at this level of abstraction, there is no indication of where the data was fetched from. It might be a database, but it also might be just a mock object for testing purposes. Even the data mappers, that are actually used for it, are hidden away in the \u0026lt;code\u0026gt;private\u0026lt;/code\u0026gt; methods of this service.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-php s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;changeIdentityStatus\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Entity\\Identity \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$status\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;)\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;setStatus\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$status\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;setLastUsed\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;time\u0026lt;/span\u0026gt;());\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$mapper\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;mapperFactory-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;create\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Mapper\\Identity\u0026lt;/span\u0026gt;::\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$mapper\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;store\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$identity\u0026lt;/span\u0026gt;);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h3\u0026gt;Ways of creating mappers\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;To implement an abstraction of persistence, on the most flexible approaches is to create custom \u0026lt;a href=\u0026quot;http://martinfowler.com/eaaCatalog/dataMapper.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;data mappers\u0026lt;/a\u0026gt;. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://ptgmedia.pearsoncmg.com/images/chap3_0321127420/elementLinks/03fig04.gif\u0026quot; alt=\u0026quot;Mapper diagram\u0026quot;\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;sub\u0026gt;From: \u0026lt;a href=\u0026quot;https://martinfowler.com/books/eaa.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;PoEAA\u0026lt;/a\u0026gt; book\u0026lt;/sub\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In practice they are implemented for interaction with specific classes or superclasses. Lets say you have \u0026lt;code\u0026gt;Customer\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;Admin\u0026lt;/code\u0026gt; in your code (both inheriting from a \u0026lt;code\u0026gt;User\u0026lt;/code\u0026gt; superclass). Both would probably end up having a separate matching mapper, since they contain different fields. But you will also end up with shared and commonly used operations. For example: updating the \u0026lt;em\u0026gt;\u0026quot;last seen online\u0026quot;\u0026lt;/em\u0026gt; time. And instead of making the existing mappers more convoluted, the more pragmatic approach is to have a general \u0026quot;User Mapper\u0026quot;, which only update that timestamp.\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;Some additional comments:\u0026lt;/h2\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Database tables and model\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;While sometimes there is a direct 1:1:1 relationship between a database table, \u0026lt;em\u0026gt;Domain Object\u0026lt;/em\u0026gt;, and \u0026lt;em\u0026gt;Mapper\u0026lt;/em\u0026gt;, in larger projects it might be less common than you expect:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Information used by a single \u0026lt;em\u0026gt;Domain Object\u0026lt;/em\u0026gt; might be mapped from different tables, while the object itself has no persistence in the database.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Example:\u0026lt;/em\u0026gt; if you are generating a monthly report. This would collect information from different of tables, but there is no magical \u0026lt;code\u0026gt;MonthlyReport\u0026lt;/code\u0026gt; table in the database.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;A single \u0026lt;em\u0026gt;Mapper\u0026lt;/em\u0026gt; can affect multiple tables.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Example:\u0026lt;/em\u0026gt; when you are storing data from the \u0026lt;code\u0026gt;User\u0026lt;/code\u0026gt; object, this \u0026lt;em\u0026gt;Domain Object\u0026lt;/em\u0026gt; could contain collection of other domain objects - \u0026lt;code\u0026gt;Group\u0026lt;/code\u0026gt; instances. If you alter them and store the \u0026lt;code\u0026gt;User\u0026lt;/code\u0026gt;, the \u0026lt;em\u0026gt;Data Mapper\u0026lt;/em\u0026gt; will have to update and/or insert entries in multiple tables.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Data from a single \u0026lt;em\u0026gt;Domain Object\u0026lt;/em\u0026gt; is stored in more than one table.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Example:\u0026lt;/em\u0026gt; in large systems (think: a medium-sized social network), it might be pragmatic to store user authentication data and often-accessed data separately from larger chunks of content, which is rarely required. In that case you might still have a single \u0026lt;code\u0026gt;User\u0026lt;/code\u0026gt; class, but the information it contains would depend of whether full details were fetched.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;For every \u0026lt;em\u0026gt;Domain Object\u0026lt;/em\u0026gt; there can be more than one mapper\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Example:\u0026lt;/em\u0026gt; you have a news site with a shared codebased for both public-facing and the management software. But, while both interfaces use the same \u0026lt;code\u0026gt;Article\u0026lt;/code\u0026gt; class, the management needs a lot more info populated in it. In this case you would have two separate mappers: \u0026quot;internal\u0026quot; and \u0026quot;external\u0026quot;. Each performing different queries, or even use different databases (as in master or slave).\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;A view is not a template\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;View\u0026lt;/em\u0026gt; instances in MVC (if you are not using the MVP variation of the pattern) are responsible for the presentational logic. This means that each \u0026lt;em\u0026gt;View\u0026lt;/em\u0026gt; will usually juggle at least a few templates. It acquires data from the \u0026lt;em\u0026gt;Model Layer\u0026lt;/em\u0026gt; and then, based on the received information, chooses a template and sets values.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;One of the benefits you gain from this is re-usability. If you create a \u0026lt;code\u0026gt;ListView\u0026lt;/code\u0026gt; class, then, with well-written code, you can have the same class handing the presentation of user-list and comments below an article. Because they both have the same presentation logic. You just switch templates.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You can use either \u0026lt;a href=\u0026quot;http://codeangel.org/articles/simple-php-template-engine.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;native PHP templates\u0026lt;/a\u0026gt; or use some third-party templating engine. There also might be some third-party libraries, which are able to fully replace \u0026lt;em\u0026gt;View\u0026lt;/em\u0026gt; instances.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;What about the old version of the answer?\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The only major change is that, what is called \u0026lt;em\u0026gt;Model\u0026lt;/em\u0026gt; in the old version, is actually a \u0026lt;em\u0026gt;Service\u0026lt;/em\u0026gt;. The rest of the \u0026quot;library analogy\u0026quot; keeps up pretty well.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The only flaw that I see is that this would be a really strange library, because it would return you information from the book, but not let you touch the book itself, because otherwise the abstraction would start to \u0026quot;leak\u0026quot;. I might have to think of a more fitting analogy.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;What is the relationship between \u0026lt;em\u0026gt;View\u0026lt;/em\u0026gt; and \u0026lt;em\u0026gt;Controller\u0026lt;/em\u0026gt; instances?\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The MVC structure is composed of two layers: ui and model. The main structures in the \u0026lt;em\u0026gt;UI layer\u0026lt;/em\u0026gt; are views and controller. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;When you are dealing with websites that use MVC design pattern, the best way is to have 1:1 relation between views and controllers. Each view represents a whole page in your website and it has a dedicated controller to handle all the incoming requests for that particular view.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For example, to represent an opened article, you would have \u0026lt;code\u0026gt;\\Application\\Controller\\Document\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;\\Application\\View\\Document\u0026lt;/code\u0026gt;. This would contain all the main functionality for UI layer, when it comes to dealing with articles \u0026lt;em\u0026gt;(of course you might have some \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en/xmlhttprequest\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;XHR\u0026lt;/a\u0026gt; components that are not directly related to articles)\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Everything that is \u0026lt;strong\u0026gt;business logic\u0026lt;/strong\u0026gt; belongs in a model, whether it is a database query, calculations, a REST call, etc.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You can have the data access in the model itself, the MVC pattern doesn\u0026apos;t restrict you from doing that. You can sugar coat it with services, mappers and what not, but the actual definition of a model is a layer that handles business logic, nothing more, nothing less. It can be a class, a function, or a complete module with a gazillion objects if that\u0026apos;s what you want.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It\u0026apos;s always easier to have a separate object that actually executes the database queries instead of having them being executed in the model directly: this will especially come in handy when unit testing (because of the easiness of injecting a mock database dependency in your model):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-php s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Database\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$_conn\u0026lt;/span\u0026gt;;\n\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;__construct\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$connection\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n       \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;_conn = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$connection\u0026lt;/span\u0026gt;;\n   }\n\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;ExecuteObject\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$data\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n       \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// stuff\u0026lt;/span\u0026gt;\n   }\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;abstract\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Model\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$_db\u0026lt;/span\u0026gt;;\n\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;__construct\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Database \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n       \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;_db = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;;\n   }\n}\n\n\u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;User\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Model\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;CheckUsername\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$username\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n       \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ...\u0026lt;/span\u0026gt;\n       \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SELECT Username FROM\u0026quot;\u0026lt;/span\u0026gt; . \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;usersTableName . \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; WHERE ...\u0026quot;\u0026lt;/span\u0026gt;;\n       \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;_db-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;ExecuteObject\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$data\u0026lt;/span\u0026gt;);\n   }\n}\n\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Database\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$conn\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$model\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;User\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$db\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$model\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;CheckUsername\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Also, in PHP, you rarely need to catch/rethrow exceptions because the backtrace is preserved, especially in a case like your example. Just let the exception be thrown and catch it in the controller instead.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In Web-\u0026quot;MVC\u0026quot; you can do whatever you please.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The original concept \u0026lt;sup\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/1549857/simple-php-mvc-framework/1549970#1549970\u0026quot;\u0026gt;(1)\u0026lt;/a\u0026gt;\u0026lt;/sup\u0026gt; described the model as the business logic. It should represent the application state and enforce some data consistency. That approach is often described as \u0026quot;fat model\u0026quot;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Most PHP frameworks follow a more shallow approach, where the model is just a database interface. But at the very least these models should still validate the incoming data and relations.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Either way, you\u0026apos;re not very far off if you separate the SQL stuff or database calls into another layer. This way you only need to concern yourself with the real data/behaviour, not with the actual storage API. (It\u0026apos;s however unreasonable to overdo it. You\u0026apos;ll e.g. never be able to replace a database backend with a filestorage if that wasn\u0026apos;t designed ahead.)\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;More oftenly most of the applications will have data,display and processing part and we just put all  those in the letters \u0026lt;code\u0026gt;M\u0026lt;/code\u0026gt;,\u0026lt;code\u0026gt;V\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;C\u0026lt;/code\u0026gt;.  \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Model(\u0026lt;code\u0026gt;M\u0026lt;/code\u0026gt;)\u0026lt;/em\u0026gt;--\u0026amp;gt;Has the attributes that holds state of application and it dont know any thing about \u0026lt;code\u0026gt;V\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;C\u0026lt;/code\u0026gt;.  \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;View(\u0026lt;code\u0026gt;V\u0026lt;/code\u0026gt;)\u0026lt;/em\u0026gt;--\u0026amp;gt;Has displaying format for the application and and only knows about how-to-digest model on it and does not bother about \u0026lt;code\u0026gt;C\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Controller(\u0026lt;code\u0026gt;C\u0026lt;/code\u0026gt;)\u0026lt;/em\u0026gt;----\u0026amp;gt;Has processing part of application and acts as wiring between M and V and it depends on both \u0026lt;code\u0026gt;M\u0026lt;/code\u0026gt;,\u0026lt;code\u0026gt;V\u0026lt;/code\u0026gt; unlike \u0026lt;code\u0026gt;M\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;V\u0026lt;/code\u0026gt;.  \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Altogether there is separation of concern between each.\nIn future any change or enhancements can be added very easily.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In my case I have a database class that handle all the direct database interaction such as querying, fetching, and such. So if I had to change my database from \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/MySQL\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;MySQL\u0026lt;/a\u0026gt; to \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/PostgreSQL\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;PostgreSQL\u0026lt;/a\u0026gt; there won\u0026apos;t be any problem. So adding that extra layer can be useful.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Each table can have its own class and have its specific methods, but to actually get the data, it lets the database class handle it:\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;File \u0026lt;code\u0026gt;Database.php\u0026lt;/code\u0026gt;\u0026lt;/h3\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-php s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Database\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$connection\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$current_query\u0026lt;/span\u0026gt;;\n    ...\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;self\u0026lt;/span\u0026gt;::\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$connection\u0026lt;/span\u0026gt;){\n            \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;self\u0026lt;/span\u0026gt;::\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;open_connection\u0026lt;/span\u0026gt;();\n        }\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;self\u0026lt;/span\u0026gt;::\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$current_query\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysql_query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;self\u0026lt;/span\u0026gt;::\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$connection\u0026lt;/span\u0026gt;);\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt;){\n            \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;self\u0026lt;/span\u0026gt;::\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;close_connection\u0026lt;/span\u0026gt;();\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// throw custom error\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// The query failed for some reason. here is query :: self::$current_query\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$error\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Error\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;There is an Error in the query.\\n\u0026amp;lt;b\u0026amp;gt;Query:\u0026amp;lt;/b\u0026amp;gt;\\n\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;{$sql}\u0026lt;/span\u0026gt;\\n\u0026quot;\u0026lt;/span\u0026gt;);\n            \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$error\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;handleError\u0026lt;/span\u0026gt;();\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt;;\n    }\n ....\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;find_by_sql\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;{\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;is_string\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;))\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result_set\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;self\u0026lt;/span\u0026gt;::\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;query\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;);\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$obj_arr\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;array\u0026lt;/span\u0026gt;();\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;self\u0026lt;/span\u0026gt;::\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;fetch_array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result_set\u0026lt;/span\u0026gt;))\n        {\n            \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$obj_arr\u0026lt;/span\u0026gt;[] = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;self\u0026lt;/span\u0026gt;::\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;instantiate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$row\u0026lt;/span\u0026gt;);\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$obj_arr\u0026lt;/span\u0026gt;;\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Table object classL\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-php s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;DomainPeer\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Database\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;getDomainInfoList\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) \u0026lt;/span\u0026gt;{\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;SELECT \u0026apos;\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt; .=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;d.`id`,\u0026apos;\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt; .=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;d.`name`,\u0026apos;\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt; .=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;d.`shortName`,\u0026apos;\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt; .=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;d.`created_at`,\u0026apos;\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt; .=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;d.`updated_at`,\u0026apos;\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt; .=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;count(q.id) as queries \u0026apos;\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt; .=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;FROM `domains` d \u0026apos;\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt; .=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;LEFT JOIN queries q on q.domainId = d.id \u0026apos;\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt; .=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;GROUP BY d.id\u0026apos;\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;self\u0026lt;/span\u0026gt;::\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;find_by_sql\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$sql\u0026lt;/span\u0026gt;);\n    }\n\n    ....\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;I hope this example helps you create a good structure.\u0026lt;/p\u0026gt;\n    "]},"randomTags":[{"name":"sql","slug":"sql"},{"name":"include","slug":"include"},{"name":"int","slug":"int"},{"name":"iframe","slug":"iframe"},{"name":"jtable","slug":"jtable"},{"name":"haversine","slug":"haversine"},{"name":"scriptlet","slug":"scriptlet"},{"name":"getter","slug":"getter"},{"name":"tapply","slug":"tapply"},{"name":"keyword","slug":"keyword"},{"name":"iteration","slug":"iteration"},{"name":"dom-traversal","slug":"dom-traversal"},{"name":"pageload","slug":"pageload"},{"name":"generics","slug":"generics"},{"name":"mysqli","slug":"mysqli"},{"name":"importerror","slug":"importerror"},{"name":"main","slug":"main"},{"name":"unresolved-external","slug":"unresolved-external"},{"name":"callback","slug":"callback"},{"name":"selenium","slug":"selenium"}]},"__N_SSG":true},"page":"/questions/tag/[slug]","query":{"slug":"model"},"buildId":"6ctJfCympFH_chh5mjicD","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>