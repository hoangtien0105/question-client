{"pageProps":{"data":{"count":1,"rows":[{"id":527,"title":"How can I tell if a DOM element is visible in the current viewport?","slug":"how-can-i-tell-if-a-dom-element-is-visible-in-the-current-viewport-1657388316510","postType":"QUESTION","createdAt":"2022-07-09T17:38:36.000Z","updatedAt":"2022-07-09T17:38:36.000Z","tags":[{"id":2592,"name":"firefox","slug":"firefox","createdAt":"2022-07-09T17:38:36.000Z","updatedAt":"2022-07-09T17:38:36.000Z","Questions_Tags":{"questionId":527,"tagId":2592}}]}]},"slug":"firefox","page":"1","answers":{"527":["\n&lt;p&gt;Now &lt;a href=&quot;http://www.quirksmode.org/dom/w3c_cssom.html&quot; rel=&quot;noreferrer&quot;&gt;most browsers&lt;/a&gt; support &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect&quot; rel=&quot;noreferrer&quot;&gt;getBoundingClientRect&lt;/a&gt; method, which has become the best practice. Using an old answer is very slow, &lt;a href=&quot;http://weblogs.asp.net/bleroy/archive/2008/01/29/getting-absolute-coordinates-from-a-dom-element.aspx&quot; rel=&quot;noreferrer&quot;&gt;not accurate&lt;/a&gt; and &lt;a href=&quot;http://javascript.info/tutorial/coordinates&quot; rel=&quot;noreferrer&quot;&gt;has several bugs&lt;/a&gt;.&lt;/p&gt;\n&lt;p&gt;The solution selected as correct is &lt;a href=&quot;http://www.quirksmode.org/js/findpos.html&quot; rel=&quot;noreferrer&quot;&gt;almost never precise&lt;/a&gt;.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;This solution was tested on Internet Explorer 7 (and later), iOS 5 (and later) Safari, &lt;a href=&quot;https://en.wikipedia.org/wiki/Android_Eclair&quot; rel=&quot;noreferrer&quot;&gt;Android 2.0&lt;/a&gt; (Eclair) and later, BlackBerry, Opera Mobile, and Internet Explorer Mobile &lt;sup&gt;&lt;a href=&quot;http://ejohn.org/blog/getboundingclientrect-is-awesome/&quot; rel=&quot;noreferrer&quot;&gt;9&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;\n&lt;hr&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isElementInViewport&lt;/span&gt; (el) {\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Special bonus for those using jQuery&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; jQuery === &lt;span class=&quot;hljs-string&quot;&gt;&quot;function&quot;&lt;/span&gt; &amp;amp;&amp;amp; el &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; jQuery) {\n        el = el[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;];\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; rect = el.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (\n        rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;\n        rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;\n        rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;lt;= (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientHeight&lt;/span&gt;) &amp;amp;&amp;amp; &lt;span class=&quot;hljs-comment&quot;&gt;/* or $(window).height() */&lt;/span&gt;\n        rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; &amp;lt;= (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerWidth&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientWidth&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;/* or $(window).width() */&lt;/span&gt;\n    );\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h2&gt;How to use:&lt;/h2&gt;\n&lt;p&gt;You can be sure that the function given above returns correct answer at the moment of time when it is called, but what about tracking element&apos;s visibility as an event?&lt;/p&gt;\n&lt;p&gt;Place the following code at the bottom of your &lt;code&gt;&amp;lt;body&amp;gt;&lt;/code&gt; tag:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-lua&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;onVisibilityChange&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(el, callback)&lt;/span&gt;&lt;/span&gt; {\n    var old_visible;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; {\n        var visible = isElementInViewport(el);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (visible != old_visible) {\n            old_visible = visible;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (typeof callback == &lt;span class=&quot;hljs-string&quot;&gt;&apos;function&apos;&lt;/span&gt;) {\n                callback();\n            }\n        }\n    }\n}\n\nvar handler = onVisibilityChange(el, &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; {\n    /* Your code go here */\n});\n\n\n// jQuery\n$(window).on(&lt;span class=&quot;hljs-string&quot;&gt;&apos;DOMContentLoaded load resize scroll&apos;&lt;/span&gt;, handler);\n\n/* // Non-jQuery\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (window.addEventListener) {\n    addEventListener(&lt;span class=&quot;hljs-string&quot;&gt;&apos;DOMContentLoaded&apos;&lt;/span&gt;, handler, &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;);\n    addEventListener(&lt;span class=&quot;hljs-string&quot;&gt;&apos;load&apos;&lt;/span&gt;, handler, &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;);\n    addEventListener(&lt;span class=&quot;hljs-string&quot;&gt;&apos;scroll&apos;&lt;/span&gt;, handler, &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;);\n    addEventListener(&lt;span class=&quot;hljs-string&quot;&gt;&apos;resize&apos;&lt;/span&gt;, handler, &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;);\n} &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (window.attachEvent)  {\n    attachEvent(&lt;span class=&quot;hljs-string&quot;&gt;&apos;onDOMContentLoaded&apos;&lt;/span&gt;, handler); // Internet Explorer &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;+ :(\n    attachEvent(&lt;span class=&quot;hljs-string&quot;&gt;&apos;onload&apos;&lt;/span&gt;, handler);\n    attachEvent(&lt;span class=&quot;hljs-string&quot;&gt;&apos;onscroll&apos;&lt;/span&gt;, handler);\n    attachEvent(&lt;span class=&quot;hljs-string&quot;&gt;&apos;onresize&apos;&lt;/span&gt;, handler);\n}\n*/\n&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;p&gt;If you do any DOM modifications, they can change your element&apos;s visibility of course.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Guidelines and common pitfalls:&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Maybe you need to track page zoom / mobile device pinch?&lt;/strong&gt; jQuery should handle &lt;a href=&quot;http://api.jquery.com/resize/&quot; rel=&quot;noreferrer&quot;&gt;zoom/pinch&lt;/a&gt; cross browser, otherwise &lt;a href=&quot;https://stackoverflow.com/questions/995914/catch-browsers-zoom-event-in-javascript&quot;&gt;first&lt;/a&gt; or &lt;a href=&quot;https://stackoverflow.com/questions/11183174/simplest-way-to-detect-a-pinch&quot;&gt;second&lt;/a&gt; link should help you.&lt;/p&gt;\n&lt;p&gt;If you &lt;strong&gt;modify DOM&lt;/strong&gt;, it can affect the element&apos;s visibility. You should take control over that and call &lt;code&gt;handler()&lt;/code&gt; manually. Unfortunately, we don&apos;t have any cross browser &lt;code&gt;onrepaint&lt;/code&gt; event. On the other hand that allows us to make optimizations and perform re-check only on DOM modifications that can change an element&apos;s visibility.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Never Ever&lt;/strong&gt; use it inside jQuery &lt;a href=&quot;http://api.jquery.com/ready/&quot; rel=&quot;noreferrer&quot;&gt;$(document).ready()&lt;/a&gt; only, because &lt;a href=&quot;https://stackoverflow.com/questions/1324568/is-document-ready-also-css-ready&quot;&gt;there is no warranty CSS has been applied&lt;/a&gt; in this moment. Your code can work locally with your CSS on a hard drive, but once put on a remote server it will fail.&lt;/p&gt;\n&lt;p&gt;After &lt;code&gt;DOMContentLoaded&lt;/code&gt; is fired, &lt;a href=&quot;https://stackoverflow.com/questions/3520780/when-is-window-onload-fired&quot;&gt;styles are applied&lt;/a&gt;, but &lt;a href=&quot;https://stackoverflow.com/questions/8835413/difference-between-load-vs-domcontentloaded&quot;&gt;the images are not loaded yet&lt;/a&gt;. So, we should add &lt;code&gt;window.onload&lt;/code&gt; event listener.&lt;/p&gt;\n&lt;p&gt;We can&apos;t catch zoom/pinch event yet.&lt;/p&gt;\n&lt;p&gt;The last resort could be the following code:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;/* &lt;span class=&quot;hljs-doctag&quot;&gt;TODO:&lt;/span&gt; this looks like a very bad code */&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;setInterval&lt;/span&gt;(handler, &lt;span class=&quot;hljs-number&quot;&gt;600&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;You can use the awesome feature &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/DOM/Using_the_Page_Visibility_API&quot; rel=&quot;noreferrer&quot;&gt;pageVisibiliy&lt;/a&gt; of the HTML5 API if you care if the tab with your web page is active and visible.&lt;/p&gt;\n&lt;p&gt;TODO: this method does not handle two situations:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Overlapping using &lt;code&gt;z-index&lt;/code&gt;.&lt;/li&gt;\n&lt;li&gt;Using &lt;code&gt;overflow-scroll&lt;/code&gt; in element&apos;s container.&lt;/li&gt;\n&lt;li&gt;Try something new - &lt;em&gt;&lt;a href=&quot;https://pawelgrzybek.com/the-intersection-observer-api-explained/&quot; rel=&quot;noreferrer&quot;&gt;The Intersection Observer API explained&lt;/a&gt;&lt;/em&gt;.&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt; Time marches on and so have our browsers. &lt;strong&gt;This technique is no longer recommended&lt;/strong&gt; and you should use &lt;a href=&quot;https://stackoverflow.com/questions/123999/how-can-i-tell-if-a-dom-element-is-visible-in-the-current-viewport/7557433#7557433&quot;&gt;Dan&apos;s solution&lt;/a&gt; if you do not need to support version of Internet&amp;nbsp;Explorer before 7.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Original solution (now outdated):&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;This will check if the element is entirely visible in the current viewport:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;elementInViewport&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;el&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; top = el.&lt;span class=&quot;hljs-property&quot;&gt;offsetTop&lt;/span&gt;;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; left = el.&lt;span class=&quot;hljs-property&quot;&gt;offsetLeft&lt;/span&gt;;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; width = el.&lt;span class=&quot;hljs-property&quot;&gt;offsetWidth&lt;/span&gt;;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; height = el.&lt;span class=&quot;hljs-property&quot;&gt;offsetHeight&lt;/span&gt;;\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt;(el.&lt;span class=&quot;hljs-property&quot;&gt;offsetParent&lt;/span&gt;) {\n    el = el.&lt;span class=&quot;hljs-property&quot;&gt;offsetParent&lt;/span&gt;;\n    top += el.&lt;span class=&quot;hljs-property&quot;&gt;offsetTop&lt;/span&gt;;\n    left += el.&lt;span class=&quot;hljs-property&quot;&gt;offsetLeft&lt;/span&gt;;\n  }\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (\n    top &amp;gt;= &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;pageYOffset&lt;/span&gt; &amp;amp;&amp;amp;\n    left &amp;gt;= &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;pageXOffset&lt;/span&gt; &amp;amp;&amp;amp;\n    (top + height) &amp;lt;= (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;pageYOffset&lt;/span&gt; + &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt;) &amp;amp;&amp;amp;\n    (left + width) &amp;lt;= (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;pageXOffset&lt;/span&gt; + &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerWidth&lt;/span&gt;)\n  );\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You could modify this simply to determine if any part of the element is visible in the viewport:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;elementInViewport2&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;el&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; top = el.&lt;span class=&quot;hljs-property&quot;&gt;offsetTop&lt;/span&gt;;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; left = el.&lt;span class=&quot;hljs-property&quot;&gt;offsetLeft&lt;/span&gt;;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; width = el.&lt;span class=&quot;hljs-property&quot;&gt;offsetWidth&lt;/span&gt;;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; height = el.&lt;span class=&quot;hljs-property&quot;&gt;offsetHeight&lt;/span&gt;;\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt;(el.&lt;span class=&quot;hljs-property&quot;&gt;offsetParent&lt;/span&gt;) {\n    el = el.&lt;span class=&quot;hljs-property&quot;&gt;offsetParent&lt;/span&gt;;\n    top += el.&lt;span class=&quot;hljs-property&quot;&gt;offsetTop&lt;/span&gt;;\n    left += el.&lt;span class=&quot;hljs-property&quot;&gt;offsetLeft&lt;/span&gt;;\n  }\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (\n    top &amp;lt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;pageYOffset&lt;/span&gt; + &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt;) &amp;amp;&amp;amp;\n    left &amp;lt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;pageXOffset&lt;/span&gt; + &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerWidth&lt;/span&gt;) &amp;amp;&amp;amp;\n    (top + height) &amp;gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;pageYOffset&lt;/span&gt; &amp;amp;&amp;amp;\n    (left + width) &amp;gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;pageXOffset&lt;/span&gt;\n  );\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;h2&gt;Update&lt;/h2&gt;\n&lt;p&gt;In modern browsers, you might want to check out the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API&quot; rel=&quot;noreferrer&quot;&gt;Intersection Observer API&lt;/a&gt; which provides the following benefits:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Better performance than listening for scroll events&lt;/li&gt;\n&lt;li&gt;Works in cross domain iframes&lt;/li&gt;\n&lt;li&gt;Can tell if an element is obstructing/intersecting another&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;Intersection Observer is on its way to being a full-fledged standard and is already supported in Chrome 51+, Edge 15+ and Firefox 55+ and is under development for Safari.  There&apos;s also a &lt;a href=&quot;https://github.com/w3c/IntersectionObserver/tree/master/polyfill&quot; rel=&quot;noreferrer&quot;&gt;polyfill&lt;/a&gt; available.&lt;/p&gt;\n&lt;hr&gt;\n&lt;h2&gt;Previous answer&lt;/h2&gt;\n&lt;p&gt;There are some issues with the &lt;a href=&quot;https://stackoverflow.com/a/7557433/94197&quot;&gt;answer provided by Dan&lt;/a&gt; that might make it an unsuitable approach for some situations.  Some of these issues are pointed out in his answer near the bottom, that his code will give false positives for elements that are:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Hidden by another element in front of the one being tested&lt;/li&gt;\n&lt;li&gt;Outside the visible area of a parent or ancestor element&lt;/li&gt;\n&lt;li&gt;An element or its children hidden by using the CSS &lt;code&gt;clip&lt;/code&gt; property&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;These limitations are demonstrated in the following results of a &lt;a href=&quot;http://jsfiddle.net/AndyE/d48Cv/1&quot; rel=&quot;noreferrer&quot;&gt;simple test&lt;/a&gt;:&lt;/p&gt;\n&lt;p&gt;&lt;img src=&quot;https://i.stack.imgur.com/xdo9l.png&quot; alt=&quot;Failed test, using isElementInViewport&quot;&gt;&lt;/p&gt;\n&lt;h2&gt;The solution: &lt;code&gt;isElementVisible()&lt;/code&gt;&lt;/h2&gt;\n&lt;p&gt;Here&apos;s a solution to those problems, with the test result below and an explanation of some parts of the code.&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isElementVisible&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;el&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; rect     = el.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;(),\n        vWidth   = &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerWidth&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientWidth&lt;/span&gt;,\n        vHeight  = &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientHeight&lt;/span&gt;,\n        efp      = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;x, y&lt;/span&gt;) { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;elementFromPoint&lt;/span&gt;(x, y) };     \n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Return false if it&apos;s not in the viewport&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; || rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; \n            || rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;gt; vWidth || rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;gt; vHeight)\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Return true if any of its four corners are visible&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (\n          el.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;efp&lt;/span&gt;(rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;,  rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;))\n      ||  el.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;efp&lt;/span&gt;(rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;, rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;))\n      ||  el.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;efp&lt;/span&gt;(rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;, rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;))\n      ||  el.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;efp&lt;/span&gt;(rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;,  rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;))\n    );\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;&lt;strong&gt;Passing test:&lt;/strong&gt; &lt;a href=&quot;http://jsfiddle.net/AndyE/cAY8c/&quot; rel=&quot;noreferrer&quot;&gt;http://jsfiddle.net/AndyE/cAY8c/&lt;/a&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;And the result:&lt;/p&gt;\n&lt;p&gt;&lt;img src=&quot;https://i.stack.imgur.com/Yg3u7.png&quot; alt=&quot;Passed test, using isElementVisible&quot;&gt;&lt;/p&gt;\n&lt;h2&gt;Additional notes&lt;/h2&gt;\n&lt;p&gt;This method is not without its own limitations, however. For instance, an element being tested with a lower z-index than another element at the same location would be identified as hidden even if the element in front doesn&apos;t actually hide any part of it.  Still, this method has its uses in some cases that Dan&apos;s solution doesn&apos;t cover.&lt;/p&gt;\n&lt;p&gt;Both &lt;code&gt;element.getBoundingClientRect()&lt;/code&gt; and &lt;code&gt;document.elementFromPoint()&lt;/code&gt; are part of the CSSOM Working Draft specification and are supported in at least IE 6 and later and &lt;em&gt;most&lt;/em&gt; desktop browsers for a long time (albeit, not perfectly). See &lt;a href=&quot;http://www.quirksmode.org/dom/w3c_cssom.html#documentview&quot; rel=&quot;noreferrer&quot;&gt;Quirksmode on these functions&lt;/a&gt; for more information.&lt;/p&gt;\n&lt;p&gt;&lt;code&gt;contains()&lt;/code&gt; is used to see if the element returned by &lt;code&gt;document.elementFromPoint()&lt;/code&gt; is a child node of the element we&apos;re testing for visibility.  It also returns true if the element returned is the same element.  This just makes the check more robust.  It&apos;s supported in all major browsers, Firefox 9.0 being the last of them to add it.  For older Firefox support, check this answer&apos;s history.&lt;/p&gt;\n&lt;p&gt;If you want to test more points around the element for visibilityie, to make sure the element isn&apos;t covered by more than, say, 50%it wouldn&apos;t take much to adjust the last part of the answer.  However, be aware that it would probably be very slow if you checked every pixel to make sure it was 100% visible.&lt;/p&gt;\n    ","\n&lt;p&gt;I tried &lt;a href=&quot;/a/7557433/315024&quot;&gt;Dan&apos;s answer&lt;/a&gt;, however, the algebra used to determine the bounds means that the element must be both  the viewport size and completely inside the viewport to get &lt;code&gt;true&lt;/code&gt;, easily leading to false negatives. If you want to determine whether an element is in the viewport at all, &lt;a href=&quot;/a/12418814/315024&quot;&gt;ryanve&apos;s answer&lt;/a&gt; is close but the element being tested should overlap the viewport, so try this:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isElementInViewport&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;el&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; rect = el.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;\n        rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;\n        rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;lt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerWidth&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientWidth&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;/* or $(window).width() */&lt;/span&gt; &amp;amp;&amp;amp;\n        rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;lt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientHeight&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;/* or $(window).height() */&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;See the source of &lt;a href=&quot;https://github.com/ryanve/verge#verge&quot; rel=&quot;noreferrer&quot;&gt;verge&lt;/a&gt;, which uses &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/DOM/element.getBoundingClientRect&quot; rel=&quot;noreferrer&quot;&gt;getBoundingClientRect&lt;/a&gt;. It&apos;s like:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;function inViewport (element) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!element) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; !== element.nodeType) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; html = document.documentElement;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; rect = element.getBoundingClientRect();\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; !!rect &amp;amp;&amp;amp;\n    rect.bottom &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;\n    rect.right &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; \n    rect.left &amp;lt;= html.clientWidth &amp;amp;&amp;amp;\n    rect.top &amp;lt;= html.clientHeight;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;It returns &lt;code&gt;true&lt;/code&gt; if &lt;strong&gt;any&lt;/strong&gt; part of the element is in the viewport.&lt;/p&gt;\n    ","\n&lt;p&gt;As a public service: &lt;br&gt;\nDan&apos;s answer with the correct calculations (element can be &amp;gt; window, especially on mobile phone screens), and correct jQuery testing, as well as adding isElementPartiallyInViewport:&lt;/p&gt;\n\n&lt;p&gt;By the way, &lt;a href=&quot;http://www.quirksmode.org/mobile/viewports.html&quot; rel=&quot;noreferrer&quot;&gt;the difference&lt;/a&gt; between window.innerWidth and document.documentElement.clientWidth is that clientWidth/clientHeight doesn&apos;t include the scrollbar, while window.innerWidth/Height does.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isElementPartiallyInViewport&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;el&lt;/span&gt;)\n{\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Special bonus for those using jQuery&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; jQuery !== &lt;span class=&quot;hljs-string&quot;&gt;&apos;undefined&apos;&lt;/span&gt; &amp;amp;&amp;amp; el &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; jQuery) \n        el = el[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;];\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; rect = el.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n    &lt;span class=&quot;hljs-comment&quot;&gt;// DOMRect { x: 8, y: 8, width: 100, height: 100, top: 8, right: 108, bottom: 108, left: 8 }&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; windowHeight = (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientHeight&lt;/span&gt;);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; windowWidth = (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerWidth&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientWidth&lt;/span&gt;);\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// http://stackoverflow.com/questions/325933/determine-whether-two-date-ranges-overlap&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; vertInView = (rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;lt;= windowHeight) &amp;amp;&amp;amp; ((rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; + rect.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt;) &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; horInView = (rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;lt;= windowWidth) &amp;amp;&amp;amp; ((rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; + rect.&lt;span class=&quot;hljs-property&quot;&gt;width&lt;/span&gt;) &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (vertInView &amp;amp;&amp;amp; horInView);\n}\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isElementInViewport&lt;/span&gt; (el)\n{\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Special bonus for those using jQuery&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; jQuery !== &lt;span class=&quot;hljs-string&quot;&gt;&apos;undefined&apos;&lt;/span&gt; &amp;amp;&amp;amp; el &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; jQuery) \n        el = el[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;];\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; rect = el.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; windowHeight = (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientHeight&lt;/span&gt;);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; windowWidth = (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerWidth&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientWidth&lt;/span&gt;);\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (\n           (rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n        &amp;amp;&amp;amp; (rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n        &amp;amp;&amp;amp; ((rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; + rect.&lt;span class=&quot;hljs-property&quot;&gt;width&lt;/span&gt;) &amp;lt;= windowWidth)\n        &amp;amp;&amp;amp; ((rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; + rect.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt;) &amp;lt;= windowHeight)\n    );\n}\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;fnIsVis&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;ele&lt;/span&gt;)\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; inVpFull = &lt;span class=&quot;hljs-title function_&quot;&gt;isElementInViewport&lt;/span&gt;(ele);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; inVpPartial = &lt;span class=&quot;hljs-title function_&quot;&gt;isElementPartiallyInViewport&lt;/span&gt;(ele);\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;clear&lt;/span&gt;();\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Fully in viewport: &quot;&lt;/span&gt; + inVpFull);\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Partially in viewport: &quot;&lt;/span&gt; + inVpPartial);\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h3&gt;Test-case&lt;/h3&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;!DOCTYPE &lt;span class=&quot;hljs-keyword&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;lang&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;en&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;meta&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;charset&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;meta&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;http-equiv&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;X-UA-Compatible&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;content&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;IE=edge&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;meta&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;viewport&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;content&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;width=device-width, initial-scale=1&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;meta&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;description&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;content&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;meta&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;author&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;content&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;title&lt;/span&gt;&amp;gt;&lt;/span&gt;Test&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;title&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!--\n    &amp;lt;script src=&quot;http://cdnjs.cloudflare.com/ajax/libs/jquery/1.8.3/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;\n    &amp;lt;script src=&quot;scrollMonitor.js&quot;&amp;gt;&amp;lt;/script&amp;gt;\n    --&amp;gt;&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isElementPartiallyInViewport&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;el&lt;/span&gt;)\n        {\n            &lt;span class=&quot;hljs-comment&quot;&gt;// Special bonus for those using jQuery&lt;/span&gt;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; jQuery !== &lt;span class=&quot;hljs-string&quot;&gt;&apos;undefined&apos;&lt;/span&gt; &amp;amp;&amp;amp; el &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; jQuery) \n                el = el[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;];\n\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; rect = el.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n            &lt;span class=&quot;hljs-comment&quot;&gt;// DOMRect { x: 8, y: 8, width: 100, height: 100, top: 8, right: 108, bottom: 108, left: 8 }&lt;/span&gt;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; windowHeight = (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientHeight&lt;/span&gt;);\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; windowWidth = (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerWidth&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientWidth&lt;/span&gt;);\n\n            &lt;span class=&quot;hljs-comment&quot;&gt;// http://stackoverflow.com/questions/325933/determine-whether-two-date-ranges-overlap&lt;/span&gt;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; vertInView = (rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;lt;= windowHeight) &amp;amp;&amp;amp; ((rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; + rect.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt;) &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; horInView = (rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;lt;= windowWidth) &amp;amp;&amp;amp; ((rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; + rect.&lt;span class=&quot;hljs-property&quot;&gt;width&lt;/span&gt;) &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (vertInView &amp;amp;&amp;amp; horInView);\n        }\n\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;// http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isElementInViewport&lt;/span&gt; (el)\n        {\n            &lt;span class=&quot;hljs-comment&quot;&gt;// Special bonus for those using jQuery&lt;/span&gt;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; jQuery !== &lt;span class=&quot;hljs-string&quot;&gt;&apos;undefined&apos;&lt;/span&gt; &amp;amp;&amp;amp; el &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; jQuery) \n                el = el[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;];\n\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; rect = el.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; windowHeight = (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientHeight&lt;/span&gt;);\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; windowWidth = (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerWidth&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientWidth&lt;/span&gt;);\n\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (\n                   (rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n                &amp;amp;&amp;amp; (rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n                &amp;amp;&amp;amp; ((rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; + rect.&lt;span class=&quot;hljs-property&quot;&gt;width&lt;/span&gt;) &amp;lt;= windowWidth)\n                &amp;amp;&amp;amp; ((rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; + rect.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt;) &amp;lt;= windowHeight)\n            );\n        }\n\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;fnIsVis&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;ele&lt;/span&gt;)\n        {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; inVpFull = &lt;span class=&quot;hljs-title function_&quot;&gt;isElementInViewport&lt;/span&gt;(ele);\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; inVpPartial = &lt;span class=&quot;hljs-title function_&quot;&gt;isElementPartiallyInViewport&lt;/span&gt;(ele);\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;clear&lt;/span&gt;();\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Fully in viewport: &quot;&lt;/span&gt; + inVpFull);\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Partially in viewport: &quot;&lt;/span&gt; + inVpPartial);\n        }\n\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;// var scrollLeft = (window.pageXOffset !== undefined) ? window.pageXOffset : (document.documentElement || document.body.parentNode || document.body).scrollLeft,&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// var scrollTop = (window.pageYOffset !== undefined) ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop;&lt;/span&gt;\n    &lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;display: block; width: 2000px; height: 10000px; background-color: green;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;button&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;onclick&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;fnIsVis(document.getElementById(&apos;myele&apos;));&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;det&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;background-color: crimson; display: inline-block; width: 800px; height: 500px;&quot;&lt;/span&gt; &amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;myele&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;onclick&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;fnIsVis(this);&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;display: inline-block; width: 100px; height: 100px; background-color: hotpink;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        t\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;button&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;onclick&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;fnIsVis(document.getElementById(&apos;myele&apos;));&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;det&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!--\n    &amp;lt;script type=&quot;text/javascript&quot;&amp;gt;\n\n        var element = document.getElementById(&quot;myele&quot;);\n        var watcher = scrollMonitor.create(element);\n\n        watcher.lock();\n\n        watcher.stateChange(function() {\n            console.log(&quot;state changed&quot;);\n            // $(element).toggleClass(&apos;fixed&apos;, this.isAboveViewport)\n        });\n    &amp;lt;/script&amp;gt;\n    --&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;We have now a native javascript &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API&quot; rel=&quot;noreferrer&quot;&gt;Intersection Observer API&lt;/a&gt;\nfrom which we can detect elements either they are in the viewport or not.&lt;/p&gt;\n&lt;p&gt;Here is example&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; el = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;querySelector&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#el&apos;&lt;/span&gt;)\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; observer = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-title class_&quot;&gt;IntersectionObserver&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;[entry]&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (entry.&lt;span class=&quot;hljs-property&quot;&gt;isIntersecting&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;ENTER&apos;&lt;/span&gt;)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt;\n  }\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;LEAVE&apos;&lt;/span&gt;)\n}, {\n  &lt;span class=&quot;hljs-attr&quot;&gt;root&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;,\n  &lt;span class=&quot;hljs-attr&quot;&gt;threshold&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0.1&lt;/span&gt;, &lt;span class=&quot;hljs-comment&quot;&gt;// set offset 0.1 means trigger if atleast 10% of element in viewport&lt;/span&gt;\n})\n\nobserver.&lt;span class=&quot;hljs-title function_&quot;&gt;observe&lt;/span&gt;(el);&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;body&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;300vh&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#el&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin-top&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;100vh&lt;/span&gt;;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;el&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;this is element&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif1&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;My shorter and faster version:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isElementOutViewport&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;el&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; rect = el.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; || rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; || rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerWidth&lt;/span&gt; || rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And a jsFiddle as required: &lt;a href=&quot;https://jsfiddle.net/on1g619L/1/&quot; rel=&quot;noreferrer&quot;&gt;https://jsfiddle.net/on1g619L/1/&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I found it troubling that there wasn&apos;t a &lt;a href=&quot;https://en.wikipedia.org/wiki/JQuery&quot; rel=&quot;noreferrer&quot;&gt;jQuery&lt;/a&gt;-centric version of the functionality available. When I came across &lt;a href=&quot;https://stackoverflow.com/a/7557433/2401804&quot;&gt;Dan&apos;s solution&lt;/a&gt; I spied the opportunity to provide something for folks who like to program in the jQuery OO style. It&apos;s nice and snappy and works like a charm for me.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Bada bing bada boom&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$.fn.&lt;span class=&quot;hljs-property&quot;&gt;inView&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(!&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;) \n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; rect = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (\n        rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;\n        rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;\n        rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;lt;= (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientHeight&lt;/span&gt;) &amp;amp;&amp;amp;\n        rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; &amp;lt;= (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerWidth&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientWidth&lt;/span&gt;)\n    );\n\n};\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Additional examples for other use cases&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// Is true false whether an array of elements are all in view&lt;/span&gt;\n$.fn.&lt;span class=&quot;hljs-property&quot;&gt;allInView&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; all = [];\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;forEach&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n        all.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;( $(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;inView&lt;/span&gt;() );\n    });\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; all.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(&lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;) === -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n};\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Only the class elements in view&lt;/span&gt;\n$(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.some-class&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; $(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;inView&lt;/span&gt;();\n});\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Only the class elements not in view&lt;/span&gt;\n$(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.some-class&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; !$(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;inView&lt;/span&gt;();\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Usage&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$(&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;on&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;scroll&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;( $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;footer&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;inView&lt;/span&gt;() ) {\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Do cool stuff&lt;/span&gt;\n    }\n});\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;The new &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API&quot; rel=&quot;noreferrer&quot;&gt;Intersection Observer API&lt;/a&gt; addresses this question very directly.&lt;/p&gt;\n\n&lt;p&gt;This solution will need a polyfill as Safari, Opera and Internet&amp;nbsp;Explorer don&apos;t support this yet (the polyfill is included in the solution).&lt;/p&gt;\n\n&lt;p&gt;In this solution, there is a box out of view that is the target (observed). When it comes into view, the button at the top in the header is hidden. It is shown once the box leaves the view.&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; buttonToHide = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;querySelector&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;button&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; hideWhenBoxInView = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;IntersectionObserver&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;entries&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (entries[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;].&lt;span class=&quot;hljs-property&quot;&gt;intersectionRatio&lt;/span&gt; &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) { &lt;span class=&quot;hljs-comment&quot;&gt;// If not in view&lt;/span&gt;\n    buttonToHide.&lt;span class=&quot;hljs-property&quot;&gt;style&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;display&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;inherit&quot;&lt;/span&gt;;\n  } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n    buttonToHide.&lt;span class=&quot;hljs-property&quot;&gt;style&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;display&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;none&quot;&lt;/span&gt;;\n  }\n});\n\nhideWhenBoxInView.&lt;span class=&quot;hljs-title function_&quot;&gt;observe&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;box&apos;&lt;/span&gt;));&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;header&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;: fixed;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;top&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;100vw&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;30px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: lightgreen;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.wrapper&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;: relative;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin-top&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;600px&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#box&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;: relative;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;left&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;175px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;150px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;135px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: lightblue;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2px&lt;/span&gt; solid;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://polyfill.io/v2/polyfill.min.js?features=IntersectionObserver&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;header&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;NAVIGATION BUTTON TO HIDE&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;header&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;wrapper&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;box&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif2&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;The simplest solution&lt;/strong&gt; as the support of &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect&quot; rel=&quot;noreferrer&quot;&gt;Element.getBoundingClientRect()&lt;/a&gt; has &lt;a href=&quot;https://caniuse.com/#search=getBoundingClientRect&quot; rel=&quot;noreferrer&quot;&gt;become perfect&lt;/a&gt;:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isInView&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;el&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; box = el.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; box.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;lt; &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt; &amp;amp;&amp;amp; box.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;All answers I&apos;ve encountered here only check if the element is &lt;strong&gt;positioned inside the current viewport&lt;/strong&gt;. But that &lt;strong&gt;doesn&apos;t mean that it is visible&lt;/strong&gt;.&lt;br&gt;\nWhat if the given element is inside a div with overflowing content, and it is scrolled out of view?&lt;/p&gt;\n\n&lt;p&gt;To solve that, you&apos;d have to check if the element is contained by all parents.&lt;br&gt;\nMy solution does exactly that:&lt;/p&gt;\n\n&lt;p&gt;It also allows you to specify how much of the element has to be visible.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Element&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;isVisible&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;percentX, percentY&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; tolerance = &lt;span class=&quot;hljs-number&quot;&gt;0.01&lt;/span&gt;;   &lt;span class=&quot;hljs-comment&quot;&gt;//needed because the rects returned by getBoundingClientRect provide the position up to 10 decimals&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(percentX == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;){\n        percentX = &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;;\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(percentY == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;){\n        percentY = &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;;\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; elementRect = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; parentRects = [];\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; element = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt;(element.&lt;span class=&quot;hljs-property&quot;&gt;parentElement&lt;/span&gt; != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;){\n        parentRects.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(element.&lt;span class=&quot;hljs-property&quot;&gt;parentElement&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;());\n        element = element.&lt;span class=&quot;hljs-property&quot;&gt;parentElement&lt;/span&gt;;\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; visibleInAllParents = parentRects.&lt;span class=&quot;hljs-title function_&quot;&gt;every&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;parentRect&lt;/span&gt;){\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; visiblePixelX = &lt;span class=&quot;hljs-title class_&quot;&gt;Math&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;min&lt;/span&gt;(elementRect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;, parentRect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;) - &lt;span class=&quot;hljs-title class_&quot;&gt;Math&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;max&lt;/span&gt;(elementRect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;, parentRect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; visiblePixelY = &lt;span class=&quot;hljs-title class_&quot;&gt;Math&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;min&lt;/span&gt;(elementRect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;, parentRect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;) - &lt;span class=&quot;hljs-title class_&quot;&gt;Math&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;max&lt;/span&gt;(elementRect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;, parentRect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; visiblePercentageX = visiblePixelX / elementRect.&lt;span class=&quot;hljs-property&quot;&gt;width&lt;/span&gt; * &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; visiblePercentageY = visiblePixelY / elementRect.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt; * &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; visiblePercentageX + tolerance &amp;gt; percentX &amp;amp;&amp;amp; visiblePercentageY + tolerance &amp;gt; percentY;\n    });\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; visibleInAllParents;\n};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This solution ignored the fact that elements may not be visible due to other facts, like &lt;code&gt;opacity: 0&lt;/code&gt;. &lt;/p&gt;\n\n&lt;p&gt;I have tested this solution in Chrome and Internet Explorer 11.&lt;/p&gt;\n    ","\n&lt;p&gt;I find that the accepted answer here is overly complicated for most use cases. This code does the job well (using jQuery) and differentiates between fully visible and partially visible elements:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; element         = $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#element&quot;&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; topOfElement    = element.&lt;span class=&quot;hljs-title function_&quot;&gt;offset&lt;/span&gt;().&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; bottomOfElement = element.&lt;span class=&quot;hljs-title function_&quot;&gt;offset&lt;/span&gt;().&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; + element.&lt;span class=&quot;hljs-title function_&quot;&gt;outerHeight&lt;/span&gt;(&lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; $window         = $(&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;);\n\n$window.&lt;span class=&quot;hljs-title function_&quot;&gt;bind&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;scroll&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; scrollTopPosition   = $window.&lt;span class=&quot;hljs-title function_&quot;&gt;scrollTop&lt;/span&gt;()+$window.&lt;span class=&quot;hljs-title function_&quot;&gt;height&lt;/span&gt;();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; windowScrollTop     = $window.&lt;span class=&quot;hljs-title function_&quot;&gt;scrollTop&lt;/span&gt;()\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (windowScrollTop &amp;gt; topOfElement &amp;amp;&amp;amp; windowScrollTop &amp;lt; bottomOfElement) {\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Element is partially visible (above viewable area)&lt;/span&gt;\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Element is partially visible (above viewable area)&quot;&lt;/span&gt;);\n\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (windowScrollTop &amp;gt; bottomOfElement &amp;amp;&amp;amp; windowScrollTop &amp;gt; topOfElement) {\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Element is hidden (above viewable area)&lt;/span&gt;\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Element is hidden (above viewable area)&quot;&lt;/span&gt;);\n\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (scrollTopPosition &amp;lt; topOfElement &amp;amp;&amp;amp; scrollTopPosition &amp;lt; bottomOfElement) {\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Element is hidden (below viewable area)&lt;/span&gt;\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Element is hidden (below viewable area)&quot;&lt;/span&gt;);\n\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (scrollTopPosition &amp;lt; bottomOfElement &amp;amp;&amp;amp; scrollTopPosition &amp;gt; topOfElement) {\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Element is partially visible (below viewable area)&lt;/span&gt;\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Element is partially visible (below viewable area)&quot;&lt;/span&gt;);\n\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Element is completely visible&lt;/span&gt;\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Element is completely visible&quot;&lt;/span&gt;);\n    }\n});\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I think this is a more functional way to do it.\n&lt;a href=&quot;https://stackoverflow.com/questions/123999/how-can-i-tell-if-a-dom-element-is-visible-in-the-current-viewport/7557433#7557433&quot;&gt;Dan&apos;s answer&lt;/a&gt; do not work in a recursive context.&lt;/p&gt;\n\n&lt;p&gt;This function solves the problem when your element is inside others scrollable divs by testing any levels recursively up to the HTML tag, and stops at the first false.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;/**\n * fullVisible=true only returns true if the all object rect is visible\n */&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isReallyVisible&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;el, fullVisible&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ( el.&lt;span class=&quot;hljs-property&quot;&gt;tagName&lt;/span&gt; == &lt;span class=&quot;hljs-string&quot;&gt;&quot;HTML&quot;&lt;/span&gt; )\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; parentRect=el.&lt;span class=&quot;hljs-property&quot;&gt;parentNode&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; rect = &lt;span class=&quot;hljs-variable language_&quot;&gt;arguments&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] || el.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (\n            ( fullVisible ? rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;    &amp;gt;= parentRect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;    : rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;gt; parentRect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; ) &amp;amp;&amp;amp;\n            ( fullVisible ? rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;   &amp;gt;= parentRect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;   : rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;  &amp;gt; parentRect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; ) &amp;amp;&amp;amp;\n            ( fullVisible ? rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;lt;= parentRect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; : rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;    &amp;lt; parentRect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; ) &amp;amp;&amp;amp;\n            ( fullVisible ? rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;  &amp;lt;= parentRect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;  : rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;   &amp;lt; parentRect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; ) &amp;amp;&amp;amp;\n            &lt;span class=&quot;hljs-title function_&quot;&gt;isReallyVisible&lt;/span&gt;(el.&lt;span class=&quot;hljs-property&quot;&gt;parentNode&lt;/span&gt;, fullVisible, rect)\n    );\n};\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Here&apos;s my solution. It will work if an element is hidden inside a scrollable container.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://jsfiddle.net/W33YR/3/&quot; rel=&quot;nofollow noreferrer&quot;&gt;Here&apos;s a demo&lt;/a&gt; (try re-sizing the window to)&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; visibleY = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;el&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; top = el.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;().&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;, rect, el = el.&lt;span class=&quot;hljs-property&quot;&gt;parentNode&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;do&lt;/span&gt; {\n        rect = el.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (top &amp;lt;= rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; === &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;)\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n        el = el.&lt;span class=&quot;hljs-property&quot;&gt;parentNode&lt;/span&gt;;\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (el != &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;body&lt;/span&gt;);\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Check it&apos;s within the document viewport&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; top &amp;lt;= &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientHeight&lt;/span&gt;;\n};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I only needed to check if it&apos;s visible in the Y axis (for a scrolling Ajax load-more-records feature).&lt;/p&gt;\n    ","\n&lt;p&gt;The most accepted answers don&apos;t work when zooming in Google Chrome on Android. In combination with &lt;a href=&quot;https://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport/7557433#7557433&quot;&gt;Dan&apos;s answer&lt;/a&gt;, to account for Chrome on Android, &lt;a href=&quot;https://developers.google.com/web/updates/2017/09/visual-viewport-api&quot; rel=&quot;nofollow noreferrer&quot;&gt;visualViewport&lt;/a&gt; must be used. The following example only takes the vertical check into account and uses jQuery for the window height:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Rect&lt;/span&gt; = &lt;span class=&quot;hljs-variable constant_&quot;&gt;YOUR_ELEMENT&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ElTop&lt;/span&gt; = &lt;span class=&quot;hljs-title class_&quot;&gt;Rect&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;, &lt;span class=&quot;hljs-title class_&quot;&gt;ElBottom&lt;/span&gt; = &lt;span class=&quot;hljs-title class_&quot;&gt;Rect&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;WindowHeight&lt;/span&gt; = $(&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;height&lt;/span&gt;();\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;visualViewport&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-title class_&quot;&gt;ElTop&lt;/span&gt; -= &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;visualViewport&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;offsetTop&lt;/span&gt;;\n    &lt;span class=&quot;hljs-title class_&quot;&gt;ElBottom&lt;/span&gt; -= &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;visualViewport&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;offsetTop&lt;/span&gt;;\n    &lt;span class=&quot;hljs-title class_&quot;&gt;WindowHeight&lt;/span&gt; = &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;visualViewport&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;WithinScreen&lt;/span&gt; = (&lt;span class=&quot;hljs-title class_&quot;&gt;ElTop&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class=&quot;hljs-title class_&quot;&gt;ElBottom&lt;/span&gt; &amp;lt;= &lt;span class=&quot;hljs-title class_&quot;&gt;WindowHeight&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Based on &lt;a href=&quot;https://stackoverflow.com/questions/123999/how-can-i-tell-if-a-dom-element-is-visible-in-the-current-viewport/7557433#7557433&quot;&gt;dan&apos;s solution&lt;/a&gt;, I had a go at cleaning up the implementation so that using it multiple times on the same page is easier:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n\n  $(&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;on&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;load resize scroll&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-title function_&quot;&gt;addClassToElementInViewport&lt;/span&gt;($(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.bug-icon&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;animate-bug-icon&apos;&lt;/span&gt;);\n    &lt;span class=&quot;hljs-title function_&quot;&gt;addClassToElementInViewport&lt;/span&gt;($(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.another-thing&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;animate-thing&apos;&lt;/span&gt;);\n    &lt;span class=&quot;hljs-comment&quot;&gt;//  repeat as needed ...&lt;/span&gt;\n  });\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;addClassToElementInViewport&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;element, newClass&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;inViewport&lt;/span&gt;(element)) {\n      element.&lt;span class=&quot;hljs-title function_&quot;&gt;addClass&lt;/span&gt;(newClass);\n    }\n  }\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;inViewport&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;element&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; jQuery === &lt;span class=&quot;hljs-string&quot;&gt;&quot;function&quot;&lt;/span&gt; &amp;amp;&amp;amp; element &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; jQuery) {\n      element = element[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;];\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; elementBounds = element.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (\n      elementBounds.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;\n      elementBounds.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;\n      elementBounds.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;lt;= $(&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;height&lt;/span&gt;() &amp;amp;&amp;amp;\n      elementBounds.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; &amp;lt;= $(&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;width&lt;/span&gt;()\n    );\n  }\n\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The way I&apos;m using it is that when the element scrolls into view, I&apos;m adding a class that triggers a CSS keyframe animation. It&apos;s pretty straightforward and works especially well when you&apos;ve got like 10+ things to conditionally animate on a page.&lt;/p&gt;\n    ","\n&lt;p&gt;Most of the usages in previous answers are failing at these points:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;-When any pixel of an element is visible, but not &quot;&lt;strong&gt;a corner&lt;/strong&gt;&quot;,&lt;/p&gt;\n  \n  &lt;p&gt;-When an element is &lt;strong&gt;bigger than viewport and centered&lt;/strong&gt;,&lt;/p&gt;\n  \n  &lt;p&gt;-Most of them are checking only for a singular element &lt;strong&gt;inside a document or window&lt;/strong&gt;.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Well, for all these problems I&apos;ve a solution and the plus sides are:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;-You can return &lt;code&gt;visible&lt;/code&gt; when only a pixel from any sides shows up and is not a corner,&lt;/p&gt;\n  \n  &lt;p&gt;-You can still return &lt;code&gt;visible&lt;/code&gt; while element bigger than viewport,&lt;/p&gt;\n  \n  &lt;p&gt;-You can choose your &lt;code&gt;parent element&lt;/code&gt; or you can automatically let it choose,&lt;/p&gt;\n  \n  &lt;p&gt;-Works on &lt;strong&gt;dynamically added elements&lt;/strong&gt; too.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;If you check the snippets below you will see the difference in using &lt;code&gt;overflow-scroll&lt;/code&gt; in element&apos;s container will not cause any trouble and see that &lt;strong&gt;&lt;em&gt;unlike other answers here&lt;/em&gt;&lt;/strong&gt; even if a pixel shows up from &lt;strong&gt;&lt;em&gt;any side&lt;/em&gt;&lt;/strong&gt; or when an element is bigger than viewport and we are seeing &lt;strong&gt;&lt;em&gt;inner pixels of the element&lt;/em&gt;&lt;/strong&gt; it still works.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Usage is simple:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// For checking element visibility from any sides&lt;/span&gt;\n&lt;span class=&quot;hljs-title function_&quot;&gt;isVisible&lt;/span&gt;(element)\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// For checking elements visibility in a parent you would like to check&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; parent = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// Assuming you check if &apos;element&apos; inside &apos;document&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-title function_&quot;&gt;isVisible&lt;/span&gt;(element, parent)\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// For checking elements visibility even if it&apos;s bigger than viewport&lt;/span&gt;\n&lt;span class=&quot;hljs-title function_&quot;&gt;isVisible&lt;/span&gt;(element, &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;// Without parent choice&lt;/span&gt;\n&lt;span class=&quot;hljs-title function_&quot;&gt;isVisible&lt;/span&gt;(element, parent, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;// With parent choice&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;A demonstration without &lt;code&gt;crossSearchAlgorithm&lt;/code&gt; which is usefull for elements bigger than viewport check element3 inner pixels to see:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;true&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&lt;div class=&quot;snippet-display&quot; style=&quot;vertical-align: center&quot;&gt;&lt;p&gt;&lt;a class=&quot;snippet-show-link-chevron&quot;&gt;&lt;span class=&quot;expander-arrow-hide&quot; style=&quot;vertical-align: middle;&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;a class=&quot;snippet-show-link&quot;&gt;&lt;span class=&quot;show-hide&quot; data-ishidden=&quot;true&quot; style=&quot;vertical-align: middle&quot;&gt;Show code snippet&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;\n&lt;div class=&quot;snippet-code snippet-currently-hidden&quot; style=&quot;display: none;&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isVisible&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;element, parent, crossSearchAlgorithm&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; rect = element.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;(),\n            prect = (parent != &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;) ? parent.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;() : element.&lt;span class=&quot;hljs-property&quot;&gt;parentNode&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;(),\n        csa = (crossSearchAlgorithm != &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;) ? crossSearchAlgorithm : &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n        efp = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;x, y&lt;/span&gt;) { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;elementFromPoint&lt;/span&gt;(x, y) };\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Return false if it&apos;s not in the viewport&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; &amp;lt; prect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; || rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;lt; prect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; || rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;gt; prect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; || rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;gt; prect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; flag = &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Return true if left to right any border pixel reached&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; x = rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;; x &amp;lt; rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;; x++) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (element.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;efp&lt;/span&gt;(rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;, x)) || element.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;efp&lt;/span&gt;(rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;, x))) {\n        flag = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n      }\n    }\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Return true if top to bottom any border pixel reached&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (flag == &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; y = rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;; y &amp;lt; rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;; y++) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (element.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;efp&lt;/span&gt;(rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;, y)) || element.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;efp&lt;/span&gt;(rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;, y))) {\n          flag = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n          &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n        }\n      }\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(csa) {\n      &lt;span class=&quot;hljs-comment&quot;&gt;// Another algorithm to check if element is centered and bigger than viewport&lt;/span&gt;\n      &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (flag == &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; x = rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; y = rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// From top left to bottom right&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt;(x &amp;lt; rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; || y &amp;lt; rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;) {\n          &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (element.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;efp&lt;/span&gt;(x,y))) {\n            flag = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n          }\n          &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(x &amp;lt; rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;) { x++; }\n          &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(y &amp;lt; rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;) { y++; }\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (flag == &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;) {\n          x = rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;;\n          y = rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;;\n          &lt;span class=&quot;hljs-comment&quot;&gt;// From top right to bottom left&lt;/span&gt;\n          &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt;(x &amp;gt; rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; || y &amp;lt; rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (element.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;efp&lt;/span&gt;(x,y))) {\n              flag = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n              &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n            }\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(x &amp;gt; rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;) { x--; }\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(y &amp;lt; rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;) { y++; }\n          }\n        }\n      }\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; flag;\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Check multiple elements visibility&lt;/span&gt;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;container&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;scroll&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; elementList = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementsByClassName&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;element&quot;&lt;/span&gt;);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt; = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;console&apos;&lt;/span&gt;);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; elementList.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i++) {\n      &lt;span class=&quot;hljs-comment&quot;&gt;// I did not define parent, so it will be element&apos;s parent&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;isVisible&lt;/span&gt;(elementList[i])) {\n          &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHTML&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Element with id[&quot;&lt;/span&gt; + elementList[i].&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt; + &lt;span class=&quot;hljs-string&quot;&gt;&quot;] is visible!&quot;&lt;/span&gt;;\n      &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHTML&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Element with id[&quot;&lt;/span&gt; + elementList[i].&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt; + &lt;span class=&quot;hljs-string&quot;&gt;&quot;] is hidden!&quot;&lt;/span&gt;;\n    }\n  }\n});\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Dynamically added elements&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i=&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;; i &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;; i++) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; newElement = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;createElement&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;div&quot;&lt;/span&gt;);\n  newElement.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;element&quot;&lt;/span&gt; + i;\n  newElement.&lt;span class=&quot;hljs-property&quot;&gt;classList&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;add&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;element&quot;&lt;/span&gt;);\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;container&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;appendChild&lt;/span&gt;(newElement);\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#console&lt;/span&gt; { &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: yellow; }\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#container&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;300px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;100px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: lightblue;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;overflow-y&lt;/span&gt;: auto;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding-top&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;150px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;45px&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.element&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;400px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;400px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;320px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: green;\n}\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#element3&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;: relative;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;40px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;720px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;520px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: green;\n}\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#element3&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;::before&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;content&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;: absolute;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;top&lt;/span&gt;: -&lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;left&lt;/span&gt;: -&lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;740px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;540px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt; dotted green;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: transparent;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;console&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;container&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;element1&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;element&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;element2&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;element&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;element3&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;element&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif3&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;You see, when you are &lt;strong&gt;inside the element3&lt;/strong&gt; it fails to tell if it&apos;s visible or not, because we are only checking if the element is visible from &lt;strong&gt;sides&lt;/strong&gt; or &lt;strong&gt;corners&lt;/strong&gt;.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;And this one includes &lt;code&gt;crossSearchAlgorithm&lt;/code&gt; which allows you to still return &lt;code&gt;visible&lt;/code&gt; when the element is bigger than the viewport:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;true&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&lt;div class=&quot;snippet-display&quot; style=&quot;vertical-align: center&quot;&gt;&lt;p&gt;&lt;a class=&quot;snippet-show-link-chevron&quot;&gt;&lt;span class=&quot;expander-arrow-hide&quot; style=&quot;vertical-align: middle;&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;a class=&quot;snippet-show-link&quot;&gt;&lt;span class=&quot;show-hide&quot; data-ishidden=&quot;true&quot; style=&quot;vertical-align: middle&quot;&gt;Show code snippet&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;\n&lt;div class=&quot;snippet-code snippet-currently-hidden&quot; style=&quot;display: none;&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isVisible&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;element, parent, crossSearchAlgorithm&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; rect = element.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;(),\n            prect = (parent != &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;) ? parent.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;() : element.&lt;span class=&quot;hljs-property&quot;&gt;parentNode&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;(),\n        csa = (crossSearchAlgorithm != &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;) ? crossSearchAlgorithm : &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;,\n        efp = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;x, y&lt;/span&gt;) { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;elementFromPoint&lt;/span&gt;(x, y) };\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Return false if it&apos;s not in the viewport&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; &amp;lt; prect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; || rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;lt; prect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; || rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;gt; prect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; || rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;gt; prect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; flag = &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Return true if left to right any border pixel reached&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; x = rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;; x &amp;lt; rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;; x++) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (element.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;efp&lt;/span&gt;(rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;, x)) || element.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;efp&lt;/span&gt;(rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;, x))) {\n        flag = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n      }\n    }\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Return true if top to bottom any border pixel reached&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (flag == &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; y = rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;; y &amp;lt; rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;; y++) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (element.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;efp&lt;/span&gt;(rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;, y)) || element.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;efp&lt;/span&gt;(rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;, y))) {\n          flag = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n          &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n        }\n      }\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(csa) {\n      &lt;span class=&quot;hljs-comment&quot;&gt;// Another algorithm to check if element is centered and bigger than viewport&lt;/span&gt;\n      &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (flag == &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; x = rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; y = rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// From top left to bottom right&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt;(x &amp;lt; rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; || y &amp;lt; rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;) {\n          &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (element.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;efp&lt;/span&gt;(x,y))) {\n            flag = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n          }\n          &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(x &amp;lt; rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;) { x++; }\n          &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(y &amp;lt; rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;) { y++; }\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (flag == &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;) {\n          x = rect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;;\n          y = rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;;\n          &lt;span class=&quot;hljs-comment&quot;&gt;// From top right to bottom left&lt;/span&gt;\n          &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt;(x &amp;gt; rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; || y &amp;lt; rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (element.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;efp&lt;/span&gt;(x,y))) {\n              flag = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n              &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n            }\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(x &amp;gt; rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;) { x--; }\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(y &amp;lt; rect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;) { y++; }\n          }\n        }\n      }\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; flag;\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Check multiple elements visibility&lt;/span&gt;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;container&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;scroll&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; elementList = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementsByClassName&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;element&quot;&lt;/span&gt;);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt; = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;console&apos;&lt;/span&gt;);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; elementList.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i++) {\n      &lt;span class=&quot;hljs-comment&quot;&gt;// I did not define parent so it will be element&apos;s parent&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// and it will do crossSearchAlgorithm&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;isVisible&lt;/span&gt;(elementList[i],&lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;,&lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;)) {\n          &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHTML&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Element with id[&quot;&lt;/span&gt; + elementList[i].&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt; + &lt;span class=&quot;hljs-string&quot;&gt;&quot;] is visible!&quot;&lt;/span&gt;;\n      &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHTML&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Element with id[&quot;&lt;/span&gt; + elementList[i].&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt; + &lt;span class=&quot;hljs-string&quot;&gt;&quot;] is hidden!&quot;&lt;/span&gt;;\n    }\n  }\n});\n&lt;span class=&quot;hljs-comment&quot;&gt;// Dynamically added elements&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i=&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;; i &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;; i++) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; newElement = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;createElement&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;div&quot;&lt;/span&gt;);\n  newElement.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;element&quot;&lt;/span&gt; + i;\n  newElement.&lt;span class=&quot;hljs-property&quot;&gt;classList&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;add&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;element&quot;&lt;/span&gt;);\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;container&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;appendChild&lt;/span&gt;(newElement);\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#console&lt;/span&gt; { &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: yellow; }\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#container&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;300px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;100px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: lightblue;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;overflow-y&lt;/span&gt;: auto;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding-top&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;150px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;45px&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.element&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;400px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;400px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;320px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: green;\n}\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#element3&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;: relative;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;40px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;720px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;520px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: green;\n}\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#element3&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;::before&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;content&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;: absolute;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;top&lt;/span&gt;: -&lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;left&lt;/span&gt;: -&lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;740px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;540px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt; dotted green;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: transparent;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;console&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;container&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;element1&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;element&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;element2&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;element&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;element3&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;element&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif4&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;JSFiddle to play with: &lt;a href=&quot;http://jsfiddle.net/BerkerYuceer/grk5az2c/&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://jsfiddle.net/BerkerYuceer/grk5az2c/&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;This code is made for more precise information if any part of the element is shown in the view or not. For performance options or only vertical slides, do not use this! This code is more effective in drawing cases.&lt;/p&gt;\n    ","\n&lt;p&gt;Here is a function that tells if an element is in visible in the current viewport of a &lt;strong&gt;parent&lt;/strong&gt; element:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;inParentViewport&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;el, pa&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; jQuery === &lt;span class=&quot;hljs-string&quot;&gt;&quot;function&quot;&lt;/span&gt;){\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (el &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; jQuery)\n            el = el[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;];\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (pa &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; jQuery)\n            pa = pa[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;];\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; e = el.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; p = pa.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (\n        e.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;gt;= p.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;amp;&amp;amp;\n        e.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; &amp;gt;= p.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;amp;&amp;amp;\n        e.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;lt;= p.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;amp;&amp;amp;\n        e.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;lt;= p.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;\n    );\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;A better solution:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;function getViewportSize(w) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; w = w || window;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(w.innerWidth != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;)\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; {w:w.innerWidth, h:w.innerHeight};\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; d = w.document;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (document.compatMode == &lt;span class=&quot;hljs-string&quot;&gt;&quot;CSS1Compat&quot;&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; {\n            w: d.documentElement.clientWidth,\n            h: d.documentElement.clientHeight\n        };\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; { w: d.body.clientWidth, h: d.body.clientWidth };\n}\n\n\nfunction isViewportVisible(e) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; box = e.getBoundingClientRect();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; height = box.height || (box.bottom - box.top);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; width = box.width || (box.right - box.left);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; viewport = getViewportSize();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(!height || !width)\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(box.top &amp;gt; viewport.h || box.bottom &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(box.right &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; || box.left &amp;gt; viewport.w)\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I had the same question and figured it out by using getBoundingClientRect().&lt;/p&gt;\n\n&lt;p&gt;This code is completely &apos;generic&apos; and only has to be written once for it to work (you don&apos;t have to write it out for each element that you want to know is in the viewport).&lt;/p&gt;\n\n&lt;p&gt;This code only checks to see if it is vertically in the viewport, &lt;strong&gt;not horizontally&lt;/strong&gt;. In this case, the variable (array) &apos;elements&apos; holds all the elements that you are checking to be vertically in the viewport, so grab any elements you want anywhere and store them there.&lt;/p&gt;\n\n&lt;p&gt;The &apos;for loop&apos;, loops through each element and checks to see if it is vertically in the viewport. This code executes &lt;strong&gt;every time&lt;/strong&gt; the user scrolls! If the getBoudingClientRect().top is less than 3/4 the viewport (the element is one quarter in the viewport), it registers as &apos;in the viewport&apos;.&lt;/p&gt;\n\n&lt;p&gt;Since the code is generic, you will want to know &apos;which&apos; element is in the viewport. To find that out, you can determine it by custom attribute, node name, id, class name, and more.&lt;/p&gt;\n\n&lt;p&gt;Here is my code (tell me if it doesn&apos;t work; it has been tested in Internet&amp;nbsp;Explorer&amp;nbsp;11, Firefox 40.0.3, Chrome Version 45.0.2454.85 m, Opera 31.0.1889.174, and Edge with Windows 10, [not Safari yet])...&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// Scrolling handlers...&lt;/span&gt;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;onscroll&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; elements = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;whatever&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;getElementsByClassName&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;whatever&apos;&lt;/span&gt;);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i != elements.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i++)\n  {\n   &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(elements[i].&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;().&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;lt;= &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt;*&lt;span class=&quot;hljs-number&quot;&gt;0.75&lt;/span&gt; &amp;amp;&amp;amp;\n      elements[i].&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;().&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n   {\n      &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(elements[i].&lt;span class=&quot;hljs-property&quot;&gt;nodeName&lt;/span&gt; + &lt;span class=&quot;hljs-string&quot;&gt;&apos; &apos;&lt;/span&gt; +\n                  elements[i].&lt;span class=&quot;hljs-property&quot;&gt;className&lt;/span&gt; + &lt;span class=&quot;hljs-string&quot;&gt;&apos; &apos;&lt;/span&gt; +\n                  elements[i].&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt; +\n                  &lt;span class=&quot;hljs-string&quot;&gt;&apos; is in the viewport; proceed with whatever code you want to do here.&apos;&lt;/span&gt;);\n   }\n};\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;As simple as it can get, IMO:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isVisible&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;elem&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; coords = elem.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Math&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;abs&lt;/span&gt;(coords.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;) &amp;lt;= coords.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;This checks if an element is at least partially in view (vertical dimension):&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;inView&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;element&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; box = element.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;inViewBox&lt;/span&gt;(box);\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;inViewBox&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;box&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; ((box.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) || (box.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-title function_&quot;&gt;getWindowSize&lt;/span&gt;().&lt;span class=&quot;hljs-property&quot;&gt;h&lt;/span&gt;)) ? &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt; : &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n}\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;getWindowSize&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; { &lt;span class=&quot;hljs-attr&quot;&gt;w&lt;/span&gt;: &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;body&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;offsetWidth&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;offsetWidth&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerWidth&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;h&lt;/span&gt;: &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;body&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;offsetHeight&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;offsetHeight&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt;}\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;This is the easy and small solution that has worked for me.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Example&lt;/strong&gt;: You want to see if the element is visible in the parent element that has overflow scroll.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$(&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;on&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;scroll&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n\n     &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; container = $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#sidebar&apos;&lt;/span&gt;);\n     &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; containerHeight = container.&lt;span class=&quot;hljs-title function_&quot;&gt;height&lt;/span&gt;();\n     &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; scrollPosition = $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#row1&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;offset&lt;/span&gt;().&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; - container.&lt;span class=&quot;hljs-title function_&quot;&gt;offset&lt;/span&gt;().&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;;\n\n     &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (containerHeight &amp;lt; scrollPosition) {\n         &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;not visible&apos;&lt;/span&gt;);\n     } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n         &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;visible&apos;&lt;/span&gt;);\n     }\n})\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;All the answers here are determining if the element is fully contained within the viewport, not just visible in some way. For example, if only half of an image is visible at the bottom of the view, the solutions here will fail, considering that &quot;outside&quot;.&lt;/p&gt;\n\n&lt;p&gt;I had a use case where I&apos;m doing lazy loading via &lt;code&gt;IntersectionObserver&lt;/code&gt;, but due to animations that occur during pop-in, I didn&apos;t want to observe any images that were &lt;em&gt;already&lt;/em&gt; intersected on page load. To do that, I used the following code:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; bounding = el.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; isVisible = (&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;lt; bounding.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;amp;&amp;amp; bounding.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;lt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientHeight&lt;/span&gt;)) ||\n        (&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;lt; bounding.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;amp;&amp;amp; bounding.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;lt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientHeight&lt;/span&gt;));\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This is basically checking to see if either the top or bottom bound is independently in the viewport. The opposite end may be outside, but as long as one end is in, it&apos;s &quot;visible&quot; at least partially.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/E8ETh.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/E8ETh.png&quot; alt=&quot;ViewportInfo&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;/**\n * Returns Element placement information in Viewport\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@link&lt;/span&gt; https://stackoverflow.com/a/70476497/2453148\n *\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@typedef&lt;/span&gt; {&lt;span class=&quot;hljs-type&quot;&gt;object&lt;/span&gt;} &lt;span class=&quot;hljs-variable&quot;&gt;ViewportInfo&lt;/span&gt; - Whether the element is\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@property&lt;/span&gt; {&lt;span class=&quot;hljs-type&quot;&gt;boolean&lt;/span&gt;} &lt;span class=&quot;hljs-variable&quot;&gt;isInViewport&lt;/span&gt; - fully or partially in the viewport\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@property&lt;/span&gt; {&lt;span class=&quot;hljs-type&quot;&gt;boolean&lt;/span&gt;} &lt;span class=&quot;hljs-variable&quot;&gt;isPartiallyInViewport&lt;/span&gt; - partially in the viewport\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@property&lt;/span&gt; {&lt;span class=&quot;hljs-type&quot;&gt;boolean&lt;/span&gt;} &lt;span class=&quot;hljs-variable&quot;&gt;isInsideViewport&lt;/span&gt; - fully inside viewport\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@property&lt;/span&gt; {&lt;span class=&quot;hljs-type&quot;&gt;boolean&lt;/span&gt;} &lt;span class=&quot;hljs-variable&quot;&gt;isAroundViewport&lt;/span&gt; - completely covers the viewport\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@property&lt;/span&gt; {&lt;span class=&quot;hljs-type&quot;&gt;boolean&lt;/span&gt;} &lt;span class=&quot;hljs-variable&quot;&gt;isOnEdge&lt;/span&gt; - intersects the edge of viewport\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@property&lt;/span&gt; {&lt;span class=&quot;hljs-type&quot;&gt;boolean&lt;/span&gt;} &lt;span class=&quot;hljs-variable&quot;&gt;isOnTopEdge&lt;/span&gt; - intersects the top edge\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@property&lt;/span&gt; {&lt;span class=&quot;hljs-type&quot;&gt;boolean&lt;/span&gt;} &lt;span class=&quot;hljs-variable&quot;&gt;isOnRightEdge&lt;/span&gt; - intersects the right edge\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@property&lt;/span&gt; {&lt;span class=&quot;hljs-type&quot;&gt;boolean&lt;/span&gt;} &lt;span class=&quot;hljs-variable&quot;&gt;isOnBottomEdge&lt;/span&gt; - is intersects the bottom edge\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@property&lt;/span&gt; {&lt;span class=&quot;hljs-type&quot;&gt;boolean&lt;/span&gt;} &lt;span class=&quot;hljs-variable&quot;&gt;isOnLeftEdge&lt;/span&gt; - is intersects the left edge\n *\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; el Element\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@return&lt;/span&gt; {&lt;span class=&quot;hljs-type&quot;&gt;Object&lt;/span&gt;} &lt;span class=&quot;hljs-variable&quot;&gt;ViewportInfo&lt;/span&gt;\n */&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;getElementViewportInfo&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;el&lt;/span&gt;) {\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; result = {};\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; rect = el.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; windowHeight = &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientHeight&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; windowWidth  = &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerWidth&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;clientWidth&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; insideX = rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; + rect.&lt;span class=&quot;hljs-property&quot;&gt;width&lt;/span&gt; &amp;lt;= windowWidth;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; insideY = rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; + rect.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt; &amp;lt;= windowHeight;\n\n    result.&lt;span class=&quot;hljs-property&quot;&gt;isInsideViewport&lt;/span&gt; = insideX &amp;amp;&amp;amp; insideY;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; aroundX = rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; + rect.&lt;span class=&quot;hljs-property&quot;&gt;width&lt;/span&gt; &amp;gt; windowWidth;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; aroundY = rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; + rect.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt; &amp;gt; windowHeight;\n\n    result.&lt;span class=&quot;hljs-property&quot;&gt;isAroundViewport&lt;/span&gt; = aroundX &amp;amp;&amp;amp; aroundY;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; onTop    = rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; + rect.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; onRight  = rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;lt; windowWidth &amp;amp;&amp;amp; rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; + rect.&lt;span class=&quot;hljs-property&quot;&gt;width&lt;/span&gt; &amp;gt; windowWidth;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; onLeft   = rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; rect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; + rect.&lt;span class=&quot;hljs-property&quot;&gt;width&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; onBottom = rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;lt; windowHeight &amp;amp;&amp;amp; rect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; + rect.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt; &amp;gt; windowHeight;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; onY = insideY || aroundY || onTop || onBottom;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; onX = insideX || aroundX || onLeft || onRight;\n\n    result.&lt;span class=&quot;hljs-property&quot;&gt;isOnTopEdge&lt;/span&gt;    = onTop &amp;amp;&amp;amp; onX;\n    result.&lt;span class=&quot;hljs-property&quot;&gt;isOnRightEdge&lt;/span&gt;  = onRight &amp;amp;&amp;amp; onY;\n    result.&lt;span class=&quot;hljs-property&quot;&gt;isOnBottomEdge&lt;/span&gt; = onBottom &amp;amp;&amp;amp; onX;\n    result.&lt;span class=&quot;hljs-property&quot;&gt;isOnLeftEdge&lt;/span&gt;   = onLeft &amp;amp;&amp;amp; onY;\n\n    result.&lt;span class=&quot;hljs-property&quot;&gt;isOnEdge&lt;/span&gt; = result.&lt;span class=&quot;hljs-property&quot;&gt;isOnLeftEdge&lt;/span&gt; || result.&lt;span class=&quot;hljs-property&quot;&gt;isOnRightEdge&lt;/span&gt; ||\n        result.&lt;span class=&quot;hljs-property&quot;&gt;isOnTopEdge&lt;/span&gt; || result.&lt;span class=&quot;hljs-property&quot;&gt;isOnBottomEdge&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; isInX =\n        insideX || aroundX || result.&lt;span class=&quot;hljs-property&quot;&gt;isOnLeftEdge&lt;/span&gt; || result.&lt;span class=&quot;hljs-property&quot;&gt;isOnRightEdge&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; isInY =\n        insideY || aroundY || result.&lt;span class=&quot;hljs-property&quot;&gt;isOnTopEdge&lt;/span&gt; || result.&lt;span class=&quot;hljs-property&quot;&gt;isOnBottomEdge&lt;/span&gt;;\n\n    result.&lt;span class=&quot;hljs-property&quot;&gt;isInViewport&lt;/span&gt; = isInX &amp;amp;&amp;amp; isInY;\n\n    result.&lt;span class=&quot;hljs-property&quot;&gt;isPartiallyInViewport&lt;/span&gt; =\n        result.&lt;span class=&quot;hljs-property&quot;&gt;isInViewport&lt;/span&gt; &amp;amp;&amp;amp; result.&lt;span class=&quot;hljs-property&quot;&gt;isOnEdge&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; result;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I use this function (it only checks if the y is inscreen since most of the time the x is not needed)  &lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;elementInViewport&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;el&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; elinfo = {\n        &lt;span class=&quot;hljs-string&quot;&gt;&quot;top&quot;&lt;/span&gt;:el.&lt;span class=&quot;hljs-property&quot;&gt;offsetTop&lt;/span&gt;,\n        &lt;span class=&quot;hljs-string&quot;&gt;&quot;height&quot;&lt;/span&gt;:el.&lt;span class=&quot;hljs-property&quot;&gt;offsetHeight&lt;/span&gt;,\n    };\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (elinfo.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; + elinfo.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt; &amp;lt; &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;pageYOffset&lt;/span&gt; || elinfo.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;pageYOffset&lt;/span&gt; + &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n    }\n\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Here is a snippet to check if the given element is fully visible in its parent:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;visibleInParentViewport&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;el&lt;/span&gt;) =&amp;gt; {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; elementRect = el.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n  &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; parentRect = el.&lt;span class=&quot;hljs-property&quot;&gt;parentNode&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (\n    elementRect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;gt;= parentRect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;amp;&amp;amp;\n    elementRect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; &amp;gt;= parentRect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;amp;&amp;amp;\n    elementRect.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; + elementRect.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt; &amp;lt;= parentRect.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;amp;&amp;amp;\n    elementRect.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; + elementRect.&lt;span class=&quot;hljs-property&quot;&gt;width&lt;/span&gt; &amp;lt;= parentRect.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;\n  );\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Domysee&apos;s answer &lt;a href=&quot;https://stackoverflow.com/a/37998526&quot;&gt;https://stackoverflow.com/a/37998526&lt;/a&gt; is close to correct.&lt;/p&gt;\n&lt;p&gt;Many examples use &quot;completely contained in the viewport&quot; and his code uses percentages to allow for partially visible.  His code also addresses the &quot;is a parent clipping the view&quot; question, which most examples ignore.&lt;/p&gt;\n&lt;p&gt;One missing element is the impact of the parent&apos;s scrollbars - &lt;code&gt;getBoundingClientRect&lt;/code&gt; returns the outer rectangle of the parent, which includes the scroll bars, not the inner rectangle, which doesn&apos;t.  A child can hide behind the parent scroll bar and be considered visible when it isn&apos;t.&lt;/p&gt;\n&lt;p&gt;The recommended observer pattern isn&apos;t appropriate for my use case: using the arrow keys to change the currently selected row in a table, and make sure the new selection is visible.  Using an observer for this would be excessively convoluted.&lt;/p&gt;\n&lt;p&gt;Here&apos;s some code -&lt;/p&gt;\n&lt;p&gt;it includes an additional hack (&lt;code&gt;fudgeY&lt;/code&gt;) because my table has a sticky header that isn&apos;t detectable by straightforward means (and handling this automatically would be pretty tedious).  Also, it uses decimal (0 to 1) instead of percentage for the required visible fraction.  (For my case I need full y, and x isn&apos;t relevant).&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;intersectRect&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;r1, r2&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; r = {};\n    r.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; = r1.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;lt; r2.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; ? r2.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; : r1.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;;\n    r.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; = r1.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;lt; r2.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; ? r2.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; : r1.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;;\n    r.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; = r1.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; &amp;lt; r2.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; ? r1.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; : r2.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;;\n    r.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; = r1.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; &amp;lt; r2.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; ? r1.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; : r2.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (r.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; &amp;lt; r.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; &amp;amp;&amp;amp; r.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; &amp;lt; r.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;)\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; r;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;innerRect&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;e&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; b,r;\n    b = e.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n    r = {};\n    r.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; = b.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;;\n    r.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; = b.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;;\n    r.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt; = b.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt; + e.&lt;span class=&quot;hljs-property&quot;&gt;clientWidth&lt;/span&gt;;\n    r.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt; = b.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; + e.&lt;span class=&quot;hljs-property&quot;&gt;clientHeight&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; r;\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isViewable&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;e, fracX, fracY, fudgeY&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-comment&quot;&gt;// ref https://stackoverflow.com/a/37998526&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// intersect all the rects and then check the result once&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// innerRect: mind the scroll bars&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// fudgeY: handle &quot;sticky&quot; thead in parent table.  Ugh.&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; r, pr, er;\n\n    er = e.&lt;span class=&quot;hljs-title function_&quot;&gt;getBoundingClientRect&lt;/span&gt;();\n    r = er;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (;;) {\n        e = e.&lt;span class=&quot;hljs-property&quot;&gt;parentElement&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!e)\n            &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n        pr = &lt;span class=&quot;hljs-title function_&quot;&gt;innerRect&lt;/span&gt;(e);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (fudgeY)\n            pr.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt; += fudgeY;\n        r = &lt;span class=&quot;hljs-title function_&quot;&gt;intersectRect&lt;/span&gt;(r, pr);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!r)\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (fracX &amp;amp;&amp;amp; ((r.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;-r.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;) / (er.&lt;span class=&quot;hljs-property&quot;&gt;right&lt;/span&gt;-er.&lt;span class=&quot;hljs-property&quot;&gt;left&lt;/span&gt;)) &amp;lt; (fracX-&lt;span class=&quot;hljs-number&quot;&gt;0.001&lt;/span&gt;))\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (fracY &amp;amp;&amp;amp; ((r.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;-r.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;) / (er.&lt;span class=&quot;hljs-property&quot;&gt;bottom&lt;/span&gt;-er.&lt;span class=&quot;hljs-property&quot;&gt;top&lt;/span&gt;)) &amp;lt; (fracY-&lt;span class=&quot;hljs-number&quot;&gt;0.001&lt;/span&gt;))\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;For a similar challenge, I really enjoyed &lt;a href=&quot;https://gist.github.com/hsablonniere/2581101&quot; rel=&quot;nofollow noreferrer&quot;&gt;this gist&lt;/a&gt; which exposes a polyfill for &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoViewIfNeeded&quot; rel=&quot;nofollow noreferrer&quot;&gt;scrollIntoViewIfNeeded()&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;All the necessary Kung Fu needed to answer is within this block:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; parent = &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.parentNode,\n    parentComputedStyle = window.getComputedStyle(parent, &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;),\n    parentBorderTopWidth = parseInt(parentComputedStyle.getPropertyValue(&lt;span class=&quot;hljs-string&quot;&gt;&apos;border-top-width&apos;&lt;/span&gt;)),\n    parentBorderLeftWidth = parseInt(parentComputedStyle.getPropertyValue(&lt;span class=&quot;hljs-string&quot;&gt;&apos;border-left-width&apos;&lt;/span&gt;)),\n    overTop = &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.offsetTop - parent.offsetTop &amp;lt; parent.scrollTop,\n    overBottom = (&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.offsetTop - parent.offsetTop + &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.clientHeight - parentBorderTopWidth) &amp;gt; (parent.scrollTop + parent.clientHeight),\n    overLeft = &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.offsetLeft - parent.offsetLeft &amp;lt; parent.scrollLeft,\n    overRight = (&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.offsetLeft - parent.offsetLeft + &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.clientWidth - parentBorderLeftWidth) &amp;gt; (parent.scrollLeft + parent.clientWidth),\n    alignWithTop = overTop &amp;amp;&amp;amp; !overBottom;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;code&gt;this&lt;/code&gt; refers to the element that you want to know if it is, for example, &lt;code&gt;overTop&lt;/code&gt; or &lt;code&gt;overBottom&lt;/code&gt; - you just should get the drift...&lt;/p&gt;\n    "]},"randomTags":[{"name":"variadic-functions","slug":"variadic-functions"},{"name":"friendly-url","slug":"friendly-url"},{"name":"uuid","slug":"uuid"},{"name":"user-interface","slug":"user-interface"},{"name":"regex-greedy","slug":"regex-greedy"},{"name":"threetenabp","slug":"threetenabp"},{"name":"idioms","slug":"idioms"},{"name":"pinterest","slug":"pinterest"},{"name":"delayedvariableexpansion","slug":"delayedvariableexpansion"},{"name":"pass-by-reference","slug":"pass-by-reference"},{"name":"metaclass","slug":"metaclass"},{"name":"twitter-bootstrap","slug":"twitter-bootstrap"},{"name":"extern","slug":"extern"},{"name":"sql-function","slug":"sql-function"},{"name":"interop","slug":"interop"},{"name":"eval","slug":"eval"},{"name":"text-files","slug":"text-files"},{"name":"dom-traversal","slug":"dom-traversal"},{"name":"non-static","slug":"non-static"},{"name":"char","slug":"char"}]},"__N_SSG":true}