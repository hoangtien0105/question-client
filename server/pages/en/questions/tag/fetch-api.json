{"pageProps":{"data":{"count":1,"rows":[{"id":321,"title":"No 'Access-Control-Allow-Origin' header is present on the requested resourceâ€”when trying to get data from a REST API","slug":"no-'access-control-allow-origin'-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467","postType":"QUESTION","createdAt":"2022-07-09T17:27:08.000Z","updatedAt":"2022-07-09T17:27:08.000Z","tags":[{"id":1873,"name":"fetch-api","slug":"fetch-api","createdAt":"2022-07-09T17:27:08.000Z","updatedAt":"2022-07-09T17:27:08.000Z","Questions_Tags":{"questionId":321,"tagId":1873}}]}]},"slug":"fetch-api","page":1,"answers":{"321":["\n&lt;p&gt;This answer covers a lot of ground, so its divided into three parts:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;How to use a CORS proxy to avoid &lt;em&gt;No Access-Control-Allow-Origin header&lt;/em&gt; problems&lt;/li&gt;\n&lt;li&gt;How to avoid the CORS preflight&lt;/li&gt;\n&lt;li&gt;How to fix &lt;em&gt;Access-Control-Allow-Origin header must not be the wildcard&lt;/em&gt; problems&lt;/li&gt;\n&lt;/ul&gt;\n&lt;hr&gt;\n&lt;p&gt;&lt;strong&gt;How to use a CORS proxy to avoid &lt;em&gt;No Access-Control-Allow-Origin header&lt;/em&gt; problems&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;If you dont control the server your frontend code is sending a request to, and the problem with the response from that server is just the lack of the necessary &lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt; header, you can still get things to workby making the request through a CORS proxy.&lt;/p&gt;\n&lt;p&gt;You can easily run your own proxy with code from &lt;a href=&quot;https://github.com/Rob--W/cors-anywhere/&quot; rel=&quot;noreferrer&quot;&gt;https://github.com/Rob--W/cors-anywhere/&lt;/a&gt;.&lt;br&gt;\nYou can also easily deploy your own proxy to Heroku in just 2-3 minutes, with 5 commands:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;git clone &lt;span class=&quot;hljs-attr&quot;&gt;https&lt;/span&gt;:&lt;span class=&quot;hljs-comment&quot;&gt;//github.com/Rob--W/cors-anywhere.git&lt;/span&gt;\ncd cors-anywhere/\nnpm install\nheroku create\ngit push heroku master\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;After running those commands, youll end up with your own CORS Anywhere server running at, e.g., &lt;code&gt;https://cryptic-headland-94862.herokuapp.com/&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;Now, prefix your request URL with the URL for your proxy:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-attr&quot;&gt;https&lt;/span&gt;:&lt;span class=&quot;hljs-comment&quot;&gt;//cryptic-headland-94862.herokuapp.com/https://example.com&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Adding the proxy URL as a prefix causes the request to get made through your proxy, which:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;Forwards the request to &lt;code&gt;https://example.com&lt;/code&gt;.&lt;/li&gt;\n&lt;li&gt;Receives the response from &lt;code&gt;https://example.com&lt;/code&gt;.&lt;/li&gt;\n&lt;li&gt;Adds the &lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt; header to the response.&lt;/li&gt;\n&lt;li&gt;Passes that response, with that added header, back to the requesting frontend code.&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;The browser then allows the frontend code to access the response, because that response with the &lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt; response header is what the browser sees.&lt;/p&gt;\n&lt;p&gt;This works even if the request is one that triggers browsers to do a CORS preflight &lt;code&gt;OPTIONS&lt;/code&gt; request, because in that case, the proxy also sends the &lt;code&gt;Access-Control-Allow-Headers&lt;/code&gt; and &lt;code&gt;Access-Control-Allow-Methods&lt;/code&gt; headers needed to make the preflight succeed.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;&lt;strong&gt;How to avoid the CORS preflight&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;The code in the question triggers a CORS preflightsince it sends an &lt;code&gt;Authorization&lt;/code&gt; header.&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/docs/Web/HTTP/Access_control_CORS#Preflighted_requests&quot; rel=&quot;noreferrer&quot;&gt;https://developer.mozilla.org/docs/Web/HTTP/Access_control_CORS#Preflighted_requests&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Even without that, the &lt;code&gt;Content-Type: application/json&lt;/code&gt; header will also trigger a preflight.&lt;/p&gt;\n&lt;p&gt;What preflight means: before the browser tries the &lt;code&gt;POST&lt;/code&gt; in the code in the question, it first sends an &lt;code&gt;OPTIONS&lt;/code&gt; request to the server, to determine if the server is opting-in to receiving a cross-origin &lt;code&gt;POST&lt;/code&gt; that has &lt;code&gt;Authorization&lt;/code&gt; and &lt;code&gt;Content-Type: application/json&lt;/code&gt; headers.&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;It works pretty well with a small curl script - I get my data.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;To properly test with &lt;code&gt;curl&lt;/code&gt;, you must emulate the preflight &lt;code&gt;OPTIONS&lt;/code&gt; the browser sends:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;curl -i -X &lt;span class=&quot;hljs-variable constant_&quot;&gt;OPTIONS&lt;/span&gt; -H &lt;span class=&quot;hljs-string&quot;&gt;&quot;Origin: http://127.0.0.1:3000&quot;&lt;/span&gt; \\\n    -H &lt;span class=&quot;hljs-string&quot;&gt;&apos;Access-Control-Request-Method: POST&apos;&lt;/span&gt; \\\n    -H &lt;span class=&quot;hljs-string&quot;&gt;&apos;Access-Control-Request-Headers: Content-Type, Authorization&apos;&lt;/span&gt; \\\n    &lt;span class=&quot;hljs-string&quot;&gt;&quot;https://the.sign_in.url&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;with &lt;code&gt;https://the.sign_in.url&lt;/code&gt; replaced by whatever your actual &lt;code&gt;sign_in&lt;/code&gt; URL is.&lt;/p&gt;\n&lt;p&gt;The response the browser needs from that &lt;code&gt;OPTIONS&lt;/code&gt; request must have headers like this:&lt;/p&gt;\n&lt;pre class=&quot;lang-none s-code-block&quot;&gt;&lt;code&gt;Access-Control-Allow-Origin:  http://127.0.0.1:3000\nAccess-Control-Allow-Methods: POST\nAccess-Control-Allow-Headers: Content-Type, Authorization\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;If the &lt;code&gt;OPTIONS&lt;/code&gt; response doesnt include those headers, the browser will stop right there and never attempt to send the &lt;code&gt;POST&lt;/code&gt; request. Also, the HTTP status code for the response must be a 2xxtypically 200 or 204. If its any other status code, the browser will stop right there.&lt;/p&gt;\n&lt;p&gt;The server in the question responds to the &lt;code&gt;OPTIONS&lt;/code&gt; request with a 501 status code, which apparently means its trying to indicate it doesnt implement support for &lt;code&gt;OPTIONS&lt;/code&gt; requests. Other servers typically respond with a 405 Method not allowed status code in this case.&lt;/p&gt;\n&lt;p&gt;So youll never be able to make &lt;code&gt;POST&lt;/code&gt; requests directly to that server from your frontend JavaScript code if the server responds to that &lt;code&gt;OPTIONS&lt;/code&gt; request with a 405 or 501 or anything other than a 200 or 204 or if doesnt respond with those necessary response headers.&lt;/p&gt;\n&lt;p&gt;The way to avoid triggering a preflight for the case in the question would be:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;if the server didnt require an &lt;code&gt;Authorization&lt;/code&gt; request header but instead, e.g., relied on authentication data embedded in the body of the &lt;code&gt;POST&lt;/code&gt; request or as a query param&lt;/li&gt;\n&lt;li&gt;if the server didnt require the &lt;code&gt;POST&lt;/code&gt; body to have a &lt;code&gt;Content-Type: application/json&lt;/code&gt; media type but instead accepted the &lt;code&gt;POST&lt;/code&gt; body as &lt;code&gt;application/x-www-form-urlencoded&lt;/code&gt; with a parameter named &lt;code&gt;json&lt;/code&gt; (or whatever) whose value is the JSON data&lt;/li&gt;\n&lt;/ul&gt;\n&lt;hr&gt;\n&lt;p&gt;&lt;strong&gt;How to fix &lt;em&gt;Access-Control-Allow-Origin header must not be the wildcard&lt;/em&gt; problems&lt;/strong&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;&lt;sub&gt;I am getting another error message:&lt;/sub&gt;&lt;/p&gt;\n&lt;p&gt;&lt;sub&gt;The value of the &apos;Access-Control-Allow-Origin&apos; header in the response&lt;/sub&gt;\n&lt;sub&gt;must not be the wildcard &apos;*&apos; when the request&apos;s credentials mode is&lt;/sub&gt;\n&lt;sub&gt;&apos;include&apos;. Origin &apos;&lt;code&gt;http://127.0.0.1:3000&lt;/code&gt;&apos; is therefore not allowed&lt;/sub&gt;\n&lt;sub&gt;access. The credentials mode of requests initiated by the&lt;/sub&gt;\n&lt;sub&gt;XMLHttpRequest is controlled by the withCredentials attribute.&lt;/sub&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;For requests that have credentials, browsers wont let your frontend JavaScript code access the response if the value of the &lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt; header is &lt;code&gt;*&lt;/code&gt;. Instead the value in that case must exactly match your frontend codes origin, &lt;code&gt;http://127.0.0.1:3000&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;See &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS#Credentialed_requests_and_wildcards&quot; rel=&quot;noreferrer&quot;&gt;&lt;em&gt;Credentialed requests and wildcards&lt;/em&gt;&lt;/a&gt; in the MDN HTTP access control (CORS) article.&lt;/p&gt;\n&lt;p&gt;If you control the server youre sending the request to, a common way to deal with this case is to configure the server to take the value of the &lt;code&gt;Origin&lt;/code&gt; request header, and echo/reflect that back into the value of the &lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt; response header; e.g., with nginx:&lt;/p&gt;\n&lt;pre class=&quot;lang-none s-code-block&quot;&gt;&lt;code&gt;add_header Access-Control-Allow-Origin $http_origin\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;But thats just an example; other (web) server systems have similar ways to echo origin values.&lt;/p&gt;\n&lt;hr&gt;\n&lt;blockquote&gt;\n&lt;p&gt;I am using Chrome. I also tried using that Chrome CORS Plugin&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;That Chrome CORS plugin apparently just simplemindedly injects an &lt;code&gt;Access-Control-Allow-Origin: *&lt;/code&gt; header into the response the browser sees. If the plugin were smarter, what it would be doing is setting the value of that fake &lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt; response header to the actual origin of your frontend JavaScript code, &lt;code&gt;http://127.0.0.1:3000&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;So avoid using that plugin, even for testing. Its just a distraction. To test what responses you get from the server with no browser filtering them, youre better off using &lt;code&gt;curl -H&lt;/code&gt; as above.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;As far as the frontend JavaScript code for the &lt;code&gt;fetch()&lt;/code&gt; request in the question:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;headers.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Access-Control-Allow-Origin&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;http://localhost:3000&apos;&lt;/span&gt;);\nheaders.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Access-Control-Allow-Credentials&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;true&apos;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Remove those lines. The &lt;code&gt;Access-Control-Allow-*&lt;/code&gt; headers are &lt;em&gt;response&lt;/em&gt; headers. You never want to send them in requests. The only effect of that is to trigger a browser to do a preflight.&lt;/p&gt;\n    ","\n&lt;p&gt;This error occurs when the client URL and server URL don&apos;t match, including the port number. In this case you need to enable your service for CORS which is cross origin resource sharing.&lt;/p&gt;\n&lt;p&gt;If you are hosting a Spring REST service then you can find it in the blog post &lt;em&gt;&lt;a href=&quot;https://spring.io/blog/2015/06/08/cors-support-in-spring-framework&quot; rel=&quot;noreferrer&quot;&gt;CORS support in Spring Framework&lt;/a&gt;&lt;/em&gt;.&lt;/p&gt;\n&lt;p&gt;If you are hosting service using a Node.js server then&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;Stop the Node.js server.&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;npm install cors --save&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;Add following lines to your server.js&lt;/li&gt;\n&lt;/ol&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; cors=&lt;span class=&quot;hljs-built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;cors&quot;&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; corsOptions ={\n   &lt;span class=&quot;hljs-attr&quot;&gt;origin&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;, \n   &lt;span class=&quot;hljs-attr&quot;&gt;credentials&lt;/span&gt;:&lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;,            &lt;span class=&quot;hljs-comment&quot;&gt;//access-control-allow-credentials:true&lt;/span&gt;\n   &lt;span class=&quot;hljs-attr&quot;&gt;optionSuccessStatus&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;200&lt;/span&gt;,\n}\n\napp.&lt;span class=&quot;hljs-title function_&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;cors&lt;/span&gt;(corsOptions)) &lt;span class=&quot;hljs-comment&quot;&gt;// Use this after the variable declaration&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;The problem arose because you added the following code as the &lt;em&gt;&lt;strong&gt;request&lt;/strong&gt;&lt;/em&gt; header in your front-end:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;headers.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Access-Control-Allow-Origin&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;http://localhost:3000&apos;&lt;/span&gt;);\nheaders.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Access-Control-Allow-Credentials&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;true&apos;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Those headers belong to the &lt;em&gt;&lt;strong&gt;response&lt;/strong&gt;&lt;/em&gt;, not request. So &lt;strong&gt;remove&lt;/strong&gt; them, including the line: &lt;br&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;headers.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;GET&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;POST&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;OPTIONS&apos;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Your request had &lt;code&gt;&apos;Content-Type: application/json&apos;&lt;/code&gt;, hence triggered what is called CORS preflight. This caused the browser sent the request with the OPTIONS method. See &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Preflighted_requests&quot; rel=&quot;noreferrer&quot;&gt;CORS preflight&lt;/a&gt; for detailed information.&lt;/p&gt;\n&lt;p&gt;Therefore in your &lt;strong&gt;back-end&lt;/strong&gt;, you have to handle this preflighted request by returning the response headers which include:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Access&lt;/span&gt;-&lt;span class=&quot;hljs-title class_&quot;&gt;Control&lt;/span&gt;-&lt;span class=&quot;hljs-title class_&quot;&gt;Allow&lt;/span&gt;-&lt;span class=&quot;hljs-title class_&quot;&gt;Origin&lt;/span&gt; : &lt;span class=&quot;hljs-attr&quot;&gt;http&lt;/span&gt;:&lt;span class=&quot;hljs-comment&quot;&gt;//localhost:3000&lt;/span&gt;\n&lt;span class=&quot;hljs-title class_&quot;&gt;Access&lt;/span&gt;-&lt;span class=&quot;hljs-title class_&quot;&gt;Control&lt;/span&gt;-&lt;span class=&quot;hljs-title class_&quot;&gt;Allow&lt;/span&gt;-&lt;span class=&quot;hljs-title class_&quot;&gt;Credentials&lt;/span&gt; : &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;\n&lt;span class=&quot;hljs-title class_&quot;&gt;Access&lt;/span&gt;-&lt;span class=&quot;hljs-title class_&quot;&gt;Control&lt;/span&gt;-&lt;span class=&quot;hljs-title class_&quot;&gt;Allow&lt;/span&gt;-&lt;span class=&quot;hljs-title class_&quot;&gt;Methods&lt;/span&gt; : &lt;span class=&quot;hljs-variable constant_&quot;&gt;GET&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;POST&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;OPTIONS&lt;/span&gt;\n&lt;span class=&quot;hljs-title class_&quot;&gt;Access&lt;/span&gt;-&lt;span class=&quot;hljs-title class_&quot;&gt;Control&lt;/span&gt;-&lt;span class=&quot;hljs-title class_&quot;&gt;Allow&lt;/span&gt;-&lt;span class=&quot;hljs-title class_&quot;&gt;Headers&lt;/span&gt; : &lt;span class=&quot;hljs-title class_&quot;&gt;Origin&lt;/span&gt;, &lt;span class=&quot;hljs-title class_&quot;&gt;Content&lt;/span&gt;-&lt;span class=&quot;hljs-title class_&quot;&gt;Type&lt;/span&gt;, &lt;span class=&quot;hljs-title class_&quot;&gt;Accept&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Of course, the actual syntax depends on the programming language you use for your back-end.&lt;/p&gt;\n&lt;p&gt;In your front-end, it should be like so:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;performSignIn&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; headers = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Headers&lt;/span&gt;();\n\n    headers.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Content-Type&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;application/json&apos;&lt;/span&gt;);\n    headers.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Accept&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;application/json&apos;&lt;/span&gt;);\n    headers.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Authorization&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;Basic &apos;&lt;/span&gt; + base64.&lt;span class=&quot;hljs-title function_&quot;&gt;encode&lt;/span&gt;(username + &lt;span class=&quot;hljs-string&quot;&gt;&quot;:&quot;&lt;/span&gt; +  password));\n    headers.&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Origin&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;http://localhost:3000&apos;&lt;/span&gt;);\n\n    &lt;span class=&quot;hljs-title function_&quot;&gt;fetch&lt;/span&gt;(sign_in, {\n        &lt;span class=&quot;hljs-attr&quot;&gt;mode&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;cors&apos;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;credentials&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;include&apos;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;method&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;POST&apos;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;headers&lt;/span&gt;: headers\n    })\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;then&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;response&lt;/span&gt; =&amp;gt;&lt;/span&gt; response.&lt;span class=&quot;hljs-title function_&quot;&gt;json&lt;/span&gt;())\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;then&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;json&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(json))\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;catch&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;error&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Authorization failed: &apos;&lt;/span&gt; + error.&lt;span class=&quot;hljs-property&quot;&gt;message&lt;/span&gt;));\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;In my case, I use the below solution.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Front-end or Angular&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;post&lt;/span&gt;(\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;serverUrl&lt;/span&gt;, dataObjToPost,\n    {\n      &lt;span class=&quot;hljs-attr&quot;&gt;headers&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;HttpHeaders&lt;/span&gt;({\n           &lt;span class=&quot;hljs-string&quot;&gt;&apos;Content-Type&apos;&lt;/span&gt;:  &lt;span class=&quot;hljs-string&quot;&gt;&apos;application/json&apos;&lt;/span&gt;,\n         })\n    }\n)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;back-end (I use PHP)&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;header&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Access-Control-Allow-Origin: http://localhost:4200&quot;&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_&quot;&gt;header&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Access-Control-Allow-Methods: GET, POST, OPTIONS&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_&quot;&gt;header&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Access-Control-Allow-Headers: Content-Type, Authorization&quot;&lt;/span&gt;);\n\n$postdata = &lt;span class=&quot;hljs-title function_&quot;&gt;file_get_contents&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;php://input&quot;&lt;/span&gt;);\n$request = &lt;span class=&quot;hljs-title function_&quot;&gt;json_decode&lt;/span&gt;($postdata);\n&lt;span class=&quot;hljs-title function_&quot;&gt;print_r&lt;/span&gt;($request);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Using &lt;code&gt;dataType: &apos;jsonp&apos;&lt;/code&gt; worked for me. &lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;   &lt;span class=&quot;hljs-keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;get_ajax_data&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n       &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; _reprojected_lat_lng = &lt;span class=&quot;hljs-keyword&quot;&gt;await&lt;/span&gt; $.&lt;span class=&quot;hljs-title function_&quot;&gt;ajax&lt;/span&gt;({\n                                &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;GET&apos;&lt;/span&gt;,\n                                &lt;span class=&quot;hljs-attr&quot;&gt;dataType&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;jsonp&apos;&lt;/span&gt;,\n                                &lt;span class=&quot;hljs-attr&quot;&gt;data&lt;/span&gt;: {},\n                                &lt;span class=&quot;hljs-attr&quot;&gt;url&lt;/span&gt;: _reprojection_url,\n                                &lt;span class=&quot;hljs-attr&quot;&gt;error&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;jqXHR, textStatus, errorThrown&lt;/span&gt;) {\n                                    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(jqXHR)\n                                },\n                                &lt;span class=&quot;hljs-attr&quot;&gt;success&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;) {\n                                    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(data);\n\n                                    &lt;span class=&quot;hljs-comment&quot;&gt;// note: data is already json type, you&lt;/span&gt;\n                                    &lt;span class=&quot;hljs-comment&quot;&gt;//       just specify dataType: jsonp&lt;/span&gt;\n                                    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; data;\n                                }\n                            });\n\n\n } &lt;span class=&quot;hljs-comment&quot;&gt;// function               &lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Just my two cents... regarding &lt;em&gt;How to use a CORS proxy to get around No &lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt; header problems&lt;/em&gt;&lt;/p&gt;\n&lt;p&gt;For those of you working with php at the backend, deploying a &quot;CORS proxy&quot; is as simple as:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;create a file named &apos;no-cors.php&apos; with the following content:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$URL = $_GET[&lt;span class=&quot;hljs-string&quot;&gt;&apos;url&apos;&lt;/span&gt;];\necho &lt;span class=&quot;hljs-title function_&quot;&gt;json_encode&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;file_get_contents&lt;/span&gt;($URL));\n&lt;span class=&quot;hljs-title function_&quot;&gt;die&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;on your front end, do something like:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;fetch&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;https://example.com/no-cors.php&apos;&lt;/span&gt; + &lt;span class=&quot;hljs-string&quot;&gt;&apos;?url=&apos;&lt;/span&gt; + url)\n  .&lt;span class=&quot;hljs-title function_&quot;&gt;then&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;response&lt;/span&gt;=&amp;gt;&lt;/span&gt;{*&lt;span class=&quot;hljs-regexp&quot;&gt;/Handle Response/&lt;/span&gt;*})&lt;span class=&quot;hljs-string&quot;&gt;`\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n    ","\n&lt;p&gt;Adding &lt;code&gt;mode:no-cors&lt;/code&gt; can avoid CORS issues in the API.&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;fetch&lt;/span&gt;(sign_in, {\n        &lt;span class=&quot;hljs-attr&quot;&gt;mode&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;no-cors&apos;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;credentials&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;include&apos;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;method&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;POST&apos;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;headers&lt;/span&gt;: headers\n    })\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;then&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;response&lt;/span&gt; =&amp;gt;&lt;/span&gt; response.&lt;span class=&quot;hljs-title function_&quot;&gt;json&lt;/span&gt;())\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;then&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;json&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(json))\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;catch&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;error&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Authorization failed : &apos;&lt;/span&gt; + error.&lt;span class=&quot;hljs-property&quot;&gt;message&lt;/span&gt;));\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Possible causes of CORS issues&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;Check your server-side &lt;em&gt;access&lt;/em&gt; headers: &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS&quot; rel=&quot;nofollow noreferrer&quot;&gt;Refer to this link&lt;/a&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Check what request header is received from the server in the browser. The below image shows the headers&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/jFJSk.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/jFJSk.png&quot; alt=&quot;Enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;If you are using the &lt;code&gt;fetch&lt;/code&gt; method and trying to access the cross-origin request make sure &lt;code&gt;mode:cors&lt;/code&gt; is there. Refer to this &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch&quot; rel=&quot;nofollow noreferrer&quot;&gt;link&lt;/a&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Sometimes if there is an issue in the program also you are getting the CORS issue, so make sure your code is working properly.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Make sure to handle the &lt;code&gt;OPTION&lt;/code&gt; method in your API.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;In December 2021, Chrome 97, the &lt;code&gt;Authorization: Bearer ...&lt;/code&gt; is not allowed unless it is in the &lt;code&gt;Access-Control-Allow-Headers&lt;/code&gt; preflight response (ignores &lt;code&gt;*&lt;/code&gt;).  It produced this warning:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;[&lt;span class=&quot;hljs-title class_&quot;&gt;Deprecation&lt;/span&gt;] authorization will not be covered by the wildcard symbol (*)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;See: &lt;em&gt;&lt;a href=&quot;https://support.google.com/chrome/a/answer/7679408#corsAuthMis&quot; rel=&quot;nofollow noreferrer&quot;&gt;Chrome Enterprise release notes, Chrome 97&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;\n&lt;p&gt;It also appears to enforce the same restriction on &lt;code&gt;*&lt;/code&gt; on &lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt;.  If you want to revive &lt;code&gt;*&lt;/code&gt;-like behavior now that it is blocked, you&apos;ll likely have to read the requester&apos;s origin and return it as the allowed origin in the preflight response.&lt;/p&gt;\n&lt;p&gt;In some cases, a library may drop the &lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt; response header when there is some other invalid credential (example: an expired &lt;a href=&quot;https://en.wikipedia.org/wiki/JSON_Web_Token&quot; rel=&quot;nofollow noreferrer&quot;&gt;JWT&lt;/a&gt;).  Then, the browser shows the &quot;No &apos;Access-Control-Allow-Origin&apos; header is present&quot; error instead of the actual error (which in this example could be an expired JWT).  Be sure that your library doesn&apos;t drop the header and confuse the client.&lt;/p&gt;\n    ","\n&lt;p&gt;If your API is written in &lt;code&gt;ASP.NET Core&lt;/code&gt;, then please follow the below steps:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;Install the &lt;em&gt;Microsoft.AspNetCore.Cors&lt;/em&gt; package.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Add the below line in the ConfigureServices method in file &lt;em&gt;Startup.cs&lt;/em&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;services.&lt;span class=&quot;hljs-title class_&quot;&gt;AddCors&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Add the below line in the &lt;em&gt;Configure&lt;/em&gt; method in file &lt;em&gt;startup.cs&lt;/em&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;app.&lt;span class=&quot;hljs-title class_&quot;&gt;UseCors&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;options&lt;/span&gt; =&amp;gt;&lt;/span&gt;\n     options.&lt;span class=&quot;hljs-title class_&quot;&gt;WithOrigins&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://localhost:8080&quot;&lt;/span&gt;)\n            .&lt;span class=&quot;hljs-title class_&quot;&gt;AllowAnyHeader&lt;/span&gt;()\n            .&lt;span class=&quot;hljs-title class_&quot;&gt;AllowAnyMethod&lt;/span&gt;());\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Make sure you add this after - &lt;code&gt;app.UseRouting();&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;Refer to the below image(from MSDN) to see the middleware order:&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/vQ4yT.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://i.stack.imgur.com/vQ4yT.png&lt;/a&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;With &lt;a href=&quot;https://en.wikipedia.org/wiki/Node.js&quot; rel=&quot;nofollow noreferrer&quot;&gt;Node.js&lt;/a&gt;, if you are using routers, make sure to add CORS before the routers. Otherwise, you&apos;ll still get the CORS error. Like below:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; cors = &lt;span class=&quot;hljs-built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;cors&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; userRouter = &lt;span class=&quot;hljs-built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;./routers/user&apos;&lt;/span&gt;);\n\nexpressApp = &lt;span class=&quot;hljs-title function_&quot;&gt;express&lt;/span&gt;();\nexpressApp.&lt;span class=&quot;hljs-title function_&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;cors&lt;/span&gt;());\nexpressApp.&lt;span class=&quot;hljs-title function_&quot;&gt;use&lt;/span&gt;(express.&lt;span class=&quot;hljs-title function_&quot;&gt;json&lt;/span&gt;());\nexpressApp.&lt;span class=&quot;hljs-title function_&quot;&gt;use&lt;/span&gt;(userRouter);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;In case you are using &lt;a href=&quot;https://en.wikipedia.org/wiki/Node.js&quot; rel=&quot;nofollow noreferrer&quot;&gt;Node.js&lt;/a&gt; and &lt;a href=&quot;https://en.wikipedia.org/wiki/Express.js&quot; rel=&quot;nofollow noreferrer&quot;&gt;Express.js&lt;/a&gt; as the back-end and &lt;a href=&quot;https://en.wikipedia.org/wiki/React_(web_framework)&quot; rel=&quot;nofollow noreferrer&quot;&gt;React&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://github.com/mzabriskie/axios&quot; rel=&quot;nofollow noreferrer&quot;&gt;Axios&lt;/a&gt; as the front-end within a development environment in &lt;a href=&quot;https://en.wikipedia.org/wiki/MacOS&quot; rel=&quot;nofollow noreferrer&quot;&gt;macOS&lt;/a&gt;, you need to run both sides under &lt;a href=&quot;https://en.wikipedia.org/wiki/HTTPS&quot; rel=&quot;nofollow noreferrer&quot;&gt;HTTPS&lt;/a&gt;. Below is what finally worked for me (after many hours of deep dive and testing):&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Step 1: Create an SSL certificate&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;Just follow the steps from &lt;em&gt;&lt;a href=&quot;https://www.freecodecamp.org/news/how-to-get-https-working-on-your-local-development-environment-in-5-minutes-7af615770eec/&quot; rel=&quot;nofollow noreferrer&quot;&gt;How to get HTTPS working on your local development environment in 5 minutes&lt;/a&gt;&lt;/em&gt;.&lt;/p&gt;\n&lt;p&gt;You will end up with a couple of files to be used as credentials to run the HTTPS server and React web:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;server.&lt;span class=&quot;hljs-property&quot;&gt;key&lt;/span&gt; &amp;amp; server.&lt;span class=&quot;hljs-property&quot;&gt;crt&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;You need to copy them in the root folders of both the front and back ends (in a &lt;em&gt;production&lt;/em&gt; environment, you might consider copying them in folder &lt;em&gt;./ssh&lt;/em&gt; for the back-end).&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Step 2: Back-end setup&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;I read a lot of answers proposing the use of &apos;cors&apos; package or even setting (&apos;Access-Control-Allow-Origin&apos;, &apos;*&apos;), which is like saying: &quot;Hackers are welcome to my website&quot;. Just do like this:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; express &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;express&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; emailRouter = &lt;span class=&quot;hljs-built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;./routes/email&apos;&lt;/span&gt;);  &lt;span class=&quot;hljs-comment&quot;&gt;// in my case, I was sending an email through a form in React&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; fs = &lt;span class=&quot;hljs-built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;fs&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; https = &lt;span class=&quot;hljs-built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;https&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; app = &lt;span class=&quot;hljs-title function_&quot;&gt;express&lt;/span&gt;();\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; port = &lt;span class=&quot;hljs-number&quot;&gt;8000&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// CORS (Cross-Origin Resource Sharing) headers to support Cross-site HTTP requests&lt;/span&gt;\napp.&lt;span class=&quot;hljs-title function_&quot;&gt;all&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;req, res, next&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n    res.&lt;span class=&quot;hljs-title function_&quot;&gt;header&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Access-Control-Allow-Origin&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;https://localhost:3000&quot;&lt;/span&gt;);\n    &lt;span class=&quot;hljs-title function_&quot;&gt;next&lt;/span&gt;();\n});\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Routes definition&lt;/span&gt;\napp.&lt;span class=&quot;hljs-title function_&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;/email&apos;&lt;/span&gt;, emailRouter);\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// HTTPS server&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; credentials = {\n  &lt;span class=&quot;hljs-attr&quot;&gt;key&lt;/span&gt;: fs.&lt;span class=&quot;hljs-title function_&quot;&gt;readFileSync&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;server.key&apos;&lt;/span&gt;),\n  &lt;span class=&quot;hljs-attr&quot;&gt;cert&lt;/span&gt;: fs.&lt;span class=&quot;hljs-title function_&quot;&gt;readFileSync&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;server.crt&apos;&lt;/span&gt;)\n};\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; httpsServer = https.&lt;span class=&quot;hljs-title function_&quot;&gt;createServer&lt;/span&gt;(credentials, app);\nhttpsServer.&lt;span class=&quot;hljs-title function_&quot;&gt;listen&lt;/span&gt;(port, &lt;span class=&quot;hljs-function&quot;&gt;() =&amp;gt;&lt;/span&gt; {\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;`Back-end running on port &lt;span class=&quot;hljs-subst&quot;&gt;${port}&lt;/span&gt;`&lt;/span&gt;);\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;In case you want to test if the https is OK, you can replace the httpsServer constant by the one below:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;https.&lt;span class=&quot;hljs-title function_&quot;&gt;createServer&lt;/span&gt;(credentials, &lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;req: any, res: any&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n  res.&lt;span class=&quot;hljs-title function_&quot;&gt;writeHead&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;200&lt;/span&gt;);\n  res.&lt;span class=&quot;hljs-title function_&quot;&gt;end&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;hello world from SSL\\n&quot;&lt;/span&gt;);\n}).&lt;span class=&quot;hljs-title function_&quot;&gt;listen&lt;/span&gt;(port, &lt;span class=&quot;hljs-function&quot;&gt;() =&amp;gt;&lt;/span&gt; {\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;`HTTPS server listening on port &lt;span class=&quot;hljs-subst&quot;&gt;${port}&lt;/span&gt;...`&lt;/span&gt;);\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;And then access it from a web browser:   https://localhost:8000/&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Step 3: Front-end setup&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;This is the Axios request from the React front-end:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;    &lt;span class=&quot;hljs-keyword&quot;&gt;await&lt;/span&gt; axios.&lt;span class=&quot;hljs-title function_&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;`https://localhost:8000/email/send`&lt;/span&gt;, {\n        &lt;span class=&quot;hljs-attr&quot;&gt;params&lt;/span&gt;: { &lt;span class=&quot;hljs-comment&quot;&gt;/* Whatever data you want to send */&lt;/span&gt; },\n        &lt;span class=&quot;hljs-attr&quot;&gt;headers&lt;/span&gt;: {\n            &lt;span class=&quot;hljs-string&quot;&gt;&apos;Content-Type&apos;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;application/json&apos;&lt;/span&gt;,\n        }\n    })\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;And now, you need to launch your React web in HTTPS mode using the credentials for SSL we already created. Type this in your macOS terminal:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-variable constant_&quot;&gt;HTTPS&lt;/span&gt;=&lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;hljs-variable constant_&quot;&gt;SSL_CRT_FILE&lt;/span&gt;=server.&lt;span class=&quot;hljs-property&quot;&gt;crt&lt;/span&gt; &lt;span class=&quot;hljs-variable constant_&quot;&gt;SSL_KEY_FILE&lt;/span&gt;=server.&lt;span class=&quot;hljs-property&quot;&gt;key&lt;/span&gt; npm start\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;At this point, you are sending a request from an HTTPS connection at port 3000 from your front-end, to be received by an HTTPS connection at port 8000 by your back-end. CORS should be happy with this ;)&lt;/p&gt;\n    ","\n&lt;p&gt;I was working with &lt;a href=&quot;https://en.wikipedia.org/wiki/Spring_Framework&quot; rel=&quot;nofollow noreferrer&quot;&gt;Spring&lt;/a&gt; &lt;a href=&quot;https://en.wikipedia.org/wiki/Representational_state_transfer&quot; rel=&quot;nofollow noreferrer&quot;&gt;REST&lt;/a&gt;, and I solved it adding the AllowedMethods into the WebMvcConfigurer.&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;@&lt;span class=&quot;hljs-title class_&quot;&gt;Value&lt;/span&gt;( &lt;span class=&quot;hljs-string&quot;&gt;&quot;${app.allow.origins}&quot;&lt;/span&gt; )\n    private &lt;span class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt; allowOrigins;\n@&lt;span class=&quot;hljs-title class_&quot;&gt;Bean&lt;/span&gt;\npublic &lt;span class=&quot;hljs-title class_&quot;&gt;WebMvcConfigurer&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;corsConfigurer&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-title class_&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;allow origin: &quot;&lt;/span&gt; + allowOrigins);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;WebMvcConfigurerAdapter&lt;/span&gt;() {\n        @&lt;span class=&quot;hljs-title class_&quot;&gt;Override&lt;/span&gt;\n        public &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;addCorsMappings&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;CorsRegistry registry&lt;/span&gt;) {\n            registry.&lt;span class=&quot;hljs-title function_&quot;&gt;addMapping&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;/**&quot;&lt;/span&gt;)\n            &lt;span class=&quot;hljs-comment&quot;&gt;//.allowedOrigins(&quot;http://localhost&quot;)&lt;/span&gt;\n            .&lt;span class=&quot;hljs-title function_&quot;&gt;allowedOrigins&lt;/span&gt;(allowOrigins)\n            .&lt;span class=&quot;hljs-title function_&quot;&gt;allowedMethods&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;PUT&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;DELETE&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;GET&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;POST&quot;&lt;/span&gt;);\n        }\n    };\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Remove this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-attr&quot;&gt;credentials&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;include&apos;&lt;/span&gt;,\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I have encountered this error several times over the past few years -- seemingly showing up out of the blue in a previously functioning website.&lt;/p&gt;\n&lt;p&gt;I determined that Chrome (and possibly other browsers) can return this error when there is some unrelated error that occurs on the server that prevents it from processing the &lt;a href=&quot;https://en.wikipedia.org/wiki/Cross-origin_resource_sharing&quot; rel=&quot;nofollow noreferrer&quot;&gt;CORS&lt;/a&gt; request (and prior to returning an HTTP 500 error).&lt;/p&gt;\n&lt;p&gt;These all occurred in a &lt;a href=&quot;https://en.wikipedia.org/wiki/.NET_Core&quot; rel=&quot;nofollow noreferrer&quot;&gt;.NET Core&lt;/a&gt; environment, and I am not sure if it would happen in other environments.&lt;/p&gt;\n&lt;p&gt;Anyway, if your code has functioned before, and seems correct, consider debugging to find if there is some other error that is firing before you go crazy trying to solve an error that isn&apos;t really there.&lt;/p&gt;\n    ","\n&lt;p&gt;In my case, the web server prevented the &quot;OPTIONS&quot; method&lt;/p&gt;\n&lt;p&gt;Check your web server for the options method&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Apache: &lt;a href=&quot;https://www-01.ibm.com/support/docview.wss?uid=ibm10735209&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://www-01.ibm.com/support/docview.wss?uid=ibm10735209&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;web tier: 4.4.6 Disabling the Options Method &lt;a href=&quot;https://docs.oracle.com/cd/E23943_01/web.1111/e10144/getstart.htm#HSADM174&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://docs.oracle.com/cd/E23943_01/web.1111/e10144/getstart.htm#HSADM174&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Nginx&quot; rel=&quot;nofollow noreferrer&quot;&gt;nginx&lt;/a&gt;: &lt;a href=&quot;https://medium.com/@hariomvashisth/cors-on-nginx-be38dd0e19df&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://medium.com/@hariomvashisth/cors-on-nginx-be38dd0e19df&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;blockquote&gt;\n&lt;p&gt;I&apos;m using &quot;webtier&quot;&lt;/p&gt;\n&lt;p&gt;/www/webtier/domains/[domainname]/config/fmwconfig/components/OHS/VCWeb1/httpd.conf&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-title class_&quot;&gt;IfModule&lt;/span&gt; mod_rewrite.&lt;span class=&quot;hljs-property&quot;&gt;c&lt;/span&gt;&amp;gt;\n  &lt;span class=&quot;hljs-title class_&quot;&gt;RewriteEngine&lt;/span&gt; on\n  &lt;span class=&quot;hljs-title class_&quot;&gt;RewriteCond&lt;/span&gt; %{&lt;span class=&quot;hljs-variable constant_&quot;&gt;REQUEST_METHOD&lt;/span&gt;} ^&lt;span class=&quot;hljs-variable constant_&quot;&gt;OPTIONS&lt;/span&gt;\n  &lt;span class=&quot;hljs-title class_&quot;&gt;RewriteRule&lt;/span&gt; .* . [F]\n&amp;lt;/&lt;span class=&quot;hljs-title class_&quot;&gt;IfModule&lt;/span&gt;&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;change to&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-title class_&quot;&gt;IfModule&lt;/span&gt; mod_rewrite.&lt;span class=&quot;hljs-property&quot;&gt;c&lt;/span&gt;&amp;gt;\n  &lt;span class=&quot;hljs-title class_&quot;&gt;RewriteEngine&lt;/span&gt; off\n  &lt;span class=&quot;hljs-title class_&quot;&gt;RewriteCond&lt;/span&gt; %{&lt;span class=&quot;hljs-variable constant_&quot;&gt;REQUEST_METHOD&lt;/span&gt;} ^&lt;span class=&quot;hljs-variable constant_&quot;&gt;OPTIONS&lt;/span&gt;\n  &lt;span class=&quot;hljs-title class_&quot;&gt;RewriteRule&lt;/span&gt; .* . [F]\n&amp;lt;/&lt;span class=&quot;hljs-title class_&quot;&gt;IfModule&lt;/span&gt;&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I make this mistake a lot of times, and because of it, I&apos;ve made a &quot;check-list&quot; to all of you.&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;Enable &lt;a href=&quot;https://en.wikipedia.org/wiki/Cross-origin_resource_sharing&quot; rel=&quot;nofollow noreferrer&quot;&gt;CORS&lt;/a&gt; on your project: If you&apos;re using &lt;a href=&quot;https://en.wikipedia.org/wiki/Node.js&quot; rel=&quot;nofollow noreferrer&quot;&gt;Node.js&lt;/a&gt; (by example) you can use:&lt;/p&gt;\n&lt;pre class=&quot;lang-none s-code-block&quot;&gt;&lt;code&gt;npm install cors;\nimport cors from &apos;cors&apos;;\napp.use(cors());\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;You can manually set the headers like this (if you want it):&lt;/p&gt;\n&lt;pre class=&quot;lang-none s-code-block&quot;&gt;&lt;code&gt;app.use((req, res, next) =&amp;gt; {\n    res.setHeader(&apos;Access-Control-Allow-Origin&apos;, &apos;*&apos;);\n    res.setHeader(&apos;Access-Control-Allow-Headers&apos;, &apos;Origin, X-Requested-With, Content-Type, Accept, Authortization&apos;);\n    res.setHeader(&apos;Acces-Control-Allow-Methods&apos;, &apos;GET, POST, PATCH, DELETE&apos;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Remember to add &lt;em&gt;http://&lt;/em&gt; to your API link in your frontend project, some browsers like Chrome &lt;em&gt;do not&lt;/em&gt; accept a request using CORS if the request URL isn&apos;t HTTP or HTTPS:&lt;/p&gt;\n&lt;pre class=&quot;lang-none s-code-block&quot;&gt;&lt;code&gt;http://localhost:3000/api\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Check if your project is using a &lt;em&gt;proxy.config.js&lt;/em&gt; file. See &lt;em&gt;&lt;a href=&quot;https://levelup.gitconnected.com/fixing-cors-errors-with-angular-cli-proxy-e5e0ef143f85&quot; rel=&quot;nofollow noreferrer&quot;&gt;Fixing CORS errors with Angular CLI proxy&lt;/a&gt;&lt;/em&gt;.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;When the client used to call our backend service from his host username.companyname.com, he used to get the above error&lt;/p&gt;\n&lt;p&gt;Two things are required:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;while sending back the response, send the header whose key is &lt;em&gt;Access-Control-Allow-Origin&lt;/em&gt; and value is &lt;code&gt;*&lt;/code&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt; context.&lt;span class=&quot;hljs-property&quot;&gt;Writer&lt;/span&gt;.&lt;span class=&quot;hljs-title class_&quot;&gt;Header&lt;/span&gt;()[&lt;span class=&quot;hljs-string&quot;&gt;&quot;Access-Control-Allow-Origin&quot;&lt;/span&gt;] = []string{&lt;span class=&quot;hljs-string&quot;&gt;&quot;*&quot;&lt;/span&gt;} &lt;span class=&quot;hljs-comment&quot;&gt;// Important to avoid a CORS error&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Use the &lt;a href=&quot;https://en.wikipedia.org/wiki/Go_%28programming_language%29&quot; rel=&quot;nofollow noreferrer&quot;&gt;Go&lt;/a&gt; CORS library to set &lt;strong&gt;AllowCredentials&lt;/strong&gt; to false and &lt;strong&gt;AllowAllOrigins&lt;/strong&gt; to true.&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/6nF6P.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/6nF6P.png&quot; alt=&quot;Enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;For a &lt;a href=&quot;https://en.wikipedia.org/wiki/Node.js&quot; rel=&quot;nofollow noreferrer&quot;&gt;Node.js&lt;/a&gt; and &lt;a href=&quot;https://en.wikipedia.org/wiki/Express.js&quot; rel=&quot;nofollow noreferrer&quot;&gt;Express.js&lt;/a&gt; backend I use this :)&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;app.&lt;span class=&quot;hljs-title function_&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;req, res, next&lt;/span&gt;) {\n  res.&lt;span class=&quot;hljs-title function_&quot;&gt;header&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Access-Control-Allow-Origin&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;YOUR-DOMAIN.TLD&quot;&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// Update to match the domain you will make the request from&lt;/span&gt;\n  res.&lt;span class=&quot;hljs-title function_&quot;&gt;header&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Access-Control-Allow-Headers&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;Origin, X-Requested-With, Content-Type, Accept&quot;&lt;/span&gt;);\n  &lt;span class=&quot;hljs-title function_&quot;&gt;next&lt;/span&gt;();\n});&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif1&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;For more details: &lt;em&gt;&lt;a href=&quot;https://enable-cors.org/server_expressjs.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;CORS on ExpressJS&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Use the below npm module. This has virtually saved lives.&lt;/p&gt;\n&lt;p&gt;&lt;em&gt;&lt;a href=&quot;https://www.npmjs.com/package/local-cors-proxy&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://www.npmjs.com/package/local-cors-proxy&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;\n&lt;p&gt;You&apos;re getting a CORS error, for example like the below URL&lt;/p&gt;\n&lt;p&gt;&lt;em&gt;&lt;a href=&quot;https://www.google.co.in/search/list&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://www.google.co.in/search/list&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;\n&lt;p&gt;After successfully installed(&lt;strong&gt;local-cors-proxy&lt;/strong&gt;) global &lt;code&gt;npm install -g local-cors-proxy&lt;/code&gt; and set proxy URL that CORS URL.\nFor example, here the below CORS issue getting in localhost. So you need to add the domain name(&lt;a href=&quot;https://www.google.co.in&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://www.google.co.in&lt;/a&gt;) and port(--port 8010) for the CORS issue domain.\nFor more please check the link\n&lt;em&gt;&lt;a href=&quot;https://www.npmjs.com/package/local-cors-proxy&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://www.npmjs.com/package/local-cors-proxy&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-none s-code-block&quot;&gt;&lt;code&gt;lcp --proxyUrl https://www.google.co.in --port 8010\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;After successfully set, it will generate the local proxy URL like below.&lt;/p&gt;\n&lt;p&gt;&lt;em&gt;http://localhost:8010/proxy&lt;/em&gt;&lt;/p&gt;\n&lt;p&gt;Use that domain name in your project API URL.&lt;/p&gt;\n&lt;p&gt;API full URL:&lt;/p&gt;\n&lt;p&gt;&lt;em&gt;http://localhost:8010/proxy/search/list&lt;/em&gt;&lt;/p&gt;\n&lt;p&gt;To get without a CORS issue response in your local project.&lt;/p&gt;\n    ","\n&lt;p&gt;Try adding all these headers in this code below &lt;em&gt;&lt;strong&gt;Before every route, you define in your app, not after the routes&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;app.&lt;span class=&quot;hljs-title function_&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;req, res, next&lt;/span&gt;) =&amp;gt;&lt;/span&gt;{\nres.&lt;span class=&quot;hljs-title function_&quot;&gt;setHeader&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Access-Control-Allow-Origin&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\nres.&lt;span class=&quot;hljs-title function_&quot;&gt;setHeader&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Access-Control-Allow-Headers&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;Origin, X-Requested-With, Content-Type,Accept, Authortization&apos;&lt;/span&gt;);  \nres.&lt;span class=&quot;hljs-title function_&quot;&gt;setHeader&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Acces-Control-Allow-Methods&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;GET, POST, PATCH, DELETE&apos;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If you are getting this error while deploying React app to netlify, use these steps.&lt;/p&gt;\n&lt;p&gt;step 1: Create &lt;code&gt;netlify.toml&lt;/code&gt; file in the root folder of your react app.&lt;/p&gt;\n&lt;p&gt;step 2: Copy paste this code:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-string&quot;&gt;`[[redirects]]\n    from = &quot;/cors-proxy/*&quot;\n    to = &quot;:splat&quot;\n    status = 200\n    force = true`&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/SOL5O.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/SOL5O.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;step3: update your fetch/axios api this way:&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/0JL4i.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/0JL4i.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;It took me a while to figure this out.&lt;/p&gt;\n    "]},"randomTags":[{"name":"super","slug":"super"},{"name":"salt","slug":"salt"},{"name":"managed-bean","slug":"managed-bean"},{"name":"single-quotes","slug":"single-quotes"},{"name":"row-height","slug":"row-height"},{"name":"python","slug":"python"},{"name":"var","slug":"var"},{"name":"memory-management","slug":"memory-management"},{"name":"query-string","slug":"query-string"},{"name":"swift","slug":"swift"},{"name":"date-formatting","slug":"date-formatting"},{"name":"firefox","slug":"firefox"},{"name":"compiler-optimization","slug":"compiler-optimization"},{"name":"javascript-objects","slug":"javascript-objects"},{"name":"pinterest","slug":"pinterest"},{"name":"instance-variables","slug":"instance-variables"},{"name":"ajax","slug":"ajax"},{"name":"object-literal","slug":"object-literal"},{"name":"projection","slug":"projection"},{"name":"mongodb-query","slug":"mongodb-query"}]},"__N_SSG":true}