{"pageProps":{"data":{"count":1,"rows":[{"id":199,"title":"Prototypical inheritance - writing up [duplicate]","slug":"prototypical-inheritance-writing-up-duplicate-1657385478064","postType":"QUESTION","createdAt":"2022-07-09T16:51:18.000Z","updatedAt":"2022-07-09T16:51:18.000Z","tags":[{"id":1431,"name":"prototype","slug":"prototype","createdAt":"2022-07-09T16:51:18.000Z","updatedAt":"2022-07-09T16:51:18.000Z","Questions_Tags":{"questionId":199,"tagId":1431}}]}]},"slug":"prototype","page":1,"answers":{"199":["\n&lt;p&gt;&lt;strong&gt;Constructor function introduction&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;You can use a function as a constructor to create objects, if the constructor function is named Person then the object(s) created with that constructor are instances of Person.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Person&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;name&lt;/span&gt;){\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt; = name;\n};\n&lt;span class=&quot;hljs-title class_&quot;&gt;Person&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;walk&lt;/span&gt;=&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;step&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;step&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;step&lt;/span&gt;();\n};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; bob = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Person&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Bob&quot;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Person is the constructor function. When you create an instance using Person you have to use the new keyword:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; bob = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Person&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Bob&quot;&lt;/span&gt;);&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(bob.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//=Bob&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; ben = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Person&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Ben&quot;&lt;/span&gt;);&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(ben.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//=Ben&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The property/member &lt;code&gt;name&lt;/code&gt; is instance specific, it&apos;s different for bob and ben&lt;/p&gt;\n\n&lt;p&gt;The member &lt;code&gt;walk&lt;/code&gt; is part of Person.prototype and is shared for all instances bob and ben are instances of Person so they share the walk member (bob.walk===ben.walk).&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;bob.&lt;span class=&quot;hljs-title function_&quot;&gt;walk&lt;/span&gt;();ben.&lt;span class=&quot;hljs-title function_&quot;&gt;walk&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Because walk() could not be found on bob directly JavaScript will look for it in the Person.prototype as this is the constructor of bob. If it can&apos;t be found there it&apos;ll look on Object.prototype. This is called the prototype chain. The prototype part of inheritance is done by lengthening this chain; for example bob =&amp;gt; Employee.prototype =&amp;gt; Person.prototype =&amp;gt; Object.prototype (more on inheritance later).&lt;/p&gt;\n\n&lt;p&gt;Even though bob, ben and all other created Person instances share walk the function will behave differently per instance because in the walk function it uses &lt;code&gt;this&lt;/code&gt;. The value of &lt;code&gt;this&lt;/code&gt; will be the invoking object; for now let&apos;s say it&apos;s the current instance so for &lt;code&gt;bob.walk()&lt;/code&gt; &quot;this&quot; will be bob. (more on &quot;this&quot; and the invoking object later).&lt;/p&gt;\n\n&lt;p&gt;If ben was waiting for a red light and and bob was at a green light; then you&apos;ll invoke walk() on both ben and bob obviously something different would happen to ben and bob.&lt;/p&gt;\n\n&lt;p&gt;Shadowing members happens when we do something like &lt;code&gt;ben.walk=22&lt;/code&gt;, even though bob and ben share &lt;code&gt;walk&lt;/code&gt; the &lt;em&gt;assignment&lt;/em&gt; of 22 to ben.walk will not affect bob.walk. This is because that statement will create a member called &lt;code&gt;walk&lt;/code&gt; on ben directly and assign it a value of 22. There will be 2 different walk members: ben.walk and Person.prototype.walk.&lt;/p&gt;\n\n&lt;p&gt;When asking for bob.walk you&apos;ll get the Person.prototype.walk function because &lt;code&gt;walk&lt;/code&gt; could not be found on bob. Asking for ben.walk however will get you the value 22 because the member walk has been created on ben and since JavaScript found walk on ben it will not look in the Person.prototype.&lt;/p&gt;\n\n&lt;p&gt;When using Object.create with 2 arguments, Object.defineProperty or Object.defineProperties shadowing works a bit different. More info on that &lt;a href=&quot;https://github.com/getify/You-Dont-Know-JS/blob/master/this%20%26%20object%20prototypes/ch5.md#setting--shadowing-properties&quot; rel=&quot;noreferrer&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;More about prototype&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;An object can inherit from another object through the use of prototype. You can set the prototype of any object with any other object using &lt;code&gt;Object.create&lt;/code&gt;. In the constructor function introduction we have seen that if a member can&apos;t be found on the object then JavaScript will look in the prototpe chain for it. &lt;/p&gt;\n\n&lt;p&gt;In previous part we have seen that re assignment of members that come from an instance&apos;s prototype (ben.walk) will shadow that member (create walk on ben rather than changing Person.prototype.walk).&lt;/p&gt;\n\n&lt;p&gt;What if we don&apos;t re assign but mutate the member? Mutating is (for example) changing sub properties of an Object or invoking functions that will change the object&apos;s value. For example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; o = [];\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a = o;\na.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//mutate a, this will change o&lt;/span&gt;\na[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]=&lt;span class=&quot;hljs-number&quot;&gt;22&lt;/span&gt;;&lt;span class=&quot;hljs-comment&quot;&gt;//mutate a, this will change o&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The following code demonstrates the difference between prototype members and instance members by mutating members.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; person = {\n  &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;default&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-comment&quot;&gt;//immutable so can be used as default&lt;/span&gt;\n  &lt;span class=&quot;hljs-attr&quot;&gt;sayName&lt;/span&gt;:&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Hello, I am &quot;&lt;/span&gt;+&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt;);\n  },\n  &lt;span class=&quot;hljs-attr&quot;&gt;food&lt;/span&gt;:[]&lt;span class=&quot;hljs-comment&quot;&gt;//not immutable, should be instance specific&lt;/span&gt;\n         &lt;span class=&quot;hljs-comment&quot;&gt;//  not suitable as prototype member&lt;/span&gt;\n};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; ben = &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;create&lt;/span&gt;(person);\nben.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Ben&quot;&lt;/span&gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; bob = &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;create&lt;/span&gt;(person);\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(bob.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//=default, setting ben.name shadowed the member&lt;/span&gt;\n                      &lt;span class=&quot;hljs-comment&quot;&gt;//  so bob.name is actually person.name&lt;/span&gt;\nben.&lt;span class=&quot;hljs-property&quot;&gt;food&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Hamburger&quot;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(bob.&lt;span class=&quot;hljs-property&quot;&gt;food&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//=[&quot;Hamburger&quot;], mutating a shared member on the&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// prototype affects all instances as it changes person.food&lt;/span&gt;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(person.&lt;span class=&quot;hljs-property&quot;&gt;food&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//=[&quot;Hamburger&quot;]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The code above shows that ben and bob share members from person. There is only one person, it is set as bob&apos;s and ben&apos;s prototype (person is used as the first object in the prototype chain to look up requested members that don&apos;t exist on the instance). The problem with the above code is that bob and ben should have their own &lt;code&gt;food&lt;/code&gt; member. This is where the constructor function comes in. It is used to create instance specific members. You could also pass arguments to it to set values of these instance specific members.&lt;/p&gt;\n\n&lt;p&gt;The next code shows another way to implement the constructor function, syntax is different but the idea is the same:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Define an object that has members that will be same for many instances (person is a blueprint for bob and ben and can be for jilly, marie, clair ...)&lt;/li&gt;\n&lt;li&gt;Define instance specific members that should be unique for instances (bob and ben).&lt;/li&gt;\n&lt;li&gt;Create an instance running the code in step 2.&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;With constructor functions you&apos;ll set the prototype in step 2 in the following code we set the prototype in step 3.&lt;/p&gt;\n\n&lt;p&gt;In this code I have removed name from prototype as well as food because you are most likely going to shadow this almost immediately when creating an instance anyway. Name is now an instance specific member with a default value set in the constructor function. Becaus the food member is also moved from prototype to instance specific member it will not affect bob.food when adding food to ben.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; person = {\n  &lt;span class=&quot;hljs-attr&quot;&gt;sayName&lt;/span&gt;:&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Hello, I am &quot;&lt;/span&gt;+&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt;);\n  },\n  &lt;span class=&quot;hljs-comment&quot;&gt;//need to run the constructor function when creating&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;//  an instance to make sure the instance has&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;//  instance specific members&lt;/span&gt;\n  &lt;span class=&quot;hljs-attr&quot;&gt;constructor&lt;/span&gt;:&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;name&lt;/span&gt;){\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt; = name || &lt;span class=&quot;hljs-string&quot;&gt;&quot;default&quot;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;food&lt;/span&gt; = [];\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;;\n  }\n};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; ben = &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;create&lt;/span&gt;(person).&lt;span class=&quot;hljs-title function_&quot;&gt;constructor&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Ben&quot;&lt;/span&gt;&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; bob = &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;create&lt;/span&gt;(person).&lt;span class=&quot;hljs-title function_&quot;&gt;constructor&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Bob&quot;&lt;/span&gt;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(bob.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//=&quot;Bob&quot;&lt;/span&gt;\nben.&lt;span class=&quot;hljs-property&quot;&gt;food&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Hamburger&quot;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(bob.&lt;span class=&quot;hljs-property&quot;&gt;food&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//=[]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You may come across similar patterns that are more robust to help with object creation and object definition. &lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Inheritance&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;The following code shows how to inherit. The tasks are basically the same as in code before with a little extra&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Define instance specific members of an object (functions Hamster and RussionMini).&lt;/li&gt;\n&lt;li&gt;Set the prototype part of inheritance (RussionMini.prototype = Object.create(Hamster.prototype))&lt;/li&gt;\n&lt;li&gt;Define members that can be shared among instances.(Hamster.prototype and RussionMini.prototype)&lt;/li&gt;\n&lt;li&gt;Create an instance running the code in step 1 and for objects that inherit have them run the Parent code as well (Hamster.apply(this,arguments);)&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;Using a pattern some would call &quot;classical inheritance&quot;. If you are confused by the syntax I&apos;ll be happy to explain more or provide different patterns.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;Hamster&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;food&lt;/span&gt;=[];\n}\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;RussionMini&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n  &lt;span class=&quot;hljs-comment&quot;&gt;//Hamster.apply(this,arguments) executes every line of code&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;//in the Hamster body where the value of &quot;this&quot; is&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;//the to be created RussionMini (once for mini and once for betty)&lt;/span&gt;\n  &lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;apply&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;,&lt;span class=&quot;hljs-variable language_&quot;&gt;arguments&lt;/span&gt;);\n}\n&lt;span class=&quot;hljs-comment&quot;&gt;//setting RussionMini&apos;s prototype&lt;/span&gt;\n&lt;span class=&quot;hljs-title class_&quot;&gt;RussionMini&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;=&lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;create&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;);\n&lt;span class=&quot;hljs-comment&quot;&gt;//setting the built in member called constructor to point&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// to the right function (previous line has it point to Hamster)&lt;/span&gt;\n&lt;span class=&quot;hljs-title class_&quot;&gt;RussionMini&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;constructor&lt;/span&gt;=&lt;span class=&quot;hljs-title class_&quot;&gt;RussionMini&lt;/span&gt;;\nmini=&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RussionMini&lt;/span&gt;();\n&lt;span class=&quot;hljs-comment&quot;&gt;//this.food (instance specic to mini)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//  comes from running the Hamster code&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//  with Hamster.apply(this,arguments);&lt;/span&gt;\nmini.&lt;span class=&quot;hljs-property&quot;&gt;food&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;mini&apos;s food&quot;&lt;/span&gt;);\n&lt;span class=&quot;hljs-comment&quot;&gt;//adding behavior specific to Hamster that will still be&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//  inherited by RussionMini because RussionMini.prototype&apos;s prototype&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//  is Hamster.prototype&lt;/span&gt;\n&lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;runWheel&lt;/span&gt;=&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;I&apos;m running&quot;&lt;/span&gt;)};\nmini.&lt;span class=&quot;hljs-title function_&quot;&gt;runWheel&lt;/span&gt;();&lt;span class=&quot;hljs-comment&quot;&gt;//=I&apos;m running&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Object.create to set prototype part of inheritance&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Here is the documentation about &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create&quot; rel=&quot;noreferrer&quot;&gt;Object.create&lt;/a&gt;, it basically returns the second argument (not supported in the polyfil) with the first argument as the returned object&apos;s prototype. &lt;/p&gt;\n\n&lt;p&gt;If no second argument was given it&apos;ll return an empty object with first argument to be used as the returned object&apos;s prototype (the first object to be used in the returned object&apos;s prototype chain).&lt;/p&gt;\n\n&lt;p&gt;Some would set the prototype of RussionMini to an instance of Hamster (RussionMini.prototype = new Hamster()). This is not desirable because even though it accomplishes the same (RussionMini.prototype&apos;s prototype is Hamster.prototype) it also sets Hamster instance members as members of RussionMini.prototype. So RussionMini.prototype.food will exist but is a shared member (remember bob and ben in &quot;More about prototype&quot;?). The food member will be shadowed when creating a RussionMini because Hamster code is run with &lt;code&gt;Hamster.apply(this,arguments);&lt;/code&gt; that in turn runs &lt;code&gt;this.food = []&lt;/code&gt; but any Hamster members will still be members of RussionMini.prototype.&lt;/p&gt;\n\n&lt;p&gt;Another reason could be that to create a Hamster a lot of complicated calculations need be done on passed arguments that may be not available yet, again you could pass in dummy arguments but it could unnecessarily complicate your code.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Extending and overriding Parent functions&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Sometimes &lt;code&gt;children&lt;/code&gt; need to extend &lt;code&gt;parent&lt;/code&gt; functions.  &lt;/p&gt;\n\n&lt;p&gt;You want the &apos;child&apos; (=RussionMini) to do something extra. When RussionMini can call the Hamster code to do something and then do something extra you don&apos;t need to copy and paste Hamster code to RussionMini.&lt;/p&gt;\n\n&lt;p&gt;In the following example we assume that a Hamster can run 3km an hour but a Russion mini can only run half as fast. We can hard code 3/2 in RussionMini but if this value were to change we have multiple places in code where it needs changing. Here is how we use Hamster.prototype to get the parent (Hamster) speed.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;name&lt;/span&gt;){\n &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(name===&lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;){\n   &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Error&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Name cannot be undefined&quot;&lt;/span&gt;);\n }\n &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt;=name;\n}\n&lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;getSpeed&lt;/span&gt;=&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;run&lt;/span&gt;=&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n  &lt;span class=&quot;hljs-comment&quot;&gt;//Russionmini does not need to implement this function as&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;//it will do exactly the same as it does for Hamster&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;//But Russionmini does need to implement getSpeed as it&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;//won&apos;t return the same as Hamster (see later in the code) &lt;/span&gt;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;I am running at &quot;&lt;/span&gt; + \n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getSpeed&lt;/span&gt;() + &lt;span class=&quot;hljs-string&quot;&gt;&quot;km an hour.&quot;&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RussionMini&lt;/span&gt;=&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;name&lt;/span&gt;){\n  &lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;apply&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;,&lt;span class=&quot;hljs-variable language_&quot;&gt;arguments&lt;/span&gt;);\n}\n&lt;span class=&quot;hljs-comment&quot;&gt;//call this before setting RussionMini prototypes&lt;/span&gt;\n&lt;span class=&quot;hljs-title class_&quot;&gt;RussionMini&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt; = &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;create&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;);\n&lt;span class=&quot;hljs-title class_&quot;&gt;RussionMini&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;constructor&lt;/span&gt;=&lt;span class=&quot;hljs-title class_&quot;&gt;RussionMini&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-title class_&quot;&gt;RussionMini&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;getSpeed&lt;/span&gt;=&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;\n    .&lt;span class=&quot;hljs-property&quot;&gt;getSpeed&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;call&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;)/&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;;\n}    \n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; betty=&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RussionMini&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Betty&quot;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(betty.&lt;span class=&quot;hljs-title function_&quot;&gt;run&lt;/span&gt;());&lt;span class=&quot;hljs-comment&quot;&gt;//=I am running at 1.5km an hour.&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The disadvantage is that you hard code Hamster.prototype. There may be patterns that will give you the advantage of &lt;code&gt;super&lt;/code&gt; as in Java. &lt;/p&gt;\n\n&lt;p&gt;Most of the patterns I&apos;ve seen will either break when inheritance level is more than 2 levels (Child =&amp;gt; Parent =&amp;gt; GrandParent) or use more resources by implementing super through &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures&quot; rel=&quot;noreferrer&quot;&gt;closures&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;To override a Parent (=Hamster) method you do the same but don&apos;t do Hamster.prototype.parentMethod.call(this,....&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;this.constructor&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;The constructor property is included in the prototype by JavaScript, you can change it but it should point to the constructor function. So &lt;code&gt;Hamster.prototype.constructor&lt;/code&gt; should point to Hamster.&lt;/p&gt;\n\n&lt;p&gt;If after setting prototype part of inheritance you should have it point to the right function again.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RussionMinni&lt;/span&gt;=&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n   &lt;span class=&quot;hljs-comment&quot;&gt;// re use Parent constructor (I know there is none there)&lt;/span&gt;\n   &lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;apply&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;,&lt;span class=&quot;hljs-variable language_&quot;&gt;arguments&lt;/span&gt;);\n};\n&lt;span class=&quot;hljs-title class_&quot;&gt;RussionMinni&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;=&lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;create&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;RussionMinni&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;constructor&lt;/span&gt;===&lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//=true&lt;/span&gt;\n&lt;span class=&quot;hljs-title class_&quot;&gt;RussionMinni&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;haveBaby&lt;/span&gt;=&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;constructor&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;);\n};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; betty=&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RussionMinni&lt;/span&gt;();\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; littleBetty=betty.&lt;span class=&quot;hljs-title function_&quot;&gt;haveBaby&lt;/span&gt;();\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(littleBetty &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RussionMinni&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//false&lt;/span&gt;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(littleBetty &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//true&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//fix the constructor&lt;/span&gt;\n&lt;span class=&quot;hljs-title class_&quot;&gt;RussionMinni&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;constructor&lt;/span&gt;=&lt;span class=&quot;hljs-title class_&quot;&gt;RussionMinni&lt;/span&gt;;\n&lt;span class=&quot;hljs-comment&quot;&gt;//now make a baby again&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; littleBetty=betty.&lt;span class=&quot;hljs-title function_&quot;&gt;haveBaby&lt;/span&gt;();\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(littleBetty &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RussionMinni&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//true&lt;/span&gt;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(littleBetty &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//true&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;&quot;Multiple inheritance&quot; with mix ins&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Some things are better not to be inherited, if a Cat can move and then a Cat should not inherit from Movable. A Cat is not a Movable but rather a Cat can move. In a class based language Cat would have to implement Movable. In JavaScript we can define Movable and define implementation here, Cat can either override, extend it or us it&apos;s default implementation.&lt;/p&gt;\n\n&lt;p&gt;For Movable we have instance specific members (like &lt;code&gt;location&lt;/code&gt;). And we have members that are not instance specific (like the function move()). Instance specific members will be set by calling mxIns (added by mixin helper function) when creating an instance. Prototype members will be copied one by one on Cat.prototype from Movable.prototype using the mixin helper function.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Mixin&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;Mixin&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;args&lt;/span&gt;){\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;mixIns&lt;/span&gt;){\n    i=-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;len=&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;mixIns&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt;(++i&amp;lt;len){\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;mixIns&lt;/span&gt;[i].&lt;span class=&quot;hljs-title function_&quot;&gt;call&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;,args);\n      }\n  }  \n};\n&lt;span class=&quot;hljs-title class_&quot;&gt;Mixin&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;mix&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;constructor, mix&lt;/span&gt;){\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; thing\n  ,cProto=constructor.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;\n  ,mProto=mix.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;;\n  &lt;span class=&quot;hljs-comment&quot;&gt;//no extending, if multiple prototypes&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;// have members with the same name then use&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;// the last&lt;/span&gt;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(thing &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; mProto){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;hasOwnProperty&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;call&lt;/span&gt;(mProto, thing)){\n      cProto[thing]=mProto[thing];\n    }\n  }\n  &lt;span class=&quot;hljs-comment&quot;&gt;//instance intialisers&lt;/span&gt;\n  cProto.&lt;span class=&quot;hljs-property&quot;&gt;mixIns&lt;/span&gt; = cProto.&lt;span class=&quot;hljs-property&quot;&gt;mixIns&lt;/span&gt; || [];\n  cProto.&lt;span class=&quot;hljs-property&quot;&gt;mixIns&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(mix);\n};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Movable&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;args&lt;/span&gt;){\n  args=args || {};\n  &lt;span class=&quot;hljs-comment&quot;&gt;//demo how to set defaults with truthy&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;// not checking validaty&lt;/span&gt;\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;location&lt;/span&gt;=args.&lt;span class=&quot;hljs-property&quot;&gt;location&lt;/span&gt;;\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;isStuck&lt;/span&gt; = (args.&lt;span class=&quot;hljs-property&quot;&gt;isStuck&lt;/span&gt;===&lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//defaults to false&lt;/span&gt;\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;canMove&lt;/span&gt; = (args.&lt;span class=&quot;hljs-property&quot;&gt;canMove&lt;/span&gt;!==&lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//defaults to true&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;//speed defaults to 4&lt;/span&gt;\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;speed&lt;/span&gt; = (args.&lt;span class=&quot;hljs-property&quot;&gt;speed&lt;/span&gt;===&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)?&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:(args.&lt;span class=&quot;hljs-property&quot;&gt;speed&lt;/span&gt; || &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;);\n};\n&lt;span class=&quot;hljs-title class_&quot;&gt;Movable&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;move&lt;/span&gt;=&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;I am moving, default implementation.&apos;&lt;/span&gt;);\n};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Animal&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;args&lt;/span&gt;){\n  args = args || {};\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt; = args.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt; || &lt;span class=&quot;hljs-string&quot;&gt;&quot;thing&quot;&lt;/span&gt;;\n};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Cat&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;args&lt;/span&gt;){\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i,len;\n  &lt;span class=&quot;hljs-title class_&quot;&gt;Animal&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;call&lt;/span&gt;(args);\n  &lt;span class=&quot;hljs-comment&quot;&gt;//if an object can have others mixed in&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;//  then this is needed to initialise &lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;//  instance members&lt;/span&gt;\n  &lt;span class=&quot;hljs-title class_&quot;&gt;Mixin&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;call&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;,args);\n};\n&lt;span class=&quot;hljs-title class_&quot;&gt;Cat&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt; = &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;create&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Animal&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;);\n&lt;span class=&quot;hljs-title class_&quot;&gt;Cat&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;constructor&lt;/span&gt; = &lt;span class=&quot;hljs-title class_&quot;&gt;Cat&lt;/span&gt;;\n&lt;span class=&quot;hljs-title class_&quot;&gt;Mixin&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;mix&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Cat&lt;/span&gt;,&lt;span class=&quot;hljs-title class_&quot;&gt;Movable&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; poochie = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Cat&lt;/span&gt;({\n  &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;poochie&quot;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-attr&quot;&gt;location&lt;/span&gt;: {&lt;span class=&quot;hljs-attr&quot;&gt;x&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;y&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;22&lt;/span&gt;}\n});\npoochie.&lt;span class=&quot;hljs-title function_&quot;&gt;move&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The above is a simple implementation that replaces same named functions with whatever mix in is mixed in last.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;The this variable&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;In all the example code you&apos;ll see &lt;code&gt;this&lt;/code&gt; referring to the current instance.&lt;/p&gt;\n\n&lt;p&gt;The this variable actually refers to the invoking object, it refers to the object that came before the function.&lt;/p&gt;\n\n&lt;p&gt;To clarify see the following code:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;theInvokingObject.&lt;span class=&quot;hljs-title function_&quot;&gt;thefunction&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The instances where this would refer to the wrong object are usually when attaching event listeners, callbacks or timeouts and intervals. In the next 2 lines of code we &lt;code&gt;pass&lt;/code&gt; the function, we don&apos;t invoke it. Passing the function is: &lt;code&gt;someObject.aFunction&lt;/code&gt; and invoking it is: &lt;code&gt;someObject.aFunction()&lt;/code&gt;. The &lt;code&gt;this&lt;/code&gt; value does not refer to the object the function was declared on but on the object that &lt;code&gt;invokes&lt;/code&gt; it.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;setTimeout&lt;/span&gt;(someObject.&lt;span class=&quot;hljs-property&quot;&gt;aFuncton&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;);&lt;span class=&quot;hljs-comment&quot;&gt;//this in aFunction is window&lt;/span&gt;\nsomebutton.&lt;span class=&quot;hljs-property&quot;&gt;onclick&lt;/span&gt; = someObject.&lt;span class=&quot;hljs-property&quot;&gt;aFunction&lt;/span&gt;;&lt;span class=&quot;hljs-comment&quot;&gt;//this in aFunction is somebutton&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To make &lt;code&gt;this&lt;/code&gt; in the above cases refer to someObject you can pass a &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures&quot; rel=&quot;noreferrer&quot;&gt;closure&lt;/a&gt; instead of the function directly:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;setTimeout&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){someObject.&lt;span class=&quot;hljs-title function_&quot;&gt;aFuncton&lt;/span&gt;();},&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;);\nsomebutton.&lt;span class=&quot;hljs-property&quot;&gt;onclick&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){someObject.&lt;span class=&quot;hljs-title function_&quot;&gt;aFunction&lt;/span&gt;();};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I like to define functions that return a function for &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures&quot; rel=&quot;noreferrer&quot;&gt;closures&lt;/a&gt; on the prototype to have fine control over the variables that are included in the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures&quot; rel=&quot;noreferrer&quot;&gt;closure&lt;/a&gt; scope.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;name&lt;/span&gt;){\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; largeVariable = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;100000&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;join&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Hello World&quot;&lt;/span&gt;);\n  &lt;span class=&quot;hljs-comment&quot;&gt;// if I do &lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;// setInterval(function(){this.checkSleep();},100);&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;// then largeVariable will be in the closure scope as well&lt;/span&gt;\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt;=name\n  &lt;span class=&quot;hljs-built_in&quot;&gt;setInterval&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;closures&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;checkSleep&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;),&lt;span class=&quot;hljs-number&quot;&gt;1000&lt;/span&gt;);\n};\n&lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;closures&lt;/span&gt;={\n  &lt;span class=&quot;hljs-attr&quot;&gt;checkSleep&lt;/span&gt;:&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;hamsterInstance&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n      &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; largeVariable);&lt;span class=&quot;hljs-comment&quot;&gt;//undefined&lt;/span&gt;\n      &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(hamsterInstance);&lt;span class=&quot;hljs-comment&quot;&gt;//instance of Hamster named Betty&lt;/span&gt;\n      hamsterInstance.&lt;span class=&quot;hljs-title function_&quot;&gt;checkSleep&lt;/span&gt;();\n    };\n  }\n};\n&lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;checkSleep&lt;/span&gt;=&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n  &lt;span class=&quot;hljs-comment&quot;&gt;//do stuff assuming this is the Hamster instance&lt;/span&gt;\n};\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; betty = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Betty&quot;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Passing (constructor) arguments&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;When Child calls a Parent (&lt;code&gt;Hamster.apply(this,arguments);&lt;/code&gt;) we assume that Hamster uses the same arguments as RussionMini in the same order. For functions that call other functions I usually use another way to pass arguments.&lt;/p&gt;\n\n&lt;p&gt;I usually pass one object to a function and have that function mutate whatever it needs (set defaults), then that function will pass it to another function that will do the same and so on and so on. Here is an example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;//helper funciton to throw error&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;thowError&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;message&lt;/span&gt;){\n  &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Error&lt;/span&gt;(message)\n};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;args&lt;/span&gt;){\n  &lt;span class=&quot;hljs-comment&quot;&gt;//make sure args is something so you get the errors&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;//  that make sense to you instead of &quot;args is undefined&quot;&lt;/span&gt;\n  args = args || {};\n  &lt;span class=&quot;hljs-comment&quot;&gt;//default value for type:&lt;/span&gt;\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;type&lt;/span&gt; = args.&lt;span class=&quot;hljs-property&quot;&gt;type&lt;/span&gt; || &lt;span class=&quot;hljs-string&quot;&gt;&quot;default type&quot;&lt;/span&gt;;\n  &lt;span class=&quot;hljs-comment&quot;&gt;//name is not optional, very simple truthy check f&lt;/span&gt;\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt; = args.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt; || &lt;span class=&quot;hljs-title function_&quot;&gt;thowError&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;args.name is not optional&quot;&lt;/span&gt;);\n};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RussionMini&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;args&lt;/span&gt;){\n  &lt;span class=&quot;hljs-comment&quot;&gt;//make sure args is something so you get the errors&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;//  that make sense to you instead of &quot;args is undefined&quot;&lt;/span&gt;\n  args = args || {};\n  args.&lt;span class=&quot;hljs-property&quot;&gt;type&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Russion Mini&quot;&lt;/span&gt;;\n  &lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;call&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;,args);\n};\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; ben = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RussionMini&lt;/span&gt;({&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;Ben&quot;&lt;/span&gt;});\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(ben);&lt;span class=&quot;hljs-comment&quot;&gt;// Object { type=&quot;Russion Mini&quot;, name=&quot;Ben&quot;}&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; betty = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RussionMini&lt;/span&gt;();&lt;span class=&quot;hljs-comment&quot;&gt;//Error: args.name is not optional&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This way of passing arguments in a function chain is useful in many cases. When you&apos;re working on code that would calculate a total of something and later you&apos;d like to re factor the total of that something to be in a certain currency you may have to change a lot of functions to pass the value for currency. You could up scope a currency value (even to global like &lt;code&gt;window.currency=&apos;USD&apos;&lt;/code&gt;) but that&apos;s a bad way to solve it.&lt;/p&gt;\n\n&lt;p&gt;With passing an object you could add currency to &lt;code&gt;args&lt;/code&gt; whenever it&apos;s available in the function chain and mutate/use it whenever you need it without changing the other functions (explicitly have to pass it in the function calls).&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Private variables&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;JavaScript doesn&apos;t have a private modifier.&lt;/p&gt;\n\n&lt;p&gt;I agree with the following: &lt;a href=&quot;http://blog.millermedeiros.com/a-case-against-private-variables-and-functions-in-javascript/&quot; rel=&quot;noreferrer&quot;&gt;http://blog.millermedeiros.com/a-case-against-private-variables-and-functions-in-javascript/&lt;/a&gt; and personally have not used them.&lt;/p&gt;\n\n&lt;p&gt;You can indicate to other programmers a member is meant to be private by naming it &lt;code&gt;_aPrivate&lt;/code&gt; or putting all the private variables in an object variable called &lt;code&gt;_&lt;/code&gt;. &lt;/p&gt;\n\n&lt;p&gt;You can implement private members through &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures&quot; rel=&quot;noreferrer&quot;&gt;closures&lt;/a&gt; but instance specific private members can only be accessed by functions that are not on the prototype.&lt;/p&gt;\n\n&lt;p&gt;Not implementing privates as closures would leak implementation and enable you or users extending your code to use members that are not part of your public API. This can be both good and bad. &lt;/p&gt;\n\n&lt;p&gt;It&apos;s good because it enables you and others to mock certain members for testing easily. It gives others a chance to easily improve (patch) your code but this is also bad because there is no guarantee that a next version of your code has the same implementation and or private members.&lt;/p&gt;\n\n&lt;p&gt;By using closures you do not give others a choice and by using the naming convention with documentation you do. This is not specific to JavaScript, in other languages you can decide not to use private members as you trust others to know what they are doing and give them the choice to do as they want (with risks involved).&lt;/p&gt;\n\n&lt;p&gt;If you still insist on privates then the &lt;a href=&quot;https://stackoverflow.com/a/21800194/1641941&quot;&gt;following&lt;/a&gt; pattern may help. It doesn&apos;t implement private though but implements protected.&lt;/p&gt;\n    ","\n&lt;p&gt;Prototypes are &lt;strong&gt;NOT&lt;/strong&gt; instantiated for each instance of an object.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Hamster&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;food&lt;/span&gt; = []\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Every instance of Hamster will share that array&lt;/p&gt;\n\n&lt;p&gt;If you need (and you do in this case) separate instances of food collections for each Hamster, you need to create the property on the instance. For example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;Hamster&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;food&lt;/span&gt; = [];\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To answer your question about Example 1, if it doesn&apos;t find the property anywhere in the prototype chain, it creates the property on the target object.&lt;/p&gt;\n    "]},"randomTags":[{"name":"session","slug":"session"},{"name":"default-parameters","slug":"default-parameters"},{"name":"compiler-errors","slug":"compiler-errors"},{"name":"class","slug":"class"},{"name":"pandas","slug":"pandas"},{"name":"datetimeoffset","slug":"datetimeoffset"},{"name":"ecmascript-harmony","slug":"ecmascript-harmony"},{"name":"android-gradle-plugin","slug":"android-gradle-plugin"},{"name":"mysql","slug":"mysql"},{"name":"firebase-realtime-database","slug":"firebase-realtime-database"},{"name":"android-recyclerview","slug":"android-recyclerview"},{"name":"precision","slug":"precision"},{"name":"environment-variables","slug":"environment-variables"},{"name":"prototype","slug":"prototype"},{"name":"responsive-design","slug":"responsive-design"},{"name":"http-get","slug":"http-get"},{"name":"language-features","slug":"language-features"},{"name":"3d","slug":"3d"},{"name":"assignment-operator","slug":"assignment-operator"},{"name":"jvm-hotspot","slug":"jvm-hotspot"}]},"__N_SSG":true}