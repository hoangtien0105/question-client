{"pageProps":{"data":{"count":1,"rows":[{"id":483,"title":"CSS margin terror; Margin adds space outside parent element [duplicate]","slug":"css-margin-terror-margin-adds-space-outside-parent-element-duplicate-1657388142199","postType":"QUESTION","createdAt":"2022-07-09T17:35:42.000Z","updatedAt":"2022-07-09T17:35:42.000Z","tags":[{"id":2438,"name":"margin","slug":"margin","createdAt":"2022-07-09T17:35:42.000Z","updatedAt":"2022-07-09T17:35:42.000Z","Questions_Tags":{"questionId":483,"tagId":2438}}]}]},"slug":"margin","page":"1","answers":{"483":["\n&lt;p&gt;Add &lt;code&gt;overflow:auto&lt;/code&gt; to your &lt;code&gt;#page&lt;/code&gt; div.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://jsfiddle.net/j08691/464jW/&quot;&gt;jsFiddle example&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;And check out &lt;a href=&quot;http://www.w3.org/TR/CSS2/box.html#collapsing-margins&quot;&gt;collapsing margins&lt;/a&gt; while you&apos;re at it.&lt;/p&gt;\n    ","\n&lt;p&gt;Add any one of the following rules:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;float: left/right;\nposition: absolute;\ndisplay: inline-block;\noverflow: auto/scroll/hidden;\nclear: left/right/both;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This is caused by &lt;code&gt;collapsing margins&lt;/code&gt;. See an article about this behavior &lt;a href=&quot;https://www.sitepoint.com/web-foundations/collapsing-margins/&quot; rel=&quot;noreferrer&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;According to the article:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;The W3C specification defines collapsing margins as follows:&lt;/p&gt;\n  \n  &lt;p&gt;In this specification, the expression collapsing margins means that adjoining  margins (no non-empty content, padding, or border areas, or clearance separate them) of two or more boxes (which may be next to one another or nested) combine to form a single margin.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;This is also true for parent-child elements.&lt;/p&gt;\n\n&lt;p&gt;All the answers include one of the possible solutions:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;There are other situations where elements do not have their margins collapsed:&lt;/p&gt;\n  \n  &lt;ul&gt;\n  &lt;li&gt;floated elements&lt;/li&gt;\n  &lt;li&gt;absolutely positioned elements&lt;/li&gt;\n  &lt;li&gt;inline-block elements&lt;/li&gt;\n  &lt;li&gt;elements with overflow set to anything other than visible (They do not collapse margins with their children.)&lt;/li&gt;\n  &lt;li&gt;cleared elements (They do not collapse their top margins with their parent blocks bottom margin.)&lt;/li&gt;\n  &lt;li&gt;the root element&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;Problem was the parent not taking into account children for height. Adding &lt;code&gt;display:inline-block;&lt;/code&gt; did it for me.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Full CSS&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;#page {\n    margin:0;\n    background:#FF9;\n    display:inline-block;\n    width:100%;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://jsfiddle.net/M3Mu6/&quot; rel=&quot;noreferrer&quot;&gt;See Fiddle&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Just add &lt;code&gt;border-top: 1px solid transparent;&lt;/code&gt; to your &lt;code&gt;#page&lt;/code&gt; element.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://www.w3.org/TR/CSS2/box.html#collapsing-margins&quot; rel=&quot;nofollow noreferrer&quot;&gt;From w3.org&lt;/a&gt;&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;Two margins are adjoining if and only if:&lt;br&gt;\n  - no line boxes, no clearance, no padding and no border separate them&lt;/p&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;Add the following rule:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;overflow: hidden;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This is caused by collapsing margins. See an article about this behavior &lt;a href=&quot;https://teamtreehouse.com/community/why-there-is-a-white-space-above-header&quot; rel=&quot;nofollow noreferrer&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;According to the article:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;If a parent element does not have any top padding or less top margin then its first child, then elements are rendered in a way that makes the parent element appear to have the child element&apos;s margin. So this can happen anywhere on a page where these conditions are met, but it tends to be most obvious at the top of a page.&lt;/p&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;The solutions in the other answers didn&apos;t work for me. Transparent borders, inline-block, etc., all caused other problems. Instead, I added the following css to my ancestor element:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;parent::after{\n  content: &quot;&quot;;\n  display: inline-block;\n  clear: both;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Depending on your situation, this may cause its own problems because it adds extra space after the last child element.&lt;/p&gt;\n    ","\n&lt;p&gt;My approach when I was making styles for XenForo 2.1, but it should be useful for you:\n(Please replace those LESS variables to your actual values. Also, the absolute value of minor margins shall be as same as the height of before-after pseudo elements.)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;// The following two lines are to avoid top &amp;amp; bottom fieldset borders run out of the block body.\n// (Do not tweak the CSS overflow settings, otherwise the editor menu won&apos;t be float above the block border.)\n&amp;amp;:before {content: &quot;\\a0&quot;; display: block; width: auto; margin-bottom: floor(-1 * @xf-lineHeightDefault * @xf-fontSizeSmall - @xf-borderSizeMinorFeature);}\n&amp;amp;:after {content: &quot;\\a0&quot;; display: block; width: auto; margin-top: floor(-1 * @xf-lineHeightDefault * @xf-fontSizeSmall - @xf-borderSizeMinorFeature);}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;#page {\noverflow: hidden;\nmargin:0;\nbackground:#FF9;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    "]},"randomTags":[{"name":"invoke","slug":"invoke"},{"name":"flexbox","slug":"flexbox"},{"name":"reshape","slug":"reshape"},{"name":"local-variables","slug":"local-variables"},{"name":"reshape2","slug":"reshape2"},{"name":"nested-lists","slug":"nested-lists"},{"name":"equality","slug":"equality"},{"name":"sleep","slug":"sleep"},{"name":"conditional-operator","slug":"conditional-operator"},{"name":"undo","slug":"undo"},{"name":"pageload","slug":"pageload"},{"name":"stdin","slug":"stdin"},{"name":"android-sqlite","slug":"android-sqlite"},{"name":"language-design","slug":"language-design"},{"name":"deep-copy","slug":"deep-copy"},{"name":"nameerror","slug":"nameerror"},{"name":"autolayout","slug":"autolayout"},{"name":"nullreferenceexception","slug":"nullreferenceexception"},{"name":"prop","slug":"prop"},{"name":"time-format","slug":"time-format"}]},"__N_SSG":true}