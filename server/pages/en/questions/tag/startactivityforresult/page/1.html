<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find the solution to any question. We focus on finding the fastest possible solution for users. Main topics like coding, learning. - solutionschecker.com"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://solutionschecker.com","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://solutionschecker.com/questions","name":"Questions"}},{"@type":"ListItem","position":3,"item":{"@id":"https://solutionschecker.com/questions/tag/startactivityforresult","name":"Tag"}},{"@type":"ListItem","position":4,"item":{"@id":"https://solutionschecker.com/questions/tag/startactivityforresult/page/1","name":"Page"}}]}</script><title>startactivityforresult tags | Solution Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="All questions and solutions for startactivityforresult tags - page 1"/><meta property="og:title" content="startactivityforresult tags | Solution Checker"/><meta property="og:description" content="All questions and solutions for startactivityforresult tags - page 1"/><meta name="next-head-count" content="20"/><link rel="preload" href="/_next/static/css/c116652e2d6f4ad0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c116652e2d6f4ad0.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-43d1c35cd6eb9b8f.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/294-106ef8570fa99deb.js" defer=""></script><script src="/_next/static/chunks/912-9618bcf05da7091d.js" defer=""></script><script src="/_next/static/chunks/596-971e6593fb286f13.js" defer=""></script><script src="/_next/static/chunks/pages/questions/tag/%5Bslug%5D/page/%5Bpage%5D-7fc07124d72d00c2.js" defer=""></script><script src="/_next/static/00bsHgHZki2FteshOatnd/_buildManifest.js" defer=""></script><script src="/_next/static/00bsHgHZki2FteshOatnd/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h1 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h1></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/tag/startactivityforresult/page/1#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="pagination-page-wrapper"><span class="pagination-buttons previous bg-stone-500 cursor-not-allowed  hover:bg-stone-500 text-white font-bold py-2 px-4 rounded">Previous</span></div><div class="question my-5"><div class="flex items-center justify-center"><div class="rounded-xl border p-5 shadow-md post-layout-inner bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-to-manage-startactivityforresult-on-android-1657387967393">How to manage startActivityForResult on Android</a></div></div></div><div class="tags-wrap h-max space-x-8"><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/startactivityforresult">startactivityforresult</a></div></div></div><div><div class="flex items-center justify-between text-slate-500"><div class="flex space-x-4 md:space-x-8"><span class="btn bg-stone-500 cursor-pointer mt-5  hover:bg-stone-500 text-white font-bold py-2 px-4 rounded">Show Solution</span></div></div></div></div></div></div><div class="pagination-page-wrapper"><span class="pagination-buttons next bg-stone-500 cursor-not-allowed  hover:bg-stone-500 text-white font-bold py-2 px-4 rounded">Next</span></div><div class="widget"><a href="/questions/tag/memory-management">memory-management</a><a href="/questions/tag/python-internals">python-internals</a><a href="/questions/tag/shuffle">shuffle</a><a href="/questions/tag/mongodb">mongodb</a><a href="/questions/tag/gprof">gprof</a><a href="/questions/tag/identifier">identifier</a><a href="/questions/tag/bitwise-operators">bitwise-operators</a><a href="/questions/tag/main">main</a><a href="/questions/tag/uniqueidentifier">uniqueidentifier</a><a href="/questions/tag/jtable">jtable</a><a href="/questions/tag/httpurlconnection">httpurlconnection</a><a href="/questions/tag/pygame2">pygame2</a><a href="/questions/tag/selenium-webdriver">selenium-webdriver</a><a href="/questions/tag/jsp">jsp</a><a href="/questions/tag/comparator">comparator</a><a href="/questions/tag/language-lawyer">language-lawyer</a><a href="/questions/tag/user-interface">user-interface</a><a href="/questions/tag/split">split</a><a href="/questions/tag/undefined-index">undefined-index</a><a href="/questions/tag/form-submit">form-submit</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"count":1,"rows":[{"id":433,"title":"How to manage startActivityForResult on Android","slug":"how-to-manage-startactivityforresult-on-android-1657387967393","postType":"QUESTION","createdAt":"2022-07-09T17:32:47.000Z","updatedAt":"2022-07-09T17:32:47.000Z","tags":[{"id":2267,"name":"startactivityforresult","slug":"startactivityforresult","createdAt":"2022-07-09T17:32:47.000Z","updatedAt":"2022-07-09T17:32:47.000Z","Questions_Tags":{"questionId":433,"tagId":2267}}]}]},"slug":"startactivityforresult","page":"1","answers":{"433":["\n\u0026lt;p\u0026gt;From your \u0026lt;code\u0026gt;FirstActivity\u0026lt;/code\u0026gt;, call the \u0026lt;code\u0026gt;SecondActivity\u0026lt;/code\u0026gt; using the \u0026lt;code\u0026gt;startActivityForResult()\u0026lt;/code\u0026gt; method.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For example:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; LAUNCH_SECOND_ACTIVITY = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\nIntent i = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; Intent(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, SecondActivity.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;);\nstartActivityForResult(i, LAUNCH_SECOND_ACTIVITY);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;In your \u0026lt;code\u0026gt;SecondActivity\u0026lt;/code\u0026gt;, set the data which you want to return back to \u0026lt;code\u0026gt;FirstActivity\u0026lt;/code\u0026gt;. If you don\u0026apos;t want to return back, don\u0026apos;t set any.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For example: In \u0026lt;code\u0026gt;SecondActivity\u0026lt;/code\u0026gt; if you want to send back data:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;returnIntent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;();\nreturnIntent.putExtra(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;result\u0026quot;\u0026lt;/span\u0026gt;,result);\nsetResult(Activity.RESULT_OK,returnIntent);\nfinish();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;If you don\u0026apos;t want to return data:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-lisp\u0026quot;\u0026gt;Intent returnIntent = new Intent()\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\nsetResult(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;Activity\u0026lt;/span\u0026gt;.RESULT_CANCELED, returnIntent)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\nfinish()\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Now in your \u0026lt;code\u0026gt;FirstActivity\u0026lt;/code\u0026gt; class, write the following code for the \u0026lt;code\u0026gt;onActivityResult()\u0026lt;/code\u0026gt; method.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onActivityResult\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; requestCode, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; resultCode, Intent data)\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onActivityResult(requestCode, resultCode, data);\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (requestCode == LAUNCH_SECOND_ACTIVITY) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(resultCode == Activity.RESULT_OK){\n            String result=data.getStringExtra(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;result\u0026quot;\u0026lt;/span\u0026gt;);\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (resultCode == Activity.RESULT_CANCELED) {\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Write your code if there\u0026apos;s no result\u0026lt;/span\u0026gt;\n        }\n    }\n} \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//onActivityResult\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;To implement passing data between two activities in a much better way in Kotlin, please go through \u0026lt;em\u0026gt;\u0026apos;\u0026lt;a href=\u0026quot;https://proandroiddev.com/is-onactivityresult-deprecated-in-activity-results-api-lets-deep-dive-into-it-302d5cf6edd\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;A better way to pass data between Activities\u0026lt;/a\u0026gt;\u0026apos;\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;How to check the result from the main activity?\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;You need to override \u0026lt;a href=\u0026quot;http://developer.android.com/reference/android/app/Activity.html#onActivityResult%28int,%20int,%20android.content.Intent%29\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;Activity.onActivityResult()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; and then check its parameters:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;requestCode\u0026lt;/code\u0026gt; identifies which app returned these results. This is defined by you when you call \u0026lt;code\u0026gt;startActivityForResult()\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;resultCode\u0026lt;/code\u0026gt; informs you whether this app succeeded, failed, or something different\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;data\u0026lt;/code\u0026gt; holds any information returned by this app. This may be \u0026lt;code\u0026gt;null\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Example\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To see the entire process in context, here is a supplemental answer. See \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/40969871/3681880\u0026quot;\u0026gt;my fuller answer\u0026lt;/a\u0026gt; for more explanation.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/Tyhf8.png\u0026quot; alt=\u0026quot;enter image description here\u0026quot;\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;MainActivity.java\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;MainActivity\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;AppCompatActivity\u0026lt;/span\u0026gt; {\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Add a different request code for every activity you are starting from here\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;final\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;SECOND_ACTIVITY_REQUEST_CODE\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onCreate\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Bundle savedInstanceState)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// \u0026quot;Go to Second Activity\u0026quot; button click\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onButtonClick\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(View view)\u0026lt;/span\u0026gt; {\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Start the SecondActivity\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, SecondActivity.class);\n        startActivityForResult(intent, SECOND_ACTIVITY_REQUEST_CODE);\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// This method is called when the second activity finishes\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onActivityResult\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; requestCode, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; resultCode, Intent data)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onActivityResult(requestCode, resultCode, data);\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// check that it is the SecondActivity with an OK result\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (requestCode == SECOND_ACTIVITY_REQUEST_CODE) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (resultCode == RESULT_OK) { \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Activity.RESULT_OK\u0026lt;/span\u0026gt;\n\n                \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// get String data from Intent\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;returnString\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; data.getStringExtra(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;keyName\u0026quot;\u0026lt;/span\u0026gt;);\n\n                \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// set text view with string\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;textView\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (TextView) findViewById(R.id.textView);\n                textView.setText(returnString);\n            }\n        }\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;SecondActivity.java\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scala\u0026quot;\u0026gt;public \u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;SecondActivity\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;AppCompatActivity\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; void onCreate(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Bundle\u0026lt;/span\u0026gt; savedInstanceState) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onCreate(savedInstanceState);\n        setContentView(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;R\u0026lt;/span\u0026gt;.layout.activity_second);\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// \u0026quot;Send text back\u0026quot; button click\u0026lt;/span\u0026gt;\n    public void onButtonClick(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt; view) {\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// get the text from the EditText\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;EditText\u0026lt;/span\u0026gt; editText = (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;EditText\u0026lt;/span\u0026gt;) findViewById(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;R\u0026lt;/span\u0026gt;.id.editText);\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; stringToPassBack = editText.getText().toString();\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// put the String to pass back into an Intent and close this activity\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt; intent = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;();\n        intent.putExtra(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;keyName\u0026quot;\u0026lt;/span\u0026gt;, stringToPassBack);\n        setResult(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;RESULT_OK\u0026lt;/span\u0026gt;, intent);\n        finish();\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Complementing \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/10407159/how-to-manage-startactivityforresult-on-android/10407371#10407371\u0026quot;\u0026gt;the answer from Nishant\u0026lt;/a\u0026gt;, the best way to return the activity result is:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;returnIntent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; getIntent();\nreturnIntent.putExtra(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;result\u0026quot;\u0026lt;/span\u0026gt;,result);\nsetResult(RESULT_OK,returnIntent);\nfinish();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;I was having a problem with\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;new \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Then I found out that the correct way is using\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getIntent\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;to get the current intent.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h3\u0026gt;startActivityForResult:  Deprecated in Android X\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;For the \u0026lt;em\u0026gt;new\u0026lt;/em\u0026gt; way we have \u0026lt;code\u0026gt;registerForActivityResult\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;In Java :\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// You need to create a launcher variable inside onAttach or onCreate or global, i.e, before the activity is displayed\u0026lt;/span\u0026gt;\n ActivityResultLauncher\u0026amp;lt;Intent\u0026amp;gt; launchSomeActivity = registerForActivityResult(\n     \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ActivityResultContracts\u0026lt;/span\u0026gt;.StartActivityForResult(),\n     \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ActivityResultCallback\u0026lt;/span\u0026gt;\u0026amp;lt;ActivityResult\u0026amp;gt;() {\n              \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onActivityResult\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(ActivityResult result)\u0026lt;/span\u0026gt; {\n                   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (result.getResultCode() == Activity.RESULT_OK) {\n                         \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; result.getData();\n                         \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// your operation....\u0026lt;/span\u0026gt;\n                    }\n               }\n      });\n\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;openYourActivity\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, SomeActivity.class);\n            launchSomeActivity.launch(intent);\n      }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;In Kotlin :\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-kotlin\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; resultLauncher = registerForActivityResult(StartActivityForResult()) { result -\u0026amp;gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (result.resultCode == Activity.RESULT_OK) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;val\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;: Intent? = result.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// your operation...\u0026lt;/span\u0026gt;\n    }\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;openYourActivity\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;val\u0026lt;/span\u0026gt; intent = Intent(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, SomeActivity::\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;.java)\n    resultLauncher.launch(intent)\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h3\u0026gt;Advantage:\u0026lt;/h3\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;The new way is reduce complexity which we faced when we call the activity from a fragment or from another activity\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Easily ask for any permission and get callback\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;For those who have problem with \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/10564474/wrong-requestcode-in-onactivityresult\u0026quot;\u0026gt;wrong requestCode in onActivityResult\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you are calling \u0026lt;code\u0026gt;startActivityForResult()\u0026lt;/code\u0026gt; from your \u0026lt;code\u0026gt;Fragment\u0026lt;/code\u0026gt;, the requestCode is changed by the Activity that owns the Fragment.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you want to get the correct resultCode in your activity try this:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Change:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;startActivityForResult(intent, 1);\u0026lt;/code\u0026gt; To:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;getActivity().startActivityForResult(intent, 1);\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;The ActivityResultRegistry is the recommended approach\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;ComponentActivity\u0026lt;/code\u0026gt; now provides an \u0026lt;code\u0026gt;ActivityResultRegistry\u0026lt;/code\u0026gt; that lets you handle the \u0026lt;code\u0026gt;startActivityForResult()\u0026lt;/code\u0026gt;+\u0026lt;code\u0026gt;onActivityResult()\u0026lt;/code\u0026gt; as well as \u0026lt;code\u0026gt;requestPermissions()\u0026lt;/code\u0026gt;+\u0026lt;code\u0026gt;onRequestPermissionsResult()\u0026lt;/code\u0026gt; flows without overriding methods in your \u0026lt;code\u0026gt;Activity\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;Fragment\u0026lt;/code\u0026gt;, brings increased type safety via \u0026lt;code\u0026gt;ActivityResultContract\u0026lt;/code\u0026gt;, and provides hooks for testing these flows.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;It is strongly recommended to use the Activity Result APIs introduced in Android\u0026amp;nbsp;10 Activity 1.2.0-alpha02 and Fragment 1.3.0-alpha02.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Add this to your \u0026lt;code\u0026gt;build.gradle\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-kotlin\u0026quot;\u0026gt;def activity_version = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1.2.0-beta01\u0026quot;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Java language implementation\u0026lt;/span\u0026gt;\nimplementation \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;androidx.activity:activity:\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$activity_version\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Kotlin\u0026lt;/span\u0026gt;\nimplementation \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;androidx.activity:activity-ktx:\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$activity_version\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h2\u0026gt;How to use the pre-built contract\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;This new API has the following pre-built functionalities\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;TakeVideo\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;PickContact\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;GetContent\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;GetContents\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;OpenDocument\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;OpenDocuments\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;OpenDocumentTree\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;CreateDocument\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Dial\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;TakePicture\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;RequestPermission\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;RequestPermissions\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;An example that uses the takePicture contract:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-kotlin\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;val\u0026lt;/span\u0026gt; takePicture = prepareCall(ActivityResultContracts.TakePicture()) { bitmap: Bitmap? -\u0026amp;gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Do something with the Bitmap, if present\u0026lt;/span\u0026gt;\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;override\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;onCreate\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(savedInstanceState: \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Bundle\u0026lt;/span\u0026gt;?)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    button.setOnClickListener { takePicture() }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;So whats going on here? Lets break it down slightly. \u0026lt;code\u0026gt;takePicture\u0026lt;/code\u0026gt; is just a callback which returns a nullable Bitmap - whether or not its null depends on whether or not the \u0026lt;code\u0026gt;onActivityResult\u0026lt;/code\u0026gt; process was successful. \u0026lt;code\u0026gt;prepareCall\u0026lt;/code\u0026gt; then registers this call into a new feature on \u0026lt;code\u0026gt;ComponentActivity\u0026lt;/code\u0026gt; called the \u0026lt;code\u0026gt;ActivityResultRegistry\u0026lt;/code\u0026gt; - well come back to this later. \u0026lt;code\u0026gt;ActivityResultContracts.TakePicture()\u0026lt;/code\u0026gt; is one of the built-in helpers which Google have created for us, and finally invoking \u0026lt;code\u0026gt;takePicture\u0026lt;/code\u0026gt; actually triggers the Intent in the same way that you would previously with \u0026lt;code\u0026gt;Activity.startActivityForResult(intent, REQUEST_CODE)\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;How to write a custom contract\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;A simple contract that takes an Int as an \u0026lt;em\u0026gt;input\u0026lt;/em\u0026gt; and returns a string that the requested Activity returns in the result Intent.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-kotlin\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;MyContract\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;ActivityResultContract\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Int, String\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;() {\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;companion\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;val\u0026lt;/span\u0026gt; ACTION = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;com.myapp.action.MY_ACTION\u0026quot;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;val\u0026lt;/span\u0026gt; INPUT_INT = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;input_int\u0026quot;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;val\u0026lt;/span\u0026gt; OUTPUT_STRING = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;output_string\u0026quot;\u0026lt;/span\u0026gt;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;override\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;createIntent\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(input: \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Int\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;: Intent {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; Intent(ACTION)\n            .apply { putExtra(INPUT_INT, input) }\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;override\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;parseResult\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(resultCode: \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Int\u0026lt;/span\u0026gt;, intent: \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;?)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;: String? {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;when\u0026lt;/span\u0026gt; (resultCode) {\n            Activity.RESULT_OK -\u0026amp;gt; intent?.getStringExtra(OUTPUT_STRING)\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; -\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;\n        }\n    }\n}\n\n\u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;MyActivity\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;AppCompatActivity\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;() {\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;val\u0026lt;/span\u0026gt; myActionCall = prepareCall(MyContract()) { result -\u0026amp;gt;\n        Log.i(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;MyActivity\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Obtained result: \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$result\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;)\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;override\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;onCreate\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(savedInstanceState: \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Bundle\u0026lt;/span\u0026gt;?)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onCreate(savedInstanceState)\n        ...\n        button.setOnClickListener {\n            myActionCall(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;500\u0026lt;/span\u0026gt;)\n        }\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Check \u0026lt;a href=\u0026quot;https://developer.android.com/training/basics/intents/result\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;this official documentation\u0026lt;/a\u0026gt; for more information.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you want to update the user interface with the activity result, you can\u0026apos;t to use \u0026lt;code\u0026gt;this.runOnUiThread(new Runnable() {}\u0026lt;/code\u0026gt;. Doing this, the UI won\u0026apos;t refresh with the new value. Instead, you can do this:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onActivityResult\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; requestCode, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; resultCode, Intent data)\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onActivityResult(requestCode, resultCode, data);\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (resultCode == RESULT_CANCELED) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt;;\n    }\n\n    global_lat = data.getDoubleExtra(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;LATITUDE\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n    global_lng = data.getDoubleExtra(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;LONGITUDE\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n    new_latlng = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onResume\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onResume();\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(new_latlng)\n    {\n        PhysicalTagProperties.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.setLocation(global_lat, global_lng);\n        new_latlng=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This seems silly, but it works pretty well.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I will post the new \u0026quot;way\u0026quot; with \u0026lt;a href=\u0026quot;https://developer.android.com/jetpack/androidx\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Android X\u0026lt;/a\u0026gt; in a short answer (because in some case you does not need custom registry or contract). If you want more information, see:  \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://developer.android.com/training/basics/intents/result\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Getting a result from an activity\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Important\u0026lt;/strong\u0026gt;: there is actually a bug with the backward compatibility of Android X so you have to add \u0026lt;code\u0026gt;fragment_version\u0026lt;/code\u0026gt; in your Gradle file. \u0026lt;strong\u0026gt;Otherwise you will get an exception \u0026quot;New result API error : Can only use lower 16 bits for requestCode\u0026quot;\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-kotlin\u0026quot;\u0026gt;dependencies {\n\n    def activity_version = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1.2.0-beta01\u0026quot;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Java language implementation\u0026lt;/span\u0026gt;\n    implementation \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;androidx.activity:activity:\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$activity_version\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Kotlin\u0026lt;/span\u0026gt;\n    implementation \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;androidx.activity:activity-ktx:\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$activity_version\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;\n\n    def fragment_version = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1.3.0-beta02\u0026quot;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Java language implementation\u0026lt;/span\u0026gt;\n    implementation \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;androidx.fragment:fragment:\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$fragment_version\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Kotlin\u0026lt;/span\u0026gt;\n    implementation \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;androidx.fragment:fragment-ktx:\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$fragment_version\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Testing Fragments in Isolation\u0026lt;/span\u0026gt;\n    debugImplementation \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;androidx.fragment:fragment-testing:\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$fragment_version\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Now you just have to add this member variable of your activity. This use a predefined registry and generic contract.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scala\u0026quot;\u0026gt;public \u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;MyActivity\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;AppCompatActivity\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;{\n\n   ...\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/**\n     * Activity callback API.\n     */\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// https://developer.android.com/training/basics/intents/result\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;ActivityResultLauncher\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;\u0026amp;gt; mStartForResult = registerForActivityResult(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;ActivityResultContracts\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;StartActivityForResult\u0026lt;/span\u0026gt;(),\n\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;ActivityResultCallback\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;ActivityResult\u0026lt;/span\u0026gt;\u0026amp;gt;() {\n\n                \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n                public void onActivityResult(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;ActivityResult\u0026lt;/span\u0026gt; result) {\n                    switch (result.getResultCode()) {\n                        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Activity\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;RESULT_OK\u0026lt;/span\u0026gt;:\n                            \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt; intent = result.getData();\n                            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Handle the Intent\u0026lt;/span\u0026gt;\n                            \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Toast\u0026lt;/span\u0026gt;.makeText(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;MyActivity\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Activity returned ok\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Toast\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;LENGTH_SHORT\u0026lt;/span\u0026gt;).show();\n                            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;;\n                        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Activity\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;RESULT_CANCELED\u0026lt;/span\u0026gt;:\n                            \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Toast\u0026lt;/span\u0026gt;.makeText(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;MyActivity\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Activity canceled\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Toast\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;LENGTH_SHORT\u0026lt;/span\u0026gt;).show();\n                            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;;\n                    }\n                }\n            });\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Before new API you had :\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;btn.setOnClickListener(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt;.OnClickListener() {\n\n            \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onClick\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(View v)\u0026lt;/span\u0026gt; {\n                \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;(MyActivity .\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, EditActivity.class);\n                startActivityForResult(intent, Constants.INTENT_EDIT_REQUEST_CODE);\n            }\n        });\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;You may notice that the request code is now generated (and hold) by the Google framework.\u0026lt;/strong\u0026gt;\nYour code becomes:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt; btn.setOnClickListener(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt;.OnClickListener() {\n\n                \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onClick\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(View v)\u0026lt;/span\u0026gt; {\n                    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;(MyActivity .\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, EditActivity.class);\n                    mStartForResult.launch(intent);\n                }\n            });\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;First you use \u0026lt;code\u0026gt;startActivityForResult()\u0026lt;/code\u0026gt; with parameters in the first \u0026lt;code\u0026gt;Activity\u0026lt;/code\u0026gt; and if you want to send data from the second \u0026lt;code\u0026gt;Activity\u0026lt;/code\u0026gt; to first \u0026lt;code\u0026gt;Activity\u0026lt;/code\u0026gt; then pass the value using \u0026lt;code\u0026gt;Intent\u0026lt;/code\u0026gt; with the \u0026lt;code\u0026gt;setResult()\u0026lt;/code\u0026gt; method and get that data inside the \u0026lt;code\u0026gt;onActivityResult()\u0026lt;/code\u0026gt; method in the first \u0026lt;code\u0026gt;Activity\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;It is a very common problem on Android\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;It can be broken down into three pieces\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Start Activity B (happens in Activity A)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Set requested data  (happens in activity B)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Receive requested data (happens in activity A)\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;startActivity B\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;Intent i = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; Intent(A.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, B.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;);\nstartActivity(i);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;ol start=\u0026quot;2\u0026quot;\u0026gt;\n\u0026lt;li\u0026gt;Set requested data\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;In this part, you decide whether you want to send data back or not when a particular event occurs.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;E.g.: In activity B there is an EditText and two buttons b1, b2.\nClicking on Button b1 sends data back to activity A.\nClicking on Button b2 does not send any data.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Sending data\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;b1......clickListener\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;resultIntent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;();\n    resultIntent.putExtra(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Your_key\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Your_value\u0026quot;\u0026lt;/span\u0026gt;);\n    setResult(RES_CODE_A, resultIntent);\n    finish();\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Not sending data\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;b2.....\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.clickListener\u0026lt;/span\u0026gt;\n{\n   \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;setResult\u0026lt;/span\u0026gt;(RES_CODE_B, new Intent());\n   \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;finish\u0026lt;/span\u0026gt;();\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;The user clicks the back button\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;By default, the result is set with Activity.RESULT_CANCEL response code\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;ol start=\u0026quot;3\u0026quot;\u0026gt;\n\u0026lt;li\u0026gt;Retrieve result\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;For that override onActivityResult method\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onActivityResult\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; requestCode, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; resultCode, Intent data)\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onActivityResult(requestCode, resultCode, data);\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (resultCode == RES_CODE_A) {\n\n       \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// b1 was clicked\u0026lt;/span\u0026gt;\n       \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; data.getStringExtra(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;RES_CODE_A\u0026quot;\u0026lt;/span\u0026gt;);\n\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(resultCode == RES_CODE_B){\n\n       \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// b2 was clicked\u0026lt;/span\u0026gt;\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;{\n       \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// The back button was clicked\u0026lt;/span\u0026gt;\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In \u0026lt;strong\u0026gt;Kotlin\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Suppose A \u0026amp;amp; B are activities the navigation is from A -\u0026amp;gt; B\nWe need the result back from A \u0026amp;lt;- B\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;in \u0026lt;strong\u0026gt;A\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// calling the Activity B\u0026lt;/span\u0026gt;\n    resultLauncher.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;launch\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;(requireContext(), \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;::\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;java\u0026lt;/span\u0026gt;))\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// we get data in here from B\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; resultLauncher =\n    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;registerForActivityResult\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;ActivityResultContracts.StartActivityForResult()\u0026lt;/span\u0026gt;) { result -\u0026amp;gt;\n        when (result.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;resultCode\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Activity\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;RESULT_OK\u0026lt;/span\u0026gt; -\u0026amp;gt; {\n                result.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;?.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getStringExtra\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;VALUE\u0026quot;\u0026lt;/span\u0026gt;)?.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; {\n                    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// data received here\u0026lt;/span\u0026gt;\n                }\n            }\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Activity\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;RESULT_CANCELED\u0026lt;/span\u0026gt; -\u0026amp;gt; {\n                \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// cancel or failure\u0026lt;/span\u0026gt;\n            }\n        }\n    }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;In \u0026lt;strong\u0026gt;B\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Sending result value back to A\u0026lt;/span\u0026gt;\n    if (success) {\n       \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;setResult\u0026lt;/span\u0026gt;(RESULT_OK, Intent()\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.putExtra\u0026lt;/span\u0026gt;(\u0026quot;VALUE\u0026quot;, value))\n    } else {\n       \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;setResult\u0026lt;/span\u0026gt;(RESULT_CANCELED)\n    }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In your Main Activity\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onCreate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Bundle savedInstanceState\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onCreate\u0026lt;/span\u0026gt;(savedInstanceState);\n    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setContentView\u0026lt;/span\u0026gt;(R.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;layout\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;activity_main\u0026lt;/span\u0026gt;);\n\n    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;findViewById\u0026lt;/span\u0026gt;(R.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;takeCam\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setOnClickListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;OnClickListener\u0026lt;/span\u0026gt;() {\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onClick\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;View view\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt; intent=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getApplicationContext\u0026lt;/span\u0026gt;(),\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;TakePhotoActivity\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;);\n            intent.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;putExtra\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Mode\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Take\u0026quot;\u0026lt;/span\u0026gt;);\n            \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;startActivity\u0026lt;/span\u0026gt;(intent);\n        }\n    });\n    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;findViewById\u0026lt;/span\u0026gt;(R.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;selectGal\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setOnClickListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;OnClickListener\u0026lt;/span\u0026gt;() {\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onClick\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;View view\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt; intent=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getApplicationContext\u0026lt;/span\u0026gt;(),\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;TakePhotoActivity\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;);\n            intent.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;putExtra\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Mode\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Gallery\u0026quot;\u0026lt;/span\u0026gt;);\n            \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;startActivity\u0026lt;/span\u0026gt;(intent);\n        }\n    });\n}\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onActivityResult\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;int requestCode, int resultCode, Intent data\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onActivityResult\u0026lt;/span\u0026gt;(requestCode, resultCode, data);\n\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;In Second Activity to Display\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;final\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;CAMERA_REQUEST\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1888\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; ImageView imageView;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;final\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;MY_CAMERA_PERMISSION_CODE\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;final\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;PICK_PHOTO_FOR_AVATAR\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onCreate\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Bundle savedInstanceState)\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_take_photo);\n\n    imageView=findViewById(R.id.imageView);\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(getIntent().getStringExtra(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Mode\u0026quot;\u0026lt;/span\u0026gt;).equals(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Gallery\u0026quot;\u0026lt;/span\u0026gt;))\n    {\n        pickImage();\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (Build.VERSION.SDK_INT \u0026amp;gt;= Build.VERSION_CODES.M) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n                requestPermissions(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;[]{Manifest.permission.CAMERA}, MY_CAMERA_PERMISSION_CODE);\n            } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n                \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;cameraIntent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;(MediaStore.ACTION_IMAGE_CAPTURE);\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\n            }\n        }\n    }\n}\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pickImage\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;(Intent.ACTION_PICK);\n    intent.setType(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;image/*\u0026quot;\u0026lt;/span\u0026gt;);\n    startActivityForResult(intent, PICK_PHOTO_FOR_AVATAR);\n}\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onRequestPermissionsResult\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; requestCode, \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@NonNull\u0026lt;/span\u0026gt; String[] permissions, \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@NonNull\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;[] grantResults)\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (requestCode == MY_CAMERA_PERMISSION_CODE)\n    {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (grantResults[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;] == PackageManager.PERMISSION_GRANTED)\n        {\n            \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;cameraIntent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\n            startActivityForResult(cameraIntent, CAMERA_REQUEST);\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;\n        {\n            Toast.makeText(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Camera Permission Denied..\u0026quot;\u0026lt;/span\u0026gt;, Toast.LENGTH_LONG).show();\n        }\n    }\n}\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onActivityResult\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; requestCode, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; resultCode, Intent data)\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onActivityResult(requestCode, resultCode, data);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (requestCode == CAMERA_REQUEST \u0026amp;amp;\u0026amp;amp; resultCode == Activity.RESULT_OK) {\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Bitmap\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;photo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (Bitmap) data.getExtras().get(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;data\u0026quot;\u0026lt;/span\u0026gt;);\n        imageView.setImageBitmap(photo);\n    }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (requestCode == PICK_PHOTO_FOR_AVATAR \u0026amp;amp;\u0026amp;amp; resultCode == Activity.RESULT_OK) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (data == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) {\n                Log.d(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;ABC\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;No Such Image Selected\u0026quot;\u0026lt;/span\u0026gt;);\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt;;\n            }\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n                Uri selectedData=data.getData();\n                Log.d(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;ABC\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Image Pick-Up\u0026quot;\u0026lt;/span\u0026gt;);\n                imageView.setImageURI(selectedData);\n                \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputStream\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;inputStream\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; getApplicationContext().getContentResolver().openInputStream(selectedData);\n                \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Bitmap\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;bitmap\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; BitmapFactory.decodeStream(inputStream);\n                Bitmap bmp=MediaStore.Images.Media.getBitmap(getContentResolver(),selectedData);\n            } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (FileNotFoundException e) {\n                e.printStackTrace();\n            } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt;(IOException e){\n\n            }\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You need to override Activity.onActivityResult():\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onActivityResult\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; requestCode, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; resultCode, Intent data)\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onActivityResult(requestCode, resultCode, data);\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (resultCode == RESULT_CODE_ONE) {\n\n       \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; data.getStringExtra(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;RESULT_CODE_ONE\u0026quot;\u0026lt;/span\u0026gt;);\n\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(resultCode == RESULT_CODE_TWO){\n\n       \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// b was clicked\u0026lt;/span\u0026gt;\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;{\n\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "]},"randomTags":[{"name":"memory-management","slug":"memory-management"},{"name":"python-internals","slug":"python-internals"},{"name":"shuffle","slug":"shuffle"},{"name":"mongodb","slug":"mongodb"},{"name":"gprof","slug":"gprof"},{"name":"identifier","slug":"identifier"},{"name":"bitwise-operators","slug":"bitwise-operators"},{"name":"main","slug":"main"},{"name":"uniqueidentifier","slug":"uniqueidentifier"},{"name":"jtable","slug":"jtable"},{"name":"httpurlconnection","slug":"httpurlconnection"},{"name":"pygame2","slug":"pygame2"},{"name":"selenium-webdriver","slug":"selenium-webdriver"},{"name":"jsp","slug":"jsp"},{"name":"comparator","slug":"comparator"},{"name":"language-lawyer","slug":"language-lawyer"},{"name":"user-interface","slug":"user-interface"},{"name":"split","slug":"split"},{"name":"undefined-index","slug":"undefined-index"},{"name":"form-submit","slug":"form-submit"}]},"__N_SSG":true},"page":"/questions/tag/[slug]/page/[page]","query":{"slug":"startactivityforresult","page":"1"},"buildId":"00bsHgHZki2FteshOatnd","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>