<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>How can I transition height: 0; to height: auto; using CSS? | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="I am trying to make a &lt;ul&gt; slide down using CSS transitions.

The &lt;ul&gt; starts off at height: 0;. On hover, the height is set to height:auto;. However, this is causing it to simply appear, not transition,

If I do it from height: 40px; to height: auto;, then it will slide up to height: 0;, and then suddenly jump to the correct height.

How else could I do this without using JavaScript?



#child0 {
  height: 0;
  overflow: hidden;
  background-color: #dedede;
  -moz-transition: height 1s ease;
  -webkit-transition: height 1s ease;
  -o-transition: height 1s ease;
  transition: height 1s ease;
}
#parent0:hover #child0 {
  height: auto;
}
#child40 {
  height: 40px;
  overflow: hidden;
  background-color: #dedede;
  -moz-transition: height 1s ease;
  -webkit-transition: height 1s ease;
  -o-transition: height 1s ease;
  transition: height 1s ease;
}
#parent40:hover #child40 {
  height: auto;
}
h1 {
  font-weight: bold;
}
The only difference between the two snippets of CSS is one has height: 0, the other height: 40.
&lt;hr&gt;
&lt;div id=&quot;parent0&quot;&gt;
  &lt;h1&gt;Hover me (height: 0)&lt;/h1&gt;
  &lt;div id=&quot;child0&quot;&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;hr&gt;
&lt;div id=&quot;parent40&quot;&gt;
  &lt;h1&gt;Hover me (height: 40)&lt;/h1&gt;
  &lt;div id=&quot;child40&quot;&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;
  &lt;/div&gt;
&lt;/div&gt;
 Run code snippetHide resultsExpand snippet


    "/><meta property="og:title" content="How can I transition height: 0; to height: auto; using CSS? | Solutions Checker"/><meta property="og:description" content="I am trying to make a &lt;ul&gt; slide down using CSS transitions.

The &lt;ul&gt; starts off at height: 0;. On hover, the height is set to height:auto;. However, this is causing it to simply appear, not transition,

If I do it from height: 40px; to height: auto;, then it will slide up to height: 0;, and then suddenly jump to the correct height.

How else could I do this without using JavaScript?



#child0 {
  height: 0;
  overflow: hidden;
  background-color: #dedede;
  -moz-transition: height 1s ease;
  -webkit-transition: height 1s ease;
  -o-transition: height 1s ease;
  transition: height 1s ease;
}
#parent0:hover #child0 {
  height: auto;
}
#child40 {
  height: 40px;
  overflow: hidden;
  background-color: #dedede;
  -moz-transition: height 1s ease;
  -webkit-transition: height 1s ease;
  -o-transition: height 1s ease;
  transition: height 1s ease;
}
#parent40:hover #child40 {
  height: auto;
}
h1 {
  font-weight: bold;
}
The only difference between the two snippets of CSS is one has height: 0, the other height: 40.
&lt;hr&gt;
&lt;div id=&quot;parent0&quot;&gt;
  &lt;h1&gt;Hover me (height: 0)&lt;/h1&gt;
  &lt;div id=&quot;child0&quot;&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;hr&gt;
&lt;div id=&quot;parent40&quot;&gt;
  &lt;h1&gt;Hover me (height: 40)&lt;/h1&gt;
  &lt;div id=&quot;child40&quot;&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;Some content
    &lt;br&gt;
  &lt;/div&gt;
&lt;/div&gt;
 Run code snippetHide resultsExpand snippet


    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"How can I transition height: 0; to height: auto; using CSS?","text":"I am trying to make a &lt;ul&gt; slide down using CSS transitions.\n\nThe &lt;ul&gt; starts off at height: 0;. On hover, the height is set to height:auto;. However, this is causing it to simply appear, not transition,\n\nIf I do it from height: 40px; to height: auto;, then it will slide up to height: 0;, and then suddenly jump to the correct height.\n\nHow else could I do this without using JavaScript?\n\n\n\n#child0 {\n  height: 0;\n  overflow: hidden;\n  background-color: #dedede;\n  -moz-transition: height 1s ease;\n  -webkit-transition: height 1s ease;\n  -o-transition: height 1s ease;\n  transition: height 1s ease;\n}\n#parent0:hover #child0 {\n  height: auto;\n}\n#child40 {\n  height: 40px;\n  overflow: hidden;\n  background-color: #dedede;\n  -moz-transition: height 1s ease;\n  -webkit-transition: height 1s ease;\n  -o-transition: height 1s ease;\n  transition: height 1s ease;\n}\n#parent40:hover #child40 {\n  height: auto;\n}\nh1 {\n  font-weight: bold;\n}\nThe only difference between the two snippets of CSS is one has height: 0, the other height: 40.\n&lt;hr&gt;\n&lt;div id=&quot;parent0&quot;&gt;\n  &lt;h1&gt;Hover me (height: 0)&lt;/h1&gt;\n  &lt;div id=&quot;child0&quot;&gt;Some content\n    &lt;br&gt;Some content\n    &lt;br&gt;Some content\n    &lt;br&gt;Some content\n    &lt;br&gt;Some content\n    &lt;br&gt;Some content\n    &lt;br&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;hr&gt;\n&lt;div id=&quot;parent40&quot;&gt;\n  &lt;h1&gt;Hover me (height: 40)&lt;/h1&gt;\n  &lt;div id=&quot;child40&quot;&gt;Some content\n    &lt;br&gt;Some content\n    &lt;br&gt;Some content\n    &lt;br&gt;Some content\n    &lt;br&gt;Some content\n    &lt;br&gt;Some content\n    &lt;br&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","answerCount":30,"upVoteCount":500,"suggestedAnswer":[{"text":"Use max-height in the transition and not height. And set a value on max-height to something bigger than your box will ever get.\n\nSee JSFiddle demo provided by Chris Jordan in another answer here.\n\n\n\n#menu #list {\n    max-height: 0;\n    transition: max-height 0.15s ease-out;\n    overflow: hidden;\n    background: #d5d5d5;\n}\n\n#menu:hover #list {\n    max-height: 500px;\n    transition: max-height 0.25s ease-in;\n}\n&lt;div id=&quot;menu&quot;&gt;\n    &lt;a&gt;hover me&lt;/a&gt;\n    &lt;ul id=&quot;list&quot;&gt;\n        &lt;!-- Create a bunch, or not a bunch, of li&apos;s to see the timing. --&gt;\n        &lt;li&gt;item&lt;/li&gt;\n        &lt;li&gt;item&lt;/li&gt;\n        &lt;li&gt;item&lt;/li&gt;\n        &lt;li&gt;item&lt;/li&gt;\n        &lt;li&gt;item&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"You should use scaleY instead.\n\n\nul {\n  background-color: #eee;\n  transform: scaleY(0);    \n  transform-origin: top;\n  transition: transform 0.26s ease;\n}\np:hover ~ ul {\n  transform: scaleY(1);\n}\n&lt;p&gt;Hover This&lt;/p&gt;\n&lt;ul&gt;\n  &lt;li&gt;Coffee&lt;/li&gt;\n  &lt;li&gt;Tea&lt;/li&gt;\n  &lt;li&gt;Milk&lt;/li&gt;\n&lt;/ul&gt;\n Run code snippetHide resultsExpand snippet\n\n\nI&apos;ve made a vendor prefixed version of the above code on jsfiddle,  and changed your jsfiddle to use scaleY instead of height.\nEdit\nSome people do not like how scaleY transforms the content. If that is a problem then I suggest using clip instead.\n\n\nul {\n  clip: rect(auto, auto, 0, auto);\n  position: absolute;\n  margin: -1rem 0;\n  padding: .5rem;\n\n  color: white;\n\n  background-color: rgba(0, 0, 0, 0.8);\n\n  transition-property: clip;\n  transition-duration: 0.5s;\n  transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);\n}\nh3:hover ~ ul,\nh3:active ~ ul,\nul:hover {\n  clip: rect(auto, auto, 10rem, auto);\n}\n&lt;h3&gt;Hover here&lt;/h3&gt;\n&lt;ul&gt;\n  &lt;li&gt;This list&lt;/li&gt;\n  &lt;li&gt;is clipped.&lt;/li&gt;\n  &lt;li&gt;A clip transition&lt;/li&gt;\n  &lt;li&gt;will show it&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;\n  Some text...\n&lt;/p&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"You can&apos;t currently animate on height when one of the heights involved is auto, you have to set two explicit heights.\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"The solution that I&apos;ve always used was to first fade out, then shrink the font-size, padding and margin values. It doesn&apos;t look the same as a wipe, but it works without a static height or max-height.\n\nWorking example:\n\n\n\n/* final display */\n#menu #list {\n    margin: .5em 1em;\n    padding: 1em;\n}\n\n/* hide */\n#menu:not(:hover) #list {\n    font-size: 0;\n    margin: 0;\n    opacity: 0;\n    padding: 0;\n    /* fade out, then shrink */\n    transition: opacity .25s,\n                font-size .5s .25s,\n                margin .5s .25s,\n                padding .5s .25s;\n}\n\n/* reveal */\n#menu:hover #list {\n    /* unshrink, then fade in */\n    transition: font-size .25s,\n                margin .25s,\n                padding .25s,\n                opacity .5s .25s;\n}\n&lt;div id=&quot;menu&quot;&gt;\n    &lt;b&gt;hover me&lt;/b&gt;\n    &lt;ul id=&quot;list&quot;&gt;\n        &lt;li&gt;item&lt;/li&gt;\n        &lt;li&gt;item&lt;/li&gt;\n        &lt;li&gt;item&lt;/li&gt;\n        &lt;li&gt;item&lt;/li&gt;\n        &lt;li&gt;item&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n\n&lt;p&gt;Another paragraph...&lt;/p&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"This is a CSS-only solution with the following properties:\n\nThere is no delay at the beginning, and the transition doesn&apos;t stop early. In both directions (expanding and collapsing), if you specify a transition duration of 300ms in your CSS, then the transition takes 300ms, period.\nIt&apos;s transitioning the actual height (unlike transform: scaleY(0)), so it does the right thing if there&apos;s content after the collapsible element.\nWhile (like in other solutions) there are magic numbers (like &quot;pick a length that is higher than your box is ever going to be&quot;), it&apos;s not fatal if your assumption ends up being wrong. The transition may not look amazing in that case, but before and after the transition, this is not a problem: In the expanded (height: auto) state, the whole content always has the correct height (unlike e.g. if you pick a max-height that turns out to be too low). And in the collapsed state, the height is zero as it should.\n\nDemo\nHere&apos;s a demo with three collapsible elements, all of different heights, that all use the same CSS. You might want to click &quot;full page&quot; after clicking &quot;run snippet&quot;. Note that the JavaScript only toggles the collapsed CSS class, there&apos;s no measuring involved. (You could do this exact demo without any JavaScript at all by using a checkbox or :target). Also note that the part of the CSS that&apos;s responsible for the transition is pretty short, and the HTML only requires a single additional wrapper element.\n\n\n$(function () {\n  $(&quot;.toggler&quot;).click(function () {\n    $(this).next().toggleClass(&quot;collapsed&quot;);\n    $(this).toggleClass(&quot;toggled&quot;); // this just rotates the expander arrow\n  });\n});\n.collapsible-wrapper {\n  display: flex;\n  overflow: hidden;\n}\n.collapsible-wrapper:after {\n  content: &apos;&apos;;\n  height: 50px;\n  transition: height 0.3s linear, max-height 0s 0.3s linear;\n  max-height: 0px;\n}\n.collapsible {\n  transition: margin-bottom 0.3s cubic-bezier(0, 0, 0, 1);\n  margin-bottom: 0;\n  max-height: 1000000px;\n}\n.collapsible-wrapper.collapsed &gt; .collapsible {\n  margin-bottom: -2000px;\n  transition: margin-bottom 0.3s cubic-bezier(1, 0, 1, 1),\n              visibility 0s 0.3s, max-height 0s 0.3s;\n  visibility: hidden;\n  max-height: 0;\n}\n.collapsible-wrapper.collapsed:after\n{\n  height: 0;\n  transition: height 0.3s linear;\n  max-height: 50px;\n}\n\n/* END of the collapsible implementation; the stuff below\n   is just styling for this demo */\n\n#container {\n  display: flex;\n  align-items: flex-start;\n  max-width: 1000px;\n  margin: 0 auto;\n}  \n\n\n.menu {\n  border: 1px solid #ccc;\n  box-shadow: 0 1px 3px rgba(0,0,0,0.5);\n  margin: 20px;\n\n  \n}\n\n.menu-item {\n  display: block;\n  background: linear-gradient(to bottom, #fff 0%,#eee 100%);\n  margin: 0;\n  padding: 1em;\n  line-height: 1.3;\n}\n.collapsible .menu-item {\n  border-left: 2px solid #888;\n  border-right: 2px solid #888;\n  background: linear-gradient(to bottom, #eee 0%,#ddd 100%);\n}\n.menu-item.toggler {\n  background: linear-gradient(to bottom, #aaa 0%,#888 100%);\n  color: white;\n  cursor: pointer;\n}\n.menu-item.toggler:before {\n  content: &apos;&apos;;\n  display: block;\n  border-left: 8px solid white;\n  border-top: 8px solid transparent;\n  border-bottom: 8px solid transparent;\n  width: 0;\n  height: 0;\n  float: right;\n  transition: transform 0.3s ease-out;\n}\n.menu-item.toggler.toggled:before {\n  transform: rotate(90deg);\n}\n\nbody { font-family: sans-serif; font-size: 14px; }\n\n*, *:after {\n  box-sizing: border-box;\n}\n&lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n\n&lt;div id=&quot;container&quot;&gt;\n  &lt;div class=&quot;menu&quot;&gt;\n    &lt;div class=&quot;menu-item&quot;&gt;Something involving a holodeck&lt;/div&gt;\n    &lt;div class=&quot;menu-item&quot;&gt;Send an away team&lt;/div&gt;\n    &lt;div class=&quot;menu-item toggler&quot;&gt;Advanced solutions&lt;/div&gt;\n    &lt;div class=&quot;collapsible-wrapper collapsed&quot;&gt;\n      &lt;div class=&quot;collapsible&quot;&gt;\n        &lt;div class=&quot;menu-item&quot;&gt;Separate saucer&lt;/div&gt;\n        &lt;div class=&quot;menu-item&quot;&gt;Send an away team that includes the captain (despite Riker&apos;s protest)&lt;/div&gt;\n        &lt;div class=&quot;menu-item&quot;&gt;Ask Worf&lt;/div&gt;\n        &lt;div class=&quot;menu-item&quot;&gt;Something involving Wesley, the 19th century, and a holodeck&lt;/div&gt;\n        &lt;div class=&quot;menu-item&quot;&gt;Ask Q for help&lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;menu-item&quot;&gt;Sweet-talk the alien aggressor&lt;/div&gt;\n    &lt;div class=&quot;menu-item&quot;&gt;Re-route power from auxiliary systems&lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div class=&quot;menu&quot;&gt;\n    &lt;div class=&quot;menu-item&quot;&gt;Something involving a holodeck&lt;/div&gt;\n    &lt;div class=&quot;menu-item&quot;&gt;Send an away team&lt;/div&gt;\n    &lt;div class=&quot;menu-item toggler&quot;&gt;Advanced solutions&lt;/div&gt;\n    &lt;div class=&quot;collapsible-wrapper collapsed&quot;&gt;\n      &lt;div class=&quot;collapsible&quot;&gt;\n        &lt;div class=&quot;menu-item&quot;&gt;Separate saucer&lt;/div&gt;\n        &lt;div class=&quot;menu-item&quot;&gt;Send an away team that includes the captain (despite Riker&apos;s protest)&lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;menu-item&quot;&gt;Sweet-talk the alien aggressor&lt;/div&gt;\n    &lt;div class=&quot;menu-item&quot;&gt;Re-route power from auxiliary systems&lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div class=&quot;menu&quot;&gt;\n    &lt;div class=&quot;menu-item&quot;&gt;Something involving a holodeck&lt;/div&gt;\n    &lt;div class=&quot;menu-item&quot;&gt;Send an away team&lt;/div&gt;\n    &lt;div class=&quot;menu-item toggler&quot;&gt;Advanced solutions&lt;/div&gt;\n    &lt;div class=&quot;collapsible-wrapper collapsed&quot;&gt;\n      &lt;div class=&quot;collapsible&quot;&gt;\n        &lt;div class=&quot;menu-item&quot;&gt;Separate saucer&lt;/div&gt;\n        &lt;div class=&quot;menu-item&quot;&gt;Send an away team that includes the captain (despite Riker&apos;s protest)&lt;/div&gt;\n        &lt;div class=&quot;menu-item&quot;&gt;Ask Worf&lt;/div&gt;\n        &lt;div class=&quot;menu-item&quot;&gt;Something involving Wesley, the 19th century, and a holodeck&lt;/div&gt;\n        &lt;div class=&quot;menu-item&quot;&gt;Ask Q for help&lt;/div&gt;\n        &lt;div class=&quot;menu-item&quot;&gt;Separate saucer&lt;/div&gt;\n        &lt;div class=&quot;menu-item&quot;&gt;Send an away team that includes the captain (despite Riker&apos;s protest)&lt;/div&gt;\n        &lt;div class=&quot;menu-item&quot;&gt;Ask Worf&lt;/div&gt;\n        &lt;div class=&quot;menu-item&quot;&gt;Something involving Wesley, the 19th century, and a holodeck&lt;/div&gt;\n        &lt;div class=&quot;menu-item&quot;&gt;Ask Q for help&lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;menu-item&quot;&gt;Sweet-talk the alien aggressor&lt;/div&gt;\n    &lt;div class=&quot;menu-item&quot;&gt;Re-route power from auxiliary systems&lt;/div&gt;\n  &lt;/div&gt;\n\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\nHow does it work?\nThere are in fact two transitions involved in making this happen. One of them transitions the margin-bottom from 0px (in the expanded state) to -2000px in the collapsed state (similar to this answer). The 2000 here is the first magic number, it&apos;s based on the assumption that your box won&apos;t be higher than this (2000 pixels seems like a reasonable choice).\nUsing the margin-bottom transition alone by itself has two issues:\n\nIf you actually have a box that&apos;s higher than 2000 pixels, then a margin-bottom: -2000px won&apos;t hide everything -- there&apos;ll be visible stuff even in the collapsed case. This is a minor fix that we&apos;ll do later.\nIf the actual box is, say, 1000 pixels high, and your transition is 300ms long, then the visible transition is already over after about 150ms (or, in the opposite direction, starts 150ms late).\n\nFixing this second issue is where the second transition comes in, and this transition conceptually targets the wrapper&apos;s minimum height (&quot;conceptually&quot; because we&apos;re not actually using the min-height property for this; more on that later).\nHere&apos;s an animation that shows how combining the bottom margin transition with the minimum height transition, both of equal duration, gives us a combined transition from full height to zero height that has the same duration.\n\nThe left bar shows how the negative bottom margin pushes the bottom upwards, reducing the visible height. The middle bar shows how the minimum height ensures that in the collapsing case, the transition doesn&apos;t end early, and in the expanding case, the transition doesn&apos;t start late. The right bar shows how the combination of the two causes the box to transition from full height to zero height in the correct amount of time.\nFor my demo I&apos;ve settled on 50px as the upper minimum height value. This is the second magic number, and it should be lower than the box&apos; height would ever be. 50px seems reasonable as well; it seems unlikely that you&apos;d very often want to make an element collapsible that isn&apos;t even 50 pixels high in the first place.\nAs you can see in the animation, the resulting transition is continuous, but it is not differentiable -- at the moment when the minimum height is equal to the full height adjusted by the bottom margin, there is a sudden change in speed. This is very noticeable in the animation because it uses a linear timing function for both transitions, and because the whole transition is very slow. In the actual case (my demo at the top), the transition only takes 300ms, and the bottom margin transition is not linear. I&apos;ve played around with a lot of different timing functions for both transitions, and the ones I ended up with felt like they worked best for the widest variety of cases.\nTwo problems remain to fix:\n\nthe point from above, where boxes of more than 2000 pixels height aren&apos;t completely hidden in the collapsed state,\nand the reverse problem, where in the non-hidden case, boxes of less than 50 pixels height are too high even when the transition isn&apos;t running, because the minimum height keeps them at 50 pixels.\n\nWe solve the first problem by giving the container element a max-height: 0 in the collapsed case, with a 0s 0.3s transition. This means that it&apos;s not really a transition, but the max-height is applied with a delay; it only applies once the transition is over. For this to work correctly, we also need to pick a numerical max-height for the opposite, non-collapsed, state. But unlike in the 2000px case, where picking too large of a number affects the quality of the transition, in this case, it really doesn&apos;t matter. So we can just pick a number that is so high that we know that no height will ever come close to this. I picked a million pixels. If you feel you may need to support content of a height of more than a million pixels, then 1) I&apos;m sorry, and 2) just add a couple of zeros.\nThe second problem is the reason why we&apos;re not actually using min-height for the minimum height transition. Instead, there is an ::after pseudo-element in the container with a height that transitions from 50px to zero. This has the same effect as a min-height: It won&apos;t let the container shrink below whatever height the pseudo-element currently has. But because we&apos;re using height, not min-height, we can now use max-height (once again applied with a delay) to set the pseudo-element&apos;s actual height to zero once the transition is over, ensuring that at least outside the transition, even small elements have the correct height. Because min-height is stronger than max-height, this wouldn&apos;t work if we used the container&apos;s min-height instead of the pseudo-element&apos;s height. Just like the max-height in the previous paragraph, this max-height also needs a value for the opposite end of the transition. But in this case we can just pick the 50px.\nTested in Chrome (Win, Mac, Android, iOS), Firefox (Win, Mac, Android), Edge, IE11 (except for a flexbox layout issue with my demo that I didn&apos;t bother debugging), and Safari (Mac, iOS). Speaking of flexbox, it should be possible to make this work without using any flexbox; in fact I think you could make almost everything work in IE7  except for the fact that you won&apos;t have CSS transitions, making it a rather pointless exercise.\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"You can, with a little bit of non-semantic jiggery-pokery. My usual approach is to animate the height of an outer DIV which has a single child which is a style-less DIV used only for measuring the content height.\n\n\n\nfunction growDiv() {\n  var growDiv = document.getElementById(&apos;grow&apos;);\n  if (growDiv.clientHeight) {\n    growDiv.style.height = 0;\n  } else {\n    var wrapper = document.querySelector(&apos;.measuringWrapper&apos;);\n    growDiv.style.height = wrapper.clientHeight + &quot;px&quot;;\n  }\n}\n#grow {\n  -moz-transition: height .5s;\n  -ms-transition: height .5s;\n  -o-transition: height .5s;\n  -webkit-transition: height .5s;\n  transition: height .5s;\n  height: 0;\n  overflow: hidden;\n  outline: 1px solid red;\n}\n&lt;input type=&quot;button&quot; onclick=&quot;growDiv()&quot; value=&quot;grow&quot;&gt;\n&lt;div id=&apos;grow&apos;&gt;\n  &lt;div class=&apos;measuringWrapper&apos;&gt;\n    &lt;div&gt;\n      The contents of my div.\n    &lt;/div&gt;\n    &lt;div&gt;\n      The contents of my div.\n    &lt;/div&gt;\n    &lt;div&gt;\n      The contents of my div.\n    &lt;/div&gt;\n    &lt;div&gt;\n      The contents of my div.\n    &lt;/div&gt;\n    &lt;div&gt;\n      The contents of my div.\n    &lt;/div&gt;\n    &lt;div&gt;\n      The contents of my div.\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\n\nOne would like to just be able to dispense with the .measuringWrapper and just set the DIV&apos;s height to auto and have that animate, but that doesn&apos;t seem to work (the height gets set, but no animation occurs).\n\n\n\nfunction growDiv() {\n  var growDiv = document.getElementById(&apos;grow&apos;);\n  if (growDiv.clientHeight) {\n    growDiv.style.height = 0;\n  } else {\n    growDiv.style.height = &apos;auto&apos;;\n  }\n}\n#grow {\n  -moz-transition: height .5s;\n  -ms-transition: height .5s;\n  -o-transition: height .5s;\n  -webkit-transition: height .5s;\n  transition: height .5s;\n  height: 0;\n  overflow: hidden;\n  outline: 1px solid red;\n}\n&lt;input type=&quot;button&quot; onclick=&quot;growDiv()&quot; value=&quot;grow&quot;&gt;\n&lt;div id=&apos;grow&apos;&gt;\n  &lt;div&gt;\n    The contents of my div.\n  &lt;/div&gt;\n  &lt;div&gt;\n    The contents of my div.\n  &lt;/div&gt;\n  &lt;div&gt;\n    The contents of my div.\n  &lt;/div&gt;\n  &lt;div&gt;\n    The contents of my div.\n  &lt;/div&gt;\n  &lt;div&gt;\n    The contents of my div.\n  &lt;/div&gt;\n  &lt;div&gt;\n    The contents of my div.\n  &lt;/div&gt;\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\n\nMy interpretation is that an explicit height is needed for the animation to run. You can&apos;t get an animation on height when either height (the start or end height) is auto.\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"A visual workaround to animating height using CSS3 transitions is to animate the padding instead. \n\nYou don&apos;t quite get the full wipe effect, but playing around with the transition-duration and padding values should get you close enough. If you don&apos;t want to explicitly set height/max-height, this should be what you&apos;re looking for.\n\ndiv {\n    height: 0;\n    overflow: hidden;\n    padding: 0 18px;\n    -webkit-transition: all .5s ease;\n       -moz-transition: all .5s ease;\n            transition: all .5s ease;\n}\ndiv.animated {\n    height: auto;\n    padding: 24px 18px;\n}\n\n\nhttp://jsfiddle.net/catharsis/n5XfG/17/ (riffed off stephband&apos;s above jsFiddle)\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"The accepted answer works for most cases, but it doesn&apos;t work well when your div can vary greatly in height  the animation speed is not dependent on the actual height of the content, and it can look choppy.\n\nYou can still perform the actual animation with CSS, but you need to use JavaScript to compute the height of the items, instead of trying to use auto. No jQuery is required, although you may have to modify this a bit if you want compatibility (works in the latest version of Chrome :)).\n\n\n\nwindow.toggleExpand = function(element) {\n    if (!element.style.height || element.style.height == &apos;0px&apos;) { \n        element.style.height = Array.prototype.reduce.call(element.childNodes, function(p, c) {return p + (c.offsetHeight || 0);}, 0) + &apos;px&apos;;\n    } else {\n        element.style.height = &apos;0px&apos;;\n    }\n}\n#menu #list {\n    height: 0px;\n    transition: height 0.3s ease;\n    background: #d5d5d5;\n    overflow: hidden;\n}\n&lt;div id=&quot;menu&quot;&gt;\n    &lt;input value=&quot;Toggle list&quot; type=&quot;button&quot; onclick=&quot;toggleExpand(document.getElementById(&apos;list&apos;));&quot;&gt;\n    &lt;ul id=&quot;list&quot;&gt;\n        &lt;!-- Works well with dynamically-sized content. --&gt;\n        &lt;li&gt;item&lt;/li&gt;\n        &lt;li&gt;&lt;div style=&quot;height: 100px; width: 100px; background: red;&quot;&gt;&lt;/div&gt;&lt;/li&gt;\n        &lt;li&gt;item&lt;/li&gt;\n        &lt;li&gt;item&lt;/li&gt;\n        &lt;li&gt;item&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"My workaround is to transition max-height to the exact content height for a nice smooth animation, then use a transitionEnd callback to set max-height to 9999px so the content can resize freely.\n\n\nvar content = $(&apos;#content&apos;);\ncontent.inner = $(&apos;#content .inner&apos;); // inner div needed to get size of content when closed\n\n// css transition callback\ncontent.on(&apos;transitionEnd webkitTransitionEnd transitionend oTransitionEnd msTransitionEnd&apos;, function(e){\n    if(content.hasClass(&apos;open&apos;)){\n        content.css(&apos;max-height&apos;, 9999); // try setting this to &apos;none&apos;... I dare you!\n    }\n});\n\n$(&apos;#toggle&apos;).on(&apos;click&apos;, function(e){\n    content.toggleClass(&apos;open closed&apos;);\n    content.contentHeight = content.outerHeight();\n    \n    if(content.hasClass(&apos;closed&apos;)){\n        \n        // disable transitions &amp; set max-height to content height\n        content.removeClass(&apos;transitions&apos;).css(&apos;max-height&apos;, content.contentHeight);\n        setTimeout(function(){\n            \n            // enable &amp; start transition\n            content.addClass(&apos;transitions&apos;).css({\n                &apos;max-height&apos;: 0,\n                &apos;opacity&apos;: 0\n            });\n            \n        }, 10); // 10ms timeout is the secret ingredient for disabling/enabling transitions\n        // chrome only needs 1ms but FF needs ~10ms or it chokes on the first animation for some reason\n        \n    }else if(content.hasClass(&apos;open&apos;)){  \n        \n        content.contentHeight += content.inner.outerHeight(); // if closed, add inner height to content height\n        content.css({\n            &apos;max-height&apos;: content.contentHeight,\n            &apos;opacity&apos;: 1\n        });\n        \n    }\n});\n.transitions {\n    transition: all 0.5s ease-in-out;\n    -webkit-transition: all 0.5s ease-in-out;\n    -moz-transition: all 0.5s ease-in-out;\n}\n\nbody {\n    font-family:Arial;\n    line-height: 3ex;\n}\ncode {\n    display: inline-block;\n    background: #fafafa;\n    padding: 0 1ex;\n}\n#toggle {\n    display:block;\n    padding:10px;\n    margin:10px auto;\n    text-align:center;\n    width:30ex;\n}\n#content {\n    overflow:hidden;\n    margin:10px;\n    border:1px solid #666;\n    background:#efefef;\n    opacity:1;\n}\n#content .inner {\n    padding:10px;\n    overflow:auto;\n}\n&lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;div id=&quot;content&quot; class=&quot;open&quot;&gt;\n    &lt;div class=&quot;inner&quot;&gt;\n        &lt;h3&gt;Smooth CSS Transitions Between &lt;code&gt;height: 0&lt;/code&gt; and &lt;code&gt;height: auto&lt;/code&gt;&lt;/h3&gt;\n        &lt;p&gt;A clever workaround is to use &lt;code&gt;max-height&lt;/code&gt; instead of &lt;code&gt;height&lt;/code&gt;, and set it to something bigger than your content. Problem is the browser uses this value to calculate transition duration. So if you set it to &lt;code&gt;max-height: 1000px&lt;/code&gt; but the content is only 100px high, the animation will be 10x too fast.&lt;/p&gt;\n        &lt;p&gt;Another option is to measure the content height with JS and transition to that fixed value, but then you have to keep track of the content and manually resize it if it changes.&lt;/p&gt;\n        &lt;p&gt;This solution is a hybrid of the two - transition to the measured content height, then set it to &lt;code&gt;max-height: 9999px&lt;/code&gt; after the transition for fluid content sizing.&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;br /&gt;\n\n&lt;button id=&quot;toggle&quot;&gt;Challenge Accepted!&lt;/button&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"There was little mention of the Element.prototype.scrollHeight property which can be useful here and still may be used with a pure CSS transition, although scripting support would obviously be required. The property always contains the &quot;full&quot; height of an element, regardless of whether and how its content overflows as a result of collapsed height (e.g. height: 0).\nAs such, for a height: 0 (effectively fully collapsed) element, its &quot;normal&quot; or &quot;full&quot; height is still readily available through its scrollHeight value (invariably a pixel length).\nFor such an element, assuming it already has the transition set up like (using ul as per original question):\nul {\n    height: 0;\n    transition: height 1s; /* An example transition. */\n}\n\nWe can trigger desired animated &quot;expansion&quot; of height, using CSS only, with something like the following (here assuming ul variable refers to the list):\nul.style.height = ul.scrollHeight + &quot;px&quot;;\n\nThat&apos;s it. If you need to collapse the list, either of the two following statements will do:\nul.style.height = 0;\nul.style.removeProperty(&quot;height&quot;);\n\nMy particular use case revolved around animating lists of unknown and often considerable lengths, so I was not comfortable dealing with &quot;large enough&quot; height or max-height specification and risking cut-off content or content that you suddenly need to scroll (if overflow: auto, for example). Additionally, the easing and timing is broken with max-height-based solutions, because the used height may reach its maximum value a lot sooner than it would take for max-height to reach 9999px. And as screen resolutions grow, pixel lengths like 9999px leave a bad taste in my mouth. This particular solution solves the problem in an elegant manner, in my opinion.\nFinally, here is hoping that future revisions of CSS address authors&apos; need to do these kind of things even more elegantly -- revisit the notion of &quot;computed&quot; vs &quot;used&quot; and &quot;resolved&quot; values, and consider whether transitions should apply to computed values, including transitions with width and height (which currently get a bit of a special treatment).\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"Use max-height with different transition easing and delay for each state. \n\nHTML:\n\n&lt;a href=&quot;#&quot; id=&quot;trigger&quot;&gt;Hover&lt;/a&gt;\n&lt;ul id=&quot;toggled&quot;&gt;\n    &lt;li&gt;One&lt;/li&gt;\n    &lt;li&gt;Two&lt;/li&gt;\n    &lt;li&gt;Three&lt;/li&gt;\n&lt;ul&gt;\n\n\nCSS:\n\n#toggled{\n    max-height: 0px;\n    transition: max-height .8s cubic-bezier(0, 1, 0, 1) -.1s;\n}\n\n#trigger:hover + #toggled{\n    max-height: 9999px;\n    transition-timing-function: cubic-bezier(0.5, 0, 1, 0); \n    transition-delay: 0s;\n}\n\n\nSee example: http://jsfiddle.net/0hnjehjc/1/\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"No hard coded values.\n\nNo JavaScript.\n\nNo approximations.\n\nThe trick is to use a hidden &amp; duplicated div to get the browser to understand what 100% means. \n\nThis method is suitable whenever you&apos;re able to duplicate the DOM of the element you wish to animate. \n\n\n\n.outer {\n  border: dashed red 1px;\n  position: relative;\n}\n\n.dummy {\n  visibility: hidden;\n}\n\n.real {\n  position: absolute;\n  background: yellow;\n  height: 0;\n  transition: height 0.5s;\n  overflow: hidden;\n}\n\n.outer:hover&gt;.real {\n  height: 100%;\n}\nHover over the box below:\n&lt;div class=&quot;outer&quot;&gt;\n  &lt;!-- The actual element that you&apos;d like to animate --&gt;\n  &lt;div class=&quot;real&quot;&gt;\nunpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable\ncontent unpredictable content unpredictable content unpredictable content\n  &lt;/div&gt;\n  &lt;!-- An exact copy of the element you&apos;d like to animate. --&gt;\n  &lt;div class=&quot;dummy&quot; aria-hidden=&quot;true&quot;&gt;\nunpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable\ncontent unpredictable content unpredictable content unpredictable content\n  &lt;/div&gt;\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"As I post this there are over 30 answers already, but I feel my answer improves on the already accepted answer by jake.\n\nI was not content with the issue that arises from simply using max-height and CSS3 transitions, since as many commenters noted, you have to set your max-height value very close to the actual height or you&apos;ll get a delay. See this JSFiddle for an example of that problem.\n\nTo get around this (while still using no JavaScript), I added another HTML element that transitions the transform: translateY CSS value.\n\nThis means both max-height and translateY are used: max-height allows the element to push down elements below it, while translateY gives the &quot;instant&quot; effect we want. The issue with max-height still exists, but its effect is lessened.\nThis means you can set a much larger height for your max-height value and worry about it less.\n\nThe overall benefit is that on the transition back in (the collapse), the user sees the translateY animation immediately, so it doesn&apos;t really matter how long the max-height takes.\n\nSolution as Fiddle\n\n\n\nbody {\n  font-family: sans-serif;\n}\n\n.toggle {\n  position: relative;\n  border: 2px solid #333;\n  border-radius: 3px;\n  margin: 5px;\n  width: 200px;\n}\n\n.toggle-header {\n  margin: 0;\n  padding: 10px;\n  background-color: #333;\n  color: white;\n  text-align: center;\n  cursor: pointer;\n}\n\n.toggle-height {\n  background-color: tomato;\n  overflow: hidden;\n  transition: max-height .6s ease;\n  max-height: 0;\n}\n\n.toggle:hover .toggle-height {\n  max-height: 1000px;\n}\n\n.toggle-transform {\n  padding: 5px;\n  color: white;\n  transition: transform .4s ease;\n  transform: translateY(-100%);\n}\n\n.toggle:hover .toggle-transform {\n  transform: translateY(0);\n}\n&lt;div class=&quot;toggle&quot;&gt;\n  &lt;div class=&quot;toggle-header&quot;&gt;\n    Toggle!\n  &lt;/div&gt;\n  &lt;div class=&quot;toggle-height&quot;&gt;\n    &lt;div class=&quot;toggle-transform&quot;&gt;\n      &lt;p&gt;Content!&lt;/p&gt;\n      &lt;p&gt;Content!&lt;/p&gt;\n      &lt;p&gt;Content!&lt;/p&gt;\n      &lt;p&gt;Content!&lt;/p&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=&quot;toggle&quot;&gt;\n  &lt;div class=&quot;toggle-header&quot;&gt;\n    Toggle!\n  &lt;/div&gt;\n  &lt;div class=&quot;toggle-height&quot;&gt;\n    &lt;div class=&quot;toggle-transform&quot;&gt;\n      &lt;p&gt;Content!&lt;/p&gt;\n      &lt;p&gt;Content!&lt;/p&gt;\n      &lt;p&gt;Content!&lt;/p&gt;\n      &lt;p&gt;Content!&lt;/p&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"According to MDN Web Docs, auto values have been intentionally excluded from the CSS transitions spec, so instead of height: auto, use height: 100%, top, or the flex property in grid and flex layouts.\nExpanding/collapsing an overlay\n\n\n.grid-container {\n  display: grid;\n  position: absolute;\n}\n\n.content {\n  background: aqua;\n  height: 0;\n  overflow: hidden;\n  transition: 1s;\n}\n\nspan:hover + .grid-container .content {\n  height: 100%;\n}\n&lt;span&gt;Hover over me!&lt;/span&gt;\n\n&lt;div class=&quot;grid-container&quot;&gt;\n\n  &lt;div class=&quot;content&quot;&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/div&gt;\n\n&lt;/div&gt;\n\n&lt;p&gt;Rest of the page content...&lt;/p&gt;\n Run code snippetHide resultsExpand snippet\n\n\nExpanding/collapsing a sliding overlay\n\n\n.grid-container {\n  display: grid;\n  position: absolute;\n  overflow: hidden;\n  pointer-events: none; /* to enable interaction with elements below the container */\n}\n\n.content {\n  background: aqua;\n  pointer-events: auto;\n  position: relative;\n  top: -100%;\n  transition: 1s;\n}\n\nspan:hover + .grid-container .content {\n  top: 0;\n}\n&lt;span&gt;Hover over me!&lt;/span&gt;\n\n&lt;div class=&quot;grid-container&quot;&gt;\n\n  &lt;div class=&quot;content&quot;&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/div&gt;\n\n&lt;/div&gt;\n\n&lt;p&gt;Rest of the page content...&lt;/p&gt;\n Run code snippetHide resultsExpand snippet\n\n\nExpanding/collapsing in the document flow\n\n\nhtml {\n  display: grid;\n}\n\nbody {\n  display: flex;\n  flex-direction: column;\n}\n\n.content {\n  background: aqua;\n  flex-basis: 0;\n  overflow: hidden;\n  transition: 1s;\n}\n\nspan:hover + .content {\n  flex: 1;\n}\n&lt;span&gt;Hover over me!&lt;/span&gt;\n\n&lt;div class=&quot;content&quot;&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/div&gt;\n\n&lt;p&gt;Rest of the page content...&lt;/p&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0},{"text":"Ok, so I think I came up with a super simple answer...\nno max-height, uses relative positioning, works on li elements, &amp; is pure CSS.\nI have not tested in anything but Firefox, though judging by the CSS, it should work on all browsers.\n\nFIDDLE: http://jsfiddle.net/n5XfG/2596/\n\nCSS\n\n.wrap { overflow:hidden; }\n\n.inner {\n            margin-top:-100%;\n    -webkit-transition:margin-top 500ms;\n            transition:margin-top 500ms;\n}\n\n.inner.open { margin-top:0px; }\n\n\nHTML\n\n&lt;div class=&quot;wrap&quot;&gt;\n    &lt;div class=&quot;inner&quot;&gt;Some Cool Content&lt;/div&gt;\n&lt;/div&gt;\n\n    ","url":"/questions/[slug]#solution15","@type":"Answer","upvoteCount":0},{"text":"EDIT: Scroll down for updated answer \nI was making a drop down list and saw this Post ... many different answers but I decide to share my drop down list too, ... It&apos;s not perfect but at least it will using only css for drop down! I&apos;ve been using transform:translateY(y) to transform the list to the view ...\nYou can see more in the test \nhttp://jsfiddle.net/BVEpc/4/ \nI&apos;ve placed div behind every li because my drop down list are coming from up and to show them properly this was needed, my div code is:\n\n#menu div {\n    transition: 0.5s 1s;\n    z-index:-1;\n    -webkit-transform:translateY(-100%);\n    -webkit-transform-origin: top;\n}\n\n\nand hover is : \n\n#menu &gt; li:hover div {\n    transition: 0.5s;\n    -webkit-transform:translateY(0);\n}\n\n\nand because ul height is set to the content it can get over your body content that&apos;s why I did this for ul:\n\n #menu ul {\n    transition: 0s 1.5s;\n    visibility:hidden;\n    overflow:hidden;\n}\n\n\nand hover:\n\n#menu &gt; li:hover ul {\n     transition:none;\n     visibility:visible;\n}\n\n\nthe second time after transition is delay and it will get hidden after my drop down list has been closed animately ... \nHope later someone get benefit of this one.\n\nEDIT: I just can&apos;t believe ppl actually using this prototype! this drop down menu is only for one sub menu and that&apos;s all!!\nI&apos;ve updated a better one that can have two sub menu for both ltr and rtl direction with IE 8 support. \nFiddle for LTR \nFiddle for RTL \nhopefully someone find this useful in future.\n    ","url":"/questions/[slug]#solution16","@type":"Answer","upvoteCount":0},{"text":"You can transition from height:0 to height:auto providing that you also provide min-height and max-height.\n\ndiv.stretchy{\n    transition: 1s linear;\n}\n\ndiv.stretchy.hidden{\n    height: 0;\n}\n\ndiv.stretchy.visible{\n    height: auto;\n    min-height:40px;\n    max-height:400px;\n}\n\n    ","url":"/questions/[slug]#solution17","@type":"Answer","upvoteCount":0},{"text":"Flexbox Solution\n\nPros:\n\n\nsimple\nno JS\nsmooth transition\n\n\nCons:\n\n\nelement needs to be put in a fixed height flex container\n\n\nThe way it works is by always having flex-basis: auto on the element with content, and transitioning flex-grow and flex-shrink instead. \n\nEdit: Improved JS Fiddle inspired by the Xbox One interface. \n\n\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  transition: 0.25s;\n  font-family: monospace;\n}\n\nbody {\n  margin: 10px 0 0 10px;\n}\n\n.box {\n  width: 150px;\n  height: 150px;\n  margin: 0 2px 10px 0;\n  background: #2d333b;\n  border: solid 10px #20262e;\n  overflow: hidden;\n  display: inline-flex;\n  flex-direction: column;\n}\n\n.space {\n  flex-basis: 100%;\n  flex-grow: 1;\n  flex-shrink: 0;    \n}\n\np {\n  flex-basis: auto;\n  flex-grow: 0;\n  flex-shrink: 1;\n  background: #20262e;\n  padding: 10px;\n  width: 100%;\n  text-align: left;\n  color: white;\n}\n\n.box:hover .space {\n  flex-grow: 0;\n  flex-shrink: 1;\n}\n  \n.box:hover p {\n  flex-grow: 1;\n  flex-shrink: 0;    \n}\n&lt;div class=&quot;box&quot;&gt;\n  &lt;div class=&quot;space&quot;&gt;&lt;/div&gt;\n  &lt;p&gt;\n    Super Metroid Prime Fusion\n  &lt;/p&gt;\n&lt;/div&gt;\n&lt;div class=&quot;box&quot;&gt;\n  &lt;div class=&quot;space&quot;&gt;&lt;/div&gt;\n  &lt;p&gt;\n    Resident Evil 2 Remake\n  &lt;/p&gt;\n&lt;/div&gt;\n&lt;div class=&quot;box&quot;&gt;\n  &lt;div class=&quot;space&quot;&gt;&lt;/div&gt;\n  &lt;p&gt;\n    Yolo The Game\n  &lt;/p&gt;\n&lt;/div&gt;\n&lt;div class=&quot;box&quot;&gt;\n  &lt;div class=&quot;space&quot;&gt;&lt;/div&gt;\n  &lt;p&gt;\n    Final Fantasy 7 Remake + All Additional DLC + Golden Tophat\n  &lt;/p&gt;\n&lt;/div&gt;\n&lt;div class=&quot;box&quot;&gt;\n  &lt;div class=&quot;space&quot;&gt;&lt;/div&gt;\n  &lt;p&gt;\n    DerpVille\n  &lt;/p&gt;\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\n\nJS Fiddle\n    ","url":"/questions/[slug]#solution18","@type":"Answer","upvoteCount":0},{"text":"One sentence solution: Use padding transition. It&apos;s enough for most of cases such as accordion, and even better because it&apos;s fast due to that the padding value is often not big.\n\nIf you want the animation process to be better, just raise the padding value.\n\n\n\n.parent{ border-top: #999 1px solid;}\nh1{ margin: .5rem; font-size: 1.3rem}\n.children {\n  height: 0;\n  overflow: hidden;\n  background-color: #dedede;\n  transition: padding .2s ease-in-out, opacity .2s ease-in-out;\n  padding: 0 .5rem;\n  opacity: 0;\n}\n.children::before, .children::after{ content: &quot;&quot;;display: block;}\n.children::before{ margin-top: -2rem;}\n.children::after{ margin-bottom: -2rem;}\n.parent:hover .children {\n  height: auto;\n  opacity: 1;\n  padding: 2.5rem .5rem;/* 0.5 + abs(-2), make sure it&apos;s less than expected min-height */\n}\n&lt;div class=&quot;parent&quot;&gt;\n  &lt;h1&gt;Hover me&lt;/h1&gt;\n  &lt;div class=&quot;children&quot;&gt;Some content\n    &lt;br&gt;Some content\n    &lt;br&gt;Some content\n    &lt;br&gt;Some content\n    &lt;br&gt;Some content\n    &lt;br&gt;Some content\n    &lt;br&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=&quot;parent&quot;&gt;\n  &lt;h1&gt;Hover me(long content)&lt;/h1&gt;\n  &lt;div class=&quot;children&quot;&gt;Some content\n    &lt;br&gt;Some content&lt;br&gt;Some content\n    &lt;br&gt;Some content&lt;br&gt;Some content\n    &lt;br&gt;Some content&lt;br&gt;Some content\n    &lt;br&gt;Some content&lt;br&gt;Some content\n    &lt;br&gt;Some content&lt;br&gt;Some content\n    &lt;br&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=&quot;parent&quot;&gt;\n  &lt;h1&gt;Hover me(short content)&lt;/h1&gt;\n  &lt;div class=&quot;children&quot;&gt;Some content\n    &lt;br&gt;Some content\n    &lt;br&gt;Some content\n    &lt;br&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution19","@type":"Answer","upvoteCount":0},{"text":"Expanding on @jake&apos;s answer, the transition will go all the way to the max height value, causing an extremely fast animation - if you set the transitions for both :hover and off you can then control the crazy speed a little bit more.\n\nSo the li:hover is when the mouse enters the state and then the transition on the non-hovered property will be the mouse leave.\n\nHopefully this will be of some help.\n\ne.g: \n\n.sidemenu li ul {\n   max-height: 0px;\n   -webkit-transition: all .3s ease;\n   -moz-transition: all .3s ease;\n   -o-transition: all .3s ease;\n   -ms-transition: all .3s ease;\n   transition: all .3s ease;\n}\n.sidemenu li:hover ul {\n    max-height: 500px;\n    -webkit-transition: all 1s ease;\n   -moz-transition: all 1s ease;\n   -o-transition: all 1s ease;\n   -ms-transition: all 1s ease;\n   transition: all 1s ease;\n}\n/* Adjust speeds to the possible height of the list */\n\n\nHere&apos;s a fiddle: http://jsfiddle.net/BukwJ/\n    ","url":"/questions/[slug]#solution20","@type":"Answer","upvoteCount":0},{"text":"This solution uses a few techniques:\n\npadding-bottom:100% &apos;hack&apos; where percentages are defined in terms of the current width of the element. More info on this technique.\nfloat shrink-wrapping, (necessitating an extra div to apply the float clearing hack)\nnon-semantic use of https://caniuse.com/#feat=css-writing-mode and some transformations to undo it (this allows use of the padding hack above in a vertical context)\n\nThe upshot though is that we get performant transitioning using CSS only, and a single transition function to smoothly achieve the transition; the holy grail!\nOf course, there&apos;s a downside! I can&apos;t work out how to control the width at which content gets cut off (overflow:hidden); because of the padding-bottom hack, the width and height are intimately related. There may be a way though, so will come back to it.\nhttps://jsfiddle.net/EoghanM/n1rp3zb4/28/\n\n\nbody {\n  padding: 1em;\n}\n\n.trigger {\n  font-weight: bold;\n}\n\n/* .expander is there for float clearing purposes only */\n.expander::after {\n  content: &apos;&apos;;\n  display: table;\n  clear: both;\n}\n\n.outer {\n  float: left; /* purpose: shrink to fit content */\n  border: 1px solid green;\n  overflow: hidden;\n}\n\n.inner {\n  transition: padding-bottom 0.3s ease-in-out;  /* or whatever crazy transition function you can come up with! */\n  padding-bottom: 0%;  /* percentage padding is defined in terms of width. The width at this level is equal to the height of the content */\n  height: 0;\n\n  /* unfortunately, change of writing mode has other bad effects like orientation of cursor */\n  writing-mode: vertical-rl;\n  cursor: default; /* don&apos;t want the vertical-text (sideways I-beam) */\n  transform: rotate(-90deg) translateX(-100%);  /* undo writing mode */\n  transform-origin: 0 0;\n  margin: 0;  /* left/right margins here will add to height */\n}\n\n.inner &gt; div { white-space: nowrap; }\n\n.expander:hover .inner,  /* to keep open when expanded */\n.trigger:hover+.expander .inner {\n  padding-bottom: 100%;\n}\n&lt;div class=&quot;trigger&quot;&gt;HoverMe&lt;/div&gt;\n&lt;div class=&quot;expander&quot;&gt;\n  &lt;div class=&quot;outer&quot;&gt;\n    &lt;div class=&quot;inner&quot;&gt;\n      &lt;div&gt;First Item&lt;/div&gt;\n      &lt;div&gt;Content&lt;/div&gt;\n      &lt;div&gt;Content&lt;/div&gt;\n      &lt;div&gt;Content&lt;/div&gt;\n      &lt;div&gt;Long Content can&apos;t be wider than outer height unfortunately&lt;/div&gt;\n      &lt;div&gt;Last Item&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;div&gt;\n  after content&lt;/div&gt;\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution21","@type":"Answer","upvoteCount":0},{"text":"I&apos;ve recently been transitioning the max-height on the li elements rather than the wrapping ul.\n\nThe reasoning is that the delay for small max-heights is far less noticeable (if at all) compared to large max-heights, and I can also set my max-height value relative to the font-size of the li rather than some arbitrary huge number by using ems or rems.\n\nIf my font size is 1rem, I&apos;ll set my max-height to something like 3rem (to accommodate wrapped text). You can see an example here:\n\nhttp://codepen.io/mindfullsilence/pen/DtzjE\n    ","url":"/questions/[slug]#solution22","@type":"Answer","upvoteCount":0},{"text":"You could do this by creating a reverse (collapse) animation with clip-path.\n\n\n\n#child0 {\n    display: none;\n}\n#parent0:hover #child0 {\n    display: block;\n    animation: height-animation;\n    animation-duration: 200ms;\n    animation-timing-function: linear;\n    animation-fill-mode: backwards;\n    animation-iteration-count: 1;\n    animation-delay: 200ms;\n}\n@keyframes height-animation {\n    0% {\n        clip-path: polygon(0% 0%, 100% 0.00%, 100% 0%, 0% 0%);\n    }\n    100% {\n        clip-path: polygon(0% 0%, 100% 0.00%, 100% 100%, 0% 100%);\n    }\n}\n&lt;div id=&quot;parent0&quot;&gt;\n    &lt;h1&gt;Hover me (height: 0)&lt;/h1&gt;\n    &lt;div id=&quot;child0&quot;&gt;Some content\n        &lt;br&gt;Some content\n        &lt;br&gt;Some content\n        &lt;br&gt;Some content\n        &lt;br&gt;Some content\n        &lt;br&gt;Some content\n        &lt;br&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution23","@type":"Answer","upvoteCount":0},{"text":"I understand the question asks for a solution without JavaScript. But for those interested here&apos;s my solution using just a little bit of JS.\nok, so the element&apos;s css whose height will change by default is set to height: 0; and when open height: auto;. It also has transition: height .25s ease-out;. But of course the problem is that it won&apos;t transition to or from height: auto;\nSo what i&apos;ve done is when opening or closing set the height to the scrollHeight property of the element. This new inline style will have higher specificity and override both height: auto; and height: 0; and the transition runs.\nWhen opening i add a transitionend event listener which will run just once then remove the inline style setting it back to height: auto; which will allow the element to resize if necessary, as in this more complex example with sub menus https://codepen.io/ninjabonsai/pen/GzYyVe\nWhen closing i remove the inline style right after the next event loop cycle by using setTimeout with no delay. This means height: auto; is temporarily overridden which allows the transition back to height 0;\n\n\nconst showHideElement = (element, open) =&gt; {\n  element.style.height = element.scrollHeight + &apos;px&apos;;\n  element.classList.toggle(&apos;open&apos;, open);\n\n  if (open) {\n    element.addEventListener(&apos;transitionend&apos;, () =&gt; {\n      element.style.removeProperty(&apos;height&apos;);\n    }, {\n      once: true\n    });\n  } else {\n    window.setTimeout(() =&gt; {\n      element.style.removeProperty(&apos;height&apos;);\n    });\n  }\n}\n\nconst menu = document.body.querySelector(&apos;#menu&apos;);\nconst list = document.body.querySelector(&apos;#menu &gt; ul&apos;)\n\nmenu.addEventListener(&apos;mouseenter&apos;, () =&gt; showHideElement(list, true));\nmenu.addEventListener(&apos;mouseleave&apos;, () =&gt; showHideElement(list, false));\n#menu &gt; ul {\n  height: 0;\n  overflow: hidden;\n  background-color: #999;\n  transition: height .25s ease-out;\n}\n\n#menu &gt; ul.open {\n  height: auto;\n}\n&lt;div id=&quot;menu&quot;&gt;\n  &lt;a&gt;hover me&lt;/a&gt;\n  &lt;ul&gt;\n    &lt;li&gt;item&lt;/li&gt;\n    &lt;li&gt;item&lt;/li&gt;\n    &lt;li&gt;item&lt;/li&gt;\n    &lt;li&gt;item&lt;/li&gt;\n    &lt;li&gt;item&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution24","@type":"Answer","upvoteCount":0},{"text":"Here&apos;s a way to transition from any starting height, including 0, to auto (full size and flexible) without requiring hard-set code on a per-node basis or any user-code to initialize: https://github.com/csuwildcat/transition-auto. This is basically the holy grail for what you want, I believe --&gt; http://codepen.io/csuwldcat/pen/kwsdF. Just slap the following JS file into your page, and all you need to do after that is add/remove a single boolean attribute - reveal=&quot;&quot; - from the nodes you want to expand and contract.\n\nHere&apos;s all you need to do as the user, once you include the code block found below the example code:\n\n/*** Nothing out of the ordinary in your styles ***/\n&lt;style&gt;\n    div {\n        height: 0;\n        overflow: hidden;\n        transition: height 1s;\n    }\n&lt;/style&gt;\n\n/*** Just add and remove one attribute and transition to/from auto! ***/\n\n&lt;div&gt;\n    I have tons of content and I am 0px in height you can&apos;t see me...\n&lt;/div&gt;\n\n&lt;div reveal&gt;\n     I have tons of content and I am 0px in height you can&apos;t see me...\n     but now that you added the &apos;reveal&apos; attribute, \n     I magically transitioned to full height!...\n&lt;/div&gt;\n\n\nHere&apos;s the code block to include in your page, after that, it&apos;s all gravy:\n\nDrop this JS file in your page - it all Just Works\n\n/* Code for height: auto; transitioning */\n\n(function(doc){\n\n/* feature detection for browsers that report different values for scrollHeight when an element&apos;s overflow is hidden vs visible (Firefox, IE) */\nvar test = doc.documentElement.appendChild(doc.createElement(&apos;x-reveal-test&apos;));\n    test.innerHTML = &apos;-&apos;;\n    test.style.cssText = &apos;display: block !important; height: 0px !important; padding: 0px !important; font-size: 0px !important; border-width: 0px !important; line-height: 1px !important; overflow: hidden !important;&apos;;\nvar scroll = test.scrollHeight || 2;\ndoc.documentElement.removeChild(test);\n\nvar loading = true,\n    numReg = /^([0-9]*\\.?[0-9]*)(.*)/,\n    skipFrame = function(fn){\n      requestAnimationFrame(function(){\n        requestAnimationFrame(fn);\n      });\n    },\n    /* 2 out of 3 uses of this function are purely to work around Chrome&apos;s catastrophically busted implementation of auto value CSS transitioning */\n    revealFrame = function(el, state, height){\n        el.setAttribute(&apos;reveal-transition&apos;, &apos;frame&apos;);\n        el.style.height = height;\n        skipFrame(function(){\n            el.setAttribute(&apos;reveal-transition&apos;, state);\n            el.style.height = &apos;&apos;;\n        });\n    },\n    transitionend = function(e){\n      var node = e.target;\n      if (node.hasAttribute(&apos;reveal&apos;)) {\n        if (node.getAttribute(&apos;reveal-transition&apos;) == &apos;running&apos;) revealFrame(node, &apos;complete&apos;, &apos;&apos;);\n      } \n      else {\n        node.removeAttribute(&apos;reveal-transition&apos;);\n        node.style.height = &apos;&apos;;\n      }\n    },\n    animationstart = function(e){\n      var node = e.target,\n          name = e.animationName;   \n      if (name == &apos;reveal&apos; || name == &apos;unreveal&apos;) {\n\n        if (loading) return revealFrame(node, &apos;complete&apos;, &apos;auto&apos;);\n\n        var style = getComputedStyle(node),\n            offset = (Number(style.paddingTop.match(numReg)[1])) +\n                     (Number(style.paddingBottom.match(numReg)[1])) +\n                     (Number(style.borderTopWidth.match(numReg)[1])) +\n                     (Number(style.borderBottomWidth.match(numReg)[1]));\n\n        if (name == &apos;reveal&apos;){\n          node.setAttribute(&apos;reveal-transition&apos;, &apos;running&apos;);\n          node.style.height = node.scrollHeight - (offset / scroll) + &apos;px&apos;;\n        }\n        else {\n            if (node.getAttribute(&apos;reveal-transition&apos;) == &apos;running&apos;) node.style.height = &apos;&apos;;\n            else revealFrame(node, &apos;running&apos;, node.scrollHeight - offset + &apos;px&apos;);\n        }\n      }\n    };\n\ndoc.addEventListener(&apos;animationstart&apos;, animationstart, false);\ndoc.addEventListener(&apos;MSAnimationStart&apos;, animationstart, false);\ndoc.addEventListener(&apos;webkitAnimationStart&apos;, animationstart, false);\ndoc.addEventListener(&apos;transitionend&apos;, transitionend, false);\ndoc.addEventListener(&apos;MSTransitionEnd&apos;, transitionend, false);\ndoc.addEventListener(&apos;webkitTransitionEnd&apos;, transitionend, false);\n\n/*\n    Batshit readyState/DOMContentLoaded code to dance around Webkit/Chrome animation auto-run weirdness on initial page load.\n    If they fixed their code, you could just check for if(doc.readyState != &apos;complete&apos;) in animationstart&apos;s if(loading) check\n*/\nif (document.readyState == &apos;complete&apos;) {\n    skipFrame(function(){\n        loading = false;\n    });\n}\nelse document.addEventListener(&apos;DOMContentLoaded&apos;, function(e){\n    skipFrame(function(){\n        loading = false;\n    });\n}, false);\n\n/* Styles that allow for &apos;reveal&apos; attribute triggers */\nvar styles = doc.createElement(&apos;style&apos;),\n    t = &apos;transition: none; &apos;,\n    au = &apos;animation: reveal 0.001s; &apos;,\n    ar = &apos;animation: unreveal 0.001s; &apos;,\n    clip = &apos; { from { opacity: 0; } to { opacity: 1; } }&apos;,\n    r = &apos;keyframes reveal&apos; + clip,\n    u = &apos;keyframes unreveal&apos; + clip;\n\nstyles.textContent = &apos;[reveal] { -ms-&apos;+ au + &apos;-webkit-&apos;+ au +&apos;-moz-&apos;+ au + au +&apos;}&apos; +\n    &apos;[reveal-transition=&quot;frame&quot;] { -ms-&apos; + t + &apos;-webkit-&apos; + t + &apos;-moz-&apos; + t + t + &apos;height: auto; }&apos; +\n    &apos;[reveal-transition=&quot;complete&quot;] { height: auto; }&apos; +\n    &apos;[reveal-transition]:not([reveal]) { -webkit-&apos;+ ar +&apos;-moz-&apos;+ ar + ar +&apos;}&apos; +\n    &apos;@-ms-&apos; + r + &apos;@-webkit-&apos; + r + &apos;@-moz-&apos; + r + r +\n    &apos;@-ms-&apos; + u +&apos;@-webkit-&apos; + u + &apos;@-moz-&apos; + u + u;\n\ndoc.querySelector(&apos;head&apos;).appendChild(styles);\n\n})(document);\n\n\n/* Code for DEMO */\n\n    document.addEventListener(&apos;click&apos;, function(e){\n      if (e.target.nodeName == &apos;BUTTON&apos;) {\n        var next = e.target.nextElementSibling;\n        next.hasAttribute(&apos;reveal&apos;) ? next.removeAttribute(&apos;reveal&apos;) : next.setAttribute(&apos;reveal&apos;, &apos;&apos;);\n      }\n    }, false);\n\n    ","url":"/questions/[slug]#solution25","@type":"Answer","upvoteCount":0},{"text":"I think I came up with a really solid solution\n\nOK! I know this problem is as old as the internet but I think I have a solution which I turned into a plugin called mutant-transition. My solution sets the style=&quot;&quot; attributes for tracked elements whenever theres a change in the DOM. the end result is that you can use good ole CSS for your transitions and not use hacky fixes or special javascript. The only thing you have to do is set what you want to track on the element in question using data-mutant-attributes=&quot;X&quot;. \n\n&lt;div data-mutant-attributes=&quot;height&quot;&gt;                                                                      \n        This is an example with mutant-transition                                                                                                          \n    &lt;/div&gt;\n\n\nThats it! This solution uses MutationObserver to follow changes in the DOM. Because of this, you don&apos;t really have to set anything up or use javascript to manually animate things. Changes are tracked automatically. However, because it uses MutationObserver, this will only transition in IE11+. \n\nFiddles!\n\n\nDemonstrating transitioning from height: auto to height: 100%\nDemonstrating transitioning height: auto when adding children\n\n    ","url":"/questions/[slug]#solution26","@type":"Answer","upvoteCount":0},{"text":"Jake&apos;s answer to animate the max-height is great, but I found the delay caused by setting a large max-height annoying.\n\nOne could move the collapsable content into an inner div and calculate the max height by getting the height of the inner div (via JQuery it&apos;d be the outerHeight()).\n\n$(&apos;button&apos;).bind(&apos;click&apos;, function(e) { \n  e.preventDefault();\n  w = $(&apos;#outer&apos;);\n  if (w.hasClass(&apos;collapsed&apos;)) {\n    w.css({ &quot;max-height&quot;: $(&apos;#inner&apos;).outerHeight() + &apos;px&apos; });\n  } else {\n    w.css({ &quot;max-height&quot;: &quot;0px&quot; });\n  }\n  w.toggleClass(&apos;collapsed&apos;);\n});\n\n\nHere&apos;s a jsfiddle link: http://jsfiddle.net/pbatey/duZpT\n\nHere&apos;s a jsfiddle with the absolute minimal amount of code required: http://jsfiddle.net/8ncjjxh8/\n    ","url":"/questions/[slug]#solution27","@type":"Answer","upvoteCount":0},{"text":"I was able to do this. I have a .child &amp; a .parent div. The child div fits perfectly within the parent&apos;s width/height with absolute positioning. I then animate the translate property to push it&apos;s Y value down 100%. Its very smooth animation, no glitches or down sides like any other solution here.\n\nSomething like this, pseudo code\n\n.parent{ position:relative; overflow:hidden; } \n/** shown state */\n.child {\n  position:absolute;top:0;:left:0;right:0;bottom:0;\n  height: 100%;\n  transition: transform @overlay-animation-duration ease-in-out;\n  .translate(0, 0);\n}\n\n/** Animate to hidden by sliding down: */\n.child.slidedown {\n  .translate(0, 100%); /** Translate the element &quot;out&quot; the bottom of it&apos;s .scene container &quot;mask&quot; so its hidden */\n}\n\n\nYou would specify a height on .parent, in px, %, or leave as auto. This div then masks out the .child div when it slides down.\n    ","url":"/questions/[slug]#solution28","@type":"Answer","upvoteCount":0},{"text":"Alternate CSS-only solution with line-height, padding, opacity and margin:\n\n\nbody {\n  background-color: linen;\n}\n\nmain {\n  background-color: white;\n}\n\n[id^=&quot;toggle_&quot;] ~ .content {\n  line-height: 0;\n  opacity: 0;\n  padding: 0 .5rem;\n  transition: .2s ease-out;\n}\n\n[id^=&quot;toggle_&quot;] ~ .content &gt; p {\n  margin: 0;\n    transition: .2s ease-out;\n}\n\n[id^=&quot;toggle_&quot;]:checked ~ .content   {\n  opacity: 1;\n  padding: .5rem;\n  line-height: 1.5;\n}\n\n[id^=&quot;toggle_&quot;]:checked ~ .content p  {\n    margin-bottom: .75rem;\n}\n\n[id^=&quot;toggle_&quot;] + label {\n  display: flex;\n  justify-content: space-between;\n  padding: 0.5em 1em;\n  background: lightsteelblue;\n  border-bottom: 1px solid gray;\n  cursor: pointer;\n}\n\n[id^=&quot;toggle_&quot;] + label:before {\n  content: &quot;Show&quot;;\n}\n\n[id^=&quot;toggle_&quot;]:checked + label:before {\n  content: &quot;Hide&quot;;\n}\n\n[id^=&quot;toggle_&quot;] + label:after {\n  content: &quot;\\25BC&quot;;\n}\n\n[id^=&quot;toggle_&quot;]:checked + label:after {\n  content: &quot;\\25B2&quot;;\n}\n&lt;main&gt;\n    &lt;div&gt;\n        &lt;input type=&quot;checkbox&quot; id=&quot;toggle_1&quot; hidden&gt;\n        &lt;label for=&quot;toggle_1&quot; hidden&gt;&lt;/label&gt;\n        &lt;div class=&quot;content&quot;&gt;\n            &lt;p&gt;\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis dolor neque, commodo quis leo ut, auctor tincidunt mauris. Nunc fringilla tincidunt metus, non gravida lorem condimentum non. Duis ornare purus nisl, at porta arcu eleifend eget. Integer lorem ante, porta vulputate dui ut, blandit tempor tellus. Proin facilisis bibendum diam, sit amet rutrum est feugiat ut. Mauris rhoncus convallis arcu in condimentum. Donec volutpat dui eu mollis vulputate. Nunc commodo lobortis nunc at ultrices. Suspendisse in lobortis diam. Suspendisse eget vestibulum ex.\n            &lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;input type=&quot;checkbox&quot; id=&quot;toggle_2&quot; hidden&gt;\n        &lt;label for=&quot;toggle_2&quot; hidden&gt;&lt;/label&gt;\n        &lt;div class=&quot;content&quot;&gt;\n            &lt;p&gt;\n                Maecenas laoreet nunc sit amet nulla ultrices auctor. Vivamus sed nisi vitae nibh condimentum pulvinar eu vel lorem. Sed pretium viverra eros ut facilisis. In ut fringilla magna. Sed a tempor libero. Donec sapien libero, lacinia sed aliquet ut, imperdiet finibus tellus. Nunc tellus lectus, rhoncus in posuere quis, tempus sit amet enim. Morbi et erat ac velit fringilla dignissim. Donec commodo, est id accumsan cursus, diam dui hendrerit nisi, vel hendrerit purus dolor ut risus. Phasellus mattis egestas ipsum sed ullamcorper. In diam ligula, rhoncus vel enim et, imperdiet porta justo. Curabitur vulputate hendrerit nisl, et ultricies diam. Maecenas ac leo a diam cursus ornare nec eu quam.\n            &lt;/p&gt;\n            &lt;p&gt;Sed non vulputate purus, sed consectetur odio. Sed non nibh fringilla, imperdiet odio nec, efficitur ex. Suspendisse ut dignissim enim. Maecenas felis augue, tempor sit amet sem fringilla, accumsan fringilla nibh. Quisque posuere lacus tortor, quis malesuada magna elementum a. Nullam id purus in ante molestie tincidunt. Morbi luctus orci eu egestas dignissim. Sed tincidunt, libero quis scelerisque bibendum, ligula nisi gravida libero, id lacinia nulla leo in elit.\n            &lt;/p&gt;\n            &lt;p&gt;Aenean aliquam risus id consectetur sagittis. Aliquam aliquam nisl eu augue accumsan, vel maximus lorem viverra. Aliquam ipsum dolor, tempor et justo ac, fermentum mattis dui. Etiam at posuere ligula. Vestibulum tortor metus, viverra vitae mi non, laoreet iaculis purus. Praesent vel semper nibh. Curabitur a congue lacus. In et pellentesque lorem. Morbi posuere felis non diam vulputate, non vulputate ex vehicula. Vivamus ultricies, massa id sagittis consequat, sem mauris tincidunt nunc, eu vehicula augue quam ut mauris.\n            &lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n        &lt;div&gt;\n        &lt;input type=&quot;checkbox&quot; id=&quot;toggle_3&quot; hidden&gt;\n        &lt;label for=&quot;toggle_3&quot; hidden&gt;&lt;/label&gt;\n        &lt;div class=&quot;content&quot;&gt;\n            &lt;p&gt;\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis dolor neque, commodo quis leo ut, auctor tincidunt mauris. Nunc fringilla tincidunt metus, non gravida lorem condimentum non. Duis ornare purus nisl, at porta arcu eleifend eget. Integer lorem ante, porta vulputate dui ut, blandit tempor tellus. Proin facilisis bibendum diam, sit amet rutrum est feugiat ut. Mauris rhoncus convallis arcu in condimentum. Donec volutpat dui eu mollis vulputate. Nunc commodo lobortis nunc at ultrices. Suspendisse in lobortis diam. Suspendisse eget vestibulum ex.\n            &lt;/p&gt;\n            &lt;p&gt;Sed non vulputate purus, sed consectetur odio. Sed non nibh fringilla, imperdiet odio nec, efficitur ex. Suspendisse ut dignissim enim. Maecenas felis augue, tempor sit amet sem fringilla, accumsan fringilla nibh. Quisque posuere lacus tortor, quis malesuada magna elementum a. Nullam id purus in ante molestie tincidunt. Morbi luctus orci eu egestas dignissim. Sed tincidunt, libero quis scelerisque bibendum, ligula nisi gravida libero, id lacinia nulla leo in elit.\n            &lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/main&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution29","@type":"Answer","upvoteCount":0},{"text":"I realize this thread is getting old, but it ranks high on certain Google searches so I figure it&apos;s worth updating.\n\nYou also just get/set the element&apos;s own height:\n\nvar load_height = document.getElementById(&apos;target_box&apos;).clientHeight;\ndocument.getElementById(&apos;target_box&apos;).style.height = load_height + &apos;px&apos;;\n\n\nYou should dump this Javascript immediately after target_box&apos;s closing tag in an inline script tag.\n    ","url":"/questions/[slug]#solution30","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08d1a634dea6705e.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/150-b06815e21c943e0d.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/108-87de33c23337ff53.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-79a1437acf654019.js" defer=""></script><script src="/_next/static/Zo3C7AOWQzKM9qqyzx2hf/_buildManifest.js" defer=""></script><script src="/_next/static/Zo3C7AOWQzKM9qqyzx2hf/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-can-i-transition-height:-0-to-height:-auto-using-css-1657388022100#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-can-i-transition-height:-0-to-height:-auto-using-css-1657388022100"><h1>How can I transition height: 0; to height: auto; using CSS?</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"></div></div><div class="question-content mt-5">
                
<p>I am trying to make a <code>&lt;ul&gt;</code> slide down using CSS transitions.</p>

<p>The <code>&lt;ul&gt;</code> starts off at <code>height: 0;</code>. On hover, the height is set to <code>height:auto;</code>. However, this is causing it to simply appear, <em>not</em> transition,</p>

<p>If I do it from <code>height: 40px;</code> to <code>height: auto;</code>, then it will slide up to <code>height: 0;</code>, and then suddenly jump to the correct height.</p>

<p>How else could I do this without using JavaScript?</p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#child0</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#dedede</span>;
  -moz-<span class="hljs-attribute">transition</span>: height <span class="hljs-number">1s</span> ease;
  -webkit-<span class="hljs-attribute">transition</span>: height <span class="hljs-number">1s</span> ease;
  -o-<span class="hljs-attribute">transition</span>: height <span class="hljs-number">1s</span> ease;
  <span class="hljs-attribute">transition</span>: height <span class="hljs-number">1s</span> ease;
}
<span class="hljs-selector-id">#parent0</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-id">#child0</span> {
  <span class="hljs-attribute">height</span>: auto;
}
<span class="hljs-selector-id">#child40</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#dedede</span>;
  -moz-<span class="hljs-attribute">transition</span>: height <span class="hljs-number">1s</span> ease;
  -webkit-<span class="hljs-attribute">transition</span>: height <span class="hljs-number">1s</span> ease;
  -o-<span class="hljs-attribute">transition</span>: height <span class="hljs-number">1s</span> ease;
  <span class="hljs-attribute">transition</span>: height <span class="hljs-number">1s</span> ease;
}
<span class="hljs-selector-id">#parent40</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-id">#child40</span> {
  <span class="hljs-attribute">height</span>: auto;
}
<span class="hljs-selector-tag">h1</span> {
  <span class="hljs-attribute">font-weight</span>: bold;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml">The only difference between the two snippets of CSS is one has height: 0, the other height: 40.
<span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"parent0"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hover me (height: 0)<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"child0"</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"parent40"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hover me (height: 40)<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"child40"</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif1" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li><li class="pagination-solution-item"><span data-id="#solution17" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">17</span></li><li class="pagination-solution-item"><span data-id="#solution18" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">18</span></li><li class="pagination-solution-item"><span data-id="#solution19" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">19</span></li><li class="pagination-solution-item"><span data-id="#solution20" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">20</span></li><li class="pagination-solution-item"><span data-id="#solution21" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">21</span></li><li class="pagination-solution-item"><span data-id="#solution22" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">22</span></li><li class="pagination-solution-item"><span data-id="#solution23" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">23</span></li><li class="pagination-solution-item"><span data-id="#solution24" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">24</span></li><li class="pagination-solution-item"><span data-id="#solution25" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">25</span></li><li class="pagination-solution-item"><span data-id="#solution26" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">26</span></li><li class="pagination-solution-item"><span data-id="#solution27" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">27</span></li><li class="pagination-solution-item"><span data-id="#solution28" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">28</span></li><li class="pagination-solution-item"><span data-id="#solution29" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">29</span></li><li class="pagination-solution-item"><span data-id="#solution30" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">30</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Use <code>max-height</code> in the transition and not <code>height</code>. And set a value on <code>max-height</code> to something bigger than your box will ever get.</p>

<p>See <a href="http://jsfiddle.net/thechrisjordan/3Fc7D/23/" rel="noreferrer">JSFiddle demo</a> provided by Chris Jordan in another <a href="https://stackoverflow.com/a/20226830/18706">answer</a> here.</p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#menu</span> <span class="hljs-selector-id">#list</span> {
    <span class="hljs-attribute">max-height</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">transition</span>: max-height <span class="hljs-number">0.15s</span> ease-out;
    <span class="hljs-attribute">overflow</span>: hidden;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#d5d5d5</span>;
}

<span class="hljs-selector-id">#menu</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-id">#list</span> {
    <span class="hljs-attribute">max-height</span>: <span class="hljs-number">500px</span>;
    <span class="hljs-attribute">transition</span>: max-height <span class="hljs-number">0.25s</span> ease-in;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"menu"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span>&gt;</span>hover me<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"list"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Create a bunch, or not a bunch, of li's to see the timing. --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif2" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You should use scaleY instead.</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">ul</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#eee</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleY</span>(<span class="hljs-number">0</span>);    
  <span class="hljs-attribute">transform-origin</span>: top;
  <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.26s</span> ease;
}
<span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">:hover</span> ~ <span class="hljs-selector-tag">ul</span> {
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleY</span>(<span class="hljs-number">1</span>);
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Hover This<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Coffee<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Tea<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Milk<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif3" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>I've made a vendor prefixed version of the above code on <a href="http://jsfiddle.net/dotnetCarpenter/PhyQc/9/" rel="noreferrer">jsfiddle</a>,  and changed your <a href="http://jsfiddle.net/dotnetCarpenter/7cnfc/206/" rel="noreferrer">jsfiddle</a> to use scaleY instead of height.</p>
<p><strong><em>Edit</em></strong>
Some people do not like how <code>scaleY</code> transforms the content. If that is a problem then I suggest using <code>clip</code> instead.</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">ul</span> {
  <span class="hljs-attribute">clip</span>: <span class="hljs-built_in">rect</span>(auto, auto, <span class="hljs-number">0</span>, auto);
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">margin</span>: -<span class="hljs-number">1rem</span> <span class="hljs-number">0</span>;
  <span class="hljs-attribute">padding</span>: .<span class="hljs-number">5rem</span>;

  <span class="hljs-attribute">color</span>: white;

  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.8</span>);

  <span class="hljs-attribute">transition-property</span>: clip;
  <span class="hljs-attribute">transition-duration</span>: <span class="hljs-number">0.5s</span>;
  <span class="hljs-attribute">transition-timing-function</span>: <span class="hljs-built_in">cubic-bezier</span>(<span class="hljs-number">0.175</span>, <span class="hljs-number">0.885</span>, <span class="hljs-number">0.32</span>, <span class="hljs-number">1.275</span>);
}
<span class="hljs-selector-tag">h3</span><span class="hljs-selector-pseudo">:hover</span> ~ <span class="hljs-selector-tag">ul</span>,
<span class="hljs-selector-tag">h3</span><span class="hljs-selector-pseudo">:active</span> ~ <span class="hljs-selector-tag">ul</span>,
<span class="hljs-selector-tag">ul</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">clip</span>: <span class="hljs-built_in">rect</span>(auto, auto, <span class="hljs-number">10rem</span>, auto);
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Hover here<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>This list<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>is clipped.<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>A clip transition<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>will show it<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
  Some text...
<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif4" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can't currently animate on height when one of the heights involved is <code>auto</code>, you have to set two explicit heights.</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The solution that I've always used was to first fade out, then shrink the <code>font-size</code>, <code>padding</code> and <code>margin</code> values. It doesn't look the same as a wipe, but it works without a static <code>height</code> or <code>max-height</code>.</p>

<p>Working example:</p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-comment">/* final display */</span>
<span class="hljs-selector-id">#menu</span> <span class="hljs-selector-id">#list</span> {
    <span class="hljs-attribute">margin</span>: .<span class="hljs-number">5em</span> <span class="hljs-number">1em</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">1em</span>;
}

<span class="hljs-comment">/* hide */</span>
<span class="hljs-selector-id">#menu</span><span class="hljs-selector-pseudo">:not</span>(<span class="hljs-selector-pseudo">:hover</span>) <span class="hljs-selector-id">#list</span> {
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
    <span class="hljs-comment">/* fade out, then shrink */</span>
    <span class="hljs-attribute">transition</span>: opacity .<span class="hljs-number">25s</span>,
                font-size .<span class="hljs-number">5s</span> .<span class="hljs-number">25s</span>,
                margin .<span class="hljs-number">5s</span> .<span class="hljs-number">25s</span>,
                padding .<span class="hljs-number">5s</span> .<span class="hljs-number">25s</span>;
}

<span class="hljs-comment">/* reveal */</span>
<span class="hljs-selector-id">#menu</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-id">#list</span> {
    <span class="hljs-comment">/* unshrink, then fade in */</span>
    <span class="hljs-attribute">transition</span>: font-size .<span class="hljs-number">25s</span>,
                margin .<span class="hljs-number">25s</span>,
                padding .<span class="hljs-number">25s</span>,
                opacity .<span class="hljs-number">5s</span> .<span class="hljs-number">25s</span>;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"menu"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>hover me<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"list"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Another paragraph...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif5" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This is a <strong>CSS-only</strong> solution with the following properties:</p>
<ul>
<li>There is no delay at the beginning, and the transition doesn't stop early. In both directions (expanding and collapsing), if you specify a transition duration of 300ms in your CSS, then the transition takes 300ms, period.</li>
<li>It's transitioning the actual height (unlike <code>transform: scaleY(0)</code>), so it does the right thing if there's content after the collapsible element.</li>
<li>While (like in other solutions) there <em>are</em> magic numbers (like "pick a length that is higher than your box is ever going to be"), it's not fatal if your assumption ends up being wrong. The transition may not look amazing in that case, but before and after the transition, this is not a problem: In the expanded (<code>height: auto</code>) state, the whole content always has the correct height (unlike e.g. if you pick a <code>max-height</code> that turns out to be too low). And in the collapsed state, the height is zero as it should.</li>
</ul>
<h2>Demo</h2>
<p>Here's a demo with three collapsible elements, all of different heights, that all use the same CSS. You might want to click "full page" after clicking "run snippet". Note that the JavaScript only toggles the <code>collapsed</code> CSS class, there's no measuring involved. (You could do this exact demo without any JavaScript at all by using a checkbox or <code>:target</code>). Also note that the part of the CSS that's responsible for the transition is pretty short, and the HTML only requires a single additional wrapper element.</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript">$(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
  $(<span class="hljs-string">".toggler"</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">next</span>().<span class="hljs-title function_">toggleClass</span>(<span class="hljs-string">"collapsed"</span>);
    $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">toggleClass</span>(<span class="hljs-string">"toggled"</span>); <span class="hljs-comment">// this just rotates the expander arrow</span>
  });
});</code></pre>
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.collapsible-wrapper</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">overflow</span>: hidden;
}
<span class="hljs-selector-class">.collapsible-wrapper</span><span class="hljs-selector-pseudo">:after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;
  <span class="hljs-attribute">transition</span>: height <span class="hljs-number">0.3s</span> linear, max-height <span class="hljs-number">0s</span> <span class="hljs-number">0.3s</span> linear;
  <span class="hljs-attribute">max-height</span>: <span class="hljs-number">0px</span>;
}
<span class="hljs-selector-class">.collapsible</span> {
  <span class="hljs-attribute">transition</span>: margin-bottom <span class="hljs-number">0.3s</span> <span class="hljs-built_in">cubic-bezier</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">max-height</span>: <span class="hljs-number">1000000px</span>;
}
<span class="hljs-selector-class">.collapsible-wrapper</span><span class="hljs-selector-class">.collapsed</span> &gt; <span class="hljs-selector-class">.collapsible</span> {
  <span class="hljs-attribute">margin-bottom</span>: -<span class="hljs-number">2000px</span>;
  <span class="hljs-attribute">transition</span>: margin-bottom <span class="hljs-number">0.3s</span> <span class="hljs-built_in">cubic-bezier</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>),
              visibility <span class="hljs-number">0s</span> <span class="hljs-number">0.3s</span>, max-height <span class="hljs-number">0s</span> <span class="hljs-number">0.3s</span>;
  <span class="hljs-attribute">visibility</span>: hidden;
  <span class="hljs-attribute">max-height</span>: <span class="hljs-number">0</span>;
}
<span class="hljs-selector-class">.collapsible-wrapper</span><span class="hljs-selector-class">.collapsed</span><span class="hljs-selector-pseudo">:after</span>
{
  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">transition</span>: height <span class="hljs-number">0.3s</span> linear;
  <span class="hljs-attribute">max-height</span>: <span class="hljs-number">50px</span>;
}

<span class="hljs-comment">/* END of the collapsible implementation; the stuff below
   is just styling for this demo */</span>

<span class="hljs-selector-id">#container</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">align-items</span>: flex-start;
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">1000px</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
}  


<span class="hljs-selector-class">.menu</span> {
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ccc</span>;
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">3px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.5</span>);
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span>;

  
}

<span class="hljs-selector-class">.menu-item</span> {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(to bottom, <span class="hljs-number">#fff</span> <span class="hljs-number">0%</span>,<span class="hljs-number">#eee</span> <span class="hljs-number">100%</span>);
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">1em</span>;
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.3</span>;
}
<span class="hljs-selector-class">.collapsible</span> <span class="hljs-selector-class">.menu-item</span> {
  <span class="hljs-attribute">border-left</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#888</span>;
  <span class="hljs-attribute">border-right</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#888</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(to bottom, <span class="hljs-number">#eee</span> <span class="hljs-number">0%</span>,<span class="hljs-number">#ddd</span> <span class="hljs-number">100%</span>);
}
<span class="hljs-selector-class">.menu-item</span><span class="hljs-selector-class">.toggler</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(to bottom, <span class="hljs-number">#aaa</span> <span class="hljs-number">0%</span>,<span class="hljs-number">#888</span> <span class="hljs-number">100%</span>);
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">cursor</span>: pointer;
}
<span class="hljs-selector-class">.menu-item</span><span class="hljs-selector-class">.toggler</span><span class="hljs-selector-pseudo">:before</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">border-left</span>: <span class="hljs-number">8px</span> solid white;
  <span class="hljs-attribute">border-top</span>: <span class="hljs-number">8px</span> solid transparent;
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">8px</span> solid transparent;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">float</span>: right;
  <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.3s</span> ease-out;
}
<span class="hljs-selector-class">.menu-item</span><span class="hljs-selector-class">.toggler</span><span class="hljs-selector-class">.toggled</span><span class="hljs-selector-pseudo">:before</span> {
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">90deg</span>);
}

<span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">font-family</span>: sans-serif; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>; }

*, *<span class="hljs-selector-pseudo">:after</span> {
  <span class="hljs-attribute">box-sizing</span>: border-box;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"container"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Something involving a holodeck<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Send an away team<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item toggler"</span>&gt;</span>Advanced solutions<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"collapsible-wrapper collapsed"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"collapsible"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Separate saucer<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Send an away team that includes the captain (despite Riker's protest)<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Ask Worf<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Something involving Wesley, the 19th century, and a holodeck<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Ask Q for help<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Sweet-talk the alien aggressor<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Re-route power from auxiliary systems<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Something involving a holodeck<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Send an away team<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item toggler"</span>&gt;</span>Advanced solutions<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"collapsible-wrapper collapsed"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"collapsible"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Separate saucer<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Send an away team that includes the captain (despite Riker's protest)<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Sweet-talk the alien aggressor<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Re-route power from auxiliary systems<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Something involving a holodeck<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Send an away team<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item toggler"</span>&gt;</span>Advanced solutions<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"collapsible-wrapper collapsed"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"collapsible"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Separate saucer<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Send an away team that includes the captain (despite Riker's protest)<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Ask Worf<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Something involving Wesley, the 19th century, and a holodeck<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Ask Q for help<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Separate saucer<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Send an away team that includes the captain (despite Riker's protest)<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Ask Worf<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Something involving Wesley, the 19th century, and a holodeck<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Ask Q for help<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Sweet-talk the alien aggressor<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu-item"</span>&gt;</span>Re-route power from auxiliary systems<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif6" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<h2>How does it work?</h2>
<p>There are in fact <em>two</em> transitions involved in making this happen. One of them transitions the <code>margin-bottom</code> from 0px (in the expanded state) to <code>-2000px</code> in the collapsed state (similar to <a href="https://stackoverflow.com/a/25200087/115866">this answer</a>). The 2000 here is the first magic number, it's based on the assumption that your box won't be higher than this (2000 pixels seems like a reasonable choice).</p>
<p>Using the <code>margin-bottom</code> transition alone by itself has two issues:</p>
<ul>
<li>If you actually have a box that's higher than 2000 pixels, then a <code>margin-bottom: -2000px</code> won't hide everything -- there'll be visible stuff even in the collapsed case. This is a minor fix that we'll do later.</li>
<li>If the actual box is, say, 1000 pixels high, and your transition is 300ms long, then the <em>visible</em> transition is already over after about 150ms (or, in the opposite direction, starts 150ms late).</li>
</ul>
<p>Fixing this second issue is where the second transition comes in, and this transition conceptually targets the wrapper's <em>minimum</em> height ("conceptually" because we're not actually using the <code>min-height</code> property for this; more on that later).</p>
<p>Here's an animation that shows how combining the bottom margin transition with the minimum height transition, both of equal duration, gives us a combined transition from full height to zero height that has the same duration.</p>
<p><a href="https://i.stack.imgur.com/TwbsG.gif" rel="noreferrer"><img src="https://i.stack.imgur.com/TwbsG.gif" alt="animation as described above"></a></p>
<p>The left bar shows how the negative bottom margin pushes the bottom upwards, reducing the visible height. The middle bar shows how the minimum height ensures that in the collapsing case, the transition doesn't end early, and in the expanding case, the transition doesn't start late. The right bar shows how the combination of the two causes the box to transition from full height to zero height in the correct amount of time.</p>
<p>For my demo I've settled on 50px as the upper minimum height value. This is the second magic number, and it should be lower than the box' height would ever be. 50px seems reasonable as well; it seems unlikely that you'd very often want to make an element collapsible that isn't even 50 pixels high in the first place.</p>
<p>As you can see in the animation, the resulting transition is continuous, but it is not differentiable -- at the moment when the minimum height is equal to the full height adjusted by the bottom margin, there is a sudden change in speed. This is very noticeable in the animation because it uses a linear timing function for both transitions, and because the whole transition is very slow. In the actual case (my demo at the top), the transition only takes 300ms, and the bottom margin transition is not linear. I've played around with a lot of different timing functions for both transitions, and the ones I ended up with felt like they worked best for the widest variety of cases.</p>
<p>Two problems remain to fix:</p>
<ol>
<li>the point from above, where boxes of more than 2000 pixels height aren't completely hidden in the collapsed state,</li>
<li>and the reverse problem, where in the non-hidden case, boxes of less than 50 pixels height are too high even when the transition isn't running, because the minimum height keeps them at 50 pixels.</li>
</ol>
<p>We solve the first problem by giving the container element a <code>max-height: 0</code> in the collapsed case, with a <code>0s 0.3s</code> transition. This means that it's not really a transition, but the <code>max-height</code> is applied with a delay; it only applies once the transition is over. For this to work correctly, we also need to pick a numerical <code>max-height</code> for the opposite, non-collapsed, state. But unlike in the 2000px case, where picking too large of a number affects the quality of the transition, in this case, it really doesn't matter. So we can just pick a number that is so high that we <em>know</em> that no height will ever come close to this. I picked a million pixels. If you feel you may need to support content of a height of more than a million pixels, then 1) I'm sorry, and 2) just add a couple of zeros.</p>
<p>The second problem is the reason why we're not actually using <code>min-height</code> for the minimum height transition. Instead, there is an <code>::after</code> pseudo-element in the container with a <code>height</code> that transitions from 50px to zero. This has the same effect as a <code>min-height</code>: It won't let the container shrink below whatever height the pseudo-element currently has. But because we're using <code>height</code>, not <code>min-height</code>, we can now use <code>max-height</code> (once again applied with a delay) to set the pseudo-element's actual height to zero once the transition is over, ensuring that at least outside the transition, even small elements have the correct height. Because <code>min-height</code> is <a href="https://stackoverflow.com/q/13845224/115866">stronger</a> than <code>max-height</code>, this wouldn't work if we used the container's <code>min-height</code> instead of the pseudo-element's <code>height</code>. Just like the <code>max-height</code> in the previous paragraph, this <code>max-height</code> also needs a value for the opposite end of the transition. But in this case we can just pick the 50px.</p>
<p>Tested in Chrome (Win, Mac, Android, iOS), Firefox (Win, Mac, Android), Edge, IE11 (except for a flexbox layout issue with my demo that I didn't bother debugging), and Safari (Mac, iOS). Speaking of flexbox, it should be possible to make this work without using any flexbox; in fact I think you could make almost everything work in IE7  except for the fact that you won't have CSS transitions, making it a rather pointless exercise.</p>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can, with a little bit of non-semantic jiggery-pokery. My usual approach is to animate the height of an outer DIV which has a single child which is a style-less DIV used only for measuring the content height.</p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">growDiv</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">var</span> growDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'grow'</span>);
  <span class="hljs-keyword">if</span> (growDiv.<span class="hljs-property">clientHeight</span>) {
    growDiv.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-number">0</span>;
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">var</span> wrapper = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.measuringWrapper'</span>);
    growDiv.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = wrapper.<span class="hljs-property">clientHeight</span> + <span class="hljs-string">"px"</span>;
  }
}</code></pre>
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#grow</span> {
  -moz-<span class="hljs-attribute">transition</span>: height .<span class="hljs-number">5s</span>;
  -ms-<span class="hljs-attribute">transition</span>: height .<span class="hljs-number">5s</span>;
  -o-<span class="hljs-attribute">transition</span>: height .<span class="hljs-number">5s</span>;
  -webkit-<span class="hljs-attribute">transition</span>: height .<span class="hljs-number">5s</span>;
  <span class="hljs-attribute">transition</span>: height .<span class="hljs-number">5s</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">outline</span>: <span class="hljs-number">1px</span> solid red;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"growDiv()"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"grow"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">'grow'</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">'measuringWrapper'</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      The contents of my div.
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      The contents of my div.
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      The contents of my div.
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      The contents of my div.
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      The contents of my div.
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      The contents of my div.
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif7" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>

<p>One would like to just be able to dispense with the <code>.measuringWrapper</code> and just set the DIV's height to auto and have that animate, but that doesn't seem to work (the height gets set, but no animation occurs).</p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">growDiv</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">var</span> growDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'grow'</span>);
  <span class="hljs-keyword">if</span> (growDiv.<span class="hljs-property">clientHeight</span>) {
    growDiv.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-number">0</span>;
  } <span class="hljs-keyword">else</span> {
    growDiv.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-string">'auto'</span>;
  }
}</code></pre>
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#grow</span> {
  -moz-<span class="hljs-attribute">transition</span>: height .<span class="hljs-number">5s</span>;
  -ms-<span class="hljs-attribute">transition</span>: height .<span class="hljs-number">5s</span>;
  -o-<span class="hljs-attribute">transition</span>: height .<span class="hljs-number">5s</span>;
  -webkit-<span class="hljs-attribute">transition</span>: height .<span class="hljs-number">5s</span>;
  <span class="hljs-attribute">transition</span>: height .<span class="hljs-number">5s</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">outline</span>: <span class="hljs-number">1px</span> solid red;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"growDiv()"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"grow"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">'grow'</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    The contents of my div.
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    The contents of my div.
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    The contents of my div.
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    The contents of my div.
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    The contents of my div.
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    The contents of my div.
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif8" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>

<p>My interpretation is that an explicit height is needed for the animation to run. You can't get an animation on height when either height (the start or end height) is <code>auto</code>.</p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>A visual workaround to animating height using CSS3 transitions is to animate the padding instead. </p>

<p>You don't quite get the full wipe effect, but playing around with the transition-duration and padding values should get you close enough. If you don't want to explicitly set height/max-height, this should be what you're looking for.</p>

<pre class="lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">div</span> {
    <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">overflow</span>: hidden;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">18px</span>;
    -webkit-<span class="hljs-attribute">transition</span>: all .<span class="hljs-number">5s</span> ease;
       -moz-<span class="hljs-attribute">transition</span>: all .<span class="hljs-number">5s</span> ease;
            <span class="hljs-attribute">transition</span>: all .<span class="hljs-number">5s</span> ease;
}
<span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.animated</span> {
    <span class="hljs-attribute">height</span>: auto;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">24px</span> <span class="hljs-number">18px</span>;
}
</code></pre>

<p><a href="http://jsfiddle.net/catharsis/n5XfG/17/" rel="noreferrer">http://jsfiddle.net/catharsis/n5XfG/17/</a> (riffed off stephband's above jsFiddle)</p>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The accepted answer works for most cases, but it doesn't work well when your <code>div</code> can vary greatly in height  the animation speed is not dependent on the actual height of the content, and it can look choppy.</p>

<p>You can still perform the actual animation with CSS, but you need to use JavaScript to compute the height of the items, instead of trying to use <code>auto</code>. No jQuery is required, although you may have to modify this a bit if you want compatibility (works in the latest version of Chrome :)).</p>

<p></p><div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">toggleExpand</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) {
    <span class="hljs-keyword">if</span> (!element.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> || element.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> == <span class="hljs-string">'0px'</span>) { 
        element.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">reduce</span>.<span class="hljs-title function_">call</span>(element.<span class="hljs-property">childNodes</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">p, c</span>) {<span class="hljs-keyword">return</span> p + (c.<span class="hljs-property">offsetHeight</span> || <span class="hljs-number">0</span>);}, <span class="hljs-number">0</span>) + <span class="hljs-string">'px'</span>;
    } <span class="hljs-keyword">else</span> {
        element.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-string">'0px'</span>;
    }
}</code></pre>
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#menu</span> <span class="hljs-selector-id">#list</span> {
    <span class="hljs-attribute">height</span>: <span class="hljs-number">0px</span>;
    <span class="hljs-attribute">transition</span>: height <span class="hljs-number">0.3s</span> ease;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#d5d5d5</span>;
    <span class="hljs-attribute">overflow</span>: hidden;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"menu"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Toggle list"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"toggleExpand(document.getElementById('list'));"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"list"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Works well with dynamically-sized content. --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"height: 100px; width: 100px; background: red;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif9" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>My workaround is to transition <code>max-height</code> to the exact content height for a nice smooth animation, then use a <code>transitionEnd</code> callback to set <code>max-height</code> to <code>9999px</code> so the content can resize freely.</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> content = $(<span class="hljs-string">'#content'</span>);
content.<span class="hljs-property">inner</span> = $(<span class="hljs-string">'#content .inner'</span>); <span class="hljs-comment">// inner div needed to get size of content when closed</span>

<span class="hljs-comment">// css transition callback</span>
content.<span class="hljs-title function_">on</span>(<span class="hljs-string">'transitionEnd webkitTransitionEnd transitionend oTransitionEnd msTransitionEnd'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>){
    <span class="hljs-keyword">if</span>(content.<span class="hljs-title function_">hasClass</span>(<span class="hljs-string">'open'</span>)){
        content.<span class="hljs-title function_">css</span>(<span class="hljs-string">'max-height'</span>, <span class="hljs-number">9999</span>); <span class="hljs-comment">// try setting this to 'none'... I dare you!</span>
    }
});

$(<span class="hljs-string">'#toggle'</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>){
    content.<span class="hljs-title function_">toggleClass</span>(<span class="hljs-string">'open closed'</span>);
    content.<span class="hljs-property">contentHeight</span> = content.<span class="hljs-title function_">outerHeight</span>();
    
    <span class="hljs-keyword">if</span>(content.<span class="hljs-title function_">hasClass</span>(<span class="hljs-string">'closed'</span>)){
        
        <span class="hljs-comment">// disable transitions &amp; set max-height to content height</span>
        content.<span class="hljs-title function_">removeClass</span>(<span class="hljs-string">'transitions'</span>).<span class="hljs-title function_">css</span>(<span class="hljs-string">'max-height'</span>, content.<span class="hljs-property">contentHeight</span>);
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>){
            
            <span class="hljs-comment">// enable &amp; start transition</span>
            content.<span class="hljs-title function_">addClass</span>(<span class="hljs-string">'transitions'</span>).<span class="hljs-title function_">css</span>({
                <span class="hljs-string">'max-height'</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">'opacity'</span>: <span class="hljs-number">0</span>
            });
            
        }, <span class="hljs-number">10</span>); <span class="hljs-comment">// 10ms timeout is the secret ingredient for disabling/enabling transitions</span>
        <span class="hljs-comment">// chrome only needs 1ms but FF needs ~10ms or it chokes on the first animation for some reason</span>
        
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(content.<span class="hljs-title function_">hasClass</span>(<span class="hljs-string">'open'</span>)){  
        
        content.<span class="hljs-property">contentHeight</span> += content.<span class="hljs-property">inner</span>.<span class="hljs-title function_">outerHeight</span>(); <span class="hljs-comment">// if closed, add inner height to content height</span>
        content.<span class="hljs-title function_">css</span>({
            <span class="hljs-string">'max-height'</span>: content.<span class="hljs-property">contentHeight</span>,
            <span class="hljs-string">'opacity'</span>: <span class="hljs-number">1</span>
        });
        
    }
});</code></pre>
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.transitions</span> {
    <span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.5s</span> ease-in-out;
    -webkit-<span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.5s</span> ease-in-out;
    -moz-<span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.5s</span> ease-in-out;
}

<span class="hljs-selector-tag">body</span> {
    <span class="hljs-attribute">font-family</span>:Arial;
    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">3ex</span>;
}
<span class="hljs-selector-tag">code</span> {
    <span class="hljs-attribute">display</span>: inline-block;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#fafafa</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">1ex</span>;
}
<span class="hljs-selector-id">#toggle</span> {
    <span class="hljs-attribute">display</span>:block;
    <span class="hljs-attribute">padding</span>:<span class="hljs-number">10px</span>;
    <span class="hljs-attribute">margin</span>:<span class="hljs-number">10px</span> auto;
    <span class="hljs-attribute">text-align</span>:center;
    <span class="hljs-attribute">width</span>:<span class="hljs-number">30ex</span>;
}
<span class="hljs-selector-id">#content</span> {
    <span class="hljs-attribute">overflow</span>:hidden;
    <span class="hljs-attribute">margin</span>:<span class="hljs-number">10px</span>;
    <span class="hljs-attribute">border</span>:<span class="hljs-number">1px</span> solid <span class="hljs-number">#666</span>;
    <span class="hljs-attribute">background</span>:<span class="hljs-number">#efefef</span>;
    <span class="hljs-attribute">opacity</span>:<span class="hljs-number">1</span>;
}
<span class="hljs-selector-id">#content</span> <span class="hljs-selector-class">.inner</span> {
    <span class="hljs-attribute">padding</span>:<span class="hljs-number">10px</span>;
    <span class="hljs-attribute">overflow</span>:auto;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"content"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"open"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"inner"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Smooth CSS Transitions Between <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>height: 0<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span> and <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>height: auto<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>A clever workaround is to use <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>max-height<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span> instead of <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>height<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>, and set it to something bigger than your content. Problem is the browser uses this value to calculate transition duration. So if you set it to <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>max-height: 1000px<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span> but the content is only 100px high, the animation will be 10x too fast.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Another option is to measure the content height with JS and transition to that fixed value, but then you have to keep track of the content and manually resize it if it changes.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This solution is a hybrid of the two - transition to the measured content height, then set it to <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>max-height: 9999px<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span> after the transition for fluid content sizing.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"toggle"</span>&gt;</span>Challenge Accepted!<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif10" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>There was little mention of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight" rel="noreferrer"><code>Element.prototype.scrollHeight</code></a> property which can be useful here and still may be used with a pure CSS transition, <strong>although scripting support would obviously be required</strong>. The property always contains the "full" height of an element, regardless of whether and how its content overflows as a result of collapsed height (e.g. <code>height: 0</code>).</p>
<p>As such, for a <code>height: 0</code> (effectively fully collapsed) element, its "normal" or "full" height is still readily available through its <code>scrollHeight</code> value (invariably a <em>pixel</em> length).</p>
<p>For such an element, assuming it already has the transition set up like (using <code>ul</code> as per original question):</p>
<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">ul</span> {
    <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">transition</span>: height <span class="hljs-number">1s</span>; <span class="hljs-comment">/* An example transition. */</span>
}
</code></pre>
<p>We can trigger desired animated "expansion" of height, using CSS only, with something like the following (here assuming <code>ul</code> variable refers to the list):</p>
<pre class="default s-code-block"><code class="hljs language-ini"><span class="hljs-attr">ul.style.height</span> = ul.scrollHeight + <span class="hljs-string">"px"</span><span class="hljs-comment">;</span>
</code></pre>
<p>That's it. If you need to collapse the list, either of the two following statements will do:</p>
<pre class="default s-code-block"><code class="hljs language-bash">ul.style.height = 0;
ul.style.removeProperty(<span class="hljs-string">"height"</span>);
</code></pre>
<p>My particular use case revolved around animating lists of unknown and often considerable lengths, so I was not comfortable dealing with "large enough" <code>height</code> or <code>max-height</code> specification and risking cut-off content or content that you suddenly need to scroll (if <code>overflow: auto</code>, for example). Additionally, the easing and timing is broken with <code>max-height</code>-based solutions, because the used height may reach its maximum value a lot sooner than it would take for <code>max-height</code> to reach <code>9999px</code>. And as screen resolutions grow, pixel lengths like <code>9999px</code> leave a bad taste in my mouth. This particular solution solves the problem in an elegant manner, in my opinion.</p>
<p>Finally, here is hoping that future revisions of CSS address authors' need to do these kind of things even more elegantly -- revisit the notion of "computed" vs "used" and "resolved" values, and consider whether transitions should apply to computed values, including transitions with <code>width</code> and <code>height</code> (which currently get a bit of a special treatment).</p>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 11</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Use <code>max-height</code> with different transition easing and delay for each state. </p>

<p>HTML:</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"trigger"</span>&gt;</span>Hover<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"toggled"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>One<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Two<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Three<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
</code></pre>

<p>CSS:</p>

<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#toggled</span>{
    <span class="hljs-attribute">max-height</span>: <span class="hljs-number">0px</span>;
    <span class="hljs-attribute">transition</span>: max-height .<span class="hljs-number">8s</span> <span class="hljs-built_in">cubic-bezier</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>) -.<span class="hljs-number">1s</span>;
}

<span class="hljs-selector-id">#trigger</span><span class="hljs-selector-pseudo">:hover</span> + <span class="hljs-selector-id">#toggled</span>{
    <span class="hljs-attribute">max-height</span>: <span class="hljs-number">9999px</span>;
    <span class="hljs-attribute">transition-timing-function</span>: <span class="hljs-built_in">cubic-bezier</span>(<span class="hljs-number">0.5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>); 
    <span class="hljs-attribute">transition-delay</span>: <span class="hljs-number">0s</span>;
}
</code></pre>

<p>See example: <a href="http://jsfiddle.net/0hnjehjc/1/" rel="noreferrer">http://jsfiddle.net/0hnjehjc/1/</a></p>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 12</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>No hard coded values.</p>

<p>No JavaScript.</p>

<p>No approximations.</p>

<p>The trick is to use a hidden &amp; duplicated <code>div</code> to get the browser to understand what 100% means. </p>

<p>This method is suitable whenever you're able to duplicate the DOM of the element you wish to animate. </p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.outer</span> {
  <span class="hljs-attribute">border</span>: dashed red <span class="hljs-number">1px</span>;
  <span class="hljs-attribute">position</span>: relative;
}

<span class="hljs-selector-class">.dummy</span> {
  <span class="hljs-attribute">visibility</span>: hidden;
}

<span class="hljs-selector-class">.real</span> {
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">background</span>: yellow;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">transition</span>: height <span class="hljs-number">0.5s</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
}

<span class="hljs-selector-class">.outer</span><span class="hljs-selector-pseudo">:hover</span>&gt;<span class="hljs-selector-class">.real</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml">Hover over the box below:
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"outer"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- The actual element that you'd like to animate --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"real"</span>&gt;</span>
unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable
content unpredictable content unpredictable content unpredictable content
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- An exact copy of the element you'd like to animate. --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"dummy"</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span>&gt;</span>
unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable
content unpredictable content unpredictable content unpredictable content
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif11" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 13</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>As I post this there are over 30 answers already, but I feel my answer improves on the already <a href="https://stackoverflow.com/a/8331169/7016732">accepted answer</a> by jake.</p>

<p>I was not content with the issue that arises from simply using <code>max-height</code> and CSS3 transitions, since as many commenters noted, you have to set your <code>max-height</code> value very close to the actual height or you'll get a delay. See this <a href="https://jsfiddle.net/nb5fr34d/1/" rel="noreferrer">JSFiddle</a> for an example of that problem.</p>

<p>To get around this (while still using no JavaScript), I added another HTML element that transitions the <code>transform: translateY</code> CSS value.</p>

<p>This means both <code>max-height</code> and <code>translateY</code> are used: <code>max-height</code> allows the element to push down elements below it, while <code>translateY</code> gives the "instant" effect we want. The issue with <code>max-height</code> still exists, but its effect is lessened.
This means you can set a much larger height for your <code>max-height</code> value and worry about it less.</p>

<p>The overall benefit is that on the transition back in (the collapse), the user sees the <code>translateY</code> animation immediately, so it doesn't really matter how long the <code>max-height</code> takes.</p>

<p><strong><a href="https://jsfiddle.net/ajo89vmg/" rel="noreferrer">Solution as Fiddle</a></strong></p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">font-family</span>: sans-serif;
}

<span class="hljs-selector-class">.toggle</span> {
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#333</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">3px</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">5px</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;
}

<span class="hljs-selector-class">.toggle-header</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#333</span>;
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">cursor</span>: pointer;
}

<span class="hljs-selector-class">.toggle-height</span> {
  <span class="hljs-attribute">background-color</span>: tomato;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">transition</span>: max-height .<span class="hljs-number">6s</span> ease;
  <span class="hljs-attribute">max-height</span>: <span class="hljs-number">0</span>;
}

<span class="hljs-selector-class">.toggle</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-class">.toggle-height</span> {
  <span class="hljs-attribute">max-height</span>: <span class="hljs-number">1000px</span>;
}

<span class="hljs-selector-class">.toggle-transform</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span>;
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">transition</span>: transform .<span class="hljs-number">4s</span> ease;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(-<span class="hljs-number">100%</span>);
}

<span class="hljs-selector-class">.toggle</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-class">.toggle-transform</span> {
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-number">0</span>);
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle-header"</span>&gt;</span>
    Toggle!
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle-height"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle-transform"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Content!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Content!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Content!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Content!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle-header"</span>&gt;</span>
    Toggle!
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle-height"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle-transform"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Content!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Content!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Content!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Content!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif12" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 14</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>According to <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions#which_css_properties_can_be_transitioned" rel="noreferrer">MDN Web Docs</a>, <code>auto</code> values have been intentionally excluded from the CSS transitions spec, so instead of <code>height: auto</code>, use <code>height: 100%</code>, <code>top</code>, or the <code>flex</code> property in grid and flex layouts.</p>
<h2>Expanding/collapsing an overlay</h2>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.grid-container</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">position</span>: absolute;
}

<span class="hljs-selector-class">.content</span> {
  <span class="hljs-attribute">background</span>: aqua;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">transition</span>: <span class="hljs-number">1s</span>;
}

<span class="hljs-selector-tag">span</span><span class="hljs-selector-pseudo">:hover</span> + <span class="hljs-selector-class">.grid-container</span> <span class="hljs-selector-class">.content</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Hover over me!<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid-container"</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Rest of the page content...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif13" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<h2>Expanding/collapsing a sliding overlay</h2>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.grid-container</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">pointer-events</span>: none; <span class="hljs-comment">/* to enable interaction with elements below the container */</span>
}

<span class="hljs-selector-class">.content</span> {
  <span class="hljs-attribute">background</span>: aqua;
  <span class="hljs-attribute">pointer-events</span>: auto;
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">top</span>: -<span class="hljs-number">100%</span>;
  <span class="hljs-attribute">transition</span>: <span class="hljs-number">1s</span>;
}

<span class="hljs-selector-tag">span</span><span class="hljs-selector-pseudo">:hover</span> + <span class="hljs-selector-class">.grid-container</span> <span class="hljs-selector-class">.content</span> {
  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Hover over me!<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid-container"</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Rest of the page content...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif14" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<h2>Expanding/collapsing in the document flow</h2>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">html</span> {
  <span class="hljs-attribute">display</span>: grid;
}

<span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
}

<span class="hljs-selector-class">.content</span> {
  <span class="hljs-attribute">background</span>: aqua;
  <span class="hljs-attribute">flex-basis</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">transition</span>: <span class="hljs-number">1s</span>;
}

<span class="hljs-selector-tag">span</span><span class="hljs-selector-pseudo">:hover</span> + <span class="hljs-selector-class">.content</span> {
  <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Hover over me!<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Rest of the page content...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif15" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 15</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Ok, so I think I came up with a super simple answer...
no <code>max-height</code>, uses <code>relative</code> positioning, works on <code>li</code> elements, &amp; is pure CSS.
I have not tested in anything but Firefox, though judging by the CSS, it should work on all browsers.</p>

<p>FIDDLE: <a href="http://jsfiddle.net/n5XfG/2596/">http://jsfiddle.net/n5XfG/2596/</a></p>

<p>CSS</p>

<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.wrap</span> { <span class="hljs-attribute">overflow</span>:hidden; }

<span class="hljs-selector-class">.inner</span> {
            <span class="hljs-attribute">margin-top</span>:-<span class="hljs-number">100%</span>;
    -webkit-<span class="hljs-attribute">transition</span>:margin-top <span class="hljs-number">500ms</span>;
            <span class="hljs-attribute">transition</span>:margin-top <span class="hljs-number">500ms</span>;
}

<span class="hljs-selector-class">.inner</span><span class="hljs-selector-class">.open</span> { <span class="hljs-attribute">margin-top</span>:<span class="hljs-number">0px</span>; }
</code></pre>

<p>HTML</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"wrap"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"inner"</span>&gt;</span>Some Cool Content<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 16</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>EDIT: Scroll down for updated answer <br>
I was making a drop down list and saw this Post ... many different answers but I decide to share my drop down list too, ... It's not perfect but at least it will using only css for drop down! I've been using transform:translateY(y) to transform the list to the view ...<br>
You can see more in the test <br>
<a href="http://jsfiddle.net/BVEpc/4/" rel="nofollow noreferrer">http://jsfiddle.net/BVEpc/4/</a> <br>
I've placed div behind every li because my drop down list are coming from up and to show them properly this was needed, my div code is:</p>

<pre class="lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#menu</span> <span class="hljs-selector-tag">div</span> {
    <span class="hljs-attribute">transition</span>: <span class="hljs-number">0.5s</span> <span class="hljs-number">1s</span>;
    <span class="hljs-attribute">z-index</span>:-<span class="hljs-number">1</span>;
    -webkit-<span class="hljs-attribute">transform</span>:<span class="hljs-built_in">translateY</span>(-<span class="hljs-number">100%</span>);
    -webkit-<span class="hljs-attribute">transform-origin</span>: top;
}
</code></pre>

<p>and hover is : </p>

<pre class="lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#menu</span> &gt; <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-tag">div</span> {
    <span class="hljs-attribute">transition</span>: <span class="hljs-number">0.5s</span>;
    -webkit-<span class="hljs-attribute">transform</span>:<span class="hljs-built_in">translateY</span>(<span class="hljs-number">0</span>);
}
</code></pre>

<p>and because ul height is set to the content it can get over your body content that's why I did this for ul:</p>

<pre class="lang-css s-code-block"><code class="hljs language-css"> <span class="hljs-selector-id">#menu</span> <span class="hljs-selector-tag">ul</span> {
    <span class="hljs-attribute">transition</span>: <span class="hljs-number">0s</span> <span class="hljs-number">1.5s</span>;
    <span class="hljs-attribute">visibility</span>:hidden;
    <span class="hljs-attribute">overflow</span>:hidden;
}
</code></pre>

<p>and hover:</p>

<pre class="lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#menu</span> &gt; <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-tag">ul</span> {
     <span class="hljs-attribute">transition</span>:none;
     <span class="hljs-attribute">visibility</span>:visible;
}
</code></pre>

<p>the second time after transition is delay and it will get hidden after my drop down list has been closed animately ... <br>
Hope later someone get benefit of this one.
<br><br>
EDIT: I just can't believe ppl actually using this prototype! this drop down menu is only for one sub menu and that's all!!
I've updated a better one that can have two sub menu for both ltr and rtl direction with IE 8 support. <br>
<a href="https://jsfiddle.net/sijav/BVEpc/56/" rel="nofollow noreferrer">Fiddle for LTR</a> <br>
<a href="http://jsfiddle.net/sijav/BVEpc/55/" rel="nofollow noreferrer">Fiddle for RTL</a> <br>
hopefully someone find this useful in future.</p>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 17</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can transition from height:0 to height:auto providing that you also provide min-height and max-height.</p>

<pre class="lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.stretchy</span>{
    <span class="hljs-attribute">transition</span>: <span class="hljs-number">1s</span> linear;
}

<span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.stretchy</span><span class="hljs-selector-class">.hidden</span>{
    <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
}

<span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.stretchy</span><span class="hljs-selector-class">.visible</span>{
    <span class="hljs-attribute">height</span>: auto;
    <span class="hljs-attribute">min-height</span>:<span class="hljs-number">40px</span>;
    <span class="hljs-attribute">max-height</span>:<span class="hljs-number">400px</span>;
}
</code></pre>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 18</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>Flexbox Solution</strong></p>

<p>Pros:</p>

<ul>
<li>simple</li>
<li>no JS</li>
<li>smooth transition</li>
</ul>

<p>Cons:</p>

<ul>
<li>element needs to be put in a fixed height flex container</li>
</ul>

<p>The way it works is by always having flex-basis: auto on the element with content, and transitioning flex-grow and flex-shrink instead. </p>

<p>Edit: Improved JS Fiddle inspired by the Xbox One interface. </p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css">* {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">box-sizing</span>: border-box;
  <span class="hljs-attribute">transition</span>: <span class="hljs-number">0.25s</span>;
  <span class="hljs-attribute">font-family</span>: monospace;
}

<span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span>;
}

<span class="hljs-selector-class">.box</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">150px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">150px</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">2px</span> <span class="hljs-number">10px</span> <span class="hljs-number">0</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#2d333b</span>;
  <span class="hljs-attribute">border</span>: solid <span class="hljs-number">10px</span> <span class="hljs-number">#20262e</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">display</span>: inline-flex;
  <span class="hljs-attribute">flex-direction</span>: column;
}

<span class="hljs-selector-class">.space</span> {
  <span class="hljs-attribute">flex-basis</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">flex-shrink</span>: <span class="hljs-number">0</span>;    
}

<span class="hljs-selector-tag">p</span> {
  <span class="hljs-attribute">flex-basis</span>: auto;
  <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">flex-shrink</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#20262e</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">text-align</span>: left;
  <span class="hljs-attribute">color</span>: white;
}

<span class="hljs-selector-class">.box</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-class">.space</span> {
  <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">flex-shrink</span>: <span class="hljs-number">1</span>;
}
  
<span class="hljs-selector-class">.box</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-tag">p</span> {
  <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">flex-shrink</span>: <span class="hljs-number">0</span>;    
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"space"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
    Super Metroid Prime Fusion
  <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"space"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
    Resident Evil 2 Remake
  <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"space"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
    Yolo The Game
  <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"space"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
    Final Fantasy 7 Remake + All Additional DLC + Golden Tophat
  <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"space"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
    DerpVille
  <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif16" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>

<p><a href="https://jsfiddle.net/leecomstock/qupgk4p6/" rel="noreferrer">JS Fiddle</a></p>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 19</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>One sentence solution: <strong>Use padding transition</strong>. It's enough for most of cases such as accordion, and even better because it's fast due to that the padding value is often not big.</p>

<p>If you want the animation process to be better, just raise the padding value.</p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.parent</span>{ <span class="hljs-attribute">border-top</span>: <span class="hljs-number">#999</span> <span class="hljs-number">1px</span> solid;}
<span class="hljs-selector-tag">h1</span>{ <span class="hljs-attribute">margin</span>: .<span class="hljs-number">5rem</span>; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.3rem</span>}
<span class="hljs-selector-class">.children</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#dedede</span>;
  <span class="hljs-attribute">transition</span>: padding .<span class="hljs-number">2s</span> ease-in-out, opacity .<span class="hljs-number">2s</span> ease-in-out;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> .<span class="hljs-number">5rem</span>;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
}
<span class="hljs-selector-class">.children</span><span class="hljs-selector-pseudo">::before</span>, <span class="hljs-selector-class">.children</span><span class="hljs-selector-pseudo">::after</span>{ <span class="hljs-attribute">content</span>: <span class="hljs-string">""</span>;<span class="hljs-attribute">display</span>: block;}
<span class="hljs-selector-class">.children</span><span class="hljs-selector-pseudo">::before</span>{ <span class="hljs-attribute">margin-top</span>: -<span class="hljs-number">2rem</span>;}
<span class="hljs-selector-class">.children</span><span class="hljs-selector-pseudo">::after</span>{ <span class="hljs-attribute">margin-bottom</span>: -<span class="hljs-number">2rem</span>;}
<span class="hljs-selector-class">.parent</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-class">.children</span> {
  <span class="hljs-attribute">height</span>: auto;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">2.5rem</span> .<span class="hljs-number">5rem</span>;<span class="hljs-comment">/* 0.5 + abs(-2), make sure it's less than expected min-height */</span>
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hover me<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"children"</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hover me(long content)<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"children"</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hover me(short content)<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"children"</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif17" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 20</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Expanding on @jake's answer, the transition will go all the way to the max height value, causing an extremely fast animation - if you set the transitions for both :hover and off you can then control the crazy speed a little bit more.</p>

<p>So the li:hover is when the mouse enters the state and then the transition on the non-hovered property will be the mouse leave.</p>

<p>Hopefully this will be of some help.</p>

<p>e.g: </p>

<pre class="lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.sidemenu</span> <span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">ul</span> {
   <span class="hljs-attribute">max-height</span>: <span class="hljs-number">0px</span>;
   -webkit-<span class="hljs-attribute">transition</span>: all .<span class="hljs-number">3s</span> ease;
   -moz-<span class="hljs-attribute">transition</span>: all .<span class="hljs-number">3s</span> ease;
   -o-<span class="hljs-attribute">transition</span>: all .<span class="hljs-number">3s</span> ease;
   -ms-<span class="hljs-attribute">transition</span>: all .<span class="hljs-number">3s</span> ease;
   <span class="hljs-attribute">transition</span>: all .<span class="hljs-number">3s</span> ease;
}
<span class="hljs-selector-class">.sidemenu</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-tag">ul</span> {
    <span class="hljs-attribute">max-height</span>: <span class="hljs-number">500px</span>;
    -webkit-<span class="hljs-attribute">transition</span>: all <span class="hljs-number">1s</span> ease;
   -moz-<span class="hljs-attribute">transition</span>: all <span class="hljs-number">1s</span> ease;
   -o-<span class="hljs-attribute">transition</span>: all <span class="hljs-number">1s</span> ease;
   -ms-<span class="hljs-attribute">transition</span>: all <span class="hljs-number">1s</span> ease;
   <span class="hljs-attribute">transition</span>: all <span class="hljs-number">1s</span> ease;
}
<span class="hljs-comment">/* Adjust speeds to the possible height of the list */</span>
</code></pre>

<p>Here's a fiddle: <a href="http://jsfiddle.net/BukwJ/" rel="noreferrer">http://jsfiddle.net/BukwJ/</a></p>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 21</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This solution uses a few techniques:</p>
<ul>
<li><code>padding-bottom:100%</code> 'hack' where percentages are defined in terms of the current width of the element. <a href="https://spin.atomicobject.com/2015/07/14/css-responsive-square/" rel="nofollow noreferrer">More info on this technique.</a></li>
<li>float shrink-wrapping, (necessitating an extra div to apply the float clearing hack)</li>
<li>non-semantic use of <a href="https://caniuse.com/#feat=css-writing-mode" rel="nofollow noreferrer">https://caniuse.com/#feat=css-writing-mode</a> and some transformations to undo it (this allows use of the padding hack above in a vertical context)</li>
</ul>
<p>The upshot though is that we get performant transitioning using CSS only, and a single transition function to smoothly achieve the transition; the holy grail!</p>
<p>Of course, there's a downside! I can't work out how to control the width at which content gets cut off (<code>overflow:hidden</code>); because of the padding-bottom hack, the width and height are intimately related. There may be a way though, so will come back to it.</p>
<p><a href="https://jsfiddle.net/EoghanM/n1rp3zb4/28/" rel="nofollow noreferrer">https://jsfiddle.net/EoghanM/n1rp3zb4/28/</a></p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">1em</span>;
}

<span class="hljs-selector-class">.trigger</span> {
  <span class="hljs-attribute">font-weight</span>: bold;
}

<span class="hljs-comment">/* .expander is there for float clearing purposes only */</span>
<span class="hljs-selector-class">.expander</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;
  <span class="hljs-attribute">display</span>: table;
  <span class="hljs-attribute">clear</span>: both;
}

<span class="hljs-selector-class">.outer</span> {
  <span class="hljs-attribute">float</span>: left; <span class="hljs-comment">/* purpose: shrink to fit content */</span>
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid green;
  <span class="hljs-attribute">overflow</span>: hidden;
}

<span class="hljs-selector-class">.inner</span> {
  <span class="hljs-attribute">transition</span>: padding-bottom <span class="hljs-number">0.3s</span> ease-in-out;  <span class="hljs-comment">/* or whatever crazy transition function you can come up with! */</span>
  <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">0%</span>;  <span class="hljs-comment">/* percentage padding is defined in terms of width. The width at this level is equal to the height of the content */</span>
  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;

  <span class="hljs-comment">/* unfortunately, change of writing mode has other bad effects like orientation of cursor */</span>
  <span class="hljs-attribute">writing-mode</span>: vertical-rl;
  <span class="hljs-attribute">cursor</span>: default; <span class="hljs-comment">/* don't want the vertical-text (sideways I-beam) */</span>
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(-<span class="hljs-number">90deg</span>) <span class="hljs-built_in">translateX</span>(-<span class="hljs-number">100%</span>);  <span class="hljs-comment">/* undo writing mode */</span>
  <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;  <span class="hljs-comment">/* left/right margins here will add to height */</span>
}

<span class="hljs-selector-class">.inner</span> &gt; <span class="hljs-selector-tag">div</span> { <span class="hljs-attribute">white-space</span>: nowrap; }

<span class="hljs-selector-class">.expander</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-class">.inner</span>,  <span class="hljs-comment">/* to keep open when expanded */</span>
<span class="hljs-selector-class">.trigger</span><span class="hljs-selector-pseudo">:hover</span>+<span class="hljs-selector-class">.expander</span> <span class="hljs-selector-class">.inner</span> {
  <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">100%</span>;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"trigger"</span>&gt;</span>HoverMe<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"expander"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"outer"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"inner"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>First Item<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Content<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Content<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Content<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Long Content can't be wider than outer height unfortunately<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Last Item<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  after content<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif18" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution22" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 22</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I've recently been transitioning the <code>max-height</code> on the <code>li</code> elements rather than the wrapping <code>ul</code>.</p>

<p>The reasoning is that the delay for small <code>max-heights</code> is far less noticeable (if at all) compared to large <code>max-heights</code>, and I can also set my <code>max-height</code> value relative to the <code>font-size</code> of the <code>li</code> rather than some arbitrary huge number by using <code>ems</code> or <code>rems</code>.</p>

<p>If my font size is <code>1rem</code>, I'll set my <code>max-height</code> to something like <code>3rem</code> (to accommodate wrapped text). You can see an example here:</p>

<p><a href="http://codepen.io/mindfullsilence/pen/DtzjE" rel="nofollow">http://codepen.io/mindfullsilence/pen/DtzjE</a></p>
    </div></div></div></div><div id="solution23" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 23</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You could do this by creating a reverse (collapse) animation with clip-path.</p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#child0</span> {
    <span class="hljs-attribute">display</span>: none;
}
<span class="hljs-selector-id">#parent0</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-id">#child0</span> {
    <span class="hljs-attribute">display</span>: block;
    <span class="hljs-attribute">animation</span>: height-animation;
    <span class="hljs-attribute">animation-duration</span>: <span class="hljs-number">200ms</span>;
    <span class="hljs-attribute">animation-timing-function</span>: linear;
    <span class="hljs-attribute">animation-fill-mode</span>: backwards;
    <span class="hljs-attribute">animation-iteration-count</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">animation-delay</span>: <span class="hljs-number">200ms</span>;
}
<span class="hljs-keyword">@keyframes</span> height-animation {
    <span class="hljs-number">0%</span> {
        <span class="hljs-attribute">clip-path</span>: <span class="hljs-built_in">polygon</span>(<span class="hljs-number">0%</span> <span class="hljs-number">0%</span>, <span class="hljs-number">100%</span> <span class="hljs-number">0.00%</span>, <span class="hljs-number">100%</span> <span class="hljs-number">0%</span>, <span class="hljs-number">0%</span> <span class="hljs-number">0%</span>);
    }
    <span class="hljs-number">100%</span> {
        <span class="hljs-attribute">clip-path</span>: <span class="hljs-built_in">polygon</span>(<span class="hljs-number">0%</span> <span class="hljs-number">0%</span>, <span class="hljs-number">100%</span> <span class="hljs-number">0.00%</span>, <span class="hljs-number">100%</span> <span class="hljs-number">100%</span>, <span class="hljs-number">0%</span> <span class="hljs-number">100%</span>);
    }
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"parent0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hover me (height: 0)<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"child0"</span>&gt;</span>Some content
        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>Some content
        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif19" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution24" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 24</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I understand the question asks for a solution without JavaScript. But for those interested here's my solution using just a little bit of JS.</p>
<p>ok, so the element's css whose height will change by default is set to <code>height: 0;</code> and when open <code>height: auto;</code>. It also has <code>transition: height .25s ease-out;</code>. But of course the problem is that it won't transition to or from <code>height: auto;</code></p>
<p>So what i've done is when opening or closing set the height to the <code>scrollHeight</code> property of the element. This new inline style will have higher specificity and override both <code>height: auto;</code> and <code>height: 0;</code> and the transition runs.</p>
<p>When opening i add a <code>transitionend</code> event listener which will run just once then remove the inline style setting it back to <code>height: auto;</code> which will allow the element to resize if necessary, as in this more complex example with sub menus <a href="https://codepen.io/ninjabonsai/pen/GzYyVe" rel="nofollow noreferrer">https://codepen.io/ninjabonsai/pen/GzYyVe</a></p>
<p>When closing i remove the inline style right after the next <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop" rel="nofollow noreferrer">event loop</a> cycle by using setTimeout with no delay. This means <code>height: auto;</code> is temporarily overridden which allows the transition back to <code>height 0;</code></p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="true">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">showHideElement</span> = (<span class="hljs-params">element, open</span>) =&gt; {
  element.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = element.<span class="hljs-property">scrollHeight</span> + <span class="hljs-string">'px'</span>;
  element.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">'open'</span>, open);

  <span class="hljs-keyword">if</span> (open) {
    element.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'transitionend'</span>, <span class="hljs-function">() =&gt;</span> {
      element.<span class="hljs-property">style</span>.<span class="hljs-title function_">removeProperty</span>(<span class="hljs-string">'height'</span>);
    }, {
      <span class="hljs-attr">once</span>: <span class="hljs-literal">true</span>
    });
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-variable language_">window</span>.<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      element.<span class="hljs-property">style</span>.<span class="hljs-title function_">removeProperty</span>(<span class="hljs-string">'height'</span>);
    });
  }
}

<span class="hljs-keyword">const</span> menu = <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'#menu'</span>);
<span class="hljs-keyword">const</span> list = <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'#menu &gt; ul'</span>)

menu.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mouseenter'</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">showHideElement</span>(list, <span class="hljs-literal">true</span>));
menu.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mouseleave'</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">showHideElement</span>(list, <span class="hljs-literal">false</span>));</code></pre>
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#menu</span> &gt; <span class="hljs-selector-tag">ul</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#999</span>;
  <span class="hljs-attribute">transition</span>: height .<span class="hljs-number">25s</span> ease-out;
}

<span class="hljs-selector-id">#menu</span> &gt; <span class="hljs-selector-tag">ul</span><span class="hljs-selector-class">.open</span> {
  <span class="hljs-attribute">height</span>: auto;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"menu"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">a</span>&gt;</span>hover me<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif20" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution25" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 25</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here's a way to transition from any starting height, including 0, to auto (full size and flexible) without requiring hard-set code on a per-node basis or any user-code to initialize: <a href="https://github.com/csuwildcat/transition-auto" rel="nofollow">https://github.com/csuwildcat/transition-auto</a>. This is basically the holy grail for what you want, I believe --&gt; <a href="http://codepen.io/csuwldcat/pen/kwsdF" rel="nofollow">http://codepen.io/csuwldcat/pen/kwsdF</a>. Just slap the following JS file into your page, and all you need to do after that is add/remove a single boolean attribute - <code>reveal=""</code> - from the nodes you want to expand and contract.</p>

<p>Here's all you need to do as the user, once you include the code block found below the example code:</p>

<pre class="default s-code-block"><code class="hljs language-xml">/*** Nothing out of the ordinary in your styles ***/
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css">
    <span class="hljs-selector-tag">div</span> {
        <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">overflow</span>: hidden;
        <span class="hljs-attribute">transition</span>: height <span class="hljs-number">1s</span>;
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

/*** Just add and remove one attribute and transition to/from auto! ***/

<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    I have tons of content and I am 0px in height you can't see me...
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">reveal</span>&gt;</span>
     I have tons of content and I am 0px in height you can't see me...
     but now that you added the 'reveal' attribute, 
     I magically transitioned to full height!...
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>

<p>Here's the code block to include in your page, after that, it's all gravy:</p>

<p><strong>Drop this JS file in your page - it all Just Works</strong></p>

<p>/<strong>* Code for height: auto; transitioning *</strong>/</p>

<pre class="default s-code-block"><code class="hljs language-scheme">(<span class="hljs-name">function</span>(<span class="hljs-name">doc</span>){

/* feature detection for browsers that report different values for scrollHeight when an element<span class="hljs-symbol">'s</span> overflow is hidden vs visible (<span class="hljs-name">Firefox</span>, IE) */
var test = doc.documentElement.appendChild(<span class="hljs-name">doc.createElement</span>(<span class="hljs-symbol">'x-reveal-test</span>'))<span class="hljs-comment">;</span>
    test.innerHTML = <span class="hljs-symbol">'-</span>'<span class="hljs-comment">;</span>
    test.style.cssText = <span class="hljs-symbol">'display:</span> block !important<span class="hljs-comment">; height: 0px !important; padding: 0px !important; font-size: 0px !important; border-width: 0px !important; line-height: 1px !important; overflow: hidden !important;';</span>
var scroll = test.scrollHeight || <span class="hljs-number">2</span><span class="hljs-comment">;</span>
doc.documentElement.removeChild(<span class="hljs-name">test</span>)<span class="hljs-comment">;</span>

var loading = true,
    numReg = /^([<span class="hljs-name">0-9</span>]*\.?[<span class="hljs-name">0-9</span>]*)(<span class="hljs-name">.*</span>)/,
    skipFrame = function(<span class="hljs-name">fn</span>){
      requestAnimationFrame(<span class="hljs-name">function</span>(){
        requestAnimationFrame(<span class="hljs-name">fn</span>)<span class="hljs-comment">;</span>
      })<span class="hljs-comment">;</span>
    },
    /* <span class="hljs-number">2</span> out of <span class="hljs-number">3</span> uses of this function are purely to work around Chrome<span class="hljs-symbol">'s</span> catastrophically busted implementation of auto value CSS transitioning */
    revealFrame = function(<span class="hljs-name">el</span>, state, height){
        el.setAttribute(<span class="hljs-symbol">'reveal-transition</span>', <span class="hljs-symbol">'frame</span>')<span class="hljs-comment">;</span>
        el.style.height = height<span class="hljs-comment">;</span>
        skipFrame(<span class="hljs-name">function</span>(){
            el.setAttribute(<span class="hljs-symbol">'reveal-transition</span>', state)<span class="hljs-comment">;</span>
            el.style.height = ''<span class="hljs-comment">;</span>
        })<span class="hljs-comment">;</span>
    },
    transitionend = function(<span class="hljs-name">e</span>){
      var node = e.target<span class="hljs-comment">;</span>
      if (<span class="hljs-name">node.hasAttribute</span>(<span class="hljs-symbol">'reveal</span>')) {
        if (<span class="hljs-name">node.getAttribute</span>(<span class="hljs-symbol">'reveal-transition</span>') == <span class="hljs-symbol">'running</span>') revealFrame(<span class="hljs-name">node</span>, <span class="hljs-symbol">'complete</span>', '')<span class="hljs-comment">;</span>
      } 
      else {
        node.removeAttribute(<span class="hljs-symbol">'reveal-transition</span>')<span class="hljs-comment">;</span>
        node.style.height = ''<span class="hljs-comment">;</span>
      }
    },
    animationstart = function(<span class="hljs-name">e</span>){
      var node = e.target,
          name = e.animationName<span class="hljs-comment">;   </span>
      if (<span class="hljs-name">name</span> == <span class="hljs-symbol">'reveal</span>' || name == <span class="hljs-symbol">'unreveal</span>') {

        if (<span class="hljs-name">loading</span>) return revealFrame(<span class="hljs-name">node</span>, <span class="hljs-symbol">'complete</span>', <span class="hljs-symbol">'auto</span>')<span class="hljs-comment">;</span>

        var style = getComputedStyle(<span class="hljs-name">node</span>),
            offset = (<span class="hljs-name">Number</span>(<span class="hljs-name">style.paddingTop.match</span>(<span class="hljs-name">numReg</span>)[<span class="hljs-name">1</span>])) +
                     (<span class="hljs-name">Number</span>(<span class="hljs-name">style.paddingBottom.match</span>(<span class="hljs-name">numReg</span>)[<span class="hljs-name">1</span>])) +
                     (<span class="hljs-name">Number</span>(<span class="hljs-name">style.borderTopWidth.match</span>(<span class="hljs-name">numReg</span>)[<span class="hljs-name">1</span>])) +
                     (<span class="hljs-name">Number</span>(<span class="hljs-name">style.borderBottomWidth.match</span>(<span class="hljs-name">numReg</span>)[<span class="hljs-name">1</span>]))<span class="hljs-comment">;</span>

        if (<span class="hljs-name">name</span> == <span class="hljs-symbol">'reveal</span>'){
          node.setAttribute(<span class="hljs-symbol">'reveal-transition</span>', <span class="hljs-symbol">'running</span>')<span class="hljs-comment">;</span>
          node.style.height = node.scrollHeight - (<span class="hljs-name">offset</span> / scroll) + <span class="hljs-symbol">'px</span>'<span class="hljs-comment">;</span>
        }
        else {
            if (<span class="hljs-name">node.getAttribute</span>(<span class="hljs-symbol">'reveal-transition</span>') == <span class="hljs-symbol">'running</span>') node.style.height = ''<span class="hljs-comment">;</span>
            else revealFrame(<span class="hljs-name">node</span>, <span class="hljs-symbol">'running</span>', node.scrollHeight - offset + <span class="hljs-symbol">'px</span>')<span class="hljs-comment">;</span>
        }
      }
    }<span class="hljs-comment">;</span>

doc.addEventListener(<span class="hljs-symbol">'animationstart</span>', animationstart, false)<span class="hljs-comment">;</span>
doc.addEventListener(<span class="hljs-symbol">'MSAnimationStart</span>', animationstart, false)<span class="hljs-comment">;</span>
doc.addEventListener(<span class="hljs-symbol">'webkitAnimationStart</span>', animationstart, false)<span class="hljs-comment">;</span>
doc.addEventListener(<span class="hljs-symbol">'transitionend</span>', transitionend, false)<span class="hljs-comment">;</span>
doc.addEventListener(<span class="hljs-symbol">'MSTransitionEnd</span>', transitionend, false)<span class="hljs-comment">;</span>
doc.addEventListener(<span class="hljs-symbol">'webkitTransitionEnd</span>', transitionend, false)<span class="hljs-comment">;</span>

/*
    Batshit readyState/DOMContentLoaded code to dance around Webkit/Chrome animation auto-run weirdness on initial page load.
    If they fixed their code, you could just check for if(<span class="hljs-name">doc.readyState</span> != <span class="hljs-symbol">'complete</span>') in animationstart<span class="hljs-symbol">'s</span> if(<span class="hljs-name">loading</span>) check
*/
if (<span class="hljs-name">document.readyState</span> == <span class="hljs-symbol">'complete</span>') {
    skipFrame(<span class="hljs-name">function</span>(){
        loading = false<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>
}
else document.addEventListener(<span class="hljs-symbol">'DOMContentLoaded</span>', function(<span class="hljs-name">e</span>){
    skipFrame(<span class="hljs-name">function</span>(){
        loading = false<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>
}, false)<span class="hljs-comment">;</span>

/* Styles that allow for <span class="hljs-symbol">'reveal</span>' attribute triggers */
var styles = doc.createElement(<span class="hljs-symbol">'style</span>'),
    t = <span class="hljs-symbol">'transition:</span> none<span class="hljs-comment">; ',</span>
    au = <span class="hljs-symbol">'animation:</span> reveal <span class="hljs-number">0.001</span>s<span class="hljs-comment">; ',</span>
    ar = <span class="hljs-symbol">'animation:</span> unreveal <span class="hljs-number">0.001</span>s<span class="hljs-comment">; ',</span>
    clip = ' { from { opacity: <span class="hljs-number">0</span><span class="hljs-comment">; } to { opacity: 1; } }',</span>
    r = <span class="hljs-symbol">'keyframes</span> reveal' + clip,
    u = <span class="hljs-symbol">'keyframes</span> unreveal' + clip<span class="hljs-comment">;</span>

styles.textContent = '[<span class="hljs-name">reveal</span>] { -ms-<span class="hljs-symbol">'+</span> au + <span class="hljs-symbol">'-webkit-</span><span class="hljs-symbol">'+</span> au +<span class="hljs-symbol">'-moz-</span><span class="hljs-symbol">'+</span> au + au +'}' +
    '[<span class="hljs-name">reveal-transition=</span><span class="hljs-string">"frame"</span>] { -ms-' + t + <span class="hljs-symbol">'-webkit-</span>' + t + <span class="hljs-symbol">'-moz-</span>' + t + t + <span class="hljs-symbol">'height:</span> auto<span class="hljs-comment">; }' +</span>
    '[<span class="hljs-name">reveal-transition=</span><span class="hljs-string">"complete"</span>] { height: auto<span class="hljs-comment">; }' +</span>
    '[<span class="hljs-name">reveal-transition</span>]:not([<span class="hljs-name">reveal</span>]) { -webkit-<span class="hljs-symbol">'+</span> ar +<span class="hljs-symbol">'-moz-</span><span class="hljs-symbol">'+</span> ar + ar +'}' +
    <span class="hljs-symbol">'@-ms-</span>' + r + <span class="hljs-symbol">'@-webkit-</span>' + r + <span class="hljs-symbol">'@-moz-</span>' + r + r +
    <span class="hljs-symbol">'@-ms-</span>' + u +<span class="hljs-symbol">'@-webkit-</span>' + u + <span class="hljs-symbol">'@-moz-</span>' + u + u<span class="hljs-comment">;</span>

doc.querySelector(<span class="hljs-symbol">'head</span>').appendChild(<span class="hljs-name">styles</span>)<span class="hljs-comment">;</span>

})(<span class="hljs-name">document</span>)<span class="hljs-comment">;</span>
</code></pre>

<p>/<strong>* Code for DEMO *</strong>/</p>

<pre class="default s-code-block"><code class="hljs language-lua">    document.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
      <span class="hljs-keyword">if</span> (e.target.nodeName == <span class="hljs-string">'BUTTON'</span>) {
        var <span class="hljs-built_in">next</span> = e.target.nextElementSibling;
        <span class="hljs-built_in">next</span>.hasAttribute(<span class="hljs-string">'reveal'</span>) ? <span class="hljs-built_in">next</span>.removeAttribute(<span class="hljs-string">'reveal'</span>) : <span class="hljs-built_in">next</span>.setAttribute(<span class="hljs-string">'reveal'</span>, <span class="hljs-string">''</span>);
      }
    }, <span class="hljs-literal">false</span>);
</code></pre>
    </div></div></div></div><div id="solution26" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 26</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>I think I came up with a really solid solution</strong></p>

<p>OK! I know this problem is as old as the internet but I think I have a solution which I turned into a <a href="https://github.com/jontroncoso/mutant-transition" rel="noreferrer">plugin called mutant-transition</a>. My solution sets the <code>style=""</code> attributes for tracked elements whenever theres a change in the DOM. the end result is that you can use good ole CSS for your transitions and not use hacky fixes or special javascript. The only thing you have to do is set what you want to track on the element in question using <code>data-mutant-attributes="X"</code>. </p>

<pre class="default s-code-block"><code class="hljs language-csharp">&lt;div data-mutant-attributes=<span class="hljs-string">"height"</span>&gt;                                                                      
        This <span class="hljs-keyword">is</span> an example <span class="hljs-keyword">with</span> mutant-transition                                                                                                          
    &lt;/div&gt;
</code></pre>

<p>Thats it! This solution uses <a href="https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver" rel="noreferrer">MutationObserver</a> to follow changes in the DOM. Because of this, you don't really have to set anything up or use javascript to manually animate things. Changes are tracked automatically. However, because it uses MutationObserver, this will only transition in IE11+. 

</p><p><strong>Fiddles!</strong></p>

<ul>
<li><a href="http://jsfiddle.net/zfwrt1d8/5/" rel="noreferrer">Demonstrating transitioning from <code>height: auto</code> to <code>height: 100%</code></a></li>
<li><a href="https://jsfiddle.net/7vj3n5nf/3/" rel="noreferrer">Demonstrating transitioning <code>height: auto</code> when adding children</a></li>
</ul>
    </div></div></div></div><div id="solution27" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 27</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Jake's answer to animate the max-height is great, but I found the delay caused by setting a large max-height annoying.</p>

<p>One could move the collapsable content into an inner div and calculate the max height by getting the height of the inner div (via JQuery it'd be the outerHeight()).</p>

<pre class="default s-code-block"><code class="hljs language-javascript">$(<span class="hljs-string">'button'</span>).<span class="hljs-title function_">bind</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) { 
  e.<span class="hljs-title function_">preventDefault</span>();
  w = $(<span class="hljs-string">'#outer'</span>);
  <span class="hljs-keyword">if</span> (w.<span class="hljs-title function_">hasClass</span>(<span class="hljs-string">'collapsed'</span>)) {
    w.<span class="hljs-title function_">css</span>({ <span class="hljs-string">"max-height"</span>: $(<span class="hljs-string">'#inner'</span>).<span class="hljs-title function_">outerHeight</span>() + <span class="hljs-string">'px'</span> });
  } <span class="hljs-keyword">else</span> {
    w.<span class="hljs-title function_">css</span>({ <span class="hljs-string">"max-height"</span>: <span class="hljs-string">"0px"</span> });
  }
  w.<span class="hljs-title function_">toggleClass</span>(<span class="hljs-string">'collapsed'</span>);
});
</code></pre>

<p>Here's a jsfiddle link: <a href="http://jsfiddle.net/pbatey/duZpT" rel="nofollow">http://jsfiddle.net/pbatey/duZpT</a></p>

<p>Here's a jsfiddle with the absolute minimal amount of code required: <a href="http://jsfiddle.net/8ncjjxh8/" rel="nofollow">http://jsfiddle.net/8ncjjxh8/</a></p>
    </div></div></div></div><div id="solution28" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 28</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I was able to do this. I have a <code>.child</code> &amp; a <code>.parent</code> div. The child div fits perfectly within the parent's width/height with <code>absolute</code> positioning. I then animate the <code>translate</code> property to push it's <code>Y</code> value down <code>100%</code>. Its very smooth animation, no glitches or down sides like any other solution here.</p>

<p>Something like this, pseudo code</p>

<pre class="default s-code-block"><code class="hljs language-scss"><span class="hljs-selector-class">.parent</span>{ <span class="hljs-attribute">position</span>:relative; <span class="hljs-attribute">overflow</span>:hidden; } 
<span class="hljs-comment">/** shown state */</span>
<span class="hljs-selector-class">.child</span> {
  <span class="hljs-attribute">position</span>:absolute;<span class="hljs-attribute">top</span>:<span class="hljs-number">0</span>;<span class="hljs-selector-pseudo">:left</span>:<span class="hljs-number">0</span>;<span class="hljs-attribute">right</span>:<span class="hljs-number">0</span>;<span class="hljs-attribute">bottom</span>:<span class="hljs-number">0</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">transition</span>: transform @overlay-animation-duration ease-in-out;
  <span class="hljs-selector-class">.translate</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
}

<span class="hljs-comment">/** Animate to hidden by sliding down: */</span>
<span class="hljs-selector-class">.child</span><span class="hljs-selector-class">.slidedown</span> {
  <span class="hljs-selector-class">.translate</span>(<span class="hljs-number">0</span>, <span class="hljs-number">100%</span>); <span class="hljs-comment">/** Translate the element "out" the bottom of it's .scene container "mask" so its hidden */</span>
}
</code></pre>

<p>You would specify a <code>height</code> on <code>.parent</code>, in <code>px</code>, <code>%</code>, or leave as <code>auto</code>. This div then masks out the <code>.child</code> div when it slides down.</p>
    </div></div></div></div><div id="solution29" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 29</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Alternate CSS-only solution with <code>line-height</code>, <code>padding</code>, <code>opacity</code> and <code>margin</code>:</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">background-color</span>: linen;
}

<span class="hljs-selector-tag">main</span> {
  <span class="hljs-attribute">background-color</span>: white;
}

<span class="hljs-selector-attr">[id^=<span class="hljs-string">"toggle_"</span>]</span> ~ <span class="hljs-selector-class">.content</span> {
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> .<span class="hljs-number">5rem</span>;
  <span class="hljs-attribute">transition</span>: .<span class="hljs-number">2s</span> ease-out;
}

<span class="hljs-selector-attr">[id^=<span class="hljs-string">"toggle_"</span>]</span> ~ <span class="hljs-selector-class">.content</span> &gt; <span class="hljs-selector-tag">p</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">transition</span>: .<span class="hljs-number">2s</span> ease-out;
}

<span class="hljs-selector-attr">[id^=<span class="hljs-string">"toggle_"</span>]</span><span class="hljs-selector-pseudo">:checked</span> ~ <span class="hljs-selector-class">.content</span>   {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">padding</span>: .<span class="hljs-number">5rem</span>;
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.5</span>;
}

<span class="hljs-selector-attr">[id^=<span class="hljs-string">"toggle_"</span>]</span><span class="hljs-selector-pseudo">:checked</span> ~ <span class="hljs-selector-class">.content</span> <span class="hljs-selector-tag">p</span>  {
    <span class="hljs-attribute">margin-bottom</span>: .<span class="hljs-number">75rem</span>;
}

<span class="hljs-selector-attr">[id^=<span class="hljs-string">"toggle_"</span>]</span> + <span class="hljs-selector-tag">label</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">justify-content</span>: space-between;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0.5em</span> <span class="hljs-number">1em</span>;
  <span class="hljs-attribute">background</span>: lightsteelblue;
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid gray;
  <span class="hljs-attribute">cursor</span>: pointer;
}

<span class="hljs-selector-attr">[id^=<span class="hljs-string">"toggle_"</span>]</span> + <span class="hljs-selector-tag">label</span><span class="hljs-selector-pseudo">:before</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">"Show"</span>;
}

<span class="hljs-selector-attr">[id^=<span class="hljs-string">"toggle_"</span>]</span><span class="hljs-selector-pseudo">:checked</span> + <span class="hljs-selector-tag">label</span><span class="hljs-selector-pseudo">:before</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">"Hide"</span>;
}

<span class="hljs-selector-attr">[id^=<span class="hljs-string">"toggle_"</span>]</span> + <span class="hljs-selector-tag">label</span><span class="hljs-selector-pseudo">:after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">"\25BC"</span>;
}

<span class="hljs-selector-attr">[id^=<span class="hljs-string">"toggle_"</span>]</span><span class="hljs-selector-pseudo">:checked</span> + <span class="hljs-selector-tag">label</span><span class="hljs-selector-pseudo">:after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">"\25B2"</span>;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"toggle_1"</span> <span class="hljs-attr">hidden</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"toggle_1"</span> <span class="hljs-attr">hidden</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis dolor neque, commodo quis leo ut, auctor tincidunt mauris. Nunc fringilla tincidunt metus, non gravida lorem condimentum non. Duis ornare purus nisl, at porta arcu eleifend eget. Integer lorem ante, porta vulputate dui ut, blandit tempor tellus. Proin facilisis bibendum diam, sit amet rutrum est feugiat ut. Mauris rhoncus convallis arcu in condimentum. Donec volutpat dui eu mollis vulputate. Nunc commodo lobortis nunc at ultrices. Suspendisse in lobortis diam. Suspendisse eget vestibulum ex.
            <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"toggle_2"</span> <span class="hljs-attr">hidden</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"toggle_2"</span> <span class="hljs-attr">hidden</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
                Maecenas laoreet nunc sit amet nulla ultrices auctor. Vivamus sed nisi vitae nibh condimentum pulvinar eu vel lorem. Sed pretium viverra eros ut facilisis. In ut fringilla magna. Sed a tempor libero. Donec sapien libero, lacinia sed aliquet ut, imperdiet finibus tellus. Nunc tellus lectus, rhoncus in posuere quis, tempus sit amet enim. Morbi et erat ac velit fringilla dignissim. Donec commodo, est id accumsan cursus, diam dui hendrerit nisi, vel hendrerit purus dolor ut risus. Phasellus mattis egestas ipsum sed ullamcorper. In diam ligula, rhoncus vel enim et, imperdiet porta justo. Curabitur vulputate hendrerit nisl, et ultricies diam. Maecenas ac leo a diam cursus ornare nec eu quam.
            <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Sed non vulputate purus, sed consectetur odio. Sed non nibh fringilla, imperdiet odio nec, efficitur ex. Suspendisse ut dignissim enim. Maecenas felis augue, tempor sit amet sem fringilla, accumsan fringilla nibh. Quisque posuere lacus tortor, quis malesuada magna elementum a. Nullam id purus in ante molestie tincidunt. Morbi luctus orci eu egestas dignissim. Sed tincidunt, libero quis scelerisque bibendum, ligula nisi gravida libero, id lacinia nulla leo in elit.
            <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Aenean aliquam risus id consectetur sagittis. Aliquam aliquam nisl eu augue accumsan, vel maximus lorem viverra. Aliquam ipsum dolor, tempor et justo ac, fermentum mattis dui. Etiam at posuere ligula. Vestibulum tortor metus, viverra vitae mi non, laoreet iaculis purus. Praesent vel semper nibh. Curabitur a congue lacus. In et pellentesque lorem. Morbi posuere felis non diam vulputate, non vulputate ex vehicula. Vivamus ultricies, massa id sagittis consequat, sem mauris tincidunt nunc, eu vehicula augue quam ut mauris.
            <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"toggle_3"</span> <span class="hljs-attr">hidden</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"toggle_3"</span> <span class="hljs-attr">hidden</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis dolor neque, commodo quis leo ut, auctor tincidunt mauris. Nunc fringilla tincidunt metus, non gravida lorem condimentum non. Duis ornare purus nisl, at porta arcu eleifend eget. Integer lorem ante, porta vulputate dui ut, blandit tempor tellus. Proin facilisis bibendum diam, sit amet rutrum est feugiat ut. Mauris rhoncus convallis arcu in condimentum. Donec volutpat dui eu mollis vulputate. Nunc commodo lobortis nunc at ultrices. Suspendisse in lobortis diam. Suspendisse eget vestibulum ex.
            <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Sed non vulputate purus, sed consectetur odio. Sed non nibh fringilla, imperdiet odio nec, efficitur ex. Suspendisse ut dignissim enim. Maecenas felis augue, tempor sit amet sem fringilla, accumsan fringilla nibh. Quisque posuere lacus tortor, quis malesuada magna elementum a. Nullam id purus in ante molestie tincidunt. Morbi luctus orci eu egestas dignissim. Sed tincidunt, libero quis scelerisque bibendum, ligula nisi gravida libero, id lacinia nulla leo in elit.
            <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif21" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution30" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 30</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I realize this thread is getting old, but it ranks high on certain Google searches so I figure it's worth updating.</p>

<p>You also just get/set the element's own height:</p>

<pre class="default s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> load_height = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'target_box'</span>).<span class="hljs-property">clientHeight</span>;
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'target_box'</span>).<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = load_height + <span class="hljs-string">'px'</span>;
</code></pre>

<p>You should dump this Javascript immediately after target_box's closing tag in an inline script tag.</p>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/how-can-i-convert-ereg-expressions-to-preg-in-php-1657387652855">How can I convert ereg expressions to preg in PHP?</a><a href="/questions/how-to-replace-all-occurrences-of-a-string-in-javascript-1657384895467">How to replace all occurrences of a string in JavaScript</a><a href="/questions/templated-check-for-the-existence-of-a-class-member-function-1657388363414">Templated check for the existence of a class member function?</a><a href="/questions/where-do-i-find-the-current-c-or-c++-standard-documents-1657388006897">Where do I find the current C or C++ standard documents?</a><a href="/questions/unfortunately-myapp-has-stopped.-how-can-i-solve-this-1657384402171">Unfortunately MyApp has stopped. How can I solve this?</a><a href="/questions/efficiently-convert-rows-to-columns-in-sql-server-1657387919213">Efficiently convert rows to columns in sql server</a><a href="/questions/how-do-i-use-shell-variables-in-an-awk-script-1657387754261">How do I use shell variables in an awk script?</a><a href="/questions/converting-string-into-datetime-1657387717295">Converting string into datetime</a><a href="/questions/reference:-mod_rewrite-url-rewriting-and-%22pretty-links%22-explained-1657384905504">Reference: mod_rewrite, URL rewriting and &quot;pretty links&quot; explained</a><a href="/questions/what-is-the-difference-between-single-quoted-and-double-quoted-strings-in-php-1657384624345">What is the difference between single-quoted and double-quoted strings in PHP?</a><a href="/questions/secure-hash-and-salt-for-php-passwords-1657387363258">Secure hash and salt for PHP passwords</a><a href="/questions/generating-random-whole-numbers-in-javascript-in-a-specific-range-1657388112728">Generating random whole numbers in JavaScript in a specific range</a><a href="/questions/why-can&#x27;t-an-element-with-a-z-index-value-cover-its-child-1657387707187">Why can&#x27;t an element with a z-index value cover its child?</a><a href="/questions/how-to-make-a-great-r-reproducible-example-1657384198173">How to make a great R reproducible example</a><a href="/questions/scroll-to-an-element-with-jquery-1657388523178">Scroll to an element with jQuery</a><a href="/questions/how-do-i-use-arrays-in-c++-1657387456118">How do I use arrays in C++?</a><a href="/questions/what-is-the-difference-between-%22px%22-%22dip%22-%22dp%22-and-%22sp%22-1657388093250">What is the difference between &quot;px&quot;, &quot;dip&quot;, &quot;dp&quot; and &quot;sp&quot;?</a><a href="/questions/what-does-the-comma-operator-do-1657388258021">What does the comma operator , do?</a><a href="/questions/what-is-dom-event-delegation-1657387625599">What is DOM Event delegation?</a><a href="/questions/how-to-get-the-difference-between-two-arrays-in-javascript-1657388463384">How to get the difference between two arrays in JavaScript?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;Use \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; in the transition and not \u0026lt;code\u0026gt;height\u0026lt;/code\u0026gt;. And set a value on \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; to something bigger than your box will ever get.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;See \u0026lt;a href=\u0026quot;http://jsfiddle.net/thechrisjordan/3Fc7D/23/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;JSFiddle demo\u0026lt;/a\u0026gt; provided by Chris Jordan in another \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/20226830/18706\u0026quot;\u0026gt;answer\u0026lt;/a\u0026gt; here.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;false\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#menu\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#list\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: max-height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.15s\u0026lt;/span\u0026gt; ease-out;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#d5d5d5\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#menu\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#list\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;500px\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: max-height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.25s\u0026lt;/span\u0026gt; ease-in;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;hover me\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;list\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;\u0026amp;lt;!-- Create a bunch, or not a bunch, of li\u0026apos;s to see the timing. --\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif2\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You should use scaleY instead.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#eee\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;scaleY\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);    \n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform-origin\u0026lt;/span\u0026gt;: top;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: transform \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.26s\u0026lt;/span\u0026gt; ease;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; ~ \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;scaleY\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;);\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Hover This\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Coffee\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Tea\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Milk\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif3\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I\u0026apos;ve made a vendor prefixed version of the above code on \u0026lt;a href=\u0026quot;http://jsfiddle.net/dotnetCarpenter/PhyQc/9/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;jsfiddle\u0026lt;/a\u0026gt;,  and changed your \u0026lt;a href=\u0026quot;http://jsfiddle.net/dotnetCarpenter/7cnfc/206/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;jsfiddle\u0026lt;/a\u0026gt; to use scaleY instead of height.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;Edit\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt;\nSome people do not like how \u0026lt;code\u0026gt;scaleY\u0026lt;/code\u0026gt; transforms the content. If that is a problem then I suggest using \u0026lt;code\u0026gt;clip\u0026lt;/code\u0026gt; instead.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;false\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;clip\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;rect\u0026lt;/span\u0026gt;(auto, auto, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, auto);\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;position\u0026lt;/span\u0026gt;: absolute;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin\u0026lt;/span\u0026gt;: -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1rem\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5rem\u0026lt;/span\u0026gt;;\n\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;color\u0026lt;/span\u0026gt;: white;\n\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;rgba\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.8\u0026lt;/span\u0026gt;);\n\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition-property\u0026lt;/span\u0026gt;: clip;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition-duration\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5s\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition-timing-function\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;cubic-bezier\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.175\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.885\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.32\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.275\u0026lt;/span\u0026gt;);\n}\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;h3\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; ~ \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;,\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;h3\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:active\u0026lt;/span\u0026gt; ~ \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;,\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;clip\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;rect\u0026lt;/span\u0026gt;(auto, auto, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10rem\u0026lt;/span\u0026gt;, auto);\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h3\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Hover here\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h3\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;This list\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;is clipped.\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;A clip transition\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;will show it\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  Some text...\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif4\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can\u0026apos;t currently animate on height when one of the heights involved is \u0026lt;code\u0026gt;auto\u0026lt;/code\u0026gt;, you have to set two explicit heights.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The solution that I\u0026apos;ve always used was to first fade out, then shrink the \u0026lt;code\u0026gt;font-size\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;padding\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;margin\u0026lt;/code\u0026gt; values. It doesn\u0026apos;t look the same as a wipe, but it works without a static \u0026lt;code\u0026gt;height\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Working example:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* final display */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#menu\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#list\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin\u0026lt;/span\u0026gt;: .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5em\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1em\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1em\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* hide */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#menu\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:not\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#list\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;font-size\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* fade out, then shrink */\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: opacity .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25s\u0026lt;/span\u0026gt;,\n                font-size .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt; .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25s\u0026lt;/span\u0026gt;,\n                margin .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt; .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25s\u0026lt;/span\u0026gt;,\n                padding .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt; .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25s\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* reveal */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#menu\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#list\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* unshrink, then fade in */\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: font-size .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25s\u0026lt;/span\u0026gt;,\n                margin .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25s\u0026lt;/span\u0026gt;,\n                padding .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25s\u0026lt;/span\u0026gt;,\n                opacity .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt; .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25s\u0026lt;/span\u0026gt;;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;hover me\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;list\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Another paragraph...\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif5\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This is a \u0026lt;strong\u0026gt;CSS-only\u0026lt;/strong\u0026gt; solution with the following properties:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;There is no delay at the beginning, and the transition doesn\u0026apos;t stop early. In both directions (expanding and collapsing), if you specify a transition duration of 300ms in your CSS, then the transition takes 300ms, period.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;It\u0026apos;s transitioning the actual height (unlike \u0026lt;code\u0026gt;transform: scaleY(0)\u0026lt;/code\u0026gt;), so it does the right thing if there\u0026apos;s content after the collapsible element.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;While (like in other solutions) there \u0026lt;em\u0026gt;are\u0026lt;/em\u0026gt; magic numbers (like \u0026quot;pick a length that is higher than your box is ever going to be\u0026quot;), it\u0026apos;s not fatal if your assumption ends up being wrong. The transition may not look amazing in that case, but before and after the transition, this is not a problem: In the expanded (\u0026lt;code\u0026gt;height: auto\u0026lt;/code\u0026gt;) state, the whole content always has the correct height (unlike e.g. if you pick a \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; that turns out to be too low). And in the collapsed state, the height is zero as it should.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;h2\u0026gt;Demo\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;Here\u0026apos;s a demo with three collapsible elements, all of different heights, that all use the same CSS. You might want to click \u0026quot;full page\u0026quot; after clicking \u0026quot;run snippet\u0026quot;. Note that the JavaScript only toggles the \u0026lt;code\u0026gt;collapsed\u0026lt;/code\u0026gt; CSS class, there\u0026apos;s no measuring involved. (You could do this exact demo without any JavaScript at all by using a checkbox or \u0026lt;code\u0026gt;:target\u0026lt;/code\u0026gt;). Also note that the part of the CSS that\u0026apos;s responsible for the transition is pretty short, and the HTML only requires a single additional wrapper element.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;$(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n  $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;.toggler\u0026quot;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;click\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    $(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toggleClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;collapsed\u0026quot;\u0026lt;/span\u0026gt;);\n    $(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toggleClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggled\u0026quot;\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// this just rotates the expander arrow\u0026lt;/span\u0026gt;\n  });\n});\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.collapsible-wrapper\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: flex;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.collapsible-wrapper\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:after\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;content\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50px\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3s\u0026lt;/span\u0026gt; linear, max-height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3s\u0026lt;/span\u0026gt; linear;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0px\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.collapsible\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: margin-bottom \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3s\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;cubic-bezier\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;);\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin-bottom\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000000px\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.collapsible-wrapper\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.collapsed\u0026lt;/span\u0026gt; \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.collapsible\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin-bottom\u0026lt;/span\u0026gt;: -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2000px\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: margin-bottom \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3s\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;cubic-bezier\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;),\n              visibility \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3s\u0026lt;/span\u0026gt;, max-height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3s\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;visibility\u0026lt;/span\u0026gt;: hidden;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.collapsible-wrapper\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.collapsed\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:after\u0026lt;/span\u0026gt;\n{\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3s\u0026lt;/span\u0026gt; linear;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50px\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* END of the collapsible implementation; the stuff below\n   is just styling for this demo */\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#container\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: flex;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;align-items\u0026lt;/span\u0026gt;: flex-start;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-width\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000px\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; auto;\n}  \n\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.menu\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1px\u0026lt;/span\u0026gt; solid \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#ccc\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;box-shadow\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1px\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3px\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;rgba\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5\u0026lt;/span\u0026gt;);\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20px\u0026lt;/span\u0026gt;;\n\n  \n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.menu-item\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: block;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;linear-gradient\u0026lt;/span\u0026gt;(to bottom, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#fff\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#eee\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;);\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1em\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;line-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.3\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.collapsible\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.menu-item\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border-left\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2px\u0026lt;/span\u0026gt; solid \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#888\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border-right\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2px\u0026lt;/span\u0026gt; solid \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#888\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;linear-gradient\u0026lt;/span\u0026gt;(to bottom, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#eee\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#ddd\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;);\n}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.menu-item\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggler\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;linear-gradient\u0026lt;/span\u0026gt;(to bottom, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#aaa\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#888\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;);\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;color\u0026lt;/span\u0026gt;: white;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;cursor\u0026lt;/span\u0026gt;: pointer;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.menu-item\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggler\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:before\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;content\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: block;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border-left\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8px\u0026lt;/span\u0026gt; solid white;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border-top\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8px\u0026lt;/span\u0026gt; solid transparent;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border-bottom\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8px\u0026lt;/span\u0026gt; solid transparent;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;width\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;float\u0026lt;/span\u0026gt;: right;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: transform \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3s\u0026lt;/span\u0026gt; ease-out;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.menu-item\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggler\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggled\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:before\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;rotate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;90deg\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;body\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;font-family\u0026lt;/span\u0026gt;: sans-serif; \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;font-size\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14px\u0026lt;/span\u0026gt;; }\n\n*, *\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:after\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;box-sizing\u0026lt;/span\u0026gt;: border-box;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;src\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;container\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Something involving a holodeck\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Send an away team\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item toggler\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Advanced solutions\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;collapsible-wrapper collapsed\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;collapsible\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Separate saucer\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Send an away team that includes the captain (despite Riker\u0026apos;s protest)\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Ask Worf\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Something involving Wesley, the 19th century, and a holodeck\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Ask Q for help\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Sweet-talk the alien aggressor\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Re-route power from auxiliary systems\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Something involving a holodeck\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Send an away team\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item toggler\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Advanced solutions\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;collapsible-wrapper collapsed\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;collapsible\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Separate saucer\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Send an away team that includes the captain (despite Riker\u0026apos;s protest)\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Sweet-talk the alien aggressor\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Re-route power from auxiliary systems\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Something involving a holodeck\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Send an away team\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item toggler\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Advanced solutions\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;collapsible-wrapper collapsed\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;collapsible\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Separate saucer\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Send an away team that includes the captain (despite Riker\u0026apos;s protest)\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Ask Worf\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Something involving Wesley, the 19th century, and a holodeck\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Ask Q for help\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Separate saucer\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Send an away team that includes the captain (despite Riker\u0026apos;s protest)\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Ask Worf\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Something involving Wesley, the 19th century, and a holodeck\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Ask Q for help\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Sweet-talk the alien aggressor\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu-item\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Re-route power from auxiliary systems\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif6\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;How does it work?\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;There are in fact \u0026lt;em\u0026gt;two\u0026lt;/em\u0026gt; transitions involved in making this happen. One of them transitions the \u0026lt;code\u0026gt;margin-bottom\u0026lt;/code\u0026gt; from 0px (in the expanded state) to \u0026lt;code\u0026gt;-2000px\u0026lt;/code\u0026gt; in the collapsed state (similar to \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/25200087/115866\u0026quot;\u0026gt;this answer\u0026lt;/a\u0026gt;). The 2000 here is the first magic number, it\u0026apos;s based on the assumption that your box won\u0026apos;t be higher than this (2000 pixels seems like a reasonable choice).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Using the \u0026lt;code\u0026gt;margin-bottom\u0026lt;/code\u0026gt; transition alone by itself has two issues:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;If you actually have a box that\u0026apos;s higher than 2000 pixels, then a \u0026lt;code\u0026gt;margin-bottom: -2000px\u0026lt;/code\u0026gt; won\u0026apos;t hide everything -- there\u0026apos;ll be visible stuff even in the collapsed case. This is a minor fix that we\u0026apos;ll do later.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If the actual box is, say, 1000 pixels high, and your transition is 300ms long, then the \u0026lt;em\u0026gt;visible\u0026lt;/em\u0026gt; transition is already over after about 150ms (or, in the opposite direction, starts 150ms late).\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;Fixing this second issue is where the second transition comes in, and this transition conceptually targets the wrapper\u0026apos;s \u0026lt;em\u0026gt;minimum\u0026lt;/em\u0026gt; height (\u0026quot;conceptually\u0026quot; because we\u0026apos;re not actually using the \u0026lt;code\u0026gt;min-height\u0026lt;/code\u0026gt; property for this; more on that later).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Here\u0026apos;s an animation that shows how combining the bottom margin transition with the minimum height transition, both of equal duration, gives us a combined transition from full height to zero height that has the same duration.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/TwbsG.gif\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/TwbsG.gif\u0026quot; alt=\u0026quot;animation as described above\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The left bar shows how the negative bottom margin pushes the bottom upwards, reducing the visible height. The middle bar shows how the minimum height ensures that in the collapsing case, the transition doesn\u0026apos;t end early, and in the expanding case, the transition doesn\u0026apos;t start late. The right bar shows how the combination of the two causes the box to transition from full height to zero height in the correct amount of time.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For my demo I\u0026apos;ve settled on 50px as the upper minimum height value. This is the second magic number, and it should be lower than the box\u0026apos; height would ever be. 50px seems reasonable as well; it seems unlikely that you\u0026apos;d very often want to make an element collapsible that isn\u0026apos;t even 50 pixels high in the first place.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;As you can see in the animation, the resulting transition is continuous, but it is not differentiable -- at the moment when the minimum height is equal to the full height adjusted by the bottom margin, there is a sudden change in speed. This is very noticeable in the animation because it uses a linear timing function for both transitions, and because the whole transition is very slow. In the actual case (my demo at the top), the transition only takes 300ms, and the bottom margin transition is not linear. I\u0026apos;ve played around with a lot of different timing functions for both transitions, and the ones I ended up with felt like they worked best for the widest variety of cases.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Two problems remain to fix:\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;the point from above, where boxes of more than 2000 pixels height aren\u0026apos;t completely hidden in the collapsed state,\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;and the reverse problem, where in the non-hidden case, boxes of less than 50 pixels height are too high even when the transition isn\u0026apos;t running, because the minimum height keeps them at 50 pixels.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;We solve the first problem by giving the container element a \u0026lt;code\u0026gt;max-height: 0\u0026lt;/code\u0026gt; in the collapsed case, with a \u0026lt;code\u0026gt;0s 0.3s\u0026lt;/code\u0026gt; transition. This means that it\u0026apos;s not really a transition, but the \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; is applied with a delay; it only applies once the transition is over. For this to work correctly, we also need to pick a numerical \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; for the opposite, non-collapsed, state. But unlike in the 2000px case, where picking too large of a number affects the quality of the transition, in this case, it really doesn\u0026apos;t matter. So we can just pick a number that is so high that we \u0026lt;em\u0026gt;know\u0026lt;/em\u0026gt; that no height will ever come close to this. I picked a million pixels. If you feel you may need to support content of a height of more than a million pixels, then 1) I\u0026apos;m sorry, and 2) just add a couple of zeros.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The second problem is the reason why we\u0026apos;re not actually using \u0026lt;code\u0026gt;min-height\u0026lt;/code\u0026gt; for the minimum height transition. Instead, there is an \u0026lt;code\u0026gt;::after\u0026lt;/code\u0026gt; pseudo-element in the container with a \u0026lt;code\u0026gt;height\u0026lt;/code\u0026gt; that transitions from 50px to zero. This has the same effect as a \u0026lt;code\u0026gt;min-height\u0026lt;/code\u0026gt;: It won\u0026apos;t let the container shrink below whatever height the pseudo-element currently has. But because we\u0026apos;re using \u0026lt;code\u0026gt;height\u0026lt;/code\u0026gt;, not \u0026lt;code\u0026gt;min-height\u0026lt;/code\u0026gt;, we can now use \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; (once again applied with a delay) to set the pseudo-element\u0026apos;s actual height to zero once the transition is over, ensuring that at least outside the transition, even small elements have the correct height. Because \u0026lt;code\u0026gt;min-height\u0026lt;/code\u0026gt; is \u0026lt;a href=\u0026quot;https://stackoverflow.com/q/13845224/115866\u0026quot;\u0026gt;stronger\u0026lt;/a\u0026gt; than \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt;, this wouldn\u0026apos;t work if we used the container\u0026apos;s \u0026lt;code\u0026gt;min-height\u0026lt;/code\u0026gt; instead of the pseudo-element\u0026apos;s \u0026lt;code\u0026gt;height\u0026lt;/code\u0026gt;. Just like the \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; in the previous paragraph, this \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; also needs a value for the opposite end of the transition. But in this case we can just pick the 50px.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Tested in Chrome (Win, Mac, Android, iOS), Firefox (Win, Mac, Android), Edge, IE11 (except for a flexbox layout issue with my demo that I didn\u0026apos;t bother debugging), and Safari (Mac, iOS). Speaking of flexbox, it should be possible to make this work without using any flexbox; in fact I think you could make almost everything work in IE7  except for the fact that you won\u0026apos;t have CSS transitions, making it a rather pointless exercise.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can, with a little bit of non-semantic jiggery-pokery. My usual approach is to animate the height of an outer DIV which has a single child which is a style-less DIV used only for measuring the content height.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;growDiv\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; growDiv = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getElementById\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;grow\u0026apos;\u0026lt;/span\u0026gt;);\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (growDiv.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;clientHeight\u0026lt;/span\u0026gt;) {\n    growDiv.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; wrapper = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;querySelector\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.measuringWrapper\u0026apos;\u0026lt;/span\u0026gt;);\n    growDiv.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt; = wrapper.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;clientHeight\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;px\u0026quot;\u0026lt;/span\u0026gt;;\n  }\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#grow\u0026lt;/span\u0026gt; {\n  -moz-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt;;\n  -ms-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt;;\n  -o-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt;;\n  -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;outline\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1px\u0026lt;/span\u0026gt; solid red;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;button\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;onclick\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;growDiv()\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;grow\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;grow\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;measuringWrapper\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      The contents of my div.\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      The contents of my div.\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      The contents of my div.\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      The contents of my div.\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      The contents of my div.\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      The contents of my div.\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif7\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;One would like to just be able to dispense with the \u0026lt;code\u0026gt;.measuringWrapper\u0026lt;/code\u0026gt; and just set the DIV\u0026apos;s height to auto and have that animate, but that doesn\u0026apos;t seem to work (the height gets set, but no animation occurs).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;growDiv\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; growDiv = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getElementById\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;grow\u0026apos;\u0026lt;/span\u0026gt;);\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (growDiv.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;clientHeight\u0026lt;/span\u0026gt;) {\n    growDiv.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n    growDiv.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;auto\u0026apos;\u0026lt;/span\u0026gt;;\n  }\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#grow\u0026lt;/span\u0026gt; {\n  -moz-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt;;\n  -ms-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt;;\n  -o-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt;;\n  -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;outline\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1px\u0026lt;/span\u0026gt; solid red;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;button\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;onclick\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;growDiv()\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;grow\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;grow\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    The contents of my div.\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    The contents of my div.\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    The contents of my div.\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    The contents of my div.\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    The contents of my div.\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    The contents of my div.\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif8\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;My interpretation is that an explicit height is needed for the animation to run. You can\u0026apos;t get an animation on height when either height (the start or end height) is \u0026lt;code\u0026gt;auto\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;A visual workaround to animating height using CSS3 transitions is to animate the padding instead. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You don\u0026apos;t quite get the full wipe effect, but playing around with the transition-duration and padding values should get you close enough. If you don\u0026apos;t want to explicitly set height/max-height, this should be what you\u0026apos;re looking for.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;18px\u0026lt;/span\u0026gt;;\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt; ease;\n       -moz-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt; ease;\n            \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt; ease;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.animated\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: auto;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;24px\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;18px\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://jsfiddle.net/catharsis/n5XfG/17/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://jsfiddle.net/catharsis/n5XfG/17/\u0026lt;/a\u0026gt; (riffed off stephband\u0026apos;s above jsFiddle)\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The accepted answer works for most cases, but it doesn\u0026apos;t work well when your \u0026lt;code\u0026gt;div\u0026lt;/code\u0026gt; can vary greatly in height  the animation speed is not dependent on the actual height of the content, and it can look choppy.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You can still perform the actual animation with CSS, but you need to use JavaScript to compute the height of the items, instead of trying to use \u0026lt;code\u0026gt;auto\u0026lt;/code\u0026gt;. No jQuery is required, although you may have to modify this a bit if you want compatibility (works in the latest version of Chrome :)).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;toggleExpand\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;element\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!element.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt; || element.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt; == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;0px\u0026apos;\u0026lt;/span\u0026gt;) { \n        element.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;call\u0026lt;/span\u0026gt;(element.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;childNodes\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;p, c\u0026lt;/span\u0026gt;) {\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; p + (c.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;offsetHeight\u0026lt;/span\u0026gt; || \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);}, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;) + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;px\u0026apos;\u0026lt;/span\u0026gt;;\n    } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n        element.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;0px\u0026apos;\u0026lt;/span\u0026gt;;\n    }\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#menu\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#list\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0px\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3s\u0026lt;/span\u0026gt; ease;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#d5d5d5\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Toggle list\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;button\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;onclick\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggleExpand(document.getElementById(\u0026apos;list\u0026apos;));\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;list\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;\u0026amp;lt;!-- Works well with dynamically-sized content. --\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;height: 100px; width: 100px; background: red;\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif9\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;My workaround is to transition \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; to the exact content height for a nice smooth animation, then use a \u0026lt;code\u0026gt;transitionEnd\u0026lt;/code\u0026gt; callback to set \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; to \u0026lt;code\u0026gt;9999px\u0026lt;/code\u0026gt; so the content can resize freely.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;false\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; content = $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;#content\u0026apos;\u0026lt;/span\u0026gt;);\ncontent.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;inner\u0026lt;/span\u0026gt; = $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;#content .inner\u0026apos;\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// inner div needed to get size of content when closed\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// css transition callback\u0026lt;/span\u0026gt;\ncontent.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;transitionEnd webkitTransitionEnd transitionend oTransitionEnd msTransitionEnd\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;e\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(content.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hasClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;open\u0026apos;\u0026lt;/span\u0026gt;)){\n        content.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;css\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;max-height\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9999\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// try setting this to \u0026apos;none\u0026apos;... I dare you!\u0026lt;/span\u0026gt;\n    }\n});\n\n$(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;#toggle\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;click\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;e\u0026lt;/span\u0026gt;){\n    content.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toggleClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;open closed\u0026apos;\u0026lt;/span\u0026gt;);\n    content.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;contentHeight\u0026lt;/span\u0026gt; = content.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;outerHeight\u0026lt;/span\u0026gt;();\n    \n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(content.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hasClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;closed\u0026apos;\u0026lt;/span\u0026gt;)){\n        \n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// disable transitions \u0026amp;amp; set max-height to content height\u0026lt;/span\u0026gt;\n        content.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;removeClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;transitions\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;css\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;max-height\u0026apos;\u0026lt;/span\u0026gt;, content.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;contentHeight\u0026lt;/span\u0026gt;);\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;setTimeout\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n            \n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// enable \u0026amp;amp; start transition\u0026lt;/span\u0026gt;\n            content.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;addClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;transitions\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;css\u0026lt;/span\u0026gt;({\n                \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;max-height\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\n                \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;opacity\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n            });\n            \n        }, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 10ms timeout is the secret ingredient for disabling/enabling transitions\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// chrome only needs 1ms but FF needs ~10ms or it chokes on the first animation for some reason\u0026lt;/span\u0026gt;\n        \n    }\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(content.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hasClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;open\u0026apos;\u0026lt;/span\u0026gt;)){  \n        \n        content.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;contentHeight\u0026lt;/span\u0026gt; += content.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;inner\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;outerHeight\u0026lt;/span\u0026gt;(); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// if closed, add inner height to content height\u0026lt;/span\u0026gt;\n        content.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;css\u0026lt;/span\u0026gt;({\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;max-height\u0026apos;\u0026lt;/span\u0026gt;: content.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;contentHeight\u0026lt;/span\u0026gt;,\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;opacity\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n        });\n        \n    }\n});\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.transitions\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5s\u0026lt;/span\u0026gt; ease-in-out;\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5s\u0026lt;/span\u0026gt; ease-in-out;\n    -moz-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5s\u0026lt;/span\u0026gt; ease-in-out;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;body\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;font-family\u0026lt;/span\u0026gt;:Arial;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;line-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3ex\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;code\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: inline-block;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#fafafa\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1ex\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#toggle\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;:block;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10px\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10px\u0026lt;/span\u0026gt; auto;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;text-align\u0026lt;/span\u0026gt;:center;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;width\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30ex\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#content\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;:hidden;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10px\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1px\u0026lt;/span\u0026gt; solid \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#666\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#efefef\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#content\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.inner\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10px\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;:auto;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;src\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;content\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;open\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;inner\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h3\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Smooth CSS Transitions Between \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;code\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;height: 0\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;code\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt; and \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;code\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;height: auto\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;code\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h3\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;A clever workaround is to use \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;code\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;max-height\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;code\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt; instead of \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;code\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;height\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;code\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;, and set it to something bigger than your content. Problem is the browser uses this value to calculate transition duration. So if you set it to \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;code\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;max-height: 1000px\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;code\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt; but the content is only 100px high, the animation will be 10x too fast.\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Another option is to measure the content height with JS and transition to that fixed value, but then you have to keep track of the content and manually resize it if it changes.\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;This solution is a hybrid of the two - transition to the measured content height, then set it to \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;code\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;max-height: 9999px\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;code\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt; after the transition for fluid content sizing.\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt; /\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;button\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Challenge Accepted!\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;button\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif10\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;There was little mention of the \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;Element.prototype.scrollHeight\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; property which can be useful here and still may be used with a pure CSS transition, \u0026lt;strong\u0026gt;although scripting support would obviously be required\u0026lt;/strong\u0026gt;. The property always contains the \u0026quot;full\u0026quot; height of an element, regardless of whether and how its content overflows as a result of collapsed height (e.g. \u0026lt;code\u0026gt;height: 0\u0026lt;/code\u0026gt;).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;As such, for a \u0026lt;code\u0026gt;height: 0\u0026lt;/code\u0026gt; (effectively fully collapsed) element, its \u0026quot;normal\u0026quot; or \u0026quot;full\u0026quot; height is still readily available through its \u0026lt;code\u0026gt;scrollHeight\u0026lt;/code\u0026gt; value (invariably a \u0026lt;em\u0026gt;pixel\u0026lt;/em\u0026gt; length).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For such an element, assuming it already has the transition set up like (using \u0026lt;code\u0026gt;ul\u0026lt;/code\u0026gt; as per original question):\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* An example transition. */\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;We can trigger desired animated \u0026quot;expansion\u0026quot; of height, using CSS only, with something like the following (here assuming \u0026lt;code\u0026gt;ul\u0026lt;/code\u0026gt; variable refers to the list):\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-ini\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;ul.style.height\u0026lt;/span\u0026gt; = ul.scrollHeight + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;px\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;That\u0026apos;s it. If you need to collapse the list, either of the two following statements will do:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;ul.style.height = 0;\nul.style.removeProperty(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;height\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;My particular use case revolved around animating lists of unknown and often considerable lengths, so I was not comfortable dealing with \u0026quot;large enough\u0026quot; \u0026lt;code\u0026gt;height\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; specification and risking cut-off content or content that you suddenly need to scroll (if \u0026lt;code\u0026gt;overflow: auto\u0026lt;/code\u0026gt;, for example). Additionally, the easing and timing is broken with \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt;-based solutions, because the used height may reach its maximum value a lot sooner than it would take for \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; to reach \u0026lt;code\u0026gt;9999px\u0026lt;/code\u0026gt;. And as screen resolutions grow, pixel lengths like \u0026lt;code\u0026gt;9999px\u0026lt;/code\u0026gt; leave a bad taste in my mouth. This particular solution solves the problem in an elegant manner, in my opinion.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Finally, here is hoping that future revisions of CSS address authors\u0026apos; need to do these kind of things even more elegantly -- revisit the notion of \u0026quot;computed\u0026quot; vs \u0026quot;used\u0026quot; and \u0026quot;resolved\u0026quot; values, and consider whether transitions should apply to computed values, including transitions with \u0026lt;code\u0026gt;width\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;height\u0026lt;/code\u0026gt; (which currently get a bit of a special treatment).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Use \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; with different transition easing and delay for each state. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;HTML:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;href\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;#\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;trigger\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Hover\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggled\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;One\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Two\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Three\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;CSS:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#toggled\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0px\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: max-height .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8s\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;cubic-bezier\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;) -.\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#trigger\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#toggled\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9999px\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition-timing-function\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;cubic-bezier\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;); \n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition-delay\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;See example: \u0026lt;a href=\u0026quot;http://jsfiddle.net/0hnjehjc/1/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://jsfiddle.net/0hnjehjc/1/\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;No hard coded values.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;No JavaScript.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;No approximations.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The trick is to use a hidden \u0026amp;amp; duplicated \u0026lt;code\u0026gt;div\u0026lt;/code\u0026gt; to get the browser to understand what 100% means. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This method is suitable whenever you\u0026apos;re able to duplicate the DOM of the element you wish to animate. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;false\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.outer\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border\u0026lt;/span\u0026gt;: dashed red \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1px\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;position\u0026lt;/span\u0026gt;: relative;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.dummy\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;visibility\u0026lt;/span\u0026gt;: hidden;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.real\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;position\u0026lt;/span\u0026gt;: absolute;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background\u0026lt;/span\u0026gt;: yellow;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5s\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.outer\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.real\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;Hover over the box below:\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;outer\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;\u0026amp;lt;!-- The actual element that you\u0026apos;d like to animate --\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;real\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\nunpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable\ncontent unpredictable content unpredictable content unpredictable content\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;\u0026amp;lt;!-- An exact copy of the element you\u0026apos;d like to animate. --\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;dummy\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;aria-hidden\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;true\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\nunpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable\ncontent unpredictable content unpredictable content unpredictable content\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif11\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;As I post this there are over 30 answers already, but I feel my answer improves on the already \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/8331169/7016732\u0026quot;\u0026gt;accepted answer\u0026lt;/a\u0026gt; by jake.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I was not content with the issue that arises from simply using \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; and CSS3 transitions, since as many commenters noted, you have to set your \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; value very close to the actual height or you\u0026apos;ll get a delay. See this \u0026lt;a href=\u0026quot;https://jsfiddle.net/nb5fr34d/1/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;JSFiddle\u0026lt;/a\u0026gt; for an example of that problem.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To get around this (while still using no JavaScript), I added another HTML element that transitions the \u0026lt;code\u0026gt;transform: translateY\u0026lt;/code\u0026gt; CSS value.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This means both \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;translateY\u0026lt;/code\u0026gt; are used: \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; allows the element to push down elements below it, while \u0026lt;code\u0026gt;translateY\u0026lt;/code\u0026gt; gives the \u0026quot;instant\u0026quot; effect we want. The issue with \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; still exists, but its effect is lessened.\nThis means you can set a much larger height for your \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; value and worry about it less.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The overall benefit is that on the transition back in (the collapse), the user sees the \u0026lt;code\u0026gt;translateY\u0026lt;/code\u0026gt; animation immediately, so it doesn\u0026apos;t really matter how long the \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; takes.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;a href=\u0026quot;https://jsfiddle.net/ajo89vmg/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Solution as Fiddle\u0026lt;/a\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;body\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;font-family\u0026lt;/span\u0026gt;: sans-serif;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggle\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;position\u0026lt;/span\u0026gt;: relative;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2px\u0026lt;/span\u0026gt; solid \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#333\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border-radius\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3px\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5px\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;width\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;200px\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggle-header\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10px\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#333\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;color\u0026lt;/span\u0026gt;: white;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;text-align\u0026lt;/span\u0026gt;: center;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;cursor\u0026lt;/span\u0026gt;: pointer;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggle-height\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: tomato;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: max-height .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6s\u0026lt;/span\u0026gt; ease;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggle\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggle-height\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000px\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggle-transform\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5px\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;color\u0026lt;/span\u0026gt;: white;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: transform .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4s\u0026lt;/span\u0026gt; ease;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;translateY\u0026lt;/span\u0026gt;(-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggle\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggle-transform\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;translateY\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle-header\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    Toggle!\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle-height\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle-transform\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Content!\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Content!\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Content!\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Content!\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle-header\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    Toggle!\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle-height\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle-transform\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Content!\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Content!\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Content!\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Content!\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif12\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;According to \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions#which_css_properties_can_be_transitioned\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;MDN Web Docs\u0026lt;/a\u0026gt;, \u0026lt;code\u0026gt;auto\u0026lt;/code\u0026gt; values have been intentionally excluded from the CSS transitions spec, so instead of \u0026lt;code\u0026gt;height: auto\u0026lt;/code\u0026gt;, use \u0026lt;code\u0026gt;height: 100%\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;top\u0026lt;/code\u0026gt;, or the \u0026lt;code\u0026gt;flex\u0026lt;/code\u0026gt; property in grid and flex layouts.\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;Expanding/collapsing an overlay\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.grid-container\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: grid;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;position\u0026lt;/span\u0026gt;: absolute;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.content\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background\u0026lt;/span\u0026gt;: aqua;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.grid-container\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.content\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Hover over me!\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;grid-container\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;content\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Rest of the page content...\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif13\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;Expanding/collapsing a sliding overlay\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.grid-container\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: grid;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;position\u0026lt;/span\u0026gt;: absolute;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;pointer-events\u0026lt;/span\u0026gt;: none; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* to enable interaction with elements below the container */\u0026lt;/span\u0026gt;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.content\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background\u0026lt;/span\u0026gt;: aqua;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;pointer-events\u0026lt;/span\u0026gt;: auto;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;position\u0026lt;/span\u0026gt;: relative;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;top\u0026lt;/span\u0026gt;: -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.grid-container\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.content\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;top\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Hover over me!\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;grid-container\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;content\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Rest of the page content...\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif14\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;Expanding/collapsing in the document flow\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;html\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: grid;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;body\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: flex;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;flex-direction\u0026lt;/span\u0026gt;: column;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.content\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background\u0026lt;/span\u0026gt;: aqua;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;flex-basis\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.content\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;flex\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Hover over me!\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;content\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Rest of the page content...\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif15\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Ok, so I think I came up with a super simple answer...\nno \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt;, uses \u0026lt;code\u0026gt;relative\u0026lt;/code\u0026gt; positioning, works on \u0026lt;code\u0026gt;li\u0026lt;/code\u0026gt; elements, \u0026amp;amp; is pure CSS.\nI have not tested in anything but Firefox, though judging by the CSS, it should work on all browsers.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;FIDDLE: \u0026lt;a href=\u0026quot;http://jsfiddle.net/n5XfG/2596/\u0026quot;\u0026gt;http://jsfiddle.net/n5XfG/2596/\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;CSS\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.wrap\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;:hidden; }\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.inner\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin-top\u0026lt;/span\u0026gt;:-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;;\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;:margin-top \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;500ms\u0026lt;/span\u0026gt;;\n            \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;:margin-top \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;500ms\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.inner\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.open\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin-top\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0px\u0026lt;/span\u0026gt;; }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;HTML\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;wrap\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;inner\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some Cool Content\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;EDIT: Scroll down for updated answer \u0026lt;br\u0026gt;\nI was making a drop down list and saw this Post ... many different answers but I decide to share my drop down list too, ... It\u0026apos;s not perfect but at least it will using only css for drop down! I\u0026apos;ve been using transform:translateY(y) to transform the list to the view ...\u0026lt;br\u0026gt;\nYou can see more in the test \u0026lt;br\u0026gt;\n\u0026lt;a href=\u0026quot;http://jsfiddle.net/BVEpc/4/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;http://jsfiddle.net/BVEpc/4/\u0026lt;/a\u0026gt; \u0026lt;br\u0026gt;\nI\u0026apos;ve placed div behind every li because my drop down list are coming from up and to show them properly this was needed, my div code is:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#menu\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5s\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;z-index\u0026lt;/span\u0026gt;:-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;translateY\u0026lt;/span\u0026gt;(-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;);\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform-origin\u0026lt;/span\u0026gt;: top;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;and hover is : \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#menu\u0026lt;/span\u0026gt; \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5s\u0026lt;/span\u0026gt;;\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;translateY\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;and because ul height is set to the content it can get over your body content that\u0026apos;s why I did this for ul:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#menu\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.5s\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;visibility\u0026lt;/span\u0026gt;:hidden;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;:hidden;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;and hover:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#menu\u0026lt;/span\u0026gt; \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; {\n     \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;:none;\n     \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;visibility\u0026lt;/span\u0026gt;:visible;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;the second time after transition is delay and it will get hidden after my drop down list has been closed animately ... \u0026lt;br\u0026gt;\nHope later someone get benefit of this one.\n\u0026lt;br\u0026gt;\u0026lt;br\u0026gt;\nEDIT: I just can\u0026apos;t believe ppl actually using this prototype! this drop down menu is only for one sub menu and that\u0026apos;s all!!\nI\u0026apos;ve updated a better one that can have two sub menu for both ltr and rtl direction with IE 8 support. \u0026lt;br\u0026gt;\n\u0026lt;a href=\u0026quot;https://jsfiddle.net/sijav/BVEpc/56/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Fiddle for LTR\u0026lt;/a\u0026gt; \u0026lt;br\u0026gt;\n\u0026lt;a href=\u0026quot;http://jsfiddle.net/sijav/BVEpc/55/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Fiddle for RTL\u0026lt;/a\u0026gt; \u0026lt;br\u0026gt;\nhopefully someone find this useful in future.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can transition from height:0 to height:auto providing that you also provide min-height and max-height.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.stretchy\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; linear;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.stretchy\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.hidden\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.stretchy\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.visible\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: auto;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;min-height\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;40px\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;400px\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Flexbox Solution\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Pros:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;simple\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;no JS\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;smooth transition\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Cons:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;element needs to be put in a fixed height flex container\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;The way it works is by always having flex-basis: auto on the element with content, and transitioning flex-grow and flex-shrink instead. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Edit: Improved JS Fiddle inspired by the Xbox One interface. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;* {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;box-sizing\u0026lt;/span\u0026gt;: border-box;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.25s\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;font-family\u0026lt;/span\u0026gt;: monospace;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;body\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10px\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10px\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.box\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;width\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;150px\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;150px\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2px\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10px\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#2d333b\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border\u0026lt;/span\u0026gt;: solid \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10px\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#20262e\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: inline-flex;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;flex-direction\u0026lt;/span\u0026gt;: column;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.space\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;flex-basis\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;flex-grow\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;flex-shrink\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;    \n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;flex-basis\u0026lt;/span\u0026gt;: auto;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;flex-grow\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;flex-shrink\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#20262e\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10px\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;width\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;text-align\u0026lt;/span\u0026gt;: left;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;color\u0026lt;/span\u0026gt;: white;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.box\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.space\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;flex-grow\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;flex-shrink\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n}\n  \n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.box\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;flex-grow\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;flex-shrink\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;    \n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;box\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;space\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    Super Metroid Prime Fusion\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;box\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;space\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    Resident Evil 2 Remake\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;box\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;space\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    Yolo The Game\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;box\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;space\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    Final Fantasy 7 Remake + All Additional DLC + Golden Tophat\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;box\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;space\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    DerpVille\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif16\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://jsfiddle.net/leecomstock/qupgk4p6/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;JS Fiddle\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;One sentence solution: \u0026lt;strong\u0026gt;Use padding transition\u0026lt;/strong\u0026gt;. It\u0026apos;s enough for most of cases such as accordion, and even better because it\u0026apos;s fast due to that the padding value is often not big.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you want the animation process to be better, just raise the padding value.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.parent\u0026lt;/span\u0026gt;{ \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border-top\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#999\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1px\u0026lt;/span\u0026gt; solid;}\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;h1\u0026lt;/span\u0026gt;{ \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin\u0026lt;/span\u0026gt;: .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5rem\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;font-size\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.3rem\u0026lt;/span\u0026gt;}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.children\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#dedede\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: padding .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2s\u0026lt;/span\u0026gt; ease-in-out, opacity .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2s\u0026lt;/span\u0026gt; ease-in-out;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5rem\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.children\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;::before\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.children\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;::after\u0026lt;/span\u0026gt;{ \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;content\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;;\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: block;}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.children\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;::before\u0026lt;/span\u0026gt;{ \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin-top\u0026lt;/span\u0026gt;: -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2rem\u0026lt;/span\u0026gt;;}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.children\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;::after\u0026lt;/span\u0026gt;{ \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin-bottom\u0026lt;/span\u0026gt;: -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2rem\u0026lt;/span\u0026gt;;}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.parent\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.children\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: auto;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.5rem\u0026lt;/span\u0026gt; .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5rem\u0026lt;/span\u0026gt;;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* 0.5 + abs(-2), make sure it\u0026apos;s less than expected min-height */\u0026lt;/span\u0026gt;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;parent\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h1\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Hover me\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h1\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;children\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;parent\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h1\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Hover me(long content)\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h1\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;children\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;parent\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h1\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Hover me(short content)\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h1\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;children\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif17\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Expanding on @jake\u0026apos;s answer, the transition will go all the way to the max height value, causing an extremely fast animation - if you set the transitions for both :hover and off you can then control the crazy speed a little bit more.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So the li:hover is when the mouse enters the state and then the transition on the non-hovered property will be the mouse leave.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Hopefully this will be of some help.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;e.g: \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.sidemenu\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; {\n   \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0px\u0026lt;/span\u0026gt;;\n   -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3s\u0026lt;/span\u0026gt; ease;\n   -moz-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3s\u0026lt;/span\u0026gt; ease;\n   -o-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3s\u0026lt;/span\u0026gt; ease;\n   -ms-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3s\u0026lt;/span\u0026gt; ease;\n   \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3s\u0026lt;/span\u0026gt; ease;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.sidemenu\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;500px\u0026lt;/span\u0026gt;;\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease;\n   -moz-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease;\n   -o-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease;\n   -ms-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease;\n   \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease;\n}\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* Adjust speeds to the possible height of the list */\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Here\u0026apos;s a fiddle: \u0026lt;a href=\u0026quot;http://jsfiddle.net/BukwJ/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://jsfiddle.net/BukwJ/\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This solution uses a few techniques:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;padding-bottom:100%\u0026lt;/code\u0026gt; \u0026apos;hack\u0026apos; where percentages are defined in terms of the current width of the element. \u0026lt;a href=\u0026quot;https://spin.atomicobject.com/2015/07/14/css-responsive-square/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;More info on this technique.\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;float shrink-wrapping, (necessitating an extra div to apply the float clearing hack)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;non-semantic use of \u0026lt;a href=\u0026quot;https://caniuse.com/#feat=css-writing-mode\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://caniuse.com/#feat=css-writing-mode\u0026lt;/a\u0026gt; and some transformations to undo it (this allows use of the padding hack above in a vertical context)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;The upshot though is that we get performant transitioning using CSS only, and a single transition function to smoothly achieve the transition; the holy grail!\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Of course, there\u0026apos;s a downside! I can\u0026apos;t work out how to control the width at which content gets cut off (\u0026lt;code\u0026gt;overflow:hidden\u0026lt;/code\u0026gt;); because of the padding-bottom hack, the width and height are intimately related. There may be a way though, so will come back to it.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://jsfiddle.net/EoghanM/n1rp3zb4/28/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://jsfiddle.net/EoghanM/n1rp3zb4/28/\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;false\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;body\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1em\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.trigger\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;font-weight\u0026lt;/span\u0026gt;: bold;\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* .expander is there for float clearing purposes only */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.expander\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;::after\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;content\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: table;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;clear\u0026lt;/span\u0026gt;: both;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.outer\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;float\u0026lt;/span\u0026gt;: left; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* purpose: shrink to fit content */\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1px\u0026lt;/span\u0026gt; solid green;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.inner\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: padding-bottom \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3s\u0026lt;/span\u0026gt; ease-in-out;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* or whatever crazy transition function you can come up with! */\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding-bottom\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt;;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* percentage padding is defined in terms of width. The width at this level is equal to the height of the content */\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* unfortunately, change of writing mode has other bad effects like orientation of cursor */\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;writing-mode\u0026lt;/span\u0026gt;: vertical-rl;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;cursor\u0026lt;/span\u0026gt;: default; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* don\u0026apos;t want the vertical-text (sideways I-beam) */\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;rotate\u0026lt;/span\u0026gt;(-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;90deg\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;translateX\u0026lt;/span\u0026gt;(-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;);  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* undo writing mode */\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform-origin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* left/right margins here will add to height */\u0026lt;/span\u0026gt;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.inner\u0026lt;/span\u0026gt; \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;white-space\u0026lt;/span\u0026gt;: nowrap; }\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.expander\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.inner\u0026lt;/span\u0026gt;,  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* to keep open when expanded */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.trigger\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.expander\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.inner\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding-bottom\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;trigger\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;HoverMe\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;expander\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;outer\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;inner\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;First Item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Content\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Content\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Content\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Long Content can\u0026apos;t be wider than outer height unfortunately\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Last Item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  after content\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif18\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I\u0026apos;ve recently been transitioning the \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; on the \u0026lt;code\u0026gt;li\u0026lt;/code\u0026gt; elements rather than the wrapping \u0026lt;code\u0026gt;ul\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The reasoning is that the delay for small \u0026lt;code\u0026gt;max-heights\u0026lt;/code\u0026gt; is far less noticeable (if at all) compared to large \u0026lt;code\u0026gt;max-heights\u0026lt;/code\u0026gt;, and I can also set my \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; value relative to the \u0026lt;code\u0026gt;font-size\u0026lt;/code\u0026gt; of the \u0026lt;code\u0026gt;li\u0026lt;/code\u0026gt; rather than some arbitrary huge number by using \u0026lt;code\u0026gt;ems\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;rems\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If my font size is \u0026lt;code\u0026gt;1rem\u0026lt;/code\u0026gt;, I\u0026apos;ll set my \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; to something like \u0026lt;code\u0026gt;3rem\u0026lt;/code\u0026gt; (to accommodate wrapped text). You can see an example here:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://codepen.io/mindfullsilence/pen/DtzjE\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;http://codepen.io/mindfullsilence/pen/DtzjE\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You could do this by creating a reverse (collapse) animation with clip-path.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;false\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#child0\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: none;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#parent0\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#child0\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: block;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation\u0026lt;/span\u0026gt;: height-animation;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation-duration\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;200ms\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation-timing-function\u0026lt;/span\u0026gt;: linear;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation-fill-mode\u0026lt;/span\u0026gt;: backwards;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation-iteration-count\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation-delay\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;200ms\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@keyframes\u0026lt;/span\u0026gt; height-animation {\n    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;clip-path\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;polygon\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.00%\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt;);\n    }\n    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;clip-path\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;polygon\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.00%\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;);\n    }\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;parent0\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h1\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Hover me (height: 0)\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h1\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;child0\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif19\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I understand the question asks for a solution without JavaScript. But for those interested here\u0026apos;s my solution using just a little bit of JS.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;ok, so the element\u0026apos;s css whose height will change by default is set to \u0026lt;code\u0026gt;height: 0;\u0026lt;/code\u0026gt; and when open \u0026lt;code\u0026gt;height: auto;\u0026lt;/code\u0026gt;. It also has \u0026lt;code\u0026gt;transition: height .25s ease-out;\u0026lt;/code\u0026gt;. But of course the problem is that it won\u0026apos;t transition to or from \u0026lt;code\u0026gt;height: auto;\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;So what i\u0026apos;ve done is when opening or closing set the height to the \u0026lt;code\u0026gt;scrollHeight\u0026lt;/code\u0026gt; property of the element. This new inline style will have higher specificity and override both \u0026lt;code\u0026gt;height: auto;\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;height: 0;\u0026lt;/code\u0026gt; and the transition runs.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;When opening i add a \u0026lt;code\u0026gt;transitionend\u0026lt;/code\u0026gt; event listener which will run just once then remove the inline style setting it back to \u0026lt;code\u0026gt;height: auto;\u0026lt;/code\u0026gt; which will allow the element to resize if necessary, as in this more complex example with sub menus \u0026lt;a href=\u0026quot;https://codepen.io/ninjabonsai/pen/GzYyVe\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://codepen.io/ninjabonsai/pen/GzYyVe\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;When closing i remove the inline style right after the next \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;event loop\u0026lt;/a\u0026gt; cycle by using setTimeout with no delay. This means \u0026lt;code\u0026gt;height: auto;\u0026lt;/code\u0026gt; is temporarily overridden which allows the transition back to \u0026lt;code\u0026gt;height 0;\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;false\u0026quot; data-babel=\u0026quot;true\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;showHideElement\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;element, open\u0026lt;/span\u0026gt;) =\u0026amp;gt; {\n  element.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt; = element.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;scrollHeight\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;px\u0026apos;\u0026lt;/span\u0026gt;;\n  element.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;classList\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toggle\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;open\u0026apos;\u0026lt;/span\u0026gt;, open);\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (open) {\n    element.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;addEventListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;transitionend\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;() =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n      element.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;removeProperty\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;height\u0026apos;\u0026lt;/span\u0026gt;);\n    }, {\n      \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;once\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;\n    });\n  } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;setTimeout\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;() =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n      element.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;removeProperty\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;height\u0026apos;\u0026lt;/span\u0026gt;);\n    });\n  }\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; menu = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;body\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;querySelector\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;#menu\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; list = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;body\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;querySelector\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;#menu \u0026amp;gt; ul\u0026apos;\u0026lt;/span\u0026gt;)\n\nmenu.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;addEventListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mouseenter\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;() =\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;showHideElement\u0026lt;/span\u0026gt;(list, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;));\nmenu.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;addEventListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mouseleave\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;() =\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;showHideElement\u0026lt;/span\u0026gt;(list, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;));\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#menu\u0026lt;/span\u0026gt; \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#999\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25s\u0026lt;/span\u0026gt; ease-out;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#menu\u0026lt;/span\u0026gt; \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.open\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: auto;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;menu\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;hover me\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;item\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif20\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here\u0026apos;s a way to transition from any starting height, including 0, to auto (full size and flexible) without requiring hard-set code on a per-node basis or any user-code to initialize: \u0026lt;a href=\u0026quot;https://github.com/csuwildcat/transition-auto\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;https://github.com/csuwildcat/transition-auto\u0026lt;/a\u0026gt;. This is basically the holy grail for what you want, I believe --\u0026amp;gt; \u0026lt;a href=\u0026quot;http://codepen.io/csuwldcat/pen/kwsdF\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;http://codepen.io/csuwldcat/pen/kwsdF\u0026lt;/a\u0026gt;. Just slap the following JS file into your page, and all you need to do after that is add/remove a single boolean attribute - \u0026lt;code\u0026gt;reveal=\u0026quot;\u0026quot;\u0026lt;/code\u0026gt; - from the nodes you want to expand and contract.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Here\u0026apos;s all you need to do as the user, once you include the code block found below the example code:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;/*** Nothing out of the ordinary in your styles ***/\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;language-css\u0026quot;\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n        \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;;\n    }\n\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n/*** Just add and remove one attribute and transition to/from auto! ***/\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    I have tons of content and I am 0px in height you can\u0026apos;t see me...\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;reveal\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n     I have tons of content and I am 0px in height you can\u0026apos;t see me...\n     but now that you added the \u0026apos;reveal\u0026apos; attribute, \n     I magically transitioned to full height!...\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Here\u0026apos;s the code block to include in your page, after that, it\u0026apos;s all gravy:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Drop this JS file in your page - it all Just Works\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;/\u0026lt;strong\u0026gt;* Code for height: auto; transitioning *\u0026lt;/strong\u0026gt;/\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scheme\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;doc\u0026lt;/span\u0026gt;){\n\n/* feature detection for browsers that report different values for scrollHeight when an element\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;s\u0026lt;/span\u0026gt; overflow is hidden vs visible (\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;Firefox\u0026lt;/span\u0026gt;, IE) */\nvar test = doc.documentElement.appendChild(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;doc.createElement\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;x-reveal-test\u0026lt;/span\u0026gt;\u0026apos;))\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n    test.innerHTML = \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;-\u0026lt;/span\u0026gt;\u0026apos;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n    test.style.cssText = \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;display:\u0026lt;/span\u0026gt; block !important\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;; height: 0px !important; padding: 0px !important; font-size: 0px !important; border-width: 0px !important; line-height: 1px !important; overflow: hidden !important;\u0026apos;;\u0026lt;/span\u0026gt;\nvar scroll = test.scrollHeight || \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\ndoc.documentElement.removeChild(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;test\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n\nvar loading = true,\n    numReg = /^([\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;0-9\u0026lt;/span\u0026gt;]*\\.?[\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;0-9\u0026lt;/span\u0026gt;]*)(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;.*\u0026lt;/span\u0026gt;)/,\n    skipFrame = function(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;fn\u0026lt;/span\u0026gt;){\n      requestAnimationFrame(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(){\n        requestAnimationFrame(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;fn\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n      })\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n    },\n    /* \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; out of \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt; uses of this function are purely to work around Chrome\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;s\u0026lt;/span\u0026gt; catastrophically busted implementation of auto value CSS transitioning */\n    revealFrame = function(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;el\u0026lt;/span\u0026gt;, state, height){\n        el.setAttribute(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;reveal-transition\u0026lt;/span\u0026gt;\u0026apos;, \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;frame\u0026lt;/span\u0026gt;\u0026apos;)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n        el.style.height = height\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n        skipFrame(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(){\n            el.setAttribute(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;reveal-transition\u0026lt;/span\u0026gt;\u0026apos;, state)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n            el.style.height = \u0026apos;\u0026apos;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n        })\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n    },\n    transitionend = function(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;e\u0026lt;/span\u0026gt;){\n      var node = e.target\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n      if (\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;node.hasAttribute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;reveal\u0026lt;/span\u0026gt;\u0026apos;)) {\n        if (\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;node.getAttribute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;reveal-transition\u0026lt;/span\u0026gt;\u0026apos;) == \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;running\u0026lt;/span\u0026gt;\u0026apos;) revealFrame(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;node\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;complete\u0026lt;/span\u0026gt;\u0026apos;, \u0026apos;\u0026apos;)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n      } \n      else {\n        node.removeAttribute(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;reveal-transition\u0026lt;/span\u0026gt;\u0026apos;)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n        node.style.height = \u0026apos;\u0026apos;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n      }\n    },\n    animationstart = function(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;e\u0026lt;/span\u0026gt;){\n      var node = e.target,\n          name = e.animationName\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;   \u0026lt;/span\u0026gt;\n      if (\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt; == \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;reveal\u0026lt;/span\u0026gt;\u0026apos; || name == \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;unreveal\u0026lt;/span\u0026gt;\u0026apos;) {\n\n        if (\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;loading\u0026lt;/span\u0026gt;) return revealFrame(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;node\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;complete\u0026lt;/span\u0026gt;\u0026apos;, \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;auto\u0026lt;/span\u0026gt;\u0026apos;)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n\n        var style = getComputedStyle(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;node\u0026lt;/span\u0026gt;),\n            offset = (\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;style.paddingTop.match\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;numReg\u0026lt;/span\u0026gt;)[\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;])) +\n                     (\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;style.paddingBottom.match\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;numReg\u0026lt;/span\u0026gt;)[\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;])) +\n                     (\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;style.borderTopWidth.match\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;numReg\u0026lt;/span\u0026gt;)[\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;])) +\n                     (\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;style.borderBottomWidth.match\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;numReg\u0026lt;/span\u0026gt;)[\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;]))\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n\n        if (\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt; == \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;reveal\u0026lt;/span\u0026gt;\u0026apos;){\n          node.setAttribute(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;reveal-transition\u0026lt;/span\u0026gt;\u0026apos;, \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;running\u0026lt;/span\u0026gt;\u0026apos;)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n          node.style.height = node.scrollHeight - (\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;offset\u0026lt;/span\u0026gt; / scroll) + \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;px\u0026lt;/span\u0026gt;\u0026apos;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n        }\n        else {\n            if (\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;node.getAttribute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;reveal-transition\u0026lt;/span\u0026gt;\u0026apos;) == \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;running\u0026lt;/span\u0026gt;\u0026apos;) node.style.height = \u0026apos;\u0026apos;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n            else revealFrame(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;node\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;running\u0026lt;/span\u0026gt;\u0026apos;, node.scrollHeight - offset + \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;px\u0026lt;/span\u0026gt;\u0026apos;)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n        }\n      }\n    }\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n\ndoc.addEventListener(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;animationstart\u0026lt;/span\u0026gt;\u0026apos;, animationstart, false)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\ndoc.addEventListener(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;MSAnimationStart\u0026lt;/span\u0026gt;\u0026apos;, animationstart, false)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\ndoc.addEventListener(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;webkitAnimationStart\u0026lt;/span\u0026gt;\u0026apos;, animationstart, false)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\ndoc.addEventListener(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;transitionend\u0026lt;/span\u0026gt;\u0026apos;, transitionend, false)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\ndoc.addEventListener(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;MSTransitionEnd\u0026lt;/span\u0026gt;\u0026apos;, transitionend, false)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\ndoc.addEventListener(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;webkitTransitionEnd\u0026lt;/span\u0026gt;\u0026apos;, transitionend, false)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n\n/*\n    Batshit readyState/DOMContentLoaded code to dance around Webkit/Chrome animation auto-run weirdness on initial page load.\n    If they fixed their code, you could just check for if(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;doc.readyState\u0026lt;/span\u0026gt; != \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;complete\u0026lt;/span\u0026gt;\u0026apos;) in animationstart\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;s\u0026lt;/span\u0026gt; if(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;loading\u0026lt;/span\u0026gt;) check\n*/\nif (\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;document.readyState\u0026lt;/span\u0026gt; == \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;complete\u0026lt;/span\u0026gt;\u0026apos;) {\n    skipFrame(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(){\n        loading = false\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n    })\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n}\nelse document.addEventListener(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;DOMContentLoaded\u0026lt;/span\u0026gt;\u0026apos;, function(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;e\u0026lt;/span\u0026gt;){\n    skipFrame(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(){\n        loading = false\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n    })\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n}, false)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n\n/* Styles that allow for \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;reveal\u0026lt;/span\u0026gt;\u0026apos; attribute triggers */\nvar styles = doc.createElement(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;style\u0026lt;/span\u0026gt;\u0026apos;),\n    t = \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;transition:\u0026lt;/span\u0026gt; none\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;; \u0026apos;,\u0026lt;/span\u0026gt;\n    au = \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;animation:\u0026lt;/span\u0026gt; reveal \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.001\u0026lt;/span\u0026gt;s\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;; \u0026apos;,\u0026lt;/span\u0026gt;\n    ar = \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;animation:\u0026lt;/span\u0026gt; unreveal \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.001\u0026lt;/span\u0026gt;s\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;; \u0026apos;,\u0026lt;/span\u0026gt;\n    clip = \u0026apos; { from { opacity: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;; } to { opacity: 1; } }\u0026apos;,\u0026lt;/span\u0026gt;\n    r = \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;keyframes\u0026lt;/span\u0026gt; reveal\u0026apos; + clip,\n    u = \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;keyframes\u0026lt;/span\u0026gt; unreveal\u0026apos; + clip\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n\nstyles.textContent = \u0026apos;[\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;reveal\u0026lt;/span\u0026gt;] { -ms-\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;+\u0026lt;/span\u0026gt; au + \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;-webkit-\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;+\u0026lt;/span\u0026gt; au +\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;-moz-\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;+\u0026lt;/span\u0026gt; au + au +\u0026apos;}\u0026apos; +\n    \u0026apos;[\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;reveal-transition=\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;frame\u0026quot;\u0026lt;/span\u0026gt;] { -ms-\u0026apos; + t + \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;-webkit-\u0026lt;/span\u0026gt;\u0026apos; + t + \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;-moz-\u0026lt;/span\u0026gt;\u0026apos; + t + t + \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;height:\u0026lt;/span\u0026gt; auto\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;; }\u0026apos; +\u0026lt;/span\u0026gt;\n    \u0026apos;[\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;reveal-transition=\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;complete\u0026quot;\u0026lt;/span\u0026gt;] { height: auto\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;; }\u0026apos; +\u0026lt;/span\u0026gt;\n    \u0026apos;[\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;reveal-transition\u0026lt;/span\u0026gt;]:not([\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;reveal\u0026lt;/span\u0026gt;]) { -webkit-\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;+\u0026lt;/span\u0026gt; ar +\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;-moz-\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;+\u0026lt;/span\u0026gt; ar + ar +\u0026apos;}\u0026apos; +\n    \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;@-ms-\u0026lt;/span\u0026gt;\u0026apos; + r + \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;@-webkit-\u0026lt;/span\u0026gt;\u0026apos; + r + \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;@-moz-\u0026lt;/span\u0026gt;\u0026apos; + r + r +\n    \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;@-ms-\u0026lt;/span\u0026gt;\u0026apos; + u +\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;@-webkit-\u0026lt;/span\u0026gt;\u0026apos; + u + \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;@-moz-\u0026lt;/span\u0026gt;\u0026apos; + u + u\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n\ndoc.querySelector(\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026apos;head\u0026lt;/span\u0026gt;\u0026apos;).appendChild(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;styles\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n\n})(\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;/\u0026lt;strong\u0026gt;* Code for DEMO *\u0026lt;/strong\u0026gt;/\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-lua\u0026quot;\u0026gt;    document.addEventListener(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;click\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(e)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;{\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (e.target.nodeName == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;BUTTON\u0026apos;\u0026lt;/span\u0026gt;) {\n        var \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt; = e.target.nextElementSibling;\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;.hasAttribute(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;reveal\u0026apos;\u0026lt;/span\u0026gt;) ? \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;.removeAttribute(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;reveal\u0026apos;\u0026lt;/span\u0026gt;) : \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;.setAttribute(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;reveal\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;);\n      }\n    }, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;I think I came up with a really solid solution\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;OK! I know this problem is as old as the internet but I think I have a solution which I turned into a \u0026lt;a href=\u0026quot;https://github.com/jontroncoso/mutant-transition\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;plugin called mutant-transition\u0026lt;/a\u0026gt;. My solution sets the \u0026lt;code\u0026gt;style=\u0026quot;\u0026quot;\u0026lt;/code\u0026gt; attributes for tracked elements whenever theres a change in the DOM. the end result is that you can use good ole CSS for your transitions and not use hacky fixes or special javascript. The only thing you have to do is set what you want to track on the element in question using \u0026lt;code\u0026gt;data-mutant-attributes=\u0026quot;X\u0026quot;\u0026lt;/code\u0026gt;. \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026amp;lt;div data-mutant-attributes=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;height\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;                                                                      \n        This \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; an example \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;with\u0026lt;/span\u0026gt; mutant-transition                                                                                                          \n    \u0026amp;lt;/div\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Thats it! This solution uses \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;MutationObserver\u0026lt;/a\u0026gt; to follow changes in the DOM. Because of this, you don\u0026apos;t really have to set anything up or use javascript to manually animate things. Changes are tracked automatically. However, because it uses MutationObserver, this will only transition in IE11+. \n\n\u0026lt;/p\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Fiddles!\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://jsfiddle.net/zfwrt1d8/5/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Demonstrating transitioning from \u0026lt;code\u0026gt;height: auto\u0026lt;/code\u0026gt; to \u0026lt;code\u0026gt;height: 100%\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://jsfiddle.net/7vj3n5nf/3/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Demonstrating transitioning \u0026lt;code\u0026gt;height: auto\u0026lt;/code\u0026gt; when adding children\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Jake\u0026apos;s answer to animate the max-height is great, but I found the delay caused by setting a large max-height annoying.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;One could move the collapsable content into an inner div and calculate the max height by getting the height of the inner div (via JQuery it\u0026apos;d be the outerHeight()).\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;$(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;button\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;bind\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;click\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;e\u0026lt;/span\u0026gt;) { \n  e.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;preventDefault\u0026lt;/span\u0026gt;();\n  w = $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;#outer\u0026apos;\u0026lt;/span\u0026gt;);\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (w.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hasClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;collapsed\u0026apos;\u0026lt;/span\u0026gt;)) {\n    w.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;css\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;max-height\u0026quot;\u0026lt;/span\u0026gt;: $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;#inner\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;outerHeight\u0026lt;/span\u0026gt;() + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;px\u0026apos;\u0026lt;/span\u0026gt; });\n  } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n    w.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;css\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;max-height\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;0px\u0026quot;\u0026lt;/span\u0026gt; });\n  }\n  w.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toggleClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;collapsed\u0026apos;\u0026lt;/span\u0026gt;);\n});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Here\u0026apos;s a jsfiddle link: \u0026lt;a href=\u0026quot;http://jsfiddle.net/pbatey/duZpT\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;http://jsfiddle.net/pbatey/duZpT\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Here\u0026apos;s a jsfiddle with the absolute minimal amount of code required: \u0026lt;a href=\u0026quot;http://jsfiddle.net/8ncjjxh8/\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;http://jsfiddle.net/8ncjjxh8/\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I was able to do this. I have a \u0026lt;code\u0026gt;.child\u0026lt;/code\u0026gt; \u0026amp;amp; a \u0026lt;code\u0026gt;.parent\u0026lt;/code\u0026gt; div. The child div fits perfectly within the parent\u0026apos;s width/height with \u0026lt;code\u0026gt;absolute\u0026lt;/code\u0026gt; positioning. I then animate the \u0026lt;code\u0026gt;translate\u0026lt;/code\u0026gt; property to push it\u0026apos;s \u0026lt;code\u0026gt;Y\u0026lt;/code\u0026gt; value down \u0026lt;code\u0026gt;100%\u0026lt;/code\u0026gt;. Its very smooth animation, no glitches or down sides like any other solution here.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Something like this, pseudo code\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.parent\u0026lt;/span\u0026gt;{ \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;position\u0026lt;/span\u0026gt;:relative; \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;:hidden; } \n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/** shown state */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.child\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;position\u0026lt;/span\u0026gt;:absolute;\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;top\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:left\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;right\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;bottom\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: transform @overlay-animation-duration ease-in-out;\n  \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.translate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/** Animate to hidden by sliding down: */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.child\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.slidedown\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.translate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/** Translate the element \u0026quot;out\u0026quot; the bottom of it\u0026apos;s .scene container \u0026quot;mask\u0026quot; so its hidden */\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You would specify a \u0026lt;code\u0026gt;height\u0026lt;/code\u0026gt; on \u0026lt;code\u0026gt;.parent\u0026lt;/code\u0026gt;, in \u0026lt;code\u0026gt;px\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;%\u0026lt;/code\u0026gt;, or leave as \u0026lt;code\u0026gt;auto\u0026lt;/code\u0026gt;. This div then masks out the \u0026lt;code\u0026gt;.child\u0026lt;/code\u0026gt; div when it slides down.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Alternate CSS-only solution with \u0026lt;code\u0026gt;line-height\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;padding\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;opacity\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;margin\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;false\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;body\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: linen;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: white;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-attr\u0026quot;\u0026gt;[id^=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle_\u0026quot;\u0026lt;/span\u0026gt;]\u0026lt;/span\u0026gt; ~ \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.content\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;line-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5rem\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2s\u0026lt;/span\u0026gt; ease-out;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-attr\u0026quot;\u0026gt;[id^=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle_\u0026quot;\u0026lt;/span\u0026gt;]\u0026lt;/span\u0026gt; ~ \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.content\u0026lt;/span\u0026gt; \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2s\u0026lt;/span\u0026gt; ease-out;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-attr\u0026quot;\u0026gt;[id^=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle_\u0026quot;\u0026lt;/span\u0026gt;]\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:checked\u0026lt;/span\u0026gt; ~ \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.content\u0026lt;/span\u0026gt;   {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5rem\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;line-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.5\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-attr\u0026quot;\u0026gt;[id^=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle_\u0026quot;\u0026lt;/span\u0026gt;]\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:checked\u0026lt;/span\u0026gt; ~ \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.content\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;  {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin-bottom\u0026lt;/span\u0026gt;: .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;75rem\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-attr\u0026quot;\u0026gt;[id^=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle_\u0026quot;\u0026lt;/span\u0026gt;]\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;label\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: flex;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;justify-content\u0026lt;/span\u0026gt;: space-between;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5em\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1em\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background\u0026lt;/span\u0026gt;: lightsteelblue;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border-bottom\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1px\u0026lt;/span\u0026gt; solid gray;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;cursor\u0026lt;/span\u0026gt;: pointer;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-attr\u0026quot;\u0026gt;[id^=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle_\u0026quot;\u0026lt;/span\u0026gt;]\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;label\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:before\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;content\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Show\u0026quot;\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-attr\u0026quot;\u0026gt;[id^=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle_\u0026quot;\u0026lt;/span\u0026gt;]\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:checked\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;label\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:before\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;content\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Hide\u0026quot;\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-attr\u0026quot;\u0026gt;[id^=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle_\u0026quot;\u0026lt;/span\u0026gt;]\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;label\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:after\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;content\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\\25BC\u0026quot;\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-attr\u0026quot;\u0026gt;[id^=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle_\u0026quot;\u0026lt;/span\u0026gt;]\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:checked\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;label\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:after\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;content\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\\25B2\u0026quot;\u0026lt;/span\u0026gt;;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;checkbox\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle_1\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;hidden\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;label\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle_1\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;hidden\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;label\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;content\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis dolor neque, commodo quis leo ut, auctor tincidunt mauris. Nunc fringilla tincidunt metus, non gravida lorem condimentum non. Duis ornare purus nisl, at porta arcu eleifend eget. Integer lorem ante, porta vulputate dui ut, blandit tempor tellus. Proin facilisis bibendum diam, sit amet rutrum est feugiat ut. Mauris rhoncus convallis arcu in condimentum. Donec volutpat dui eu mollis vulputate. Nunc commodo lobortis nunc at ultrices. Suspendisse in lobortis diam. Suspendisse eget vestibulum ex.\n            \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;checkbox\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle_2\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;hidden\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;label\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle_2\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;hidden\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;label\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;content\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n                Maecenas laoreet nunc sit amet nulla ultrices auctor. Vivamus sed nisi vitae nibh condimentum pulvinar eu vel lorem. Sed pretium viverra eros ut facilisis. In ut fringilla magna. Sed a tempor libero. Donec sapien libero, lacinia sed aliquet ut, imperdiet finibus tellus. Nunc tellus lectus, rhoncus in posuere quis, tempus sit amet enim. Morbi et erat ac velit fringilla dignissim. Donec commodo, est id accumsan cursus, diam dui hendrerit nisi, vel hendrerit purus dolor ut risus. Phasellus mattis egestas ipsum sed ullamcorper. In diam ligula, rhoncus vel enim et, imperdiet porta justo. Curabitur vulputate hendrerit nisl, et ultricies diam. Maecenas ac leo a diam cursus ornare nec eu quam.\n            \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Sed non vulputate purus, sed consectetur odio. Sed non nibh fringilla, imperdiet odio nec, efficitur ex. Suspendisse ut dignissim enim. Maecenas felis augue, tempor sit amet sem fringilla, accumsan fringilla nibh. Quisque posuere lacus tortor, quis malesuada magna elementum a. Nullam id purus in ante molestie tincidunt. Morbi luctus orci eu egestas dignissim. Sed tincidunt, libero quis scelerisque bibendum, ligula nisi gravida libero, id lacinia nulla leo in elit.\n            \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Aenean aliquam risus id consectetur sagittis. Aliquam aliquam nisl eu augue accumsan, vel maximus lorem viverra. Aliquam ipsum dolor, tempor et justo ac, fermentum mattis dui. Etiam at posuere ligula. Vestibulum tortor metus, viverra vitae mi non, laoreet iaculis purus. Praesent vel semper nibh. Curabitur a congue lacus. In et pellentesque lorem. Morbi posuere felis non diam vulputate, non vulputate ex vehicula. Vivamus ultricies, massa id sagittis consequat, sem mauris tincidunt nunc, eu vehicula augue quam ut mauris.\n            \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;checkbox\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle_3\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;hidden\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;label\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggle_3\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;hidden\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;label\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;content\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis dolor neque, commodo quis leo ut, auctor tincidunt mauris. Nunc fringilla tincidunt metus, non gravida lorem condimentum non. Duis ornare purus nisl, at porta arcu eleifend eget. Integer lorem ante, porta vulputate dui ut, blandit tempor tellus. Proin facilisis bibendum diam, sit amet rutrum est feugiat ut. Mauris rhoncus convallis arcu in condimentum. Donec volutpat dui eu mollis vulputate. Nunc commodo lobortis nunc at ultrices. Suspendisse in lobortis diam. Suspendisse eget vestibulum ex.\n            \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Sed non vulputate purus, sed consectetur odio. Sed non nibh fringilla, imperdiet odio nec, efficitur ex. Suspendisse ut dignissim enim. Maecenas felis augue, tempor sit amet sem fringilla, accumsan fringilla nibh. Quisque posuere lacus tortor, quis malesuada magna elementum a. Nullam id purus in ante molestie tincidunt. Morbi luctus orci eu egestas dignissim. Sed tincidunt, libero quis scelerisque bibendum, ligula nisi gravida libero, id lacinia nulla leo in elit.\n            \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif21\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I realize this thread is getting old, but it ranks high on certain Google searches so I figure it\u0026apos;s worth updating.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You also just get/set the element\u0026apos;s own height:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; load_height = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getElementById\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;target_box\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;clientHeight\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getElementById\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;target_box\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt; = load_height + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;px\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You should dump this Javascript immediately after target_box\u0026apos;s closing tag in an inline script tag.\u0026lt;/p\u0026gt;\n    "],"id":453,"title":"How can I transition height: 0; to height: auto; using CSS?","content":"\n                \n\u0026lt;p\u0026gt;I am trying to make a \u0026lt;code\u0026gt;\u0026amp;lt;ul\u0026amp;gt;\u0026lt;/code\u0026gt; slide down using CSS transitions.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The \u0026lt;code\u0026gt;\u0026amp;lt;ul\u0026amp;gt;\u0026lt;/code\u0026gt; starts off at \u0026lt;code\u0026gt;height: 0;\u0026lt;/code\u0026gt;. On hover, the height is set to \u0026lt;code\u0026gt;height:auto;\u0026lt;/code\u0026gt;. However, this is causing it to simply appear, \u0026lt;em\u0026gt;not\u0026lt;/em\u0026gt; transition,\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If I do it from \u0026lt;code\u0026gt;height: 40px;\u0026lt;/code\u0026gt; to \u0026lt;code\u0026gt;height: auto;\u0026lt;/code\u0026gt;, then it will slide up to \u0026lt;code\u0026gt;height: 0;\u0026lt;/code\u0026gt;, and then suddenly jump to the correct height.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;How else could I do this without using JavaScript?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;false\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#child0\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#dedede\u0026lt;/span\u0026gt;;\n  -moz-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease;\n  -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease;\n  -o-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#parent0\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#child0\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: auto;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#child40\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;40px\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#dedede\u0026lt;/span\u0026gt;;\n  -moz-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease;\n  -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease;\n  -o-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#parent40\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#child40\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: auto;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;h1\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;font-weight\u0026lt;/span\u0026gt;: bold;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;The only difference between the two snippets of CSS is one has height: 0, the other height: 40.\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;hr\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;parent0\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h1\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Hover me (height: 0)\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h1\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;child0\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;hr\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;parent40\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h1\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Hover me (height: 40)\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h1\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;child40\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Some content\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif1\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","slug":"how-can-i-transition-height:-0-to-height:-auto-using-css-1657388022100","postType":"QUESTION","createdAt":"2022-07-09T17:33:42.000Z","updatedAt":"2022-07-09T17:33:42.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"How can I convert ereg expressions to preg in PHP?","slug":"how-can-i-convert-ereg-expressions-to-preg-in-php-1657387652855"},{"title":"How to replace all occurrences of a string in JavaScript","slug":"how-to-replace-all-occurrences-of-a-string-in-javascript-1657384895467"},{"title":"Templated check for the existence of a class member function?","slug":"templated-check-for-the-existence-of-a-class-member-function-1657388363414"},{"title":"Where do I find the current C or C++ standard documents?","slug":"where-do-i-find-the-current-c-or-c++-standard-documents-1657388006897"},{"title":"Unfortunately MyApp has stopped. How can I solve this?","slug":"unfortunately-myapp-has-stopped.-how-can-i-solve-this-1657384402171"},{"title":"Efficiently convert rows to columns in sql server","slug":"efficiently-convert-rows-to-columns-in-sql-server-1657387919213"},{"title":"How do I use shell variables in an awk script?","slug":"how-do-i-use-shell-variables-in-an-awk-script-1657387754261"},{"title":"Converting string into datetime","slug":"converting-string-into-datetime-1657387717295"},{"title":"Reference: mod_rewrite, URL rewriting and \"pretty links\" explained","slug":"reference:-mod_rewrite-url-rewriting-and-\"pretty-links\"-explained-1657384905504"},{"title":"What is the difference between single-quoted and double-quoted strings in PHP?","slug":"what-is-the-difference-between-single-quoted-and-double-quoted-strings-in-php-1657384624345"},{"title":"Secure hash and salt for PHP passwords","slug":"secure-hash-and-salt-for-php-passwords-1657387363258"},{"title":"Generating random whole numbers in JavaScript in a specific range","slug":"generating-random-whole-numbers-in-javascript-in-a-specific-range-1657388112728"},{"title":"Why can't an element with a z-index value cover its child?","slug":"why-can't-an-element-with-a-z-index-value-cover-its-child-1657387707187"},{"title":"How to make a great R reproducible example","slug":"how-to-make-a-great-r-reproducible-example-1657384198173"},{"title":"Scroll to an element with jQuery","slug":"scroll-to-an-element-with-jquery-1657388523178"},{"title":"How do I use arrays in C++?","slug":"how-do-i-use-arrays-in-c++-1657387456118"},{"title":"What is the difference between \"px\", \"dip\", \"dp\" and \"sp\"?","slug":"what-is-the-difference-between-\"px\"-\"dip\"-\"dp\"-and-\"sp\"-1657388093250"},{"title":"What does the comma operator , do?","slug":"what-does-the-comma-operator-do-1657388258021"},{"title":"What is DOM Event delegation?","slug":"what-is-dom-event-delegation-1657387625599"},{"title":"How to get the difference between two arrays in JavaScript?","slug":"how-to-get-the-difference-between-two-arrays-in-javascript-1657388463384"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-can-i-transition-height:-0-to-height:-auto-using-css-1657388022100"},"buildId":"Zo3C7AOWQzKM9qqyzx2hf","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>