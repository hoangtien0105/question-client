<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>Why JSF calls getters multiple times | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="Let&#x27;s say I specify an outputText component like this:

&lt;h:outputText value=&quot;#{ManagedBean.someProperty}&quot;/&gt;


If I print a log message when the getter for someProperty is called and load the page, it is trivial to notice that the getter is being called more than once per request (twice or three times is what happened in my case):

DEBUG 2010-01-18 23:31:40,104 (ManagedBean.java:13) - Getting some property
DEBUG 2010-01-18 23:31:40,104 (ManagedBean.java:13) - Getting some property


If the value of someProperty is expensive to calculate, this can potentially be a problem.

I googled a bit and figured this is a known issue. One workaround was to include a check and see if it had already been calculated:

private String someProperty;

public String getSomeProperty() {
    if (this.someProperty == null) {
        this.someProperty = this.calculatePropertyValue();
    }
    return this.someProperty;
}


The main problem with this is that you get loads of boilerplate code, not to mention private variables that you might not need.

What are the alternatives to this approach? Is there a  way to achieve this without so much unnecessary code? Is there a way to stop JSF from behaving in this way?

Thanks for your input!
    "/><meta property="og:title" content="Why JSF calls getters multiple times | Solutions Checker"/><meta property="og:description" content="Let&#x27;s say I specify an outputText component like this:

&lt;h:outputText value=&quot;#{ManagedBean.someProperty}&quot;/&gt;


If I print a log message when the getter for someProperty is called and load the page, it is trivial to notice that the getter is being called more than once per request (twice or three times is what happened in my case):

DEBUG 2010-01-18 23:31:40,104 (ManagedBean.java:13) - Getting some property
DEBUG 2010-01-18 23:31:40,104 (ManagedBean.java:13) - Getting some property


If the value of someProperty is expensive to calculate, this can potentially be a problem.

I googled a bit and figured this is a known issue. One workaround was to include a check and see if it had already been calculated:

private String someProperty;

public String getSomeProperty() {
    if (this.someProperty == null) {
        this.someProperty = this.calculatePropertyValue();
    }
    return this.someProperty;
}


The main problem with this is that you get loads of boilerplate code, not to mention private variables that you might not need.

What are the alternatives to this approach? Is there a  way to achieve this without so much unnecessary code? Is there a way to stop JSF from behaving in this way?

Thanks for your input!
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"Why JSF calls getters multiple times","text":"Let&apos;s say I specify an outputText component like this:\n\n&lt;h:outputText value=&quot;#{ManagedBean.someProperty}&quot;/&gt;\n\n\nIf I print a log message when the getter for someProperty is called and load the page, it is trivial to notice that the getter is being called more than once per request (twice or three times is what happened in my case):\n\nDEBUG 2010-01-18 23:31:40,104 (ManagedBean.java:13) - Getting some property\nDEBUG 2010-01-18 23:31:40,104 (ManagedBean.java:13) - Getting some property\n\n\nIf the value of someProperty is expensive to calculate, this can potentially be a problem.\n\nI googled a bit and figured this is a known issue. One workaround was to include a check and see if it had already been calculated:\n\nprivate String someProperty;\n\npublic String getSomeProperty() {\n    if (this.someProperty == null) {\n        this.someProperty = this.calculatePropertyValue();\n    }\n    return this.someProperty;\n}\n\n\nThe main problem with this is that you get loads of boilerplate code, not to mention private variables that you might not need.\n\nWhat are the alternatives to this approach? Is there a  way to achieve this without so much unnecessary code? Is there a way to stop JSF from behaving in this way?\n\nThanks for your input!\n    ","answerCount":9,"upVoteCount":500,"suggestedAnswer":[{"text":"This is caused by the nature of deferred expressions #{} (note that &quot;legacy&quot; standard expressions ${} behave exactly the same when Facelets is used instead of JSP). The deferred expression is not immediately evaluated, but created as a ValueExpression object and the getter method behind the expression is executed everytime when the code calls ValueExpression#getValue().\n\nThis will normally be invoked one or two times per JSF request-response cycle, depending on whether the component is an input or output component (learn it here). However, this count can get up (much) higher when used in iterating JSF components (such as &lt;h:dataTable&gt; and &lt;ui:repeat&gt;), or here and there in a boolean expression like the rendered attribute. JSF (specifically, EL) won&apos;t cache the evaluated result of the EL expression at all as it may return different values on each call (for example, when it&apos;s dependent on the currently iterated datatable row). \n\nEvaluating an EL expression and invoking a getter method is a very cheap operation, so you should generally not worry about this at all. However, the story changes when you&apos;re performing expensive DB/business logic in the getter method for some reason. This would be re-executed everytime! \n\nGetter methods in JSF backing beans should be designed that way that they solely return the already-prepared property and nothing more, exactly as per the Javabeans specification. They should not do any expensive DB/business logic at all. For that the bean&apos;s @PostConstruct and/or (action)listener methods should be used. They are executed only once at some point of request-based JSF lifecycle and that&apos;s exactly what you want.\n\nHere is a summary of all different right ways to preset/load a property.\n\npublic class Bean {\n\n    private SomeObject someProperty;\n\n    @PostConstruct\n    public void init() {\n        // In @PostConstruct (will be invoked immediately after construction and dependency/property injection).\n        someProperty = loadSomeProperty();\n    }\n\n    public void onload() {\n        // Or in GET action method (e.g. &lt;f:viewAction action&gt;).\n        someProperty = loadSomeProperty();\n    }           \n\n    public void preRender(ComponentSystemEvent event) {\n        // Or in some SystemEvent method (e.g. &lt;f:event type=&quot;preRenderView&quot;&gt;).\n        someProperty = loadSomeProperty();\n    }           \n\n    public void change(ValueChangeEvent event) {\n        // Or in some FacesEvent method (e.g. &lt;h:inputXxx valueChangeListener&gt;).\n        someProperty = loadSomeProperty();\n    }\n\n    public void ajaxListener(AjaxBehaviorEvent event) {\n        // Or in some BehaviorEvent method (e.g. &lt;f:ajax listener&gt;).\n        someProperty = loadSomeProperty();\n    }\n\n    public void actionListener(ActionEvent event) {\n        // Or in some ActionEvent method (e.g. &lt;h:commandXxx actionListener&gt;).\n        someProperty = loadSomeProperty();\n    }\n\n    public String submit() {\n        // Or in POST action method (e.g. &lt;h:commandXxx action&gt;).\n        someProperty = loadSomeProperty();\n        return &quot;outcome&quot;;\n    }\n\n    public SomeObject getSomeProperty() {\n        // Just keep getter untouched. It isn&apos;t intented to do business logic!\n        return someProperty;\n    }\n\n}\n\n\nNote that you should not use bean&apos;s constructor or initialization block for the job because it may be invoked multiple times if you&apos;re using a bean management framework which uses proxies, such as CDI.\n\nIf there are for you really no other ways, due to some restrictive design requirements, then you should introduce lazy loading inside the getter method. I.e. if the property is null, then load and assign it to the property, else return it.\n\n    public SomeObject getSomeProperty() {\n        // If there are really no other ways, introduce lazy loading.\n        if (someProperty == null) {\n            someProperty = loadSomeProperty();\n        }\n\n        return someProperty;\n    }\n\n\nThis way the expensive DB/business logic won&apos;t unnecessarily be executed on every single getter call. \n\nSee also:\n\n\nWhy is the getter called so many times by the rendered attribute?\nInvoke JSF managed bean action on page load\nHow and when should I load the model from database for h:dataTable\nHow to populate options of h:selectOneMenu from database?\nDisplay dynamic image from database with p:graphicImage and StreamedContent\nDefining and reusing an EL variable in JSF page\nMeasure the render time of a JSF view after a server request\n\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"With JSF 2.0 you can attach a listener to a system event\n\n&lt;h:outputText value=&quot;#{ManagedBean.someProperty}&quot;&gt;\n   &lt;f:event type=&quot;preRenderView&quot; listener=&quot;#{ManagedBean.loadSomeProperty}&quot; /&gt;\n&lt;/h:outputText&gt;\n\n\nAlternatively you can enclose the JSF page in an f:view tag\n\n&lt;f:view&gt;\n   &lt;f:event type=&quot;preRenderView&quot; listener=&quot;#{ManagedBean.loadSomeProperty}&quot; /&gt;\n\n      .. jsf page here...\n\n&lt;f:view&gt;\n\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"I have written an article about how to cache JSF beans getter with Spring AOP.\n\nI create a simple MethodInterceptor which intercepts all methods annotated with a special annotation:\n\npublic class CacheAdvice implements MethodInterceptor {\n\nprivate static Logger logger = LoggerFactory.getLogger(CacheAdvice.class);\n\n@Autowired\nprivate CacheService cacheService;\n\n@Override\npublic Object invoke(MethodInvocation methodInvocation) throws Throwable {\n\n    String key = methodInvocation.getThis() + methodInvocation.getMethod().getName();\n\n    String thread = Thread.currentThread().getName();\n\n    Object cachedValue = cacheService.getData(thread , key);\n\n    if (cachedValue == null){\n        cachedValue = methodInvocation.proceed();\n        cacheService.cacheData(thread , key , cachedValue);\n        logger.debug(&quot;Cache miss &quot; + thread + &quot; &quot; + key);\n    }\n    else{\n        logger.debug(&quot;Cached hit &quot; + thread + &quot; &quot; + key);\n    }\n    return cachedValue;\n}\n\n\npublic CacheService getCacheService() {\n    return cacheService;\n}\npublic void setCacheService(CacheService cacheService) {\n    this.cacheService = cacheService;\n}\n\n}\n\n\nThis interceptor is used in a spring configuration file:\n\n    &lt;bean id=&quot;advisor&quot; class=&quot;org.springframework.aop.support.DefaultPointcutAdvisor&quot;&gt;\n    &lt;property name=&quot;pointcut&quot;&gt;\n        &lt;bean class=&quot;org.springframework.aop.support.annotation.AnnotationMatchingPointcut&quot;&gt;\n            &lt;constructor-arg index=&quot;0&quot;  name=&quot;classAnnotationType&quot; type=&quot;java.lang.Class&quot;&gt;\n                &lt;null/&gt;\n            &lt;/constructor-arg&gt;\n            &lt;constructor-arg index=&quot;1&quot; value=&quot;com._4dconcept.docAdvance.jsfCache.annotation.Cacheable&quot; name=&quot;methodAnnotationType&quot; type=&quot;java.lang.Class&quot;/&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;advice&quot;&gt;\n        &lt;bean class=&quot;com._4dconcept.docAdvance.jsfCache.CacheAdvice&quot;/&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n\nHope it will help!\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"Originally posted in PrimeFaces forum @ http://forum.primefaces.org/viewtopic.php?f=3&amp;t=29546\n\nRecently, I have been obsessed evaluating the performance of my app, tuning JPA queries, replacing dynamic SQL queries with named queries, and just this morning, I recognized that a getter method was more of a HOT SPOT in Java Visual VM than the rest of my code (or majority of my code).\n\nGetter method:\n\nPageNavigationController.getGmapsAutoComplete()\n\n\nReferenced by ui:include in  in index.xhtml\n\nBelow, you will see that PageNavigationController.getGmapsAutoComplete() is a HOT SPOT (performance issue) in Java Visual VM. If you look further down, on the screen capture, you will see that getLazyModel(), PrimeFaces lazy datatable getter method, is a hot spot too, only when enduser is doing a lot of &apos;lazy datatable&apos; type of stuff/operations/tasks in the app. :)\n\n\n\nSee (original) code below.\n\npublic Boolean getGmapsAutoComplete() {\n    switch (page) {\n        case &quot;/orders/pf_Add.xhtml&quot;:\n        case &quot;/orders/pf_Edit.xhtml&quot;:\n        case &quot;/orders/pf_EditDriverVehicles.xhtml&quot;:\n            gmapsAutoComplete = true;\n            break;\n        default:\n            gmapsAutoComplete = false;\n            break;\n    }\n    return gmapsAutoComplete;\n}\n\n\nReferenced by the following in index.xhtml:\n\n&lt;h:head&gt;\n    &lt;ui:include src=&quot;#{pageNavigationController.gmapsAutoComplete ? &apos;/head_gmapsAutoComplete.xhtml&apos; : (pageNavigationController.gmaps ? &apos;/head_gmaps.xhtml&apos; : &apos;/head_default.xhtml&apos;)}&quot;/&gt;\n&lt;/h:head&gt;\n\n\nSolution: since this is a &apos;getter&apos; method, move code and assign value to gmapsAutoComplete prior to method being called; see code below.\n\n/*\n * 2013-04-06 moved switch {...} to updateGmapsAutoComplete()\n *            because performance = 115ms (hot spot) while\n *            navigating through web app\n */\npublic Boolean getGmapsAutoComplete() {\n    return gmapsAutoComplete;\n}\n\n/*\n * ALWAYS call this method after &quot;page = ...&quot;\n */\nprivate void updateGmapsAutoComplete() {\n    switch (page) {\n        case &quot;/orders/pf_Add.xhtml&quot;:\n        case &quot;/orders/pf_Edit.xhtml&quot;:\n        case &quot;/orders/pf_EditDriverVehicles.xhtml&quot;:\n            gmapsAutoComplete = true;\n            break;\n        default:\n            gmapsAutoComplete = false;\n            break;\n    }\n}\n\n\nTest results: PageNavigationController.getGmapsAutoComplete() is no longer a HOT SPOT in Java Visual VM (doesn&apos;t even show up anymore)\n\nSharing this topic, since many of the expert users have advised junior JSF developers to NOT add code in &apos;getter&apos; methods. :)\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"If you are using CDI, you can use Producers methods.\nIt will be called many times, but the result of first call is cached in scope of the bean and is efficient for getters that are computing or initializing heavy objects!\nSee here, for more info.\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"You could probably use AOP to create some sort of Aspect that cached the results of our getters for a configurable amount of time. This would prevent you from needing to copy-and-paste boilerplate code in dozens of accessors.\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"\n  If the value of someProperty is\n  expensive to calculate, this can\n  potentially be a problem.\n\n\nThis is what we call a premature optimization. In the rare case that a profiler tells you that the calculation of a property is so extraordinarily expensive that calling it three times rather than once has a significant performance impact, you add caching as you describe. But unless you do something really stupid like factoring primes or accessing a databse in a getter, your code most likely has a dozen worse inefficiencies in places you&apos;ve never thought about.\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"I would also advice using such Framework as Primefaces instead of stock JSF,  they address such issues before JSF team e. g in primefaces you can set partial submit. Otherwise BalusC has explained it well. \n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"It still big problem in JSF. Fo example if you have a method isPermittedToBlaBla for security checks and in your view you have rendered=&quot;#{bean.isPermittedToBlaBla} then the method will be called multiple times.\n\nThe security check could be complicated e.g . LDAP query etc. So you must avoid that with \n\nBoolean isAllowed = null ... if(isAllowed==null){...} return isAllowed?\n\n\nand you must ensure within a session bean this per request.\n\nIch think JSF must implement here some extensions to avoid multiple calls (e.g annotation @Phase(RENDER_RESPONSE) calle this method only once after RENDER_RESPONSE phase...)\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08d1a634dea6705e.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/150-b06815e21c943e0d.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/108-87de33c23337ff53.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-79a1437acf654019.js" defer=""></script><script src="/_next/static/TQ2eYlCSdocSK-hq6gkM0/_buildManifest.js" defer=""></script><script src="/_next/static/TQ2eYlCSdocSK-hq6gkM0/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/why-jsf-calls-getters-multiple-times-1657388244489#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/why-jsf-calls-getters-multiple-times-1657388244489"><h1>Why JSF calls getters multiple times</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"></div></div><div class="question-content mt-5">
                
<p>Let's say I specify an outputText component like this:</p>

<pre class="default s-code-block"><code class="hljs language-coffeescript">&lt;h:outputText value=<span class="hljs-string">"<span class="hljs-subst">#{ManagedBean.someProperty}</span>"</span>/&gt;
</code></pre>

<p>If I print a log message when the getter for <code>someProperty</code> is called and load the page, it is trivial to notice that the getter is being called more than once per request (twice or three times is what happened in my case):</p>

<pre class="default s-code-block"><code class="hljs language-less"><span class="hljs-selector-tag">DEBUG</span> <span class="hljs-number">2010</span><span class="hljs-selector-tag">-01-18</span> <span class="hljs-number">23</span>:<span class="hljs-number">31</span>:<span class="hljs-number">40</span>,<span class="hljs-number">104</span> (ManagedBean.<span class="hljs-attribute">java</span>:<span class="hljs-number">13</span>) <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">Getting</span> <span class="hljs-selector-tag">some</span> <span class="hljs-selector-tag">property</span>
<span class="hljs-selector-tag">DEBUG</span> <span class="hljs-number">2010</span><span class="hljs-selector-tag">-01-18</span> <span class="hljs-number">23</span>:<span class="hljs-number">31</span>:<span class="hljs-number">40</span>,<span class="hljs-number">104</span> (ManagedBean.<span class="hljs-attribute">java</span>:<span class="hljs-number">13</span>) <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">Getting</span> <span class="hljs-selector-tag">some</span> <span class="hljs-selector-tag">property</span>
</code></pre>

<p>If the value of <code>someProperty</code> is expensive to calculate, this can potentially be a problem.</p>

<p>I googled a bit and figured this is a known issue. One workaround was to include a check and see if it had already been calculated:</p>

<pre class="default s-code-block"><code class="hljs language-kotlin"><span class="hljs-keyword">private</span> String someProperty;

<span class="hljs-keyword">public</span> String getSomeProperty() {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.someProperty == <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">this</span>.someProperty = <span class="hljs-keyword">this</span>.calculatePropertyValue();
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.someProperty;
}
</code></pre>

<p>The main problem with this is that you get loads of boilerplate code, not to mention private variables that you might not need.</p>

<p>What are the alternatives to this approach? Is there a  way to achieve this without so much unnecessary code? Is there a way to stop JSF from behaving in this way?</p>

<p>Thanks for your input!</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This is caused by the nature of deferred expressions <code>#{}</code> (note that "legacy" standard expressions <code>${}</code> behave exactly the same when Facelets is used instead of JSP). The deferred expression is not <em>immediately</em> evaluated, but created as a <a href="http://docs.oracle.com/javaee/6/api/javax/el/ValueExpression.html" rel="noreferrer"><code>ValueExpression</code></a> object and the getter method behind the expression is executed everytime when the code calls <a href="http://docs.oracle.com/javaee/6/api/javax/el/ValueExpression.html#getValue%28javax.el.ELContext%29" rel="noreferrer"><code>ValueExpression#getValue()</code></a>.</p>

<p>This will normally be invoked one or two times per JSF request-response cycle, depending on whether the component is an input or output component (<a href="http://balusc.blogspot.com/2006/09/debug-jsf-lifecycle.html" rel="noreferrer">learn it here</a>). However, this count can get up (much) higher when used in iterating JSF components (such as <code>&lt;h:dataTable&gt;</code> and <code>&lt;ui:repeat&gt;</code>), or here and there in a boolean expression like the <code>rendered</code> attribute. JSF (specifically, EL) won't cache the evaluated result of the EL expression at all as it <em>may</em> return different values on each call (for example, when it's dependent on the currently iterated datatable row). </p>

<p>Evaluating an EL expression and invoking a getter method is a very cheap operation, so you should generally not worry about this at all. However, the story changes when you're performing expensive DB/business logic in the getter method for some reason. This would be re-executed everytime! </p>

<p>Getter methods in JSF backing beans should be designed that way that they solely <strong>return</strong> the already-prepared property and nothing more, exactly as per the <a href="http://www.oracle.com/technetwork/java/javase/documentation/spec-136004.html" rel="noreferrer">Javabeans specification</a>. They should not do any expensive DB/business logic at all. For that the bean's <code>@PostConstruct</code> and/or (action)listener methods should be used. They are executed <strong>only once</strong> at some point of request-based JSF lifecycle and that's exactly what you want.</p>

<p>Here is a summary of all different <em>right</em> ways to preset/load a property.</p>

<pre class="default s-code-block"><code class="hljs language-typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Bean</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-title class_">SomeObject</span> someProperty;

    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"></span>) {
        <span class="hljs-comment">// In @PostConstruct (will be invoked immediately after construction and dependency/property injection).</span>
        someProperty = <span class="hljs-title function_">loadSomeProperty</span>();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onload</span>(<span class="hljs-params"></span>) {
        <span class="hljs-comment">// Or in GET action method (e.g. &lt;f:viewAction action&gt;).</span>
        someProperty = <span class="hljs-title function_">loadSomeProperty</span>();
    }           

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">preRender</span>(<span class="hljs-params">ComponentSystemEvent event</span>) {
        <span class="hljs-comment">// Or in some SystemEvent method (e.g. &lt;f:event type="preRenderView"&gt;).</span>
        someProperty = <span class="hljs-title function_">loadSomeProperty</span>();
    }           

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">change</span>(<span class="hljs-params">ValueChangeEvent event</span>) {
        <span class="hljs-comment">// Or in some FacesEvent method (e.g. &lt;h:inputXxx valueChangeListener&gt;).</span>
        someProperty = <span class="hljs-title function_">loadSomeProperty</span>();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">ajaxListener</span>(<span class="hljs-params">AjaxBehaviorEvent event</span>) {
        <span class="hljs-comment">// Or in some BehaviorEvent method (e.g. &lt;f:ajax listener&gt;).</span>
        someProperty = <span class="hljs-title function_">loadSomeProperty</span>();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">actionListener</span>(<span class="hljs-params">ActionEvent event</span>) {
        <span class="hljs-comment">// Or in some ActionEvent method (e.g. &lt;h:commandXxx actionListener&gt;).</span>
        someProperty = <span class="hljs-title function_">loadSomeProperty</span>();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">submit</span>(<span class="hljs-params"></span>) {
        <span class="hljs-comment">// Or in POST action method (e.g. &lt;h:commandXxx action&gt;).</span>
        someProperty = <span class="hljs-title function_">loadSomeProperty</span>();
        <span class="hljs-keyword">return</span> <span class="hljs-string">"outcome"</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">SomeObject</span> <span class="hljs-title function_">getSomeProperty</span>(<span class="hljs-params"></span>) {
        <span class="hljs-comment">// Just keep getter untouched. It isn't intented to do business logic!</span>
        <span class="hljs-keyword">return</span> someProperty;
    }

}
</code></pre>

<p>Note that you should <strong>not</strong> use bean's constructor or initialization block for the job because it may be invoked multiple times if you're using a bean management framework which uses proxies, such as CDI.</p>

<p>If there are for you really no other ways, due to some restrictive design requirements, then you should introduce lazy loading inside the getter method. I.e. if the property is <code>null</code>, then load and assign it to the property, else return it.</p>

<pre class="default s-code-block"><code class="hljs language-csharp">    <span class="hljs-function"><span class="hljs-keyword">public</span> SomeObject <span class="hljs-title">getSomeProperty</span>()</span> {
        <span class="hljs-comment">// If there are really no other ways, introduce lazy loading.</span>
        <span class="hljs-keyword">if</span> (someProperty == <span class="hljs-literal">null</span>) {
            someProperty = loadSomeProperty();
        }

        <span class="hljs-keyword">return</span> someProperty;
    }
</code></pre>

<p>This way the expensive DB/business logic won't unnecessarily be executed on every single getter call. </p>

<h3>See also:</h3>

<ul>
<li><a href="https://stackoverflow.com/questions/4281261/why-is-the-getter-called-so-many-times-by-the-rendered-attribute">Why is the getter called so many times by the rendered attribute?</a></li>
<li><a href="https://stackoverflow.com/questions/2451154/invoke-jsf-managed-bean-action-on-page-load">Invoke JSF managed bean action on page load</a></li>
<li><a href="https://stackoverflow.com/questions/5765853/when-should-i-load-the-collection-from-database-for-hdatatable">How and when should I load the model from database for h:dataTable</a></li>
<li><a href="https://stackoverflow.com/questions/6848970/how-to-prepopulate-hselectonemenu-with-entities-from-database">How to populate options of h:selectOneMenu from database?</a></li>
<li><a href="https://stackoverflow.com/questions/8207325/display-dynamic-image-from-database-with-pgraphicimage-and-streamedcontent">Display dynamic image from database with p:graphicImage and StreamedContent</a></li>
<li><a href="https://stackoverflow.com/questions/6434866/defining-and-reusing-an-el-variable-in-jsf-page/">Defining and reusing an EL variable in JSF page</a></li>
<li><a href="https://stackoverflow.com/questions/33106118/measure-the-render-time-of-a-jsf-view-after-a-server-request/">Measure the render time of a JSF view after a server request</a></li>
</ul>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>With JSF 2.0 you can attach a listener to a system event</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h:outputText</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"#{ManagedBean.someProperty}"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">f:event</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"preRenderView"</span> <span class="hljs-attr">listener</span>=<span class="hljs-string">"#{ManagedBean.loadSomeProperty}"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">h:outputText</span>&gt;</span>
</code></pre>

<p>Alternatively you can enclose the JSF page in an <code>f:view</code> tag</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">f:view</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">f:event</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"preRenderView"</span> <span class="hljs-attr">listener</span>=<span class="hljs-string">"#{ManagedBean.loadSomeProperty}"</span> /&gt;</span>

      .. jsf page here...

<span class="hljs-tag">&lt;<span class="hljs-name">f:view</span>&gt;</span>
</code></pre>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I have written an <a href="http://java.dzone.com/articles/how-cache-jsf-beans-getter" rel="noreferrer">article</a> about how to cache JSF beans getter with Spring AOP.</p>

<p>I create a simple <code>MethodInterceptor</code> which intercepts all methods annotated with a special annotation:</p>

<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CacheAdvice</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MethodInterceptor</span> {

<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">logger</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(CacheAdvice.class);

<span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">private</span> CacheService cacheService;

<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(MethodInvocation methodInvocation)</span> <span class="hljs-keyword">throws</span> Throwable {

    <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> methodInvocation.getThis() + methodInvocation.getMethod().getName();

    <span class="hljs-type">String</span> <span class="hljs-variable">thread</span> <span class="hljs-operator">=</span> Thread.currentThread().getName();

    <span class="hljs-type">Object</span> <span class="hljs-variable">cachedValue</span> <span class="hljs-operator">=</span> cacheService.getData(thread , key);

    <span class="hljs-keyword">if</span> (cachedValue == <span class="hljs-literal">null</span>){
        cachedValue = methodInvocation.proceed();
        cacheService.cacheData(thread , key , cachedValue);
        logger.debug(<span class="hljs-string">"Cache miss "</span> + thread + <span class="hljs-string">" "</span> + key);
    }
    <span class="hljs-keyword">else</span>{
        logger.debug(<span class="hljs-string">"Cached hit "</span> + thread + <span class="hljs-string">" "</span> + key);
    }
    <span class="hljs-keyword">return</span> cachedValue;
}


<span class="hljs-keyword">public</span> CacheService <span class="hljs-title function_">getCacheService</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">return</span> cacheService;
}
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setCacheService</span><span class="hljs-params">(CacheService cacheService)</span> {
    <span class="hljs-built_in">this</span>.cacheService = cacheService;
}

}
</code></pre>

<p>This interceptor is used in a spring configuration file:</p>

<pre class="default s-code-block"><code class="hljs language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"advisor"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.aop.support.DefaultPointcutAdvisor"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"pointcut"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.aop.support.annotation.AnnotationMatchingPointcut"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">index</span>=<span class="hljs-string">"0"</span>  <span class="hljs-attr">name</span>=<span class="hljs-string">"classAnnotationType"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"java.lang.Class"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">null</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">index</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"com._4dconcept.docAdvance.jsfCache.annotation.Cacheable"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"methodAnnotationType"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"java.lang.Class"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"advice"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com._4dconcept.docAdvance.jsfCache.CacheAdvice"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
</code></pre>

<p>Hope it will help!</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Originally posted in PrimeFaces forum @ <a href="http://forum.primefaces.org/viewtopic.php?f=3&amp;t=29546" rel="noreferrer">http://forum.primefaces.org/viewtopic.php?f=3&amp;t=29546</a></p>

<p>Recently, I have been obsessed evaluating the performance of my app, tuning JPA queries, replacing dynamic SQL queries with named queries, and just this morning, I recognized that a getter method was more of a HOT SPOT in Java Visual VM than the rest of my code (or majority of my code).</p>

<p>Getter method:</p>

<pre class="default s-code-block"><code class="hljs language-scss">PageNavigationController<span class="hljs-selector-class">.getGmapsAutoComplete</span>()
</code></pre>

<p>Referenced by ui:include in  in index.xhtml</p>

<p>Below, you will see that PageNavigationController.getGmapsAutoComplete() is a HOT SPOT (performance issue) in Java Visual VM. If you look further down, on the screen capture, you will see that getLazyModel(), PrimeFaces lazy datatable getter method, is a hot spot too, only when enduser is doing a lot of 'lazy datatable' type of stuff/operations/tasks in the app. :)</p>

<p><img src="https://i.stack.imgur.com/9mkxy.png" alt="Java Visual VM: showing HOT SPOT"></p>

<p>See (original) code below.</p>

<pre class="default s-code-block"><code class="hljs language-csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> Boolean <span class="hljs-title">getGmapsAutoComplete</span>()</span> {
    <span class="hljs-keyword">switch</span> (page) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">"/orders/pf_Add.xhtml"</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">"/orders/pf_Edit.xhtml"</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">"/orders/pf_EditDriverVehicles.xhtml"</span>:
            gmapsAutoComplete = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-literal">default</span>:
            gmapsAutoComplete = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">break</span>;
    }
    <span class="hljs-keyword">return</span> gmapsAutoComplete;
}
</code></pre>

<p>Referenced by the following in index.xhtml:</p>

<pre class="default s-code-block"><code class="hljs language-coffeescript">&lt;h:head&gt;
    &lt;ui:include src=<span class="hljs-string">"<span class="hljs-subst">#{pageNavigationController.gmapsAutoComplete ? <span class="hljs-string">'/head_gmapsAutoComplete.xhtml'</span> : (pageNavigationController.gmaps ? <span class="hljs-string">'/head_gmaps.xhtml'</span> : <span class="hljs-string">'/head_default.xhtml'</span>)}</span>"</span>/&gt;
&lt;/h:head&gt;
</code></pre>

<p>Solution: since this is a 'getter' method, move code and assign value to gmapsAutoComplete prior to method being called; see code below.</p>

<pre class="default s-code-block"><code class="hljs language-csharp"><span class="hljs-comment">/*
 * 2013-04-06 moved switch {...} to updateGmapsAutoComplete()
 *            because performance = 115ms (hot spot) while
 *            navigating through web app
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> Boolean <span class="hljs-title">getGmapsAutoComplete</span>()</span> {
    <span class="hljs-keyword">return</span> gmapsAutoComplete;
}

<span class="hljs-comment">/*
 * ALWAYS call this method after "page = ..."
 */</span>
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">updateGmapsAutoComplete</span>()</span> {
    <span class="hljs-keyword">switch</span> (page) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">"/orders/pf_Add.xhtml"</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">"/orders/pf_Edit.xhtml"</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">"/orders/pf_EditDriverVehicles.xhtml"</span>:
            gmapsAutoComplete = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-literal">default</span>:
            gmapsAutoComplete = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">break</span>;
    }
}
</code></pre>

<p>Test results: PageNavigationController.getGmapsAutoComplete() is no longer a HOT SPOT in Java Visual VM (doesn't even show up anymore)</p>

<p>Sharing this topic, since many of the expert users have advised junior JSF developers to NOT add code in 'getter' methods. :)</p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you are using CDI, you can use Producers methods.
It will be called many times, but the result of first call is cached in scope of the bean and is efficient for getters that are computing or initializing heavy objects!
See <a href="https://stackoverflow.com/questions/8592583/is-produces-more-efficient-that-a-getter-in-an-el-expression">here</a>, for more info.</p>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You could probably use AOP to create some sort of Aspect that cached the results of our getters for a configurable amount of time. This would prevent you from needing to copy-and-paste boilerplate code in dozens of accessors.</p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<blockquote>
  <p>If the value of someProperty is
  expensive to calculate, this can
  potentially be a problem.</p>
</blockquote>

<p>This is what we call a premature optimization. In the rare case that a profiler tells you that the calculation of a property is so extraordinarily expensive that calling it three times rather than once has a significant performance impact, you add caching as you describe. But unless you do something really stupid like factoring primes or accessing a databse in a getter, your code most likely has a dozen worse inefficiencies in places you've never thought about.</p>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I would also advice using such Framework as Primefaces instead of stock JSF,  they address such issues before JSF team e. g in primefaces you can set partial submit. Otherwise BalusC has explained it well. </p>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>It still big problem in JSF. Fo example if you have a method <code>isPermittedToBlaBla</code> for security checks and in your view you have <code>rendered="#{bean.isPermittedToBlaBla}</code> then the method will be called multiple times.</p>

<p>The security check could be complicated e.g . LDAP query etc. So you must avoid that with </p>

<pre class="default s-code-block"><code class="hljs language-kotlin"><span class="hljs-built_in">Boolean</span> isAllowed = <span class="hljs-literal">null</span> ... <span class="hljs-keyword">if</span>(isAllowed==<span class="hljs-literal">null</span>){...} <span class="hljs-keyword">return</span> isAllowed?
</code></pre>

<p>and you must ensure within a session bean this per request.</p>

<p>Ich think JSF must implement here some extensions to avoid multiple calls (e.g annotation <code>@Phase(RENDER_RESPONSE)</code> calle this method only once after <code>RENDER_RESPONSE</code> phase...)</p>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/get-the-data-received-in-a-flask-request-1657387804432">Get the data received in a Flask request</a><a href="/questions/using-auto-layout-in-uitableview-for-dynamic-cell-layouts-and-variable-row-heights-1657387722263">Using Auto Layout in UITableView for dynamic cell layouts &amp; variable row heights</a><a href="/questions/how-do-i-compose-a-rotation-matrix-with-human-readable-angles-from-scratch-1657387963457">How do I compose a rotation matrix with human readable angles from scratch?</a><a href="/questions/what-is-event-bubbling-and-capturing-1657388059203">What is event bubbling and capturing?</a><a href="/questions/what-is-the-difference-between-single-quoted-and-double-quoted-strings-in-php-1657384624345">What is the difference between single-quoted and double-quoted strings in PHP?</a><a href="/questions/how-to-serve-static-files-in-flask-1657387862496">How to serve static files in Flask</a><a href="/questions/what-is-object-slicing-1657384506425">What is object slicing?</a><a href="/questions/error:-could-not-find-function-...-in-r-1657388476492">Error: could not find function ... in R</a><a href="/questions/sort-a-maplesskey-valuegreater-by-values-1657387443904">Sort a Map&lt;Key, Value&gt; by values</a><a href="/questions/get-top-1-row-of-each-group-1657387438304">Get top 1 row of each group</a><a href="/questions/test-for-existence-of-nested-javascript-object-key-1657387935411">Test for existence of nested JavaScript object key</a><a href="/questions/passing-data-between-view-controllers-1657384540021">Passing data between view controllers</a><a href="/questions/can-php-pdo-statements-accept-the-table-or-column-name-as-parameter-1657387478588">Can PHP PDO Statements accept the table or column name as parameter?</a><a href="/questions/how-to-get-all-possible-combinations-of-a-list&#x27;s-elements-1657388271070">How to get all possible combinations of a list’s elements?</a><a href="/questions/event.preventdefault()-vs.-return-false-1657387458377">event.preventDefault() vs. return false</a><a href="/questions/is-there-a-css-parent-selector-1657384430692">Is there a CSS parent selector?</a><a href="/questions/what-is-jsonp-and-why-was-it-created-1657387770563">What is JSONP, and why was it created?</a><a href="/questions/why-should-i-not-include-lessbitsstdc++.hgreater-1657384470484">Why should I not #include &lt;bits/stdc++.h&gt;?</a><a href="/questions/what-does-a-space-mean-in-a-css-selector-i.e.-what-is-the-difference-between-.classa.classb-and-.classa-.classb-1657387912095">What does a space mean in a CSS selector? i.e. What is the difference between .classA.classB and .classA .classB?</a><a href="/questions/pandas-merging-101-1657384447080">Pandas Merging 101</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;This is caused by the nature of deferred expressions \u0026lt;code\u0026gt;#{}\u0026lt;/code\u0026gt; (note that \u0026quot;legacy\u0026quot; standard expressions \u0026lt;code\u0026gt;${}\u0026lt;/code\u0026gt; behave exactly the same when Facelets is used instead of JSP). The deferred expression is not \u0026lt;em\u0026gt;immediately\u0026lt;/em\u0026gt; evaluated, but created as a \u0026lt;a href=\u0026quot;http://docs.oracle.com/javaee/6/api/javax/el/ValueExpression.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;ValueExpression\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; object and the getter method behind the expression is executed everytime when the code calls \u0026lt;a href=\u0026quot;http://docs.oracle.com/javaee/6/api/javax/el/ValueExpression.html#getValue%28javax.el.ELContext%29\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;ValueExpression#getValue()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This will normally be invoked one or two times per JSF request-response cycle, depending on whether the component is an input or output component (\u0026lt;a href=\u0026quot;http://balusc.blogspot.com/2006/09/debug-jsf-lifecycle.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;learn it here\u0026lt;/a\u0026gt;). However, this count can get up (much) higher when used in iterating JSF components (such as \u0026lt;code\u0026gt;\u0026amp;lt;h:dataTable\u0026amp;gt;\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;\u0026amp;lt;ui:repeat\u0026amp;gt;\u0026lt;/code\u0026gt;), or here and there in a boolean expression like the \u0026lt;code\u0026gt;rendered\u0026lt;/code\u0026gt; attribute. JSF (specifically, EL) won\u0026apos;t cache the evaluated result of the EL expression at all as it \u0026lt;em\u0026gt;may\u0026lt;/em\u0026gt; return different values on each call (for example, when it\u0026apos;s dependent on the currently iterated datatable row). \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Evaluating an EL expression and invoking a getter method is a very cheap operation, so you should generally not worry about this at all. However, the story changes when you\u0026apos;re performing expensive DB/business logic in the getter method for some reason. This would be re-executed everytime! \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Getter methods in JSF backing beans should be designed that way that they solely \u0026lt;strong\u0026gt;return\u0026lt;/strong\u0026gt; the already-prepared property and nothing more, exactly as per the \u0026lt;a href=\u0026quot;http://www.oracle.com/technetwork/java/javase/documentation/spec-136004.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Javabeans specification\u0026lt;/a\u0026gt;. They should not do any expensive DB/business logic at all. For that the bean\u0026apos;s \u0026lt;code\u0026gt;@PostConstruct\u0026lt;/code\u0026gt; and/or (action)listener methods should be used. They are executed \u0026lt;strong\u0026gt;only once\u0026lt;/strong\u0026gt; at some point of request-based JSF lifecycle and that\u0026apos;s exactly what you want.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Here is a summary of all different \u0026lt;em\u0026gt;right\u0026lt;/em\u0026gt; ways to preset/load a property.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Bean\u0026lt;/span\u0026gt; {\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;SomeObject\u0026lt;/span\u0026gt; someProperty;\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@PostConstruct\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;init\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// In @PostConstruct (will be invoked immediately after construction and dependency/property injection).\u0026lt;/span\u0026gt;\n        someProperty = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;loadSomeProperty\u0026lt;/span\u0026gt;();\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onload\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Or in GET action method (e.g. \u0026amp;lt;f:viewAction action\u0026amp;gt;).\u0026lt;/span\u0026gt;\n        someProperty = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;loadSomeProperty\u0026lt;/span\u0026gt;();\n    }           \n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;preRender\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;ComponentSystemEvent event\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Or in some SystemEvent method (e.g. \u0026amp;lt;f:event type=\u0026quot;preRenderView\u0026quot;\u0026amp;gt;).\u0026lt;/span\u0026gt;\n        someProperty = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;loadSomeProperty\u0026lt;/span\u0026gt;();\n    }           \n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;change\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;ValueChangeEvent event\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Or in some FacesEvent method (e.g. \u0026amp;lt;h:inputXxx valueChangeListener\u0026amp;gt;).\u0026lt;/span\u0026gt;\n        someProperty = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;loadSomeProperty\u0026lt;/span\u0026gt;();\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ajaxListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;AjaxBehaviorEvent event\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Or in some BehaviorEvent method (e.g. \u0026amp;lt;f:ajax listener\u0026amp;gt;).\u0026lt;/span\u0026gt;\n        someProperty = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;loadSomeProperty\u0026lt;/span\u0026gt;();\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;actionListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;ActionEvent event\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Or in some ActionEvent method (e.g. \u0026amp;lt;h:commandXxx actionListener\u0026amp;gt;).\u0026lt;/span\u0026gt;\n        someProperty = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;loadSomeProperty\u0026lt;/span\u0026gt;();\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;submit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Or in POST action method (e.g. \u0026amp;lt;h:commandXxx action\u0026amp;gt;).\u0026lt;/span\u0026gt;\n        someProperty = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;loadSomeProperty\u0026lt;/span\u0026gt;();\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;outcome\u0026quot;\u0026lt;/span\u0026gt;;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;SomeObject\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getSomeProperty\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Just keep getter untouched. It isn\u0026apos;t intented to do business logic!\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; someProperty;\n    }\n\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Note that you should \u0026lt;strong\u0026gt;not\u0026lt;/strong\u0026gt; use bean\u0026apos;s constructor or initialization block for the job because it may be invoked multiple times if you\u0026apos;re using a bean management framework which uses proxies, such as CDI.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If there are for you really no other ways, due to some restrictive design requirements, then you should introduce lazy loading inside the getter method. I.e. if the property is \u0026lt;code\u0026gt;null\u0026lt;/code\u0026gt;, then load and assign it to the property, else return it.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; SomeObject \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;getSomeProperty\u0026lt;/span\u0026gt;()\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// If there are really no other ways, introduce lazy loading.\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (someProperty == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) {\n            someProperty = loadSomeProperty();\n        }\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; someProperty;\n    }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This way the expensive DB/business logic won\u0026apos;t unnecessarily be executed on every single getter call. \u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;See also:\u0026lt;/h3\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/4281261/why-is-the-getter-called-so-many-times-by-the-rendered-attribute\u0026quot;\u0026gt;Why is the getter called so many times by the rendered attribute?\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/2451154/invoke-jsf-managed-bean-action-on-page-load\u0026quot;\u0026gt;Invoke JSF managed bean action on page load\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/5765853/when-should-i-load-the-collection-from-database-for-hdatatable\u0026quot;\u0026gt;How and when should I load the model from database for h:dataTable\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/6848970/how-to-prepopulate-hselectonemenu-with-entities-from-database\u0026quot;\u0026gt;How to populate options of h:selectOneMenu from database?\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/8207325/display-dynamic-image-from-database-with-pgraphicimage-and-streamedcontent\u0026quot;\u0026gt;Display dynamic image from database with p:graphicImage and StreamedContent\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/6434866/defining-and-reusing-an-el-variable-in-jsf-page/\u0026quot;\u0026gt;Defining and reusing an EL variable in JSF page\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/33106118/measure-the-render-time-of-a-jsf-view-after-a-server-request/\u0026quot;\u0026gt;Measure the render time of a JSF view after a server request\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;With JSF 2.0 you can attach a listener to a system event\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h:outputText\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;#{ManagedBean.someProperty}\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n   \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;f:event\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;preRenderView\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;listener\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;#{ManagedBean.loadSomeProperty}\u0026quot;\u0026lt;/span\u0026gt; /\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;h:outputText\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Alternatively you can enclose the JSF page in an \u0026lt;code\u0026gt;f:view\u0026lt;/code\u0026gt; tag\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;f:view\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n   \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;f:event\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;preRenderView\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;listener\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;#{ManagedBean.loadSomeProperty}\u0026quot;\u0026lt;/span\u0026gt; /\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n      .. jsf page here...\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;f:view\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I have written an \u0026lt;a href=\u0026quot;http://java.dzone.com/articles/how-cache-jsf-beans-getter\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;article\u0026lt;/a\u0026gt; about how to cache JSF beans getter with Spring AOP.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I create a simple \u0026lt;code\u0026gt;MethodInterceptor\u0026lt;/code\u0026gt; which intercepts all methods annotated with a special annotation:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;CacheAdvice\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;implements\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;MethodInterceptor\u0026lt;/span\u0026gt; {\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Logger\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;logger\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; LoggerFactory.getLogger(CacheAdvice.class);\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Autowired\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; CacheService cacheService;\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; Object \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;invoke\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(MethodInvocation methodInvocation)\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;throws\u0026lt;/span\u0026gt; Throwable {\n\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; methodInvocation.getThis() + methodInvocation.getMethod().getName();\n\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;thread\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; Thread.currentThread().getName();\n\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;cachedValue\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; cacheService.getData(thread , key);\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (cachedValue == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;){\n        cachedValue = methodInvocation.proceed();\n        cacheService.cacheData(thread , key , cachedValue);\n        logger.debug(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Cache miss \u0026quot;\u0026lt;/span\u0026gt; + thread + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; \u0026quot;\u0026lt;/span\u0026gt; + key);\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;{\n        logger.debug(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Cached hit \u0026quot;\u0026lt;/span\u0026gt; + thread + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; \u0026quot;\u0026lt;/span\u0026gt; + key);\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; cachedValue;\n}\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; CacheService \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getCacheService\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; cacheService;\n}\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setCacheService\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(CacheService cacheService)\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.cacheService = cacheService;\n}\n\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This interceptor is used in a spring configuration file:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;bean\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;advisor\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;org.springframework.aop.support.DefaultPointcutAdvisor\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;property\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;pointcut\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;bean\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;org.springframework.aop.support.annotation.AnnotationMatchingPointcut\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;constructor-arg\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;index\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;0\u0026quot;\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;classAnnotationType\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;java.lang.Class\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;/\u0026amp;gt;\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;constructor-arg\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;constructor-arg\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;index\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;com._4dconcept.docAdvance.jsfCache.annotation.Cacheable\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;methodAnnotationType\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;java.lang.Class\u0026quot;\u0026lt;/span\u0026gt;/\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;bean\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;property\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;property\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;advice\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;bean\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;com._4dconcept.docAdvance.jsfCache.CacheAdvice\u0026quot;\u0026lt;/span\u0026gt;/\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;property\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;bean\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Hope it will help!\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Originally posted in PrimeFaces forum @ \u0026lt;a href=\u0026quot;http://forum.primefaces.org/viewtopic.php?f=3\u0026amp;amp;t=29546\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://forum.primefaces.org/viewtopic.php?f=3\u0026amp;amp;t=29546\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Recently, I have been obsessed evaluating the performance of my app, tuning JPA queries, replacing dynamic SQL queries with named queries, and just this morning, I recognized that a getter method was more of a HOT SPOT in Java Visual VM than the rest of my code (or majority of my code).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Getter method:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;PageNavigationController\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.getGmapsAutoComplete\u0026lt;/span\u0026gt;()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Referenced by ui:include in  in index.xhtml\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Below, you will see that PageNavigationController.getGmapsAutoComplete() is a HOT SPOT (performance issue) in Java Visual VM. If you look further down, on the screen capture, you will see that getLazyModel(), PrimeFaces lazy datatable getter method, is a hot spot too, only when enduser is doing a lot of \u0026apos;lazy datatable\u0026apos; type of stuff/operations/tasks in the app. :)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/9mkxy.png\u0026quot; alt=\u0026quot;Java Visual VM: showing HOT SPOT\u0026quot;\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;See (original) code below.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; Boolean \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;getGmapsAutoComplete\u0026lt;/span\u0026gt;()\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;switch\u0026lt;/span\u0026gt; (page) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/orders/pf_Add.xhtml\u0026quot;\u0026lt;/span\u0026gt;:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/orders/pf_Edit.xhtml\u0026quot;\u0026lt;/span\u0026gt;:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/orders/pf_EditDriverVehicles.xhtml\u0026quot;\u0026lt;/span\u0026gt;:\n            gmapsAutoComplete = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;default\u0026lt;/span\u0026gt;:\n            gmapsAutoComplete = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;;\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; gmapsAutoComplete;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Referenced by the following in index.xhtml:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-coffeescript\u0026quot;\u0026gt;\u0026amp;lt;h:head\u0026amp;gt;\n    \u0026amp;lt;ui:include src=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;#{pageNavigationController.gmapsAutoComplete ? \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/head_gmapsAutoComplete.xhtml\u0026apos;\u0026lt;/span\u0026gt; : (pageNavigationController.gmaps ? \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/head_gmaps.xhtml\u0026apos;\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/head_default.xhtml\u0026apos;\u0026lt;/span\u0026gt;)}\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;/\u0026amp;gt;\n\u0026amp;lt;/h:head\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Solution: since this is a \u0026apos;getter\u0026apos; method, move code and assign value to gmapsAutoComplete prior to method being called; see code below.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/*\n * 2013-04-06 moved switch {...} to updateGmapsAutoComplete()\n *            because performance = 115ms (hot spot) while\n *            navigating through web app\n */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; Boolean \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;getGmapsAutoComplete\u0026lt;/span\u0026gt;()\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; gmapsAutoComplete;\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/*\n * ALWAYS call this method after \u0026quot;page = ...\u0026quot;\n */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;updateGmapsAutoComplete\u0026lt;/span\u0026gt;()\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;switch\u0026lt;/span\u0026gt; (page) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/orders/pf_Add.xhtml\u0026quot;\u0026lt;/span\u0026gt;:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/orders/pf_Edit.xhtml\u0026quot;\u0026lt;/span\u0026gt;:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/orders/pf_EditDriverVehicles.xhtml\u0026quot;\u0026lt;/span\u0026gt;:\n            gmapsAutoComplete = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;default\u0026lt;/span\u0026gt;:\n            gmapsAutoComplete = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;;\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Test results: PageNavigationController.getGmapsAutoComplete() is no longer a HOT SPOT in Java Visual VM (doesn\u0026apos;t even show up anymore)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Sharing this topic, since many of the expert users have advised junior JSF developers to NOT add code in \u0026apos;getter\u0026apos; methods. :)\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you are using CDI, you can use Producers methods.\nIt will be called many times, but the result of first call is cached in scope of the bean and is efficient for getters that are computing or initializing heavy objects!\nSee \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/8592583/is-produces-more-efficient-that-a-getter-in-an-el-expression\u0026quot;\u0026gt;here\u0026lt;/a\u0026gt;, for more info.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You could probably use AOP to create some sort of Aspect that cached the results of our getters for a configurable amount of time. This would prevent you from needing to copy-and-paste boilerplate code in dozens of accessors.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;If the value of someProperty is\n  expensive to calculate, this can\n  potentially be a problem.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;This is what we call a premature optimization. In the rare case that a profiler tells you that the calculation of a property is so extraordinarily expensive that calling it three times rather than once has a significant performance impact, you add caching as you describe. But unless you do something really stupid like factoring primes or accessing a databse in a getter, your code most likely has a dozen worse inefficiencies in places you\u0026apos;ve never thought about.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I would also advice using such Framework as Primefaces instead of stock JSF,  they address such issues before JSF team e. g in primefaces you can set partial submit. Otherwise BalusC has explained it well. \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;It still big problem in JSF. Fo example if you have a method \u0026lt;code\u0026gt;isPermittedToBlaBla\u0026lt;/code\u0026gt; for security checks and in your view you have \u0026lt;code\u0026gt;rendered=\u0026quot;#{bean.isPermittedToBlaBla}\u0026lt;/code\u0026gt; then the method will be called multiple times.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The security check could be complicated e.g . LDAP query etc. So you must avoid that with \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-kotlin\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Boolean\u0026lt;/span\u0026gt; isAllowed = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt; ... \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(isAllowed==\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;){...} \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; isAllowed?\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;and you must ensure within a session bean this per request.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Ich think JSF must implement here some extensions to avoid multiple calls (e.g annotation \u0026lt;code\u0026gt;@Phase(RENDER_RESPONSE)\u0026lt;/code\u0026gt; calle this method only once after \u0026lt;code\u0026gt;RENDER_RESPONSE\u0026lt;/code\u0026gt; phase...)\u0026lt;/p\u0026gt;\n    "],"id":513,"title":"Why JSF calls getters multiple times","content":"\n                \n\u0026lt;p\u0026gt;Let\u0026apos;s say I specify an outputText component like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-coffeescript\u0026quot;\u0026gt;\u0026amp;lt;h:outputText value=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;#{ManagedBean.someProperty}\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;/\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;If I print a log message when the getter for \u0026lt;code\u0026gt;someProperty\u0026lt;/code\u0026gt; is called and load the page, it is trivial to notice that the getter is being called more than once per request (twice or three times is what happened in my case):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-less\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;DEBUG\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2010\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;-01-18\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;23\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;31\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;40\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;104\u0026lt;/span\u0026gt; (ManagedBean.\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;java\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;13\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;-\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;Getting\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;some\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;property\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;DEBUG\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2010\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;-01-18\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;23\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;31\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;40\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;104\u0026lt;/span\u0026gt; (ManagedBean.\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;java\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;13\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;-\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;Getting\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;some\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;property\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;If the value of \u0026lt;code\u0026gt;someProperty\u0026lt;/code\u0026gt; is expensive to calculate, this can potentially be a problem.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I googled a bit and figured this is a known issue. One workaround was to include a check and see if it had already been calculated:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-kotlin\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; String someProperty;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; String getSomeProperty() {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.someProperty == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.someProperty = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.calculatePropertyValue();\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.someProperty;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The main problem with this is that you get loads of boilerplate code, not to mention private variables that you might not need.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;What are the alternatives to this approach? Is there a  way to achieve this without so much unnecessary code? Is there a way to stop JSF from behaving in this way?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Thanks for your input!\u0026lt;/p\u0026gt;\n    ","slug":"why-jsf-calls-getters-multiple-times-1657388244489","postType":"QUESTION","createdAt":"2022-07-09T17:37:24.000Z","updatedAt":"2022-07-09T17:37:24.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"Get the data received in a Flask request","slug":"get-the-data-received-in-a-flask-request-1657387804432"},{"title":"Using Auto Layout in UITableView for dynamic cell layouts \u0026 variable row heights","slug":"using-auto-layout-in-uitableview-for-dynamic-cell-layouts-and-variable-row-heights-1657387722263"},{"title":"How do I compose a rotation matrix with human readable angles from scratch?","slug":"how-do-i-compose-a-rotation-matrix-with-human-readable-angles-from-scratch-1657387963457"},{"title":"What is event bubbling and capturing?","slug":"what-is-event-bubbling-and-capturing-1657388059203"},{"title":"What is the difference between single-quoted and double-quoted strings in PHP?","slug":"what-is-the-difference-between-single-quoted-and-double-quoted-strings-in-php-1657384624345"},{"title":"How to serve static files in Flask","slug":"how-to-serve-static-files-in-flask-1657387862496"},{"title":"What is object slicing?","slug":"what-is-object-slicing-1657384506425"},{"title":"Error: could not find function ... in R","slug":"error:-could-not-find-function-...-in-r-1657388476492"},{"title":"Sort a Map\u003cKey, Value\u003e by values","slug":"sort-a-maplesskey-valuegreater-by-values-1657387443904"},{"title":"Get top 1 row of each group","slug":"get-top-1-row-of-each-group-1657387438304"},{"title":"Test for existence of nested JavaScript object key","slug":"test-for-existence-of-nested-javascript-object-key-1657387935411"},{"title":"Passing data between view controllers","slug":"passing-data-between-view-controllers-1657384540021"},{"title":"Can PHP PDO Statements accept the table or column name as parameter?","slug":"can-php-pdo-statements-accept-the-table-or-column-name-as-parameter-1657387478588"},{"title":"How to get all possible combinations of a list’s elements?","slug":"how-to-get-all-possible-combinations-of-a-list's-elements-1657388271070"},{"title":"event.preventDefault() vs. return false","slug":"event.preventdefault()-vs.-return-false-1657387458377"},{"title":"Is there a CSS parent selector?","slug":"is-there-a-css-parent-selector-1657384430692"},{"title":"What is JSONP, and why was it created?","slug":"what-is-jsonp-and-why-was-it-created-1657387770563"},{"title":"Why should I not #include \u003cbits/stdc++.h\u003e?","slug":"why-should-i-not-include-lessbitsstdc++.hgreater-1657384470484"},{"title":"What does a space mean in a CSS selector? i.e. What is the difference between .classA.classB and .classA .classB?","slug":"what-does-a-space-mean-in-a-css-selector-i.e.-what-is-the-difference-between-.classa.classb-and-.classa-.classb-1657387912095"},{"title":"Pandas Merging 101","slug":"pandas-merging-101-1657384447080"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"why-jsf-calls-getters-multiple-times-1657388244489"},"buildId":"TQ2eYlCSdocSK-hq6gkM0","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>