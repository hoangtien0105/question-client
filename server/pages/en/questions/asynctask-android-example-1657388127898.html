<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find the solution to any question. We focus on finding the fastest possible solution for users. Main topics like coding, learning. - solutionschecker.com"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><link name="keywords" content="android-asynctask,solutions checker, solution checker, how to, solution for, check for solution, resolve question, what is, what solution for, find solution"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://solutionschecker.com","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://solutionschecker.com/questions","name":"Questions"}},{"@type":"ListItem","position":3,"item":{"@id":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898","name":"Questions"}}]}</script><title>AsyncTask Android example | Solution Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="I was reading about AsyncTask, and I tried the simple program below. But it does not seem to work. How can I make it work?

public class AsyncTaskActivity extends Activity {

    Button btn;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        btn = (Button) findViewById(R.id.button1);
        btn.setOnClickListener((OnClickListener) this);
    }

    public void onClick(View view){
        new LongOperation().execute(&quot;&quot;);
    }

    private class LongOperation extends AsyncTask&lt;String, Void, String&gt; {
        @Override
        protected String doInBackground(String... params) {
            for(int i=0;i&lt;5;i++) {
                try {
                    Thread.sleep(1000);
                } catch (InterruptedException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
            }
            TextView txt = (TextView) findViewById(R.id.output);
            txt.setText(&quot;Executed&quot;);
            return null;
        }

        @Override
        protected void onPostExecute(String result) {
        }

        @Override
        protected void onPreExecute() {
        }

        @Override
        protected void onProgressUpdate(Void... values) {
        }
    }
}


I am just trying to change the label after 5 seconds in the background process.

This is my main.xml:

&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
              android:layout_width=&quot;fill_parent&quot;
              android:layout_height=&quot;fill_parent&quot;
              android:orientation=&quot;vertical&quot; &gt;
    &lt;ProgressBar
        android:id=&quot;@+id/progressBar&quot;
        style=&quot;?android:attr/progressBarStyleHorizontal&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:indeterminate=&quot;false&quot;
        android:max=&quot;10&quot;
        android:padding=&quot;10dip&quot;&gt;
    &lt;/ProgressBar&gt;
    &lt;Button
        android:id=&quot;@+id/button1&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;Start Progress&quot; &gt;
    &lt;/Button&gt;
    &lt;TextView android:id=&quot;@+id/output&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;Replace&quot;/&gt;
&lt;/LinearLayout&gt;

    "/><meta property="og:title" content="AsyncTask Android example | Solution Checker"/><meta property="og:description" content="I was reading about AsyncTask, and I tried the simple program below. But it does not seem to work. How can I make it work?

public class AsyncTaskActivity extends Activity {

    Button btn;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        btn = (Button) findViewById(R.id.button1);
        btn.setOnClickListener((OnClickListener) this);
    }

    public void onClick(View view){
        new LongOperation().execute(&quot;&quot;);
    }

    private class LongOperation extends AsyncTask&lt;String, Void, String&gt; {
        @Override
        protected String doInBackground(String... params) {
            for(int i=0;i&lt;5;i++) {
                try {
                    Thread.sleep(1000);
                } catch (InterruptedException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
            }
            TextView txt = (TextView) findViewById(R.id.output);
            txt.setText(&quot;Executed&quot;);
            return null;
        }

        @Override
        protected void onPostExecute(String result) {
        }

        @Override
        protected void onPreExecute() {
        }

        @Override
        protected void onProgressUpdate(Void... values) {
        }
    }
}


I am just trying to change the label after 5 seconds in the background process.

This is my main.xml:

&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
              android:layout_width=&quot;fill_parent&quot;
              android:layout_height=&quot;fill_parent&quot;
              android:orientation=&quot;vertical&quot; &gt;
    &lt;ProgressBar
        android:id=&quot;@+id/progressBar&quot;
        style=&quot;?android:attr/progressBarStyleHorizontal&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:indeterminate=&quot;false&quot;
        android:max=&quot;10&quot;
        android:padding=&quot;10dip&quot;&gt;
    &lt;/ProgressBar&gt;
    &lt;Button
        android:id=&quot;@+id/button1&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;Start Progress&quot; &gt;
    &lt;/Button&gt;
    &lt;TextView android:id=&quot;@+id/output&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;Replace&quot;/&gt;
&lt;/LinearLayout&gt;

    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"AsyncTask Android example","text":"I was reading about AsyncTask, and I tried the simple program below. But it does not seem to work. How can I make it work?\n\npublic class AsyncTaskActivity extends Activity {\n\n    Button btn;\n\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        btn = (Button) findViewById(R.id.button1);\n        btn.setOnClickListener((OnClickListener) this);\n    }\n\n    public void onClick(View view){\n        new LongOperation().execute(&quot;&quot;);\n    }\n\n    private class LongOperation extends AsyncTask&lt;String, Void, String&gt; {\n        @Override\n        protected String doInBackground(String... params) {\n            for(int i=0;i&lt;5;i++) {\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n            }\n            TextView txt = (TextView) findViewById(R.id.output);\n            txt.setText(&quot;Executed&quot;);\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n        }\n\n        @Override\n        protected void onPreExecute() {\n        }\n\n        @Override\n        protected void onProgressUpdate(Void... values) {\n        }\n    }\n}\n\n\nI am just trying to change the label after 5 seconds in the background process.\n\nThis is my main.xml:\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n              android:layout_width=&quot;fill_parent&quot;\n              android:layout_height=&quot;fill_parent&quot;\n              android:orientation=&quot;vertical&quot; &gt;\n    &lt;ProgressBar\n        android:id=&quot;@+id/progressBar&quot;\n        style=&quot;?android:attr/progressBarStyleHorizontal&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:indeterminate=&quot;false&quot;\n        android:max=&quot;10&quot;\n        android:padding=&quot;10dip&quot;&gt;\n    &lt;/ProgressBar&gt;\n    &lt;Button\n        android:id=&quot;@+id/button1&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Start Progress&quot; &gt;\n    &lt;/Button&gt;\n    &lt;TextView android:id=&quot;@+id/output&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Replace&quot;/&gt;\n&lt;/LinearLayout&gt;\n\n    ","answerCount":21,"upVoteCount":500,"suggestedAnswer":[{"text":"My full answer is here, but here is an explanatory image to supplement the other answers on this page. For me, understanding where all the variables were going was the most confusing part in the beginning.\n\n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution1","@type":"Answer","upvoteCount":0},{"text":"Ok, you are trying to access the GUI via another thread. This, in the main, is not good practice.\n\nThe AsyncTask executes everything in doInBackground() inside of another thread, which does not have access to the GUI where your views are.\n\npreExecute() and postExecute() offer you access to the GUI before and after the heavy lifting occurs in this new thread, and you can even pass the result of the long operation to postExecute() to then show any results of processing.\n\nSee these lines where you are later updating your TextView:\n\nTextView txt = findViewById(R.id.output);\ntxt.setText(&quot;Executed&quot;);\n\n\nPut them in onPostExecute().\n\nYou will then see your TextView text updated after the doInBackground completes.\n\nI noticed that your onClick listener does not check to see which View has been selected. I find the easiest way to do this is via switch statements. I have a complete class edited below with all suggestions to save confusion.\n\nimport android.app.Activity;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.provider.Settings.System;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.view.View.OnClickListener;\n\npublic class AsyncTaskActivity extends Activity implements OnClickListener {\n\n    Button btn;\n    AsyncTask&lt;?, ?, ?&gt; runningTask;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        btn = findViewById(R.id.button1);\n\n        // Because we implement OnClickListener, we only\n        // have to pass &quot;this&quot; (much easier)\n        btn.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View view) {\n        // Detect the view that was &quot;clicked&quot;\n        switch (view.getId()) {\n        case R.id.button1:\n            if (runningTask != null)\n                runningTask.cancel(true);\n            runningTask = new LongOperation();\n            runningTask.execute();\n            break;\n        }\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        // Cancel running task(s) to avoid memory leaks\n        if (runningTask != null)\n            runningTask.cancel(true);\n    }\n\n    private final class LongOperation extends AsyncTask&lt;Void, Void, String&gt; {\n\n        @Override\n        protected String doInBackground(Void... params) {\n            for (int i = 0; i &lt; 5; i++) {\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    // We were cancelled; stop sleeping!\n                }\n            }\n            return &quot;Executed&quot;;\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            TextView txt = (TextView) findViewById(R.id.output);\n            txt.setText(&quot;Executed&quot;); // txt.setText(result);\n            // You might want to change &quot;executed&quot; for the returned string\n            // passed into onPostExecute(), but that is up to you\n        }\n    }\n}\n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution2","@type":"Answer","upvoteCount":0},{"text":"I&apos;m sure it is executing properly, but you&apos;re trying to change the UI elements in the background thread and that won&apos;t do.\n\nRevise your call and AsyncTask as follows:\n\nCalling Class\n\nNote: I personally suggest using onPostExecute() wherever you execute your AsyncTask thread and not in the class that extends AsyncTask itself. I think it makes the code easier to read especially if you need the AsyncTask in multiple places handling the results slightly different.\n\nnew LongThread() {\n    @Override public void onPostExecute(String result) {\n        TextView txt = (TextView) findViewById(R.id.output);\n        txt.setText(result);\n    }\n}.execute(&quot;&quot;);\n\n\nLongThread class (extends AsyncTask):\n\n@Override\nprotected String doInBackground(String... params) {\n    for (int i = 0; i &lt; 5; i++) {\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    return &quot;Executed&quot;;\n}      \n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution3","@type":"Answer","upvoteCount":0},{"text":"\n  Concept and code here\n\n\nI have created a simple example for using AsyncTask of Android. It starts with onPreExecute(), doInBackground(), publishProgress() and finally onProgressUpdate().\n\nIn this, doInBackground() works as a background thread, while other works in the UI Thread. You can&apos;t access an UI element in doInBackground(). The sequence is the same as I have mentioned.\n\nHowever, if you need to update any widget from doInBackground, you can publishProgress from doInBackground which will call onProgressUpdate to update your UI widget.\n\nclass TestAsync extends AsyncTask&lt;Void, Integer, String&gt; {\n    String TAG = getClass().getSimpleName();\n\n    protected void onPreExecute() {\n        super.onPreExecute();\n        Log.d(TAG + &quot; PreExceute&quot;,&quot;On pre Exceute......&quot;);\n    }\n\n    protected String doInBackground(Void...arg0) {\n        Log.d(TAG + &quot; DoINBackGround&quot;, &quot;On doInBackground...&quot;);\n\n        for (int i=0; i&lt;10; i++){\n            Integer in = new Integer(i);\n            publishProgress(i);\n        }\n        return &quot;You are at PostExecute&quot;;\n    }\n\n    protected void onProgressUpdate(Integer...a) {\n        super.onProgressUpdate(a);\n        Log.d(TAG + &quot; onProgressUpdate&quot;, &quot;You are in progress update ... &quot; + a[0]);\n    }\n\n    protected void onPostExecute(String result) {\n        super.onPostExecute(result);\n        Log.d(TAG + &quot; onPostExecute&quot;, &quot;&quot; + result);\n    }\n}\n\n\nCall it like this in your activity:\n\nnew TestAsync().execute();\n\n\nDeveloper Reference Here\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution4","@type":"Answer","upvoteCount":0},{"text":"Move these two lines:\n\nTextView txt = (TextView) findViewById(R.id.output);\ntxt.setText(&quot;Executed&quot;);\n\n\nout of your AsyncTask&apos;s doInBackground method and put them in the onPostExecute method. Your AsyncTask should look something like this:\n\nprivate class LongOperation extends AsyncTask&lt;String, Void, String&gt; {\n\n    @Override\n    protected String doInBackground(String... params) {\n        try {\n            Thread.sleep(5000); // no need for a loop\n        } catch (InterruptedException e) {\n            Log.e(&quot;LongOperation&quot;, &quot;Interrupted&quot;, e);\n            return &quot;Interrupted&quot;;\n        }\n        return &quot;Executed&quot;;\n    }      \n\n    @Override\n    protected void onPostExecute(String result) {               \n        TextView txt = (TextView) findViewById(R.id.output);\n        txt.setText(result);\n    }\n}\n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution5","@type":"Answer","upvoteCount":0},{"text":"How to memorize the parameters used in AsyncTask?\n\n\n  Don&apos;t\n\n\nIf you are new to AsyncTask then it is very common to get confused while writing an AsyncTask. The main culprits are the parameters used in the AsyncTask, i.e., AsyncTask&lt;A, B, C&gt;. Based on the A, B, C (arguments) signature of the methods differs which makes things even more confusing.\n\nKeep it simple!\n\nThe key is don&apos;t memorize. If you can visualize what your task really needs to do then writing the AsyncTask with the correct signature at the first attempt would be a piece of cake. Just figure out what your Input, Progress, and Output are, and you will be good to go.\n\nSo what is an AsyncTask?\n\nAsyncTask is a background task that runs in the background thread. It takes an Input, performs Progress and gives an Output.\n\n\n  I.e., AsyncTask&lt;Input, Progress, Output&gt;.\n\n\nFor example:\n\n\n\nWhat is the relationship with methods?\n\n\n  Between AsyncTask and doInBackground()\n\n\n\n\n\n  doInBackground() and onPostExecute(),onProgressUpdate()` are also\n  related\n\n\n\n\nHow to write that in the code?\n\nDownloadTask extends AsyncTask&lt;String, Integer, String&gt;{\n\n    // Always same signature\n    @Override\n    public void onPreExecute()\n    {}\n\n    @Override\n    public String doInbackGround(String... parameters)\n    {\n        // Download code\n        int downloadPerc = // Calculate that\n        publish(downloadPerc);\n\n        return &quot;Download Success&quot;;\n    }\n\n    @Override\n    public void onPostExecute(String result)\n    {\n        super.onPostExecute(result);\n    }\n\n    @Override\n    public void onProgressUpdate(Integer... parameters)\n    {\n        // Show in spinner, and access UI elements\n    }\n\n}\n\n\nHow will you run this Task?\n\nnew DownLoadTask().execute(&quot;Paradise.mp3&quot;);\n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution6","@type":"Answer","upvoteCount":0},{"text":"Background / Theory\n\nAsyncTask allows you to run a task on a background thread, while publishing results to the UI thread.\n\n\n  The user should always able to interact with the app so it is important\n  to avoid blocking the main (UI) thread with tasks such as\n  downloading content from the web.\n  \n  This is why we use an AsyncTask.\n  \n  It offers a straightforward interface by wrapping the UI thread message queue and handler that allow you to send and process runnable objects and messages from other threads.\n\n\nImplementation\n\nAsyncTask is a generic class.  (It takes parameterized types in its constructor.)\n\nIt uses these three generic types:   \n\nParams - the type of the parameters sent to the task upon execution.\n\nProgress - the type of the progress units published during the background computation.\n\nResult - the type of the result of the background computation.\n\n\n  Not all types are always used by an asynchronous task. To mark a type as unused, simply use the type Void:\n  \n  private class MyTask extends AsyncTask&lt;Void, Void, Void&gt; { ... }\n\n\nThese three parameters correspond to three primary functions you can override in AsyncTask:\n\n\ndoInBackground(Params...)\nonProgressUpdate(Progress...)\nonPostExecute(Result)\n\n\nTo execute AsyncTask\n\n\nCall execute() with parameters to be sent to the background task.\n\n\nWhat Happens\n\n\nOn main/UI thread, onPreExecute() is called.\n\n\nTo initialize something in this thread. (E.g. show a progress bar on the user interface.)\n\nOn a background thread, doInBackground(Params...) is called.\n\n\n(Params were passed via execute.)\nWhere the long-running task should happen.\nMust override at least doInBackground() to use AsyncTask.\nCall publishProgress(Progress...) to update the user interface with a display of progress (e.g. UI animation or log text printed) while the background computation is still executing.\n\n\nCauses onProgressUpdate() to be called.\n\n\nOn the background thread a result is returned from doInBackground().\n\n\n(This triggers the next step.)\n\nOn main/UI thread, onPostExecute() is called with the returned result.\n\n\nExamples\n\nIn both examples the &quot;blocking task&quot; is a download from the web.\n\n\nExample A downloads an image and displays it in an ImageView, while\nExample B downloads some files.\n\n\nExample A\n\nThe doInBackground() method downloads the image and stores it in an object of type BitMap.  The onPostExecute() method takes the bitmap and places it in the ImageView.\n\nclass DownloadImageTask extends AsyncTask&lt;String, Void, Bitmap&gt; {\n    ImageView bitImage;\n\n    public DownloadImageTask(ImageView bitImage) {\n        this.bitImage = bitImage;\n    }\n\n    protected Bitmap doInBackground(String... urls) {\n        String urldisplay = urls[0];\n        Bitmap mBmp = null;\n        try {\n            InputStream in = new java.net.URL(urldisplay).openStream();\n            mBmp = BitmapFactory.decodeStream(in);\n        } catch (Exception e) {\n            Log.e(&quot;Error&quot;, e.getMessage());\n            e.printStackTrace();\n        }\n        return mBmp;\n    }\n\n    protected void onPostExecute(Bitmap result) {\n        bitImage.setImageBitmap(result);\n    }\n}\n\n\nExample B\n\n private class DownloadFilesTask extends AsyncTask&lt;URL, Integer, Long&gt; {\n     protected Long doInBackground(URL... urls) {\n         int count = urls.length;\n         long totalSize = 0;\n         for (int i = 0; i &lt; count; i++) {\n             totalSize += Downloader.downloadFile(urls[i]);\n             publishProgress((int) ((i / (float) count) * 100));\n             // Escape early if cancel() is called\n             if (isCancelled()) break;\n         }\n         return totalSize;\n     }\n\n     protected void onProgressUpdate(Integer... progress) {\n         setProgressPercent(progress[0]);\n     }\n\n     protected void onPostExecute(Long result) {\n         showDialog(&quot;Downloaded &quot; + result + &quot; bytes&quot;);\n     }\n }\n\n\nExample B execution\n\nnew DownloadFilesTask().execute(url1, url2, url3);\n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution7","@type":"Answer","upvoteCount":0},{"text":"When an asynchronous task is executed, the task goes through four steps:\n\n\nonPreExecute()\ndoInBackground(Params...)\nonProgressUpdate(Progress...)\nonPostExecute(Result)\n\n\nBelow is a demo example:\n\nprivate class DownloadFilesTask extends AsyncTask&lt;URL, Integer, Long&gt; {\n\n    protected Long doInBackground(URL... urls) {\n        int count = urls.length;\n        long totalSize = 0;\n        for (int i = 0; i &lt; count; i++) {\n            totalSize += Downloader.downloadFile(urls[i]);\n            publishProgress((int) ((i / (float) count) * 100));\n\n            // Escape early if cancel() is called\n            if (isCancelled())\n                break;\n        }\n        return totalSize;\n    }\n\n    protected void onProgressUpdate(Integer... progress) {\n        setProgressPercent(progress[0]);\n    }\n\n    protected void onPostExecute(Long result) {\n        showDialog(&quot;Downloaded &quot; + result + &quot; bytes&quot;);\n    }\n }\n\n\nAnd once you created, a task is executed very simply:\n\nnew DownloadFilesTask().execute(url1, url2, url3);\n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution8","@type":"Answer","upvoteCount":0},{"text":"Shortest example for just doing something asynchronously:\n\nclass MyAsyncTask extends android.os.AsyncTask {\n    @Override\n    protected Object doInBackground(Object[] objects) {\n        // Do something asynchronously\n        return null;\n    }\n}\n\n\nTo run it:\n\n(new MyAsyncTask()).execute();\n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution9","@type":"Answer","upvoteCount":0},{"text":"When you are in the worker thread, you can not directly manipulate UI elements on Android.\n\nWhen you are using AsyncTask please understand the callback methods.\n\nFor example:\n\npublic class MyAyncTask extends AsyncTask&lt;Void, Void, Void&gt;{\n\n    @Override\n    protected void onPreExecute() {\n        // Here you can show progress bar or something on the similar lines.\n        // Since you are in a UI thread here.\n        super.onPreExecute();\n    }\n\n    @Override\n    protected void onPostExecute(Void aVoid) {\n        super.onPostExecute(aVoid);\n        // After completing execution of given task, control will return here.\n        // Hence if you want to populate UI elements with fetched data, do it here.\n    }\n\n    @Override\n    protected void onProgressUpdate(Void... values) {\n        super.onProgressUpdate(values);\n        // You can track you progress update here\n    }\n\n    @Override\n    protected Void doInBackground(Void... params) {\n        // Here you are in the worker thread and you are not allowed to access UI thread from here.\n        // Here you can perform network operations or any heavy operations you want.\n        return null;\n    }\n}\n\n\nFYI:\nTo access the UI thread from a worker thread, you either use runOnUiThread() method or post method on your view.\n\nFor instance:\n\nrunOnUiThread(new Runnable() {\n    textView.setText(&quot;something.&quot;);\n});\n\nor\n    yourview.post(new Runnable() {\n    yourview.setText(&quot;something&quot;);\n});\n\n\nThis will help you know the things better. Hence in you case, you need to set your textview in the onPostExecute() method.\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution10","@type":"Answer","upvoteCount":0},{"text":"I would recommend making your life easier by using this library for background works:\n\nhttps://github.com/Arasthel/AsyncJobLibrary\n\nIt&apos;s this simple...\n\nAsyncJob.doInBackground(new AsyncJob.OnBackgroundJob() {\n\n    @Override\n    public void doOnBackground() {\n        startRecording();\n    }\n});\n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution11","@type":"Answer","upvoteCount":0},{"text":"Sample Async Task with POST request:\n\nList&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\nparams.add(new BasicNameValuePair(&quot;key1&quot;, &quot;value1&quot;));\nparams.add(new BasicNameValuePair(&quot;key1&quot;, &quot;value2&quot;));\nnew WEBSERVICEREQUESTOR(URL, params).execute();\n\nclass WEBSERVICEREQUESTOR extends AsyncTask&lt;String, Integer, String&gt;\n{\n    String URL;\n    List&lt;NameValuePair&gt; parameters;\n\n    private ProgressDialog pDialog;\n\n    public WEBSERVICEREQUESTOR(String url, List&lt;NameValuePair&gt; params)\n    {\n        this.URL = url;\n        this.parameters = params;\n    }\n\n    @Override\n    protected void onPreExecute()\n    {\n        pDialog = new ProgressDialog(LoginActivity.this);\n        pDialog.setMessage(&quot;Processing Request...&quot;);\n        pDialog.setIndeterminate(false);\n        pDialog.setCancelable(false);\n        pDialog.show();\n        super.onPreExecute();\n    }\n\n    @Override\n    protected String doInBackground(String... params)\n    {\n        try\n        {\n            DefaultHttpClient httpClient = new DefaultHttpClient();\n            HttpEntity httpEntity = null;\n            HttpResponse httpResponse = null;\n\n            HttpPost httpPost = new HttpPost(URL);\n\n            if (parameters != null)\n            {\n                httpPost.setEntity(new UrlEncodedFormEntity(parameters));\n            }\n            httpResponse = httpClient.execute(httpPost);\n\n            httpEntity = httpResponse.getEntity();\n            return EntityUtils.toString(httpEntity);\n\n        }  catch (Exception e)\n        {\n\n        }\n        return &quot;&quot;;\n    }\n\n    @Override\n    protected void onPostExecute(String result)\n    {\n        pDialog.dismiss();\n\n        try\n        {\n\n        }\n        catch (Exception e)\n        {\n\n        }\n        super.onPostExecute(result);\n    }\n}\n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution12","@type":"Answer","upvoteCount":0},{"text":"Update: March 2020\n\nAccording to Android developer official documentation, AsyncTask is now deprecated. \n\nIt&apos;s recommended to use kotlin corourines instead. Simply, it allows you to write asynchronous tasks in a sequential style. \n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution13","@type":"Answer","upvoteCount":0},{"text":"Simply:\n\nLongOperation MyTask = new LongOperation();\nMyTask.execute();\n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution14","@type":"Answer","upvoteCount":0},{"text":"You need to declare the button onclicklistener. Once clicked, it calls AsyncTask class DownloadJson.\n\nThe process will be shown below:\n\n@Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        btn = (Button) findViewById(R.id.button1);\n\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                new DownloadJson().execute();\n            }\n        });\n    }\n\n\n\n\n    // DownloadJSON AsyncTask\n    private class DownloadJson extends AsyncTask&lt;Void, Void, Void&gt; {\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n        }\n\n        @Override\n        protected Void doInBackground(Void... params) {\n            newlist = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\n            json = jsonParser.makeHttpRequest(json, &quot;POST&quot;);\n            try {\n                newarray = new JSONArray(json);\n                    for (int i = 0; i &lt; countdisplay; i++) {\n                        HashMap&lt;String, String&gt; eachnew = new HashMap&lt;String, String&gt;();\n                        newobject = newarray.getJSONObject(i);\n                        eachnew.put(&quot;id&quot;, newobject.getString(&quot;ID&quot;));\n                        eachnew.put(&quot;name&quot;, newobject.getString(&quot;Name&quot;));\n                        newlist.add(eachnew);\n                    }\n                }\n            } catch (JSONException e) {\n                Log.e(&quot;Error&quot;, e.getMessage());\n                e.printStackTrace();\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void args) {\n            newlisttemp.addAll(newlist);\n            NewAdapterpager newadapterpager = new NewAdapterpager(ProcesssActivitypager.this, newlisttemp);\n            newpager.setAdapter(newadapterpager);\n        }\n    }\n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution15","@type":"Answer","upvoteCount":0},{"text":"private class AsyncTaskDemo extends AsyncTask&lt;Void, Void, Void&gt; {\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        // Showing progress dialog\n        progressDialog = new ProgressDialog(this);\n        progressDialog.setMessage(&quot;Loading...&quot;);\n        progressDialog.setCancelable(false);\n        progressDialog.show();\n    }\n\n    @Override\n    protected Void doInBackground(Void... arg0) {\n\n        // Do code here\n\n        return null;\n    }\n\n    @Override\n    protected void onPostExecute(Void result) {\n        super.onPostExecute(result);\n        // Dismiss the progress dialog\n        if (progressDialog.isShowing()) {\n            progressDialog.dismiss();\n        }\n    }\n\n    @Override\n    protected void onCancelled() {\n\n        super.onCancelled();\n        progressDialog.dismiss();\n        Toast toast = Toast.makeText(\n                          getActivity(),\n                          &quot;An error is occurred due to some problem&quot;,\n                          Toast.LENGTH_LONG);\n        toast.setGravity(Gravity.TOP, 25, 400);\n        toast.show();\n    }\n\n}\n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution16","@type":"Answer","upvoteCount":0},{"text":"While working with AsyncTask, it is necessary to create a class-successor and in it to register the implementation of methods necessary for us. In this lesson we will look at three methods:\n\ndoInBackground - will be executed in a new thread, and here we solve all our difficult tasks. Because a non-primary thread does not have access to the UI.\n\nonPreExecute - executed before doInBackground and has access to the UI\n\nonPostExecute - executed after doInBackground (does not work if AsyncTask was canceled - about this in the next lessons) and has access to the UI.\n\nThis is the MyAsyncTask class:\n\nclass MyAsyncTask extends AsyncTask&lt;Void, Void, Void&gt; {\n\n  @Override\n  protected void onPreExecute() {\n    super.onPreExecute();\n    tvInfo.setText(&quot;Start&quot;);\n  }\n\n  @Override\n  protected Void doInBackground(Void... params) {\n    // Your background method\n    return null;\n  }\n\n  @Override\n  protected void onPostExecute(Void result) {\n    super.onPostExecute(result);\n    tvInfo.setText(&quot;Finish&quot;);\n  }\n}\n\n\nAnd this is how to call in your Activity or Fragment:\n\nMyAsyncTask myAsyncTask = new MyAsyncTask();\nmyAsyncTask.execute();\n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution17","@type":"Answer","upvoteCount":0},{"text":"AsyncTask:\npublic class MainActivity extends AppCompatActivity {\n\n private String ApiUrl=&quot;your_api&quot;;\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n     super.onCreate(savedInstanceState);\n     setContentView(R.layout.activity_main);\n     MyTask myTask=new MyTask();\n     try {\n         String result=myTask.execute(ApiUrl).get();\n         Toast.makeText(getApplicationContext(),result,Toast.LENGTH_SHORT).show();\n     } catch (ExecutionException e) {\n         e.printStackTrace();\n     } catch (InterruptedException e) {\n        e.printStackTrace();\n     }\n\n  }\n\n\n   public class MyTask extends AsyncTask&lt;String,Void,String&gt;{\n\n\n    @Override\n    protected String doInBackground(String... strings) {\n        String result=&quot;&quot;;\n        HttpURLConnection httpURLConnection=null;\n        URL url;\n\n        try {\n            url=new URL(strings[0]);\n            httpURLConnection=(HttpURLConnection) url.openConnection();\n            InputStream inputStream=httpURLConnection.getInputStream();\n            InputStreamReader reader=new InputStreamReader(inputStream);\n            result=getData(reader);\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return result;\n    }\n\n    public String getData(InputStreamReader reader) throws IOException{\n        String result=&quot;&quot;;\n        int data=reader.read();\n        while (data!=-1){\n            char now=(char) data;\n            result+=data;\n            data=reader.read();\n        }\n        return result;\n    }\n  }\n}\n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution18","@type":"Answer","upvoteCount":0},{"text":"Sample AsyncTask example with progress\n\nimport android.animation.ObjectAnimator;\nimport android.os.AsyncTask;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.animation.AccelerateDecelerateInterpolator;\nimport android.view.animation.DecelerateInterpolator;\nimport android.view.animation.LinearInterpolator;\nimport android.widget.Button;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\n\npublic class AsyncTaskActivity extends AppCompatActivity implements View.OnClickListener {\n\n    Button btn;\n    ProgressBar progressBar;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        btn = (Button) findViewById(R.id.button1);\n        btn.setOnClickListener(this);\n        progressBar = (ProgressBar)findViewById(R.id.pbar);\n    }\n\n    public void onClick(View view) {\n        switch (view.getId()) {\n            case R.id.button1:\n                new LongOperation().execute(&quot;&quot;);\n                break;\n        }\n    }\n\n    private class LongOperation extends AsyncTask&lt;String, Integer, String&gt; {\n\n        @Override\n        protected String doInBackground(String... params) {\n            Log.d(&quot;AsyncTask&quot;, &quot;doInBackground&quot;);\n            for (int i = 0; i &lt; 5; i++) {\n                try {\n                    Log.d(&quot;AsyncTask&quot;, &quot;task &quot;+(i + 1));\n                    publishProgress(i + 1);\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    Thread.interrupted();\n                }\n            }\n            return &quot;Completed&quot;;\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            Log.d(&quot;AsyncTask&quot;, &quot;onPostExecute&quot;);\n            TextView txt = (TextView) findViewById(R.id.output);\n            txt.setText(result);\n            progressBar.setProgress(0);\n        }\n\n        @Override\n        protected void onPreExecute() {\n            Log.d(&quot;AsyncTask&quot;, &quot;onPreExecute&quot;);\n            TextView txt = (TextView) findViewById(R.id.output);\n            txt.setText(&quot;onPreExecute&quot;);\n            progressBar.setMax(500);\n            progressBar.setProgress(0);\n        }\n\n        @Override\n        protected void onProgressUpdate(Integer... values) {\n            Log.d(&quot;AsyncTask&quot;, &quot;onProgressUpdate &quot;+values[0]);\n            TextView txt = (TextView) findViewById(R.id.output);\n            txt.setText(&quot;onProgressUpdate &quot;+values[0]);\n\n            ObjectAnimator animation = ObjectAnimator.ofInt(progressBar, &quot;progress&quot;, 100 * values[0]);\n            animation.setDuration(1000);\n            animation.setInterpolator(new LinearInterpolator());\n            animation.start();\n        }\n    }\n}\n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution19","@type":"Answer","upvoteCount":0},{"text":"if you open AsyncTask class you can see below code.\n\npublic abstract class AsyncTask&lt;Params, Progress, Result&gt; {\n    @WorkerThread\n    protected abstract Result doInBackground(Params... params);\n    @MainThread\n    protected void onPreExecute() {\n    }\n    @SuppressWarnings({&quot;UnusedDeclaration&quot;})\n    @MainThread\n    protected void onPostExecute(Result result) {\n    }\n}\n\n\nAsyncTask features\n\n\nAsyncTask is abstract class\nAsyncTask is have 3 generic params.\nAsyncTask has abstract method of doInBackground, onPreExecute, onPostExecute\ndoInBackground is WorkerThread (you can&apos;t update UI)\nonPreExecute is MainThread\nonPostExecute is MainThread (you can update UI)\n\n\nexample\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_login);\n    mEmailView = (AutoCompleteTextView) findViewById(R.id.email);\n\n    AsyncTask&lt;Void, Void, Post&gt; asyncTask = new AsyncTask&lt;Void, Void, Post&gt;() {\n        @Override\n        protected Post doInBackground(Void... params) {\n            try {\n                ApiClient defaultClient = Configuration.getDefaultApiClient();\n                String authorization = &quot;eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE1ODIxMzM4MTB9.bA3Byc_SuB6jzqUGAY4Pyt4oBNg0VfDRctZ8-PcPlYg&quot;; // String | JWT token for Authorization\n                ApiKeyAuth Bearer = (ApiKeyAuth) defaultClient.getAuthentication(&quot;Bearer&quot;);\n                Bearer.setApiKey(authorization);\n                PostApi apiInstance = new PostApi();\n                String id = &quot;1&quot;; // String | id\n                Integer commentPage = 1; // Integer | Page number for Comment\n                Integer commentPer = 10; // Integer | Per page number For Comment\n                Post result;\n                try {\n                    result = apiInstance.apiV1PostsIdGet(id, authorization, commentPage, commentPer);\n                } catch (ApiException e) {\n                    e.printStackTrace();\n                    result = new Post();\n                }\n                return result;\n            } catch (Exception e) {\n                e.printStackTrace();\n                return new Post();\n            }\n        }\n\n        @Override\n        protected void onPostExecute(Post post) {\n            super.onPostExecute(post);\n            if (post != null) {\n                mEmailView.setText(post.getBody());\n                System.out.print(post);\n            }\n        }\n    };\n    asyncTask.execute();\n}\n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution20","@type":"Answer","upvoteCount":0},{"text":"Change your code as given below:\n\n@Override\nprotected void onPostExecute(String result) {\n\n    runOnUiThread(new Runnable() {\n        public void run() {\n            TextView txt = (TextView) findViewById(R.id.output);\n            txt.setText(&quot;Executed&quot;);\n        }\n    });\n}\n\n    ","url":"https://solutionschecker.com/questions/asynctask-android-example-1657388127898#solution21","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="22"/><script id="google-analytics" data-nscript="beforeInteractive">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NXVLL8B');</script><link rel="preload" href="/_next/static/css/c116652e2d6f4ad0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c116652e2d6f4ad0.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-862498b6ec7885c3.js" defer=""></script><script src="/_next/static/chunks/294-106ef8570fa99deb.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-47289857226115f9.js" defer=""></script><script src="/_next/static/xZs8haGjOP63QuDE0kxeX/_buildManifest.js" defer=""></script><script src="/_next/static/xZs8haGjOP63QuDE0kxeX/_ssgManifest.js" defer=""></script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NXVLL8B"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h1 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h1></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/asynctask-android-example-1657388127898#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/asynctask-android-example-1657388127898"><h1>AsyncTask Android example</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/android-asynctask">android-asynctask</a></div></div><div class="question-content mt-5">
                
<p>I was reading about <code>AsyncTask</code>, and I tried the simple program below. But it does not seem to work. How can I make it work?</p>

<pre class="default s-code-block"><code class="hljs language-typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AsyncTaskActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Activity</span> {

    <span class="hljs-title class_">Button</span> btn;

    <span class="hljs-comment">/** Called when the activity is first created. */</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onCreate</span>(<span class="hljs-params">Bundle savedInstanceState</span>) {
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onCreate</span>(savedInstanceState);
        <span class="hljs-title function_">setContentView</span>(R.<span class="hljs-property">layout</span>.<span class="hljs-property">main</span>);

        btn = (<span class="hljs-title class_">Button</span>) <span class="hljs-title function_">findViewById</span>(R.<span class="hljs-property">id</span>.<span class="hljs-property">button1</span>);
        btn.<span class="hljs-title function_">setOnClickListener</span>((<span class="hljs-title class_">OnClickListener</span>) <span class="hljs-variable language_">this</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onClick</span>(<span class="hljs-params">View view</span>){
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">LongOperation</span>().<span class="hljs-title function_">execute</span>(<span class="hljs-string">""</span>);
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LongOperation</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">AsyncTask</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Void</span>, <span class="hljs-title class_">String</span>&gt; {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">doInBackground</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>... params</span>) {
            <span class="hljs-keyword">for</span>(int i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">5</span>;i++) {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">sleep</span>(<span class="hljs-number">1000</span>);
                } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">InterruptedException</span> e) {
                    <span class="hljs-comment">// TODO Auto-generated catch block</span>
                    e.<span class="hljs-title function_">printStackTrace</span>();
                }
            }
            <span class="hljs-title class_">TextView</span> txt = (<span class="hljs-title class_">TextView</span>) <span class="hljs-title function_">findViewById</span>(R.<span class="hljs-property">id</span>.<span class="hljs-property">output</span>);
            txt.<span class="hljs-title function_">setText</span>(<span class="hljs-string">"Executed"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPostExecute</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> result</span>) {
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPreExecute</span>(<span class="hljs-params"></span>) {
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onProgressUpdate</span>(<span class="hljs-params">Void... values</span>) {
        }
    }
}
</code></pre>

<p>I am just trying to change the label after 5 seconds in the background process.</p>

<p>This is my <strong>main.xml</strong>:</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
              <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"fill_parent"</span>
              <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"fill_parent"</span>
              <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span> &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ProgressBar</span>
        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/progressBar"</span>
        <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/progressBarStyleHorizontal"</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:indeterminate</span>=<span class="hljs-string">"false"</span>
        <span class="hljs-attr">android:max</span>=<span class="hljs-string">"10"</span>
        <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"10dip"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ProgressBar</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>
        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/button1"</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:text</span>=<span class="hljs-string">"Start Progress"</span> &gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span> <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/output"</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:text</span>=<span class="hljs-string">"Replace"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span>
</code></pre>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><h1 class="text-lg font-semibold mb-5">Navigate to solutions: </h1><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li><li class="pagination-solution-item"><span data-id="#solution17" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">17</span></li><li class="pagination-solution-item"><span data-id="#solution18" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">18</span></li><li class="pagination-solution-item"><span data-id="#solution19" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">19</span></li><li class="pagination-solution-item"><span data-id="#solution20" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">20</span></li><li class="pagination-solution-item"><span data-id="#solution21" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">21</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 1</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>My full answer is <a href="https://stackoverflow.com/questions/25647881/android-asynctask-example-and-explanation/25647882#25647882">here</a>, but here is an explanatory image to supplement the other answers on this page. For me, understanding where all the variables were going was the most confusing part in the beginning.</p>

<p><a href="https://i.stack.imgur.com/ytin1.png" rel="noreferrer"><img src="https://i.stack.imgur.com/ytin1.png" alt="enter image description here"></a></p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 2</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Ok, you are trying to access the GUI via another thread. This, in the main, is not good practice.</p>

<p>The AsyncTask executes everything in <code>doInBackground()</code> inside of another thread, which does not have access to the GUI where your views are.</p>

<p><code>preExecute()</code> and <code>postExecute()</code> offer you access to the GUI before and after the heavy lifting occurs in this new thread, and you can even pass the result of the long operation to <code>postExecute()</code> to then show any results of processing.</p>

<p>See these lines where you are later updating your TextView:</p>

<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-type">TextView</span> <span class="hljs-variable">txt</span> <span class="hljs-operator">=</span> findViewById(R.id.output);
txt.setText(<span class="hljs-string">"Executed"</span>);
</code></pre>

<p>Put them in <code>onPostExecute()</code>.</p>

<p>You will then see your TextView text updated after the <code>doInBackground</code> completes.</p>

<p>I noticed that your onClick listener does not check to see which View has been selected. I find the easiest way to do this is via switch statements. I have a complete class edited below with all suggestions to save confusion.</p>

<pre class="default s-code-block"><code class="hljs language-scala"><span class="hljs-keyword">import</span> android.app.<span class="hljs-type">Activity</span>;
<span class="hljs-keyword">import</span> android.os.<span class="hljs-type">AsyncTask</span>;
<span class="hljs-keyword">import</span> android.os.<span class="hljs-type">Bundle</span>;
<span class="hljs-keyword">import</span> android.provider.<span class="hljs-type">Settings</span>.<span class="hljs-type">System</span>;
<span class="hljs-keyword">import</span> android.view.<span class="hljs-type">View</span>;
<span class="hljs-keyword">import</span> android.widget.<span class="hljs-type">Button</span>;
<span class="hljs-keyword">import</span> android.widget.<span class="hljs-type">TextView</span>;
<span class="hljs-keyword">import</span> android.view.<span class="hljs-type">View</span>.<span class="hljs-type">OnClickListener</span>;

public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AsyncTaskActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Activity</span> <span class="hljs-title">implements</span> <span class="hljs-title">OnClickListener</span> </span>{

    <span class="hljs-type">Button</span> btn;
    <span class="hljs-type">AsyncTask</span>&lt;?, ?, ?&gt; runningTask;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> void onCreate(<span class="hljs-type">Bundle</span> savedInstanceState) {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
        setContentView(<span class="hljs-type">R</span>.layout.main);
        btn = findViewById(<span class="hljs-type">R</span>.id.button1);

        <span class="hljs-comment">// Because we implement OnClickListener, we only</span>
        <span class="hljs-comment">// have to pass "this" (much easier)</span>
        btn.setOnClickListener(<span class="hljs-keyword">this</span>);
    }

    <span class="hljs-meta">@Override</span>
    public void onClick(<span class="hljs-type">View</span> view) {
        <span class="hljs-comment">// Detect the view that was "clicked"</span>
        switch (view.getId()) {
        <span class="hljs-keyword">case</span> <span class="hljs-type">R</span>.id.button1:
            <span class="hljs-keyword">if</span> (runningTask != <span class="hljs-literal">null</span>)
                runningTask.cancel(<span class="hljs-literal">true</span>);
            runningTask = <span class="hljs-keyword">new</span> <span class="hljs-type">LongOperation</span>();
            runningTask.execute();
            <span class="hljs-keyword">break</span>;
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> void onDestroy() {
        <span class="hljs-keyword">super</span>.onDestroy();
        <span class="hljs-comment">// Cancel running task(s) to avoid memory leaks</span>
        <span class="hljs-keyword">if</span> (runningTask != <span class="hljs-literal">null</span>)
            runningTask.cancel(<span class="hljs-literal">true</span>);
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LongOperation</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AsyncTask&lt;Void</span>, <span class="hljs-title">Void</span>, <span class="hljs-title">String&gt;</span> </span>{

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-type">String</span> doInBackground(<span class="hljs-type">Void</span>... params) {
            <span class="hljs-keyword">for</span> (int i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-type">Thread</span>.sleep(<span class="hljs-number">1000</span>);
                } <span class="hljs-keyword">catch</span> (<span class="hljs-type">InterruptedException</span> e) {
                    <span class="hljs-comment">// We were cancelled; stop sleeping!</span>
                }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-string">"Executed"</span>;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> void onPostExecute(<span class="hljs-type">String</span> result) {
            <span class="hljs-type">TextView</span> txt = (<span class="hljs-type">TextView</span>) findViewById(<span class="hljs-type">R</span>.id.output);
            txt.setText(<span class="hljs-string">"Executed"</span>); <span class="hljs-comment">// txt.setText(result);</span>
            <span class="hljs-comment">// You might want to change "executed" for the returned string</span>
            <span class="hljs-comment">// passed into onPostExecute(), but that is up to you</span>
        }
    }
}
</code></pre>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 3</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I'm sure it is executing properly, but you're trying to change the UI elements in the background thread and that won't do.</p>

<p>Revise your call and AsyncTask as follows:</p>

<p><strong>Calling Class</strong></p>

<p><strong>Note:</strong> I personally suggest using <code>onPostExecute()</code> wherever you execute your AsyncTask thread and not in the class that extends AsyncTask itself. I think it makes the code easier to read especially if you need the AsyncTask in multiple places handling the results slightly different.</p>

<pre class="default s-code-block"><code class="hljs language-typescript"><span class="hljs-keyword">new</span> <span class="hljs-title class_">LongThread</span>() {
    <span class="hljs-meta">@Override</span> <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPostExecute</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> result</span>) {
        <span class="hljs-title class_">TextView</span> txt = (<span class="hljs-title class_">TextView</span>) <span class="hljs-title function_">findViewById</span>(R.<span class="hljs-property">id</span>.<span class="hljs-property">output</span>);
        txt.<span class="hljs-title function_">setText</span>(result);
    }
}.<span class="hljs-title function_">execute</span>(<span class="hljs-string">""</span>);
</code></pre>

<p><strong>LongThread class (extends AsyncTask):</strong></p>

<pre class="default s-code-block"><code class="hljs language-typescript"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">doInBackground</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>... params</span>) {
    <span class="hljs-keyword">for</span> (int i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">sleep</span>(<span class="hljs-number">1000</span>);
        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">InterruptedException</span> e) {
            e.<span class="hljs-title function_">printStackTrace</span>();
        }
    }

    <span class="hljs-keyword">return</span> <span class="hljs-string">"Executed"</span>;
}      
</code></pre>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 4</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<blockquote>
  <p><a href="http://code2concept.blogspot.in/2015/01/asynctask-android-example.html" rel="noreferrer">Concept and code here</a></p>
</blockquote>

<p>I have created a simple example for using AsyncTask of Android. It starts with <code>onPreExecute(), doInBackground(), publishProgress()</code> and finally <code>onProgressUpdate()</code>.</p>

<p>In this, doInBackground() works as a background thread, while other works in the UI Thread. You can't access an UI element in doInBackground(). The sequence is the same as I have mentioned.</p>

<p>However, if you need to update any widget from <code>doInBackground</code>, you can <code>publishProgress</code> from <code>doInBackground</code> which will call <code>onProgressUpdate</code> to update your UI widget.</p>

<pre class="default s-code-block"><code class="hljs language-typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestAsync</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">AsyncTask</span>&lt;<span class="hljs-title class_">Void</span>, <span class="hljs-title class_">Integer</span>, <span class="hljs-title class_">String</span>&gt; {
    <span class="hljs-title class_">String</span> <span class="hljs-variable constant_">TAG</span> = <span class="hljs-title function_">getClass</span>().<span class="hljs-title function_">getSimpleName</span>();

    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPreExecute</span>(<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onPreExecute</span>();
        <span class="hljs-title class_">Log</span>.<span class="hljs-title function_">d</span>(<span class="hljs-variable constant_">TAG</span> + <span class="hljs-string">" PreExceute"</span>,<span class="hljs-string">"On pre Exceute......"</span>);
    }

    <span class="hljs-keyword">protected</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">doInBackground</span>(<span class="hljs-params">Void...arg0</span>) {
        <span class="hljs-title class_">Log</span>.<span class="hljs-title function_">d</span>(<span class="hljs-variable constant_">TAG</span> + <span class="hljs-string">" DoINBackGround"</span>, <span class="hljs-string">"On doInBackground..."</span>);

        <span class="hljs-keyword">for</span> (int i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">10</span>; i++){
            <span class="hljs-title class_">Integer</span> <span class="hljs-keyword">in</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(i);
            <span class="hljs-title function_">publishProgress</span>(i);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">"You are at PostExecute"</span>;
    }

    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onProgressUpdate</span>(<span class="hljs-params">Integer...a</span>) {
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onProgressUpdate</span>(a);
        <span class="hljs-title class_">Log</span>.<span class="hljs-title function_">d</span>(<span class="hljs-variable constant_">TAG</span> + <span class="hljs-string">" onProgressUpdate"</span>, <span class="hljs-string">"You are in progress update ... "</span> + a[<span class="hljs-number">0</span>]);
    }

    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPostExecute</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> result</span>) {
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onPostExecute</span>(result);
        <span class="hljs-title class_">Log</span>.<span class="hljs-title function_">d</span>(<span class="hljs-variable constant_">TAG</span> + <span class="hljs-string">" onPostExecute"</span>, <span class="hljs-string">""</span> + result);
    }
}
</code></pre>

<p>Call it like this in your activity:</p>

<pre class="default s-code-block"><code class="hljs language-scss">new <span class="hljs-built_in">TestAsync</span>()<span class="hljs-selector-class">.execute</span>();
</code></pre>

<p><a href="http://developer.android.com/reference/android/os/AsyncTask.html" rel="noreferrer">Developer Reference Here</a></p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 5</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Move these two lines:</p>

<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-type">TextView</span> <span class="hljs-variable">txt</span> <span class="hljs-operator">=</span> (TextView) findViewById(R.id.output);
txt.setText(<span class="hljs-string">"Executed"</span>);
</code></pre>

<p>out of your AsyncTask's <code>doInBackground</code> method and put them in the <code>onPostExecute</code> method. Your <code>AsyncTask</code> should look something like this:</p>

<pre class="default s-code-block"><code class="hljs language-scala"><span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LongOperation</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AsyncTask&lt;String</span>, <span class="hljs-title">Void</span>, <span class="hljs-title">String&gt;</span> </span>{

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-type">String</span> doInBackground(<span class="hljs-type">String</span>... params) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Thread</span>.sleep(<span class="hljs-number">5000</span>); <span class="hljs-comment">// no need for a loop</span>
        } <span class="hljs-keyword">catch</span> (<span class="hljs-type">InterruptedException</span> e) {
            <span class="hljs-type">Log</span>.e(<span class="hljs-string">"LongOperation"</span>, <span class="hljs-string">"Interrupted"</span>, e);
            <span class="hljs-keyword">return</span> <span class="hljs-string">"Interrupted"</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Executed"</span>;
    }      

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> void onPostExecute(<span class="hljs-type">String</span> result) {               
        <span class="hljs-type">TextView</span> txt = (<span class="hljs-type">TextView</span>) findViewById(<span class="hljs-type">R</span>.id.output);
        txt.setText(result);
    }
}
</code></pre>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 6</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h1>How to memorize the parameters used in AsyncTask?</h1>

<blockquote>
  <p>Don't</p>
</blockquote>

<p>If you are new to AsyncTask then it is very common to get confused while writing an AsyncTask. The main culprits are the parameters used in the AsyncTask, i.e., <code>AsyncTask&lt;A, B, C&gt;</code>. Based on the <strong>A, B, C (arguments)</strong> signature of the methods differs which makes things even more confusing.</p>

<h1>Keep it simple!</h1>

<p>The key is <strong>don't memorize</strong>. If you can visualize what your task really needs to do then writing the AsyncTask with the correct signature at the first attempt would be a piece of cake. Just figure out what your <code>Input</code>, <code>Progress</code>, and <code>Output</code> are, and you will be good to go.</p>

<h2>So what is an AsyncTask?</h2>

<p>AsyncTask is a background task that runs in the background thread. It takes an <code>Input</code>, performs <code>Progress</code> and gives an <code>Output</code>.</p>

<blockquote>
  <p><strong>I.e.</strong>, <code>AsyncTask&lt;Input, Progress, Output&gt;</code>.</p>
</blockquote>

<p><strong>For example:</strong></p>

<p><a href="https://i.stack.imgur.com/uaRqY.png" rel="noreferrer"><img src="https://i.stack.imgur.com/uaRqY.png" alt="Enter image description here"></a></p>

<h3>What is the relationship with methods?</h3>

<blockquote>
  <p>Between <code>AsyncTask</code> and <code>doInBackground()</code></p>
</blockquote>

<p><a href="https://i.stack.imgur.com/IE6tI.png" rel="noreferrer"><img src="https://i.stack.imgur.com/IE6tI.png" alt="Enter image description here"></a></p>

<blockquote>
  <p><code>doInBackground()</code> and <code>onPostExecute(),</code>onProgressUpdate()` are also
  related</p>
</blockquote>

<p><a href="https://i.stack.imgur.com/4VITv.png" rel="noreferrer"><img src="https://i.stack.imgur.com/4VITv.png" alt="Enter image description here"></a></p>

<p><strong>How to write that in the code?</strong></p>

<pre class="default s-code-block"><code class="hljs language-typescript"><span class="hljs-title class_">DownloadTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AsyncTask</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Integer</span>, <span class="hljs-title class_">String</span>&gt;{

    <span class="hljs-comment">// Always same signature</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPreExecute</span>(<span class="hljs-params"></span>)
    {}

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">doInbackGround</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>... parameters</span>)
    {
        <span class="hljs-comment">// Download code</span>
        int downloadPerc = <span class="hljs-comment">// Calculate that</span>
        <span class="hljs-title function_">publish</span>(downloadPerc);

        <span class="hljs-keyword">return</span> <span class="hljs-string">"Download Success"</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPostExecute</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> result</span>)
    {
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onPostExecute</span>(result);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onProgressUpdate</span>(<span class="hljs-params">Integer... parameters</span>)
    {
        <span class="hljs-comment">// Show in spinner, and access UI elements</span>
    }

}
</code></pre>

<p><strong>How will you run this Task?</strong></p>

<pre class="default s-code-block"><code class="hljs language-scss">new <span class="hljs-built_in">DownLoadTask</span>()<span class="hljs-selector-class">.execute</span>("Paradise.mp3");
</code></pre>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 7</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>Background / Theory</h2>

<p><strong>AsyncTask</strong> allows you to run a task on a background thread, while publishing results to the UI thread.</p>

<blockquote>
  <p>The user should always able to interact with the app so it is <strong>important</strong>
  <strong>to avoid blocking the main (UI) thread</strong> with tasks such as
  downloading content from the web.</p>
  
  <p>This is why we use an <strong><code>AsyncTask</code></strong>.</p>
  
  <p>It offers a straightforward interface by <em>wrapping the UI thread message queue and handler that allow you to send and process runnable objects and messages from other threads</em>.</p>
</blockquote>

<h2>Implementation</h2>

<p><strong>AsyncTask</strong> is a generic class.  (It takes <strong>parameterized types</strong> in its constructor.)</p>

<p>It uses these <strong>three generic types:</strong>   </p>

<p><strong><code>Params</code></strong> - the type of the parameters sent to the task upon execution.</p>

<p><strong><code>Progress</code></strong> - the type of the progress units published during the background computation.</p>

<p><strong><code>Result</code></strong> - the type of the result of the background computation.</p>

<blockquote>
  <p>Not all types are always used by an asynchronous task. To mark a type as unused, simply use the type Void:</p>
  
  <p><code>private class MyTask extends AsyncTask&lt;Void, Void, Void&gt; { ... }</code></p>
</blockquote>

<p>These three parameters <strong>correspond to three primary functions</strong> you can override in <strong><code>AsyncTask</code></strong>:</p>

<ul>
<li><code>doInBackground(Params...)</code></li>
<li><code>onProgressUpdate(Progress...)</code></li>
<li><code>onPostExecute(Result)</code></li>
</ul>

<p><strong>To execute AsyncTask</strong></p>

<ul>
<li>Call <strong><code>execute()</code></strong> with parameters to be sent to the background task.</li>
</ul>

<p><strong>What Happens</strong></p>

<ol>
<li><p>On <strong>main/UI thread</strong>, <strong><code>onPreExecute()</code></strong> is called.</p>

<ul>
<li>To initialize something in this thread. (E.g. show a progress bar on the user interface.)</li>
</ul></li>
<li><p>On a <strong>background thread</strong>, <strong><code>doInBackground(Params...)</code></strong> is called.</p>

<ul>
<li>(<code>Params</code> were passed via <code>execute</code>.)</li>
<li>Where the long-running task should happen.</li>
<li><p>Must override at least <code>doInBackground()</code> to use AsyncTask.</p></li>
<li><p>Call <strong><code>publishProgress(Progress...)</code></strong> to update the user interface with a display of progress (e.g. UI animation or log text printed) while the background computation is still executing.</p>

<ul>
<li>Causes <strong><code>onProgressUpdate()</code></strong> to be called.</li>
</ul></li>
</ul></li>
<li><p>On the <strong>background thread</strong> a result is returned from <code>doInBackground()</code>.</p>

<ul>
<li>(This triggers the next step.)</li>
</ul></li>
<li><p>On <strong>main/UI thread</strong>, <strong><code>onPostExecute()</code></strong> is called with the returned result.</p></li>
</ol>

<h2>Examples</h2>

<p>In both examples the "blocking task" is a download from the web.</p>

<ul>
<li><strong>Example A</strong> downloads <strong>an image</strong> and displays it in an ImageView, while</li>
<li><strong>Example B</strong> downloads <strong>some files</strong>.</li>
</ul>

<h2>Example A</h2>

<p>The <code>doInBackground()</code> method downloads the image and stores it in an object of type BitMap.  The <code>onPostExecute()</code> method takes the bitmap and places it in the ImageView.</p>

<pre class="default s-code-block"><code class="hljs language-scala"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DownloadImageTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AsyncTask&lt;String</span>, <span class="hljs-title">Void</span>, <span class="hljs-title">Bitmap&gt;</span> </span>{
    <span class="hljs-type">ImageView</span> bitImage;

    public <span class="hljs-type">DownloadImageTask</span>(<span class="hljs-type">ImageView</span> bitImage) {
        <span class="hljs-keyword">this</span>.bitImage = bitImage;
    }

    <span class="hljs-keyword">protected</span> <span class="hljs-type">Bitmap</span> doInBackground(<span class="hljs-type">String</span>... urls) {
        <span class="hljs-type">String</span> urldisplay = urls[<span class="hljs-number">0</span>];
        <span class="hljs-type">Bitmap</span> mBmp = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">InputStream</span> in = <span class="hljs-keyword">new</span> java.net.<span class="hljs-type">URL</span>(urldisplay).openStream();
            mBmp = <span class="hljs-type">BitmapFactory</span>.decodeStream(in);
        } <span class="hljs-keyword">catch</span> (<span class="hljs-type">Exception</span> e) {
            <span class="hljs-type">Log</span>.e(<span class="hljs-string">"Error"</span>, e.getMessage());
            e.printStackTrace();
        }
        <span class="hljs-keyword">return</span> mBmp;
    }

    <span class="hljs-keyword">protected</span> void onPostExecute(<span class="hljs-type">Bitmap</span> result) {
        bitImage.setImageBitmap(result);
    }
}
</code></pre>

<h2>Example B</h2>

<pre class="default s-code-block"><code class="hljs language-csharp"> <span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DownloadFilesTask</span> <span class="hljs-title">extends</span> <span class="hljs-title">AsyncTask</span>&lt;<span class="hljs-title">URL</span>, <span class="hljs-title">Integer</span>, <span class="hljs-title">Long</span>&gt; {
     <span class="hljs-function"><span class="hljs-keyword">protected</span> Long <span class="hljs-title">doInBackground</span>(<span class="hljs-params">URL... urls</span>)</span> {
         <span class="hljs-built_in">int</span> count = urls.length;
         <span class="hljs-built_in">long</span> totalSize = <span class="hljs-number">0</span>;
         <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; count; i++) {
             totalSize += Downloader.downloadFile(urls[i]);
             publishProgress((<span class="hljs-built_in">int</span>) ((i / (<span class="hljs-built_in">float</span>) count) * <span class="hljs-number">100</span>));
             <span class="hljs-comment">// Escape early if cancel() is called</span>
             <span class="hljs-keyword">if</span> (isCancelled()) <span class="hljs-keyword">break</span>;
         }
         <span class="hljs-keyword">return</span> totalSize;
     }

     <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onProgressUpdate</span>(<span class="hljs-params">Integer... progress</span>)</span> {
         setProgressPercent(progress[<span class="hljs-number">0</span>]);
     }

     <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPostExecute</span>(<span class="hljs-params">Long result</span>)</span> {
         showDialog(<span class="hljs-string">"Downloaded "</span> + result + <span class="hljs-string">" bytes"</span>);
     }
 }
</code></pre>

<p><strong>Example B execution</strong></p>

<pre class="default s-code-block"><code class="hljs language-scss">new <span class="hljs-built_in">DownloadFilesTask</span>()<span class="hljs-selector-class">.execute</span>(url1, url2, url3);
</code></pre>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 8</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>When an asynchronous task is executed, the task goes through four steps:</p>

<ol>
<li>onPreExecute()</li>
<li>doInBackground(Params...)</li>
<li>onProgressUpdate(Progress...)</li>
<li>onPostExecute(Result)</li>
</ol>

<p>Below is a demo example:</p>

<pre class="default s-code-block"><code class="hljs language-csharp"><span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DownloadFilesTask</span> <span class="hljs-title">extends</span> <span class="hljs-title">AsyncTask</span>&lt;<span class="hljs-title">URL</span>, <span class="hljs-title">Integer</span>, <span class="hljs-title">Long</span>&gt; {

    <span class="hljs-function"><span class="hljs-keyword">protected</span> Long <span class="hljs-title">doInBackground</span>(<span class="hljs-params">URL... urls</span>)</span> {
        <span class="hljs-built_in">int</span> count = urls.length;
        <span class="hljs-built_in">long</span> totalSize = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; count; i++) {
            totalSize += Downloader.downloadFile(urls[i]);
            publishProgress((<span class="hljs-built_in">int</span>) ((i / (<span class="hljs-built_in">float</span>) count) * <span class="hljs-number">100</span>));

            <span class="hljs-comment">// Escape early if cancel() is called</span>
            <span class="hljs-keyword">if</span> (isCancelled())
                <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">return</span> totalSize;
    }

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onProgressUpdate</span>(<span class="hljs-params">Integer... progress</span>)</span> {
        setProgressPercent(progress[<span class="hljs-number">0</span>]);
    }

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPostExecute</span>(<span class="hljs-params">Long result</span>)</span> {
        showDialog(<span class="hljs-string">"Downloaded "</span> + result + <span class="hljs-string">" bytes"</span>);
    }
 }
</code></pre>

<p>And once you created, a task is executed very simply:</p>

<pre class="default s-code-block"><code class="hljs language-scss">new <span class="hljs-built_in">DownloadFilesTask</span>()<span class="hljs-selector-class">.execute</span>(url1, url2, url3);
</code></pre>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 9</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Shortest example for just doing something asynchronously:</p>

<pre class="default s-code-block"><code class="hljs language-scala"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyAsyncTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">android</span>.<span class="hljs-title">os</span>.<span class="hljs-title">AsyncTask</span> </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-type">Object</span> doInBackground(<span class="hljs-type">Object</span>[] objects) {
        <span class="hljs-comment">// Do something asynchronously</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}
</code></pre>

<p>To run it:</p>

<pre class="default s-code-block"><code class="hljs language-scss">(new MyAsyncTask())<span class="hljs-selector-class">.execute</span>();
</code></pre>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 10</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>When you are in the worker thread, you can not directly manipulate UI elements on Android.</p>

<p>When you are using AsyncTask please understand the callback methods.</p>

<p>For example:</p>

<pre class="default s-code-block"><code class="hljs language-typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAyncTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">AsyncTask</span>&lt;<span class="hljs-title class_">Void</span>, <span class="hljs-title class_">Void</span>, <span class="hljs-title class_">Void</span>&gt;{

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPreExecute</span>(<span class="hljs-params"></span>) {
        <span class="hljs-comment">// Here you can show progress bar or something on the similar lines.</span>
        <span class="hljs-comment">// Since you are in a UI thread here.</span>
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onPreExecute</span>();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPostExecute</span>(<span class="hljs-params">Void aVoid</span>) {
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onPostExecute</span>(aVoid);
        <span class="hljs-comment">// After completing execution of given task, control will return here.</span>
        <span class="hljs-comment">// Hence if you want to populate UI elements with fetched data, do it here.</span>
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onProgressUpdate</span>(<span class="hljs-params">Void... values</span>) {
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onProgressUpdate</span>(values);
        <span class="hljs-comment">// You can track you progress update here</span>
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-title class_">Void</span> <span class="hljs-title function_">doInBackground</span>(<span class="hljs-params">Void... params</span>) {
        <span class="hljs-comment">// Here you are in the worker thread and you are not allowed to access UI thread from here.</span>
        <span class="hljs-comment">// Here you can perform network operations or any heavy operations you want.</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}
</code></pre>

<p>FYI:
To access the UI thread from a worker thread, you either use runOnUiThread() method or post method on your view.</p>

<p>For instance:</p>

<pre class="default s-code-block"><code class="hljs language-scss"><span class="hljs-built_in">runOnUiThread</span>(new Runnable() {
    textView<span class="hljs-selector-class">.setText</span>("something.");
});

or
    yourview<span class="hljs-selector-class">.post</span>(new Runnable() {
    yourview<span class="hljs-selector-class">.setText</span>("something");
});
</code></pre>

<p>This will help you know the things better. Hence in you case, you need to set your textview in the onPostExecute() method.</p>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 11</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I would recommend making your life easier by using this library for background works:</p>

<p><a href="https://github.com/Arasthel/AsyncJobLibrary" rel="nofollow noreferrer">https://github.com/Arasthel/AsyncJobLibrary</a></p>

<p>It's this simple...</p>

<pre class="default s-code-block"><code class="hljs language-typescript"><span class="hljs-title class_">AsyncJob</span>.<span class="hljs-title function_">doInBackground</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">AsyncJob</span>.<span class="hljs-title class_">OnBackgroundJob</span>() {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">doOnBackground</span>(<span class="hljs-params"></span>) {
        <span class="hljs-title function_">startRecording</span>();
    }
});
</code></pre>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 12</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Sample Async Task with POST request:</p>

<pre class="default s-code-block"><code class="hljs language-typescript"><span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">NameValuePair</span>&gt; params = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;<span class="hljs-title class_">NameValuePair</span>&gt;();
params.<span class="hljs-title function_">add</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BasicNameValuePair</span>(<span class="hljs-string">"key1"</span>, <span class="hljs-string">"value1"</span>));
params.<span class="hljs-title function_">add</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BasicNameValuePair</span>(<span class="hljs-string">"key1"</span>, <span class="hljs-string">"value2"</span>));
<span class="hljs-keyword">new</span> <span class="hljs-title function_">WEBSERVICEREQUESTOR</span>(<span class="hljs-variable constant_">URL</span>, params).<span class="hljs-title function_">execute</span>();

<span class="hljs-keyword">class</span> <span class="hljs-title class_">WEBSERVICEREQUESTOR</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">AsyncTask</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Integer</span>, <span class="hljs-title class_">String</span>&gt;
{
    <span class="hljs-title class_">String</span> <span class="hljs-variable constant_">URL</span>;
    <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">NameValuePair</span>&gt; parameters;

    <span class="hljs-keyword">private</span> <span class="hljs-title class_">ProgressDialog</span> pDialog;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">WEBSERVICEREQUESTOR</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> url, List&lt;NameValuePair&gt; params</span>)
    {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">URL</span> = url;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">parameters</span> = params;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPreExecute</span>(<span class="hljs-params"></span>)
    {
        pDialog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProgressDialog</span>(<span class="hljs-title class_">LoginActivity</span>.<span class="hljs-property">this</span>);
        pDialog.<span class="hljs-title function_">setMessage</span>(<span class="hljs-string">"Processing Request..."</span>);
        pDialog.<span class="hljs-title function_">setIndeterminate</span>(<span class="hljs-literal">false</span>);
        pDialog.<span class="hljs-title function_">setCancelable</span>(<span class="hljs-literal">false</span>);
        pDialog.<span class="hljs-title function_">show</span>();
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onPreExecute</span>();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">doInBackground</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>... params</span>)
    {
        <span class="hljs-keyword">try</span>
        {
            <span class="hljs-title class_">DefaultHttpClient</span> httpClient = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultHttpClient</span>();
            <span class="hljs-title class_">HttpEntity</span> httpEntity = <span class="hljs-literal">null</span>;
            <span class="hljs-title class_">HttpResponse</span> httpResponse = <span class="hljs-literal">null</span>;

            <span class="hljs-title class_">HttpPost</span> httpPost = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpPost</span>(<span class="hljs-variable constant_">URL</span>);

            <span class="hljs-keyword">if</span> (parameters != <span class="hljs-literal">null</span>)
            {
                httpPost.<span class="hljs-title function_">setEntity</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">UrlEncodedFormEntity</span>(parameters));
            }
            httpResponse = httpClient.<span class="hljs-title function_">execute</span>(httpPost);

            httpEntity = httpResponse.<span class="hljs-title function_">getEntity</span>();
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">EntityUtils</span>.<span class="hljs-title function_">toString</span>(httpEntity);

        }  <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e)
        {

        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPostExecute</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> result</span>)
    {
        pDialog.<span class="hljs-title function_">dismiss</span>();

        <span class="hljs-keyword">try</span>
        {

        }
        <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e)
        {

        }
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onPostExecute</span>(result);
    }
}
</code></pre>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 13</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>Update: March 2020</strong></p>

<p>According to Android developer <a href="https://developer.android.com/reference/android/os/AsyncTask" rel="nofollow noreferrer">official documentation</a>, AsyncTask is now deprecated. </p>

<p>It's recommended to use <a href="https://developer.android.com/topic/libraries/architecture/coroutines" rel="nofollow noreferrer">kotlin corourines</a> instead. Simply, it allows you to write asynchronous tasks in a sequential style. </p>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 14</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Simply:</p>

<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-type">LongOperation</span> <span class="hljs-variable">MyTask</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LongOperation</span>();
MyTask.execute();
</code></pre>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 15</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You need to declare the button onclicklistener. Once clicked, it calls AsyncTask class DownloadJson.</p>

<p>The process will be shown below:</p>

<pre class="default s-code-block"><code class="hljs language-typescript"><span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onCreate</span>(<span class="hljs-params">Bundle savedInstanceState</span>) {
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onCreate</span>(savedInstanceState);
        <span class="hljs-title function_">setContentView</span>(R.<span class="hljs-property">layout</span>.<span class="hljs-property">main</span>);

        btn = (<span class="hljs-title class_">Button</span>) <span class="hljs-title function_">findViewById</span>(R.<span class="hljs-property">id</span>.<span class="hljs-property">button1</span>);

        btn.<span class="hljs-title function_">setOnClickListener</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">View</span>.<span class="hljs-title class_">OnClickListener</span>() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onClick</span>(<span class="hljs-params">View v</span>) {
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">DownloadJson</span>().<span class="hljs-title function_">execute</span>();
            }
        });
    }
</code></pre>

<hr>

<pre class="default s-code-block"><code class="hljs language-typescript">    <span class="hljs-comment">// DownloadJSON AsyncTask</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DownloadJson</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">AsyncTask</span>&lt;<span class="hljs-title class_">Void</span>, <span class="hljs-title class_">Void</span>, <span class="hljs-title class_">Void</span>&gt; {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPreExecute</span>(<span class="hljs-params"></span>) {
            <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onPreExecute</span>();
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-title class_">Void</span> <span class="hljs-title function_">doInBackground</span>(<span class="hljs-params">Void... params</span>) {
            newlist = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;<span class="hljs-title class_">HashMap</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">String</span>&gt;&gt;();
            json = jsonParser.<span class="hljs-title function_">makeHttpRequest</span>(json, <span class="hljs-string">"POST"</span>);
            <span class="hljs-keyword">try</span> {
                newarray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSON</span><span class="hljs-built_in">Array</span>(json);
                    <span class="hljs-keyword">for</span> (int i = <span class="hljs-number">0</span>; i &lt; countdisplay; i++) {
                        <span class="hljs-title class_">HashMap</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">String</span>&gt; eachnew = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">String</span>&gt;();
                        newobject = newarray.<span class="hljs-title function_">getJSONObject</span>(i);
                        eachnew.<span class="hljs-title function_">put</span>(<span class="hljs-string">"id"</span>, newobject.<span class="hljs-title function_">getString</span>(<span class="hljs-string">"ID"</span>));
                        eachnew.<span class="hljs-title function_">put</span>(<span class="hljs-string">"name"</span>, newobject.<span class="hljs-title function_">getString</span>(<span class="hljs-string">"Name"</span>));
                        newlist.<span class="hljs-title function_">add</span>(eachnew);
                    }
                }
            } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">JSON</span>Exception e) {
                <span class="hljs-title class_">Log</span>.<span class="hljs-title function_">e</span>(<span class="hljs-string">"Error"</span>, e.<span class="hljs-title function_">getMessage</span>());
                e.<span class="hljs-title function_">printStackTrace</span>();
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPostExecute</span>(<span class="hljs-params">Void args</span>) {
            newlisttemp.<span class="hljs-title function_">addAll</span>(newlist);
            <span class="hljs-title class_">NewAdapterpager</span> newadapterpager = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NewAdapterpager</span>(<span class="hljs-title class_">ProcesssActivitypager</span>.<span class="hljs-property">this</span>, newlisttemp);
            newpager.<span class="hljs-title function_">setAdapter</span>(newadapterpager);
        }
    }
</code></pre>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 16</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="default s-code-block"><code class="hljs language-typescript"><span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AsyncTaskDemo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">AsyncTask</span>&lt;<span class="hljs-title class_">Void</span>, <span class="hljs-title class_">Void</span>, <span class="hljs-title class_">Void</span>&gt; {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPreExecute</span>(<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onPreExecute</span>();
        <span class="hljs-comment">// Showing progress dialog</span>
        progressDialog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProgressDialog</span>(<span class="hljs-variable language_">this</span>);
        progressDialog.<span class="hljs-title function_">setMessage</span>(<span class="hljs-string">"Loading..."</span>);
        progressDialog.<span class="hljs-title function_">setCancelable</span>(<span class="hljs-literal">false</span>);
        progressDialog.<span class="hljs-title function_">show</span>();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-title class_">Void</span> <span class="hljs-title function_">doInBackground</span>(<span class="hljs-params">Void... arg0</span>) {

        <span class="hljs-comment">// Do code here</span>

        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPostExecute</span>(<span class="hljs-params">Void result</span>) {
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onPostExecute</span>(result);
        <span class="hljs-comment">// Dismiss the progress dialog</span>
        <span class="hljs-keyword">if</span> (progressDialog.<span class="hljs-title function_">isShowing</span>()) {
            progressDialog.<span class="hljs-title function_">dismiss</span>();
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onCancelled</span>(<span class="hljs-params"></span>) {

        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onCancelled</span>();
        progressDialog.<span class="hljs-title function_">dismiss</span>();
        <span class="hljs-title class_">Toast</span> toast = <span class="hljs-title class_">Toast</span>.<span class="hljs-title function_">makeText</span>(
                          <span class="hljs-title function_">getActivity</span>(),
                          <span class="hljs-string">"An error is occurred due to some problem"</span>,
                          <span class="hljs-title class_">Toast</span>.<span class="hljs-property">LENGTH_LONG</span>);
        toast.<span class="hljs-title function_">setGravity</span>(<span class="hljs-title class_">Gravity</span>.<span class="hljs-property">TOP</span>, <span class="hljs-number">25</span>, <span class="hljs-number">400</span>);
        toast.<span class="hljs-title function_">show</span>();
    }

}
</code></pre>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 17</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>While working with AsyncTask, it is necessary to create a class-successor and in it to register the implementation of methods necessary for us. In this lesson we will look at three methods:</p>

<p><strong>doInBackground</strong> - will be executed in a new thread, and here we solve all our difficult tasks. Because a non-primary thread does not have access to the UI.</p>

<p><strong>onPreExecute</strong> - executed before doInBackground and has access to the UI</p>

<p><strong>onPostExecute</strong> - executed after doInBackground (does not work if AsyncTask was canceled - about this in the next lessons) and has access to the UI.</p>

<p>This is the MyAsyncTask class:</p>

<pre class="default s-code-block"><code class="hljs language-scala"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyAsyncTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AsyncTask&lt;Void</span>, <span class="hljs-title">Void</span>, <span class="hljs-title">Void&gt;</span> </span>{

  <span class="hljs-meta">@Override</span>
  <span class="hljs-keyword">protected</span> void onPreExecute() {
    <span class="hljs-keyword">super</span>.onPreExecute();
    tvInfo.setText(<span class="hljs-string">"Start"</span>);
  }

  <span class="hljs-meta">@Override</span>
  <span class="hljs-keyword">protected</span> <span class="hljs-type">Void</span> doInBackground(<span class="hljs-type">Void</span>... params) {
    <span class="hljs-comment">// Your background method</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  }

  <span class="hljs-meta">@Override</span>
  <span class="hljs-keyword">protected</span> void onPostExecute(<span class="hljs-type">Void</span> result) {
    <span class="hljs-keyword">super</span>.onPostExecute(result);
    tvInfo.setText(<span class="hljs-string">"Finish"</span>);
  }
}
</code></pre>

<p>And this is how to call in your Activity or Fragment:</p>

<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-type">MyAsyncTask</span> <span class="hljs-variable">myAsyncTask</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyAsyncTask</span>();
myAsyncTask.execute();
</code></pre>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 18</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>AsyncTask:</p>
<pre class="default s-code-block"><code class="hljs language-scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AppCompatActivity</span> </span>{

 <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-type">ApiUrl</span>=<span class="hljs-string">"your_api"</span>;

   <span class="hljs-meta">@Override</span>
   <span class="hljs-keyword">protected</span> void onCreate(<span class="hljs-type">Bundle</span> savedInstanceState) {
     <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
     setContentView(<span class="hljs-type">R</span>.layout.activity_main);
     <span class="hljs-type">MyTask</span> myTask=<span class="hljs-keyword">new</span> <span class="hljs-type">MyTask</span>();
     <span class="hljs-keyword">try</span> {
         <span class="hljs-type">String</span> result=myTask.execute(<span class="hljs-type">ApiUrl</span>).get();
         <span class="hljs-type">Toast</span>.makeText(getApplicationContext(),result,<span class="hljs-type">Toast</span>.<span class="hljs-type">LENGTH_SHORT</span>).show();
     } <span class="hljs-keyword">catch</span> (<span class="hljs-type">ExecutionException</span> e) {
         e.printStackTrace();
     } <span class="hljs-keyword">catch</span> (<span class="hljs-type">InterruptedException</span> e) {
        e.printStackTrace();
     }

  }


   public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AsyncTask&lt;String</span>,<span class="hljs-title">Void</span>,<span class="hljs-title">String&gt;</span></span>{


    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-type">String</span> doInBackground(<span class="hljs-type">String</span>... strings) {
        <span class="hljs-type">String</span> result=<span class="hljs-string">""</span>;
        <span class="hljs-type">HttpURLConnection</span> httpURLConnection=<span class="hljs-literal">null</span>;
        <span class="hljs-type">URL</span> url;

        <span class="hljs-keyword">try</span> {
            url=<span class="hljs-keyword">new</span> <span class="hljs-type">URL</span>(strings[<span class="hljs-number">0</span>]);
            httpURLConnection=(<span class="hljs-type">HttpURLConnection</span>) url.openConnection();
            <span class="hljs-type">InputStream</span> inputStream=httpURLConnection.getInputStream();
            <span class="hljs-type">InputStreamReader</span> reader=<span class="hljs-keyword">new</span> <span class="hljs-type">InputStreamReader</span>(inputStream);
            result=getData(reader);
        } <span class="hljs-keyword">catch</span> (<span class="hljs-type">MalformedURLException</span> e) {
            e.printStackTrace();
        } <span class="hljs-keyword">catch</span> (<span class="hljs-type">IOException</span> e) {
            e.printStackTrace();
        }
        <span class="hljs-keyword">return</span> result;
    }

    public <span class="hljs-type">String</span> getData(<span class="hljs-type">InputStreamReader</span> reader) <span class="hljs-keyword">throws</span> <span class="hljs-type">IOException</span>{
        <span class="hljs-type">String</span> result=<span class="hljs-string">""</span>;
        int data=reader.read();
        <span class="hljs-keyword">while</span> (data!=<span class="hljs-number">-1</span>){
            char now=(char) data;
            result+=data;
            data=reader.read();
        }
        <span class="hljs-keyword">return</span> result;
    }
  }
}
</code></pre>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 19</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>Sample AsyncTask example with progress</strong></p>

<pre class="default s-code-block"><code class="hljs language-typescript"><span class="hljs-keyword">import</span> android.<span class="hljs-property">animation</span>.<span class="hljs-property">ObjectAnimator</span>;
<span class="hljs-keyword">import</span> android.<span class="hljs-property">os</span>.<span class="hljs-property">AsyncTask</span>;
<span class="hljs-keyword">import</span> android.<span class="hljs-property">support</span>.<span class="hljs-property">v7</span>.<span class="hljs-property">app</span>.<span class="hljs-property">AppCompatActivity</span>;
<span class="hljs-keyword">import</span> android.<span class="hljs-property">os</span>.<span class="hljs-property">Bundle</span>;
<span class="hljs-keyword">import</span> android.<span class="hljs-property">util</span>.<span class="hljs-property">Log</span>;
<span class="hljs-keyword">import</span> android.<span class="hljs-property">view</span>.<span class="hljs-property">View</span>;
<span class="hljs-keyword">import</span> android.<span class="hljs-property">view</span>.<span class="hljs-property">animation</span>.<span class="hljs-property">AccelerateDecelerateInterpolator</span>;
<span class="hljs-keyword">import</span> android.<span class="hljs-property">view</span>.<span class="hljs-property">animation</span>.<span class="hljs-property">DecelerateInterpolator</span>;
<span class="hljs-keyword">import</span> android.<span class="hljs-property">view</span>.<span class="hljs-property">animation</span>.<span class="hljs-property">LinearInterpolator</span>;
<span class="hljs-keyword">import</span> android.<span class="hljs-property">widget</span>.<span class="hljs-property">Button</span>;
<span class="hljs-keyword">import</span> android.<span class="hljs-property">widget</span>.<span class="hljs-property">ProgressBar</span>;
<span class="hljs-keyword">import</span> android.<span class="hljs-property">widget</span>.<span class="hljs-property">TextView</span>;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AsyncTaskActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">AppCompatActivity</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">View</span>.<span class="hljs-property">OnClickListener</span> {

    <span class="hljs-title class_">Button</span> btn;
    <span class="hljs-title class_">ProgressBar</span> progressBar;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onCreate</span>(<span class="hljs-params">Bundle savedInstanceState</span>) {
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onCreate</span>(savedInstanceState);
        <span class="hljs-title function_">setContentView</span>(R.<span class="hljs-property">layout</span>.<span class="hljs-property">activity_main</span>);
        btn = (<span class="hljs-title class_">Button</span>) <span class="hljs-title function_">findViewById</span>(R.<span class="hljs-property">id</span>.<span class="hljs-property">button1</span>);
        btn.<span class="hljs-title function_">setOnClickListener</span>(<span class="hljs-variable language_">this</span>);
        progressBar = (<span class="hljs-title class_">ProgressBar</span>)<span class="hljs-title function_">findViewById</span>(R.<span class="hljs-property">id</span>.<span class="hljs-property">pbar</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onClick</span>(<span class="hljs-params">View view</span>) {
        <span class="hljs-keyword">switch</span> (view.<span class="hljs-title function_">getId</span>()) {
            <span class="hljs-keyword">case</span> R.<span class="hljs-property">id</span>.<span class="hljs-property">button1</span>:
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">LongOperation</span>().<span class="hljs-title function_">execute</span>(<span class="hljs-string">""</span>);
                <span class="hljs-keyword">break</span>;
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LongOperation</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">AsyncTask</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Integer</span>, <span class="hljs-title class_">String</span>&gt; {

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">doInBackground</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>... params</span>) {
            <span class="hljs-title class_">Log</span>.<span class="hljs-title function_">d</span>(<span class="hljs-string">"AsyncTask"</span>, <span class="hljs-string">"doInBackground"</span>);
            <span class="hljs-keyword">for</span> (int i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-title class_">Log</span>.<span class="hljs-title function_">d</span>(<span class="hljs-string">"AsyncTask"</span>, <span class="hljs-string">"task "</span>+(i + <span class="hljs-number">1</span>));
                    <span class="hljs-title function_">publishProgress</span>(i + <span class="hljs-number">1</span>);
                    <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">sleep</span>(<span class="hljs-number">1000</span>);
                } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">InterruptedException</span> e) {
                    <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">interrupted</span>();
                }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-string">"Completed"</span>;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPostExecute</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> result</span>) {
            <span class="hljs-title class_">Log</span>.<span class="hljs-title function_">d</span>(<span class="hljs-string">"AsyncTask"</span>, <span class="hljs-string">"onPostExecute"</span>);
            <span class="hljs-title class_">TextView</span> txt = (<span class="hljs-title class_">TextView</span>) <span class="hljs-title function_">findViewById</span>(R.<span class="hljs-property">id</span>.<span class="hljs-property">output</span>);
            txt.<span class="hljs-title function_">setText</span>(result);
            progressBar.<span class="hljs-title function_">setProgress</span>(<span class="hljs-number">0</span>);
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPreExecute</span>(<span class="hljs-params"></span>) {
            <span class="hljs-title class_">Log</span>.<span class="hljs-title function_">d</span>(<span class="hljs-string">"AsyncTask"</span>, <span class="hljs-string">"onPreExecute"</span>);
            <span class="hljs-title class_">TextView</span> txt = (<span class="hljs-title class_">TextView</span>) <span class="hljs-title function_">findViewById</span>(R.<span class="hljs-property">id</span>.<span class="hljs-property">output</span>);
            txt.<span class="hljs-title function_">setText</span>(<span class="hljs-string">"onPreExecute"</span>);
            progressBar.<span class="hljs-title function_">setMax</span>(<span class="hljs-number">500</span>);
            progressBar.<span class="hljs-title function_">setProgress</span>(<span class="hljs-number">0</span>);
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onProgressUpdate</span>(<span class="hljs-params">Integer... values</span>) {
            <span class="hljs-title class_">Log</span>.<span class="hljs-title function_">d</span>(<span class="hljs-string">"AsyncTask"</span>, <span class="hljs-string">"onProgressUpdate "</span>+values[<span class="hljs-number">0</span>]);
            <span class="hljs-title class_">TextView</span> txt = (<span class="hljs-title class_">TextView</span>) <span class="hljs-title function_">findViewById</span>(R.<span class="hljs-property">id</span>.<span class="hljs-property">output</span>);
            txt.<span class="hljs-title function_">setText</span>(<span class="hljs-string">"onProgressUpdate "</span>+values[<span class="hljs-number">0</span>]);

            <span class="hljs-title class_">ObjectAnimator</span> animation = <span class="hljs-title class_">ObjectAnimator</span>.<span class="hljs-title function_">ofInt</span>(progressBar, <span class="hljs-string">"progress"</span>, <span class="hljs-number">100</span> * values[<span class="hljs-number">0</span>]);
            animation.<span class="hljs-title function_">setDuration</span>(<span class="hljs-number">1000</span>);
            animation.<span class="hljs-title function_">setInterpolator</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LinearInterpolator</span>());
            animation.<span class="hljs-title function_">start</span>();
        }
    }
}
</code></pre>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 20</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>if you open AsyncTask class you can see below code.</p>

<pre class="default s-code-block"><code class="hljs language-typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AsyncTask</span>&lt;<span class="hljs-title class_">Params</span>, <span class="hljs-title class_">Progress</span>, <span class="hljs-title class_">Result</span>&gt; {
    <span class="hljs-meta">@WorkerThread</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> <span class="hljs-title class_">Result</span> <span class="hljs-title function_">doInBackground</span>(<span class="hljs-title class_">Params</span>... params);
    <span class="hljs-meta">@MainThread</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPreExecute</span>(<span class="hljs-params"></span>) {
    }
    <span class="hljs-meta">@SuppressWarnings</span>({<span class="hljs-string">"UnusedDeclaration"</span>})
    <span class="hljs-meta">@MainThread</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPostExecute</span>(<span class="hljs-params">Result result</span>) {
    }
}
</code></pre>

<p><strong>AsyncTask features</strong></p>

<ol>
<li>AsyncTask is abstract class</li>
<li>AsyncTask is have 3 generic params.</li>
<li>AsyncTask has abstract method of doInBackground, onPreExecute, onPostExecute</li>
<li>doInBackground is WorkerThread (you can't update UI)</li>
<li>onPreExecute is MainThread</li>
<li>onPostExecute is MainThread (you can update UI)</li>
</ol>

<p><strong>example</strong></p>

<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
    <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.activity_login);
    mEmailView = (AutoCompleteTextView) findViewById(R.id.email);

    AsyncTask&lt;Void, Void, Post&gt; asyncTask = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AsyncTask</span>&lt;Void, Void, Post&gt;() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> Post <span class="hljs-title function_">doInBackground</span><span class="hljs-params">(Void... params)</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-type">ApiClient</span> <span class="hljs-variable">defaultClient</span> <span class="hljs-operator">=</span> Configuration.getDefaultApiClient();
                <span class="hljs-type">String</span> <span class="hljs-variable">authorization</span> <span class="hljs-operator">=</span> <span class="hljs-string">"eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE1ODIxMzM4MTB9.bA3Byc_SuB6jzqUGAY4Pyt4oBNg0VfDRctZ8-PcPlYg"</span>; <span class="hljs-comment">// String | JWT token for Authorization</span>
                <span class="hljs-type">ApiKeyAuth</span> <span class="hljs-variable">Bearer</span> <span class="hljs-operator">=</span> (ApiKeyAuth) defaultClient.getAuthentication(<span class="hljs-string">"Bearer"</span>);
                Bearer.setApiKey(authorization);
                <span class="hljs-type">PostApi</span> <span class="hljs-variable">apiInstance</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PostApi</span>();
                <span class="hljs-type">String</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> <span class="hljs-string">"1"</span>; <span class="hljs-comment">// String | id</span>
                <span class="hljs-type">Integer</span> <span class="hljs-variable">commentPage</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; <span class="hljs-comment">// Integer | Page number for Comment</span>
                <span class="hljs-type">Integer</span> <span class="hljs-variable">commentPer</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>; <span class="hljs-comment">// Integer | Per page number For Comment</span>
                Post result;
                <span class="hljs-keyword">try</span> {
                    result = apiInstance.apiV1PostsIdGet(id, authorization, commentPage, commentPer);
                } <span class="hljs-keyword">catch</span> (ApiException e) {
                    e.printStackTrace();
                    result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Post</span>();
                }
                <span class="hljs-keyword">return</span> result;
            } <span class="hljs-keyword">catch</span> (Exception e) {
                e.printStackTrace();
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Post</span>();
            }
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onPostExecute</span><span class="hljs-params">(Post post)</span> {
            <span class="hljs-built_in">super</span>.onPostExecute(post);
            <span class="hljs-keyword">if</span> (post != <span class="hljs-literal">null</span>) {
                mEmailView.setText(post.getBody());
                System.out.print(post);
            }
        }
    };
    asyncTask.execute();
}
</code></pre>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 21</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/android-asynctask">android-asynctask</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Change your code as given below:</p>

<pre class="default s-code-block"><code class="hljs language-typescript"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onPostExecute</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> result</span>) {

    <span class="hljs-title function_">runOnUiThread</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Runnable</span>() {
        <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">run</span>(<span class="hljs-params"></span>) {
            <span class="hljs-title class_">TextView</span> txt = (<span class="hljs-title class_">TextView</span>) <span class="hljs-title function_">findViewById</span>(R.<span class="hljs-property">id</span>.<span class="hljs-property">output</span>);
            txt.<span class="hljs-title function_">setText</span>(<span class="hljs-string">"Executed"</span>);
        }
    });
}
</code></pre>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/how-to-join-(merge)-data-frames-(inner-outer-left-right)-1657384406445">How to join (merge) data frames (inner, outer, left, right)</a><a href="/questions/how-can-i-prevent-sql-injection-in-php-1657384220094">How can I prevent SQL injection in PHP?</a><a href="/questions/what-to-do-regular-expression-pattern-doesn&#x27;t-match-anywhere-in-string-1657388095896">What to do Regular expression pattern doesn&#x27;t match anywhere in string?</a><a href="/questions/add-a-property-to-a-javascript-object-using-a-variable-as-the-name-1657388425650">Add a property to a JavaScript object using a variable as the name?</a><a href="/questions/correctly-allocating-multi-dimensional-arrays-1657387733756">Correctly allocating multi-dimensional arrays</a><a href="/questions/my-regex-is-matching-too-much.-how-do-i-make-it-stop-duplicate-1657384845028">My regex is matching too much. How do I make it stop? [duplicate]</a><a href="/questions/why-can&#x27;t-i-store-a-value-and-a-reference-to-that-value-in-the-same-struct-1657387506828">Why can&#x27;t I store a value and a reference to that value in the same struct?</a><a href="/questions/sql-select-only-rows-with-max-value-on-a-column-duplicate-1657384614292">SQL select only rows with max value on a column [duplicate]</a><a href="/questions/how-to-store-objects-in-html5-localstorage-1657387568907">How to store objects in HTML5 localStorage</a><a href="/questions/how-to-calculate-the-difference-between-two-dates-using-php-1657387409560">How to calculate the difference between two dates using PHP?</a><a href="/questions/php-mail-function-doesn&#x27;t-complete-sending-of-e-mail-1657384307499">PHP mail function doesn&#x27;t complete sending of e-mail</a><a href="/questions/console.log()-async-or-sync-1657388401087">console.log() async or sync?</a><a href="/questions/what-is-selenium-and-what-is-webdriver-1657385470372">What Is Selenium And What Is WebDriver?</a><a href="/questions/what-is-a-smart-pointer-and-when-should-i-use-one-1657387905461">What is a smart pointer and when should I use one?</a><a href="/questions/how-can-i-validate-an-email-address-in-javascript-1657385475959">How can I validate an email address in JavaScript?</a><a href="/questions/big-o-how-do-you-calculateapproximate-it-1657387856392">Big O, how do you calculate/approximate it?</a><a href="/questions/how-do-i-profile-a-python-script-1657388346692">How do I profile a Python script?</a><a href="/questions/how-to-make-a-great-r-reproducible-example-1657384198173">How to make a great R reproducible example</a><a href="/questions/how-to-append-text-to-an-existing-file-in-java-1657388492377">How to append text to an existing file in Java?</a><a href="/questions/how-to-sort-a-multi-dimensional-array-by-value-1657387746110">How to Sort a Multi-dimensional Array by Value</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;My full answer is \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/25647881/android-asynctask-example-and-explanation/25647882#25647882\u0026quot;\u0026gt;here\u0026lt;/a\u0026gt;, but here is an explanatory image to supplement the other answers on this page. For me, understanding where all the variables were going was the most confusing part in the beginning.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/ytin1.png\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/ytin1.png\u0026quot; alt=\u0026quot;enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Ok, you are trying to access the GUI via another thread. This, in the main, is not good practice.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The AsyncTask executes everything in \u0026lt;code\u0026gt;doInBackground()\u0026lt;/code\u0026gt; inside of another thread, which does not have access to the GUI where your views are.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;preExecute()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;postExecute()\u0026lt;/code\u0026gt; offer you access to the GUI before and after the heavy lifting occurs in this new thread, and you can even pass the result of the long operation to \u0026lt;code\u0026gt;postExecute()\u0026lt;/code\u0026gt; to then show any results of processing.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;See these lines where you are later updating your TextView:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;txt\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; findViewById(R.id.output);\ntxt.setText(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Executed\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Put them in \u0026lt;code\u0026gt;onPostExecute()\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You will then see your TextView text updated after the \u0026lt;code\u0026gt;doInBackground\u0026lt;/code\u0026gt; completes.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I noticed that your onClick listener does not check to see which View has been selected. I find the easiest way to do this is via switch statements. I have a complete class edited below with all suggestions to save confusion.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scala\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.app.\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Activity\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.os.\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;AsyncTask\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.os.\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Bundle\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.provider.\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Settings\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;System\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.view.\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.widget.\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Button\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.widget.\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.view.\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;OnClickListener\u0026lt;/span\u0026gt;;\n\npublic \u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;AsyncTaskActivity\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Activity\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;implements\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;OnClickListener\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Button\u0026lt;/span\u0026gt; btn;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;AsyncTask\u0026lt;/span\u0026gt;\u0026amp;lt;?, ?, ?\u0026amp;gt; runningTask;\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; void onCreate(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Bundle\u0026lt;/span\u0026gt; savedInstanceState) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onCreate(savedInstanceState);\n        setContentView(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;R\u0026lt;/span\u0026gt;.layout.main);\n        btn = findViewById(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;R\u0026lt;/span\u0026gt;.id.button1);\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Because we implement OnClickListener, we only\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// have to pass \u0026quot;this\u0026quot; (much easier)\u0026lt;/span\u0026gt;\n        btn.setOnClickListener(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;);\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    public void onClick(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt; view) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Detect the view that was \u0026quot;clicked\u0026quot;\u0026lt;/span\u0026gt;\n        switch (view.getId()) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;R\u0026lt;/span\u0026gt;.id.button1:\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (runningTask != \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;)\n                runningTask.cancel(\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\n            runningTask = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;LongOperation\u0026lt;/span\u0026gt;();\n            runningTask.execute();\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;;\n        }\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; void onDestroy() {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onDestroy();\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Cancel running task(s) to avoid memory leaks\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (runningTask != \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;)\n            runningTask.cancel(\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;final\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;LongOperation\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;AsyncTask\u0026amp;lt;Void\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;String\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; doInBackground(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;... params) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (int i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;; i++) {\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n                    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Thread\u0026lt;/span\u0026gt;.sleep(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;);\n                } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InterruptedException\u0026lt;/span\u0026gt; e) {\n                    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// We were cancelled; stop sleeping!\u0026lt;/span\u0026gt;\n                }\n            }\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Executed\u0026quot;\u0026lt;/span\u0026gt;;\n        }\n\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; void onPostExecute(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; result) {\n            \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt; txt = (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt;) findViewById(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;R\u0026lt;/span\u0026gt;.id.output);\n            txt.setText(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Executed\u0026quot;\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// txt.setText(result);\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// You might want to change \u0026quot;executed\u0026quot; for the returned string\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// passed into onPostExecute(), but that is up to you\u0026lt;/span\u0026gt;\n        }\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I\u0026apos;m sure it is executing properly, but you\u0026apos;re trying to change the UI elements in the background thread and that won\u0026apos;t do.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Revise your call and AsyncTask as follows:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Calling Class\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Note:\u0026lt;/strong\u0026gt; I personally suggest using \u0026lt;code\u0026gt;onPostExecute()\u0026lt;/code\u0026gt; wherever you execute your AsyncTask thread and not in the class that extends AsyncTask itself. I think it makes the code easier to read especially if you need the AsyncTask in multiple places handling the results slightly different.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;LongThread\u0026lt;/span\u0026gt;() {\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; result\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt; txt = (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;findViewById\u0026lt;/span\u0026gt;(R.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;output\u0026lt;/span\u0026gt;);\n        txt.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setText\u0026lt;/span\u0026gt;(result);\n    }\n}.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;LongThread class (extends AsyncTask):\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;doInBackground\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;... params\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (int i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;; i++) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Thread\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;sleep\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;);\n        } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;InterruptedException\u0026lt;/span\u0026gt; e) {\n            e.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;printStackTrace\u0026lt;/span\u0026gt;();\n        }\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Executed\u0026quot;\u0026lt;/span\u0026gt;;\n}      \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://code2concept.blogspot.in/2015/01/asynctask-android-example.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Concept and code here\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;I have created a simple example for using AsyncTask of Android. It starts with \u0026lt;code\u0026gt;onPreExecute(), doInBackground(), publishProgress()\u0026lt;/code\u0026gt; and finally \u0026lt;code\u0026gt;onProgressUpdate()\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In this, doInBackground() works as a background thread, while other works in the UI Thread. You can\u0026apos;t access an UI element in doInBackground(). The sequence is the same as I have mentioned.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;However, if you need to update any widget from \u0026lt;code\u0026gt;doInBackground\u0026lt;/code\u0026gt;, you can \u0026lt;code\u0026gt;publishProgress\u0026lt;/code\u0026gt; from \u0026lt;code\u0026gt;doInBackground\u0026lt;/code\u0026gt; which will call \u0026lt;code\u0026gt;onProgressUpdate\u0026lt;/code\u0026gt; to update your UI widget.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;TestAsync\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_ inherited__\u0026quot;\u0026gt;AsyncTask\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Integer\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;\u0026amp;gt; {\n    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;TAG\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getClass\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getSimpleName\u0026lt;/span\u0026gt;();\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPreExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPreExecute\u0026lt;/span\u0026gt;();\n        \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Log\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;d\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;TAG\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; PreExceute\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;On pre Exceute......\u0026quot;\u0026lt;/span\u0026gt;);\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;doInBackground\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Void...arg0\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Log\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;d\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;TAG\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; DoINBackGround\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;On doInBackground...\u0026quot;\u0026lt;/span\u0026gt;);\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (int i=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;; i++){\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Integer\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Integer\u0026lt;/span\u0026gt;(i);\n            \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;publishProgress\u0026lt;/span\u0026gt;(i);\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;You are at PostExecute\u0026quot;\u0026lt;/span\u0026gt;;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onProgressUpdate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Integer...a\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onProgressUpdate\u0026lt;/span\u0026gt;(a);\n        \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Log\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;d\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;TAG\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; onProgressUpdate\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;You are in progress update ... \u0026quot;\u0026lt;/span\u0026gt; + a[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;]);\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; result\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(result);\n        \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Log\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;d\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;TAG\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; onPostExecute\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt; + result);\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Call it like this in your activity:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;new \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;TestAsync\u0026lt;/span\u0026gt;()\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.execute\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://developer.android.com/reference/android/os/AsyncTask.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Developer Reference Here\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Move these two lines:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;txt\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (TextView) findViewById(R.id.output);\ntxt.setText(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Executed\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;out of your AsyncTask\u0026apos;s \u0026lt;code\u0026gt;doInBackground\u0026lt;/code\u0026gt; method and put them in the \u0026lt;code\u0026gt;onPostExecute\u0026lt;/code\u0026gt; method. Your \u0026lt;code\u0026gt;AsyncTask\u0026lt;/code\u0026gt; should look something like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scala\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;LongOperation\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;AsyncTask\u0026amp;lt;String\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;String\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; doInBackground(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;... params) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Thread\u0026lt;/span\u0026gt;.sleep(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5000\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// no need for a loop\u0026lt;/span\u0026gt;\n        } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InterruptedException\u0026lt;/span\u0026gt; e) {\n            \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Log\u0026lt;/span\u0026gt;.e(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;LongOperation\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Interrupted\u0026quot;\u0026lt;/span\u0026gt;, e);\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Interrupted\u0026quot;\u0026lt;/span\u0026gt;;\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Executed\u0026quot;\u0026lt;/span\u0026gt;;\n    }      \n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; void onPostExecute(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; result) {               \n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt; txt = (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt;) findViewById(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;R\u0026lt;/span\u0026gt;.id.output);\n        txt.setText(result);\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;h1\u0026gt;How to memorize the parameters used in AsyncTask?\u0026lt;/h1\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Don\u0026apos;t\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;If you are new to AsyncTask then it is very common to get confused while writing an AsyncTask. The main culprits are the parameters used in the AsyncTask, i.e., \u0026lt;code\u0026gt;AsyncTask\u0026amp;lt;A, B, C\u0026amp;gt;\u0026lt;/code\u0026gt;. Based on the \u0026lt;strong\u0026gt;A, B, C (arguments)\u0026lt;/strong\u0026gt; signature of the methods differs which makes things even more confusing.\u0026lt;/p\u0026gt;\n\n\u0026lt;h1\u0026gt;Keep it simple!\u0026lt;/h1\u0026gt;\n\n\u0026lt;p\u0026gt;The key is \u0026lt;strong\u0026gt;don\u0026apos;t memorize\u0026lt;/strong\u0026gt;. If you can visualize what your task really needs to do then writing the AsyncTask with the correct signature at the first attempt would be a piece of cake. Just figure out what your \u0026lt;code\u0026gt;Input\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;Progress\u0026lt;/code\u0026gt;, and \u0026lt;code\u0026gt;Output\u0026lt;/code\u0026gt; are, and you will be good to go.\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;So what is an AsyncTask?\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;AsyncTask is a background task that runs in the background thread. It takes an \u0026lt;code\u0026gt;Input\u0026lt;/code\u0026gt;, performs \u0026lt;code\u0026gt;Progress\u0026lt;/code\u0026gt; and gives an \u0026lt;code\u0026gt;Output\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;I.e.\u0026lt;/strong\u0026gt;, \u0026lt;code\u0026gt;AsyncTask\u0026amp;lt;Input, Progress, Output\u0026amp;gt;\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;For example:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/uaRqY.png\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/uaRqY.png\u0026quot; alt=\u0026quot;Enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;What is the relationship with methods?\u0026lt;/h3\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Between \u0026lt;code\u0026gt;AsyncTask\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;doInBackground()\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/IE6tI.png\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/IE6tI.png\u0026quot; alt=\u0026quot;Enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;\u0026lt;code\u0026gt;doInBackground()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;onPostExecute(),\u0026lt;/code\u0026gt;onProgressUpdate()` are also\n  related\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/4VITv.png\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/4VITv.png\u0026quot; alt=\u0026quot;Enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;How to write that in the code?\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DownloadTask\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;AsyncTask\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Integer\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;\u0026amp;gt;{\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Always same signature\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPreExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;)\n    {}\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;doInbackGround\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;... parameters\u0026lt;/span\u0026gt;)\n    {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Download code\u0026lt;/span\u0026gt;\n        int downloadPerc = \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Calculate that\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;publish\u0026lt;/span\u0026gt;(downloadPerc);\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Download Success\u0026quot;\u0026lt;/span\u0026gt;;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; result\u0026lt;/span\u0026gt;)\n    {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(result);\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onProgressUpdate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Integer... parameters\u0026lt;/span\u0026gt;)\n    {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Show in spinner, and access UI elements\u0026lt;/span\u0026gt;\n    }\n\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;How will you run this Task?\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;new \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;DownLoadTask\u0026lt;/span\u0026gt;()\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.execute\u0026lt;/span\u0026gt;(\u0026quot;Paradise.mp3\u0026quot;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;Background / Theory\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;AsyncTask\u0026lt;/strong\u0026gt; allows you to run a task on a background thread, while publishing results to the UI thread.\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;The user should always able to interact with the app so it is \u0026lt;strong\u0026gt;important\u0026lt;/strong\u0026gt;\n  \u0026lt;strong\u0026gt;to avoid blocking the main (UI) thread\u0026lt;/strong\u0026gt; with tasks such as\n  downloading content from the web.\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;This is why we use an \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;AsyncTask\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;It offers a straightforward interface by \u0026lt;em\u0026gt;wrapping the UI thread message queue and handler that allow you to send and process runnable objects and messages from other threads\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;h2\u0026gt;Implementation\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;AsyncTask\u0026lt;/strong\u0026gt; is a generic class.  (It takes \u0026lt;strong\u0026gt;parameterized types\u0026lt;/strong\u0026gt; in its constructor.)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It uses these \u0026lt;strong\u0026gt;three generic types:\u0026lt;/strong\u0026gt;   \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;Params\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; - the type of the parameters sent to the task upon execution.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;Progress\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; - the type of the progress units published during the background computation.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;Result\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; - the type of the result of the background computation.\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Not all types are always used by an asynchronous task. To mark a type as unused, simply use the type Void:\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;\u0026lt;code\u0026gt;private class MyTask extends AsyncTask\u0026amp;lt;Void, Void, Void\u0026amp;gt; { ... }\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;These three parameters \u0026lt;strong\u0026gt;correspond to three primary functions\u0026lt;/strong\u0026gt; you can override in \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;AsyncTask\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;doInBackground(Params...)\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;onProgressUpdate(Progress...)\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;onPostExecute(Result)\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;To execute AsyncTask\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Call \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;execute()\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; with parameters to be sent to the background task.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;What Happens\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;On \u0026lt;strong\u0026gt;main/UI thread\u0026lt;/strong\u0026gt;, \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;onPreExecute()\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; is called.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;To initialize something in this thread. (E.g. show a progress bar on the user interface.)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;On a \u0026lt;strong\u0026gt;background thread\u0026lt;/strong\u0026gt;, \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;doInBackground(Params...)\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; is called.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;(\u0026lt;code\u0026gt;Params\u0026lt;/code\u0026gt; were passed via \u0026lt;code\u0026gt;execute\u0026lt;/code\u0026gt;.)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Where the long-running task should happen.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Must override at least \u0026lt;code\u0026gt;doInBackground()\u0026lt;/code\u0026gt; to use AsyncTask.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Call \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;publishProgress(Progress...)\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; to update the user interface with a display of progress (e.g. UI animation or log text printed) while the background computation is still executing.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Causes \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;onProgressUpdate()\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; to be called.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;On the \u0026lt;strong\u0026gt;background thread\u0026lt;/strong\u0026gt; a result is returned from \u0026lt;code\u0026gt;doInBackground()\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;(This triggers the next step.)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;On \u0026lt;strong\u0026gt;main/UI thread\u0026lt;/strong\u0026gt;, \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;onPostExecute()\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; is called with the returned result.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;h2\u0026gt;Examples\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;In both examples the \u0026quot;blocking task\u0026quot; is a download from the web.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;Example A\u0026lt;/strong\u0026gt; downloads \u0026lt;strong\u0026gt;an image\u0026lt;/strong\u0026gt; and displays it in an ImageView, while\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;Example B\u0026lt;/strong\u0026gt; downloads \u0026lt;strong\u0026gt;some files\u0026lt;/strong\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;h2\u0026gt;Example A\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;The \u0026lt;code\u0026gt;doInBackground()\u0026lt;/code\u0026gt; method downloads the image and stores it in an object of type BitMap.  The \u0026lt;code\u0026gt;onPostExecute()\u0026lt;/code\u0026gt; method takes the bitmap and places it in the ImageView.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scala\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;DownloadImageTask\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;AsyncTask\u0026amp;lt;String\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Bitmap\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;ImageView\u0026lt;/span\u0026gt; bitImage;\n\n    public \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;DownloadImageTask\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;ImageView\u0026lt;/span\u0026gt; bitImage) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.bitImage = bitImage;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Bitmap\u0026lt;/span\u0026gt; doInBackground(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;... urls) {\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; urldisplay = urls[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;];\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Bitmap\u0026lt;/span\u0026gt; mBmp = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputStream\u0026lt;/span\u0026gt; in = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; java.net.\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;URL\u0026lt;/span\u0026gt;(urldisplay).openStream();\n            mBmp = \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;BitmapFactory\u0026lt;/span\u0026gt;.decodeStream(in);\n        } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Exception\u0026lt;/span\u0026gt; e) {\n            \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Log\u0026lt;/span\u0026gt;.e(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Error\u0026quot;\u0026lt;/span\u0026gt;, e.getMessage());\n            e.printStackTrace();\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; mBmp;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; void onPostExecute(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Bitmap\u0026lt;/span\u0026gt; result) {\n        bitImage.setImageBitmap(result);\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h2\u0026gt;Example B\u0026lt;/h2\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;DownloadFilesTask\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;AsyncTask\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;URL\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Integer\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Long\u0026lt;/span\u0026gt;\u0026amp;gt; {\n     \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; Long \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;doInBackground\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;URL... urls\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt; {\n         \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; count = urls.length;\n         \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;long\u0026lt;/span\u0026gt; totalSize = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n         \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; count; i++) {\n             totalSize += Downloader.downloadFile(urls[i]);\n             publishProgress((\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;) ((i / (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;float\u0026lt;/span\u0026gt;) count) * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;));\n             \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Escape early if cancel() is called\u0026lt;/span\u0026gt;\n             \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (isCancelled()) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;;\n         }\n         \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; totalSize;\n     }\n\n     \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;onProgressUpdate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Integer... progress\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt; {\n         setProgressPercent(progress[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;]);\n     }\n\n     \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Long result\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt; {\n         showDialog(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Downloaded \u0026quot;\u0026lt;/span\u0026gt; + result + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; bytes\u0026quot;\u0026lt;/span\u0026gt;);\n     }\n }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Example B execution\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;new \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;DownloadFilesTask\u0026lt;/span\u0026gt;()\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.execute\u0026lt;/span\u0026gt;(url1, url2, url3);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;When an asynchronous task is executed, the task goes through four steps:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;onPreExecute()\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;doInBackground(Params...)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;onProgressUpdate(Progress...)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;onPostExecute(Result)\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;Below is a demo example:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;DownloadFilesTask\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;AsyncTask\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;URL\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Integer\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Long\u0026lt;/span\u0026gt;\u0026amp;gt; {\n\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; Long \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;doInBackground\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;URL... urls\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; count = urls.length;\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;long\u0026lt;/span\u0026gt; totalSize = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; count; i++) {\n            totalSize += Downloader.downloadFile(urls[i]);\n            publishProgress((\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;) ((i / (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;float\u0026lt;/span\u0026gt;) count) * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;));\n\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Escape early if cancel() is called\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (isCancelled())\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;;\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; totalSize;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;onProgressUpdate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Integer... progress\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt; {\n        setProgressPercent(progress[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;]);\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Long result\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt; {\n        showDialog(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Downloaded \u0026quot;\u0026lt;/span\u0026gt; + result + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; bytes\u0026quot;\u0026lt;/span\u0026gt;);\n    }\n }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And once you created, a task is executed very simply:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;new \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;DownloadFilesTask\u0026lt;/span\u0026gt;()\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.execute\u0026lt;/span\u0026gt;(url1, url2, url3);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Shortest example for just doing something asynchronously:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scala\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;MyAsyncTask\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;android\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;os\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;AsyncTask\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt; doInBackground(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt;[] objects) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Do something asynchronously\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;;\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;To run it:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;(new MyAsyncTask())\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.execute\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;When you are in the worker thread, you can not directly manipulate UI elements on Android.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;When you are using AsyncTask please understand the callback methods.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For example:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;MyAyncTask\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_ inherited__\u0026quot;\u0026gt;AsyncTask\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;\u0026amp;gt;{\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPreExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Here you can show progress bar or something on the similar lines.\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Since you are in a UI thread here.\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPreExecute\u0026lt;/span\u0026gt;();\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Void aVoid\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(aVoid);\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// After completing execution of given task, control will return here.\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Hence if you want to populate UI elements with fetched data, do it here.\u0026lt;/span\u0026gt;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onProgressUpdate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Void... values\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onProgressUpdate\u0026lt;/span\u0026gt;(values);\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// You can track you progress update here\u0026lt;/span\u0026gt;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;doInBackground\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Void... params\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Here you are in the worker thread and you are not allowed to access UI thread from here.\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Here you can perform network operations or any heavy operations you want.\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;;\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;FYI:\nTo access the UI thread from a worker thread, you either use runOnUiThread() method or post method on your view.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For instance:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;runOnUiThread\u0026lt;/span\u0026gt;(new Runnable() {\n    textView\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.setText\u0026lt;/span\u0026gt;(\u0026quot;something.\u0026quot;);\n});\n\nor\n    yourview\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.post\u0026lt;/span\u0026gt;(new Runnable() {\n    yourview\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.setText\u0026lt;/span\u0026gt;(\u0026quot;something\u0026quot;);\n});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This will help you know the things better. Hence in you case, you need to set your textview in the onPostExecute() method.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I would recommend making your life easier by using this library for background works:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://github.com/Arasthel/AsyncJobLibrary\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://github.com/Arasthel/AsyncJobLibrary\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It\u0026apos;s this simple...\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;AsyncJob\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;doInBackground\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;AsyncJob\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;OnBackgroundJob\u0026lt;/span\u0026gt;() {\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;doOnBackground\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;startRecording\u0026lt;/span\u0026gt;();\n    }\n});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Sample Async Task with POST request:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;List\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;NameValuePair\u0026lt;/span\u0026gt;\u0026amp;gt; params = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;NameValuePair\u0026lt;/span\u0026gt;\u0026amp;gt;();\nparams.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;add\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;BasicNameValuePair\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;key1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;value1\u0026quot;\u0026lt;/span\u0026gt;));\nparams.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;add\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;BasicNameValuePair\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;key1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;value2\u0026quot;\u0026lt;/span\u0026gt;));\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;WEBSERVICEREQUESTOR\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;URL\u0026lt;/span\u0026gt;, params).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;();\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;WEBSERVICEREQUESTOR\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_ inherited__\u0026quot;\u0026gt;AsyncTask\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Integer\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;\u0026amp;gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;URL\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;List\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;NameValuePair\u0026lt;/span\u0026gt;\u0026amp;gt; parameters;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ProgressDialog\u0026lt;/span\u0026gt; pDialog;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;WEBSERVICEREQUESTOR\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; url, List\u0026amp;lt;NameValuePair\u0026amp;gt; params\u0026lt;/span\u0026gt;)\n    {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;URL\u0026lt;/span\u0026gt; = url;\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;parameters\u0026lt;/span\u0026gt; = params;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPreExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;)\n    {\n        pDialog = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ProgressDialog\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;LoginActivity\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;);\n        pDialog.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setMessage\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Processing Request...\u0026quot;\u0026lt;/span\u0026gt;);\n        pDialog.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setIndeterminate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;);\n        pDialog.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setCancelable\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;);\n        pDialog.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;show\u0026lt;/span\u0026gt;();\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPreExecute\u0026lt;/span\u0026gt;();\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;doInBackground\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;... params\u0026lt;/span\u0026gt;)\n    {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt;\n        {\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DefaultHttpClient\u0026lt;/span\u0026gt; httpClient = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DefaultHttpClient\u0026lt;/span\u0026gt;();\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HttpEntity\u0026lt;/span\u0026gt; httpEntity = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;;\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HttpResponse\u0026lt;/span\u0026gt; httpResponse = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;;\n\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HttpPost\u0026lt;/span\u0026gt; httpPost = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HttpPost\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;URL\u0026lt;/span\u0026gt;);\n\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (parameters != \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;)\n            {\n                httpPost.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setEntity\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;UrlEncodedFormEntity\u0026lt;/span\u0026gt;(parameters));\n            }\n            httpResponse = httpClient.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;(httpPost);\n\n            httpEntity = httpResponse.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEntity\u0026lt;/span\u0026gt;();\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;EntityUtils\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(httpEntity);\n\n        }  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Exception\u0026lt;/span\u0026gt; e)\n        {\n\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; result\u0026lt;/span\u0026gt;)\n    {\n        pDialog.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;dismiss\u0026lt;/span\u0026gt;();\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt;\n        {\n\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Exception\u0026lt;/span\u0026gt; e)\n        {\n\n        }\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(result);\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Update: March 2020\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;According to Android developer \u0026lt;a href=\u0026quot;https://developer.android.com/reference/android/os/AsyncTask\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;official documentation\u0026lt;/a\u0026gt;, AsyncTask is now deprecated. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It\u0026apos;s recommended to use \u0026lt;a href=\u0026quot;https://developer.android.com/topic/libraries/architecture/coroutines\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;kotlin corourines\u0026lt;/a\u0026gt; instead. Simply, it allows you to write asynchronous tasks in a sequential style. \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Simply:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;LongOperation\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;MyTask\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;LongOperation\u0026lt;/span\u0026gt;();\nMyTask.execute();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You need to declare the button onclicklistener. Once clicked, it calls AsyncTask class DownloadJson.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The process will be shown below:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onCreate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Bundle savedInstanceState\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onCreate\u0026lt;/span\u0026gt;(savedInstanceState);\n        \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setContentView\u0026lt;/span\u0026gt;(R.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;layout\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;);\n\n        btn = (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Button\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;findViewById\u0026lt;/span\u0026gt;(R.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;button1\u0026lt;/span\u0026gt;);\n\n        btn.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setOnClickListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;OnClickListener\u0026lt;/span\u0026gt;() {\n            \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onClick\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;View v\u0026lt;/span\u0026gt;) {\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DownloadJson\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;();\n            }\n        });\n    }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// DownloadJSON AsyncTask\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DownloadJson\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_ inherited__\u0026quot;\u0026gt;AsyncTask\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;\u0026amp;gt; {\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPreExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPreExecute\u0026lt;/span\u0026gt;();\n        }\n\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;doInBackground\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Void... params\u0026lt;/span\u0026gt;) {\n            newlist = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ArrayList\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HashMap\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026amp;gt;();\n            json = jsonParser.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;makeHttpRequest\u0026lt;/span\u0026gt;(json, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;POST\u0026quot;\u0026lt;/span\u0026gt;);\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n                newarray = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;JSON\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;(json);\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (int i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; countdisplay; i++) {\n                        \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HashMap\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;\u0026amp;gt; eachnew = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HashMap\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;\u0026amp;gt;();\n                        newobject = newarray.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getJSONObject\u0026lt;/span\u0026gt;(i);\n                        eachnew.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;put\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;id\u0026quot;\u0026lt;/span\u0026gt;, newobject.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;ID\u0026quot;\u0026lt;/span\u0026gt;));\n                        eachnew.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;put\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;name\u0026quot;\u0026lt;/span\u0026gt;, newobject.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Name\u0026quot;\u0026lt;/span\u0026gt;));\n                        newlist.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;add\u0026lt;/span\u0026gt;(eachnew);\n                    }\n                }\n            } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;JSON\u0026lt;/span\u0026gt;Exception e) {\n                \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Log\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;e\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Error\u0026quot;\u0026lt;/span\u0026gt;, e.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getMessage\u0026lt;/span\u0026gt;());\n                e.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;printStackTrace\u0026lt;/span\u0026gt;();\n            }\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;;\n        }\n\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Void args\u0026lt;/span\u0026gt;) {\n            newlisttemp.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;addAll\u0026lt;/span\u0026gt;(newlist);\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;NewAdapterpager\u0026lt;/span\u0026gt; newadapterpager = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;NewAdapterpager\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ProcesssActivitypager\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, newlisttemp);\n            newpager.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setAdapter\u0026lt;/span\u0026gt;(newadapterpager);\n        }\n    }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;AsyncTaskDemo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_ inherited__\u0026quot;\u0026gt;AsyncTask\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;\u0026amp;gt; {\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPreExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPreExecute\u0026lt;/span\u0026gt;();\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Showing progress dialog\u0026lt;/span\u0026gt;\n        progressDialog = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ProgressDialog\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;);\n        progressDialog.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setMessage\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Loading...\u0026quot;\u0026lt;/span\u0026gt;);\n        progressDialog.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setCancelable\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;);\n        progressDialog.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;show\u0026lt;/span\u0026gt;();\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;doInBackground\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Void... arg0\u0026lt;/span\u0026gt;) {\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Do code here\u0026lt;/span\u0026gt;\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Void result\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(result);\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Dismiss the progress dialog\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (progressDialog.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;isShowing\u0026lt;/span\u0026gt;()) {\n            progressDialog.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;dismiss\u0026lt;/span\u0026gt;();\n        }\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onCancelled\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onCancelled\u0026lt;/span\u0026gt;();\n        progressDialog.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;dismiss\u0026lt;/span\u0026gt;();\n        \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Toast\u0026lt;/span\u0026gt; toast = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Toast\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;makeText\u0026lt;/span\u0026gt;(\n                          \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getActivity\u0026lt;/span\u0026gt;(),\n                          \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;An error is occurred due to some problem\u0026quot;\u0026lt;/span\u0026gt;,\n                          \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Toast\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;LENGTH_LONG\u0026lt;/span\u0026gt;);\n        toast.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setGravity\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Gravity\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;TOP\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;400\u0026lt;/span\u0026gt;);\n        toast.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;show\u0026lt;/span\u0026gt;();\n    }\n\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;While working with AsyncTask, it is necessary to create a class-successor and in it to register the implementation of methods necessary for us. In this lesson we will look at three methods:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;doInBackground\u0026lt;/strong\u0026gt; - will be executed in a new thread, and here we solve all our difficult tasks. Because a non-primary thread does not have access to the UI.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;onPreExecute\u0026lt;/strong\u0026gt; - executed before doInBackground and has access to the UI\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;onPostExecute\u0026lt;/strong\u0026gt; - executed after doInBackground (does not work if AsyncTask was canceled - about this in the next lessons) and has access to the UI.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This is the MyAsyncTask class:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scala\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;MyAsyncTask\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;AsyncTask\u0026amp;lt;Void\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Void\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n\n  \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; void onPreExecute() {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onPreExecute();\n    tvInfo.setText(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Start\u0026quot;\u0026lt;/span\u0026gt;);\n  }\n\n  \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt; doInBackground(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;... params) {\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Your background method\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;;\n  }\n\n  \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; void onPostExecute(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt; result) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onPostExecute(result);\n    tvInfo.setText(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Finish\u0026quot;\u0026lt;/span\u0026gt;);\n  }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And this is how to call in your Activity or Fragment:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;MyAsyncTask\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;myAsyncTask\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;MyAsyncTask\u0026lt;/span\u0026gt;();\nmyAsyncTask.execute();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;AsyncTask:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scala\u0026quot;\u0026gt;public \u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;MainActivity\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;AppCompatActivity\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n\n \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;ApiUrl\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;your_api\u0026quot;\u0026lt;/span\u0026gt;;\n\n   \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; void onCreate(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Bundle\u0026lt;/span\u0026gt; savedInstanceState) {\n     \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onCreate(savedInstanceState);\n     setContentView(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;R\u0026lt;/span\u0026gt;.layout.activity_main);\n     \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;MyTask\u0026lt;/span\u0026gt; myTask=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;MyTask\u0026lt;/span\u0026gt;();\n     \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n         \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; result=myTask.execute(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;ApiUrl\u0026lt;/span\u0026gt;).get();\n         \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Toast\u0026lt;/span\u0026gt;.makeText(getApplicationContext(),result,\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Toast\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;LENGTH_SHORT\u0026lt;/span\u0026gt;).show();\n     } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;ExecutionException\u0026lt;/span\u0026gt; e) {\n         e.printStackTrace();\n     } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InterruptedException\u0026lt;/span\u0026gt; e) {\n        e.printStackTrace();\n     }\n\n  }\n\n\n   public \u0026lt;span class=\u0026quot;hljs-class\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;MyTask\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;AsyncTask\u0026amp;lt;String\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;String\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;{\n\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; doInBackground(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;... strings) {\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; result=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;HttpURLConnection\u0026lt;/span\u0026gt; httpURLConnection=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;URL\u0026lt;/span\u0026gt; url;\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n            url=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;URL\u0026lt;/span\u0026gt;(strings[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;]);\n            httpURLConnection=(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;HttpURLConnection\u0026lt;/span\u0026gt;) url.openConnection();\n            \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputStream\u0026lt;/span\u0026gt; inputStream=httpURLConnection.getInputStream();\n            \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputStreamReader\u0026lt;/span\u0026gt; reader=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputStreamReader\u0026lt;/span\u0026gt;(inputStream);\n            result=getData(reader);\n        } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;MalformedURLException\u0026lt;/span\u0026gt; e) {\n            e.printStackTrace();\n        } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;IOException\u0026lt;/span\u0026gt; e) {\n            e.printStackTrace();\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; result;\n    }\n\n    public \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; getData(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputStreamReader\u0026lt;/span\u0026gt; reader) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;throws\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;IOException\u0026lt;/span\u0026gt;{\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; result=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;;\n        int data=reader.read();\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; (data!=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;-1\u0026lt;/span\u0026gt;){\n            char now=(char) data;\n            result+=data;\n            data=reader.read();\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; result;\n    }\n  }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Sample AsyncTask example with progress\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;animation\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;ObjectAnimator\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;os\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;AsyncTask\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;support\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;v7\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;app\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;AppCompatActivity\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;os\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Bundle\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;util\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Log\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;view\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;view\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;animation\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;AccelerateDecelerateInterpolator\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;view\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;animation\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;DecelerateInterpolator\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;view\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;animation\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;LinearInterpolator\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;widget\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Button\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;widget\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;ProgressBar\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;widget\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;AsyncTaskActivity\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_ inherited__\u0026quot;\u0026gt;AppCompatActivity\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;implements\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;OnClickListener\u0026lt;/span\u0026gt; {\n\n    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Button\u0026lt;/span\u0026gt; btn;\n    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ProgressBar\u0026lt;/span\u0026gt; progressBar;\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onCreate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Bundle savedInstanceState\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onCreate\u0026lt;/span\u0026gt;(savedInstanceState);\n        \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setContentView\u0026lt;/span\u0026gt;(R.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;layout\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;activity_main\u0026lt;/span\u0026gt;);\n        btn = (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Button\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;findViewById\u0026lt;/span\u0026gt;(R.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;button1\u0026lt;/span\u0026gt;);\n        btn.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setOnClickListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;);\n        progressBar = (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ProgressBar\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;findViewById\u0026lt;/span\u0026gt;(R.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;pbar\u0026lt;/span\u0026gt;);\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onClick\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;View view\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;switch\u0026lt;/span\u0026gt; (view.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getId\u0026lt;/span\u0026gt;()) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; R.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;button1\u0026lt;/span\u0026gt;:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;LongOperation\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;);\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;;\n        }\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;LongOperation\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_ inherited__\u0026quot;\u0026gt;AsyncTask\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Integer\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;\u0026amp;gt; {\n\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;doInBackground\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;... params\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Log\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;d\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;AsyncTask\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;doInBackground\u0026quot;\u0026lt;/span\u0026gt;);\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (int i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;; i++) {\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n                    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Log\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;d\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;AsyncTask\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;task \u0026quot;\u0026lt;/span\u0026gt;+(i + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;));\n                    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;publishProgress\u0026lt;/span\u0026gt;(i + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;);\n                    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Thread\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;sleep\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;);\n                } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;InterruptedException\u0026lt;/span\u0026gt; e) {\n                    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Thread\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;interrupted\u0026lt;/span\u0026gt;();\n                }\n            }\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Completed\u0026quot;\u0026lt;/span\u0026gt;;\n        }\n\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; result\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Log\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;d\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;AsyncTask\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;onPostExecute\u0026quot;\u0026lt;/span\u0026gt;);\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt; txt = (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;findViewById\u0026lt;/span\u0026gt;(R.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;output\u0026lt;/span\u0026gt;);\n            txt.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setText\u0026lt;/span\u0026gt;(result);\n            progressBar.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setProgress\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n        }\n\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPreExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Log\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;d\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;AsyncTask\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;onPreExecute\u0026quot;\u0026lt;/span\u0026gt;);\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt; txt = (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;findViewById\u0026lt;/span\u0026gt;(R.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;output\u0026lt;/span\u0026gt;);\n            txt.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setText\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;onPreExecute\u0026quot;\u0026lt;/span\u0026gt;);\n            progressBar.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setMax\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;500\u0026lt;/span\u0026gt;);\n            progressBar.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setProgress\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n        }\n\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onProgressUpdate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Integer... values\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Log\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;d\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;AsyncTask\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;onProgressUpdate \u0026quot;\u0026lt;/span\u0026gt;+values[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;]);\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt; txt = (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;findViewById\u0026lt;/span\u0026gt;(R.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;output\u0026lt;/span\u0026gt;);\n            txt.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setText\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;onProgressUpdate \u0026quot;\u0026lt;/span\u0026gt;+values[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;]);\n\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ObjectAnimator\u0026lt;/span\u0026gt; animation = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ObjectAnimator\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ofInt\u0026lt;/span\u0026gt;(progressBar, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;progress\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt; * values[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;]);\n            animation.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setDuration\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;);\n            animation.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setInterpolator\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;LinearInterpolator\u0026lt;/span\u0026gt;());\n            animation.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;start\u0026lt;/span\u0026gt;();\n        }\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;if you open AsyncTask class you can see below code.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;abstract\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;AsyncTask\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Params\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Progress\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Result\u0026lt;/span\u0026gt;\u0026amp;gt; {\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@WorkerThread\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;abstract\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Result\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;doInBackground\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Params\u0026lt;/span\u0026gt;... params);\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@MainThread\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPreExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    }\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@SuppressWarnings\u0026lt;/span\u0026gt;({\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;UnusedDeclaration\u0026quot;\u0026lt;/span\u0026gt;})\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@MainThread\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Result result\u0026lt;/span\u0026gt;) {\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;AsyncTask features\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;AsyncTask is abstract class\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;AsyncTask is have 3 generic params.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;AsyncTask has abstract method of doInBackground, onPreExecute, onPostExecute\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;doInBackground is WorkerThread (you can\u0026apos;t update UI)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;onPreExecute is MainThread\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;onPostExecute is MainThread (you can update UI)\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;example\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onCreate\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Bundle savedInstanceState)\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_login);\n    mEmailView = (AutoCompleteTextView) findViewById(R.id.email);\n\n    AsyncTask\u0026amp;lt;Void, Void, Post\u0026amp;gt; asyncTask = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;AsyncTask\u0026lt;/span\u0026gt;\u0026amp;lt;Void, Void, Post\u0026amp;gt;() {\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; Post \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;doInBackground\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Void... params)\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n                \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;ApiClient\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;defaultClient\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; Configuration.getDefaultApiClient();\n                \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;authorization\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE1ODIxMzM4MTB9.bA3Byc_SuB6jzqUGAY4Pyt4oBNg0VfDRctZ8-PcPlYg\u0026quot;\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// String | JWT token for Authorization\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;ApiKeyAuth\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;Bearer\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (ApiKeyAuth) defaultClient.getAuthentication(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Bearer\u0026quot;\u0026lt;/span\u0026gt;);\n                Bearer.setApiKey(authorization);\n                \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;PostApi\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;apiInstance\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;PostApi\u0026lt;/span\u0026gt;();\n                \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1\u0026quot;\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// String | id\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Integer\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;commentPage\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Integer | Page number for Comment\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Integer\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;commentPer\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Integer | Per page number For Comment\u0026lt;/span\u0026gt;\n                Post result;\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n                    result = apiInstance.apiV1PostsIdGet(id, authorization, commentPage, commentPer);\n                } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (ApiException e) {\n                    e.printStackTrace();\n                    result = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Post\u0026lt;/span\u0026gt;();\n                }\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; result;\n            } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (Exception e) {\n                e.printStackTrace();\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Post\u0026lt;/span\u0026gt;();\n            }\n        }\n\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Post post)\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.onPostExecute(post);\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (post != \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) {\n                mEmailView.setText(post.getBody());\n                System.out.print(post);\n            }\n        }\n    };\n    asyncTask.execute();\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Change your code as given below:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; result\u0026lt;/span\u0026gt;) {\n\n    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;runOnUiThread\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Runnable\u0026lt;/span\u0026gt;() {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;run\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt; txt = (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;findViewById\u0026lt;/span\u0026gt;(R.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;output\u0026lt;/span\u0026gt;);\n            txt.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setText\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Executed\u0026quot;\u0026lt;/span\u0026gt;);\n        }\n    });\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":478,"title":"AsyncTask Android example","content":"\n                \n\u0026lt;p\u0026gt;I was reading about \u0026lt;code\u0026gt;AsyncTask\u0026lt;/code\u0026gt;, and I tried the simple program below. But it does not seem to work. How can I make it work?\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;AsyncTaskActivity\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_ inherited__\u0026quot;\u0026gt;Activity\u0026lt;/span\u0026gt; {\n\n    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Button\u0026lt;/span\u0026gt; btn;\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/** Called when the activity is first created. */\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onCreate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Bundle savedInstanceState\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onCreate\u0026lt;/span\u0026gt;(savedInstanceState);\n        \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setContentView\u0026lt;/span\u0026gt;(R.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;layout\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;);\n\n        btn = (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Button\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;findViewById\u0026lt;/span\u0026gt;(R.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;button1\u0026lt;/span\u0026gt;);\n        btn.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setOnClickListener\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;OnClickListener\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;);\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onClick\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;View view\u0026lt;/span\u0026gt;){\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;LongOperation\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;);\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;LongOperation\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extends\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_ inherited__\u0026quot;\u0026gt;AsyncTask\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Void\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;\u0026amp;gt; {\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;doInBackground\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;... params\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt;(int i=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;i\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;;i++) {\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n                    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Thread\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;sleep\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;);\n                } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;InterruptedException\u0026lt;/span\u0026gt; e) {\n                    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// TODO Auto-generated catch block\u0026lt;/span\u0026gt;\n                    e.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;printStackTrace\u0026lt;/span\u0026gt;();\n                }\n            }\n            \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt; txt = (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;findViewById\u0026lt;/span\u0026gt;(R.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;output\u0026lt;/span\u0026gt;);\n            txt.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setText\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Executed\u0026quot;\u0026lt;/span\u0026gt;);\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;;\n        }\n\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPostExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; result\u0026lt;/span\u0026gt;) {\n        }\n\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onPreExecute\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        }\n\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onProgressUpdate\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Void... values\u0026lt;/span\u0026gt;) {\n        }\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;I am just trying to change the label after 5 seconds in the background process.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This is my \u0026lt;strong\u0026gt;main.xml\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;lt;?xml version=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1.0\u0026quot;\u0026lt;/span\u0026gt; encoding=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;utf-8\u0026quot;\u0026lt;/span\u0026gt;?\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;LinearLayout\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;xmlns:android\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://schemas.android.com/apk/res/android\u0026quot;\u0026lt;/span\u0026gt;\n              \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:layout_width\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;fill_parent\u0026quot;\u0026lt;/span\u0026gt;\n              \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:layout_height\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;fill_parent\u0026quot;\u0026lt;/span\u0026gt;\n              \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:orientation\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;vertical\u0026quot;\u0026lt;/span\u0026gt; \u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ProgressBar\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;@+id/progressBar\u0026quot;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;?android:attr/progressBarStyleHorizontal\u0026quot;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:layout_width\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;match_parent\u0026quot;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:layout_height\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;wrap_content\u0026quot;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:indeterminate\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;false\u0026quot;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:max\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;10\u0026quot;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:padding\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;10dip\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ProgressBar\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;Button\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;@+id/button1\u0026quot;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:layout_width\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;wrap_content\u0026quot;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:layout_height\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;wrap_content\u0026quot;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:text\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Start Progress\u0026quot;\u0026lt;/span\u0026gt; \u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;Button\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;TextView\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;@+id/output\u0026quot;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:layout_width\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;match_parent\u0026quot;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:layout_height\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;wrap_content\u0026quot;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:text\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Replace\u0026quot;\u0026lt;/span\u0026gt;/\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;LinearLayout\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","slug":"asynctask-android-example-1657388127898","postType":"QUESTION","createdAt":"2022-07-09T17:35:27.000Z","updatedAt":"2022-07-09T17:35:27.000Z","tags":[{"id":2418,"name":"android-asynctask","slug":"android-asynctask","createdAt":"2022-07-09T17:35:28.000Z","updatedAt":"2022-07-09T17:35:28.000Z","Questions_Tags":{"questionId":478,"tagId":2418}}],"relatedQuestions":[{"title":"AsyncTask Android example","slug":"asynctask-android-example-1657388127898","tags":[{"name":"android-asynctask","Questions_Tags":{"questionId":478,"tagId":2418}}]}]},"randomQuestions":[{"title":"How to join (merge) data frames (inner, outer, left, right)","slug":"how-to-join-(merge)-data-frames-(inner-outer-left-right)-1657384406445"},{"title":"How can I prevent SQL injection in PHP?","slug":"how-can-i-prevent-sql-injection-in-php-1657384220094"},{"title":"What to do Regular expression pattern doesn't match anywhere in string?","slug":"what-to-do-regular-expression-pattern-doesn't-match-anywhere-in-string-1657388095896"},{"title":"Add a property to a JavaScript object using a variable as the name?","slug":"add-a-property-to-a-javascript-object-using-a-variable-as-the-name-1657388425650"},{"title":"Correctly allocating multi-dimensional arrays","slug":"correctly-allocating-multi-dimensional-arrays-1657387733756"},{"title":"My regex is matching too much. How do I make it stop? [duplicate]","slug":"my-regex-is-matching-too-much.-how-do-i-make-it-stop-duplicate-1657384845028"},{"title":"Why can't I store a value and a reference to that value in the same struct?","slug":"why-can't-i-store-a-value-and-a-reference-to-that-value-in-the-same-struct-1657387506828"},{"title":"SQL select only rows with max value on a column [duplicate]","slug":"sql-select-only-rows-with-max-value-on-a-column-duplicate-1657384614292"},{"title":"How to store objects in HTML5 localStorage","slug":"how-to-store-objects-in-html5-localstorage-1657387568907"},{"title":"How to calculate the difference between two dates using PHP?","slug":"how-to-calculate-the-difference-between-two-dates-using-php-1657387409560"},{"title":"PHP mail function doesn't complete sending of e-mail","slug":"php-mail-function-doesn't-complete-sending-of-e-mail-1657384307499"},{"title":"console.log() async or sync?","slug":"console.log()-async-or-sync-1657388401087"},{"title":"What Is Selenium And What Is WebDriver?","slug":"what-is-selenium-and-what-is-webdriver-1657385470372"},{"title":"What is a smart pointer and when should I use one?","slug":"what-is-a-smart-pointer-and-when-should-i-use-one-1657387905461"},{"title":"How can I validate an email address in JavaScript?","slug":"how-can-i-validate-an-email-address-in-javascript-1657385475959"},{"title":"Big O, how do you calculate/approximate it?","slug":"big-o-how-do-you-calculateapproximate-it-1657387856392"},{"title":"How do I profile a Python script?","slug":"how-do-i-profile-a-python-script-1657388346692"},{"title":"How to make a great R reproducible example","slug":"how-to-make-a-great-r-reproducible-example-1657384198173"},{"title":"How to append text to an existing file in Java?","slug":"how-to-append-text-to-an-existing-file-in-java-1657388492377"},{"title":"How to Sort a Multi-dimensional Array by Value","slug":"how-to-sort-a-multi-dimensional-array-by-value-1657387746110"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"asynctask-android-example-1657388127898"},"buildId":"xZs8haGjOP63QuDE0kxeX","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>