<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>How do I use reflection to call a generic method? | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="What&#x27;s the best way to call a generic method when the type parameter isn&#x27;t known at compile time, but instead is obtained dynamically at runtime?

Consider the following sample code - inside the Example() method, what&#x27;s the most concise way to invoke GenericMethod&lt;T&gt;() using the Type stored in the myType variable?

public class Sample
{
    public void Example(string typeName)
    {
        Type myType = FindType(typeName);

        // What goes here to call GenericMethod&lt;T&gt;()?
        GenericMethod&lt;myType&gt;(); // This doesn&#x27;t work

        // What changes to call StaticMethod&lt;T&gt;()?
        Sample.StaticMethod&lt;myType&gt;(); // This also doesn&#x27;t work
    }

    public void GenericMethod&lt;T&gt;()
    {
        // ...
    }

    public static void StaticMethod&lt;T&gt;()
    {
        //...
    }
}

    "/><meta property="og:title" content="How do I use reflection to call a generic method? | Solutions Checker"/><meta property="og:description" content="What&#x27;s the best way to call a generic method when the type parameter isn&#x27;t known at compile time, but instead is obtained dynamically at runtime?

Consider the following sample code - inside the Example() method, what&#x27;s the most concise way to invoke GenericMethod&lt;T&gt;() using the Type stored in the myType variable?

public class Sample
{
    public void Example(string typeName)
    {
        Type myType = FindType(typeName);

        // What goes here to call GenericMethod&lt;T&gt;()?
        GenericMethod&lt;myType&gt;(); // This doesn&#x27;t work

        // What changes to call StaticMethod&lt;T&gt;()?
        Sample.StaticMethod&lt;myType&gt;(); // This also doesn&#x27;t work
    }

    public void GenericMethod&lt;T&gt;()
    {
        // ...
    }

    public static void StaticMethod&lt;T&gt;()
    {
        //...
    }
}

    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"How do I use reflection to call a generic method?","text":"What&apos;s the best way to call a generic method when the type parameter isn&apos;t known at compile time, but instead is obtained dynamically at runtime?\n\nConsider the following sample code - inside the Example() method, what&apos;s the most concise way to invoke GenericMethod&lt;T&gt;() using the Type stored in the myType variable?\n\npublic class Sample\n{\n    public void Example(string typeName)\n    {\n        Type myType = FindType(typeName);\n\n        // What goes here to call GenericMethod&lt;T&gt;()?\n        GenericMethod&lt;myType&gt;(); // This doesn&apos;t work\n\n        // What changes to call StaticMethod&lt;T&gt;()?\n        Sample.StaticMethod&lt;myType&gt;(); // This also doesn&apos;t work\n    }\n\n    public void GenericMethod&lt;T&gt;()\n    {\n        // ...\n    }\n\n    public static void StaticMethod&lt;T&gt;()\n    {\n        //...\n    }\n}\n\n    ","answerCount":8,"upVoteCount":500,"suggestedAnswer":[{"text":"You need to use reflection to get the method to start with, then &quot;construct&quot; it by supplying type arguments with MakeGenericMethod:\n\nMethodInfo method = typeof(Sample).GetMethod(nameof(Sample.GenericMethod));\nMethodInfo generic = method.MakeGenericMethod(myType);\ngeneric.Invoke(this, null);\n\n\nFor a static method, pass null as the first argument to Invoke. That&apos;s nothing to do with generic methods - it&apos;s just normal reflection.\n\nAs noted, a lot of this is simpler as of C# 4 using dynamic - if you can use type inference, of course. It doesn&apos;t help in cases where type inference isn&apos;t available, such as the exact example in the question.\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"Just an addition to the original answer. While this will work:\n\nMethodInfo method = typeof(Sample).GetMethod(&quot;GenericMethod&quot;);\nMethodInfo generic = method.MakeGenericMethod(myType);\ngeneric.Invoke(this, null);\n\n\nIt is also a little dangerous in that you lose compile-time check for GenericMethod. If you later do a refactoring and rename GenericMethod, this code won&apos;t notice and will fail at run time. Also, if there is any post-processing of the assembly (for example obfuscating or removing unused methods/classes) this code might break too.\n\nSo, if you know the method you are linking to at compile time, and this isn&apos;t called millions of times so overhead doesn&apos;t matter, I would change this code to be:\n\nAction&lt;&gt; GenMethod = GenericMethod&lt;int&gt;;  //change int by any base type \n                                          //accepted by GenericMethod\nMethodInfo method = this.GetType().GetMethod(GenMethod.Method.Name);\nMethodInfo generic = method.MakeGenericMethod(myType);\ngeneric.Invoke(this, null);\n\n\nWhile not very pretty, you have a compile time reference to GenericMethod here, and if you refactor, delete or do anything with GenericMethod, this code will keep working, or at least break at compile time (if for example you remove GenericMethod). \n\nOther way to do the same would be to create a new wrapper class, and create it through Activator. I don&apos;t know if there is a better way.\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"Calling a generic method with a type parameter known only at runtime can be greatly simplified by using a dynamic type instead of the reflection API.\nTo use this technique the type must be known from the actual object (not just an instance of the Type class). Otherwise, you have to create an object of that type or use the standard reflection API solution. You can create an object by using the Activator.CreateInstance method.\nIf you want to call a generic method, that in &quot;normal&quot; usage would have had its type inferred, then it simply comes to casting the object of unknown type to dynamic. Here&apos;s an example:\nclass Alpha { }\nclass Beta { }\nclass Service\n{\n    public void Process&lt;T&gt;(T item)\n    {\n        Console.WriteLine(&quot;item.GetType(): &quot; + item.GetType()\n                          + &quot;\\ttypeof(T): &quot; + typeof(T));\n    }\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        var a = new Alpha();\n        var b = new Beta();\n\n        var service = new Service();\n        service.Process(a); // Same as &quot;service.Process&lt;Alpha&gt;(a)&quot;\n        service.Process(b); // Same as &quot;service.Process&lt;Beta&gt;(b)&quot;\n\n        var objects = new object[] { a, b };\n        foreach (var o in objects)\n        {\n            service.Process(o); // Same as &quot;service.Process&lt;object&gt;(o)&quot;\n        }\n        foreach (var o in objects)\n        {\n            dynamic dynObj = o;\n            service.Process(dynObj); // Or write &quot;service.Process((dynamic)o)&quot;\n        }\n    }\n}\n\nAnd here&apos;s the output of this program:\nitem.GetType(): Alpha    typeof(T): Alpha\nitem.GetType(): Beta     typeof(T): Beta\nitem.GetType(): Alpha    typeof(T): System.Object\nitem.GetType(): Beta     typeof(T): System.Object\nitem.GetType(): Alpha    typeof(T): Alpha\nitem.GetType(): Beta     typeof(T): Beta\n\nProcess is a generic instance method that writes the real type of the passed argument (by using the GetType() method) and the type of the generic parameter (by using typeof operator).\nBy casting the object argument to dynamic type we deferred providing the type parameter until runtime. When the Process method is called with the dynamic argument then the compiler doesn&apos;t care about the type of this argument. The compiler generates code that at runtime checks the real types of passed arguments (by using reflection) and choose the best method to call. Here there is only this one generic method, so it&apos;s invoked with a proper type parameter.\nIn this example, the output is the same as if you wrote:\nforeach (var o in objects)\n{\n    MethodInfo method = typeof(Service).GetMethod(&quot;Process&quot;);\n    MethodInfo generic = method.MakeGenericMethod(o.GetType());\n    generic.Invoke(service, new object[] { o });\n}\n\nThe version with a dynamic type is definitely shorter and easier to write. You also shouldn&apos;t worry about performance of calling this function multiple times. The next call with arguments of the same type should be faster thanks to the caching mechanism in DLR. Of course, you can write code that cache invoked delegates, but by using the dynamic type you get this behaviour for free.\nIf the generic method you want to call don&apos;t have an argument of a parametrized type (so its type parameter can&apos;t be inferred) then you can wrap the invocation of the generic method in a helper method like in the following example:\nclass Program\n{\n    static void Main(string[] args)\n    {\n        object obj = new Alpha();\n\n        Helper((dynamic)obj);\n    }\n\n    public static void Helper&lt;T&gt;(T obj)\n    {\n        GenericMethod&lt;T&gt;();\n    }\n\n    public static void GenericMethod&lt;T&gt;()\n    {\n        Console.WriteLine(&quot;GenericMethod&lt;&quot; + typeof(T) + &quot;&gt;&quot;);\n    }\n}\n\nIncreased type safety\nWhat is really great about using dynamic object as a replacement for using reflection API is that you only lose compile time checking of this particular type that you don&apos;t know until runtime. Other arguments and the name of the method are staticly analysed by the compiler as usual. If you remove or add more arguments, change their types or rename method name then you&apos;ll get a compile-time error. This won&apos;t happen if you provide the method name as a string in Type.GetMethod and arguments as the objects array in MethodInfo.Invoke.\nBelow is a simple example that illustrates how some errors can be caught at compile time (commented code) and other at runtime. It also shows how the DLR tries to resolve which method to call.\ninterface IItem { }\nclass FooItem : IItem { }\nclass BarItem : IItem { }\nclass Alpha { }\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        var objects = new object[] { new FooItem(), new BarItem(), new Alpha() };\n        for (int i = 0; i &lt; objects.Length; i++)\n        {\n            ProcessItem((dynamic)objects[i], &quot;test&quot; + i, i);\n\n            //ProcesItm((dynamic)objects[i], &quot;test&quot; + i, i);\n            //compiler error: The name &apos;ProcesItm&apos; does not\n            //exist in the current context\n\n            //ProcessItem((dynamic)objects[i], &quot;test&quot; + i);\n            //error: No overload for method &apos;ProcessItem&apos; takes 2 arguments\n        }\n    }\n\n    static string ProcessItem&lt;T&gt;(T item, string text, int number)\n        where T : IItem\n    {\n        Console.WriteLine(&quot;Generic ProcessItem&lt;{0}&gt;, text {1}, number:{2}&quot;,\n                          typeof(T), text, number);\n        return &quot;OK&quot;;\n    }\n    static void ProcessItem(BarItem item, string text, int number)\n    {\n        Console.WriteLine(&quot;ProcessItem with Bar, &quot; + text + &quot;, &quot; + number);\n    }\n}\n\nHere we again execute some method by casting the argument to the dynamic type. Only verification of first argument&apos;s type is postponed to runtime. You will get a compiler error if the name of the method you&apos;re calling doesn&apos;t exist or if other arguments are invalid (wrong number of arguments or wrong types).\nWhen you pass the dynamic argument to a method then this call is lately bound. Method overload resolution happens at runtime and tries to choose the best overload. So if you invoke the ProcessItem method with an object of BarItem type then you&apos;ll actually call the non-generic method, because it is a better match for this type. However, you&apos;ll get a runtime error when you pass an argument of the Alpha type because there&apos;s no method that can handle this object (a generic method has the constraint where T : IItem and Alpha class doesn&apos;t implement this interface). But that&apos;s the whole point. The compiler doesn&apos;t have information that this call is valid. You as a programmer know this, and you should make sure that this code runs without errors.\nReturn type gotcha\nWhen you&apos;re calling a non-void method with a parameter of dynamic type, its return type will probably be dynamic too. So if you&apos;d change previous example to this code:\nvar result = ProcessItem((dynamic)testObjects[i], &quot;test&quot; + i, i);\n\nthen the type of the result object would be dynamic. This is because the compiler don&apos;t always know which method will be called. If you know the return type of the function call then you should implicitly convert it to the required type so the rest of the code is statically typed:\nstring result = ProcessItem((dynamic)testObjects[i], &quot;test&quot; + i, i);\n\nYou&apos;ll get a runtime error if the type doesn&apos;t match.\nActually, if you try to get the result value in the previous example then you&apos;ll get a runtime error in the second loop iteration. This is because you tried to save the return value of a void function.\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"Adding on to Adrian Gallero&apos;s answer:\nCalling a generic method from type info involves three steps.\n##TLDR: Calling a known generic method with a type object can be accomplished by:##\n((Action)GenericMethod&lt;object&gt;)\n    .Method\n    .GetGenericMethodDefinition()\n    .MakeGenericMethod(typeof(string))\n    .Invoke(this, null);\n\nwhere GenericMethod&lt;object&gt; is the method name to call and any type that satisfies the generic constraints.\n(Action) matches the signature of the method to be called i.e. (Func&lt;string,string,int&gt; or Action&lt;bool&gt;)\n##Step 1 is getting the MethodInfo for the generic method definition##\n###Method 1: Use GetMethod() or GetMethods() with appropriate types or binding flags.###\nMethodInfo method = typeof(Sample).GetMethod(&quot;GenericMethod&quot;);\n\n###Method 2: Create a delegate, get the MethodInfo object and then call GetGenericMethodDefinition\nFrom inside the class that contains the methods:\nMethodInfo method = ((Action)GenericMethod&lt;object&gt;)\n    .Method\n    .GetGenericMethodDefinition();\n\nMethodInfo method = ((Action)StaticMethod&lt;object&gt;)\n    .Method\n    .GetGenericMethodDefinition();\n\nFrom outside of the class that contains the methods:\nMethodInfo method = ((Action)(new Sample())\n    .GenericMethod&lt;object&gt;)\n    .Method\n    .GetGenericMethodDefinition();\n\nMethodInfo method = ((Action)Sample.StaticMethod&lt;object&gt;)\n    .Method\n    .GetGenericMethodDefinition();\n\nIn C#, the name of a method, i.e. &quot;ToString&quot; or &quot;GenericMethod&quot; actually refers to a group of methods that may contain one or more methods.  Until you provide the types of the method parameters, it is not known which\nmethod you are referring to.\n((Action)GenericMethod&lt;object&gt;) refers to the delegate for a specific method.  ((Func&lt;string, int&gt;)GenericMethod&lt;object&gt;)\nrefers to a different overload of GenericMethod\n###Method 3: Create a lambda expression containing a method call expression, get the MethodInfo object and then GetGenericMethodDefinition\nMethodInfo method = ((MethodCallExpression)((Expression&lt;Action&lt;Sample&gt;&gt;)(\n    (Sample v) =&gt; v.GenericMethod&lt;object&gt;()\n    )).Body).Method.GetGenericMethodDefinition();\n\nThis breaks down to\nCreate a lambda expression where the body is a call to your desired method.\nExpression&lt;Action&lt;Sample&gt;&gt; expr = (Sample v) =&gt; v.GenericMethod&lt;object&gt;();\n\nExtract the body and cast to MethodCallExpression\nMethodCallExpression methodCallExpr = (MethodCallExpression)expr.Body;\n\nGet the generic method definition from the method\nMethodInfo methodA = methodCallExpr.Method.GetGenericMethodDefinition();\n\n##Step 2 is calling MakeGenericMethod to create a generic method with the appropriate type(s).##\nMethodInfo generic = method.MakeGenericMethod(myType);\n\n##Step 3 is invoking the method with the appropriate arguments.##\ngeneric.Invoke(this, null);\n\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"With C# 4.0, reflection isn&apos;t necessary as the DLR can call it using runtime types. Since using the DLR library is kind of a pain dynamically (instead of the C# compiler generating code for you), the open source framework Dynamitey (.net standard 1.5) gives you easy cached run-time access to the same calls the compiler would generate for you.\n\nvar name = InvokeMemberName.Create;\nDynamic.InvokeMemberAction(this, name(&quot;GenericMethod&quot;, new[]{myType}));\n\n\nvar staticContext = InvokeContext.CreateStatic;\nDynamic.InvokeMemberAction(staticContext(typeof(Sample)), name(&quot;StaticMethod&quot;, new[]{myType}));\n\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"Nobody provided the &quot;classic Reflection&quot; solution, so here is a complete code example:\n\nusing System;\nusing System.Collections;\nusing System.Collections.Generic;\n\nnamespace DictionaryRuntime\n{\n    public class DynamicDictionaryFactory\n    {\n        /// &lt;summary&gt;\n        /// Factory to create dynamically a generic Dictionary.\n        /// &lt;/summary&gt;\n        public IDictionary CreateDynamicGenericInstance(Type keyType, Type valueType)\n        {\n            //Creating the Dictionary.\n            Type typeDict = typeof(Dictionary&lt;,&gt;);\n\n            //Creating KeyValue Type for Dictionary.\n            Type[] typeArgs = { keyType, valueType };\n\n            //Passing the Type and create Dictionary Type.\n            Type genericType = typeDict.MakeGenericType(typeArgs);\n\n            //Creating Instance for Dictionary&lt;K,T&gt;.\n            IDictionary d = Activator.CreateInstance(genericType) as IDictionary;\n\n            return d;\n\n        }\n    }\n}\n\n\nThe above DynamicDictionaryFactory class has a method \n\nCreateDynamicGenericInstance(Type keyType, Type valueType)\n\nand it creates and returns an IDictionary instance, the types of whose keys and values are exactly the specified on the call keyType and valueType.\n\nHere is a complete example how to call this method to instantiate and use a Dictionary&lt;String, int&gt; :\n\nusing System;\nusing System.Collections.Generic;\n\nnamespace DynamicDictionary\n{\n    class Test\n    {\n        static void Main(string[] args)\n        {\n            var factory = new DictionaryRuntime.DynamicDictionaryFactory();\n            var dict = factory.CreateDynamicGenericInstance(typeof(String), typeof(int));\n\n            var typedDict = dict as Dictionary&lt;String, int&gt;;\n\n            if (typedDict != null)\n            {\n                Console.WriteLine(&quot;Dictionary&lt;String, int&gt;&quot;);\n\n                typedDict.Add(&quot;One&quot;, 1);\n                typedDict.Add(&quot;Two&quot;, 2);\n                typedDict.Add(&quot;Three&quot;, 3);\n\n                foreach(var kvp in typedDict)\n                {\n                    Console.WriteLine(&quot;\\&quot;&quot; + kvp.Key + &quot;\\&quot;: &quot; + kvp.Value);\n                }\n            }\n            else\n                Console.WriteLine(&quot;null&quot;);\n        }\n    }\n}\n\n\nWhen the above console application is executed, we get the correct, expected result:\n\nDictionary&lt;String, int&gt;\n&quot;One&quot;: 1\n&quot;Two&quot;: 2\n&quot;Three&quot;: 3\n\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"This is my 2 cents based on Grax&apos;s answer, but with two parameters required for a generic method.\n\nAssume your method is defined as follows in an Helpers class:\n\npublic class Helpers\n{\n    public static U ConvertCsvDataToCollection&lt;U, T&gt;(string csvData)\n    where U : ObservableCollection&lt;T&gt;\n    {\n      //transform code here\n    }\n}\n\n\nIn my case, U type is always an observable collection storing object of type T.\n\nAs I have my types predefined, I first create the &quot;dummy&quot; objects that represent the observable collection (U) and the object stored in it (T) and that will be used below to get their type when calling the Make\n\nobject myCollection = Activator.CreateInstance(collectionType);\nobject myoObject = Activator.CreateInstance(objectType);\n\n\nThen call the GetMethod to find your Generic function:\n\nMethodInfo method = typeof(Helpers).\nGetMethod(&quot;ConvertCsvDataToCollection&quot;);\n\n\nSo far, the above call is pretty much identical as to what was explained above but with a small difference when you need have to pass multiple parameters to it.\n\nYou need to pass an Type[] array to the MakeGenericMethod function that contains the &quot;dummy&quot; objects&apos; types that were create above:\n\nMethodInfo generic = method.MakeGenericMethod(\nnew Type[] {\n   myCollection.GetType(),\n   myObject.GetType()\n});\n\n\nOnce that&apos;s done, you need to call the Invoke method as mentioned above.\n\ngeneric.Invoke(null, new object[] { csvData });\n\n\nAnd you&apos;re done. Works a charm!\n\nUPDATE:\n\nAs @Bevan highlighted, I do not need to create an array when calling the MakeGenericMethod function as it takes in params and I do not need to create an object in order to get the types as I can just pass the types directly to this function. In my case, since I have the types predefined in another class, I simply changed my code to:\n\nobject myCollection = null;\n\nMethodInfo method = typeof(Helpers).\nGetMethod(&quot;ConvertCsvDataToCollection&quot;);\n\nMethodInfo generic = method.MakeGenericMethod(\n   myClassInfo.CollectionType,\n   myClassInfo.ObjectType\n);\n\nmyCollection = generic.Invoke(null, new object[] { csvData });\n\n\nmyClassInfo contains 2 properties of type Type which I set at run time based on an enum value passed to the constructor and will provide me with the relevant types which I then use in the MakeGenericMethod.\n\nThanks again for highlighting this @Bevan.\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"Inspired by Enigmativity&apos;s answer - let&apos;s assume you have two (or more) classes, like\n\npublic class Bar { }\npublic class Square { }\n\n\nand you want to call the method Foo&lt;T&gt; with Bar and Square, which is declared as\n\npublic class myClass\n{\n    public void Foo&lt;T&gt;(T item)\n    {\n        Console.WriteLine(typeof(T).Name);\n    }\n}\n\n\nThen you can implement an Extension method like:\n\npublic static class Extension\n{\n    public static void InvokeFoo&lt;T&gt;(this T t)\n    {\n        var fooMethod = typeof(myClass).GetMethod(&quot;Foo&quot;);\n        var tType = typeof(T);\n        var fooTMethod = fooMethod.MakeGenericMethod(new[] { tType });\n        fooTMethod.Invoke(new myClass(), new object[] { t });\n    }\n}\n\n\nWith this, you can simply invoke Foo like:\n\nvar objSquare = new Square();\nobjSquare.InvokeFoo();\n\nvar objBar = new Bar();\nobjBar.InvokeFoo();\n\n\nwhich works for every class. In this case, it will output:\n\n\n  Square \n  Bar\n\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08d1a634dea6705e.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/150-b06815e21c943e0d.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/108-87de33c23337ff53.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-79a1437acf654019.js" defer=""></script><script src="/_next/static/Zo3C7AOWQzKM9qqyzx2hf/_buildManifest.js" defer=""></script><script src="/_next/static/Zo3C7AOWQzKM9qqyzx2hf/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-do-i-use-reflection-to-call-a-generic-method-1657387256751#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-do-i-use-reflection-to-call-a-generic-method-1657387256751"><h1>How do I use reflection to call a generic method?</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/reflection">reflection</a></div></div><div class="question-content mt-5">
                
<p>What's the best way to call a generic method when the type parameter isn't known at compile time, but instead is obtained dynamically at runtime?</p>

<p>Consider the following sample code - inside the <code>Example()</code> method, what's the most concise way to invoke <code>GenericMethod&lt;T&gt;()</code> using the <code>Type</code> stored in the <code>myType</code> variable?</p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Sample</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Example</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> typeName</span>)</span>
    {
        Type myType = FindType(typeName);

        <span class="hljs-comment">// What goes here to call GenericMethod&lt;T&gt;()?</span>
        GenericMethod&lt;myType&gt;(); <span class="hljs-comment">// This doesn't work</span>

        <span class="hljs-comment">// What changes to call StaticMethod&lt;T&gt;()?</span>
        Sample.StaticMethod&lt;myType&gt;(); <span class="hljs-comment">// This also doesn't work</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">GenericMethod</span>&lt;<span class="hljs-title">T</span>&gt;()</span>
    {
        <span class="hljs-comment">// ...</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">StaticMethod</span>&lt;<span class="hljs-title">T</span>&gt;()</span>
    {
        <span class="hljs-comment">//...</span>
    }
}
</code></pre>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/reflection">reflection</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You need to use reflection to get the method to start with, then "construct" it by supplying type arguments with <a href="http://msdn.microsoft.com/en-us/library/system.reflection.methodinfo.makegenericmethod.aspx" rel="noreferrer">MakeGenericMethod</a>:</p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp">MethodInfo method = <span class="hljs-keyword">typeof</span>(Sample).GetMethod(<span class="hljs-keyword">nameof</span>(Sample.GenericMethod));
MethodInfo generic = method.MakeGenericMethod(myType);
generic.Invoke(<span class="hljs-keyword">this</span>, <span class="hljs-literal">null</span>);
</code></pre>

<p>For a static method, pass <code>null</code> as the first argument to <code>Invoke</code>. That's nothing to do with generic methods - it's just normal reflection.</p>

<p>As noted, a lot of this is simpler as of C# 4 using <code>dynamic</code> - if you can use type inference, of course. It doesn't help in cases where type inference isn't available, such as the exact example in the question.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/reflection">reflection</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Just an addition to the original answer. While this will work:</p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp">MethodInfo method = <span class="hljs-keyword">typeof</span>(Sample).GetMethod(<span class="hljs-string">"GenericMethod"</span>);
MethodInfo generic = method.MakeGenericMethod(myType);
generic.Invoke(<span class="hljs-keyword">this</span>, <span class="hljs-literal">null</span>);
</code></pre>

<p>It is also a little dangerous in that you lose compile-time check for <code>GenericMethod</code>. If you later do a refactoring and rename <code>GenericMethod</code>, this code won't notice and will fail at run time. Also, if there is any post-processing of the assembly (for example obfuscating or removing unused methods/classes) this code might break too.</p>

<p>So, if you know the method you are linking to at compile time, and this isn't called millions of times so overhead doesn't matter, I would change this code to be:</p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp">Action&lt;&gt; GenMethod = GenericMethod&lt;<span class="hljs-built_in">int</span>&gt;;  <span class="hljs-comment">//change int by any base type </span>
                                          <span class="hljs-comment">//accepted by GenericMethod</span>
MethodInfo method = <span class="hljs-keyword">this</span>.GetType().GetMethod(GenMethod.Method.Name);
MethodInfo generic = method.MakeGenericMethod(myType);
generic.Invoke(<span class="hljs-keyword">this</span>, <span class="hljs-literal">null</span>);
</code></pre>

<p>While not very pretty, you have a compile time reference to <code>GenericMethod</code> here, and if you refactor, delete or do anything with <code>GenericMethod</code>, this code will keep working, or at least break at compile time (if for example you remove <code>GenericMethod</code>). </p>

<p>Other way to do the same would be to create a new wrapper class, and create it through <code>Activator</code>. I don't know if there is a better way.</p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/reflection">reflection</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Calling a generic method with a type parameter known only at runtime can be greatly simplified by using a <a href="http://msdn.microsoft.com/en-us/library/dd264741.aspx" rel="noreferrer"><code>dynamic</code></a> type instead of the reflection API.</p>
<p>To use this technique the type must be known from the actual object (not just an instance of the <code>Type</code> class). Otherwise, you have to create an object of that type or use the standard reflection API <a href="https://stackoverflow.com/a/232621/350384">solution</a>. You can create an object by using the <a href="http://msdn.microsoft.com/en-us/library/wccyzw83%28v=vs.110%29.aspx" rel="noreferrer">Activator.CreateInstance</a> method.</p>
<p>If you want to call a generic method, that in "normal" usage would have had its type inferred, then it simply comes to casting the object of unknown type to <code>dynamic</code>. Here's an example:</p>
<pre class="lang-cs s-code-block"><code class="hljs language-csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Alpha</span> { }
<span class="hljs-keyword">class</span> <span class="hljs-title">Beta</span> { }
<span class="hljs-keyword">class</span> <span class="hljs-title">Service</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Process</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">T item</span>)</span>
    {
        Console.WriteLine(<span class="hljs-string">"item.GetType(): "</span> + item.GetType()
                          + <span class="hljs-string">"\ttypeof(T): "</span> + <span class="hljs-keyword">typeof</span>(T));
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
    {
        <span class="hljs-keyword">var</span> a = <span class="hljs-keyword">new</span> Alpha();
        <span class="hljs-keyword">var</span> b = <span class="hljs-keyword">new</span> Beta();

        <span class="hljs-keyword">var</span> service = <span class="hljs-keyword">new</span> Service();
        service.Process(a); <span class="hljs-comment">// Same as "service.Process&lt;Alpha&gt;(a)"</span>
        service.Process(b); <span class="hljs-comment">// Same as "service.Process&lt;Beta&gt;(b)"</span>

        <span class="hljs-keyword">var</span> objects = <span class="hljs-keyword">new</span> <span class="hljs-built_in">object</span>[] { a, b };
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> o <span class="hljs-keyword">in</span> objects)
        {
            service.Process(o); <span class="hljs-comment">// Same as "service.Process&lt;object&gt;(o)"</span>
        }
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> o <span class="hljs-keyword">in</span> objects)
        {
            <span class="hljs-built_in">dynamic</span> dynObj = o;
            service.Process(dynObj); <span class="hljs-comment">// Or write "service.Process((dynamic)o)"</span>
        }
    }
}
</code></pre>
<p>And here's the output of this program:</p>
<pre class="lang-cs s-code-block"><code class="hljs language-csharp">item.GetType(): <span class="hljs-function">Alpha    <span class="hljs-title">typeof</span>(<span class="hljs-params">T</span>): Alpha
item.<span class="hljs-title">GetType</span>(): Beta     <span class="hljs-title">typeof</span>(<span class="hljs-params">T</span>): Beta
item.<span class="hljs-title">GetType</span>(): Alpha    <span class="hljs-title">typeof</span>(<span class="hljs-params">T</span>): System.Object
item.<span class="hljs-title">GetType</span>(): Beta     <span class="hljs-title">typeof</span>(<span class="hljs-params">T</span>): System.Object
item.<span class="hljs-title">GetType</span>(): Alpha    <span class="hljs-title">typeof</span>(<span class="hljs-params">T</span>): Alpha
item.<span class="hljs-title">GetType</span>(): Beta     <span class="hljs-title">typeof</span>(<span class="hljs-params">T</span>): Beta
</span></code></pre>
<p><code>Process</code> is a generic instance method that writes the real type of the passed argument (by using the <code>GetType()</code> method) and the type of the generic parameter (by using <code>typeof</code> operator).</p>
<p>By casting the object argument to <code>dynamic</code> type we deferred providing the type parameter until runtime. When the <code>Process</code> method is called with the <code>dynamic</code> argument then the compiler doesn't care about the type of this argument. The compiler generates code that at runtime checks the real types of passed arguments (by using reflection) and choose the best method to call. Here there is only this one generic method, so it's invoked with a proper type parameter.</p>
<p>In this example, the output is the same as if you wrote:</p>
<pre class="lang-cs s-code-block"><code class="hljs language-csharp"><span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> o <span class="hljs-keyword">in</span> objects)
{
    MethodInfo method = <span class="hljs-keyword">typeof</span>(Service).GetMethod(<span class="hljs-string">"Process"</span>);
    MethodInfo generic = method.MakeGenericMethod(o.GetType());
    generic.Invoke(service, <span class="hljs-keyword">new</span> <span class="hljs-built_in">object</span>[] { o });
}
</code></pre>
<p>The version with a dynamic type is definitely shorter and easier to write. You also shouldn't worry about performance of calling this function multiple times. The next call with arguments of the same type should be faster thanks to the <a href="https://web.archive.org/web/20140422080408/http://blogs.msdn.com/b/samng/archive/2008/10/29/dynamic-in-c.aspx" rel="noreferrer">caching</a> mechanism in DLR. Of course, you can write code that cache invoked delegates, but by using the <code>dynamic</code> type you get this behaviour for free.</p>
<p>If the generic method you want to call don't have an argument of a parametrized type (so its type parameter can't be inferred) then you can wrap the invocation of the generic method in a helper method like in the following example:</p>
<pre class="lang-cs s-code-block"><code class="hljs language-csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
    {
        <span class="hljs-built_in">object</span> obj = <span class="hljs-keyword">new</span> Alpha();

        Helper((<span class="hljs-built_in">dynamic</span>)obj);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Helper</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">T obj</span>)</span>
    {
        GenericMethod&lt;T&gt;();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">GenericMethod</span>&lt;<span class="hljs-title">T</span>&gt;()</span>
    {
        Console.WriteLine(<span class="hljs-string">"GenericMethod&lt;"</span> + <span class="hljs-keyword">typeof</span>(T) + <span class="hljs-string">"&gt;"</span>);
    }
}
</code></pre>
<h1>Increased type safety</h1>
<p>What is really great about using <code>dynamic</code> object as a replacement for using reflection API is that you only lose compile time checking of this particular type that you don't know until runtime. Other arguments and the name of the method are staticly analysed by the compiler as usual. If you remove or add more arguments, change their types or rename method name then you'll get a compile-time error. This won't happen if you provide the method name as a string in <code>Type.GetMethod</code> and arguments as the objects array in <code>MethodInfo.Invoke</code>.</p>
<p>Below is a simple example that illustrates how some errors can be caught at compile time (commented code) and other at runtime. It also shows how the DLR tries to resolve which method to call.</p>
<pre class="lang-cs s-code-block"><code class="hljs language-csharp"><span class="hljs-keyword">interface</span> <span class="hljs-title">IItem</span> { }
<span class="hljs-keyword">class</span> <span class="hljs-title">FooItem</span> : <span class="hljs-title">IItem</span> { }
<span class="hljs-keyword">class</span> <span class="hljs-title">BarItem</span> : <span class="hljs-title">IItem</span> { }
<span class="hljs-keyword">class</span> <span class="hljs-title">Alpha</span> { }

<span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
    {
        <span class="hljs-keyword">var</span> objects = <span class="hljs-keyword">new</span> <span class="hljs-built_in">object</span>[] { <span class="hljs-keyword">new</span> FooItem(), <span class="hljs-keyword">new</span> BarItem(), <span class="hljs-keyword">new</span> Alpha() };
        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; objects.Length; i++)
        {
            ProcessItem((<span class="hljs-built_in">dynamic</span>)objects[i], <span class="hljs-string">"test"</span> + i, i);

            <span class="hljs-comment">//ProcesItm((dynamic)objects[i], "test" + i, i);</span>
            <span class="hljs-comment">//compiler error: The name 'ProcesItm' does not</span>
            <span class="hljs-comment">//exist in the current context</span>

            <span class="hljs-comment">//ProcessItem((dynamic)objects[i], "test" + i);</span>
            <span class="hljs-comment">//error: No overload for method 'ProcessItem' takes 2 arguments</span>
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> <span class="hljs-title">ProcessItem</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">T item, <span class="hljs-built_in">string</span> text, <span class="hljs-built_in">int</span> number</span>)
        <span class="hljs-keyword">where</span> T : IItem</span>
    {
        Console.WriteLine(<span class="hljs-string">"Generic ProcessItem&lt;{0}&gt;, text {1}, number:{2}"</span>,
                          <span class="hljs-keyword">typeof</span>(T), text, number);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"OK"</span>;
    }
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ProcessItem</span>(<span class="hljs-params">BarItem item, <span class="hljs-built_in">string</span> text, <span class="hljs-built_in">int</span> number</span>)</span>
    {
        Console.WriteLine(<span class="hljs-string">"ProcessItem with Bar, "</span> + text + <span class="hljs-string">", "</span> + number);
    }
}
</code></pre>
<p>Here we again execute some method by casting the argument to the <code>dynamic</code> type. Only verification of first argument's type is postponed to runtime. You will get a compiler error if the name of the method you're calling doesn't exist or if other arguments are invalid (wrong number of arguments or wrong types).</p>
<p>When you pass the <code>dynamic</code> argument to a method then this call is <a href="https://ericlippert.com/2012/02/06/what-is-late-binding/" rel="noreferrer">lately bound</a>. Method overload resolution happens at runtime and tries to choose the best overload. So if you invoke the <code>ProcessItem</code> method with an object of <code>BarItem</code> type then you'll actually call the non-generic method, because it is a better match for this type. However, you'll get a runtime error when you pass an argument of the <code>Alpha</code> type because there's no method that can handle this object (a generic method has the constraint <code>where T : IItem</code> and <code>Alpha</code> class doesn't implement this interface). But that's the whole point. The compiler doesn't have information that this call is valid. You as a programmer know this, and you should make sure that this code runs without errors.</p>
<h2>Return type gotcha</h2>
<p>When you're calling a non-void method with a parameter of dynamic type, its return type will probably <a href="https://ericlippert.com/2012/10/22/a-method-group-of-one/" rel="noreferrer">be <code>dynamic</code> too</a>. So if you'd change previous example to this code:</p>
<pre class="lang-cs s-code-block"><code class="hljs language-csharp"><span class="hljs-keyword">var</span> result = ProcessItem((<span class="hljs-built_in">dynamic</span>)testObjects[i], <span class="hljs-string">"test"</span> + i, i);
</code></pre>
<p>then the type of the result object would be <code>dynamic</code>. This is because the compiler don't always know which method will be called. If you know the return type of the function call then you should <a href="http://msdn.microsoft.com/en-us/library/dd264736.aspx" rel="noreferrer">implicitly convert</a> it to the required type so the rest of the code is statically typed:</p>
<pre class="lang-cs s-code-block"><code class="hljs language-csharp"><span class="hljs-built_in">string</span> result = ProcessItem((<span class="hljs-built_in">dynamic</span>)testObjects[i], <span class="hljs-string">"test"</span> + i, i);
</code></pre>
<p>You'll get a runtime error if the type doesn't match.</p>
<p>Actually, if you try to get the result value in the previous example then you'll get a runtime error in the second loop iteration. This is because you tried to save the return value of a void function.</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/reflection">reflection</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Adding on to <a href="https://stackoverflow.com/questions/232535/how-do-i-use-reflection-to-call-a-generic-method/5134251#5134251">Adrian Gallero's answer</a>:</p>
<p>Calling a generic method from type info involves three steps.</p>
<p>##TLDR: Calling a known generic method with a type object can be accomplished by:##</p>
<pre class="lang-cs s-code-block"><code class="hljs language-csharp">((Action)GenericMethod&lt;<span class="hljs-built_in">object</span>&gt;)
    .Method
    .GetGenericMethodDefinition()
    .MakeGenericMethod(<span class="hljs-keyword">typeof</span>(<span class="hljs-built_in">string</span>))
    .Invoke(<span class="hljs-keyword">this</span>, <span class="hljs-literal">null</span>);
</code></pre>
<p>where <code>GenericMethod&lt;object&gt;</code> is the method name to call and any type that satisfies the generic constraints.</p>
<p>(Action) matches the signature of the method to be called i.e. (<code>Func&lt;string,string,int&gt;</code> or <code>Action&lt;bool&gt;</code>)</p>
<p>##Step 1 is getting the MethodInfo for the generic method definition##</p>
<p>###Method 1: Use GetMethod() or GetMethods() with appropriate types or binding flags.###</p>
<pre class="lang-cs s-code-block"><code class="hljs language-csharp">MethodInfo method = <span class="hljs-keyword">typeof</span>(Sample).GetMethod(<span class="hljs-string">"GenericMethod"</span>);
</code></pre>
<p>###Method 2: Create a delegate, get the MethodInfo object and then call GetGenericMethodDefinition</p>
<p>From inside the class that contains the methods:</p>
<pre class="lang-cs s-code-block"><code class="hljs language-csharp">MethodInfo method = ((Action)GenericMethod&lt;<span class="hljs-built_in">object</span>&gt;)
    .Method
    .GetGenericMethodDefinition();

MethodInfo method = ((Action)StaticMethod&lt;<span class="hljs-built_in">object</span>&gt;)
    .Method
    .GetGenericMethodDefinition();
</code></pre>
<p>From outside of the class that contains the methods:</p>
<pre class="lang-cs s-code-block"><code class="hljs language-csharp">MethodInfo method = ((Action)(<span class="hljs-keyword">new</span> Sample())
    .GenericMethod&lt;<span class="hljs-built_in">object</span>&gt;)
    .Method
    .GetGenericMethodDefinition();

MethodInfo method = ((Action)Sample.StaticMethod&lt;<span class="hljs-built_in">object</span>&gt;)
    .Method
    .GetGenericMethodDefinition();
</code></pre>
<p>In C#, the name of a method, i.e. "ToString" or "GenericMethod" actually refers to a group of methods that may contain one or more methods.  Until you provide the types of the method parameters, it is not known which
method you are referring to.</p>
<p><code>((Action)GenericMethod&lt;object&gt;)</code> refers to the delegate for a specific method.  <code>((Func&lt;string, int&gt;)GenericMethod&lt;object&gt;)</code>
refers to a different overload of GenericMethod</p>
<p>###Method 3: Create a lambda expression containing a method call expression, get the MethodInfo object and then GetGenericMethodDefinition</p>
<pre class="lang-cs s-code-block"><code class="hljs language-csharp">MethodInfo method = ((MethodCallExpression)((Expression&lt;Action&lt;Sample&gt;&gt;)(
    (Sample v) =&gt; v.GenericMethod&lt;<span class="hljs-built_in">object</span>&gt;()
    )).Body).Method.GetGenericMethodDefinition();
</code></pre>
<p>This breaks down to</p>
<p>Create a lambda expression where the body is a call to your desired method.</p>
<pre class="lang-cs s-code-block"><code class="hljs language-csharp">Expression&lt;Action&lt;Sample&gt;&gt; expr = (Sample v) =&gt; v.GenericMethod&lt;<span class="hljs-built_in">object</span>&gt;();
</code></pre>
<p>Extract the body and cast to MethodCallExpression</p>
<pre class="lang-cs s-code-block"><code class="hljs language-csharp">MethodCallExpression methodCallExpr = (MethodCallExpression)expr.Body;
</code></pre>
<p>Get the generic method definition from the method</p>
<pre class="lang-cs s-code-block"><code class="hljs language-csharp">MethodInfo methodA = methodCallExpr.Method.GetGenericMethodDefinition();
</code></pre>
<p>##Step 2 is calling MakeGenericMethod to create a generic method with the appropriate type(s).##</p>
<pre class="lang-cs s-code-block"><code class="hljs language-csharp">MethodInfo generic = method.MakeGenericMethod(myType);
</code></pre>
<p>##Step 3 is invoking the method with the appropriate arguments.##</p>
<pre class="lang-cs s-code-block"><code class="hljs language-csharp">generic.Invoke(<span class="hljs-keyword">this</span>, <span class="hljs-literal">null</span>);
</code></pre>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/reflection">reflection</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>With C# 4.0, reflection isn't necessary as the DLR can call it using runtime types. Since using the DLR library is kind of a pain dynamically (instead of the C# compiler generating code for you), the open source framework <a href="https://github.com/ekonbenefits/dynamitey" rel="noreferrer">Dynamitey</a> (.net standard 1.5) gives you easy cached run-time access to the same calls the compiler would generate for you.</p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp"><span class="hljs-keyword">var</span> name = InvokeMemberName.Create;
Dynamic.InvokeMemberAction(<span class="hljs-keyword">this</span>, name(<span class="hljs-string">"GenericMethod"</span>, <span class="hljs-keyword">new</span>[]{myType}));


<span class="hljs-keyword">var</span> staticContext = InvokeContext.CreateStatic;
Dynamic.InvokeMemberAction(staticContext(<span class="hljs-keyword">typeof</span>(Sample)), name(<span class="hljs-string">"StaticMethod"</span>, <span class="hljs-keyword">new</span>[]{myType}));
</code></pre>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/reflection">reflection</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>Nobody provided the "<em>classic Reflection</em>" solution, so here is a complete code example:</strong></p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections;
<span class="hljs-keyword">using</span> System.Collections.Generic;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">DictionaryRuntime</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DynamicDictionaryFactory</span>
    {
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> Factory to create dynamically a generic Dictionary.</span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> IDictionary <span class="hljs-title">CreateDynamicGenericInstance</span>(<span class="hljs-params">Type keyType, Type valueType</span>)</span>
        {
            <span class="hljs-comment">//Creating the Dictionary.</span>
            Type typeDict = <span class="hljs-keyword">typeof</span>(Dictionary&lt;,&gt;);

            <span class="hljs-comment">//Creating KeyValue Type for Dictionary.</span>
            Type[] typeArgs = { keyType, valueType };

            <span class="hljs-comment">//Passing the Type and create Dictionary Type.</span>
            Type genericType = typeDict.MakeGenericType(typeArgs);

            <span class="hljs-comment">//Creating Instance for Dictionary&lt;K,T&gt;.</span>
            IDictionary d = Activator.CreateInstance(genericType) <span class="hljs-keyword">as</span> IDictionary;

            <span class="hljs-keyword">return</span> d;

        }
    }
}
</code></pre>

<p>The above <code>DynamicDictionaryFactory</code> class has a method </p>

<p><code>CreateDynamicGenericInstance(Type keyType, Type valueType)</code></p>

<p>and it creates and returns an IDictionary instance, the types of whose keys and values are exactly the specified on the call <code>keyType</code> and <code>valueType</code>.</p>

<p><strong>Here is a complete example</strong> how to call this method to instantiate and use a <code>Dictionary&lt;String, int&gt;</code> :</p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Generic;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">DynamicDictionary</span>
{
    <span class="hljs-keyword">class</span> <span class="hljs-title">Test</span>
    {
        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
        {
            <span class="hljs-keyword">var</span> factory = <span class="hljs-keyword">new</span> DictionaryRuntime.DynamicDictionaryFactory();
            <span class="hljs-keyword">var</span> dict = factory.CreateDynamicGenericInstance(<span class="hljs-keyword">typeof</span>(String), <span class="hljs-keyword">typeof</span>(<span class="hljs-built_in">int</span>));

            <span class="hljs-keyword">var</span> typedDict = dict <span class="hljs-keyword">as</span> Dictionary&lt;String, <span class="hljs-built_in">int</span>&gt;;

            <span class="hljs-keyword">if</span> (typedDict != <span class="hljs-literal">null</span>)
            {
                Console.WriteLine(<span class="hljs-string">"Dictionary&lt;String, int&gt;"</span>);

                typedDict.Add(<span class="hljs-string">"One"</span>, <span class="hljs-number">1</span>);
                typedDict.Add(<span class="hljs-string">"Two"</span>, <span class="hljs-number">2</span>);
                typedDict.Add(<span class="hljs-string">"Three"</span>, <span class="hljs-number">3</span>);

                <span class="hljs-keyword">foreach</span>(<span class="hljs-keyword">var</span> kvp <span class="hljs-keyword">in</span> typedDict)
                {
                    Console.WriteLine(<span class="hljs-string">"\""</span> + kvp.Key + <span class="hljs-string">"\": "</span> + kvp.Value);
                }
            }
            <span class="hljs-keyword">else</span>
                Console.WriteLine(<span class="hljs-string">"null"</span>);
        }
    }
}
</code></pre>

<p>When the above console application is executed, we get the correct, expected result:</p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp">Dictionary&lt;String, <span class="hljs-built_in">int</span>&gt;
<span class="hljs-string">"One"</span>: <span class="hljs-number">1</span>
<span class="hljs-string">"Two"</span>: <span class="hljs-number">2</span>
<span class="hljs-string">"Three"</span>: <span class="hljs-number">3</span>
</code></pre>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/reflection">reflection</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This is my 2 cents based on <a href="https://stackoverflow.com/questions/232535/how-do-i-use-reflection-to-call-a-generic-method/27870198#27870198">Grax's answer</a>, but with two parameters required for a generic method.</p>

<p>Assume your method is defined as follows in an Helpers class:</p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Helpers</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> U <span class="hljs-title">ConvertCsvDataToCollection</span>&lt;<span class="hljs-title">U</span>, <span class="hljs-title">T</span>&gt;(<span class="hljs-params"><span class="hljs-built_in">string</span> csvData</span>)
    <span class="hljs-keyword">where</span> U : ObservableCollection&lt;T&gt;</span>
    {
      <span class="hljs-comment">//transform code here</span>
    }
}
</code></pre>

<p>In my case, U type is always an observable collection storing object of type T.</p>

<p>As I have my types predefined, I first create the "dummy" objects that represent the observable collection (U) and the object stored in it (T) and that will be used below to get their type when calling the Make</p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp"><span class="hljs-built_in">object</span> myCollection = Activator.CreateInstance(collectionType);
<span class="hljs-built_in">object</span> myoObject = Activator.CreateInstance(objectType);
</code></pre>

<p>Then call the GetMethod to find your Generic function:</p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp">MethodInfo method = <span class="hljs-keyword">typeof</span>(Helpers).
GetMethod(<span class="hljs-string">"ConvertCsvDataToCollection"</span>);
</code></pre>

<p>So far, the above call is pretty much identical as to what was explained above but with a small difference when you need have to pass multiple parameters to it.</p>

<p>You need to pass an Type[] array to the MakeGenericMethod function that contains the "dummy" objects' types that were create above:</p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp">MethodInfo generic = method.MakeGenericMethod(
<span class="hljs-keyword">new</span> Type[] {
   myCollection.GetType(),
   myObject.GetType()
});
</code></pre>

<p>Once that's done, you need to call the Invoke method as mentioned above.</p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp">generic.Invoke(<span class="hljs-literal">null</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">object</span>[] { csvData });
</code></pre>

<p>And you're done. Works a charm!</p>

<p><strong>UPDATE:</strong></p>

<p>As @Bevan highlighted, I do not need to create an array when calling the MakeGenericMethod function as it takes in params and I do not need to create an object in order to get the types as I can just pass the types directly to this function. In my case, since I have the types predefined in another class, I simply changed my code to:</p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp"><span class="hljs-built_in">object</span> myCollection = <span class="hljs-literal">null</span>;

MethodInfo method = <span class="hljs-keyword">typeof</span>(Helpers).
GetMethod(<span class="hljs-string">"ConvertCsvDataToCollection"</span>);

MethodInfo generic = method.MakeGenericMethod(
   myClassInfo.CollectionType,
   myClassInfo.ObjectType
);

myCollection = generic.Invoke(<span class="hljs-literal">null</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">object</span>[] { csvData });
</code></pre>

<p>myClassInfo contains 2 properties of type <code>Type</code> which I set at run time based on an enum value passed to the constructor and will provide me with the relevant types which I then use in the MakeGenericMethod.</p>

<p>Thanks again for highlighting this @Bevan.</p>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/reflection">reflection</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Inspired by <a href="https://stackoverflow.com/a/3958029/1016343">Enigmativity's answer</a> - let's assume you have two (or more) classes, like</p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Bar</span> { }
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Square</span> { }
</code></pre>

<p>and you want to call the method <code>Foo&lt;T&gt;</code> with <code>Bar</code> and <code>Square</code>, which is declared as</p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">myClass</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">T item</span>)</span>
    {
        Console.WriteLine(<span class="hljs-keyword">typeof</span>(T).Name);
    }
}
</code></pre>

<p>Then you can implement an <strong>Extension method</strong> like:</p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Extension</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">InvokeFoo</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params"><span class="hljs-keyword">this</span> T t</span>)</span>
    {
        <span class="hljs-keyword">var</span> fooMethod = <span class="hljs-keyword">typeof</span>(myClass).GetMethod(<span class="hljs-string">"Foo"</span>);
        <span class="hljs-keyword">var</span> tType = <span class="hljs-keyword">typeof</span>(T);
        <span class="hljs-keyword">var</span> fooTMethod = fooMethod.MakeGenericMethod(<span class="hljs-keyword">new</span>[] { tType });
        fooTMethod.Invoke(<span class="hljs-keyword">new</span> myClass(), <span class="hljs-keyword">new</span> <span class="hljs-built_in">object</span>[] { t });
    }
}
</code></pre>

<p>With this, you can simply invoke <code>Foo</code> like:</p>

<pre class="lang-cs s-code-block"><code class="hljs language-csharp"><span class="hljs-keyword">var</span> objSquare = <span class="hljs-keyword">new</span> Square();
objSquare.InvokeFoo();

<span class="hljs-keyword">var</span> objBar = <span class="hljs-keyword">new</span> Bar();
objBar.InvokeFoo();
</code></pre>

<p>which works for every class. In this case, it will output:</p>

<blockquote>
  <p>Square <br>
  Bar</p>
</blockquote>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/test-for-existence-of-nested-javascript-object-key-1657387935411">Test for existence of nested JavaScript object key</a><a href="/questions/how-to-filter-object-array-based-on-attributes-1657388211247">How to filter object array based on attributes?</a><a href="/questions/%22thinking-in-angularjs%22-if-i-have-a-jquery-background-closed-1657384761159">&quot;Thinking in AngularJS&quot; if I have a jQuery background? [closed]</a><a href="/questions/commandbuttoncommandlinkajax-actionlistener-method-not-invoked-or-input-value-not-setupdated-1657384667519">commandButton/commandLink/ajax action/listener method not invoked or input value not set/updated</a><a href="/questions/how-to-use-java.net.urlconnection-to-fire-and-handle-http-requests-1657387245934">How to use java.net.URLConnection to fire and handle HTTP requests</a><a href="/questions/why-is-24.0000-not-equal-to-24.0000-in-matlab-1657388376753">Why is 24.0000 not equal to 24.0000 in MATLAB?</a><a href="/questions/how-can-i-return-pivot-table-output-in-mysql-1657384715043">How can I return pivot table output in MySQL?</a><a href="/questions/how-do-i-declare-a-2d-array-in-c++-using-new-1657388441163">How do I declare a 2d array in C++ using new?</a><a href="/questions/how-to-count-the-number-of-set-bits-in-a-32-bit-integer-1657388437370">How to count the number of set bits in a 32-bit integer?</a><a href="/questions/can-php-pdo-statements-accept-the-table-or-column-name-as-parameter-1657387478588">Can PHP PDO Statements accept the table or column name as parameter?</a><a href="/questions/getcontactsfromfirebase()-method-return-an-empty-list-1657388433928">getContactsFromFirebase() method return an empty list</a><a href="/questions/what-is-the-difference-between-__str__-and-__repr__-1657387738760">What is the difference between __str__ and __repr__?</a><a href="/questions/how-do-i-pass-variables-and-data-from-php-to-javascript-1657384684553">How do I pass variables and data from PHP to JavaScript?</a><a href="/questions/how-do-i-use-arrays-in-c++-1657387456118">How do I use arrays in C++?</a><a href="/questions/how-to-determine-equality-for-two-javascript-objects-1657387638650">How to determine equality for two JavaScript objects?</a><a href="/questions/what-are-good-ways-to-prevent-sql-injection-duplicate-1657388431570">What are good ways to prevent SQL injection? [duplicate]</a><a href="/questions/what-is-the-difference-between-a-deep-copy-and-a-shallow-copy-1657388445063">What is the difference between a deep copy and a shallow copy?</a><a href="/questions/tkinter:-attributeerror:-nonetype-object-has-no-attribute-lessattribute-namegreater-1657385472410">Tkinter: AttributeError: NoneType object has no attribute &lt;attribute name&gt;</a><a href="/questions/how-to-make-good-reproducible-pandas-examples-1657384310402">How to make good reproducible pandas examples</a><a href="/questions/how-to-add-jtable-in-jpanel-with-null-layout-1657384590912">How to add JTable in JPanel with null layout?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;You need to use reflection to get the method to start with, then \u0026quot;construct\u0026quot; it by supplying type arguments with \u0026lt;a href=\u0026quot;http://msdn.microsoft.com/en-us/library/system.reflection.methodinfo.makegenericmethod.aspx\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;MakeGenericMethod\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;MethodInfo method = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(Sample).GetMethod(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;nameof\u0026lt;/span\u0026gt;(Sample.GenericMethod));\nMethodInfo generic = method.MakeGenericMethod(myType);\ngeneric.Invoke(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;For a static method, pass \u0026lt;code\u0026gt;null\u0026lt;/code\u0026gt; as the first argument to \u0026lt;code\u0026gt;Invoke\u0026lt;/code\u0026gt;. That\u0026apos;s nothing to do with generic methods - it\u0026apos;s just normal reflection.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;As noted, a lot of this is simpler as of C# 4 using \u0026lt;code\u0026gt;dynamic\u0026lt;/code\u0026gt; - if you can use type inference, of course. It doesn\u0026apos;t help in cases where type inference isn\u0026apos;t available, such as the exact example in the question.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Just an addition to the original answer. While this will work:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;MethodInfo method = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(Sample).GetMethod(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;GenericMethod\u0026quot;\u0026lt;/span\u0026gt;);\nMethodInfo generic = method.MakeGenericMethod(myType);\ngeneric.Invoke(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;It is also a little dangerous in that you lose compile-time check for \u0026lt;code\u0026gt;GenericMethod\u0026lt;/code\u0026gt;. If you later do a refactoring and rename \u0026lt;code\u0026gt;GenericMethod\u0026lt;/code\u0026gt;, this code won\u0026apos;t notice and will fail at run time. Also, if there is any post-processing of the assembly (for example obfuscating or removing unused methods/classes) this code might break too.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So, if you know the method you are linking to at compile time, and this isn\u0026apos;t called millions of times so overhead doesn\u0026apos;t matter, I would change this code to be:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;Action\u0026amp;lt;\u0026amp;gt; GenMethod = GenericMethod\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;\u0026amp;gt;;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//change int by any base type \u0026lt;/span\u0026gt;\n                                          \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//accepted by GenericMethod\u0026lt;/span\u0026gt;\nMethodInfo method = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.GetType().GetMethod(GenMethod.Method.Name);\nMethodInfo generic = method.MakeGenericMethod(myType);\ngeneric.Invoke(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;While not very pretty, you have a compile time reference to \u0026lt;code\u0026gt;GenericMethod\u0026lt;/code\u0026gt; here, and if you refactor, delete or do anything with \u0026lt;code\u0026gt;GenericMethod\u0026lt;/code\u0026gt;, this code will keep working, or at least break at compile time (if for example you remove \u0026lt;code\u0026gt;GenericMethod\u0026lt;/code\u0026gt;). \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Other way to do the same would be to create a new wrapper class, and create it through \u0026lt;code\u0026gt;Activator\u0026lt;/code\u0026gt;. I don\u0026apos;t know if there is a better way.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Calling a generic method with a type parameter known only at runtime can be greatly simplified by using a \u0026lt;a href=\u0026quot;http://msdn.microsoft.com/en-us/library/dd264741.aspx\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;dynamic\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; type instead of the reflection API.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;To use this technique the type must be known from the actual object (not just an instance of the \u0026lt;code\u0026gt;Type\u0026lt;/code\u0026gt; class). Otherwise, you have to create an object of that type or use the standard reflection API \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/232621/350384\u0026quot;\u0026gt;solution\u0026lt;/a\u0026gt;. You can create an object by using the \u0026lt;a href=\u0026quot;http://msdn.microsoft.com/en-us/library/wccyzw83%28v=vs.110%29.aspx\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Activator.CreateInstance\u0026lt;/a\u0026gt; method.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If you want to call a generic method, that in \u0026quot;normal\u0026quot; usage would have had its type inferred, then it simply comes to casting the object of unknown type to \u0026lt;code\u0026gt;dynamic\u0026lt;/code\u0026gt;. Here\u0026apos;s an example:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Alpha\u0026lt;/span\u0026gt; { }\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Beta\u0026lt;/span\u0026gt; { }\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Service\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Process\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;T\u0026lt;/span\u0026gt;\u0026amp;gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;T item\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\n    {\n        Console.WriteLine(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;item.GetType(): \u0026quot;\u0026lt;/span\u0026gt; + item.GetType()\n                          + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\\ttypeof(T): \u0026quot;\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(T));\n    }\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Program\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Main\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt;[] args\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\n    {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; a = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; Alpha();\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; b = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; Beta();\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; service = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; Service();\n        service.Process(a); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Same as \u0026quot;service.Process\u0026amp;lt;Alpha\u0026amp;gt;(a)\u0026quot;\u0026lt;/span\u0026gt;\n        service.Process(b); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Same as \u0026quot;service.Process\u0026amp;lt;Beta\u0026amp;gt;(b)\u0026quot;\u0026lt;/span\u0026gt;\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; objects = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;[] { a, b };\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;foreach\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; o \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; objects)\n        {\n            service.Process(o); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Same as \u0026quot;service.Process\u0026amp;lt;object\u0026amp;gt;(o)\u0026quot;\u0026lt;/span\u0026gt;\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;foreach\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; o \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; objects)\n        {\n            \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;dynamic\u0026lt;/span\u0026gt; dynObj = o;\n            service.Process(dynObj); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Or write \u0026quot;service.Process((dynamic)o)\u0026quot;\u0026lt;/span\u0026gt;\n        }\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;And here\u0026apos;s the output of this program:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;item.GetType(): \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;Alpha    \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;T\u0026lt;/span\u0026gt;): Alpha\nitem.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;GetType\u0026lt;/span\u0026gt;(): Beta     \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;T\u0026lt;/span\u0026gt;): Beta\nitem.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;GetType\u0026lt;/span\u0026gt;(): Alpha    \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;T\u0026lt;/span\u0026gt;): System.Object\nitem.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;GetType\u0026lt;/span\u0026gt;(): Beta     \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;T\u0026lt;/span\u0026gt;): System.Object\nitem.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;GetType\u0026lt;/span\u0026gt;(): Alpha    \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;T\u0026lt;/span\u0026gt;): Alpha\nitem.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;GetType\u0026lt;/span\u0026gt;(): Beta     \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;T\u0026lt;/span\u0026gt;): Beta\n\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;Process\u0026lt;/code\u0026gt; is a generic instance method that writes the real type of the passed argument (by using the \u0026lt;code\u0026gt;GetType()\u0026lt;/code\u0026gt; method) and the type of the generic parameter (by using \u0026lt;code\u0026gt;typeof\u0026lt;/code\u0026gt; operator).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;By casting the object argument to \u0026lt;code\u0026gt;dynamic\u0026lt;/code\u0026gt; type we deferred providing the type parameter until runtime. When the \u0026lt;code\u0026gt;Process\u0026lt;/code\u0026gt; method is called with the \u0026lt;code\u0026gt;dynamic\u0026lt;/code\u0026gt; argument then the compiler doesn\u0026apos;t care about the type of this argument. The compiler generates code that at runtime checks the real types of passed arguments (by using reflection) and choose the best method to call. Here there is only this one generic method, so it\u0026apos;s invoked with a proper type parameter.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;In this example, the output is the same as if you wrote:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;foreach\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; o \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; objects)\n{\n    MethodInfo method = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(Service).GetMethod(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Process\u0026quot;\u0026lt;/span\u0026gt;);\n    MethodInfo generic = method.MakeGenericMethod(o.GetType());\n    generic.Invoke(service, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;[] { o });\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The version with a dynamic type is definitely shorter and easier to write. You also shouldn\u0026apos;t worry about performance of calling this function multiple times. The next call with arguments of the same type should be faster thanks to the \u0026lt;a href=\u0026quot;https://web.archive.org/web/20140422080408/http://blogs.msdn.com/b/samng/archive/2008/10/29/dynamic-in-c.aspx\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;caching\u0026lt;/a\u0026gt; mechanism in DLR. Of course, you can write code that cache invoked delegates, but by using the \u0026lt;code\u0026gt;dynamic\u0026lt;/code\u0026gt; type you get this behaviour for free.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If the generic method you want to call don\u0026apos;t have an argument of a parametrized type (so its type parameter can\u0026apos;t be inferred) then you can wrap the invocation of the generic method in a helper method like in the following example:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Program\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Main\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt;[] args\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\n    {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt; obj = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; Alpha();\n\n        Helper((\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;dynamic\u0026lt;/span\u0026gt;)obj);\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Helper\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;T\u0026lt;/span\u0026gt;\u0026amp;gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;T obj\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\n    {\n        GenericMethod\u0026amp;lt;T\u0026amp;gt;();\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;GenericMethod\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;T\u0026lt;/span\u0026gt;\u0026amp;gt;()\u0026lt;/span\u0026gt;\n    {\n        Console.WriteLine(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;GenericMethod\u0026amp;lt;\u0026quot;\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(T) + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026amp;gt;\u0026quot;\u0026lt;/span\u0026gt;);\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h1\u0026gt;Increased type safety\u0026lt;/h1\u0026gt;\n\u0026lt;p\u0026gt;What is really great about using \u0026lt;code\u0026gt;dynamic\u0026lt;/code\u0026gt; object as a replacement for using reflection API is that you only lose compile time checking of this particular type that you don\u0026apos;t know until runtime. Other arguments and the name of the method are staticly analysed by the compiler as usual. If you remove or add more arguments, change their types or rename method name then you\u0026apos;ll get a compile-time error. This won\u0026apos;t happen if you provide the method name as a string in \u0026lt;code\u0026gt;Type.GetMethod\u0026lt;/code\u0026gt; and arguments as the objects array in \u0026lt;code\u0026gt;MethodInfo.Invoke\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Below is a simple example that illustrates how some errors can be caught at compile time (commented code) and other at runtime. It also shows how the DLR tries to resolve which method to call.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;interface\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;IItem\u0026lt;/span\u0026gt; { }\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;FooItem\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;IItem\u0026lt;/span\u0026gt; { }\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;BarItem\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;IItem\u0026lt;/span\u0026gt; { }\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Alpha\u0026lt;/span\u0026gt; { }\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Program\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Main\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt;[] args\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\n    {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; objects = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;[] { \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; FooItem(), \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; BarItem(), \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; Alpha() };\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; objects.Length; i++)\n        {\n            ProcessItem((\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;dynamic\u0026lt;/span\u0026gt;)objects[i], \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;test\u0026quot;\u0026lt;/span\u0026gt; + i, i);\n\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//ProcesItm((dynamic)objects[i], \u0026quot;test\u0026quot; + i, i);\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//compiler error: The name \u0026apos;ProcesItm\u0026apos; does not\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//exist in the current context\u0026lt;/span\u0026gt;\n\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//ProcessItem((dynamic)objects[i], \u0026quot;test\u0026quot; + i);\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//error: No overload for method \u0026apos;ProcessItem\u0026apos; takes 2 arguments\u0026lt;/span\u0026gt;\n        }\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;ProcessItem\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;T\u0026lt;/span\u0026gt;\u0026amp;gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;T item, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt; text, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; number\u0026lt;/span\u0026gt;)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;where\u0026lt;/span\u0026gt; T : IItem\u0026lt;/span\u0026gt;\n    {\n        Console.WriteLine(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Generic ProcessItem\u0026amp;lt;{0}\u0026amp;gt;, text {1}, number:{2}\u0026quot;\u0026lt;/span\u0026gt;,\n                          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(T), text, number);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;OK\u0026quot;\u0026lt;/span\u0026gt;;\n    }\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;ProcessItem\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;BarItem item, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt; text, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; number\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\n    {\n        Console.WriteLine(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;ProcessItem with Bar, \u0026quot;\u0026lt;/span\u0026gt; + text + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;, \u0026quot;\u0026lt;/span\u0026gt; + number);\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Here we again execute some method by casting the argument to the \u0026lt;code\u0026gt;dynamic\u0026lt;/code\u0026gt; type. Only verification of first argument\u0026apos;s type is postponed to runtime. You will get a compiler error if the name of the method you\u0026apos;re calling doesn\u0026apos;t exist or if other arguments are invalid (wrong number of arguments or wrong types).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;When you pass the \u0026lt;code\u0026gt;dynamic\u0026lt;/code\u0026gt; argument to a method then this call is \u0026lt;a href=\u0026quot;https://ericlippert.com/2012/02/06/what-is-late-binding/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;lately bound\u0026lt;/a\u0026gt;. Method overload resolution happens at runtime and tries to choose the best overload. So if you invoke the \u0026lt;code\u0026gt;ProcessItem\u0026lt;/code\u0026gt; method with an object of \u0026lt;code\u0026gt;BarItem\u0026lt;/code\u0026gt; type then you\u0026apos;ll actually call the non-generic method, because it is a better match for this type. However, you\u0026apos;ll get a runtime error when you pass an argument of the \u0026lt;code\u0026gt;Alpha\u0026lt;/code\u0026gt; type because there\u0026apos;s no method that can handle this object (a generic method has the constraint \u0026lt;code\u0026gt;where T : IItem\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;Alpha\u0026lt;/code\u0026gt; class doesn\u0026apos;t implement this interface). But that\u0026apos;s the whole point. The compiler doesn\u0026apos;t have information that this call is valid. You as a programmer know this, and you should make sure that this code runs without errors.\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;Return type gotcha\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;When you\u0026apos;re calling a non-void method with a parameter of dynamic type, its return type will probably \u0026lt;a href=\u0026quot;https://ericlippert.com/2012/10/22/a-method-group-of-one/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;be \u0026lt;code\u0026gt;dynamic\u0026lt;/code\u0026gt; too\u0026lt;/a\u0026gt;. So if you\u0026apos;d change previous example to this code:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; result = ProcessItem((\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;dynamic\u0026lt;/span\u0026gt;)testObjects[i], \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;test\u0026quot;\u0026lt;/span\u0026gt; + i, i);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;then the type of the result object would be \u0026lt;code\u0026gt;dynamic\u0026lt;/code\u0026gt;. This is because the compiler don\u0026apos;t always know which method will be called. If you know the return type of the function call then you should \u0026lt;a href=\u0026quot;http://msdn.microsoft.com/en-us/library/dd264736.aspx\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;implicitly convert\u0026lt;/a\u0026gt; it to the required type so the rest of the code is statically typed:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt; result = ProcessItem((\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;dynamic\u0026lt;/span\u0026gt;)testObjects[i], \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;test\u0026quot;\u0026lt;/span\u0026gt; + i, i);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;You\u0026apos;ll get a runtime error if the type doesn\u0026apos;t match.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Actually, if you try to get the result value in the previous example then you\u0026apos;ll get a runtime error in the second loop iteration. This is because you tried to save the return value of a void function.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Adding on to \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/232535/how-do-i-use-reflection-to-call-a-generic-method/5134251#5134251\u0026quot;\u0026gt;Adrian Gallero\u0026apos;s answer\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Calling a generic method from type info involves three steps.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;##TLDR: Calling a known generic method with a type object can be accomplished by:##\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;((Action)GenericMethod\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;\u0026amp;gt;)\n    .Method\n    .GetGenericMethodDefinition()\n    .MakeGenericMethod(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt;))\n    .Invoke(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;where \u0026lt;code\u0026gt;GenericMethod\u0026amp;lt;object\u0026amp;gt;\u0026lt;/code\u0026gt; is the method name to call and any type that satisfies the generic constraints.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;(Action) matches the signature of the method to be called i.e. (\u0026lt;code\u0026gt;Func\u0026amp;lt;string,string,int\u0026amp;gt;\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;Action\u0026amp;lt;bool\u0026amp;gt;\u0026lt;/code\u0026gt;)\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;##Step 1 is getting the MethodInfo for the generic method definition##\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;###Method 1: Use GetMethod() or GetMethods() with appropriate types or binding flags.###\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;MethodInfo method = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(Sample).GetMethod(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;GenericMethod\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;###Method 2: Create a delegate, get the MethodInfo object and then call GetGenericMethodDefinition\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;From inside the class that contains the methods:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;MethodInfo method = ((Action)GenericMethod\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;\u0026amp;gt;)\n    .Method\n    .GetGenericMethodDefinition();\n\nMethodInfo method = ((Action)StaticMethod\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;\u0026amp;gt;)\n    .Method\n    .GetGenericMethodDefinition();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;From outside of the class that contains the methods:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;MethodInfo method = ((Action)(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; Sample())\n    .GenericMethod\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;\u0026amp;gt;)\n    .Method\n    .GetGenericMethodDefinition();\n\nMethodInfo method = ((Action)Sample.StaticMethod\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;\u0026amp;gt;)\n    .Method\n    .GetGenericMethodDefinition();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;In C#, the name of a method, i.e. \u0026quot;ToString\u0026quot; or \u0026quot;GenericMethod\u0026quot; actually refers to a group of methods that may contain one or more methods.  Until you provide the types of the method parameters, it is not known which\nmethod you are referring to.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;((Action)GenericMethod\u0026amp;lt;object\u0026amp;gt;)\u0026lt;/code\u0026gt; refers to the delegate for a specific method.  \u0026lt;code\u0026gt;((Func\u0026amp;lt;string, int\u0026amp;gt;)GenericMethod\u0026amp;lt;object\u0026amp;gt;)\u0026lt;/code\u0026gt;\nrefers to a different overload of GenericMethod\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;###Method 3: Create a lambda expression containing a method call expression, get the MethodInfo object and then GetGenericMethodDefinition\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;MethodInfo method = ((MethodCallExpression)((Expression\u0026amp;lt;Action\u0026amp;lt;Sample\u0026amp;gt;\u0026amp;gt;)(\n    (Sample v) =\u0026amp;gt; v.GenericMethod\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;\u0026amp;gt;()\n    )).Body).Method.GetGenericMethodDefinition();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This breaks down to\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Create a lambda expression where the body is a call to your desired method.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;Expression\u0026amp;lt;Action\u0026amp;lt;Sample\u0026amp;gt;\u0026amp;gt; expr = (Sample v) =\u0026amp;gt; v.GenericMethod\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;\u0026amp;gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Extract the body and cast to MethodCallExpression\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;MethodCallExpression methodCallExpr = (MethodCallExpression)expr.Body;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Get the generic method definition from the method\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;MethodInfo methodA = methodCallExpr.Method.GetGenericMethodDefinition();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;##Step 2 is calling MakeGenericMethod to create a generic method with the appropriate type(s).##\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;MethodInfo generic = method.MakeGenericMethod(myType);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;##Step 3 is invoking the method with the appropriate arguments.##\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;generic.Invoke(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;With C# 4.0, reflection isn\u0026apos;t necessary as the DLR can call it using runtime types. Since using the DLR library is kind of a pain dynamically (instead of the C# compiler generating code for you), the open source framework \u0026lt;a href=\u0026quot;https://github.com/ekonbenefits/dynamitey\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Dynamitey\u0026lt;/a\u0026gt; (.net standard 1.5) gives you easy cached run-time access to the same calls the compiler would generate for you.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; name = InvokeMemberName.Create;\nDynamic.InvokeMemberAction(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, name(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;GenericMethod\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt;[]{myType}));\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; staticContext = InvokeContext.CreateStatic;\nDynamic.InvokeMemberAction(staticContext(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(Sample)), name(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;StaticMethod\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt;[]{myType}));\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Nobody provided the \u0026quot;\u0026lt;em\u0026gt;classic Reflection\u0026lt;/em\u0026gt;\u0026quot; solution, so here is a complete code example:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;using\u0026lt;/span\u0026gt; System;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;using\u0026lt;/span\u0026gt; System.Collections;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;using\u0026lt;/span\u0026gt; System.Collections.Generic;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;namespace\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;DictionaryRuntime\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;DynamicDictionaryFactory\u0026lt;/span\u0026gt;\n    {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;///\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;\u0026amp;lt;summary\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;///\u0026lt;/span\u0026gt; Factory to create dynamically a generic Dictionary.\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;///\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;\u0026amp;lt;/summary\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; IDictionary \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;CreateDynamicGenericInstance\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Type keyType, Type valueType\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\n        {\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Creating the Dictionary.\u0026lt;/span\u0026gt;\n            Type typeDict = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(Dictionary\u0026amp;lt;,\u0026amp;gt;);\n\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Creating KeyValue Type for Dictionary.\u0026lt;/span\u0026gt;\n            Type[] typeArgs = { keyType, valueType };\n\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Passing the Type and create Dictionary Type.\u0026lt;/span\u0026gt;\n            Type genericType = typeDict.MakeGenericType(typeArgs);\n\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Creating Instance for Dictionary\u0026amp;lt;K,T\u0026amp;gt;.\u0026lt;/span\u0026gt;\n            IDictionary d = Activator.CreateInstance(genericType) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; IDictionary;\n\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; d;\n\n        }\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The above \u0026lt;code\u0026gt;DynamicDictionaryFactory\u0026lt;/code\u0026gt; class has a method \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;CreateDynamicGenericInstance(Type keyType, Type valueType)\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;and it creates and returns an IDictionary instance, the types of whose keys and values are exactly the specified on the call \u0026lt;code\u0026gt;keyType\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;valueType\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Here is a complete example\u0026lt;/strong\u0026gt; how to call this method to instantiate and use a \u0026lt;code\u0026gt;Dictionary\u0026amp;lt;String, int\u0026amp;gt;\u0026lt;/code\u0026gt; :\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;using\u0026lt;/span\u0026gt; System;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;using\u0026lt;/span\u0026gt; System.Collections.Generic;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;namespace\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;DynamicDictionary\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Test\u0026lt;/span\u0026gt;\n    {\n        \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Main\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt;[] args\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\n        {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; factory = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; DictionaryRuntime.DynamicDictionaryFactory();\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; dict = factory.CreateDynamicGenericInstance(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(String), \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;));\n\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; typedDict = dict \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; Dictionary\u0026amp;lt;String, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;\u0026amp;gt;;\n\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (typedDict != \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;)\n            {\n                Console.WriteLine(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Dictionary\u0026amp;lt;String, int\u0026amp;gt;\u0026quot;\u0026lt;/span\u0026gt;);\n\n                typedDict.Add(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;One\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;);\n                typedDict.Add(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Two\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;);\n                typedDict.Add(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Three\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;);\n\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;foreach\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; kvp \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; typedDict)\n                {\n                    Console.WriteLine(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\\\u0026quot;\u0026quot;\u0026lt;/span\u0026gt; + kvp.Key + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\\\u0026quot;: \u0026quot;\u0026lt;/span\u0026gt; + kvp.Value);\n                }\n            }\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;\n                Console.WriteLine(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;null\u0026quot;\u0026lt;/span\u0026gt;);\n        }\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;When the above console application is executed, we get the correct, expected result:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;Dictionary\u0026amp;lt;String, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;One\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Two\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Three\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This is my 2 cents based on \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/232535/how-do-i-use-reflection-to-call-a-generic-method/27870198#27870198\u0026quot;\u0026gt;Grax\u0026apos;s answer\u0026lt;/a\u0026gt;, but with two parameters required for a generic method.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Assume your method is defined as follows in an Helpers class:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Helpers\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; U \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;ConvertCsvDataToCollection\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;U\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;T\u0026lt;/span\u0026gt;\u0026amp;gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt; csvData\u0026lt;/span\u0026gt;)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;where\u0026lt;/span\u0026gt; U : ObservableCollection\u0026amp;lt;T\u0026amp;gt;\u0026lt;/span\u0026gt;\n    {\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//transform code here\u0026lt;/span\u0026gt;\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;In my case, U type is always an observable collection storing object of type T.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;As I have my types predefined, I first create the \u0026quot;dummy\u0026quot; objects that represent the observable collection (U) and the object stored in it (T) and that will be used below to get their type when calling the Make\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt; myCollection = Activator.CreateInstance(collectionType);\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt; myoObject = Activator.CreateInstance(objectType);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Then call the GetMethod to find your Generic function:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;MethodInfo method = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(Helpers).\nGetMethod(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;ConvertCsvDataToCollection\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;So far, the above call is pretty much identical as to what was explained above but with a small difference when you need have to pass multiple parameters to it.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You need to pass an Type[] array to the MakeGenericMethod function that contains the \u0026quot;dummy\u0026quot; objects\u0026apos; types that were create above:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;MethodInfo generic = method.MakeGenericMethod(\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; Type[] {\n   myCollection.GetType(),\n   myObject.GetType()\n});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Once that\u0026apos;s done, you need to call the Invoke method as mentioned above.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;generic.Invoke(\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;[] { csvData });\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And you\u0026apos;re done. Works a charm!\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;UPDATE:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;As @Bevan highlighted, I do not need to create an array when calling the MakeGenericMethod function as it takes in params and I do not need to create an object in order to get the types as I can just pass the types directly to this function. In my case, since I have the types predefined in another class, I simply changed my code to:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt; myCollection = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;;\n\nMethodInfo method = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(Helpers).\nGetMethod(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;ConvertCsvDataToCollection\u0026quot;\u0026lt;/span\u0026gt;);\n\nMethodInfo generic = method.MakeGenericMethod(\n   myClassInfo.CollectionType,\n   myClassInfo.ObjectType\n);\n\nmyCollection = generic.Invoke(\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;[] { csvData });\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;myClassInfo contains 2 properties of type \u0026lt;code\u0026gt;Type\u0026lt;/code\u0026gt; which I set at run time based on an enum value passed to the constructor and will provide me with the relevant types which I then use in the MakeGenericMethod.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Thanks again for highlighting this @Bevan.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Inspired by \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/3958029/1016343\u0026quot;\u0026gt;Enigmativity\u0026apos;s answer\u0026lt;/a\u0026gt; - let\u0026apos;s assume you have two (or more) classes, like\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Bar\u0026lt;/span\u0026gt; { }\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Square\u0026lt;/span\u0026gt; { }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;and you want to call the method \u0026lt;code\u0026gt;Foo\u0026amp;lt;T\u0026amp;gt;\u0026lt;/code\u0026gt; with \u0026lt;code\u0026gt;Bar\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;Square\u0026lt;/code\u0026gt;, which is declared as\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;myClass\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Foo\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;T\u0026lt;/span\u0026gt;\u0026amp;gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;T item\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\n    {\n        Console.WriteLine(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(T).Name);\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Then you can implement an \u0026lt;strong\u0026gt;Extension method\u0026lt;/strong\u0026gt; like:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Extension\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;InvokeFoo\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;T\u0026lt;/span\u0026gt;\u0026amp;gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt; T t\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\n    {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; fooMethod = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(myClass).GetMethod(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Foo\u0026quot;\u0026lt;/span\u0026gt;);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; tType = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(T);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; fooTMethod = fooMethod.MakeGenericMethod(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt;[] { tType });\n        fooTMethod.Invoke(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; myClass(), \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;[] { t });\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;With this, you can simply invoke \u0026lt;code\u0026gt;Foo\u0026lt;/code\u0026gt; like:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; objSquare = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; Square();\nobjSquare.InvokeFoo();\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; objBar = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; Bar();\nobjBar.InvokeFoo();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;which works for every class. In this case, it will output:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Square \u0026lt;br\u0026gt;\n  Bar\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n    "],"id":213,"title":"How do I use reflection to call a generic method?","content":"\n                \n\u0026lt;p\u0026gt;What\u0026apos;s the best way to call a generic method when the type parameter isn\u0026apos;t known at compile time, but instead is obtained dynamically at runtime?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Consider the following sample code - inside the \u0026lt;code\u0026gt;Example()\u0026lt;/code\u0026gt; method, what\u0026apos;s the most concise way to invoke \u0026lt;code\u0026gt;GenericMethod\u0026amp;lt;T\u0026amp;gt;()\u0026lt;/code\u0026gt; using the \u0026lt;code\u0026gt;Type\u0026lt;/code\u0026gt; stored in the \u0026lt;code\u0026gt;myType\u0026lt;/code\u0026gt; variable?\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cs s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Sample\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Example\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt; typeName\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\n    {\n        Type myType = FindType(typeName);\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// What goes here to call GenericMethod\u0026amp;lt;T\u0026amp;gt;()?\u0026lt;/span\u0026gt;\n        GenericMethod\u0026amp;lt;myType\u0026amp;gt;(); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// This doesn\u0026apos;t work\u0026lt;/span\u0026gt;\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// What changes to call StaticMethod\u0026amp;lt;T\u0026amp;gt;()?\u0026lt;/span\u0026gt;\n        Sample.StaticMethod\u0026amp;lt;myType\u0026amp;gt;(); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// This also doesn\u0026apos;t work\u0026lt;/span\u0026gt;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;GenericMethod\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;T\u0026lt;/span\u0026gt;\u0026amp;gt;()\u0026lt;/span\u0026gt;\n    {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ...\u0026lt;/span\u0026gt;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;StaticMethod\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;T\u0026lt;/span\u0026gt;\u0026amp;gt;()\u0026lt;/span\u0026gt;\n    {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//...\u0026lt;/span\u0026gt;\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","slug":"how-do-i-use-reflection-to-call-a-generic-method-1657387256751","postType":"QUESTION","createdAt":"2022-07-09T17:20:56.000Z","updatedAt":"2022-07-09T17:20:56.000Z","tags":[{"id":1484,"name":"reflection","slug":"reflection","createdAt":"2022-07-09T17:20:56.000Z","updatedAt":"2022-07-09T17:20:56.000Z","Questions_Tags":{"questionId":213,"tagId":1484}}],"relatedQuestions":[{"title":"How do I use reflection to call a generic method?","slug":"how-do-i-use-reflection-to-call-a-generic-method-1657387256751","tags":[{"name":"reflection","Questions_Tags":{"questionId":213,"tagId":1484}}]}]},"randomQuestions":[{"title":"Test for existence of nested JavaScript object key","slug":"test-for-existence-of-nested-javascript-object-key-1657387935411"},{"title":"How to filter object array based on attributes?","slug":"how-to-filter-object-array-based-on-attributes-1657388211247"},{"title":"\"Thinking in AngularJS\" if I have a jQuery background? [closed]","slug":"\"thinking-in-angularjs\"-if-i-have-a-jquery-background-closed-1657384761159"},{"title":"commandButton/commandLink/ajax action/listener method not invoked or input value not set/updated","slug":"commandbuttoncommandlinkajax-actionlistener-method-not-invoked-or-input-value-not-setupdated-1657384667519"},{"title":"How to use java.net.URLConnection to fire and handle HTTP requests","slug":"how-to-use-java.net.urlconnection-to-fire-and-handle-http-requests-1657387245934"},{"title":"Why is 24.0000 not equal to 24.0000 in MATLAB?","slug":"why-is-24.0000-not-equal-to-24.0000-in-matlab-1657388376753"},{"title":"How can I return pivot table output in MySQL?","slug":"how-can-i-return-pivot-table-output-in-mysql-1657384715043"},{"title":"How do I declare a 2d array in C++ using new?","slug":"how-do-i-declare-a-2d-array-in-c++-using-new-1657388441163"},{"title":"How to count the number of set bits in a 32-bit integer?","slug":"how-to-count-the-number-of-set-bits-in-a-32-bit-integer-1657388437370"},{"title":"Can PHP PDO Statements accept the table or column name as parameter?","slug":"can-php-pdo-statements-accept-the-table-or-column-name-as-parameter-1657387478588"},{"title":"getContactsFromFirebase() method return an empty list","slug":"getcontactsfromfirebase()-method-return-an-empty-list-1657388433928"},{"title":"What is the difference between __str__ and __repr__?","slug":"what-is-the-difference-between-__str__-and-__repr__-1657387738760"},{"title":"How do I pass variables and data from PHP to JavaScript?","slug":"how-do-i-pass-variables-and-data-from-php-to-javascript-1657384684553"},{"title":"How do I use arrays in C++?","slug":"how-do-i-use-arrays-in-c++-1657387456118"},{"title":"How to determine equality for two JavaScript objects?","slug":"how-to-determine-equality-for-two-javascript-objects-1657387638650"},{"title":"What are good ways to prevent SQL injection? [duplicate]","slug":"what-are-good-ways-to-prevent-sql-injection-duplicate-1657388431570"},{"title":"What is the difference between a deep copy and a shallow copy?","slug":"what-is-the-difference-between-a-deep-copy-and-a-shallow-copy-1657388445063"},{"title":"Tkinter: AttributeError: NoneType object has no attribute \u003cattribute name\u003e","slug":"tkinter:-attributeerror:-nonetype-object-has-no-attribute-lessattribute-namegreater-1657385472410"},{"title":"How to make good reproducible pandas examples","slug":"how-to-make-good-reproducible-pandas-examples-1657384310402"},{"title":"How to add JTable in JPanel with null layout?","slug":"how-to-add-jtable-in-jpanel-with-null-layout-1657384590912"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-do-i-use-reflection-to-call-a-generic-method-1657387256751"},"buildId":"Zo3C7AOWQzKM9qqyzx2hf","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>