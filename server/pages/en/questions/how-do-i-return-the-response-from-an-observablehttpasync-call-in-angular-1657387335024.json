{"pageProps":{"data":{"answer":["\n&lt;p&gt;&lt;strong&gt;Reason:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;The reason that it&apos;s &lt;code&gt;undefined&lt;/code&gt; is that you are making an asynchronous operation. Meaning it&apos;ll take some time to complete the &lt;code&gt;getEventList&lt;/code&gt; method (depending mostly on your network speed).&lt;/p&gt;\n\n&lt;p&gt;So lets look at the http call.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;es&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getEventList&lt;/span&gt;()\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;After you actually make (&quot;fire&quot;) your http request with &lt;code&gt;subscribe&lt;/code&gt; you will be &lt;strong&gt;waiting&lt;/strong&gt; for the response. While waiting, javascript will execute the lines below this code and if it encounters synchronous assignments/operations it&apos;ll execute them immediately.&lt;/p&gt;\n\n&lt;p&gt;So after subscribing to the &lt;code&gt;getEventList()&lt;/code&gt; and waiting for the response,&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;console.log(this.myEvents);&lt;/code&gt; &lt;/p&gt;\n\n&lt;p&gt;line will be executed immediately. And the value of it is &lt;code&gt;undefined&lt;/code&gt; before the response arrives from the server (or to whatever that you have initialized it in the first place).&lt;/p&gt;\n\n&lt;p&gt;It is similar to doing:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;ngOnInit&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-built_in&quot;&gt;setTimeout&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;()=&amp;gt;&lt;/span&gt;{\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;myEvents&lt;/span&gt; = response;\n    }, &lt;span class=&quot;hljs-number&quot;&gt;5000&lt;/span&gt;);\n\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;myEvents&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;//This prints undefined!&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;hr&gt;\n&lt;strong&gt;Solution:&lt;/strong&gt;&lt;p&gt;&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;So how do we overcome this problem? We will use the callback function which is the &lt;code&gt;subscribe&lt;/code&gt; method. Because when the data arrives from the server it&apos;ll be inside the &lt;code&gt;subscribe&lt;/code&gt; with the response.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;So changing the code to:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;es&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getEventList&lt;/span&gt;()\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;subscribe&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;response&lt;/span&gt;)=&amp;gt;&lt;/span&gt;{\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;myEvents&lt;/span&gt; = response;\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;myEvents&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;//&amp;lt;-- not undefined anymore&lt;/span&gt;\n    });\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;will print the response.. after some time.\n&lt;/p&gt;&lt;hr&gt;\n&lt;strong&gt;What you should do:&lt;/strong&gt;&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;There might be lots of things to do with your response other than just logging it; you should do all these operations inside the callback (inside the &lt;code&gt;subscribe&lt;/code&gt; function), when the data arrives.&lt;/p&gt;\n\n&lt;p&gt;Another thing to mention is that if you come from a &lt;code&gt;Promise&lt;/code&gt; background, the &lt;code&gt;then&lt;/code&gt; callback corresponds to &lt;code&gt;subscribe&lt;/code&gt; with observables.\n&lt;/p&gt;&lt;hr&gt;\n&lt;strong&gt;What you shouldn&apos;t do:&lt;/strong&gt;&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;You shouldn&apos;t try to change an async operation to a sync operation (not that you can). One of the reasons that we have async operations is to not make the user wait for an operation to complete while they can do other things in that time period. Suppose that one of your async operations takes 3 minutes to complete, if we didn&apos;t have the async operations the interface would froze for 3 minutes.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;&lt;strong&gt;Suggested Reading:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;The original credit to this answer goes to: &lt;a href=&quot;https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call&quot;&gt;How do I return the response from an asynchronous call?&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;But with the angular2 release we were introduced to typescript and observables so this answer hopefully covers the basics of handling an asynchronous request with observables.&lt;/p&gt;\n    ","\n&lt;p&gt;Making a http call in angular/javascript is asynchronous operation.\nSo when you make http call it will assign new thread to finish this call and start execution next line with another thread.\nThat is why  you are getting undefined value.\nso make below change to resolve this&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;es&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getEventList&lt;/span&gt;()  \n      .&lt;span class=&quot;hljs-title function_&quot;&gt;subscribe&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;response&lt;/span&gt;)=&amp;gt;&lt;/span&gt;{  \n       &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;myEvents&lt;/span&gt; = response;  \n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;myEvents&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;//&amp;lt;-this become synchronous now  &lt;/span&gt;\n    });\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can use &lt;a href=&quot;https://angular.io/api/common/AsyncPipe&quot; rel=&quot;nofollow noreferrer&quot;&gt;asyncPipe&lt;/a&gt; if you use myEvents only in template.&lt;/p&gt;\n&lt;p&gt;Here example with asyncPipe and Angular4 HttpClient &lt;a href=&quot;https://stackblitz.com/edit/angular-rhioqt?file=app%2Fevent.service.ts&quot; rel=&quot;nofollow noreferrer&quot;&gt;example&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Observables are lazy so you have to subscribe to get the value. You subscribed it properly in your code but simultaneously logged the output outside the &apos;subscribe&apos; block. That&apos;s why it is &apos;undefined&apos;.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;ngOnInit&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;es&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getEventList&lt;/span&gt;()\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;subscribe&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;response&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;myEvents&lt;/span&gt; = response;\n    });\n\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;myEvents&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;//Outside the subscribe block &apos;Undefined&apos;&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So if you log it inside the subscribe block then it will log response properly.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;ngOnInit&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;es&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getEventList&lt;/span&gt;()\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;subscribe&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;response&lt;/span&gt;)=&amp;gt;&lt;/span&gt;{\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;myEvents&lt;/span&gt; = response;\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;myEvents&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;//Inside the subscribe block &apos;http response&apos;&lt;/span&gt;\n    });\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Here the problem is, you are initializing &lt;code&gt;this.myEvents&lt;/code&gt; into &lt;code&gt;subscribe()&lt;/code&gt; which is an asynchronous block while you are doing &lt;code&gt;console.log()&lt;/code&gt; just out of &lt;code&gt;subscribe()&lt;/code&gt; block.\nSo &lt;code&gt;console.log()&lt;/code&gt; getting called before &lt;code&gt;this.myEvents&lt;/code&gt; gets initialized.&lt;/p&gt;\n\n&lt;p&gt;Please move your console.log() code as well inside subscribe() and you are done.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;ngOnInit&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;es&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getEventList&lt;/span&gt;()\n        .&lt;span class=&quot;hljs-title function_&quot;&gt;subscribe&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;response&lt;/span&gt;)=&amp;gt;&lt;/span&gt;{\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;myEvents&lt;/span&gt; = response;\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;myEvents&lt;/span&gt;);\n        });\n  }\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;The result is undefined because angular process async .\nyou can trying as below:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;ngOnInit&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; res = &lt;span class=&quot;hljs-keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;es&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getEventList&lt;/span&gt;();\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;JSON&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;stringify&lt;/span&gt;(res));\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Also make sure that you map your response to a json output. Otherwise it will return plain text. You do it this like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;getEventList&lt;/span&gt;(): &lt;span class=&quot;hljs-title class_&quot;&gt;Observable&lt;/span&gt;&amp;lt;any&amp;gt; {\n&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; headers = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Headers&lt;/span&gt;({ &lt;span class=&quot;hljs-string&quot;&gt;&apos;Content-Type&apos;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;application/json&apos;&lt;/span&gt; });\n&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; options = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RequestOptions&lt;/span&gt;({ &lt;span class=&quot;hljs-attr&quot;&gt;headers&lt;/span&gt;: headers });\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;http&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://localhost:9999/events/get&quot;&lt;/span&gt;, options)\n            .&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;res&lt;/span&gt;)=&amp;gt;&lt;/span&gt;{ &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; res.&lt;span class=&quot;hljs-title function_&quot;&gt;json&lt;/span&gt;();}) &amp;lt;!-- add call to json here\n            .&lt;span class=&quot;hljs-title function_&quot;&gt;catch&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;err&lt;/span&gt;)=&amp;gt;&lt;/span&gt;{&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; err;})\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Undefined because the value here is logged before any data from the service is set from that above subscribe service call.  So you have to wait until the ajax call finishes and set the data from the response data. &lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;getEventList&lt;/span&gt;(): &lt;span class=&quot;hljs-title class_&quot;&gt;Observable&lt;/span&gt;&amp;lt;any&amp;gt;{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; headers = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Headers&lt;/span&gt;({ &lt;span class=&quot;hljs-string&quot;&gt;&apos;Content-Type&apos;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;application/json&apos;&lt;/span&gt; });\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; options = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RequestOptions&lt;/span&gt;({ &lt;span class=&quot;hljs-attr&quot;&gt;headers&lt;/span&gt;: headers });\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;http&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://localhost:9999/events/get&quot;&lt;/span&gt;, options)\n                .&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;res&lt;/span&gt;)=&amp;gt;&lt;/span&gt; res.&lt;span class=&quot;hljs-title function_&quot;&gt;json&lt;/span&gt;())\n                .&lt;span class=&quot;hljs-title function_&quot;&gt;catch&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;err&lt;/span&gt;)=&amp;gt;&lt;/span&gt; err)\n  }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here make the Console log inside the  subscribe method that will make the log when the data is set in myEvents variable.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;ngOnInit&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;es&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getEventList&lt;/span&gt;()\n        .&lt;span class=&quot;hljs-title function_&quot;&gt;subscribe&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;response&lt;/span&gt;)=&amp;gt;&lt;/span&gt;{\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;myEvents&lt;/span&gt; = response;\n     &lt;span class=&quot;hljs-comment&quot;&gt;// This prints the value from the response&lt;/span&gt;\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;myEvents&lt;/span&gt;)\n        }); \n  }\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;To do this you have 2 options:&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;Suppose we have a service which is returning shipping details array :&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;  &lt;span class=&quot;hljs-title function_&quot;&gt;getShippingPrices&lt;/span&gt;(): &lt;span class=&quot;hljs-title class_&quot;&gt;Observable&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title class_&quot;&gt;IShippingDetails&lt;/span&gt;[]&amp;gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;http&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;get&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title class_&quot;&gt;IShippingDetails&lt;/span&gt;[]&amp;gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;/assets/shipping.json&apos;&lt;/span&gt;);\n  }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;1. Use Async pipe&lt;/strong&gt; : Easy way when you just want to show the result in template&lt;/p&gt;\n&lt;p&gt;In the component class directly assign the observable to variable:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ShippingComponent&lt;/span&gt; implements &lt;span class=&quot;hljs-title class_&quot;&gt;OnInit&lt;/span&gt; {\n  shipOptions1 = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cartService&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getShippingPrices&lt;/span&gt;();\n  &lt;span class=&quot;hljs-title function_&quot;&gt;constructor&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;private cartService: CartService&lt;/span&gt;) {}\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;ngOnInit&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {}\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;and then use async pipe in template :&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;div *ngFor=&lt;span class=&quot;hljs-string&quot;&gt;&quot;let s of shipOptions1 |async&quot;&lt;/span&gt;&amp;gt;\n  &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;label&lt;/span&gt;&amp;gt;&lt;/span&gt;{{s.type}}&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;label&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&amp;lt;/div&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Refer: Check the 4th point in this URL\n&lt;a href=&quot;https://angular.io/start/start-data#configuring-the-shippingcomponent-to-use-cartservice&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://angular.io/start/start-data#configuring-the-shippingcomponent-to-use-cartservice&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;2. Use Subscribe&lt;/strong&gt; : When you want to manipulate it or want do some business logic on/from response&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ShippingComponent&lt;/span&gt; implements &lt;span class=&quot;hljs-title class_&quot;&gt;OnInit&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attr&quot;&gt;shipOptions2&lt;/span&gt;: &lt;span class=&quot;hljs-title class_&quot;&gt;IShippingDetails&lt;/span&gt;[] = [];\n  &lt;span class=&quot;hljs-title function_&quot;&gt;constructor&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;private cartService: CartService&lt;/span&gt;) {}\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;ngOnInit&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cartService&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getShippingPrices&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;subscribe&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;response&lt;/span&gt; =&amp;gt;&lt;/span&gt; {\n      &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;shipOptions2&lt;/span&gt; = response;\n      &lt;span class=&quot;hljs-comment&quot;&gt;//console.log(this.myEvents);&lt;/span&gt;\n      &lt;span class=&quot;hljs-comment&quot;&gt;//All other code using shipOptions2&lt;/span&gt;\n    });\n  }\n}\n\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can simply try this method-&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; headers = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Headers&lt;/span&gt;({&lt;span class=&quot;hljs-string&quot;&gt;&apos;Accept&apos;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;application/json&apos;&lt;/span&gt;});\n&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; options = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RequestOptions&lt;/span&gt;({&lt;span class=&quot;hljs-attr&quot;&gt;headers&lt;/span&gt;: headers});\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;http&lt;/span&gt;\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;yourSearchUrlHere&lt;/span&gt;, options) &lt;span class=&quot;hljs-comment&quot;&gt;// the URL which you have defined&lt;/span&gt;\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;res&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n        res.&lt;span class=&quot;hljs-title function_&quot;&gt;json&lt;/span&gt;(); &lt;span class=&quot;hljs-comment&quot;&gt;// using return res.json() will throw error&lt;/span&gt;\n    }\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;catch&lt;/span&gt;(err) =&amp;gt; {\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;error&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;error&apos;&lt;/span&gt;);\n    }\n&lt;/code&gt;&lt;/pre&gt;\n    "],"id":226,"title":"How do I return the response from an Observable/http/async call in angular?","content":"\n                \n&lt;p&gt;I have service which returns an observable which does an http request to my server and gets the data. I want to use this data but I always end up getting &lt;code&gt;undefined&lt;/code&gt;. What&apos;s the problem?&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Service&lt;/strong&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;@&lt;span class=&quot;hljs-title class_&quot;&gt;Injectable&lt;/span&gt;()\n&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;EventService&lt;/span&gt; {\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;constructor&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;private http: Http&lt;/span&gt;) { }\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;getEventList&lt;/span&gt;(): &lt;span class=&quot;hljs-title class_&quot;&gt;Observable&lt;/span&gt;&amp;lt;any&amp;gt;{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; headers = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Headers&lt;/span&gt;({ &lt;span class=&quot;hljs-string&quot;&gt;&apos;Content-Type&apos;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;application/json&apos;&lt;/span&gt; });\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; options = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RequestOptions&lt;/span&gt;({ &lt;span class=&quot;hljs-attr&quot;&gt;headers&lt;/span&gt;: headers });\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;http&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://localhost:9999/events/get&quot;&lt;/span&gt;, options)\n                .&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;res&lt;/span&gt;)=&amp;gt;&lt;/span&gt; res.&lt;span class=&quot;hljs-title function_&quot;&gt;json&lt;/span&gt;())\n                .&lt;span class=&quot;hljs-title function_&quot;&gt;catch&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;err&lt;/span&gt;)=&amp;gt;&lt;/span&gt; err)\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Component:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;@&lt;span class=&quot;hljs-title class_&quot;&gt;Component&lt;/span&gt;({...})\n&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;EventComponent&lt;/span&gt; {\n\n  &lt;span class=&quot;hljs-attr&quot;&gt;myEvents&lt;/span&gt;: any;\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;constructor&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt; private es: EventService &lt;/span&gt;) { }\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;ngOnInit&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;es&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getEventList&lt;/span&gt;()\n        .&lt;span class=&quot;hljs-title function_&quot;&gt;subscribe&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;response&lt;/span&gt;)=&amp;gt;&lt;/span&gt;{\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;myEvents&lt;/span&gt; = response;\n        });\n\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;myEvents&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;//This prints undefined!&lt;/span&gt;\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I checked &lt;a href=&quot;https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call&quot;&gt;How do I return the response from an asynchronous call?&lt;/a&gt; post but couldn&apos;t find a solution&lt;/p&gt;\n    ","slug":"how-do-i-return-the-response-from-an-observablehttpasync-call-in-angular-1657387335024","postType":"QUESTION","createdAt":"2022-07-09T17:22:15.000Z","updatedAt":"2022-07-09T17:22:15.000Z","tags":[{"id":1531,"name":"angular","slug":"angular","createdAt":"2022-07-09T17:22:15.000Z","updatedAt":"2022-07-09T17:22:15.000Z","Questions_Tags":{"questionId":226,"tagId":1531}},{"id":1533,"name":"typescript","slug":"typescript","createdAt":"2022-07-09T17:22:15.000Z","updatedAt":"2022-07-09T17:22:15.000Z","Questions_Tags":{"questionId":226,"tagId":1533}},{"id":1534,"name":"observable","slug":"observable","createdAt":"2022-07-09T17:22:15.000Z","updatedAt":"2022-07-09T17:22:15.000Z","Questions_Tags":{"questionId":226,"tagId":1534}}],"relatedQuestions":[{"title":"How do I return the response from an Observable/http/async call in angular?","slug":"how-do-i-return-the-response-from-an-observablehttpasync-call-in-angular-1657387335024","tags":[{"name":"angular","Questions_Tags":{"questionId":226,"tagId":1531}},{"name":"typescript","Questions_Tags":{"questionId":226,"tagId":1533}},{"name":"observable","Questions_Tags":{"questionId":226,"tagId":1534}}]}]},"randomQuestions":[{"title":"How to get the difference between two arrays in JavaScript?","slug":"how-to-get-the-difference-between-two-arrays-in-javascript-1657388463384"},{"title":"How to determine equality for two JavaScript objects?","slug":"how-to-determine-equality-for-two-javascript-objects-1657387638650"},{"title":"Efficiently convert rows to columns in sql server","slug":"efficiently-convert-rows-to-columns-in-sql-server-1657387919213"},{"title":"Where and why do I have to put the \"template\" and \"typename\" keywords?","slug":"where-and-why-do-i-have-to-put-the-\"template\"-and-\"typename\"-keywords-1657384467606"},{"title":"How do I write a correct micro-benchmark in Java?","slug":"how-do-i-write-a-correct-micro-benchmark-in-java-1657384488725"},{"title":"\"Cross origin requests are only supported for HTTP.\" error when loading a local file","slug":"\"cross-origin-requests-are-only-supported-for-http.\"-error-when-loading-a-local-file-1657387942403"},{"title":"How do you get the footer to stay at the bottom of a Web page?","slug":"how-do-you-get-the-footer-to-stay-at-the-bottom-of-a-web-page-1657387817544"},{"title":"Select first row in each GROUP BY group?","slug":"select-first-row-in-each-group-by-group-1657384809388"},{"title":"How can I access and process nested objects, arrays, or JSON?","slug":"how-can-i-access-and-process-nested-objects-arrays-or-json-1657384332823"},{"title":"Is an array name a pointer?","slug":"is-an-array-name-a-pointer-1657387874827"},{"title":"How to include a PHP variable inside a MySQL statement","slug":"how-to-include-a-php-variable-inside-a-mysql-statement-1657387669365"},{"title":"Test for existence of nested JavaScript object key","slug":"test-for-existence-of-nested-javascript-object-key-1657387935411"},{"title":"How to deal with floating point number precision in JavaScript?","slug":"how-to-deal-with-floating-point-number-precision-in-javascript-1657387293762"},{"title":"How to fix \"Headers already sent\" error in PHP","slug":"how-to-fix-\"headers-already-sent\"-error-in-php-1657384315553"},{"title":"What is object slicing?","slug":"what-is-object-slicing-1657384506425"},{"title":"How do I expire a PHP session after 30 minutes?","slug":"how-do-i-expire-a-php-session-after-30-minutes-1657387990658"},{"title":"How to use PHP's password_hash to hash and verify passwords","slug":"how-to-use-php's-password_hash-to-hash-and-verify-passwords-1657387808784"},{"title":"I just assigned a variable, but echo $variable shows something else","slug":"i-just-assigned-a-variable-but-echo-dollarvariable-shows-something-else-1657387574561"},{"title":"How does the \"this\" keyword work, and when should it be used?","slug":"how-does-the-\"this\"-keyword-work-and-when-should-it-be-used-1657384384385"},{"title":"What is the canonical way to check for errors using the CUDA runtime API?","slug":"what-is-the-canonical-way-to-check-for-errors-using-the-cuda-runtime-api-1657387302698"}]},"__N_SSG":true}