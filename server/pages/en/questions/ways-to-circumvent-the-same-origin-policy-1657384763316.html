<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>Ways to circumvent the same-origin policy | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="
            
        
            
                    
                        
                    
                
                    
                        Locked. This question and its answers are locked because the question is off-topic but has historical significance. It is not currently accepting new answers or interactions.
                        
                    
                
            
        


    

The same origin policy

I wanted to make a community wiki regarding HTML/JS same-origin policies to hopefully help anyone searching for this topic. This is one of the most searched-for topics on SO and there is no consolidated wiki for it so here I go :)


  The same origin policy prevents a
  document or script loaded from one
  origin from getting or setting
  properties of a document from another
  origin. This policy dates all the way
  back to Netscape Navigator 2.0.


What are some of your favorite ways to go around same-origin policies?

Please keep examples verbose and preferably also link your sources.
    "/><meta property="og:title" content="Ways to circumvent the same-origin policy | Solutions Checker"/><meta property="og:description" content="
            
        
            
                    
                        
                    
                
                    
                        Locked. This question and its answers are locked because the question is off-topic but has historical significance. It is not currently accepting new answers or interactions.
                        
                    
                
            
        


    

The same origin policy

I wanted to make a community wiki regarding HTML/JS same-origin policies to hopefully help anyone searching for this topic. This is one of the most searched-for topics on SO and there is no consolidated wiki for it so here I go :)


  The same origin policy prevents a
  document or script loaded from one
  origin from getting or setting
  properties of a document from another
  origin. This policy dates all the way
  back to Netscape Navigator 2.0.


What are some of your favorite ways to go around same-origin policies?

Please keep examples verbose and preferably also link your sources.
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"Ways to circumvent the same-origin policy","text":"\n            \n        \n            \n                    \n                        \n                    \n                \n                    \n                        Locked. This question and its answers are locked because the question is off-topic but has historical significance. It is not currently accepting new answers or interactions.\n                        \n                    \n                \n            \n        \n\n\n    \n\nThe same origin policy\n\nI wanted to make a community wiki regarding HTML/JS same-origin policies to hopefully help anyone searching for this topic. This is one of the most searched-for topics on SO and there is no consolidated wiki for it so here I go :)\n\n\n  The same origin policy prevents a\n  document or script loaded from one\n  origin from getting or setting\n  properties of a document from another\n  origin. This policy dates all the way\n  back to Netscape Navigator 2.0.\n\n\nWhat are some of your favorite ways to go around same-origin policies?\n\nPlease keep examples verbose and preferably also link your sources.\n    ","answerCount":8,"upVoteCount":500,"suggestedAnswer":[{"text":"The document.domain method\n\n\nMethod type: iframe.\n\n\nNote that this is an iframe method that sets the value of document.domain to a suffix of the current domain. If it does so, the shorter domain is used for subsequent origin checks. For example, assume a script in the document at http://store.company.com/dir/other.html executes the following statement:\n\ndocument.domain = &quot;company.com&quot;;\n\n\nAfter that statement executes, the page would pass the origin check with http://company.com/dir/page.html. However, by the same reasoning, company.com could not set document.domain  to othercompany.com.\n\nWith this method, you would be allowed to exectue javascript from an iframe sourced on a subdomain on a page sourced on the main domain. This method is not suited for cross-domain resources as browsers like Firefox will not allow you to change the document.domain to a completely alien domain.\n\nSource: https://developer.mozilla.org/en/Same_origin_policy_for_JavaScript\n\nThe Cross-Origin Resource Sharing method\n\n\nMethod type: AJAX.\n\n\nCross-Origin Resource Sharing (CORS) is a W3C Working Draft that defines how the browser and server must communicate when accessing sources across origins. The basic idea behind CORS is to use custom HTTP headers to allow both the browser and the server to know enough about each other to determine if the request or response should succeed or fail.\n\nFor a simple request, one that uses either GET or POST with no custom headers and whose body is text/plain, the request is sent with an extra header called Origin. The Origin  header contains the origin (protocol, domain name, and port) of the requesting page so that the server can easily determine whether or not it should serve a response. An example Origin header might look like this:\n\nOrigin: http://www.stackoverflow.com\n\n\nIf the server decides that the request should be allowed, it sends a Access-Control-Allow-Origin header echoing back the same origin that was sent or * if its a public resource. For example:\n\nAccess-Control-Allow-Origin: http://www.stackoverflow.com\n\n\nIf this header is missing, or the origins dont match, then the browser disallows the request. If all is well, then the browser processes the request. Note that neither the requests nor responses include cookie information.\n\nThe Mozilla team suggests in their post about CORS that you should check for the existence of the withCredentials  property to determine if the browser supports CORS via XHR. You can then couple with the existence of the XDomainRequest object to cover all browsers:\n\nfunction createCORSRequest(method, url){\n    var xhr = new XMLHttpRequest();\n    if (&quot;withCredentials&quot; in xhr){\n        xhr.open(method, url, true);\n    } else if (typeof XDomainRequest != &quot;undefined&quot;){\n        xhr = new XDomainRequest();\n        xhr.open(method, url);\n    } else {\n        xhr = null;\n    }\n    return xhr;\n}\n\nvar request = createCORSRequest(&quot;get&quot;, &quot;http://www.stackoverflow.com/&quot;);\nif (request){\n    request.onload = function() {\n        // ...\n    };\n    request.onreadystatechange = handler;\n    request.send();\n}\n\n\nNote that for the CORS method to work, you need to have access to any type of server header mechanic and can&apos;t simply access any third-party resource.\n\nSource: http://www.nczonline.net/blog/2010/05/25/cross-domain-ajax-with-cross-origin-resource-sharing/\n\nThe window.postMessage method\n\n\nMethod type: iframe.\n\n\nwindow.postMessage, when called, causes a MessageEvent to be dispatched at the target window when any pending script that must be executed completes (e.g. remaining event handlers if window.postMessage is called from an event handler, previously-set pending timeouts, etc.). The MessageEvent has the type message, a data property which is set to the string value of the first argument provided to window.postMessage, an origin property corresponding to the origin of the main document in the window calling window.postMessage at the time window.postMessage was called, and a source property which is the window from which window.postMessage is called.\n\nTo use window.postMessage, an event listener must be attached:\n\n    // Internet Explorer\n    window.attachEvent(&apos;onmessage&apos;,receiveMessage);\n\n    // Opera/Mozilla/Webkit\n    window.addEventListener(&quot;message&quot;, receiveMessage, false);\n\n\nAnd a receiveMessage function must be declared:\n\nfunction receiveMessage(event)\n{\n    // do something with event.data;\n}\n\n\nThe off-site iframe must also send events properly via postMessage:\n\n&lt;script&gt;window.parent.postMessage(&apos;foo&apos;,&apos;*&apos;)&lt;/script&gt;\n\n\nAny window may access this method on any other window, at any time, regardless of the location of the document in the window, to send it a message. Consequently, any event listener used to receive messages must  first check the identity of the sender of the message, using the origin  and possibly source properties. This cannot be understated: Failure to check the origin and possibly source properties enables cross-site scripting attacks.\n\nSource: https://developer.mozilla.org/en/DOM/window.postMessage\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"The Reverse Proxy method\n\n\nMethod type: Ajax\n\n\nSetting up a simple reverse proxy on the server, will allow the browser to use relative paths for the Ajax requests, while the server would be acting as a proxy to any remote location. \n\nIf using mod_proxy in Apache, the fundamental configuration directive to set up a reverse proxy is the ProxyPass. It is typically used as follows:\n\nProxyPass     /ajax/     http://other-domain.com/ajax/\n\n\nIn this case, the browser would be able to request /ajax/web_service.xml as a relative URL, but the server would serve this by acting as a proxy to http://other-domain.com/ajax/web_service.xml. \n\nOne interesting feature of the this method is that the reverse proxy can easily distribute requests towards multiple back-ends, thus acting as a load balancer. \n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"I use JSONP.\n\nBasically, you add\n\n&lt;script src=&quot;http://..../someData.js?callback=some_func&quot;/&gt;\n\n\non your page.\n\nsome_func() should get called so that you are notified that the data is in.\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"AnyOrigin didn&apos;t function well with some https sites, so I just wrote an open source alternative called whateverorigin.org that seems to work well with https.\n\nCode on github.\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"The most recent way of overcoming the same-origin policy that I&apos;ve found is http://anyorigin.com/\n\nThe site&apos;s made so that you just give it any url and it generates javascript/jquery code for you that lets you get the html/data, regardless of it&apos;s origin.  In other words, it makes any url or webpage a JSONP request.\n\nI&apos;ve found it pretty useful :)\n\nHere&apos;s some example javascript code from anyorigin:\n\n$.getJSON(&apos;http://anyorigin.com/get?url=google.com&amp;callback=?&apos;, function(data){\n    $(&apos;#output&apos;).html(data.contents);\n});\n\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"The JSONP comes to mind:\n\n\n  JSONP or &quot;JSON with padding&quot; is a\n  complement to the base JSON data\n  format, a usage pattern that allows a\n  page to request and more meaningfully\n  use JSON from a server other than the\n  primary server. JSONP is an\n  alternative to a more recent method\n  called Cross-Origin Resource Sharing.\n\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"Personally, window.postMessage is the most reliable way that I&apos;ve found for modern browsers. You do have to do a slight bit more work to make sure you&apos;re not leaving yourself open to XSS attacks, but it&apos;s a reasonable tradeoff.\n\nThere are also several plugins for the popular Javascript toolkits out there that wrap window.postMessage that provide similar functionality to older browsers using the other methods discussed above.\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"Well, I used curl in PHP to circumvent this. I have a webservice running in port 82.\n\n&lt;?php\n\n$curl = curl_init();\n$timeout = 30;\n$ret = &quot;&quot;;\n$url=&quot;http://localhost:82/put_val?val=&quot;.$_GET[&quot;val&quot;];\ncurl_setopt ($curl, CURLOPT_URL, $url);\ncurl_setopt ($curl, CURLOPT_FOLLOWLOCATION, 1);\ncurl_setopt ($curl, CURLOPT_MAXREDIRS, 20);\ncurl_setopt ($curl, CURLOPT_RETURNTRANSFER, 1);\ncurl_setopt ($curl, CURLOPT_USERAGENT, &quot;Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.0.5) Gecko/2008120122 Firefox/3.0.5&quot;);\ncurl_setopt ($curl, CURLOPT_CONNECTTIMEOUT, $timeout);\n$text = curl_exec($curl);\necho $text;\n\n?&gt;\n\n\nHere is the javascript that makes the call to the PHP file\n\nfunction getdata(obj1, obj2) {\n\n    var xmlhttp;\n\n    if (window.XMLHttpRequest)\n            xmlhttp=new XMLHttpRequest();\n    else\n            xmlhttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);\n\n    xmlhttp.onreadystatechange=function()\n    {\n        if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n        {\n                document.getElementById(&quot;txtHint&quot;).innerHTML=xmlhttp.responseText;\n        }\n    }\n    xmlhttp.open(&quot;GET&quot;,&quot;phpURLFile.php?eqp=&quot;+obj1+&quot;&amp;val=&quot;+obj2,true);\n    xmlhttp.send();\n}\n\n\nMy HTML runs on WAMP in port 80. So there we go, same origin policy has been circumvented :-)\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08d1a634dea6705e.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/150-b06815e21c943e0d.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/108-87de33c23337ff53.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-79a1437acf654019.js" defer=""></script><script src="/_next/static/6ctJfCympFH_chh5mjicD/_buildManifest.js" defer=""></script><script src="/_next/static/6ctJfCympFH_chh5mjicD/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/ways-to-circumvent-the-same-origin-policy-1657384763316#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/ways-to-circumvent-the-same-origin-policy-1657384763316"><h1>Ways to circumvent the same-origin policy</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"></div></div><div class="question-content mt-5">
                    <div>
            <aside class="s-notice s-notice__info post-notice js-post-notice mb16" role="status">
        <div class="d-flex fd-column fw-nowrap">
            <div class="d-flex fw-nowrap">
                    <div class="flex--item mr8">
                        <svg aria-hidden="true" class="svg-icon iconLock" width="18" height="18" viewBox="0 0 18 18"><path d="M16 9a2 2 0 0 0-2-2V6A5 5 0 0 0 4 6v1a2 2 0 0 0-2 2v6c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9Zm-7 5a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm3.1-7H5.9V6a3.1 3.1 0 0 1 6.2 0v1Z"></path></svg>
                    </div>
                <div class="flex--item wmn0 fl1 lh-lg">
                    <div class="flex--item fl1 lh-lg">
                        <b>Locked</b>. This question and its answers are <a href="/help/locked-posts">locked</a> because the question is off-topic but has historical significance. It is not currently accepting new answers or interactions.
                        
                    </div>
                </div>
            </div>
        </div>
</aside>

    </div>

<h2>The same origin policy</h2>

<p>I wanted to make a community wiki regarding HTML/JS <strong>same-origin policies</strong> to hopefully help anyone searching for this topic. This is one of the most searched-for topics on SO and there is no consolidated wiki for it so here I go :)</p>

<blockquote>
  <p>The same origin policy prevents a
  document or script loaded from one
  origin from getting or setting
  properties of a document from another
  origin. This policy dates all the way
  back to Netscape Navigator 2.0.</p>
</blockquote>

<h2>What are some of your favorite ways to go around same-origin policies?</h2>

<p>Please keep examples verbose and preferably also link your sources.</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>The <code>document.domain</code> method</h2>

<ul>
<li>Method type: <strong>iframe</strong>.</li>
</ul>

<p>Note that this is an iframe method that sets the value of document.domain to a suffix of the current domain. If it does so, the shorter domain is used for subsequent origin checks. For example, assume a script in the document at <code>http://store.company.com/dir/other.html</code> executes the following statement:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-property">domain</span> = <span class="hljs-string">"company.com"</span>;
</code></pre>

<p>After that statement executes, the page would pass the origin check with <code>http://company.com/dir/page.html</code>. However, by the same reasoning, company.com could not set <code>document.domain</code>  to <code>othercompany.com</code>.</p>

<p>With this method, you would be allowed to exectue javascript from an iframe sourced on a subdomain on a page sourced on the main domain. This method is not suited for cross-domain resources as browsers like Firefox will not allow you to change the <code>document.domain</code> to a completely alien domain.</p>

<p>Source: <a href="https://developer.mozilla.org/en/Same_origin_policy_for_JavaScript" rel="nofollow noreferrer">https://developer.mozilla.org/en/Same_origin_policy_for_JavaScript</a></p>

<h2>The Cross-Origin Resource Sharing method</h2>

<ul>
<li>Method type: <strong>AJAX</strong>.</li>
</ul>

<p><a href="http://www.w3.org/TR/access-control/" rel="nofollow noreferrer">Cross-Origin Resource Sharing</a> (CORS) is a W3C Working Draft that defines how the browser and server must communicate when accessing sources across origins. The basic idea behind CORS is to use custom HTTP headers to allow both the browser and the server to know enough about each other to determine if the request or response should succeed or fail.</p>

<p>For a simple request, one that uses either <code>GET</code> or <code>POST</code> with no custom headers and whose body is <code>text/plain</code>, the request is sent with an extra header called <code>Origin</code>. The Origin  header contains the origin (protocol, domain name, and port) of the requesting page so that the server can easily determine whether or not it should serve a response. An example <code>Origin</code> header might look like this:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">Origin</span>: <span class="hljs-attr">http</span>:<span class="hljs-comment">//www.stackoverflow.com</span>
</code></pre>

<p>If the server decides that the request should be allowed, it sends a <code>Access-Control-Allow-Origin</code> header echoing back the same origin that was sent or <code>*</code> if its a public resource. For example:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Origin</span>: <span class="hljs-attr">http</span>:<span class="hljs-comment">//www.stackoverflow.com</span>
</code></pre>

<p>If this header is missing, or the origins dont match, then the browser disallows the request. If all is well, then the browser processes the request. Note that neither the requests nor responses include cookie information.</p>

<p>The Mozilla team suggests in <a href="http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/" rel="nofollow noreferrer">their post about CORS</a> that you should check for the existence of the <code>withCredentials</code>  property to determine if the browser supports CORS via XHR. You can then couple with the existence of the <code>XDomainRequest</code> object to cover all browsers:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createCORSRequest</span>(<span class="hljs-params">method, url</span>){
    <span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();
    <span class="hljs-keyword">if</span> (<span class="hljs-string">"withCredentials"</span> <span class="hljs-keyword">in</span> xhr){
        xhr.<span class="hljs-title function_">open</span>(method, url, <span class="hljs-literal">true</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">XDomainRequest</span> != <span class="hljs-string">"undefined"</span>){
        xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XDomainRequest</span>();
        xhr.<span class="hljs-title function_">open</span>(method, url);
    } <span class="hljs-keyword">else</span> {
        xhr = <span class="hljs-literal">null</span>;
    }
    <span class="hljs-keyword">return</span> xhr;
}

<span class="hljs-keyword">var</span> request = <span class="hljs-title function_">createCORSRequest</span>(<span class="hljs-string">"get"</span>, <span class="hljs-string">"http://www.stackoverflow.com/"</span>);
<span class="hljs-keyword">if</span> (request){
    request.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
        <span class="hljs-comment">// ...</span>
    };
    request.<span class="hljs-property">onreadystatechange</span> = handler;
    request.<span class="hljs-title function_">send</span>();
}
</code></pre>

<p>Note that for the CORS method to work, you need to have access to any type of server header mechanic and can't simply access any third-party resource.</p>

<p>Source: <a href="http://www.nczonline.net/blog/2010/05/25/cross-domain-ajax-with-cross-origin-resource-sharing/" rel="nofollow noreferrer">http://www.nczonline.net/blog/2010/05/25/cross-domain-ajax-with-cross-origin-resource-sharing/</a></p>

<h2>The <code>window.postMessage</code> method</h2>

<ul>
<li>Method type: <strong>iframe</strong>.</li>
</ul>

<p><code>window.postMessage</code>, when called, causes a <code>MessageEvent</code> to be dispatched at the target window when any pending script that must be executed completes (e.g. remaining event handlers if <code>window.postMessage</code> is called from an event handler, previously-set pending timeouts, etc.). The <code>MessageEvent</code> has the type message, a <code>data</code> property which is set to the string value of the first argument provided to <code>window.postMessage</code>, an <code>origin</code> property corresponding to the origin of the main document in the window calling <code>window.postMessage</code> at the time <code>window.postMessage</code> was called, and a <code>source</code> property which is the window from which <code>window.postMessage</code> is called.</p>

<p>To use <code>window.postMessage</code>, an event listener must be attached:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">    <span class="hljs-comment">// Internet Explorer</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">attachEvent</span>(<span class="hljs-string">'onmessage'</span>,receiveMessage);

    <span class="hljs-comment">// Opera/Mozilla/Webkit</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"message"</span>, receiveMessage, <span class="hljs-literal">false</span>);
</code></pre>

<p>And a <code>receiveMessage</code> function must be declared:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">receiveMessage</span>(<span class="hljs-params">event</span>)
{
    <span class="hljs-comment">// do something with event.data;</span>
}
</code></pre>

<p>The off-site iframe must also send events properly via <code>postMessage</code>:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">&lt;script&gt;<span class="hljs-variable language_">window</span>.<span class="hljs-property">parent</span>.<span class="hljs-title function_">postMessage</span>(<span class="hljs-string">'foo'</span>,<span class="hljs-string">'*'</span>)&lt;/script&gt;
</code></pre>

<p>Any window may access this method on any other window, at any time, regardless of the location of the document in the window, to send it a message. Consequently, any event listener used to receive messages must  first check the identity of the sender of the message, using the origin  and possibly source properties. This cannot be understated: <strong>Failure to check the <code>origin</code> and possibly <code>source</code> properties enables cross-site scripting attacks.</strong></p>

<p>Source: <a href="https://developer.mozilla.org/en/DOM/window.postMessage" rel="nofollow noreferrer">https://developer.mozilla.org/en/DOM/window.postMessage</a></p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2><strong>The Reverse Proxy method</strong></h2>

<ul>
<li>Method type: <strong>Ajax</strong></li>
</ul>

<p>Setting up a simple <a href="http://en.wikipedia.org/wiki/Reverse_proxy" rel="nofollow noreferrer">reverse proxy</a> on the server, will allow the browser to use relative paths for the Ajax requests, while the server would be acting as a proxy to any remote location. </p>

<p>If using <a href="http://httpd.apache.org/docs/2.0/mod/mod_proxy.html" rel="nofollow noreferrer">mod_proxy</a> in Apache, the fundamental configuration directive to set up a reverse proxy is the <code>ProxyPass</code>. It is typically used as follows:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">ProxyPass</span>     /ajax/     <span class="hljs-attr">http</span>:<span class="hljs-comment">//other-domain.com/ajax/</span>
</code></pre>

<p>In this case, the browser would be able to request <code>/ajax/web_service.xml</code> as a relative URL, but the server would serve this by acting as a proxy to <code>http://other-domain.com/ajax/web_service.xml</code>. </p>

<p>One interesting feature of the this method is that the reverse proxy can easily distribute requests towards multiple back-ends, thus acting as a <a href="http://en.wikipedia.org/wiki/Load_balancer" rel="nofollow noreferrer">load balancer</a>. </p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I use JSONP.</p>

<p>Basically, you add</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">&lt;script src=<span class="hljs-string">"http://..../someData.js?callback=some_func"</span>/&gt;
</code></pre>

<p>on your page.</p>

<p>some_func() should get called so that you are notified that the data is in.</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>AnyOrigin didn't function well with some https sites, so I just wrote an open source alternative called <a href="http://whateverorigin.org" rel="noreferrer">whateverorigin.org</a> that seems to work well with https.</p>

<p><a href="https://github.com/ripper234/Whatever-Origin" rel="noreferrer">Code on github</a>.</p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The most recent way of overcoming the same-origin policy that I've found is <a href="http://anyorigin.com/">http://anyorigin.com/</a></p>

<p>The site's made so that you just give it any url and it generates javascript/jquery code for you that lets you get the html/data, regardless of it's origin.  In other words, it makes any url or webpage a JSONP request.</p>

<p>I've found it pretty useful :)</p>

<p>Here's some example javascript code from anyorigin:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">$.<span class="hljs-title function_">getJSON</span>(<span class="hljs-string">'http://anyorigin.com/get?url=google.com&amp;callback=?'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>){
    $(<span class="hljs-string">'#output'</span>).<span class="hljs-title function_">html</span>(data.<span class="hljs-property">contents</span>);
});
</code></pre>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The <a href="http://en.wikipedia.org/wiki/JSON#JSONP" rel="nofollow noreferrer">JSONP</a> comes to mind:</p>

<blockquote>
  <p>JSONP or "JSON with padding" is a
  complement to the base JSON data
  format, a usage pattern that allows a
  page to request and more meaningfully
  use JSON from a server other than the
  primary server. JSONP is an
  alternative to a more recent method
  called Cross-Origin Resource Sharing.</p>
</blockquote>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Personally, <code>window.postMessage</code> is the most reliable way that I've found for modern browsers. You do have to do a slight bit more work to make sure you're not leaving yourself open to XSS attacks, but it's a reasonable tradeoff.</p>

<p>There are also several plugins for the popular Javascript toolkits out there that wrap <code>window.postMessage</code> that provide similar functionality to older browsers using the other methods discussed above.</p>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Well, I used curl in PHP to circumvent this. I have a webservice running in port 82.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">&lt;?php

$curl = <span class="hljs-title function_">curl_init</span>();
$timeout = <span class="hljs-number">30</span>;
$ret = <span class="hljs-string">""</span>;
$url=<span class="hljs-string">"http://localhost:82/put_val?val="</span>.<span class="hljs-property">$_GET</span>[<span class="hljs-string">"val"</span>];
curl_setopt ($curl, <span class="hljs-variable constant_">CURLOPT_URL</span>, $url);
curl_setopt ($curl, <span class="hljs-variable constant_">CURLOPT_FOLLOWLOCATION</span>, <span class="hljs-number">1</span>);
curl_setopt ($curl, <span class="hljs-variable constant_">CURLOPT_MAXREDIRS</span>, <span class="hljs-number">20</span>);
curl_setopt ($curl, <span class="hljs-variable constant_">CURLOPT_RETURNTRANSFER</span>, <span class="hljs-number">1</span>);
curl_setopt ($curl, <span class="hljs-variable constant_">CURLOPT_USERAGENT</span>, <span class="hljs-string">"Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.0.5) Gecko/2008120122 Firefox/3.0.5"</span>);
curl_setopt ($curl, <span class="hljs-variable constant_">CURLOPT_CONNECTTIMEOUT</span>, $timeout);
$text = <span class="hljs-title function_">curl_exec</span>($curl);
echo $text;

?&gt;
</code></pre>

<p>Here is the javascript that makes the call to the PHP file</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getdata</span>(<span class="hljs-params">obj1, obj2</span>) {

    <span class="hljs-keyword">var</span> xmlhttp;

    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">XMLHttpRequest</span>)
            xmlhttp=<span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();
    <span class="hljs-keyword">else</span>
            xmlhttp=<span class="hljs-keyword">new</span> <span class="hljs-title class_">ActiveXObject</span>(<span class="hljs-string">"Microsoft.XMLHTTP"</span>);

    xmlhttp.<span class="hljs-property">onreadystatechange</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
    {
        <span class="hljs-keyword">if</span> (xmlhttp.<span class="hljs-property">readyState</span>==<span class="hljs-number">4</span> &amp;&amp; xmlhttp.<span class="hljs-property">status</span>==<span class="hljs-number">200</span>)
        {
                <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"txtHint"</span>).<span class="hljs-property">innerHTML</span>=xmlhttp.<span class="hljs-property">responseText</span>;
        }
    }
    xmlhttp.<span class="hljs-title function_">open</span>(<span class="hljs-string">"GET"</span>,<span class="hljs-string">"phpURLFile.php?eqp="</span>+obj1+<span class="hljs-string">"&amp;val="</span>+obj2,<span class="hljs-literal">true</span>);
    xmlhttp.<span class="hljs-title function_">send</span>();
}
</code></pre>

<p>My HTML runs on WAMP in port 80. So there we go, same origin policy has been circumvented :-)</p>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/can-php-pdo-statements-accept-the-table-or-column-name-as-parameter-1657387478588">Can PHP PDO Statements accept the table or column name as parameter?</a><a href="/questions/split-comma-separated-strings-in-a-column-into-separate-rows-1657387785823">Split comma-separated strings in a column into separate rows</a><a href="/questions/what-is-the-purpose-of-the-var-keyword-and-when-should-i-use-it-(or-omit-it)-1657387525538">What is the purpose of the var keyword and when should I use it (or omit it)?</a><a href="/questions/how-can-i-prevent-sql-injection-in-php-1657384220094">How can I prevent SQL injection in PHP?</a><a href="/questions/why-is-using-&#x27;eval&#x27;-a-bad-practice-1657387348760">Why is using &#x27;eval&#x27; a bad practice?</a><a href="/questions/how-do-i-set-clear-and-toggle-a-single-bit-1657388227052">How do I set, clear, and toggle a single bit?</a><a href="/questions/sorting-an-array-of-objects-by-property-values-1657387447490">Sorting an array of objects by property values</a><a href="/questions/use-a-content-script-to-access-the-page-context-variables-and-functions-1657384842444">Use a content script to access the page context variables and functions</a><a href="/questions/reshaping-data.frame-from-wide-to-long-format-1657384678522">Reshaping data.frame from wide to long format</a><a href="/questions/what-is-a-smart-pointer-and-when-should-i-use-one-1657387905461">What is a smart pointer and when should I use one?</a><a href="/questions/css-selector-for-first-element-with-class-1657388028765">CSS selector for first element with class</a><a href="/questions/how-to-create-recyclerview-with-multiple-view-types-1657388121512">How to create RecyclerView with multiple view types</a><a href="/questions/how-to-choose-the-right-bean-scope-1657387596513">How to choose the right bean scope?</a><a href="/questions/post-an-html-table-to-ado.net-datatable-1657387462723">Post an HTML Table to ADO.NET DataTable</a><a href="/questions/how-to-lazy-load-images-in-listview-in-android-1657387332835">How to lazy load images in ListView in Android</a><a href="/questions/calculate-distance-between-two-latitude-longitude-points-(haversine-formula)-1657388500103">Calculate distance between two latitude-longitude points? (Haversine formula)</a><a href="/questions/how-can-i-deserialize-json-with-c-1657388102941">How can I deserialize JSON with C#?</a><a href="/questions/what-is-the-difference-between-and-equals()-in-java-1657387729654">What is the difference between == and equals() in Java?</a><a href="/questions/the-3-different-equals-1657385490242">The 3 different equals</a><a href="/questions/how-to-read-a-file-line-by-line-into-a-list-1657387865894">How to read a file line-by-line into a list?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;h2\u0026gt;The \u0026lt;code\u0026gt;document.domain\u0026lt;/code\u0026gt; method\u0026lt;/h2\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Method type: \u0026lt;strong\u0026gt;iframe\u0026lt;/strong\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Note that this is an iframe method that sets the value of document.domain to a suffix of the current domain. If it does so, the shorter domain is used for subsequent origin checks. For example, assume a script in the document at \u0026lt;code\u0026gt;http://store.company.com/dir/other.html\u0026lt;/code\u0026gt; executes the following statement:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;domain\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;company.com\u0026quot;\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;After that statement executes, the page would pass the origin check with \u0026lt;code\u0026gt;http://company.com/dir/page.html\u0026lt;/code\u0026gt;. However, by the same reasoning, company.com could not set \u0026lt;code\u0026gt;document.domain\u0026lt;/code\u0026gt;  to \u0026lt;code\u0026gt;othercompany.com\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;With this method, you would be allowed to exectue javascript from an iframe sourced on a subdomain on a page sourced on the main domain. This method is not suited for cross-domain resources as browsers like Firefox will not allow you to change the \u0026lt;code\u0026gt;document.domain\u0026lt;/code\u0026gt; to a completely alien domain.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Source: \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en/Same_origin_policy_for_JavaScript\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://developer.mozilla.org/en/Same_origin_policy_for_JavaScript\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;The Cross-Origin Resource Sharing method\u0026lt;/h2\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Method type: \u0026lt;strong\u0026gt;AJAX\u0026lt;/strong\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://www.w3.org/TR/access-control/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Cross-Origin Resource Sharing\u0026lt;/a\u0026gt; (CORS) is a W3C Working Draft that defines how the browser and server must communicate when accessing sources across origins. The basic idea behind CORS is to use custom HTTP headers to allow both the browser and the server to know enough about each other to determine if the request or response should succeed or fail.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For a simple request, one that uses either \u0026lt;code\u0026gt;GET\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;POST\u0026lt;/code\u0026gt; with no custom headers and whose body is \u0026lt;code\u0026gt;text/plain\u0026lt;/code\u0026gt;, the request is sent with an extra header called \u0026lt;code\u0026gt;Origin\u0026lt;/code\u0026gt;. The Origin  header contains the origin (protocol, domain name, and port) of the requesting page so that the server can easily determine whether or not it should serve a response. An example \u0026lt;code\u0026gt;Origin\u0026lt;/code\u0026gt; header might look like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Origin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//www.stackoverflow.com\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;If the server decides that the request should be allowed, it sends a \u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt; header echoing back the same origin that was sent or \u0026lt;code\u0026gt;*\u0026lt;/code\u0026gt; if its a public resource. For example:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Origin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//www.stackoverflow.com\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;If this header is missing, or the origins dont match, then the browser disallows the request. If all is well, then the browser processes the request. Note that neither the requests nor responses include cookie information.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The Mozilla team suggests in \u0026lt;a href=\u0026quot;http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;their post about CORS\u0026lt;/a\u0026gt; that you should check for the existence of the \u0026lt;code\u0026gt;withCredentials\u0026lt;/code\u0026gt;  property to determine if the browser supports CORS via XHR. You can then couple with the existence of the \u0026lt;code\u0026gt;XDomainRequest\u0026lt;/code\u0026gt; object to cover all browsers:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;createCORSRequest\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;method, url\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; xhr = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;XMLHttpRequest\u0026lt;/span\u0026gt;();\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;withCredentials\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; xhr){\n        xhr.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;open\u0026lt;/span\u0026gt;(method, url, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\n    } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;XDomainRequest\u0026lt;/span\u0026gt; != \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;undefined\u0026quot;\u0026lt;/span\u0026gt;){\n        xhr = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;XDomainRequest\u0026lt;/span\u0026gt;();\n        xhr.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;open\u0026lt;/span\u0026gt;(method, url);\n    } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n        xhr = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;;\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; xhr;\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; request = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;createCORSRequest\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;get\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://www.stackoverflow.com/\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (request){\n    request.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;onload\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ...\u0026lt;/span\u0026gt;\n    };\n    request.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;onreadystatechange\u0026lt;/span\u0026gt; = handler;\n    request.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;send\u0026lt;/span\u0026gt;();\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Note that for the CORS method to work, you need to have access to any type of server header mechanic and can\u0026apos;t simply access any third-party resource.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Source: \u0026lt;a href=\u0026quot;http://www.nczonline.net/blog/2010/05/25/cross-domain-ajax-with-cross-origin-resource-sharing/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;http://www.nczonline.net/blog/2010/05/25/cross-domain-ajax-with-cross-origin-resource-sharing/\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;The \u0026lt;code\u0026gt;window.postMessage\u0026lt;/code\u0026gt; method\u0026lt;/h2\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Method type: \u0026lt;strong\u0026gt;iframe\u0026lt;/strong\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;window.postMessage\u0026lt;/code\u0026gt;, when called, causes a \u0026lt;code\u0026gt;MessageEvent\u0026lt;/code\u0026gt; to be dispatched at the target window when any pending script that must be executed completes (e.g. remaining event handlers if \u0026lt;code\u0026gt;window.postMessage\u0026lt;/code\u0026gt; is called from an event handler, previously-set pending timeouts, etc.). The \u0026lt;code\u0026gt;MessageEvent\u0026lt;/code\u0026gt; has the type message, a \u0026lt;code\u0026gt;data\u0026lt;/code\u0026gt; property which is set to the string value of the first argument provided to \u0026lt;code\u0026gt;window.postMessage\u0026lt;/code\u0026gt;, an \u0026lt;code\u0026gt;origin\u0026lt;/code\u0026gt; property corresponding to the origin of the main document in the window calling \u0026lt;code\u0026gt;window.postMessage\u0026lt;/code\u0026gt; at the time \u0026lt;code\u0026gt;window.postMessage\u0026lt;/code\u0026gt; was called, and a \u0026lt;code\u0026gt;source\u0026lt;/code\u0026gt; property which is the window from which \u0026lt;code\u0026gt;window.postMessage\u0026lt;/code\u0026gt; is called.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To use \u0026lt;code\u0026gt;window.postMessage\u0026lt;/code\u0026gt;, an event listener must be attached:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Internet Explorer\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;attachEvent\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;onmessage\u0026apos;\u0026lt;/span\u0026gt;,receiveMessage);\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Opera/Mozilla/Webkit\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;addEventListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;message\u0026quot;\u0026lt;/span\u0026gt;, receiveMessage, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And a \u0026lt;code\u0026gt;receiveMessage\u0026lt;/code\u0026gt; function must be declared:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;receiveMessage\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;event\u0026lt;/span\u0026gt;)\n{\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// do something with event.data;\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The off-site iframe must also send events properly via \u0026lt;code\u0026gt;postMessage\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026amp;lt;script\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;parent\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;postMessage\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;)\u0026amp;lt;/script\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Any window may access this method on any other window, at any time, regardless of the location of the document in the window, to send it a message. Consequently, any event listener used to receive messages must  first check the identity of the sender of the message, using the origin  and possibly source properties. This cannot be understated: \u0026lt;strong\u0026gt;Failure to check the \u0026lt;code\u0026gt;origin\u0026lt;/code\u0026gt; and possibly \u0026lt;code\u0026gt;source\u0026lt;/code\u0026gt; properties enables cross-site scripting attacks.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Source: \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en/DOM/window.postMessage\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://developer.mozilla.org/en/DOM/window.postMessage\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;\u0026lt;strong\u0026gt;The Reverse Proxy method\u0026lt;/strong\u0026gt;\u0026lt;/h2\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Method type: \u0026lt;strong\u0026gt;Ajax\u0026lt;/strong\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Setting up a simple \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Reverse_proxy\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;reverse proxy\u0026lt;/a\u0026gt; on the server, will allow the browser to use relative paths for the Ajax requests, while the server would be acting as a proxy to any remote location. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If using \u0026lt;a href=\u0026quot;http://httpd.apache.org/docs/2.0/mod/mod_proxy.html\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;mod_proxy\u0026lt;/a\u0026gt; in Apache, the fundamental configuration directive to set up a reverse proxy is the \u0026lt;code\u0026gt;ProxyPass\u0026lt;/code\u0026gt;. It is typically used as follows:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ProxyPass\u0026lt;/span\u0026gt;     /ajax/     \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//other-domain.com/ajax/\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;In this case, the browser would be able to request \u0026lt;code\u0026gt;/ajax/web_service.xml\u0026lt;/code\u0026gt; as a relative URL, but the server would serve this by acting as a proxy to \u0026lt;code\u0026gt;http://other-domain.com/ajax/web_service.xml\u0026lt;/code\u0026gt;. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;One interesting feature of the this method is that the reverse proxy can easily distribute requests towards multiple back-ends, thus acting as a \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Load_balancer\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;load balancer\u0026lt;/a\u0026gt;. \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I use JSONP.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Basically, you add\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026amp;lt;script src=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://..../someData.js?callback=some_func\u0026quot;\u0026lt;/span\u0026gt;/\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;on your page.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;some_func() should get called so that you are notified that the data is in.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;AnyOrigin didn\u0026apos;t function well with some https sites, so I just wrote an open source alternative called \u0026lt;a href=\u0026quot;http://whateverorigin.org\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;whateverorigin.org\u0026lt;/a\u0026gt; that seems to work well with https.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://github.com/ripper234/Whatever-Origin\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Code on github\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The most recent way of overcoming the same-origin policy that I\u0026apos;ve found is \u0026lt;a href=\u0026quot;http://anyorigin.com/\u0026quot;\u0026gt;http://anyorigin.com/\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The site\u0026apos;s made so that you just give it any url and it generates javascript/jquery code for you that lets you get the html/data, regardless of it\u0026apos;s origin.  In other words, it makes any url or webpage a JSONP request.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I\u0026apos;ve found it pretty useful :)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Here\u0026apos;s some example javascript code from anyorigin:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;$.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getJSON\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;http://anyorigin.com/get?url=google.com\u0026amp;amp;callback=?\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;){\n    $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;#output\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;html\u0026lt;/span\u0026gt;(data.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;contents\u0026lt;/span\u0026gt;);\n});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/JSON#JSONP\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;JSONP\u0026lt;/a\u0026gt; comes to mind:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;JSONP or \u0026quot;JSON with padding\u0026quot; is a\n  complement to the base JSON data\n  format, a usage pattern that allows a\n  page to request and more meaningfully\n  use JSON from a server other than the\n  primary server. JSONP is an\n  alternative to a more recent method\n  called Cross-Origin Resource Sharing.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Personally, \u0026lt;code\u0026gt;window.postMessage\u0026lt;/code\u0026gt; is the most reliable way that I\u0026apos;ve found for modern browsers. You do have to do a slight bit more work to make sure you\u0026apos;re not leaving yourself open to XSS attacks, but it\u0026apos;s a reasonable tradeoff.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;There are also several plugins for the popular Javascript toolkits out there that wrap \u0026lt;code\u0026gt;window.postMessage\u0026lt;/code\u0026gt; that provide similar functionality to older browsers using the other methods discussed above.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Well, I used curl in PHP to circumvent this. I have a webservice running in port 82.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026amp;lt;?php\n\n$curl = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;curl_init\u0026lt;/span\u0026gt;();\n$timeout = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30\u0026lt;/span\u0026gt;;\n$ret = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;;\n$url=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://localhost:82/put_val?val=\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;$_GET\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;val\u0026quot;\u0026lt;/span\u0026gt;];\ncurl_setopt ($curl, \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CURLOPT_URL\u0026lt;/span\u0026gt;, $url);\ncurl_setopt ($curl, \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CURLOPT_FOLLOWLOCATION\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;);\ncurl_setopt ($curl, \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CURLOPT_MAXREDIRS\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;);\ncurl_setopt ($curl, \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CURLOPT_RETURNTRANSFER\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;);\ncurl_setopt ($curl, \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CURLOPT_USERAGENT\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.0.5) Gecko/2008120122 Firefox/3.0.5\u0026quot;\u0026lt;/span\u0026gt;);\ncurl_setopt ($curl, \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CURLOPT_CONNECTTIMEOUT\u0026lt;/span\u0026gt;, $timeout);\n$text = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;curl_exec\u0026lt;/span\u0026gt;($curl);\necho $text;\n\n?\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Here is the javascript that makes the call to the PHP file\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getdata\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;obj1, obj2\u0026lt;/span\u0026gt;) {\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; xmlhttp;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;XMLHttpRequest\u0026lt;/span\u0026gt;)\n            xmlhttp=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;XMLHttpRequest\u0026lt;/span\u0026gt;();\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;\n            xmlhttp=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ActiveXObject\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Microsoft.XMLHTTP\u0026quot;\u0026lt;/span\u0026gt;);\n\n    xmlhttp.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;onreadystatechange\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;)\n    {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (xmlhttp.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;readyState\u0026lt;/span\u0026gt;==\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt; \u0026amp;amp;\u0026amp;amp; xmlhttp.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;status\u0026lt;/span\u0026gt;==\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;200\u0026lt;/span\u0026gt;)\n        {\n                \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getElementById\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;txtHint\u0026quot;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;innerHTML\u0026lt;/span\u0026gt;=xmlhttp.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;responseText\u0026lt;/span\u0026gt;;\n        }\n    }\n    xmlhttp.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;open\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;GET\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;phpURLFile.php?eqp=\u0026quot;\u0026lt;/span\u0026gt;+obj1+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026amp;amp;val=\u0026quot;\u0026lt;/span\u0026gt;+obj2,\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\n    xmlhttp.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;send\u0026lt;/span\u0026gt;();\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;My HTML runs on WAMP in port 80. So there we go, same origin policy has been circumvented :-)\u0026lt;/p\u0026gt;\n    "],"id":148,"title":"Ways to circumvent the same-origin policy","content":"\n                    \u0026lt;div\u0026gt;\n            \u0026lt;aside class=\u0026quot;s-notice s-notice__info post-notice js-post-notice mb16\u0026quot; role=\u0026quot;status\u0026quot;\u0026gt;\n        \u0026lt;div class=\u0026quot;d-flex fd-column fw-nowrap\u0026quot;\u0026gt;\n            \u0026lt;div class=\u0026quot;d-flex fw-nowrap\u0026quot;\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item mr8\u0026quot;\u0026gt;\n                        \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;svg-icon iconLock\u0026quot; width=\u0026quot;18\u0026quot; height=\u0026quot;18\u0026quot; viewBox=\u0026quot;0 0 18 18\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;M16 9a2 2 0 0 0-2-2V6A5 5 0 0 0 4 6v1a2 2 0 0 0-2 2v6c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9Zm-7 5a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm3.1-7H5.9V6a3.1 3.1 0 0 1 6.2 0v1Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                \u0026lt;div class=\u0026quot;flex--item wmn0 fl1 lh-lg\u0026quot;\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item fl1 lh-lg\u0026quot;\u0026gt;\n                        \u0026lt;b\u0026gt;Locked\u0026lt;/b\u0026gt;. This question and its answers are \u0026lt;a href=\u0026quot;/help/locked-posts\u0026quot;\u0026gt;locked\u0026lt;/a\u0026gt; because the question is off-topic but has historical significance. It is not currently accepting new answers or interactions.\n                        \n                    \u0026lt;/div\u0026gt;\n                \u0026lt;/div\u0026gt;\n            \u0026lt;/div\u0026gt;\n        \u0026lt;/div\u0026gt;\n\u0026lt;/aside\u0026gt;\n\n    \u0026lt;/div\u0026gt;\n\n\u0026lt;h2\u0026gt;The same origin policy\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;I wanted to make a community wiki regarding HTML/JS \u0026lt;strong\u0026gt;same-origin policies\u0026lt;/strong\u0026gt; to hopefully help anyone searching for this topic. This is one of the most searched-for topics on SO and there is no consolidated wiki for it so here I go :)\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;The same origin policy prevents a\n  document or script loaded from one\n  origin from getting or setting\n  properties of a document from another\n  origin. This policy dates all the way\n  back to Netscape Navigator 2.0.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;h2\u0026gt;What are some of your favorite ways to go around same-origin policies?\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;Please keep examples verbose and preferably also link your sources.\u0026lt;/p\u0026gt;\n    ","slug":"ways-to-circumvent-the-same-origin-policy-1657384763316","postType":"QUESTION","createdAt":"2022-07-09T16:39:23.000Z","updatedAt":"2022-07-09T16:39:23.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"Can PHP PDO Statements accept the table or column name as parameter?","slug":"can-php-pdo-statements-accept-the-table-or-column-name-as-parameter-1657387478588"},{"title":"Split comma-separated strings in a column into separate rows","slug":"split-comma-separated-strings-in-a-column-into-separate-rows-1657387785823"},{"title":"What is the purpose of the var keyword and when should I use it (or omit it)?","slug":"what-is-the-purpose-of-the-var-keyword-and-when-should-i-use-it-(or-omit-it)-1657387525538"},{"title":"How can I prevent SQL injection in PHP?","slug":"how-can-i-prevent-sql-injection-in-php-1657384220094"},{"title":"Why is using 'eval' a bad practice?","slug":"why-is-using-'eval'-a-bad-practice-1657387348760"},{"title":"How do I set, clear, and toggle a single bit?","slug":"how-do-i-set-clear-and-toggle-a-single-bit-1657388227052"},{"title":"Sorting an array of objects by property values","slug":"sorting-an-array-of-objects-by-property-values-1657387447490"},{"title":"Use a content script to access the page context variables and functions","slug":"use-a-content-script-to-access-the-page-context-variables-and-functions-1657384842444"},{"title":"Reshaping data.frame from wide to long format","slug":"reshaping-data.frame-from-wide-to-long-format-1657384678522"},{"title":"What is a smart pointer and when should I use one?","slug":"what-is-a-smart-pointer-and-when-should-i-use-one-1657387905461"},{"title":"CSS selector for first element with class","slug":"css-selector-for-first-element-with-class-1657388028765"},{"title":"How to create RecyclerView with multiple view types","slug":"how-to-create-recyclerview-with-multiple-view-types-1657388121512"},{"title":"How to choose the right bean scope?","slug":"how-to-choose-the-right-bean-scope-1657387596513"},{"title":"Post an HTML Table to ADO.NET DataTable","slug":"post-an-html-table-to-ado.net-datatable-1657387462723"},{"title":"How to lazy load images in ListView in Android","slug":"how-to-lazy-load-images-in-listview-in-android-1657387332835"},{"title":"Calculate distance between two latitude-longitude points? (Haversine formula)","slug":"calculate-distance-between-two-latitude-longitude-points-(haversine-formula)-1657388500103"},{"title":"How can I deserialize JSON with C#?","slug":"how-can-i-deserialize-json-with-c-1657388102941"},{"title":"What is the difference between == and equals() in Java?","slug":"what-is-the-difference-between-and-equals()-in-java-1657387729654"},{"title":"The 3 different equals","slug":"the-3-different-equals-1657385490242"},{"title":"How to read a file line-by-line into a list?","slug":"how-to-read-a-file-line-by-line-into-a-list-1657387865894"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"ways-to-circumvent-the-same-origin-policy-1657384763316"},"buildId":"6ctJfCympFH_chh5mjicD","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>