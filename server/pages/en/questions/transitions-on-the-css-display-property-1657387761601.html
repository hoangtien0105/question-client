<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>Transitions on the CSS display property | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="I&#x27;m currently designing a CSS &#x27;mega dropdown&#x27; menu - basically a regular CSS-only dropdown menu, but one that contains different types of content.

At the moment, it appears that CSS 3 transitions don&#x27;t apply to the &#x27;display&#x27; property, i.e., you can&#x27;t do any sort of transition from display: none to display: block (or any combination).

Is there a way for the second-tier menu from the above example to &#x27;fade in&#x27; when someone hovers over one of the top level menu items?

I&#x27;m aware that you can use transitions on the visibility: property, but I can&#x27;t think of a way to use that effectively.

I&#x27;ve also tried using height, but that just failed miserably.

I&#x27;m also aware that it&#x27;s trivial to achieve this using JavaScript, but I wanted to challenge myself to use just CSS, and I think I&#x27;m coming up a little short.
    "/><meta property="og:title" content="Transitions on the CSS display property | Solutions Checker"/><meta property="og:description" content="I&#x27;m currently designing a CSS &#x27;mega dropdown&#x27; menu - basically a regular CSS-only dropdown menu, but one that contains different types of content.

At the moment, it appears that CSS 3 transitions don&#x27;t apply to the &#x27;display&#x27; property, i.e., you can&#x27;t do any sort of transition from display: none to display: block (or any combination).

Is there a way for the second-tier menu from the above example to &#x27;fade in&#x27; when someone hovers over one of the top level menu items?

I&#x27;m aware that you can use transitions on the visibility: property, but I can&#x27;t think of a way to use that effectively.

I&#x27;ve also tried using height, but that just failed miserably.

I&#x27;m also aware that it&#x27;s trivial to achieve this using JavaScript, but I wanted to challenge myself to use just CSS, and I think I&#x27;m coming up a little short.
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"Transitions on the CSS display property","text":"I&apos;m currently designing a CSS &apos;mega dropdown&apos; menu - basically a regular CSS-only dropdown menu, but one that contains different types of content.\n\nAt the moment, it appears that CSS 3 transitions don&apos;t apply to the &apos;display&apos; property, i.e., you can&apos;t do any sort of transition from display: none to display: block (or any combination).\n\nIs there a way for the second-tier menu from the above example to &apos;fade in&apos; when someone hovers over one of the top level menu items?\n\nI&apos;m aware that you can use transitions on the visibility: property, but I can&apos;t think of a way to use that effectively.\n\nI&apos;ve also tried using height, but that just failed miserably.\n\nI&apos;m also aware that it&apos;s trivial to achieve this using JavaScript, but I wanted to challenge myself to use just CSS, and I think I&apos;m coming up a little short.\n    ","answerCount":30,"upVoteCount":500,"suggestedAnswer":[{"text":"You can concatenate two transitions or more, and visibility is what comes handy this time.\n\n\n\ndiv {\n  border: 1px solid #eee;\n}\ndiv &gt; ul {\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 0s, opacity 0.5s linear;\n}\ndiv:hover &gt; ul {\n  visibility: visible;\n  opacity: 1;\n}\n&lt;div&gt;\n  &lt;ul&gt;\n    &lt;li&gt;Item 1&lt;/li&gt;\n    &lt;li&gt;Item 2&lt;/li&gt;\n    &lt;li&gt;Item 3&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\n\n(Don&apos;t forget the vendor prefixes to the transition property.)\n\nMore details are in this article.\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"You need to hide the element by other means in order to get this to work.\n\nI accomplished the effect by positioning both &lt;div&gt;s absolutely and setting the hidden one to opacity: 0.\n\nIf you even toggle the display property from none to block, your transition on other elements will not occur.\n\nTo work around this, always allow the element to be display: block, but hide the element by adjusting any of these means:\n\n\nSet the height to 0.\nSet the opacity to 0.\nPosition the element outside of the frame of another element that has overflow: hidden.\n\n\nThere are likely more solutions, but you cannot perform a transition if you toggle the element to display: none. For example, you may attempt to try something like this:\n\ndiv {\n    display: none;\n    transition: opacity 1s ease-out;\n    opacity: 0;\n}\ndiv.active {\n    opacity: 1;\n    display: block;\n}\n\n\nBut that will not work. From my experience, I have found this to do nothing.\n\nBecause of this, you will always need to keep the element display: block - but you could get around it by doing something like this:\n\ndiv {\n    transition: opacity 1s ease-out;\n    opacity: 0;\n    height: 0;\n    overflow: hidden;\n}\ndiv.active {\n    opacity: 1;\n    height: auto;\n}\n\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"At the time of this post all major browsers disable CSS transitions if you try to change the display property, but CSS animations still work fine so we can use them as a workaround.\n\nExample Code (you can apply it to your menu accordingly) Demo:\n\nAdd the following CSS to your stylesheet:\n\n@-webkit-keyframes fadeIn {\n    from { opacity: 0; }\n      to { opacity: 1; }\n}\n@keyframes fadeIn {\n    from { opacity: 0; }\n      to { opacity: 1; }\n}\n\n\nThen apply the fadeIn animation to the child on parent hover (and of course set display: block):\n\n.parent:hover .child {\n    display: block;\n    -webkit-animation: fadeIn 1s;\n    animation: fadeIn 1s;\n}\n\n\n\n\nUpdate 2019 - Method that also supports fading out:\n\n(Some JavaScript code is required)\n\n\n\n// We need to keep track of faded in elements so we can apply fade out later in CSS\ndocument.addEventListener(&apos;animationstart&apos;, function (e) {\n  if (e.animationName === &apos;fade-in&apos;) {\n      e.target.classList.add(&apos;did-fade-in&apos;);\n  }\n});\n\ndocument.addEventListener(&apos;animationend&apos;, function (e) {\n  if (e.animationName === &apos;fade-out&apos;) {\n      e.target.classList.remove(&apos;did-fade-in&apos;);\n   }\n});\ndiv {\n    border: 5px solid;\n    padding: 10px;\n}\n\ndiv:hover {\n    border-color: red;\n}\n\n.parent .child {\n  display: none;\n}\n\n.parent:hover .child {\n  display: block;\n  animation: fade-in 1s;\n}\n\n.parent:not(:hover) .child.did-fade-in {\n  display: block;\n  animation: fade-out 1s;\n}\n\n@keyframes fade-in {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fade-out {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n&lt;div class=&quot;parent&quot;&gt;\n    Parent\n    &lt;div class=&quot;child&quot;&gt;\n        Child\n    &lt;/div&gt;\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"Instead of callbacks, which don&apos;t exist in CSS, we can use transition-delay property.\n#selector {\n    overflow: hidden;  /* Hide the element content, while height = 0 */\n    height: 0;\n    opacity: 0;\n    transition: height 0ms 400ms, opacity 400ms 0ms;\n}\n#selector.visible {\n    height: auto; opacity: 1;\n    transition: height 0ms 0ms, opacity 600ms 0ms;\n}\n\n\nSo, what&apos;s going on here?\n\nWhen visible class is added, both height and opacity start animation without delay (0 ms), though height takes 0 ms to complete animation (equivalent of display: block) and opacity takes 600 ms.\n\nWhen visible class is removed, opacity starts animation (0 ms delay, 400 ms duration), and height waits 400 ms and only then instantly (0 ms) restores initial value (equivalent of display: none in the animation callback).\n\n\nNote, this approach is better than ones using visibility. In such cases, the element still occupies the space on the page, and it&apos;s not always suitable.\nFor more examples please refer to this article.\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"I suspect that the reason that transitions are disabled if display is changed is because of what display actually does. It does not change anything that could conceivably be smoothly animated.\n\ndisplay: none; and visibility: hidden; are two entirely different things.\nBoth do have the effect of making the element invisible, but with visibility: hidden; its still rendered in the layout, but just not visibly so.\nThe hidden element still takes up space, and is still rendered inline or as a block or block-inline or table or whatever the display element tells it to render as, and takes up space accordingly.\nOther elements do not automatically move to occupy that space. The hidden element just doesnt render its actual pixels to the output.\n\ndisplay: none on the other hand actually prevents the element from rendering entirely.\nIt does not take up any layout space.\nOther elements that wouldve occupied some or all of the space taken up by this element now adjust to occupy that space, as if the element simply did not exist at all.\n\ndisplay is not just another visual attribute.\nIt establishes the entire rendering mode of the element, such as whether its a block, inline, inline-block, table, table-row, table-cell, list-item, or whatever!\nEach of those have very different layout ramifications, and there would be no reasonable way to animate or smoothly transition them (try to imagine a smooth transition from block to inline or vice-versa, for instance!).\n\nThis is why transitions are disabled if display changes (even if the change is to or from none  none isnt merely invisibility, its its own element rendering mode that means no rendering at all!).\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"display is not one of the properties that transition works upon.\n\nSee Animatable CSS properties for the list of CSS properties that can have transitions applied to them. See CSS Values and Units Module Level 4, Combining Values: Interpolation, Addition, and Accumulation for how they are interpolated.\n\nUp to CSS 3 was listed in 9.1. Properties from CSS (just close the warning popup)\n\n\n  I&apos;ve also tried using height, but that just failed miserably.\n\n\nLast time I had to do this, I used max-height instead, which is an animatable property (although it was a bit of a hack, it did work), but beware that it may be very janky for complex pages or users with low-end mobile devices.\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"I found better way for this issue, you can use CSS Animation and make your awesome effect for showing items.\n.item {\n     display: none;\n}\n\n.item:hover {\n     display: block;\n     animation: fade_in_show 0.5s\n}\n\n@keyframes fade_in_show {\n     0% {\n          opacity: 0;\n          transform: scale(0)\n     }\n\n     100% {\n          opacity: 1;\n          transform: scale(1)\n     }\n}\n\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"You can add a custom animation to the block property now.\n\n@keyframes showNav {\n  from {opacity: 0;}\n  to {opacity: 1;}\n}\n.subnav-is-opened .main-nav__secondary-nav {\n  display: block;\n  animation: showNav 250ms ease-in-out both;\n}\n\n\nDemo\n\nIn this demo the sub-menu changes from display:none to display:block and still manages to fade.\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"According to W3C Working Draft 19 November 2013 display is not an animatable property. Fortunately, visibility is animatable. You may chain its transition with a transition of opacity (JSFiddle):\n\n\nHTML:\n\n&lt;a href=&quot;http://example.com&quot; id=&quot;foo&quot;&gt;Foo&lt;/a&gt;\n&lt;button id=&quot;hide-button&quot;&gt;Hide&lt;/button&gt;\n&lt;button id=&quot;show-button&quot;&gt;Show&lt;/button&gt;\n\nCSS:\n\n#foo {\n    transition-property: visibility, opacity;\n    transition-duration: 0s, 1s;\n}\n\n#foo.hidden {\n    opacity: 0;\n    visibility: hidden;\n    transition-property: opacity, visibility;\n    transition-duration: 1s, 0s;\n    transition-delay: 0s, 1s;\n}\n\nJavaScript for testing:\n\nvar foo = document.getElementById(&apos;foo&apos;);\n\ndocument.getElementById(&apos;hide-button&apos;).onclick = function () {\n    foo.className = &apos;hidden&apos;;\n};\n\ndocument.getElementById(&apos;show-button&apos;).onclick = function () {\n    foo.className = &apos;&apos;;\n};\n\n\n\nNote that if you just make the link transparent, without setting visibility: hidden, then it would stay clickable.\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"Edit: display none is not being applied in this example.\n\n@keyframes hide {\n  0% {\n    display: block;\n    opacity: 1;\n  }\n  99% {\n    display: block;\n  }\n  100% {\n    display: none;\n    opacity: 0;\n  }\n}\n\n\nWhat&apos;s happening above is that through 99% of the animation display is set to block while the opacity fades out. In the last moment display property is set to none.\n\nAnd the most important bit is to retain the last frame after the animation ends using animation-fill-mode: forwards\n\n.hide {\n   animation: hide 1s linear;\n   animation-fill-mode: forwards;\n}\n\n\nHere are two examples: https://jsfiddle.net/qwnz9tqg/3/\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"My neat JavaScript trick is to separate the entire scenario into two different functions!\n\nTo prepare things, one global variable is declared and one event handler is defined:\n\n  var tTimeout;\n  element.addEventListener(&quot;transitionend&quot;, afterTransition, true);//firefox\n  element.addEventListener(&quot;webkitTransitionEnd&quot;, afterTransition, true);//chrome\n\n\nThen, when hiding element, I use something like this: \n\nfunction hide(){\n  element.style.opacity = 0;\n}\n\nfunction afterTransition(){\n  element.style.display = &apos;none&apos;;\n}\n\n\nFor reappearing the element, I am doing something like this:\n\nfunction show(){\n  element.style.display = &apos;block&apos;;\n  tTimeout = setTimeout(timeoutShow, 100);\n}\n\nfunction timeoutShow(){\n  element.style.opacity = 1;\n}\n\n\nIt works, so far!\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"Fade it in with CSS Animations:\n.item {\n     display: none;\n}\n\n.item:hover {\n     display: block;\n     animation: fadeIn 0.5s;\n}\n\n@keyframes fadeIn {\n     from {\n          opacity: 0;\n     }\n\n     to {\n          opacity: 1;\n     }\n}\n\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"I ran into this today, with a position: fixed modal that I was reusing. I couldn&apos;t keep it display: none and then animate it, as it just jumped into appearance, and and z-index (negative values, etc) did weird things as well.\n\nI was also using a height: 0 to height: 100%, but it only worked when the modal appeared. This is the same as if you used left: -100% or something.\n\nThen it struck me that there was a simple answer. Et voila:\n\nFirst, your hidden modal. Notice the height is 0, and check out the height declaration in transitions... it has a 500ms, which is longer than my opacity transition. Remember, this affects the out-going fade-out transition: returning the modal to its default state.\n\n#modal-overlay {\n    background: #999;\n    background: rgba(33,33,33,.2);\n    display: block;\n    overflow: hidden;\n    height: 0;\n    width: 100%;\n    position: fixed;\n    top: 0;\n    left: 0;\n    opacity: 0;\n    z-index: 1;\n    -webkit-transition: height 0s 500ms, opacity 300ms ease-in-out;\n       -moz-transition: height 0s 500ms, opacity 300ms ease-in-out;\n            -ms-transition: height 0s 500ms, opacity 300ms ease-in-out;\n         -o-transition: height 0s 500ms, opacity 300ms ease-in-out;\n        transition: height 0s 500ms, opacity 300ms ease-in-out;\n}\n\n\nSecond, your visible modal. Say you&apos;re setting a .modal-active to the body. Now the height is 100%, and my transition has also changed. I want the height to be instantly changed, and the opacity to take 300ms.\n\n.modal-active #modal-overlay {\n    height: 100%;\n    opacity: 1;\n    z-index: 90000;\n    -webkit-transition: height 0s, opacity 300ms ease-in-out;\n       -moz-transition: height 0s, opacity 300ms ease-in-out;\n        -ms-transition: height 0s, opacity 300ms ease-in-out;\n         -o-transition: height 0s, opacity 300ms ease-in-out;\n            transition: height 0s, opacity 300ms ease-in-out;\n}\n\n\nThat&apos;s it, it works like a charm.\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"Taking from a few of these answers and some suggestions elsewhere, the following works great for hover menus (I&apos;m using this with Bootstrap 3, specifically):\n\nnav .dropdown-menu {\n    display: block;\n    overflow: hidden;\n    max-height: 0;\n    opacity: 0;\n    transition: max-height 500ms, opacity 300ms;\n    -webkit-transition: max-height 500ms, opacity 300ms;\n}\nnav .dropdown:hover .dropdown-menu {\n    max-height: 500px;\n    opacity: 1;\n    transition: max-height 0, opacity 300ms;\n    -webkit-transition: max-height 0, opacity 300ms;\n}\n\n\nYou could also use height in place of max-height if you specify both values since height:auto is not allowed with transitions. The hover value of max-height needs to be greater than the height of the menu can possibly be.\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0},{"text":"I&apos;ve came across this issue multiple times and now simply went with:\n\n.block {\n  opacity: 1;\n  transition: opacity 250ms ease;\n}\n\n.block--invisible {\n  pointer-events: none;\n  opacity: 0;\n}\n\n\nBy adding the class block--invisible the whole Elements will not be clickable but all Elements behind it will be because of the pointer-events:none which is supported by all major browsers (no IE &lt; 11).\n    ","url":"/questions/[slug]#solution15","@type":"Answer","upvoteCount":0},{"text":"Change overflow:hidden to overflow:visible. It works better. I use like this:\n\n#menu ul li ul {\n    background-color:#fe1c1c;\n    width:85px;\n    height:0px;\n    opacity:0;\n    box-shadow:1px 3px 10px #000000;\n    border-radius:3px;\n    z-index:1;\n    -webkit-transition:all 0.5s ease;\n    -moz-transition:all 0.6s ease;\n}\n\n#menu ul li:hover ul  {\n    overflow:visible;\n    opacity:1;\n    height:140px;\n}\n\n\nvisible is better because overflow:hidden act exactly like a display:none.\n    ","url":"/questions/[slug]#solution16","@type":"Answer","upvoteCount":0},{"text":"It is as simple as the following :)\n\n@keyframes fadeout {\n    0% { opacity: 1; height: auto; }\n    90% { opacity: 0; height: auto; }\n    100% { opacity: 0; height: 0;\n}\nanimation: fadeout linear 0.5s 1 normal forwards !important;\n\n\nGet it to fade away, and then make it height 0;. Also make sure to use forwards so that it stays in the final state.\n    ","url":"/questions/[slug]#solution17","@type":"Answer","upvoteCount":0},{"text":"I appreciate all the answers. Here is what I&apos;m using for similar purposes: transition vs animation.\nExample: https://jsfiddle.net/grinevri/tcod87Le/22/\n&lt;div class=&quot;animation&quot;&gt;&lt;/div&gt;\n&lt;div class=&quot;transition&quot;&gt;&lt;/div&gt;\n\n@keyframes animationTo {\n  0% { background-color: rgba(0, 0, 0, 0.1); }\n  100% { background-color: rgba(0, 0, 0, 0.5); }\n}\n\n@keyframes animationFrom {\n  0% { background-color: rgba(0, 0, 0, 0.5); }\n  100% { background-color: rgba(0, 0, 0, 0.1); }\n}\n\n.animation,\n.transition{\n  margin: 5px;\n  height: 100px;\n  width: 100px;\n  background-color: rgba(0, 0, 0, 0.1);\n}\n\n.animation{\n  animation: animationFrom 250ms;\n}\n\n.animation:hover{\n  background-color: rgba(0, 0, 0, 0.5);\n  animation: animationTo 250ms;\n}\n\n.transition{\n  transition: background-color 250ms;\n}\n\n.transition:hover{\n  background-color: rgba(0, 0, 0, 0.5);\n}\n\n    ","url":"/questions/[slug]#solution18","@type":"Answer","upvoteCount":0},{"text":"I finally found a solution for me, by combining opacity with position absolute (not to occupy space when hidden).\n\n.toggle {\n  opacity: 0;\n  position: absolute;\n  transition: opacity 0.8s;\n}\n\n.parent:hover .toggle {\n  opacity: 1;\n  position: static;\n}\n\n    ","url":"/questions/[slug]#solution19","@type":"Answer","upvoteCount":0},{"text":"JavaScript is not required, and no outrageously huge max-height is needed. Instead, set your max-height on your text elements, and use a font relative unit such as rem or em. This way, you can set a maximum height larger than your container, while avoiding a delay or &quot;popping&quot; when the menu closes:\n\nHTML\n\n&lt;nav&gt;\n  &lt;input type=&quot;checkbox&quot; /&gt;\n  &lt;ul&gt;\n    &lt;li&gt;Link 1&lt;/li&gt;\n    &lt;li&gt;Link 1&lt;/li&gt;\n    &lt;li&gt;Link 1&lt;/li&gt;\n    &lt;li&gt;Link 1&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/nav&gt;\n\n\nCSS\n\nnav input + ul li { // Notice I set max-height on li, not ul\n   max-height: 0;\n}\n\nnav input:checked + ul li {\n   max-height: 3rem; // A little bigger to allow for text-wrapping - but not outrageous\n}\n\n\nSee an example here:\nhttp://codepen.io/mindfullsilence/pen/DtzjE\n    ","url":"/questions/[slug]#solution20","@type":"Answer","upvoteCount":0},{"text":"After the accepted answer from Guillermo was written, the CSS\ntransition specification of 2012-04-03 changed the behavior of the visibility transition and now it is possible to solve this problem in a shorter way, without the use of transition-delay:\n\n.myclass &gt; div {\n                   transition:visibility 1s, opacity 1s;\n                   visibility:hidden;  opacity:0\n               }\n.myclass:hover &gt; div\n               {   visibility:visible; opacity:1 }\n\n\nThe run time specified for both transitions should usually be\nidentical (although a slightly longer time for visibility is not a problem).\n\nFor a running version, see my blog post CSS Transition Visibility.\n\nW.r.t. the title of the question &quot;Transitions on the display: property&quot; and in response to comments from Rui Marques and josh to the accepted answer:\n\nThis solution works in cases where it is irrelevant if the display or\nvisibility property is used (as it probably was the case in this question).\n\nIt will not completely remove the element as display:none, just make it invisible, but it still stays in the document flow and influences the position of the following elements.\n\nTransitions that completely remove the element similar to display:none can be done using height (as indicated by other answers and comments), max-height, or margin-top/bottom, but also see\nHow can I transition height: 0; to height: auto; using CSS? and my blog post Workarounds for CSS Transitions on the Display and Height Properties.\n\nIn response to comment from GeorgeMillo:\nBoth properties and both transitions are needed: The opacity property\nis used to create a fade-in and fade-out animation and the visibility\nproperty to avoid the element still reacting on mouse\nevents. Transitions are needed on opacity for the visual effect and on\nvisibility to delay hiding until the fade-out is finished.\n    ","url":"/questions/[slug]#solution21","@type":"Answer","upvoteCount":0},{"text":"I suspect anyone just starting CSS transitions quickly discovers that they don&apos;t work if you&apos;re modifying the display property (block/none) at the same time. One workaround that hasn&apos;t yet been mentioned is that you can continue to use display:block/none to hide/show the element, but set its opacity to 0 so that even when it&apos;s display:block, it&apos;s still invisible.\n\nThen to fade it in, add another CSS class such as &quot;on&quot; which sets the opacity to 1 and defines the transition for opacity. As you may have imagined, you&apos;ll have to use JavaScript to add that &quot;on&quot; class to the element, but at least you&apos;re still using CSS for the actual transition.\n\nP.S. If you find yourself in a situation where you need to do both display:block, and add class &quot;on&quot;, at the same time, defer the latter using setTimeout. Otherwise, the browser just sees both things as happening at once and disables the transition.\n    ","url":"/questions/[slug]#solution22","@type":"Answer","upvoteCount":0},{"text":"You can get this to work the natural way you expected - using display - but you have to throttle the browser to get it to work, using either Javascript or as others have suggested a fancy trick with one tag inside another. I don&apos;t care for the inner tag as it further complicates CSS and dimensions, so here&apos;s the Javascript solution:\nhttps://jsfiddle.net/b9chris/hweyecu4/17/\nStarting with a box like:\n&lt;div id=&quot;box&quot; class=&quot;hidden&quot;&gt;Lorem&lt;/div&gt;\n\nA hidden box.\ndiv.hidden {\n    display: none;\n}\n#box {\n    transition: opacity 1s;\n}\n    \n\nWe&apos;re going to use a trick found in a related q/a, checking offsetHeight to throttle the browser instantaneously:\nhttps://stackoverflow.com/a/16575811/176877\nFirst, a library formalizing the above trick:\n$.fn.noTrnsn = function () {\n    return this.each(function (i, tag) {\n        tag.style.transition = &apos;none&apos;;\n    });\n};\n$.fn.resumeTrnsn = function () {\n    return this.each(function (i, tag) {\n        tag.offsetHeight;    \n        tag.style.transition = null;\n    });\n};\n\nNext, we&apos;re going to use it to reveal a box, and fade it in:\n$(&apos;#button&apos;).on(&apos;click&apos;, function() {\n    var tag = $(&apos;#box&apos;);\n    if (tag.hasClass(&apos;hidden&apos;))\n        tag.noTrnsn().removeClass(&apos;hidden&apos;)\n        .css({ opacity: 0 })\n        .resumeTrnsn().css({ opacity: 1 });\n    else\n        tag.css({ opacity: 0 });\n});\n\nThis fades the box in and out. So, .noTrnsn() turns off transitions, then we remove the hidden class, which flips display from none to its default, block. We then set opacity to 0 to get ready for fading in. Now that we&apos;ve set the stage, we turn transitions back on, with .resumeTrnsn(). And finally, kick off the transition by setting opacity to 1.\nWithout the library, both the change to display and the change to opacity would&apos;ve gotten us undesirable results. If we simply removed the library calls, we&apos;d get no transitions at all.\nNote that the above does not set display to none again at the end of the fadeout animation. We can get fancier though. Let&apos;s do so with one that fades in and grows in height from 0.\nFancy!\nhttps://jsfiddle.net/b9chris/hweyecu4/22/\n#box {\n    transition: height 1s, opacity 1s;\n}\n\nWe&apos;re now transitioning both height and opacity. Note that we are not setting height, which means it is the default, auto. Conventionally this cannot be transitioned - moving from auto to a pixel value (like 0) will get you no transition. We&apos;re going to work around that with the library, and one more library method:\n$.fn.wait = function (time, fn) {\n    if (time)\n        this.delay(time);\n    if (!fn)\n        return this;\n\n    var _this = this;\n    return this.queue(function (n) {\n        fn.call(_this);\n        n();\n    });\n};\n\nThis is a convenience method that lets us participate in jQuery&apos;s existing fx/animation queue, without requiring any of the animation framework that&apos;s now excluded in jQuery 3.x. I&apos;m not going to explain how jQuery works, but suffice to say, the .queue() and .stop() plumbing that jQuery provides help us prevent our animations from stepping on each other.\nLet&apos;s animate the slide down effect.\n$(&apos;#button&apos;).on(&apos;click&apos;, function() {\n    var tag = $(&apos;#box&apos;);\n    if (tag.hasClass(&apos;hidden&apos;)) {\n        // Open it\n        // Measure it\n        tag.stop().noTrnsn().removeClass(&apos;hidden&apos;).css({\n            opacity: 0, height: &apos;auto&apos;\n        });\n        var h = tag.height();\n        tag.css({ height: 0 }).resumeTrnsn()\n        // Animate it\n        .css({ opacity: 1, height: h })\n        .wait(1000, function() {\n            tag.css({ height: &apos;auto&apos; });\n        });\n    } else {\n        // Close it\n        // Measure it\n        var h = tag.noTrnsn().height();\n        tag.stop().css({ height: h })\n        .resumeTrnsn()\n        // Animate it\n        .css({ opacity: 0, height: 0 })\n        .wait(1000, function() {\n            tag.addClass(&apos;hidden&apos;);\n        });\n    }\n});\n\nThis code begins by checking on #box and whether it&apos;s currently hidden, by checking on its class. But it accomplishes more using the wait() library call, by adding the hidden class at the end of the slideout/fade animation, which you&apos;d expect to find if it is in fact hidden - something the above simpler example could not do. This happens to also enable display/hiding the element over and over, which was a bug in the previous example, because the hidden class was never restored.\nYou can also see CSS and class changes being called after .noTrnsn() to generally set the stage for animations, including taking measurements, like measuring what will be the final height of #box without showing that to the user, before calling .resumeTrnsn(), and animating it from that fully-set stage to its goal CSS values.\nOld Answer\nhttps://jsfiddle.net/b9chris/hweyecu4/1/\nYou can have it transition on click with:\nfunction toggleTransition() {\n  var el = $(&quot;div.box1&quot;);\n\n  if (el.length) {\n    el[0].className = &quot;box&quot;;\n    el.stop().css({maxWidth: 10000}).animate({maxWidth: 10001}, 2000, function() {\n        el[0].className = &quot;box hidden&quot;;\n    });\n  } else {\n    el = $(&quot;div.box&quot;);\n    el[0].className = &quot;box&quot;;\n    el.stop().css({maxWidth: 10001}).animate({maxWidth: 10000}, 50, function() {\n        el[0].className = &quot;box box1&quot;;\n    });\n  }\n\n  return el;\n}\n\nsomeTag.click(toggleTransition);\n\nThe CSS is what you&apos;d guess:\n.hidden {\n    display: none;\n}\n.box {\n    width: 100px;\n    height: 100px;\n    background-color: blue;\n    color: yellow;\n    font-size: 18px;\n    left: 20px;\n    top: 20px;\n    position: absolute;\n    -webkit-transform-origin: 0 50%;\n    transform-origin: 0 50%;\n    -webkit-transform: scale(.2);\n    transform: scale(.2);\n    -webkit-transition: transform 2s;\n    transition: transform 2s;\n}\n.box1{\n    -webkit-transform: scale(1);\n    transform: scale(1);\n}\n\nThe key is throttling the display property. By removing the hidden class and then waiting 50 ms, then starting the transition via the added class, we get it to appear and then expand like we wanted, instead of it just blipping onto the screen without any animation. Similar occurs going the other way, except we wait till the animation is over before applying hidden.\nNote: I&apos;m abusing .animate(maxWidth) here to avoid setTimeout race conditions. setTimeout is quick to introduce hidden bugs when you or someone else picks up code unaware of it. .animate() can easily be killed with .stop(). I&apos;m just using it to put a 50 ms or 2000 ms delay on the standard fx queue where it&apos;s easy to find/resolve by other coders building on top of this.\n    ","url":"/questions/[slug]#solution23","@type":"Answer","upvoteCount":0},{"text":"Well another way to apply transition in this situation without using keyframes is to set the width of your element to zero and then unset it on hover\n.className{\n  visibility:hidden;\n  opacity: 0;\n  transition: .2s;\n  width:0;\n}\n\n.className:hover{\n  visibility:visible;\n  margin-right: .5rem;\n  opacity: 1;\n  width:unset;\n}\n\n    ","url":"/questions/[slug]#solution24","@type":"Answer","upvoteCount":0},{"text":"I had a similar issue that I couldn&apos;t find the answer to. A few Google searches later led me here. Considering I didn&apos;t find the simple answer I was hoping for, I stumbled upon a solution that is both elegant and effective.\n\nIt turns out the visibility CSS property has a value collapse which is generally used for table items. However, if used on any other elements it effectively renders them as hidden, pretty much the same as display: hidden but with the added ability that the element doesn&apos;t take up any space and you can still animate the element in question.\n\nBelow is a simple example of this in action.\n\n\n\nfunction toggleVisibility() {\n  let exampleElement = document.querySelector(&apos;span&apos;);\n  if (exampleElement.classList.contains(&apos;visible&apos;)) {\n    return;\n  }\n  exampleElement.innerHTML = &apos;I will not take up space!&apos;;\n  exampleElement.classList.toggle(&apos;hidden&apos;);\n  exampleElement.classList.toggle(&apos;visible&apos;);\n  setTimeout(() =&gt; {\n    exampleElement.classList.toggle(&apos;visible&apos;);\n    exampleElement.classList.toggle(&apos;hidden&apos;);\n  }, 3000);\n}\n#main {\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n  text-align: center;\n}\n\n.hidden {\n  visibility: collapse;\n  opacity: 0;\n  transition: visibility 2s, opacity 2s linear;\n}\n\n.visible {\n  visibility: visible;\n  opacity: 1;\n  transition: visibility 0.5s, opacity 0.5s linear;\n}\n&lt;div id=&quot;main&quot;&gt;\n  &lt;button onclick=&quot;toggleVisibility()&quot;&gt;Click Me!&lt;/button&gt;\n  &lt;span class=&quot;hidden&quot;&gt;&lt;/span&gt;\n  &lt;span&gt;I will get pushed back up...&lt;/span&gt;\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution25","@type":"Answer","upvoteCount":0},{"text":"The simplest universal solution to the problem is: feel free to specify display:none in your CSS, however you will have change it to block (or whatever else) using JavaScript, and then you&apos;ll also have to add a class to your element in question that actually does the transition with setTimeout(). That&apos;s all.\n\nI.e.:\n\n&lt;style&gt;\n    #el {\n        display: none;\n        opacity: 0;\n    }\n    #el.auto-fade-in {\n        opacity: 1;\n        transition: all 1s ease-out; /* Future, future, please come sooner! */\n        -webkit-transition: all 1s ease-out;\n        -moz-transition: all 1s ease-out;\n        -o-transition: all 1s ease-out;\n    }\n&lt;/style&gt;\n\n&lt;div id=el&gt;Well, well, well&lt;/div&gt;\n\n&lt;script&gt;\n    var el = document.getElementById(&apos;el&apos;);\n    el.style.display = &apos;block&apos;;\n    setTimeout(function () { el.className = &apos;auto-fade-in&apos; }, 0);\n&lt;/script&gt;\n\n\nThis was tested in the latest sane browsers. Obviously it shouldn&apos;t work in Internet Explorer 9 or earlier.\n    ","url":"/questions/[slug]#solution26","@type":"Answer","upvoteCount":0},{"text":"I think SalmanPK has the closest answer. It does fade an item in or out, with the following CSS animations. However, the display property does not animate smoothly, only the opacity.\n\n@-webkit-keyframes fadeIn {\n    from { opacity: 0; }\n      to { opacity: 1; }\n}\n\n@-webkit-keyframes fadeOut {\n    from { opacity: 1; }\n      to { opacity: 0; }\n}\n\n\nIf you want to animate the element moving from display block to display none, I can&apos;t see that it is currently possible just with CSS. You have to get the height and use a CSS animation to decrease the height. This is possible with CSS as shown in the example below, but it would be tricky to know the exact height values you need to animate for an element.\n\njsFiddle example\n\nCSS\n\n@-webkit-keyframes pushDown {\n  0% {\n    height: 10em;\n  }\n  25% {\n    height: 7.5em;\n  }\n  50% {\n    height: 5em;\n  }\n  75% {\n    height: 2.5em;\n  }\n  100% {\n    height: 0em;\n  }\n}\n\n.push-down {\n    -webkit-animation: pushDown 2s forwards linear;\n}\n\n\nJavaScript\n\nvar element = document.getElementById(&quot;element&quot;);\n\n// Push item down\nelement.className = element.className + &quot; push-down&quot;;\n\n    ","url":"/questions/[slug]#solution27","@type":"Answer","upvoteCount":0},{"text":"This solution has excellent compatibility, and I haven&apos;t seen it yet:\n\n.hidden-element {\n  position: absolute;\n  z-index: -1;\n  pointer-events: none;\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 0s, opacity .5s ease-out;\n}\n\n.hidden-element.visible {\n  position: static;\n  z-index: auto;\n  pointer-events: auto;\n  visibility: visible;\n  opacity: 1;\n}\n\n\nExplanation: it uses the visibility: hidden trick (which is compatible with show-and-animate in one step), but it uses the combination position: absolute; z-index: -1; pointer-events: none; to make sure that the hidden container does not take space and does not answer to user interactions.\n    ","url":"/questions/[slug]#solution28","@type":"Answer","upvoteCount":0},{"text":"You can do this with transition events, so you build two CSS classes for the transition, one holding the animation other, holding the display none state. And you switch them after the animation is ended? In my case I can display the divs again if I press a button, and remove both classes.\n\nTry the snippet below...\n\n\n\n$(document).ready(function() {\n  // Assign transition event\n  $(&quot;table&quot;).on(&quot;animationend webkitAnimationEnd&quot;, &quot;.visibility_switch_off&quot;, function(event) {\n    // We check if this is the same animation we want\n    if (event.originalEvent.animationName == &quot;col_hide_anim&quot;) {\n      // After the animation we assign this new class that basically hides the elements.\n      $(this).addClass(&quot;animation-helper-display-none&quot;);\n    }\n\n  });\n\n  $(&quot;button&quot;).click(function(event) {\n\n    $(&quot;table tr .hide-col&quot;).toggleClass(function() {\n      // We switch the animation class in a toggle fashion...\n      // and we know in that after the animation end, there\n      // is will the animation-helper-display-none extra\n      // class, that we nee to remove, when we want to\n      // show the elements again, depending on the toggle\n      // state, so we create a relation between them.\n      if ($(this).is(&quot;.animation-helper-display-none&quot;)) {\n        // I&apos;m toggling and there is already the above class, then\n        // what we want it to show the elements , so we remove\n        // both classes...\n        return &quot;visibility_switch_off animation-helper-display-none&quot;;\n      }\n      else {\n        // Here we just want to hide the elements, so we just\n        // add the animation class, the other will be added\n        // later be the animationend event...\n        return &quot;visibility_switch_off&quot;;\n      }\n    });\n  });\n});\ntable th {\n  background-color: grey;\n}\n\ntable td {\n  background-color: white;\n  padding: 5px;\n}\n\n.animation-helper-display-none {\n  display: none;\n}\n\ntable tr .visibility_switch_off {\n  animation-fill-mode: forwards;\n  animation-name: col_hide_anim;\n  animation-duration: 1s;\n}\n\n@-webkit-keyframes col_hide_anim {\n  0% {opacity: 1;}\n  100% {opacity: 0;}\n}\n\n@-moz-keyframes col_hide_anim {\n  0% {opacity: 1;}\n  100% {opacity: 0;}\n}\n\n@-o-keyframes col_hide_anim {\n  0% {opacity: 1;}\n  100% {opacity: 0;}\n}\n\n@keyframes col_hide_anim {\n  0%   {opacity: 1;}\n  100% {opacity: 0;}\n}\n&lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;table&gt;\n  &lt;theader&gt;\n    &lt;tr&gt;\n      &lt;th&gt;Name&lt;/th&gt;\n      &lt;th class=&apos;hide-col&apos;&gt;Age&lt;/th&gt;\n      &lt;th&gt;Country&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/theader&gt;\n  &lt;tbody&gt;\n    &lt;tr&gt;\n      &lt;td&gt;Name&lt;/td&gt;\n      &lt;td class=&apos;hide-col&apos;&gt;Age&lt;/td&gt;\n      &lt;td&gt;Country&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n\n&lt;button&gt;Switch - Hide Age column with fadeout animation and display none after&lt;/button&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution29","@type":"Answer","upvoteCount":0},{"text":"Instead of using display you could store the element &apos;off-screen&apos; until you needed it, and then set its position to where you want it and transform it at the same time. This brings up a whole host of other design issues though, so your mileage may vary.\n\nYou probably wouldn&apos;t want to use display anyway, as you&apos;d want the content to be accessible to screen readers, which for the most part try to obey rules for visibility - i.e., if it shouldn&apos;t be visible to the eye, it won&apos;t show up as content to the agent.\n    ","url":"/questions/[slug]#solution30","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08d1a634dea6705e.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/150-b06815e21c943e0d.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/108-87de33c23337ff53.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-79a1437acf654019.js" defer=""></script><script src="/_next/static/Zo3C7AOWQzKM9qqyzx2hf/_buildManifest.js" defer=""></script><script src="/_next/static/Zo3C7AOWQzKM9qqyzx2hf/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/transitions-on-the-css-display-property-1657387761601#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/transitions-on-the-css-display-property-1657387761601"><h1>Transitions on the CSS display property</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/css-transitions">css-transitions</a></div></div><div class="question-content mt-5">
                
<p>I'm currently designing a CSS 'mega dropdown' menu - basically a regular CSS-only dropdown menu, but one that contains different types of content.</p>

<p>At the moment, <strong>it appears that CSS&nbsp;3 transitions don't apply to the 'display' property</strong>, i.e., you can't do any sort of transition from <code>display: none</code> to <code>display: block</code> (or any combination).</p>

<p>Is there a way for the second-tier menu from the above example to 'fade in' when someone hovers over one of the top level menu items?</p>

<p>I'm aware that you can use transitions on the <code>visibility:</code> property, but I can't think of a way to use that effectively.</p>

<p>I've also tried using height, but that just failed miserably.</p>

<p>I'm also aware that it's trivial to achieve this using JavaScript, but I wanted to challenge myself to use just CSS, and I think I'm coming up a little short.</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li><li class="pagination-solution-item"><span data-id="#solution17" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">17</span></li><li class="pagination-solution-item"><span data-id="#solution18" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">18</span></li><li class="pagination-solution-item"><span data-id="#solution19" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">19</span></li><li class="pagination-solution-item"><span data-id="#solution20" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">20</span></li><li class="pagination-solution-item"><span data-id="#solution21" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">21</span></li><li class="pagination-solution-item"><span data-id="#solution22" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">22</span></li><li class="pagination-solution-item"><span data-id="#solution23" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">23</span></li><li class="pagination-solution-item"><span data-id="#solution24" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">24</span></li><li class="pagination-solution-item"><span data-id="#solution25" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">25</span></li><li class="pagination-solution-item"><span data-id="#solution26" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">26</span></li><li class="pagination-solution-item"><span data-id="#solution27" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">27</span></li><li class="pagination-solution-item"><span data-id="#solution28" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">28</span></li><li class="pagination-solution-item"><span data-id="#solution29" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">29</span></li><li class="pagination-solution-item"><span data-id="#solution30" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">30</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can concatenate two transitions or more, and <code>visibility</code> is what comes handy this time.</p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">div</span> {
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>;
}
<span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-tag">ul</span> {
  <span class="hljs-attribute">visibility</span>: hidden;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">transition</span>: visibility <span class="hljs-number">0s</span>, opacity <span class="hljs-number">0.5s</span> linear;
}
<span class="hljs-selector-tag">div</span><span class="hljs-selector-pseudo">:hover</span> &gt; <span class="hljs-selector-tag">ul</span> {
  <span class="hljs-attribute">visibility</span>: visible;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Item 1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Item 2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Item 3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif1" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>

<p>(Don't forget the vendor prefixes to the <code>transition</code> property.)</p>

<p>More details are in <a href="http://www.greywyvern.com/?post=337" rel="noreferrer">this article</a>.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You need to hide the element by other means in order to get this to work.</p>

<p>I accomplished the effect by positioning both <code>&lt;div&gt;</code>s absolutely and setting the hidden one to <code>opacity: 0</code>.</p>

<p><strong>If you even toggle the <code>display</code> property from <code>none</code> to <code>block</code>, your transition on other elements will not occur.</strong></p>

<p>To work around this, always allow the element to be <code>display: block</code>, but hide the element by adjusting any of these means:</p>

<ol>
<li>Set the <code>height</code> to <code>0</code>.</li>
<li>Set the <code>opacity</code> to <code>0</code>.</li>
<li>Position the element outside of the frame of another element that has <code>overflow: hidden</code>.</li>
</ol>

<p>There are likely more solutions, but you cannot perform a transition if you toggle the element to <code>display: none</code>. For example, you may attempt to try something like this:</p>

<pre class="lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">div</span> {
    <span class="hljs-attribute">display</span>: none;
    <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1s</span> ease-out;
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
}
<span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.active</span> {
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">display</span>: block;
}
</code></pre>

<p>But that will <strong>not</strong> work. From my experience, I have found this to do nothing.</p>

<p>Because of this, you will always need to keep the element <code>display: block</code> - but you could get around it by doing something like this:</p>

<pre class="lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">div</span> {
    <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1s</span> ease-out;
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">overflow</span>: hidden;
}
<span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.active</span> {
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">height</span>: auto;
}
</code></pre>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>At the time of this post all major browsers disable CSS transitions if you try to change the <code>display</code> property, but CSS animations still work fine so we can use them as a workaround.</p>

<p><strong>Example Code</strong> (you can apply it to your menu accordingly) <a href="http://cssdesk.com/7WPCT" rel="noreferrer">Demo</a>:</p>

<p>Add the following CSS to your stylesheet:</p>

<pre class="lang-css s-code-block"><code class="hljs language-css"><span class="hljs-keyword">@-webkit-keyframes</span> fadeIn {
    <span class="hljs-selector-tag">from</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>; }
      <span class="hljs-selector-tag">to</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>; }
}
<span class="hljs-keyword">@keyframes</span> fadeIn {
    <span class="hljs-selector-tag">from</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>; }
      <span class="hljs-selector-tag">to</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>; }
}
</code></pre>

<p>Then apply the <code>fadeIn</code> animation to the child on parent hover (and of course set <code>display: block</code>):</p>

<pre class="lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.parent</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-class">.child</span> {
    <span class="hljs-attribute">display</span>: block;
    -webkit-<span class="hljs-attribute">animation</span>: fadeIn <span class="hljs-number">1s</span>;
    <span class="hljs-attribute">animation</span>: fadeIn <span class="hljs-number">1s</span>;
}
</code></pre>

<hr>

<h1>Update 2019 - Method that also supports fading out:</h1>

<p>(Some JavaScript code is required)</p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-comment">// We need to keep track of faded in elements so we can apply fade out later in CSS</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'animationstart'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
  <span class="hljs-keyword">if</span> (e.<span class="hljs-property">animationName</span> === <span class="hljs-string">'fade-in'</span>) {
      e.<span class="hljs-property">target</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'did-fade-in'</span>);
  }
});

<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'animationend'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
  <span class="hljs-keyword">if</span> (e.<span class="hljs-property">animationName</span> === <span class="hljs-string">'fade-out'</span>) {
      e.<span class="hljs-property">target</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">'did-fade-in'</span>);
   }
});</code></pre>
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">div</span> {
    <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
}

<span class="hljs-selector-tag">div</span><span class="hljs-selector-pseudo">:hover</span> {
    <span class="hljs-attribute">border-color</span>: red;
}

<span class="hljs-selector-class">.parent</span> <span class="hljs-selector-class">.child</span> {
  <span class="hljs-attribute">display</span>: none;
}

<span class="hljs-selector-class">.parent</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-class">.child</span> {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">animation</span>: fade-in <span class="hljs-number">1s</span>;
}

<span class="hljs-selector-class">.parent</span><span class="hljs-selector-pseudo">:not</span>(<span class="hljs-selector-pseudo">:hover</span>) <span class="hljs-selector-class">.child</span><span class="hljs-selector-class">.did-fade-in</span> {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">animation</span>: fade-out <span class="hljs-number">1s</span>;
}

<span class="hljs-keyword">@keyframes</span> fade-in {
  <span class="hljs-selector-tag">from</span> {
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  }
  <span class="hljs-selector-tag">to</span> {
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
  }
}

<span class="hljs-keyword">@keyframes</span> fade-out {
  <span class="hljs-selector-tag">from</span> {
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
  }
  <span class="hljs-selector-tag">to</span> {
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  }
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span>
    Parent
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span>&gt;</span>
        Child
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif2" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Instead of callbacks, which don't exist in CSS, we can use <code>transition-delay</code> property.</p>
<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#selector</span> {
    <span class="hljs-attribute">overflow</span>: hidden;  <span class="hljs-comment">/* Hide the element content, while height = 0 */</span>
    <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">transition</span>: height <span class="hljs-number">0ms</span> <span class="hljs-number">400ms</span>, opacity <span class="hljs-number">400ms</span> <span class="hljs-number">0ms</span>;
}
<span class="hljs-selector-id">#selector</span><span class="hljs-selector-class">.visible</span> {
    <span class="hljs-attribute">height</span>: auto; <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">transition</span>: height <span class="hljs-number">0ms</span> <span class="hljs-number">0ms</span>, opacity <span class="hljs-number">600ms</span> <span class="hljs-number">0ms</span>;
}
</code></pre>

<p>So, what's going on here?</p>
<ol>
<li><p>When <code>visible</code> class is added, both <code>height</code> and <code>opacity</code> start animation without delay (0&nbsp;ms), though <code>height</code> takes 0&nbsp;ms to complete animation (equivalent of <code>display: block</code>) and <code>opacity</code> takes 600&nbsp;ms.</p>
</li>
<li><p>When <code>visible</code> class is removed, <code>opacity</code> starts animation (0&nbsp;ms delay, 400&nbsp;ms duration), and height waits 400&nbsp;ms and only then instantly (0&nbsp;ms) restores initial value (equivalent of <code>display: none</code> in the animation callback).</p>
</li>
</ol>
<p>Note, this approach is better than ones using <code>visibility</code>. In such cases, the element still occupies the space on the page, and it's not always suitable.</p>
<p>For more examples please refer to <a href="https://medium.com/@joethedave/achieving-ui-animations-with-react-the-right-way-562fa8a91935" rel="noreferrer">this article</a>.</p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I suspect that the <em>reason</em> that transitions are disabled if <code>display</code> is changed is because of what display actually does. It does <em>not</em> change anything that could conceivably be smoothly animated.</p>

<p><code>display: none;</code> and <code>visibility: hidden;</code> are two <em>entirely</em> different things.<br>
Both do have the effect of making the element invisible, but with <code>visibility: hidden;</code> its still rendered in the layout, but just not <em>visibly</em> so.<br>
The hidden element still takes up space, and is still rendered inline or as a block or block-inline or table or whatever the <code>display</code> element tells it to render as, and takes up space accordingly.<br>
Other elements do <em>not</em> automatically move to occupy that space. The hidden element just doesnt render its actual pixels to the output.</p>

<p><code>display: none</code> on the other hand actually <em>prevents</em> the element from rendering <em>entirely</em>.<br>
It does not take up <em>any</em> layout space.<br>
Other elements that wouldve occupied some or all of the space taken up by this element now adjust to occupy that space, as if the element simply <em>did not exist at all</em>.</p>

<p><code>display</code> is not just another visual attribute.<br>
It establishes the entire rendering mode of the element, such as whether its a <code>block</code>, <code>inline</code>, <code>inline-block</code>, <code>table</code>, <code>table-row</code>, <code>table-cell</code>, <code>list-item</code>, or whatever!<br>
Each of those have very different layout ramifications, and there would be no reasonable way to animate or smoothly transition them (try to imagine a smooth transition from <code>block</code> to <code>inline</code> or vice-versa, for instance!).</p>

<p>This is why transitions are disabled if display changes (even if the change is to or from <code>none</code>  <code>none</code> isnt merely invisibility, its its own element rendering mode that means no rendering at all!).</p>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><code>display</code> is not one of the properties that transition works upon.</p>

<p>See <em><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_animated_properties" rel="noreferrer">Animatable CSS properties</a></em> for the list of CSS properties that can have transitions applied to them. See <em><a href="https://drafts.csswg.org/css-values-4/#combining-values" rel="noreferrer">CSS Values and Units Module Level 4, Combining Values: Interpolation, Addition, and Accumulation</a></em> for how they are interpolated.</p>

<p>Up to CSS&nbsp;3 was listed in <em><a href="https://www.w3.org/TR/2017/WD-css-transitions-1-20171130/#animatable-css" rel="noreferrer">9.1. Properties from CSS</a></em> (just close the warning popup)</p>

<blockquote>
  <p>I've also tried using height, but that just failed miserably.</p>
</blockquote>

<p>Last time I had to do this, I used <code>max-height</code> instead, which is an animatable property (although it was a bit of a hack, it did work), but beware that it may be very janky for complex pages or users with low-end mobile devices.</p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I found better way for this issue, you can use CSS Animation and make your awesome effect for showing items.</p>
<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.item</span> {
     <span class="hljs-attribute">display</span>: none;
}

<span class="hljs-selector-class">.item</span><span class="hljs-selector-pseudo">:hover</span> {
     <span class="hljs-attribute">display</span>: block;
     <span class="hljs-attribute">animation</span>: fade_in_show <span class="hljs-number">0.5s</span>
}

<span class="hljs-keyword">@keyframes</span> fade_in_show {
     <span class="hljs-number">0%</span> {
          <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
          <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0</span>)
     }

     <span class="hljs-number">100%</span> {
          <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
          <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">1</span>)
     }
}
</code></pre>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can add a custom animation to the block property now.</p>

<pre class="lang-css s-code-block"><code class="hljs language-css"><span class="hljs-keyword">@keyframes</span> showNav {
  <span class="hljs-selector-tag">from</span> {<span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;}
  <span class="hljs-selector-tag">to</span> {<span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;}
}
<span class="hljs-selector-class">.subnav-is-opened</span> <span class="hljs-selector-class">.main-nav__secondary-nav</span> {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">animation</span>: showNav <span class="hljs-number">250ms</span> ease-in-out both;
}
</code></pre>

<p><a href="https://developers.google.com/web/fundamentals/" rel="noreferrer">Demo</a></p>

<p>In this demo the sub-menu changes from <code>display:none</code> to <code>display:block</code> and still manages to fade.</p>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>According to <a href="http://www.w3.org/TR/css3-transitions/#animatable-properties" rel="noreferrer">W3C Working Draft 19 November 2013</a> <code>display</code> is not an <em>animatable property</em>. Fortunately, <code>visibility</code> is animatable. You may chain its transition with a transition of opacity (<a href="http://jsfiddle.net/feklee/6UkVH/" rel="noreferrer">JSFiddle</a>):</p>

<ul>
<li><p>HTML:</p>

<pre class="default s-code-block"><code class="hljs language-bash">&lt;a href=<span class="hljs-string">"http://example.com"</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">"foo"</span>&gt;Foo&lt;/a&gt;
&lt;button <span class="hljs-built_in">id</span>=<span class="hljs-string">"hide-button"</span>&gt;Hide&lt;/button&gt;
&lt;button <span class="hljs-built_in">id</span>=<span class="hljs-string">"show-button"</span>&gt;Show&lt;/button&gt;
</code></pre></li>
<li><p>CSS:</p>

<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#foo</span> {
    <span class="hljs-attribute">transition-property</span>: visibility, opacity;
    <span class="hljs-attribute">transition-duration</span>: <span class="hljs-number">0s</span>, <span class="hljs-number">1s</span>;
}

<span class="hljs-selector-id">#foo</span><span class="hljs-selector-class">.hidden</span> {
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">visibility</span>: hidden;
    <span class="hljs-attribute">transition-property</span>: opacity, visibility;
    <span class="hljs-attribute">transition-duration</span>: <span class="hljs-number">1s</span>, <span class="hljs-number">0s</span>;
    <span class="hljs-attribute">transition-delay</span>: <span class="hljs-number">0s</span>, <span class="hljs-number">1s</span>;
}
</code></pre></li>
<li><p>JavaScript for testing:</p>

<pre class="default s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> foo = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'foo'</span>);

<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'hide-button'</span>).<span class="hljs-property">onclick</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    foo.<span class="hljs-property">className</span> = <span class="hljs-string">'hidden'</span>;
};

<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'show-button'</span>).<span class="hljs-property">onclick</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    foo.<span class="hljs-property">className</span> = <span class="hljs-string">''</span>;
};
</code></pre></li>
</ul>

<p>Note that if you just make the link transparent, without setting <code>visibility: hidden</code>, then it would stay clickable.</p>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Edit: display none is not being applied in this example.</p>

<pre class="default s-code-block"><code class="hljs language-scss"><span class="hljs-keyword">@keyframes</span> hide {
  <span class="hljs-number">0%</span> {
    <span class="hljs-attribute">display</span>: block;
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
  }
  <span class="hljs-number">99%</span> {
    <span class="hljs-attribute">display</span>: block;
  }
  <span class="hljs-number">100%</span> {
    <span class="hljs-attribute">display</span>: none;
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  }
}
</code></pre>

<p>What's happening above is that through 99% of the animation display is set to block while the opacity fades out. In the last moment display property is set to none.</p>

<p>And the most important bit is to retain the last frame after the animation ends using animation-fill-mode: forwards</p>

<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.hide</span> {
   <span class="hljs-attribute">animation</span>: hide <span class="hljs-number">1s</span> linear;
   <span class="hljs-attribute">animation-fill-mode</span>: forwards;
}
</code></pre>

<p>Here are two examples: <a href="https://jsfiddle.net/qwnz9tqg/3/" rel="noreferrer">https://jsfiddle.net/qwnz9tqg/3/</a></p>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 11</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>My neat JavaScript trick is <strong>to separate the entire scenario into two different functions</strong>!</p>

<p>To prepare things, one global variable is declared and one event handler is defined:</p>

<pre class="default s-code-block"><code class="hljs language-csharp">  <span class="hljs-keyword">var</span> tTimeout;
  element.addEventListener(<span class="hljs-string">"transitionend"</span>, afterTransition, <span class="hljs-literal">true</span>);<span class="hljs-comment">//firefox</span>
  element.addEventListener(<span class="hljs-string">"webkitTransitionEnd"</span>, afterTransition, <span class="hljs-literal">true</span>);<span class="hljs-comment">//chrome</span>
</code></pre>

<p>Then, when hiding element, I use something like this: </p>

<pre class="default s-code-block"><code class="hljs language-csharp"><span class="hljs-function">function <span class="hljs-title">hide</span>()</span>{
  element.style.opacity = <span class="hljs-number">0</span>;
}

<span class="hljs-function">function <span class="hljs-title">afterTransition</span>()</span>{
  element.style.display = <span class="hljs-string">'none'</span>;
}
</code></pre>

<p>For reappearing the element, I am doing something like this:</p>

<pre class="default s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">show</span>(<span class="hljs-params"></span>){
  element.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'block'</span>;
  tTimeout = <span class="hljs-built_in">setTimeout</span>(timeoutShow, <span class="hljs-number">100</span>);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">timeoutShow</span>(<span class="hljs-params"></span>){
  element.<span class="hljs-property">style</span>.<span class="hljs-property">opacity</span> = <span class="hljs-number">1</span>;
}
</code></pre>

<p>It works, so far!</p>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 12</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Fade it in with <a href="https://www.w3schools.com/css/css3_animations.asp" rel="noreferrer">CSS Animations</a>:</p>
<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.item</span> {
     <span class="hljs-attribute">display</span>: none;
}

<span class="hljs-selector-class">.item</span><span class="hljs-selector-pseudo">:hover</span> {
     <span class="hljs-attribute">display</span>: block;
     <span class="hljs-attribute">animation</span>: fadeIn <span class="hljs-number">0.5s</span>;
}

<span class="hljs-keyword">@keyframes</span> fadeIn {
     <span class="hljs-selector-tag">from</span> {
          <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
     }

     <span class="hljs-selector-tag">to</span> {
          <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
     }
}
</code></pre>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 13</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I ran into this today, with a <code>position: fixed</code> modal that I was reusing. I couldn't keep it <code>display: none</code> and then animate it, as it just jumped into appearance, and and <code>z-index</code> (negative values, etc) did weird things as well.</p>

<p>I was also using a <code>height: 0</code> to <code>height: 100%</code>, but it only worked when the modal appeared. This is the same as if you used <code>left: -100%</code> or something.</p>

<p>Then it struck me that there was a simple answer. Et voila:</p>

<p><strong>First,</strong> your hidden modal. Notice the <code>height</code> is <code>0</code>, and check out the <code>height</code> declaration in transitions... it has a <code>500ms</code>, <em>which is longer than my <code>opacity</code> transition</em>. Remember, this affects the out-going fade-out transition: returning the modal to its default state.</p>

<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#modal-overlay</span> {
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#999</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">33</span>,<span class="hljs-number">33</span>,<span class="hljs-number">33</span>,.<span class="hljs-number">2</span>);
    <span class="hljs-attribute">display</span>: block;
    <span class="hljs-attribute">overflow</span>: hidden;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">position</span>: fixed;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1</span>;
    -webkit-<span class="hljs-attribute">transition</span>: height <span class="hljs-number">0s</span> <span class="hljs-number">500ms</span>, opacity <span class="hljs-number">300ms</span> ease-in-out;
       -moz-<span class="hljs-attribute">transition</span>: height <span class="hljs-number">0s</span> <span class="hljs-number">500ms</span>, opacity <span class="hljs-number">300ms</span> ease-in-out;
            -ms-<span class="hljs-attribute">transition</span>: height <span class="hljs-number">0s</span> <span class="hljs-number">500ms</span>, opacity <span class="hljs-number">300ms</span> ease-in-out;
         -o-<span class="hljs-attribute">transition</span>: height <span class="hljs-number">0s</span> <span class="hljs-number">500ms</span>, opacity <span class="hljs-number">300ms</span> ease-in-out;
        <span class="hljs-attribute">transition</span>: height <span class="hljs-number">0s</span> <span class="hljs-number">500ms</span>, opacity <span class="hljs-number">300ms</span> ease-in-out;
}
</code></pre>

<p><strong>Second,</strong> your visible modal. Say you're setting a <code>.modal-active</code> to the <code>body</code>. Now the <code>height</code> is <code>100%</code>, and my transition has also changed. I want the <code>height</code> to be instantly changed, and the <code>opacity</code> to take <code>300ms</code>.</p>

<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.modal-active</span> <span class="hljs-selector-id">#modal-overlay</span> {
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">z-index</span>: <span class="hljs-number">90000</span>;
    -webkit-<span class="hljs-attribute">transition</span>: height <span class="hljs-number">0s</span>, opacity <span class="hljs-number">300ms</span> ease-in-out;
       -moz-<span class="hljs-attribute">transition</span>: height <span class="hljs-number">0s</span>, opacity <span class="hljs-number">300ms</span> ease-in-out;
        -ms-<span class="hljs-attribute">transition</span>: height <span class="hljs-number">0s</span>, opacity <span class="hljs-number">300ms</span> ease-in-out;
         -o-<span class="hljs-attribute">transition</span>: height <span class="hljs-number">0s</span>, opacity <span class="hljs-number">300ms</span> ease-in-out;
            <span class="hljs-attribute">transition</span>: height <span class="hljs-number">0s</span>, opacity <span class="hljs-number">300ms</span> ease-in-out;
}
</code></pre>

<p>That's it, it works like a charm.</p>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 14</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Taking from a few of these answers and some suggestions elsewhere, the following works great for hover menus (I'm using this with <a href="https://en.wikipedia.org/wiki/Bootstrap_%28front-end_framework%29" rel="nofollow noreferrer">Bootstrap</a>&nbsp;3, specifically):</p>

<pre class="lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">nav</span> <span class="hljs-selector-class">.dropdown-menu</span> {
    <span class="hljs-attribute">display</span>: block;
    <span class="hljs-attribute">overflow</span>: hidden;
    <span class="hljs-attribute">max-height</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">transition</span>: max-height <span class="hljs-number">500ms</span>, opacity <span class="hljs-number">300ms</span>;
    -webkit-<span class="hljs-attribute">transition</span>: max-height <span class="hljs-number">500ms</span>, opacity <span class="hljs-number">300ms</span>;
}
<span class="hljs-selector-tag">nav</span> <span class="hljs-selector-class">.dropdown</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-class">.dropdown-menu</span> {
    <span class="hljs-attribute">max-height</span>: <span class="hljs-number">500px</span>;
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">transition</span>: max-height <span class="hljs-number">0</span>, opacity <span class="hljs-number">300ms</span>;
    -webkit-<span class="hljs-attribute">transition</span>: max-height <span class="hljs-number">0</span>, opacity <span class="hljs-number">300ms</span>;
}
</code></pre>

<p>You could also use <code>height</code> in place of <code>max-height</code> if you specify both values since <code>height:auto</code> is not allowed with <code>transition</code>s. The hover value of <code>max-height</code> needs to be greater than the <code>height</code> of the menu can possibly be.</p>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 15</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I've came across this issue multiple times and now simply went with:</p>

<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.block</span> {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">250ms</span> ease;
}

<span class="hljs-selector-class">.block--invisible</span> {
  <span class="hljs-attribute">pointer-events</span>: none;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
}
</code></pre>

<p>By adding the class <code>block--invisible</code> the whole Elements will not be clickable but all Elements behind it will be because of the <code>pointer-events:none</code> which is supported by all major browsers (no IE &lt; 11).</p>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 16</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Change <code>overflow:hidden</code> to <code>overflow:visible</code>. It works better. I use like this:</p>

<pre class="lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#menu</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">ul</span> {
    <span class="hljs-attribute">background-color</span>:<span class="hljs-number">#fe1c1c</span>;
    <span class="hljs-attribute">width</span>:<span class="hljs-number">85px</span>;
    <span class="hljs-attribute">height</span>:<span class="hljs-number">0px</span>;
    <span class="hljs-attribute">opacity</span>:<span class="hljs-number">0</span>;
    <span class="hljs-attribute">box-shadow</span>:<span class="hljs-number">1px</span> <span class="hljs-number">3px</span> <span class="hljs-number">10px</span> <span class="hljs-number">#000000</span>;
    <span class="hljs-attribute">border-radius</span>:<span class="hljs-number">3px</span>;
    <span class="hljs-attribute">z-index</span>:<span class="hljs-number">1</span>;
    -webkit-<span class="hljs-attribute">transition</span>:all <span class="hljs-number">0.5s</span> ease;
    -moz-<span class="hljs-attribute">transition</span>:all <span class="hljs-number">0.6s</span> ease;
}

<span class="hljs-selector-id">#menu</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-tag">ul</span>  {
    <span class="hljs-attribute">overflow</span>:visible;
    <span class="hljs-attribute">opacity</span>:<span class="hljs-number">1</span>;
    <span class="hljs-attribute">height</span>:<span class="hljs-number">140px</span>;
}
</code></pre>

<p><code>visible</code> is better because <code>overflow:hidden</code> act exactly like a <code>display:none</code>.</p>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 17</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>It is as simple as the following :)</p>

<pre class="default s-code-block"><code class="hljs language-scss"><span class="hljs-keyword">@keyframes</span> fadeout {
    <span class="hljs-number">0%</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>; <span class="hljs-attribute">height</span>: auto; }
    <span class="hljs-number">90%</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">height</span>: auto; }
    <span class="hljs-number">100%</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
}
<span class="hljs-attribute">animation</span>: fadeout linear <span class="hljs-number">0.5s</span> <span class="hljs-number">1</span> normal forwards <span class="hljs-meta">!important</span>;
</code></pre>

<p>Get it to fade away, and then make it <code>height 0;</code>. Also make sure to use forwards so that it stays in the final state.</p>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 18</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I appreciate all the answers. Here is what I'm using for similar purposes: transition vs animation.</p>
<p>Example: <a href="https://jsfiddle.net/grinevri/tcod87Le/22/" rel="noreferrer">https://jsfiddle.net/grinevri/tcod87Le/22/</a></p>
<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"animation"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"transition"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-keyword">@keyframes</span> animationTo {
  <span class="hljs-number">0%</span> { <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>); }
  <span class="hljs-number">100%</span> { <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>); }
}

<span class="hljs-keyword">@keyframes</span> animationFrom {
  <span class="hljs-number">0%</span> { <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>); }
  <span class="hljs-number">100%</span> { <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>); }
}

<span class="hljs-selector-class">.animation</span>,
<span class="hljs-selector-class">.transition</span>{
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">5px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>);
}

<span class="hljs-selector-class">.animation</span>{
  <span class="hljs-attribute">animation</span>: animationFrom <span class="hljs-number">250ms</span>;
}

<span class="hljs-selector-class">.animation</span><span class="hljs-selector-pseudo">:hover</span>{
  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>);
  <span class="hljs-attribute">animation</span>: animationTo <span class="hljs-number">250ms</span>;
}

<span class="hljs-selector-class">.transition</span>{
  <span class="hljs-attribute">transition</span>: background-color <span class="hljs-number">250ms</span>;
}

<span class="hljs-selector-class">.transition</span><span class="hljs-selector-pseudo">:hover</span>{
  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>);
}
</code></pre>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 19</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I finally found a solution for me, by combining <code>opacity</code> with <code>position absolute</code> (not to occupy space when hidden).</p>

<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.toggle</span> {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">0.8s</span>;
}

<span class="hljs-selector-class">.parent</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-class">.toggle</span> {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">position</span>: static;
}
</code></pre>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 20</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>JavaScript is not required, and no outrageously huge max-height is needed. Instead, set your <code>max-height</code> on your text elements, and use a font relative unit such as <code>rem</code> or <code>em</code>. This way, you can set a maximum height larger than your container, while avoiding a delay or "popping" when the menu closes:</p>

<p><strong>HTML</strong></p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Link 1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Link 1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Link 1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Link 1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
</code></pre>

<p><strong>CSS</strong></p>

<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">nav</span> <span class="hljs-selector-tag">input</span> + <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span> { // Notice <span class="hljs-selector-tag">I</span> set <span class="hljs-attribute">max-height</span> on <span class="hljs-selector-tag">li</span>, not <span class="hljs-selector-tag">ul</span>
   <span class="hljs-attribute">max-height</span>: <span class="hljs-number">0</span>;
}

<span class="hljs-selector-tag">nav</span> <span class="hljs-selector-tag">input</span><span class="hljs-selector-pseudo">:checked</span> + <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span> {
   <span class="hljs-attribute">max-height</span>: <span class="hljs-number">3rem</span>; // <span class="hljs-selector-tag">A</span> little bigger <span class="hljs-selector-tag">to</span> allow for text-wrapping - but not outrageous
}
</code></pre>

<p>See an example here:
<a href="http://codepen.io/mindfullsilence/pen/DtzjE" rel="nofollow noreferrer">http://codepen.io/mindfullsilence/pen/DtzjE</a></p>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 21</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>After the accepted answer from Guillermo was written, the CSS
transition specification of 2012-04-03 changed the behavior of the visibility transition and <strong>now it is possible to solve this problem in a shorter way</strong>, without the use of transition-delay:</p>

<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.myclass</span> &gt; <span class="hljs-selector-tag">div</span> {
                   <span class="hljs-attribute">transition</span>:visibility <span class="hljs-number">1s</span>, opacity <span class="hljs-number">1s</span>;
                   <span class="hljs-attribute">visibility</span>:hidden;  <span class="hljs-attribute">opacity</span>:<span class="hljs-number">0</span>
               }
<span class="hljs-selector-class">.myclass</span><span class="hljs-selector-pseudo">:hover</span> &gt; <span class="hljs-selector-tag">div</span>
               {   <span class="hljs-attribute">visibility</span>:visible; <span class="hljs-attribute">opacity</span>:<span class="hljs-number">1</span> }
</code></pre>

<p>The run time specified for both transitions should usually be
identical (although a slightly longer time for visibility is not a problem).</p>

<p>For a running version, see my blog post <em><a href="http://www.taccgl.org/blog/css-transition-visibility.html#visibility-opacity" rel="nofollow noreferrer">CSS Transition Visibility</a></em>.</p>

<p>W.r.t. the title of the question <em>"Transitions on the display: property"</em> and in response to comments from Rui Marques and josh to the accepted answer:</p>

<p>This solution works in cases <strong>where it is irrelevant if the display or
visibility property is used</strong> (as it probably was the case in this question).</p>

<p>It will not completely remove the element as <code>display:none</code>, just make it invisible, but it still stays in the document flow and influences the position of the following elements.</p>

<p>Transitions that completely remove the element similar to <code>display:none</code> can be done using height (as indicated by other answers and comments), max-height, or margin-top/bottom, but also see
<em><a href="https://stackoverflow.com/questions/3508605/css-transition-height-0-to-height-auto/">How can I transition height: 0; to height: auto; using CSS?</a></em> and my blog post <em><a href="https://www.taccgl.org/blog/css_transition_display.html" rel="nofollow noreferrer">Workarounds for CSS Transitions on the Display and Height Properties</a></em>.</p>

<p>In response to comment from GeorgeMillo:
Both properties and both transitions are needed: The opacity property
is used to create a fade-in and fade-out animation and the visibility
property to avoid the element still reacting on mouse
events. Transitions are needed on opacity for the visual effect and on
visibility to delay hiding until the fade-out is finished.</p>
    </div></div></div></div><div id="solution22" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 22</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I suspect anyone just starting CSS transitions quickly discovers that they don't work if you're modifying the display property (block/none) at the same time. One workaround that hasn't yet been mentioned is that you can continue to use <code>display:block/none</code> to hide/show the element, but set its opacity to 0 so that even when it's <code>display:block</code>, it's still invisible.</p>

<p>Then to fade it in, add another CSS class such as "on" which sets the opacity to 1 and defines the transition for opacity. As you may have imagined, you'll have to use JavaScript to add that "on" class to the element, but at least you're still using CSS for the actual transition.</p>

<p>P.S. If you find yourself in a situation where you need to do both <code>display:block</code>, and add class "on", at the same time, defer the latter using setTimeout. Otherwise, the browser just sees both things as happening at once and disables the transition.</p>
    </div></div></div></div><div id="solution23" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 23</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can get this to work the natural way you expected - using display - but you have to throttle the browser to get it to work, using either Javascript or as others have suggested a fancy trick with one tag inside another. I don't care for the inner tag as it further complicates CSS and dimensions, so here's the Javascript solution:</p>
<p><a href="https://jsfiddle.net/b9chris/hweyecu4/17/" rel="nofollow noreferrer">https://jsfiddle.net/b9chris/hweyecu4/17/</a></p>
<p>Starting with a box like:</p>
<pre class="default s-code-block"><code class="hljs language-bash">&lt;div <span class="hljs-built_in">id</span>=<span class="hljs-string">"box"</span> class=<span class="hljs-string">"hidden"</span>&gt;Lorem&lt;/div&gt;
</code></pre>
<p>A hidden box.</p>
<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.hidden</span> {
    <span class="hljs-attribute">display</span>: none;
}
<span class="hljs-selector-id">#box</span> {
    <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1s</span>;
}
    
</code></pre>
<p>We're going to use a trick found in a related q/a, checking offsetHeight to throttle the browser instantaneously:</p>
<p><a href="https://stackoverflow.com/a/16575811/176877">https://stackoverflow.com/a/16575811/176877</a></p>
<p>First, a library formalizing the above trick:</p>
<pre class="default s-code-block"><code class="hljs language-javascript">$.fn.<span class="hljs-property">noTrnsn</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">i, tag</span>) {
        tag.<span class="hljs-property">style</span>.<span class="hljs-property">transition</span> = <span class="hljs-string">'none'</span>;
    });
};
$.fn.<span class="hljs-property">resumeTrnsn</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">i, tag</span>) {
        tag.<span class="hljs-property">offsetHeight</span>;    
        tag.<span class="hljs-property">style</span>.<span class="hljs-property">transition</span> = <span class="hljs-literal">null</span>;
    });
};
</code></pre>
<p>Next, we're going to use it to reveal a box, and fade it in:</p>
<pre class="default s-code-block"><code class="hljs language-javascript">$(<span class="hljs-string">'#button'</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">var</span> tag = $(<span class="hljs-string">'#box'</span>);
    <span class="hljs-keyword">if</span> (tag.<span class="hljs-title function_">hasClass</span>(<span class="hljs-string">'hidden'</span>))
        tag.<span class="hljs-title function_">noTrnsn</span>().<span class="hljs-title function_">removeClass</span>(<span class="hljs-string">'hidden'</span>)
        .<span class="hljs-title function_">css</span>({ <span class="hljs-attr">opacity</span>: <span class="hljs-number">0</span> })
        .<span class="hljs-title function_">resumeTrnsn</span>().<span class="hljs-title function_">css</span>({ <span class="hljs-attr">opacity</span>: <span class="hljs-number">1</span> });
    <span class="hljs-keyword">else</span>
        tag.<span class="hljs-title function_">css</span>({ <span class="hljs-attr">opacity</span>: <span class="hljs-number">0</span> });
});
</code></pre>
<p>This fades the box in and out. So, <code>.noTrnsn()</code> turns off transitions, then we remove the <code>hidden</code> class, which flips <code>display</code> from <code>none</code> to its default, <code>block</code>. We then set opacity to 0 to get ready for fading in. Now that we've set the stage, we turn transitions back on, with <code>.resumeTrnsn()</code>. And finally, kick off the transition by setting opacity to 1.</p>
<p>Without the library, both the change to display and the change to opacity would've gotten us undesirable results. If we simply removed the library calls, we'd get no transitions at all.</p>
<p>Note that the above does not set display to none again at the end of the fadeout animation. We can get fancier though. Let's do so with one that fades in and grows in height from 0.</p>
<h2>Fancy!</h2>
<p><a href="https://jsfiddle.net/b9chris/hweyecu4/22/" rel="nofollow noreferrer">https://jsfiddle.net/b9chris/hweyecu4/22/</a></p>
<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#box</span> {
    <span class="hljs-attribute">transition</span>: height <span class="hljs-number">1s</span>, opacity <span class="hljs-number">1s</span>;
}
</code></pre>
<p>We're now transitioning both height and opacity. Note that we are not setting height, which means it is the default, <code>auto</code>. Conventionally this cannot be transitioned - moving from auto to a pixel value (like 0) will get you no transition. We're going to work around that with the library, and one more library method:</p>
<pre class="default s-code-block"><code class="hljs language-kotlin">$.fn.wait = function (time, fn) {
    <span class="hljs-keyword">if</span> (time)
        <span class="hljs-keyword">this</span>.delay(time);
    <span class="hljs-keyword">if</span> (!fn)
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;

    <span class="hljs-keyword">var</span> _this = <span class="hljs-keyword">this</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.queue(function (n) {
        fn.call(_this);
        n();
    });
};
</code></pre>
<p>This is a convenience method that lets us participate in jQuery's existing fx/animation queue, without requiring any of the animation framework that's now excluded in jQuery 3.x. I'm not going to explain how jQuery works, but suffice to say, the <code>.queue()</code> and <code>.stop()</code> plumbing that jQuery provides help us prevent our animations from stepping on each other.</p>
<p>Let's animate the slide down effect.</p>
<pre class="default s-code-block"><code class="hljs language-php">$(<span class="hljs-string">'#button'</span>).<span class="hljs-title function_ invoke__">on</span>(<span class="hljs-string">'click'</span>, function() {
    <span class="hljs-keyword">var</span> tag = $(<span class="hljs-string">'#box'</span>);
    <span class="hljs-keyword">if</span> (tag.<span class="hljs-title function_ invoke__">hasClass</span>(<span class="hljs-string">'hidden'</span>)) {
        <span class="hljs-comment">// Open it</span>
        <span class="hljs-comment">// Measure it</span>
        tag.<span class="hljs-title function_ invoke__">stop</span>().<span class="hljs-title function_ invoke__">noTrnsn</span>().<span class="hljs-title function_ invoke__">removeClass</span>(<span class="hljs-string">'hidden'</span>).<span class="hljs-title function_ invoke__">css</span>({
            <span class="hljs-attr">opacity</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'auto'</span>
        });
        <span class="hljs-keyword">var</span> h = tag.<span class="hljs-title function_ invoke__">height</span>();
        tag.<span class="hljs-title function_ invoke__">css</span>({ <span class="hljs-attr">height</span>: <span class="hljs-number">0</span> }).<span class="hljs-title function_ invoke__">resumeTrnsn</span>()
        <span class="hljs-comment">// Animate it</span>
        .<span class="hljs-title function_ invoke__">css</span>({ <span class="hljs-attr">opacity</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">height</span>: h })
        .<span class="hljs-title function_ invoke__">wait</span>(<span class="hljs-number">1000</span>, function() {
            tag.<span class="hljs-title function_ invoke__">css</span>({ <span class="hljs-attr">height</span>: <span class="hljs-string">'auto'</span> });
        });
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// Close it</span>
        <span class="hljs-comment">// Measure it</span>
        <span class="hljs-keyword">var</span> h = tag.<span class="hljs-title function_ invoke__">noTrnsn</span>().<span class="hljs-title function_ invoke__">height</span>();
        tag.<span class="hljs-title function_ invoke__">stop</span>().<span class="hljs-title function_ invoke__">css</span>({ <span class="hljs-attr">height</span>: h })
        .<span class="hljs-title function_ invoke__">resumeTrnsn</span>()
        <span class="hljs-comment">// Animate it</span>
        .<span class="hljs-title function_ invoke__">css</span>({ <span class="hljs-attr">opacity</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">0</span> })
        .<span class="hljs-title function_ invoke__">wait</span>(<span class="hljs-number">1000</span>, function() {
            tag.<span class="hljs-title function_ invoke__">addClass</span>(<span class="hljs-string">'hidden'</span>);
        });
    }
});
</code></pre>
<p>This code begins by checking on <code>#box</code> and whether it's currently hidden, by checking on its class. But it accomplishes more using the <code>wait()</code> library call, by adding the <code>hidden</code> class at the end of the slideout/fade animation, which you'd expect to find if it is in fact hidden - something the above simpler example could not do. This happens to also enable display/hiding the element over and over, which was a bug in the previous example, because the hidden class was never restored.</p>
<p>You can also see CSS and class changes being called after <code>.noTrnsn()</code> to generally set the stage for animations, including taking measurements, like measuring what will be the final height of <code>#box</code> without showing that to the user, before calling <code>.resumeTrnsn()</code>, and animating it from that fully-set stage to its goal CSS values.</p>
<h1>Old Answer</h1>
<p><a href="https://jsfiddle.net/b9chris/hweyecu4/1/" rel="nofollow noreferrer">https://jsfiddle.net/b9chris/hweyecu4/1/</a></p>
<p>You can have it transition on click with:</p>
<pre class="default s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">toggleTransition</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">var</span> el = $(<span class="hljs-string">"div.box1"</span>);

  <span class="hljs-keyword">if</span> (el.<span class="hljs-property">length</span>) {
    el[<span class="hljs-number">0</span>].<span class="hljs-property">className</span> = <span class="hljs-string">"box"</span>;
    el.<span class="hljs-title function_">stop</span>().<span class="hljs-title function_">css</span>({<span class="hljs-attr">maxWidth</span>: <span class="hljs-number">10000</span>}).<span class="hljs-title function_">animate</span>({<span class="hljs-attr">maxWidth</span>: <span class="hljs-number">10001</span>}, <span class="hljs-number">2000</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
        el[<span class="hljs-number">0</span>].<span class="hljs-property">className</span> = <span class="hljs-string">"box hidden"</span>;
    });
  } <span class="hljs-keyword">else</span> {
    el = $(<span class="hljs-string">"div.box"</span>);
    el[<span class="hljs-number">0</span>].<span class="hljs-property">className</span> = <span class="hljs-string">"box"</span>;
    el.<span class="hljs-title function_">stop</span>().<span class="hljs-title function_">css</span>({<span class="hljs-attr">maxWidth</span>: <span class="hljs-number">10001</span>}).<span class="hljs-title function_">animate</span>({<span class="hljs-attr">maxWidth</span>: <span class="hljs-number">10000</span>}, <span class="hljs-number">50</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
        el[<span class="hljs-number">0</span>].<span class="hljs-property">className</span> = <span class="hljs-string">"box box1"</span>;
    });
  }

  <span class="hljs-keyword">return</span> el;
}

someTag.<span class="hljs-title function_">click</span>(toggleTransition);
</code></pre>
<p>The CSS is what you'd guess:</p>
<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.hidden</span> {
    <span class="hljs-attribute">display</span>: none;
}
<span class="hljs-selector-class">.box</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
    <span class="hljs-attribute">background-color</span>: blue;
    <span class="hljs-attribute">color</span>: yellow;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">18px</span>;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">20px</span>;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">20px</span>;
    <span class="hljs-attribute">position</span>: absolute;
    -webkit-<span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">0</span> <span class="hljs-number">50%</span>;
    <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">0</span> <span class="hljs-number">50%</span>;
    -webkit-<span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(.<span class="hljs-number">2</span>);
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(.<span class="hljs-number">2</span>);
    -webkit-<span class="hljs-attribute">transition</span>: transform <span class="hljs-number">2s</span>;
    <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">2s</span>;
}
<span class="hljs-selector-class">.box1</span>{
    -webkit-<span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">1</span>);
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">1</span>);
}
</code></pre>
<p>The key is throttling the display property. By removing the hidden class and then waiting 50&nbsp;ms, <em>then</em> starting the transition via the added class, we get it to appear and then expand like we wanted, instead of it just blipping onto the screen without any animation. Similar occurs going the other way, except we wait till the animation is over before applying hidden.</p>
<p>Note: I'm abusing <code>.animate(maxWidth)</code> here to avoid <code>setTimeout</code> race conditions. <code>setTimeout</code> is quick to introduce hidden bugs when you or someone else picks up code unaware of it. <code>.animate()</code> can easily be killed with <code>.stop()</code>. I'm just using it to put a 50&nbsp;ms or 2000&nbsp;ms delay on the standard fx queue where it's easy to find/resolve by other coders building on top of this.</p>
    </div></div></div></div><div id="solution24" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 24</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Well another way to apply transition in this situation <strong>without using keyframes</strong> is to set the <strong>width</strong> of your element to <strong>zero</strong> and then unset it on hover</p>
<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.className</span>{
  <span class="hljs-attribute">visibility</span>:hidden;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">transition</span>: .<span class="hljs-number">2s</span>;
  <span class="hljs-attribute">width</span>:<span class="hljs-number">0</span>;
}

<span class="hljs-selector-class">.className</span><span class="hljs-selector-pseudo">:hover</span>{
  <span class="hljs-attribute">visibility</span>:visible;
  <span class="hljs-attribute">margin-right</span>: .<span class="hljs-number">5rem</span>;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">width</span>:unset;
}
</code></pre>
    </div></div></div></div><div id="solution25" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 25</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I had a similar issue that I couldn't find the answer to. A few Google searches later led me here. Considering I didn't find the simple answer I was hoping for, I stumbled upon a solution that is both elegant and effective.</p>

<p>It turns out the <code>visibility</code> CSS property has a value <code>collapse</code> which is generally used for table items. However, if used on any other elements it effectively renders them as <em>hidden</em>, pretty much the same as <code>display: hidden</code> but with the added ability that the element doesn't take up any space and you can still animate the element in question.</p>

<p>Below is a simple example of this in action.</p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">toggleVisibility</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">let</span> exampleElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'span'</span>);
  <span class="hljs-keyword">if</span> (exampleElement.<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">'visible'</span>)) {
    <span class="hljs-keyword">return</span>;
  }
  exampleElement.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">'I will not take up space!'</span>;
  exampleElement.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">'hidden'</span>);
  exampleElement.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">'visible'</span>);
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    exampleElement.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">'visible'</span>);
    exampleElement.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">'hidden'</span>);
  }, <span class="hljs-number">3000</span>);
}</code></pre>
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#main</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
  <span class="hljs-attribute">text-align</span>: center;
}

<span class="hljs-selector-class">.hidden</span> {
  <span class="hljs-attribute">visibility</span>: collapse;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">transition</span>: visibility <span class="hljs-number">2s</span>, opacity <span class="hljs-number">2s</span> linear;
}

<span class="hljs-selector-class">.visible</span> {
  <span class="hljs-attribute">visibility</span>: visible;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">transition</span>: visibility <span class="hljs-number">0.5s</span>, opacity <span class="hljs-number">0.5s</span> linear;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"main"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"toggleVisibility()"</span>&gt;</span>Click Me!<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"hidden"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>I will get pushed back up...<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif3" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution26" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 26</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The simplest universal solution to the problem is: feel free to specify <code>display:none</code> in your CSS, however you will have change it to <code>block</code> (or whatever else) using JavaScript, and then you'll also have to add a class to your element in question that actually does the transition <em>with setTimeout()</em>. That's all.</p>

<p>I.e.:</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css">
    <span class="hljs-selector-id">#el</span> {
        <span class="hljs-attribute">display</span>: none;
        <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
    }
    <span class="hljs-selector-id">#el</span><span class="hljs-selector-class">.auto-fade-in</span> {
        <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
        <span class="hljs-attribute">transition</span>: all <span class="hljs-number">1s</span> ease-out; <span class="hljs-comment">/* Future, future, please come sooner! */</span>
        -webkit-<span class="hljs-attribute">transition</span>: all <span class="hljs-number">1s</span> ease-out;
        -moz-<span class="hljs-attribute">transition</span>: all <span class="hljs-number">1s</span> ease-out;
        -o-<span class="hljs-attribute">transition</span>: all <span class="hljs-number">1s</span> ease-out;
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">el</span>&gt;</span>Well, well, well<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
    <span class="hljs-keyword">var</span> el = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'el'</span>);
    el.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'block'</span>;
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) { el.<span class="hljs-property">className</span> = <span class="hljs-string">'auto-fade-in'</span> }, <span class="hljs-number">0</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>

<p>This was tested in the latest sane browsers. Obviously it shouldn't work in Internet&nbsp;Explorer&nbsp;9 or earlier.</p>
    </div></div></div></div><div id="solution27" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 27</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I think SalmanPK has the closest answer. It does fade an item in or out, with the following CSS animations. However, the display property does not animate smoothly, only the opacity.</p>

<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-keyword">@-webkit-keyframes</span> fadeIn {
    <span class="hljs-selector-tag">from</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>; }
      <span class="hljs-selector-tag">to</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>; }
}

<span class="hljs-keyword">@-webkit-keyframes</span> fadeOut {
    <span class="hljs-selector-tag">from</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>; }
      <span class="hljs-selector-tag">to</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>; }
}
</code></pre>

<p>If you want to animate the element moving from display block to display none, I can't see that it is currently possible just with CSS. You have to get the height and use a CSS animation to decrease the height. This is possible with CSS as shown in the example below, but it would be tricky to know the exact height values you need to animate for an element.</p>

<p><a href="http://jsfiddle.net/StevenIseki/v2nup35t/" rel="nofollow noreferrer">jsFiddle</a> <b>example</b></p>

<h3>CSS</h3>

<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-keyword">@-webkit-keyframes</span> pushDown {
  <span class="hljs-number">0%</span> {
    <span class="hljs-attribute">height</span>: <span class="hljs-number">10em</span>;
  }
  <span class="hljs-number">25%</span> {
    <span class="hljs-attribute">height</span>: <span class="hljs-number">7.5em</span>;
  }
  <span class="hljs-number">50%</span> {
    <span class="hljs-attribute">height</span>: <span class="hljs-number">5em</span>;
  }
  <span class="hljs-number">75%</span> {
    <span class="hljs-attribute">height</span>: <span class="hljs-number">2.5em</span>;
  }
  <span class="hljs-number">100%</span> {
    <span class="hljs-attribute">height</span>: <span class="hljs-number">0em</span>;
  }
}

<span class="hljs-selector-class">.push-down</span> {
    -webkit-<span class="hljs-attribute">animation</span>: pushDown <span class="hljs-number">2s</span> forwards linear;
}
</code></pre>

<h3>JavaScript</h3>

<pre class="default s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> element = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"element"</span>);

<span class="hljs-comment">// Push item down</span>
element.<span class="hljs-property">className</span> = element.<span class="hljs-property">className</span> + <span class="hljs-string">" push-down"</span>;
</code></pre>
    </div></div></div></div><div id="solution28" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 28</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This solution has excellent compatibility, and I haven't seen it yet:</p>

<pre class="default s-code-block"><code class="hljs language-css"><span class="hljs-selector-class">.hidden-element</span> {
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">z-index</span>: -<span class="hljs-number">1</span>;
  <span class="hljs-attribute">pointer-events</span>: none;
  <span class="hljs-attribute">visibility</span>: hidden;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">transition</span>: visibility <span class="hljs-number">0s</span>, opacity .<span class="hljs-number">5s</span> ease-out;
}

<span class="hljs-selector-class">.hidden-element</span><span class="hljs-selector-class">.visible</span> {
  <span class="hljs-attribute">position</span>: static;
  <span class="hljs-attribute">z-index</span>: auto;
  <span class="hljs-attribute">pointer-events</span>: auto;
  <span class="hljs-attribute">visibility</span>: visible;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
}
</code></pre>

<p><strong>Explanation</strong>: it uses the <code>visibility: hidden</code> trick (which is compatible with show-and-animate in one step), but it uses the combination <code>position: absolute; z-index: -1; pointer-events: none;</code> to make sure that the hidden container <strong>does not take space</strong> and <strong>does not answer to user interactions</strong>.</p>
    </div></div></div></div><div id="solution29" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 29</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can do this with transition events, so you build two CSS classes for the transition, one holding the animation other, holding the display none state. And you switch them after the animation is ended? In my case I can display the divs again if I press a button, and remove both classes.</p>

<p>Try the snippet below...</p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript">$(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">ready</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// Assign transition event</span>
  $(<span class="hljs-string">"table"</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">"animationend webkitAnimationEnd"</span>, <span class="hljs-string">".visibility_switch_off"</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-comment">// We check if this is the same animation we want</span>
    <span class="hljs-keyword">if</span> (event.<span class="hljs-property">originalEvent</span>.<span class="hljs-property">animationName</span> == <span class="hljs-string">"col_hide_anim"</span>) {
      <span class="hljs-comment">// After the animation we assign this new class that basically hides the elements.</span>
      $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">addClass</span>(<span class="hljs-string">"animation-helper-display-none"</span>);
    }

  });

  $(<span class="hljs-string">"button"</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {

    $(<span class="hljs-string">"table tr .hide-col"</span>).<span class="hljs-title function_">toggleClass</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
      <span class="hljs-comment">// We switch the animation class in a toggle fashion...</span>
      <span class="hljs-comment">// and we know in that after the animation end, there</span>
      <span class="hljs-comment">// is will the animation-helper-display-none extra</span>
      <span class="hljs-comment">// class, that we nee to remove, when we want to</span>
      <span class="hljs-comment">// show the elements again, depending on the toggle</span>
      <span class="hljs-comment">// state, so we create a relation between them.</span>
      <span class="hljs-keyword">if</span> ($(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">is</span>(<span class="hljs-string">".animation-helper-display-none"</span>)) {
        <span class="hljs-comment">// I'm toggling and there is already the above class, then</span>
        <span class="hljs-comment">// what we want it to show the elements , so we remove</span>
        <span class="hljs-comment">// both classes...</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"visibility_switch_off animation-helper-display-none"</span>;
      }
      <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// Here we just want to hide the elements, so we just</span>
        <span class="hljs-comment">// add the animation class, the other will be added</span>
        <span class="hljs-comment">// later be the animationend event...</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"visibility_switch_off"</span>;
      }
    });
  });
});</code></pre>
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">table</span> <span class="hljs-selector-tag">th</span> {
  <span class="hljs-attribute">background-color</span>: grey;
}

<span class="hljs-selector-tag">table</span> <span class="hljs-selector-tag">td</span> {
  <span class="hljs-attribute">background-color</span>: white;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span>;
}

<span class="hljs-selector-class">.animation-helper-display-none</span> {
  <span class="hljs-attribute">display</span>: none;
}

<span class="hljs-selector-tag">table</span> <span class="hljs-selector-tag">tr</span> <span class="hljs-selector-class">.visibility_switch_off</span> {
  <span class="hljs-attribute">animation-fill-mode</span>: forwards;
  <span class="hljs-attribute">animation-name</span>: col_hide_anim;
  <span class="hljs-attribute">animation-duration</span>: <span class="hljs-number">1s</span>;
}

<span class="hljs-keyword">@-webkit-keyframes</span> col_hide_anim {
  <span class="hljs-number">0%</span> {<span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;}
  <span class="hljs-number">100%</span> {<span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;}
}

<span class="hljs-keyword">@-moz-keyframes</span> col_hide_anim {
  <span class="hljs-number">0%</span> {<span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;}
  <span class="hljs-number">100%</span> {<span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;}
}

<span class="hljs-keyword">@-o-keyframes</span> col_hide_anim {
  <span class="hljs-number">0%</span> {<span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;}
  <span class="hljs-number">100%</span> {<span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;}
}

<span class="hljs-keyword">@keyframes</span> col_hide_anim {
  <span class="hljs-number">0%</span>   {<span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;}
  <span class="hljs-number">100%</span> {<span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;}
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">theader</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">th</span> <span class="hljs-attr">class</span>=<span class="hljs-string">'hide-col'</span>&gt;</span>Age<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Country<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">theader</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">'hide-col'</span>&gt;</span>Age<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>Country<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>Switch - Hide Age column with fadeout animation and display none after<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif4" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution30" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 30</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/css-transitions">css-transitions</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Instead of using <code>display</code> you could store the element 'off-screen' until you needed it, and then set its position to where you want it and transform it at the same time. This brings up a whole host of other design issues though, so your mileage may vary.</p>

<p>You probably wouldn't want to use <code>display</code> anyway, as you'd want the content to be accessible to screen readers, which for the most part try to obey rules for visibility - i.e., if it shouldn't be visible to the eye, it won't show up as content to the agent.</p>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/why-is-using-&#x27;eval&#x27;-a-bad-practice-1657387348760">Why is using &#x27;eval&#x27; a bad practice?</a><a href="/questions/why-should-there-be-spaces-around-&#x27;&#x27;-and-&#x27;&#x27;-in-bash-1657387984122">Why should there be spaces around &#x27;[&#x27; and &#x27;]&#x27; in Bash?</a><a href="/questions/how-does-access-control-allow-origin-header-work-1657384881723">How does Access-Control-Allow-Origin header work?</a><a href="/questions/self-references-in-object-literals-initializers-1657384835356">Self-references in object literals / initializers</a><a href="/questions/percentage-height-html-5css-1657387471048">Percentage Height HTML 5/CSS</a><a href="/questions/what-is-the-best-way-to-detect-a-mobile-device-1657387665025">What is the best way to detect a mobile device?</a><a href="/questions/why-does-date.parse-give-incorrect-results-1657384642821">Why does Date.parse give incorrect results?</a><a href="/questions/what-is-the-%22n+1-selects-problem%22-in-orm-(object-relational-mapping)-1657388055597">What is the &quot;N+1 selects problem&quot; in ORM (Object-Relational Mapping)?</a><a href="/questions/how-to-convert-a-factor-to-integernumeric-without-loss-of-information-1657387880273">How to convert a factor to integer\numeric without loss of information?</a><a href="/questions/commandbuttoncommandlinkajax-actionlistener-method-not-invoked-or-input-value-not-setupdated-1657384667519">commandButton/commandLink/ajax action/listener method not invoked or input value not set/updated</a><a href="/questions/sorting-an-array-of-objects-by-property-values-1657387447490">Sorting an array of objects by property values</a><a href="/questions/how-to-return-datasnapshot-value-as-a-result-of-a-method-1657387538165">How to return DataSnapshot value as a result of a method?</a><a href="/questions/how-to-avoid-having-class-data-shared-among-instances-1657387687732">How to avoid having class data shared among instances?</a><a href="/questions/how-to-parse-json-in-java-1657384575136">How to parse JSON in Java</a><a href="/questions/is-it-possible-to-escape-regex-metacharacters-reliably-with-sed-1657388428795">Is it possible to escape regex metacharacters reliably with sed</a><a href="/questions/removing-trailing-newline-character-from-fgets()-input-1657387308069">Removing trailing newline character from fgets() input</a><a href="/questions/arrays-linked-lists-and-other-data-structures-in-cmd.exe-(batch)-script-1657387558484">Arrays, linked lists and other data structures in cmd.exe (batch) script</a><a href="/questions/simulating-group_concat-mysql-function-in-microsoft-sql-server-2005-1657384832169">Simulating group_concat MySQL function in Microsoft SQL Server 2005?</a><a href="/questions/how-to-find-the-&#x27;sizeof&#x27;-(a-pointer-pointing-to-an-array)-1657387354284">How to find the &#x27;sizeof&#x27; (a pointer pointing to an array)?</a><a href="/questions/what&#x27;s-the-meaning-of-%22greater%22-(an-arrow-formed-from-equals-and-greater-than)-in-javascript-1657387977118">What&#x27;s the meaning of &quot;=&gt;&quot; (an arrow formed from equals &amp; greater than) in JavaScript?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;You can concatenate two transitions or more, and \u0026lt;code\u0026gt;visibility\u0026lt;/code\u0026gt; is what comes handy this time.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1px\u0026lt;/span\u0026gt; solid \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#eee\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;visibility\u0026lt;/span\u0026gt;: hidden;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: visibility \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5s\u0026lt;/span\u0026gt; linear;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;visibility\u0026lt;/span\u0026gt;: visible;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Item 1\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Item 2\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Item 3\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif1\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;(Don\u0026apos;t forget the vendor prefixes to the \u0026lt;code\u0026gt;transition\u0026lt;/code\u0026gt; property.)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;More details are in \u0026lt;a href=\u0026quot;http://www.greywyvern.com/?post=337\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;this article\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You need to hide the element by other means in order to get this to work.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I accomplished the effect by positioning both \u0026lt;code\u0026gt;\u0026amp;lt;div\u0026amp;gt;\u0026lt;/code\u0026gt;s absolutely and setting the hidden one to \u0026lt;code\u0026gt;opacity: 0\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;If you even toggle the \u0026lt;code\u0026gt;display\u0026lt;/code\u0026gt; property from \u0026lt;code\u0026gt;none\u0026lt;/code\u0026gt; to \u0026lt;code\u0026gt;block\u0026lt;/code\u0026gt;, your transition on other elements will not occur.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To work around this, always allow the element to be \u0026lt;code\u0026gt;display: block\u0026lt;/code\u0026gt;, but hide the element by adjusting any of these means:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Set the \u0026lt;code\u0026gt;height\u0026lt;/code\u0026gt; to \u0026lt;code\u0026gt;0\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Set the \u0026lt;code\u0026gt;opacity\u0026lt;/code\u0026gt; to \u0026lt;code\u0026gt;0\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Position the element outside of the frame of another element that has \u0026lt;code\u0026gt;overflow: hidden\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;There are likely more solutions, but you cannot perform a transition if you toggle the element to \u0026lt;code\u0026gt;display: none\u0026lt;/code\u0026gt;. For example, you may attempt to try something like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: none;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease-out;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.active\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: block;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;But that will \u0026lt;strong\u0026gt;not\u0026lt;/strong\u0026gt; work. From my experience, I have found this to do nothing.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Because of this, you will always need to keep the element \u0026lt;code\u0026gt;display: block\u0026lt;/code\u0026gt; - but you could get around it by doing something like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease-out;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.active\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: auto;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;At the time of this post all major browsers disable CSS transitions if you try to change the \u0026lt;code\u0026gt;display\u0026lt;/code\u0026gt; property, but CSS animations still work fine so we can use them as a workaround.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Example Code\u0026lt;/strong\u0026gt; (you can apply it to your menu accordingly) \u0026lt;a href=\u0026quot;http://cssdesk.com/7WPCT\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Demo\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Add the following CSS to your stylesheet:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@-webkit-keyframes\u0026lt;/span\u0026gt; fadeIn {\n    \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; }\n      \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;to\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;; }\n}\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@keyframes\u0026lt;/span\u0026gt; fadeIn {\n    \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; }\n      \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;to\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;; }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Then apply the \u0026lt;code\u0026gt;fadeIn\u0026lt;/code\u0026gt; animation to the child on parent hover (and of course set \u0026lt;code\u0026gt;display: block\u0026lt;/code\u0026gt;):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.parent\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.child\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: block;\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation\u0026lt;/span\u0026gt;: fadeIn \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation\u0026lt;/span\u0026gt;: fadeIn \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;h1\u0026gt;Update 2019 - Method that also supports fading out:\u0026lt;/h1\u0026gt;\n\n\u0026lt;p\u0026gt;(Some JavaScript code is required)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;false\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// We need to keep track of faded in elements so we can apply fade out later in CSS\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;addEventListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;animationstart\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;e\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (e.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;animationName\u0026lt;/span\u0026gt; === \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;fade-in\u0026apos;\u0026lt;/span\u0026gt;) {\n      e.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;target\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;classList\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;add\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;did-fade-in\u0026apos;\u0026lt;/span\u0026gt;);\n  }\n});\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;addEventListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;animationend\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;e\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (e.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;animationName\u0026lt;/span\u0026gt; === \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;fade-out\u0026apos;\u0026lt;/span\u0026gt;) {\n      e.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;target\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;classList\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;remove\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;did-fade-in\u0026apos;\u0026lt;/span\u0026gt;);\n   }\n});\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5px\u0026lt;/span\u0026gt; solid;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10px\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border-color\u0026lt;/span\u0026gt;: red;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.parent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.child\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: none;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.parent\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.child\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: block;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation\u0026lt;/span\u0026gt;: fade-in \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.parent\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:not\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.child\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.did-fade-in\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: block;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation\u0026lt;/span\u0026gt;: fade-out \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@keyframes\u0026lt;/span\u0026gt; fade-in {\n  \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  }\n  \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;to\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n  }\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@keyframes\u0026lt;/span\u0026gt; fade-out {\n  \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n  }\n  \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;to\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  }\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;parent\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    Parent\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;child\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n        Child\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif2\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Instead of callbacks, which don\u0026apos;t exist in CSS, we can use \u0026lt;code\u0026gt;transition-delay\u0026lt;/code\u0026gt; property.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#selector\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* Hide the element content, while height = 0 */\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0ms\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;400ms\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;400ms\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0ms\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#selector\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.visible\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: auto; \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0ms\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0ms\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;600ms\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0ms\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;So, what\u0026apos;s going on here?\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;When \u0026lt;code\u0026gt;visible\u0026lt;/code\u0026gt; class is added, both \u0026lt;code\u0026gt;height\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;opacity\u0026lt;/code\u0026gt; start animation without delay (0\u0026amp;nbsp;ms), though \u0026lt;code\u0026gt;height\u0026lt;/code\u0026gt; takes 0\u0026amp;nbsp;ms to complete animation (equivalent of \u0026lt;code\u0026gt;display: block\u0026lt;/code\u0026gt;) and \u0026lt;code\u0026gt;opacity\u0026lt;/code\u0026gt; takes 600\u0026amp;nbsp;ms.\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;When \u0026lt;code\u0026gt;visible\u0026lt;/code\u0026gt; class is removed, \u0026lt;code\u0026gt;opacity\u0026lt;/code\u0026gt; starts animation (0\u0026amp;nbsp;ms delay, 400\u0026amp;nbsp;ms duration), and height waits 400\u0026amp;nbsp;ms and only then instantly (0\u0026amp;nbsp;ms) restores initial value (equivalent of \u0026lt;code\u0026gt;display: none\u0026lt;/code\u0026gt; in the animation callback).\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;Note, this approach is better than ones using \u0026lt;code\u0026gt;visibility\u0026lt;/code\u0026gt;. In such cases, the element still occupies the space on the page, and it\u0026apos;s not always suitable.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For more examples please refer to \u0026lt;a href=\u0026quot;https://medium.com/@joethedave/achieving-ui-animations-with-react-the-right-way-562fa8a91935\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;this article\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I suspect that the \u0026lt;em\u0026gt;reason\u0026lt;/em\u0026gt; that transitions are disabled if \u0026lt;code\u0026gt;display\u0026lt;/code\u0026gt; is changed is because of what display actually does. It does \u0026lt;em\u0026gt;not\u0026lt;/em\u0026gt; change anything that could conceivably be smoothly animated.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;display: none;\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;visibility: hidden;\u0026lt;/code\u0026gt; are two \u0026lt;em\u0026gt;entirely\u0026lt;/em\u0026gt; different things.\u0026lt;br\u0026gt;\nBoth do have the effect of making the element invisible, but with \u0026lt;code\u0026gt;visibility: hidden;\u0026lt;/code\u0026gt; its still rendered in the layout, but just not \u0026lt;em\u0026gt;visibly\u0026lt;/em\u0026gt; so.\u0026lt;br\u0026gt;\nThe hidden element still takes up space, and is still rendered inline or as a block or block-inline or table or whatever the \u0026lt;code\u0026gt;display\u0026lt;/code\u0026gt; element tells it to render as, and takes up space accordingly.\u0026lt;br\u0026gt;\nOther elements do \u0026lt;em\u0026gt;not\u0026lt;/em\u0026gt; automatically move to occupy that space. The hidden element just doesnt render its actual pixels to the output.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;display: none\u0026lt;/code\u0026gt; on the other hand actually \u0026lt;em\u0026gt;prevents\u0026lt;/em\u0026gt; the element from rendering \u0026lt;em\u0026gt;entirely\u0026lt;/em\u0026gt;.\u0026lt;br\u0026gt;\nIt does not take up \u0026lt;em\u0026gt;any\u0026lt;/em\u0026gt; layout space.\u0026lt;br\u0026gt;\nOther elements that wouldve occupied some or all of the space taken up by this element now adjust to occupy that space, as if the element simply \u0026lt;em\u0026gt;did not exist at all\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;display\u0026lt;/code\u0026gt; is not just another visual attribute.\u0026lt;br\u0026gt;\nIt establishes the entire rendering mode of the element, such as whether its a \u0026lt;code\u0026gt;block\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;inline\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;inline-block\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;table\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;table-row\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;table-cell\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;list-item\u0026lt;/code\u0026gt;, or whatever!\u0026lt;br\u0026gt;\nEach of those have very different layout ramifications, and there would be no reasonable way to animate or smoothly transition them (try to imagine a smooth transition from \u0026lt;code\u0026gt;block\u0026lt;/code\u0026gt; to \u0026lt;code\u0026gt;inline\u0026lt;/code\u0026gt; or vice-versa, for instance!).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This is why transitions are disabled if display changes (even if the change is to or from \u0026lt;code\u0026gt;none\u0026lt;/code\u0026gt;  \u0026lt;code\u0026gt;none\u0026lt;/code\u0026gt; isnt merely invisibility, its its own element rendering mode that means no rendering at all!).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;display\u0026lt;/code\u0026gt; is not one of the properties that transition works upon.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;See \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_animated_properties\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Animatable CSS properties\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt; for the list of CSS properties that can have transitions applied to them. See \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://drafts.csswg.org/css-values-4/#combining-values\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;CSS Values and Units Module Level 4, Combining Values: Interpolation, Addition, and Accumulation\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt; for how they are interpolated.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Up to CSS\u0026amp;nbsp;3 was listed in \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://www.w3.org/TR/2017/WD-css-transitions-1-20171130/#animatable-css\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;9.1. Properties from CSS\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt; (just close the warning popup)\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;I\u0026apos;ve also tried using height, but that just failed miserably.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;Last time I had to do this, I used \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; instead, which is an animatable property (although it was a bit of a hack, it did work), but beware that it may be very janky for complex pages or users with low-end mobile devices.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I found better way for this issue, you can use CSS Animation and make your awesome effect for showing items.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.item\u0026lt;/span\u0026gt; {\n     \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: none;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.item\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; {\n     \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: block;\n     \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation\u0026lt;/span\u0026gt;: fade_in_show \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5s\u0026lt;/span\u0026gt;\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@keyframes\u0026lt;/span\u0026gt; fade_in_show {\n     \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt; {\n          \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n          \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;scale\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)\n     }\n\n     \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt; {\n          \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n          \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;scale\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;)\n     }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can add a custom animation to the block property now.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@keyframes\u0026lt;/span\u0026gt; showNav {\n  \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; {\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;}\n  \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;to\u0026lt;/span\u0026gt; {\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;}\n}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.subnav-is-opened\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.main-nav__secondary-nav\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: block;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation\u0026lt;/span\u0026gt;: showNav \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;250ms\u0026lt;/span\u0026gt; ease-in-out both;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://developers.google.com/web/fundamentals/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Demo\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In this demo the sub-menu changes from \u0026lt;code\u0026gt;display:none\u0026lt;/code\u0026gt; to \u0026lt;code\u0026gt;display:block\u0026lt;/code\u0026gt; and still manages to fade.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;According to \u0026lt;a href=\u0026quot;http://www.w3.org/TR/css3-transitions/#animatable-properties\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;W3C Working Draft 19 November 2013\u0026lt;/a\u0026gt; \u0026lt;code\u0026gt;display\u0026lt;/code\u0026gt; is not an \u0026lt;em\u0026gt;animatable property\u0026lt;/em\u0026gt;. Fortunately, \u0026lt;code\u0026gt;visibility\u0026lt;/code\u0026gt; is animatable. You may chain its transition with a transition of opacity (\u0026lt;a href=\u0026quot;http://jsfiddle.net/feklee/6UkVH/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;JSFiddle\u0026lt;/a\u0026gt;):\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;HTML:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;\u0026amp;lt;a href=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://example.com\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;foo\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;Foo\u0026amp;lt;/a\u0026amp;gt;\n\u0026amp;lt;button \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;hide-button\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;Hide\u0026amp;lt;/button\u0026amp;gt;\n\u0026amp;lt;button \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;show-button\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;Show\u0026amp;lt;/button\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;CSS:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#foo\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition-property\u0026lt;/span\u0026gt;: visibility, opacity;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition-duration\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.hidden\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;visibility\u0026lt;/span\u0026gt;: hidden;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition-property\u0026lt;/span\u0026gt;: opacity, visibility;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition-duration\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition-delay\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;JavaScript for testing:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; foo = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getElementById\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getElementById\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;hide-button\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;onclick\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    foo.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;className\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;hidden\u0026apos;\u0026lt;/span\u0026gt;;\n};\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getElementById\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;show-button\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;onclick\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    foo.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;className\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;;\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Note that if you just make the link transparent, without setting \u0026lt;code\u0026gt;visibility: hidden\u0026lt;/code\u0026gt;, then it would stay clickable.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Edit: display none is not being applied in this example.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@keyframes\u0026lt;/span\u0026gt; hide {\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: block;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n  }\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;99%\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: block;\n  }\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: none;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;What\u0026apos;s happening above is that through 99% of the animation display is set to block while the opacity fades out. In the last moment display property is set to none.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;And the most important bit is to retain the last frame after the animation ends using animation-fill-mode: forwards\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.hide\u0026lt;/span\u0026gt; {\n   \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation\u0026lt;/span\u0026gt;: hide \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; linear;\n   \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation-fill-mode\u0026lt;/span\u0026gt;: forwards;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Here are two examples: \u0026lt;a href=\u0026quot;https://jsfiddle.net/qwnz9tqg/3/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://jsfiddle.net/qwnz9tqg/3/\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;My neat JavaScript trick is \u0026lt;strong\u0026gt;to separate the entire scenario into two different functions\u0026lt;/strong\u0026gt;!\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To prepare things, one global variable is declared and one event handler is defined:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; tTimeout;\n  element.addEventListener(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;transitionend\u0026quot;\u0026lt;/span\u0026gt;, afterTransition, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//firefox\u0026lt;/span\u0026gt;\n  element.addEventListener(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;webkitTransitionEnd\u0026quot;\u0026lt;/span\u0026gt;, afterTransition, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//chrome\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Then, when hiding element, I use something like this: \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;function \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;hide\u0026lt;/span\u0026gt;()\u0026lt;/span\u0026gt;{\n  element.style.opacity = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;function \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;afterTransition\u0026lt;/span\u0026gt;()\u0026lt;/span\u0026gt;{\n  element.style.display = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;none\u0026apos;\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;For reappearing the element, I am doing something like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;show\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n  element.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;block\u0026apos;\u0026lt;/span\u0026gt;;\n  tTimeout = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;setTimeout\u0026lt;/span\u0026gt;(timeoutShow, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;timeoutShow\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n  element.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;It works, so far!\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Fade it in with \u0026lt;a href=\u0026quot;https://www.w3schools.com/css/css3_animations.asp\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;CSS Animations\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.item\u0026lt;/span\u0026gt; {\n     \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: none;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.item\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; {\n     \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: block;\n     \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation\u0026lt;/span\u0026gt;: fadeIn \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5s\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@keyframes\u0026lt;/span\u0026gt; fadeIn {\n     \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; {\n          \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n     }\n\n     \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;to\u0026lt;/span\u0026gt; {\n          \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n     }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I ran into this today, with a \u0026lt;code\u0026gt;position: fixed\u0026lt;/code\u0026gt; modal that I was reusing. I couldn\u0026apos;t keep it \u0026lt;code\u0026gt;display: none\u0026lt;/code\u0026gt; and then animate it, as it just jumped into appearance, and and \u0026lt;code\u0026gt;z-index\u0026lt;/code\u0026gt; (negative values, etc) did weird things as well.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I was also using a \u0026lt;code\u0026gt;height: 0\u0026lt;/code\u0026gt; to \u0026lt;code\u0026gt;height: 100%\u0026lt;/code\u0026gt;, but it only worked when the modal appeared. This is the same as if you used \u0026lt;code\u0026gt;left: -100%\u0026lt;/code\u0026gt; or something.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Then it struck me that there was a simple answer. Et voila:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;First,\u0026lt;/strong\u0026gt; your hidden modal. Notice the \u0026lt;code\u0026gt;height\u0026lt;/code\u0026gt; is \u0026lt;code\u0026gt;0\u0026lt;/code\u0026gt;, and check out the \u0026lt;code\u0026gt;height\u0026lt;/code\u0026gt; declaration in transitions... it has a \u0026lt;code\u0026gt;500ms\u0026lt;/code\u0026gt;, \u0026lt;em\u0026gt;which is longer than my \u0026lt;code\u0026gt;opacity\u0026lt;/code\u0026gt; transition\u0026lt;/em\u0026gt;. Remember, this affects the out-going fade-out transition: returning the modal to its default state.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#modal-overlay\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#999\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;rgba\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;33\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;33\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;33\u0026lt;/span\u0026gt;,.\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: block;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;width\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;position\u0026lt;/span\u0026gt;: fixed;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;top\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;left\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;z-index\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;500ms\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300ms\u0026lt;/span\u0026gt; ease-in-out;\n       -moz-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;500ms\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300ms\u0026lt;/span\u0026gt; ease-in-out;\n            -ms-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;500ms\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300ms\u0026lt;/span\u0026gt; ease-in-out;\n         -o-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;500ms\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300ms\u0026lt;/span\u0026gt; ease-in-out;\n        \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;500ms\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300ms\u0026lt;/span\u0026gt; ease-in-out;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Second,\u0026lt;/strong\u0026gt; your visible modal. Say you\u0026apos;re setting a \u0026lt;code\u0026gt;.modal-active\u0026lt;/code\u0026gt; to the \u0026lt;code\u0026gt;body\u0026lt;/code\u0026gt;. Now the \u0026lt;code\u0026gt;height\u0026lt;/code\u0026gt; is \u0026lt;code\u0026gt;100%\u0026lt;/code\u0026gt;, and my transition has also changed. I want the \u0026lt;code\u0026gt;height\u0026lt;/code\u0026gt; to be instantly changed, and the \u0026lt;code\u0026gt;opacity\u0026lt;/code\u0026gt; to take \u0026lt;code\u0026gt;300ms\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.modal-active\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#modal-overlay\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;z-index\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;90000\u0026lt;/span\u0026gt;;\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300ms\u0026lt;/span\u0026gt; ease-in-out;\n       -moz-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300ms\u0026lt;/span\u0026gt; ease-in-out;\n        -ms-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300ms\u0026lt;/span\u0026gt; ease-in-out;\n         -o-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300ms\u0026lt;/span\u0026gt; ease-in-out;\n            \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300ms\u0026lt;/span\u0026gt; ease-in-out;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;That\u0026apos;s it, it works like a charm.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Taking from a few of these answers and some suggestions elsewhere, the following works great for hover menus (I\u0026apos;m using this with \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Bootstrap_%28front-end_framework%29\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Bootstrap\u0026lt;/a\u0026gt;\u0026amp;nbsp;3, specifically):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;nav\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.dropdown-menu\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: block;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;: hidden;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: max-height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;500ms\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300ms\u0026lt;/span\u0026gt;;\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: max-height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;500ms\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300ms\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;nav\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.dropdown\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.dropdown-menu\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;500px\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: max-height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300ms\u0026lt;/span\u0026gt;;\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: max-height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300ms\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You could also use \u0026lt;code\u0026gt;height\u0026lt;/code\u0026gt; in place of \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; if you specify both values since \u0026lt;code\u0026gt;height:auto\u0026lt;/code\u0026gt; is not allowed with \u0026lt;code\u0026gt;transition\u0026lt;/code\u0026gt;s. The hover value of \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; needs to be greater than the \u0026lt;code\u0026gt;height\u0026lt;/code\u0026gt; of the menu can possibly be.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I\u0026apos;ve came across this issue multiple times and now simply went with:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.block\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;250ms\u0026lt;/span\u0026gt; ease;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.block--invisible\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;pointer-events\u0026lt;/span\u0026gt;: none;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;By adding the class \u0026lt;code\u0026gt;block--invisible\u0026lt;/code\u0026gt; the whole Elements will not be clickable but all Elements behind it will be because of the \u0026lt;code\u0026gt;pointer-events:none\u0026lt;/code\u0026gt; which is supported by all major browsers (no IE \u0026amp;lt; 11).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Change \u0026lt;code\u0026gt;overflow:hidden\u0026lt;/code\u0026gt; to \u0026lt;code\u0026gt;overflow:visible\u0026lt;/code\u0026gt;. It works better. I use like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#menu\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#fe1c1c\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;width\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;85px\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0px\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;box-shadow\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1px\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3px\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10px\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;#000000\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;border-radius\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3px\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;z-index\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;:all \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5s\u0026lt;/span\u0026gt; ease;\n    -moz-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;:all \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.6s\u0026lt;/span\u0026gt; ease;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#menu\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;  {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;overflow\u0026lt;/span\u0026gt;:visible;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;140px\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;visible\u0026lt;/code\u0026gt; is better because \u0026lt;code\u0026gt;overflow:hidden\u0026lt;/code\u0026gt; act exactly like a \u0026lt;code\u0026gt;display:none\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;It is as simple as the following :)\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@keyframes\u0026lt;/span\u0026gt; fadeout {\n    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: auto; }\n    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;90%\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: auto; }\n    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation\u0026lt;/span\u0026gt;: fadeout linear \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5s\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; normal forwards \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;!important\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Get it to fade away, and then make it \u0026lt;code\u0026gt;height 0;\u0026lt;/code\u0026gt;. Also make sure to use forwards so that it stays in the final state.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I appreciate all the answers. Here is what I\u0026apos;m using for similar purposes: transition vs animation.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Example: \u0026lt;a href=\u0026quot;https://jsfiddle.net/grinevri/tcod87Le/22/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://jsfiddle.net/grinevri/tcod87Le/22/\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;animation\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;transition\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@keyframes\u0026lt;/span\u0026gt; animationTo {\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;rgba\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;); }\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;rgba\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5\u0026lt;/span\u0026gt;); }\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@keyframes\u0026lt;/span\u0026gt; animationFrom {\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;rgba\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5\u0026lt;/span\u0026gt;); }\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;rgba\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;); }\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.animation\u0026lt;/span\u0026gt;,\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.transition\u0026lt;/span\u0026gt;{\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5px\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100px\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;width\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100px\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;rgba\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.animation\u0026lt;/span\u0026gt;{\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation\u0026lt;/span\u0026gt;: animationFrom \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;250ms\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.animation\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt;{\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;rgba\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5\u0026lt;/span\u0026gt;);\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation\u0026lt;/span\u0026gt;: animationTo \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;250ms\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.transition\u0026lt;/span\u0026gt;{\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: background-color \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;250ms\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.transition\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt;{\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;rgba\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5\u0026lt;/span\u0026gt;);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I finally found a solution for me, by combining \u0026lt;code\u0026gt;opacity\u0026lt;/code\u0026gt; with \u0026lt;code\u0026gt;position absolute\u0026lt;/code\u0026gt; (not to occupy space when hidden).\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggle\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;position\u0026lt;/span\u0026gt;: absolute;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.8s\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.parent\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggle\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;position\u0026lt;/span\u0026gt;: static;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;JavaScript is not required, and no outrageously huge max-height is needed. Instead, set your \u0026lt;code\u0026gt;max-height\u0026lt;/code\u0026gt; on your text elements, and use a font relative unit such as \u0026lt;code\u0026gt;rem\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;em\u0026lt;/code\u0026gt;. This way, you can set a maximum height larger than your container, while avoiding a delay or \u0026quot;popping\u0026quot; when the menu closes:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;HTML\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;nav\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;checkbox\u0026quot;\u0026lt;/span\u0026gt; /\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Link 1\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Link 1\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Link 1\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Link 1\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;nav\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;CSS\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;nav\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt; { // Notice \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;I\u0026lt;/span\u0026gt; set \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt; on \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt;, not \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt;\n   \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;nav\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:checked\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;ul\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;li\u0026lt;/span\u0026gt; {\n   \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;max-height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3rem\u0026lt;/span\u0026gt;; // \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; little bigger \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;to\u0026lt;/span\u0026gt; allow for text-wrapping - but not outrageous\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;See an example here:\n\u0026lt;a href=\u0026quot;http://codepen.io/mindfullsilence/pen/DtzjE\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;http://codepen.io/mindfullsilence/pen/DtzjE\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;After the accepted answer from Guillermo was written, the CSS\ntransition specification of 2012-04-03 changed the behavior of the visibility transition and \u0026lt;strong\u0026gt;now it is possible to solve this problem in a shorter way\u0026lt;/strong\u0026gt;, without the use of transition-delay:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.myclass\u0026lt;/span\u0026gt; \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; {\n                   \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;:visibility \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;;\n                   \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;visibility\u0026lt;/span\u0026gt;:hidden;  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n               }\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.myclass\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt; \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\n               {   \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;visibility\u0026lt;/span\u0026gt;:visible; \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The run time specified for both transitions should usually be\nidentical (although a slightly longer time for visibility is not a problem).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For a running version, see my blog post \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;http://www.taccgl.org/blog/css-transition-visibility.html#visibility-opacity\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;CSS Transition Visibility\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;W.r.t. the title of the question \u0026lt;em\u0026gt;\u0026quot;Transitions on the display: property\u0026quot;\u0026lt;/em\u0026gt; and in response to comments from Rui Marques and josh to the accepted answer:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This solution works in cases \u0026lt;strong\u0026gt;where it is irrelevant if the display or\nvisibility property is used\u0026lt;/strong\u0026gt; (as it probably was the case in this question).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It will not completely remove the element as \u0026lt;code\u0026gt;display:none\u0026lt;/code\u0026gt;, just make it invisible, but it still stays in the document flow and influences the position of the following elements.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Transitions that completely remove the element similar to \u0026lt;code\u0026gt;display:none\u0026lt;/code\u0026gt; can be done using height (as indicated by other answers and comments), max-height, or margin-top/bottom, but also see\n\u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/3508605/css-transition-height-0-to-height-auto/\u0026quot;\u0026gt;How can I transition height: 0; to height: auto; using CSS?\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt; and my blog post \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://www.taccgl.org/blog/css_transition_display.html\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Workarounds for CSS Transitions on the Display and Height Properties\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In response to comment from GeorgeMillo:\nBoth properties and both transitions are needed: The opacity property\nis used to create a fade-in and fade-out animation and the visibility\nproperty to avoid the element still reacting on mouse\nevents. Transitions are needed on opacity for the visual effect and on\nvisibility to delay hiding until the fade-out is finished.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I suspect anyone just starting CSS transitions quickly discovers that they don\u0026apos;t work if you\u0026apos;re modifying the display property (block/none) at the same time. One workaround that hasn\u0026apos;t yet been mentioned is that you can continue to use \u0026lt;code\u0026gt;display:block/none\u0026lt;/code\u0026gt; to hide/show the element, but set its opacity to 0 so that even when it\u0026apos;s \u0026lt;code\u0026gt;display:block\u0026lt;/code\u0026gt;, it\u0026apos;s still invisible.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Then to fade it in, add another CSS class such as \u0026quot;on\u0026quot; which sets the opacity to 1 and defines the transition for opacity. As you may have imagined, you\u0026apos;ll have to use JavaScript to add that \u0026quot;on\u0026quot; class to the element, but at least you\u0026apos;re still using CSS for the actual transition.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;P.S. If you find yourself in a situation where you need to do both \u0026lt;code\u0026gt;display:block\u0026lt;/code\u0026gt;, and add class \u0026quot;on\u0026quot;, at the same time, defer the latter using setTimeout. Otherwise, the browser just sees both things as happening at once and disables the transition.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can get this to work the natural way you expected - using display - but you have to throttle the browser to get it to work, using either Javascript or as others have suggested a fancy trick with one tag inside another. I don\u0026apos;t care for the inner tag as it further complicates CSS and dimensions, so here\u0026apos;s the Javascript solution:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://jsfiddle.net/b9chris/hweyecu4/17/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://jsfiddle.net/b9chris/hweyecu4/17/\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Starting with a box like:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;\u0026amp;lt;div \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;box\u0026quot;\u0026lt;/span\u0026gt; class=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;hidden\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;Lorem\u0026amp;lt;/div\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;A hidden box.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.hidden\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: none;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#box\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;;\n}\n    \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;We\u0026apos;re going to use a trick found in a related q/a, checking offsetHeight to throttle the browser instantaneously:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/16575811/176877\u0026quot;\u0026gt;https://stackoverflow.com/a/16575811/176877\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;First, a library formalizing the above trick:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;$.fn.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;noTrnsn\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;each\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;i, tag\u0026lt;/span\u0026gt;) {\n        tag.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;none\u0026apos;\u0026lt;/span\u0026gt;;\n    });\n};\n$.fn.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;resumeTrnsn\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;each\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;i, tag\u0026lt;/span\u0026gt;) {\n        tag.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;offsetHeight\u0026lt;/span\u0026gt;;    \n        tag.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;;\n    });\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Next, we\u0026apos;re going to use it to reveal a box, and fade it in:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;$(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;#button\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;click\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; tag = $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;#box\u0026apos;\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (tag.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hasClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;hidden\u0026apos;\u0026lt;/span\u0026gt;))\n        tag.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;noTrnsn\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;removeClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;hidden\u0026apos;\u0026lt;/span\u0026gt;)\n        .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;css\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; })\n        .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;resumeTrnsn\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;css\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; });\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;\n        tag.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;css\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; });\n});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This fades the box in and out. So, \u0026lt;code\u0026gt;.noTrnsn()\u0026lt;/code\u0026gt; turns off transitions, then we remove the \u0026lt;code\u0026gt;hidden\u0026lt;/code\u0026gt; class, which flips \u0026lt;code\u0026gt;display\u0026lt;/code\u0026gt; from \u0026lt;code\u0026gt;none\u0026lt;/code\u0026gt; to its default, \u0026lt;code\u0026gt;block\u0026lt;/code\u0026gt;. We then set opacity to 0 to get ready for fading in. Now that we\u0026apos;ve set the stage, we turn transitions back on, with \u0026lt;code\u0026gt;.resumeTrnsn()\u0026lt;/code\u0026gt;. And finally, kick off the transition by setting opacity to 1.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Without the library, both the change to display and the change to opacity would\u0026apos;ve gotten us undesirable results. If we simply removed the library calls, we\u0026apos;d get no transitions at all.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Note that the above does not set display to none again at the end of the fadeout animation. We can get fancier though. Let\u0026apos;s do so with one that fades in and grows in height from 0.\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;Fancy!\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://jsfiddle.net/b9chris/hweyecu4/22/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://jsfiddle.net/b9chris/hweyecu4/22/\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#box\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: height \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;We\u0026apos;re now transitioning both height and opacity. Note that we are not setting height, which means it is the default, \u0026lt;code\u0026gt;auto\u0026lt;/code\u0026gt;. Conventionally this cannot be transitioned - moving from auto to a pixel value (like 0) will get you no transition. We\u0026apos;re going to work around that with the library, and one more library method:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-kotlin\u0026quot;\u0026gt;$.fn.wait = function (time, fn) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (time)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.delay(time);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!fn)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; _this = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.queue(function (n) {\n        fn.call(_this);\n        n();\n    });\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This is a convenience method that lets us participate in jQuery\u0026apos;s existing fx/animation queue, without requiring any of the animation framework that\u0026apos;s now excluded in jQuery 3.x. I\u0026apos;m not going to explain how jQuery works, but suffice to say, the \u0026lt;code\u0026gt;.queue()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;.stop()\u0026lt;/code\u0026gt; plumbing that jQuery provides help us prevent our animations from stepping on each other.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Let\u0026apos;s animate the slide down effect.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;$(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;#button\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;click\u0026apos;\u0026lt;/span\u0026gt;, function() {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; tag = $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;#box\u0026apos;\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (tag.\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;hasClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;hidden\u0026apos;\u0026lt;/span\u0026gt;)) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Open it\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Measure it\u0026lt;/span\u0026gt;\n        tag.\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;stop\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;noTrnsn\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;removeClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;hidden\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;css\u0026lt;/span\u0026gt;({\n            \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;auto\u0026apos;\u0026lt;/span\u0026gt;\n        });\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; h = tag.\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;();\n        tag.\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;css\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; }).\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;resumeTrnsn\u0026lt;/span\u0026gt;()\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Animate it\u0026lt;/span\u0026gt;\n        .\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;css\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: h })\n        .\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;wait\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;, function() {\n            tag.\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;css\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;auto\u0026apos;\u0026lt;/span\u0026gt; });\n        });\n    } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Close it\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Measure it\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; h = tag.\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;noTrnsn\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;();\n        tag.\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;stop\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;css\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: h })\n        .\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;resumeTrnsn\u0026lt;/span\u0026gt;()\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Animate it\u0026lt;/span\u0026gt;\n        .\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;css\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; })\n        .\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;wait\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;, function() {\n            tag.\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;addClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;hidden\u0026apos;\u0026lt;/span\u0026gt;);\n        });\n    }\n});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This code begins by checking on \u0026lt;code\u0026gt;#box\u0026lt;/code\u0026gt; and whether it\u0026apos;s currently hidden, by checking on its class. But it accomplishes more using the \u0026lt;code\u0026gt;wait()\u0026lt;/code\u0026gt; library call, by adding the \u0026lt;code\u0026gt;hidden\u0026lt;/code\u0026gt; class at the end of the slideout/fade animation, which you\u0026apos;d expect to find if it is in fact hidden - something the above simpler example could not do. This happens to also enable display/hiding the element over and over, which was a bug in the previous example, because the hidden class was never restored.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You can also see CSS and class changes being called after \u0026lt;code\u0026gt;.noTrnsn()\u0026lt;/code\u0026gt; to generally set the stage for animations, including taking measurements, like measuring what will be the final height of \u0026lt;code\u0026gt;#box\u0026lt;/code\u0026gt; without showing that to the user, before calling \u0026lt;code\u0026gt;.resumeTrnsn()\u0026lt;/code\u0026gt;, and animating it from that fully-set stage to its goal CSS values.\u0026lt;/p\u0026gt;\n\u0026lt;h1\u0026gt;Old Answer\u0026lt;/h1\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://jsfiddle.net/b9chris/hweyecu4/1/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://jsfiddle.net/b9chris/hweyecu4/1/\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You can have it transition on click with:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toggleTransition\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; el = $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;div.box1\u0026quot;\u0026lt;/span\u0026gt;);\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (el.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt;) {\n    el[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;className\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;box\u0026quot;\u0026lt;/span\u0026gt;;\n    el.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;stop\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;css\u0026lt;/span\u0026gt;({\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;maxWidth\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;}).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;animate\u0026lt;/span\u0026gt;({\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;maxWidth\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10001\u0026lt;/span\u0026gt;}, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2000\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        el[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;className\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;box hidden\u0026quot;\u0026lt;/span\u0026gt;;\n    });\n  } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n    el = $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;div.box\u0026quot;\u0026lt;/span\u0026gt;);\n    el[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;className\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;box\u0026quot;\u0026lt;/span\u0026gt;;\n    el.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;stop\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;css\u0026lt;/span\u0026gt;({\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;maxWidth\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10001\u0026lt;/span\u0026gt;}).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;animate\u0026lt;/span\u0026gt;({\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;maxWidth\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;}, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        el[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;className\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;box box1\u0026quot;\u0026lt;/span\u0026gt;;\n    });\n  }\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; el;\n}\n\nsomeTag.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;click\u0026lt;/span\u0026gt;(toggleTransition);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The CSS is what you\u0026apos;d guess:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.hidden\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: none;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.box\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;width\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100px\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100px\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: blue;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;color\u0026lt;/span\u0026gt;: yellow;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;font-size\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;18px\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;left\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20px\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;top\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20px\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;position\u0026lt;/span\u0026gt;: absolute;\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform-origin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50%\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform-origin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50%\u0026lt;/span\u0026gt;;\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;scale\u0026lt;/span\u0026gt;(.\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;scale\u0026lt;/span\u0026gt;(.\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;);\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: transform \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2s\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: transform \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2s\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.box1\u0026lt;/span\u0026gt;{\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;scale\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transform\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;scale\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The key is throttling the display property. By removing the hidden class and then waiting 50\u0026amp;nbsp;ms, \u0026lt;em\u0026gt;then\u0026lt;/em\u0026gt; starting the transition via the added class, we get it to appear and then expand like we wanted, instead of it just blipping onto the screen without any animation. Similar occurs going the other way, except we wait till the animation is over before applying hidden.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Note: I\u0026apos;m abusing \u0026lt;code\u0026gt;.animate(maxWidth)\u0026lt;/code\u0026gt; here to avoid \u0026lt;code\u0026gt;setTimeout\u0026lt;/code\u0026gt; race conditions. \u0026lt;code\u0026gt;setTimeout\u0026lt;/code\u0026gt; is quick to introduce hidden bugs when you or someone else picks up code unaware of it. \u0026lt;code\u0026gt;.animate()\u0026lt;/code\u0026gt; can easily be killed with \u0026lt;code\u0026gt;.stop()\u0026lt;/code\u0026gt;. I\u0026apos;m just using it to put a 50\u0026amp;nbsp;ms or 2000\u0026amp;nbsp;ms delay on the standard fx queue where it\u0026apos;s easy to find/resolve by other coders building on top of this.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Well another way to apply transition in this situation \u0026lt;strong\u0026gt;without using keyframes\u0026lt;/strong\u0026gt; is to set the \u0026lt;strong\u0026gt;width\u0026lt;/strong\u0026gt; of your element to \u0026lt;strong\u0026gt;zero\u0026lt;/strong\u0026gt; and then unset it on hover\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.className\u0026lt;/span\u0026gt;{\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;visibility\u0026lt;/span\u0026gt;:hidden;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2s\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;width\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.className\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-pseudo\u0026quot;\u0026gt;:hover\u0026lt;/span\u0026gt;{\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;visibility\u0026lt;/span\u0026gt;:visible;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;margin-right\u0026lt;/span\u0026gt;: .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5rem\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;width\u0026lt;/span\u0026gt;:unset;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I had a similar issue that I couldn\u0026apos;t find the answer to. A few Google searches later led me here. Considering I didn\u0026apos;t find the simple answer I was hoping for, I stumbled upon a solution that is both elegant and effective.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It turns out the \u0026lt;code\u0026gt;visibility\u0026lt;/code\u0026gt; CSS property has a value \u0026lt;code\u0026gt;collapse\u0026lt;/code\u0026gt; which is generally used for table items. However, if used on any other elements it effectively renders them as \u0026lt;em\u0026gt;hidden\u0026lt;/em\u0026gt;, pretty much the same as \u0026lt;code\u0026gt;display: hidden\u0026lt;/code\u0026gt; but with the added ability that the element doesn\u0026apos;t take up any space and you can still animate the element in question.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Below is a simple example of this in action.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toggleVisibility\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; exampleElement = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;querySelector\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;span\u0026apos;\u0026lt;/span\u0026gt;);\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (exampleElement.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;classList\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;contains\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;visible\u0026apos;\u0026lt;/span\u0026gt;)) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt;;\n  }\n  exampleElement.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;innerHTML\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;I will not take up space!\u0026apos;\u0026lt;/span\u0026gt;;\n  exampleElement.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;classList\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toggle\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;hidden\u0026apos;\u0026lt;/span\u0026gt;);\n  exampleElement.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;classList\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toggle\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;visible\u0026apos;\u0026lt;/span\u0026gt;);\n  \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;setTimeout\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;() =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n    exampleElement.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;classList\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toggle\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;visible\u0026apos;\u0026lt;/span\u0026gt;);\n    exampleElement.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;classList\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toggle\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;hidden\u0026apos;\u0026lt;/span\u0026gt;);\n  }, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3000\u0026lt;/span\u0026gt;);\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#main\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: flex;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;flex-direction\u0026lt;/span\u0026gt;: column;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;width\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;300px\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;text-align\u0026lt;/span\u0026gt;: center;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.hidden\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;visibility\u0026lt;/span\u0026gt;: collapse;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: visibility \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2s\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2s\u0026lt;/span\u0026gt; linear;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.visible\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;visibility\u0026lt;/span\u0026gt;: visible;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: visibility \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5s\u0026lt;/span\u0026gt;, opacity \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.5s\u0026lt;/span\u0026gt; linear;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;main\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;button\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;onclick\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;toggleVisibility()\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Click Me!\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;button\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;hidden\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;I will get pushed back up...\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif3\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The simplest universal solution to the problem is: feel free to specify \u0026lt;code\u0026gt;display:none\u0026lt;/code\u0026gt; in your CSS, however you will have change it to \u0026lt;code\u0026gt;block\u0026lt;/code\u0026gt; (or whatever else) using JavaScript, and then you\u0026apos;ll also have to add a class to your element in question that actually does the transition \u0026lt;em\u0026gt;with setTimeout()\u0026lt;/em\u0026gt;. That\u0026apos;s all.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I.e.:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;language-css\u0026quot;\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#el\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: none;\n        \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    }\n    \u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#el\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.auto-fade-in\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease-out; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* Future, future, please come sooner! */\u0026lt;/span\u0026gt;\n        -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease-out;\n        -moz-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease-out;\n        -o-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: all \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt; ease-out;\n    }\n\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;el\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Well, well, well\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;language-javascript\u0026quot;\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; el = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getElementById\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;el\u0026apos;\u0026lt;/span\u0026gt;);\n    el.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;style\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;block\u0026apos;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;setTimeout\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) { el.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;className\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;auto-fade-in\u0026apos;\u0026lt;/span\u0026gt; }, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This was tested in the latest sane browsers. Obviously it shouldn\u0026apos;t work in Internet\u0026amp;nbsp;Explorer\u0026amp;nbsp;9 or earlier.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I think SalmanPK has the closest answer. It does fade an item in or out, with the following CSS animations. However, the display property does not animate smoothly, only the opacity.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@-webkit-keyframes\u0026lt;/span\u0026gt; fadeIn {\n    \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; }\n      \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;to\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;; }\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@-webkit-keyframes\u0026lt;/span\u0026gt; fadeOut {\n    \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;; }\n      \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;to\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;If you want to animate the element moving from display block to display none, I can\u0026apos;t see that it is currently possible just with CSS. You have to get the height and use a CSS animation to decrease the height. This is possible with CSS as shown in the example below, but it would be tricky to know the exact height values you need to animate for an element.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://jsfiddle.net/StevenIseki/v2nup35t/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;jsFiddle\u0026lt;/a\u0026gt; \u0026lt;b\u0026gt;example\u0026lt;/b\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;CSS\u0026lt;/h3\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@-webkit-keyframes\u0026lt;/span\u0026gt; pushDown {\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10em\u0026lt;/span\u0026gt;;\n  }\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25%\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7.5em\u0026lt;/span\u0026gt;;\n  }\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50%\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5em\u0026lt;/span\u0026gt;;\n  }\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;75%\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.5em\u0026lt;/span\u0026gt;;\n  }\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;height\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0em\u0026lt;/span\u0026gt;;\n  }\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.push-down\u0026lt;/span\u0026gt; {\n    -webkit-\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation\u0026lt;/span\u0026gt;: pushDown \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2s\u0026lt;/span\u0026gt; forwards linear;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h3\u0026gt;JavaScript\u0026lt;/h3\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; element = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getElementById\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;element\u0026quot;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Push item down\u0026lt;/span\u0026gt;\nelement.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;className\u0026lt;/span\u0026gt; = element.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;className\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; push-down\u0026quot;\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This solution has excellent compatibility, and I haven\u0026apos;t seen it yet:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.hidden-element\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;position\u0026lt;/span\u0026gt;: absolute;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;z-index\u0026lt;/span\u0026gt;: -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;pointer-events\u0026lt;/span\u0026gt;: none;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;visibility\u0026lt;/span\u0026gt;: hidden;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;transition\u0026lt;/span\u0026gt;: visibility \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0s\u0026lt;/span\u0026gt;, opacity .\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5s\u0026lt;/span\u0026gt; ease-out;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.hidden-element\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.visible\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;position\u0026lt;/span\u0026gt;: static;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;z-index\u0026lt;/span\u0026gt;: auto;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;pointer-events\u0026lt;/span\u0026gt;: auto;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;visibility\u0026lt;/span\u0026gt;: visible;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Explanation\u0026lt;/strong\u0026gt;: it uses the \u0026lt;code\u0026gt;visibility: hidden\u0026lt;/code\u0026gt; trick (which is compatible with show-and-animate in one step), but it uses the combination \u0026lt;code\u0026gt;position: absolute; z-index: -1; pointer-events: none;\u0026lt;/code\u0026gt; to make sure that the hidden container \u0026lt;strong\u0026gt;does not take space\u0026lt;/strong\u0026gt; and \u0026lt;strong\u0026gt;does not answer to user interactions\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can do this with transition events, so you build two CSS classes for the transition, one holding the animation other, holding the display none state. And you switch them after the animation is ended? In my case I can display the divs again if I press a button, and remove both classes.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Try the snippet below...\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;$(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ready\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Assign transition event\u0026lt;/span\u0026gt;\n  $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;table\u0026quot;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;animationend webkitAnimationEnd\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;.visibility_switch_off\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;event\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// We check if this is the same animation we want\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (event.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;originalEvent\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;animationName\u0026lt;/span\u0026gt; == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;col_hide_anim\u0026quot;\u0026lt;/span\u0026gt;) {\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// After the animation we assign this new class that basically hides the elements.\u0026lt;/span\u0026gt;\n      $(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;addClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;animation-helper-display-none\u0026quot;\u0026lt;/span\u0026gt;);\n    }\n\n  });\n\n  $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;button\u0026quot;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;click\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;event\u0026lt;/span\u0026gt;) {\n\n    $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;table tr .hide-col\u0026quot;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toggleClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// We switch the animation class in a toggle fashion...\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// and we know in that after the animation end, there\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// is will the animation-helper-display-none extra\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// class, that we nee to remove, when we want to\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// show the elements again, depending on the toggle\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// state, so we create a relation between them.\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; ($(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;.animation-helper-display-none\u0026quot;\u0026lt;/span\u0026gt;)) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// I\u0026apos;m toggling and there is already the above class, then\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// what we want it to show the elements , so we remove\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// both classes...\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;visibility_switch_off animation-helper-display-none\u0026quot;\u0026lt;/span\u0026gt;;\n      }\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Here we just want to hide the elements, so we just\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// add the animation class, the other will be added\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// later be the animationend event...\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;visibility_switch_off\u0026quot;\u0026lt;/span\u0026gt;;\n      }\n    });\n  });\n});\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;table\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;th\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: grey;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;table\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;td\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;background-color\u0026lt;/span\u0026gt;: white;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;padding\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5px\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.animation-helper-display-none\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: none;\n}\n\n\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;table\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;tr\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.visibility_switch_off\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation-fill-mode\u0026lt;/span\u0026gt;: forwards;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation-name\u0026lt;/span\u0026gt;: col_hide_anim;\n  \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;animation-duration\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1s\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@-webkit-keyframes\u0026lt;/span\u0026gt; col_hide_anim {\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt; {\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;}\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt; {\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;}\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@-moz-keyframes\u0026lt;/span\u0026gt; col_hide_anim {\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt; {\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;}\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt; {\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;}\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@-o-keyframes\u0026lt;/span\u0026gt; col_hide_anim {\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt; {\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;}\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt; {\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;}\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@keyframes\u0026lt;/span\u0026gt; col_hide_anim {\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0%\u0026lt;/span\u0026gt;   {\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;}\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100%\u0026lt;/span\u0026gt; {\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;opacity\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;}\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;src\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;table\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;theader\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;tr\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;th\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Name\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;th\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;th\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;hide-col\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Age\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;th\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;th\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Country\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;th\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;tr\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;theader\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;tbody\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;tr\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;td\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Name\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;td\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;td\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;hide-col\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Age\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;td\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;td\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Country\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;td\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;tr\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;tbody\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;table\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;button\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Switch - Hide Age column with fadeout animation and display none after\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;button\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif4\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Instead of using \u0026lt;code\u0026gt;display\u0026lt;/code\u0026gt; you could store the element \u0026apos;off-screen\u0026apos; until you needed it, and then set its position to where you want it and transform it at the same time. This brings up a whole host of other design issues though, so your mileage may vary.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You probably wouldn\u0026apos;t want to use \u0026lt;code\u0026gt;display\u0026lt;/code\u0026gt; anyway, as you\u0026apos;d want the content to be accessible to screen readers, which for the most part try to obey rules for visibility - i.e., if it shouldn\u0026apos;t be visible to the eye, it won\u0026apos;t show up as content to the agent.\u0026lt;/p\u0026gt;\n    "],"id":366,"title":"Transitions on the CSS display property","content":"\n                \n\u0026lt;p\u0026gt;I\u0026apos;m currently designing a CSS \u0026apos;mega dropdown\u0026apos; menu - basically a regular CSS-only dropdown menu, but one that contains different types of content.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;At the moment, \u0026lt;strong\u0026gt;it appears that CSS\u0026amp;nbsp;3 transitions don\u0026apos;t apply to the \u0026apos;display\u0026apos; property\u0026lt;/strong\u0026gt;, i.e., you can\u0026apos;t do any sort of transition from \u0026lt;code\u0026gt;display: none\u0026lt;/code\u0026gt; to \u0026lt;code\u0026gt;display: block\u0026lt;/code\u0026gt; (or any combination).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Is there a way for the second-tier menu from the above example to \u0026apos;fade in\u0026apos; when someone hovers over one of the top level menu items?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I\u0026apos;m aware that you can use transitions on the \u0026lt;code\u0026gt;visibility:\u0026lt;/code\u0026gt; property, but I can\u0026apos;t think of a way to use that effectively.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I\u0026apos;ve also tried using height, but that just failed miserably.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I\u0026apos;m also aware that it\u0026apos;s trivial to achieve this using JavaScript, but I wanted to challenge myself to use just CSS, and I think I\u0026apos;m coming up a little short.\u0026lt;/p\u0026gt;\n    ","slug":"transitions-on-the-css-display-property-1657387761601","postType":"QUESTION","createdAt":"2022-07-09T17:29:21.000Z","updatedAt":"2022-07-09T17:29:21.000Z","tags":[{"id":2026,"name":"css-transitions","slug":"css-transitions","createdAt":"2022-07-09T17:29:21.000Z","updatedAt":"2022-07-09T17:29:21.000Z","Questions_Tags":{"questionId":366,"tagId":2026}}],"relatedQuestions":[{"title":"Transitions on the CSS display property","slug":"transitions-on-the-css-display-property-1657387761601","tags":[{"name":"css-transitions","Questions_Tags":{"questionId":366,"tagId":2026}}]}]},"randomQuestions":[{"title":"Why is using 'eval' a bad practice?","slug":"why-is-using-'eval'-a-bad-practice-1657387348760"},{"title":"Why should there be spaces around '[' and ']' in Bash?","slug":"why-should-there-be-spaces-around-''-and-''-in-bash-1657387984122"},{"title":"How does Access-Control-Allow-Origin header work?","slug":"how-does-access-control-allow-origin-header-work-1657384881723"},{"title":"Self-references in object literals / initializers","slug":"self-references-in-object-literals-initializers-1657384835356"},{"title":"Percentage Height HTML 5/CSS","slug":"percentage-height-html-5css-1657387471048"},{"title":"What is the best way to detect a mobile device?","slug":"what-is-the-best-way-to-detect-a-mobile-device-1657387665025"},{"title":"Why does Date.parse give incorrect results?","slug":"why-does-date.parse-give-incorrect-results-1657384642821"},{"title":"What is the \"N+1 selects problem\" in ORM (Object-Relational Mapping)?","slug":"what-is-the-\"n+1-selects-problem\"-in-orm-(object-relational-mapping)-1657388055597"},{"title":"How to convert a factor to integer\\numeric without loss of information?","slug":"how-to-convert-a-factor-to-integernumeric-without-loss-of-information-1657387880273"},{"title":"commandButton/commandLink/ajax action/listener method not invoked or input value not set/updated","slug":"commandbuttoncommandlinkajax-actionlistener-method-not-invoked-or-input-value-not-setupdated-1657384667519"},{"title":"Sorting an array of objects by property values","slug":"sorting-an-array-of-objects-by-property-values-1657387447490"},{"title":"How to return DataSnapshot value as a result of a method?","slug":"how-to-return-datasnapshot-value-as-a-result-of-a-method-1657387538165"},{"title":"How to avoid having class data shared among instances?","slug":"how-to-avoid-having-class-data-shared-among-instances-1657387687732"},{"title":"How to parse JSON in Java","slug":"how-to-parse-json-in-java-1657384575136"},{"title":"Is it possible to escape regex metacharacters reliably with sed","slug":"is-it-possible-to-escape-regex-metacharacters-reliably-with-sed-1657388428795"},{"title":"Removing trailing newline character from fgets() input","slug":"removing-trailing-newline-character-from-fgets()-input-1657387308069"},{"title":"Arrays, linked lists and other data structures in cmd.exe (batch) script","slug":"arrays-linked-lists-and-other-data-structures-in-cmd.exe-(batch)-script-1657387558484"},{"title":"Simulating group_concat MySQL function in Microsoft SQL Server 2005?","slug":"simulating-group_concat-mysql-function-in-microsoft-sql-server-2005-1657384832169"},{"title":"How to find the 'sizeof' (a pointer pointing to an array)?","slug":"how-to-find-the-'sizeof'-(a-pointer-pointing-to-an-array)-1657387354284"},{"title":"What's the meaning of \"=\u003e\" (an arrow formed from equals \u0026 greater than) in JavaScript?","slug":"what's-the-meaning-of-\"greater\"-(an-arrow-formed-from-equals-and-greater-than)-in-javascript-1657387977118"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"transitions-on-the-css-display-property-1657387761601"},"buildId":"Zo3C7AOWQzKM9qqyzx2hf","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>