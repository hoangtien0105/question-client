<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>SQL select only rows with max value on a column [duplicate] | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="
            
        
            
                    
                        
                    
                
                    
                        Want to improve this post? Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.
                        
                    
                
            
        


            
        
            
                
                    
                        This question already has answers here:
                        
                    
                
            
                    
                        Retrieving the last record in each group - MySQL
                            
                                (33 answers)
                            
                    
                Closed 3 years ago.
        


    

I have this table for documents (simplified version here):




id
rev
content




1
1
...


2
1
...


1
2
...


1
3
...




How do I select one row per id and only the greatest rev?
With the above data, the result should contain two rows: [1, 3, ...] and [2, 1, ..]. I&#x27;m using MySQL.
Currently I use checks in the while loop to detect and over-write old revs from the resultset. But is this the only method to achieve the result? Isn&#x27;t there a SQL solution?
    "/><meta property="og:title" content="SQL select only rows with max value on a column [duplicate] | Solutions Checker"/><meta property="og:description" content="
            
        
            
                    
                        
                    
                
                    
                        Want to improve this post? Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.
                        
                    
                
            
        


            
        
            
                
                    
                        This question already has answers here:
                        
                    
                
            
                    
                        Retrieving the last record in each group - MySQL
                            
                                (33 answers)
                            
                    
                Closed 3 years ago.
        


    

I have this table for documents (simplified version here):




id
rev
content




1
1
...


2
1
...


1
2
...


1
3
...




How do I select one row per id and only the greatest rev?
With the above data, the result should contain two rows: [1, 3, ...] and [2, 1, ..]. I&#x27;m using MySQL.
Currently I use checks in the while loop to detect and over-write old revs from the resultset. But is this the only method to achieve the result? Isn&#x27;t there a SQL solution?
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"SQL select only rows with max value on a column [duplicate]","text":"\n            \n        \n            \n                    \n                        \n                    \n                \n                    \n                        Want to improve this post? Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.\n                        \n                    \n                \n            \n        \n\n\n            \n        \n            \n                \n                    \n                        This question already has answers here:\n                        \n                    \n                \n            \n                    \n                        Retrieving the last record in each group - MySQL\n                            \n                                (33 answers)\n                            \n                    \n                Closed 3 years ago.\n        \n\n\n    \n\nI have this table for documents (simplified version here):\n\n\n\n\nid\nrev\ncontent\n\n\n\n\n1\n1\n...\n\n\n2\n1\n...\n\n\n1\n2\n...\n\n\n1\n3\n...\n\n\n\n\nHow do I select one row per id and only the greatest rev?\nWith the above data, the result should contain two rows: [1, 3, ...] and [2, 1, ..]. I&apos;m using MySQL.\nCurrently I use checks in the while loop to detect and over-write old revs from the resultset. But is this the only method to achieve the result? Isn&apos;t there a SQL solution?\n    ","answerCount":27,"upVoteCount":500,"suggestedAnswer":[{"text":"At first glance...\nAll you need is a GROUP BY clause with the MAX aggregate function:\nSELECT id, MAX(rev)\nFROM YourTable\nGROUP BY id\n\nIt&apos;s never that simple, is it?\nI just noticed you need the content column as well.\nThis is a very common question in SQL: find the whole data for the row with some max value in a column per some group identifier. I heard that a lot during my career. Actually, it was one the questions I answered in my current job&apos;s technical interview.\nIt is, actually, so common that Stack Overflow community has created a single tag just to deal with questions like that: greatest-n-per-group.\nBasically, you have two approaches to solve that problem:\nJoining with simple group-identifier, max-value-in-group Sub-query\nIn this approach, you first find the group-identifier, max-value-in-group (already solved above) in a sub-query. Then you join your table to the sub-query with equality on both group-identifier and max-value-in-group:\nSELECT a.id, a.rev, a.contents\nFROM YourTable a\nINNER JOIN (\n    SELECT id, MAX(rev) rev\n    FROM YourTable\n    GROUP BY id\n) b ON a.id = b.id AND a.rev = b.rev\n\nLeft Joining with self, tweaking join conditions and filters\nIn this approach, you left join the table with itself. Equality goes in the group-identifier. Then, 2 smart moves:\n\nThe second join condition is having left side value less than right value\nWhen you do step 1, the row(s) that actually have the max value will have NULL in the right side (it&apos;s a LEFT JOIN, remember?). Then, we filter the joined result, showing only the rows where the right side is NULL.\n\nSo you end up with:\nSELECT a.*\nFROM YourTable a\nLEFT OUTER JOIN YourTable b\n    ON a.id = b.id AND a.rev &lt; b.rev\nWHERE b.id IS NULL;\n\nConclusion\nBoth approaches bring the exact same result.\nIf you have two rows with max-value-in-group for group-identifier, both rows will be in the result in both approaches.\nBoth approaches are SQL ANSI compatible, thus, will work with your favorite RDBMS, regardless of its &quot;flavor&quot;.\nBoth approaches are also performance friendly, however your mileage may vary (RDBMS, DB Structure, Indexes, etc.). So when you pick one approach over the other, benchmark. And make sure you pick the one which make most of sense to you.\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"My preference is to use as little code as possible...\n\nYou can do it using IN\ntry this:\n\nSELECT * \nFROM t1 WHERE (id,rev) IN \n( SELECT id, MAX(rev)\n  FROM t1\n  GROUP BY id\n)\n\n\nto my mind it is less complicated... easier to read and maintain.\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"I am flabbergasted that no answer offered SQL window function solution:\nSELECT a.id, a.rev, a.contents\n  FROM (SELECT id, rev, contents,\n               ROW_NUMBER() OVER (PARTITION BY id ORDER BY rev DESC) ranked_order\n          FROM YourTable) a\n WHERE a.ranked_order = 1 \n\nAdded in SQL standard ANSI/ISO Standard SQL:2003  and later extended with ANSI/ISO Standard SQL:2008, window (or windowing) functions are available with all major vendors now. There are more types of rank functions available to deal with a tie issue: RANK, DENSE_RANK, PERSENT_RANK.\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"Yet another solution is to use a correlated subquery:\n\nselect yt.id, yt.rev, yt.contents\n    from YourTable yt\n    where rev = \n        (select max(rev) from YourTable st where yt.id=st.id)\n\n\nHaving an index on (id,rev) renders the subquery almost as a simple lookup...\n\nFollowing are comparisons to the solutions in @AdrianCarneiro&apos;s answer (subquery, leftjoin), based on MySQL measurements with InnoDB table of ~1million records, group size being: 1-3.\n\nWhile for full table scans subquery/leftjoin/correlated timings relate to each other as 6/8/9, when it comes to direct lookups or batch (id in (1,2,3)), subquery is much slower then the others (Due to rerunning the subquery). However I couldnt differentiate between leftjoin and correlated solutions in speed.\n\nOne final note, as leftjoin creates n*(n+1)/2 joins in groups, its performance can be heavily affected by the size of groups...\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"I can&apos;t vouch for the performance, but here&apos;s a trick inspired by the limitations of Microsoft Excel.  It has some good features\n\nGOOD STUFF\n\n\nIt should force return of only one &quot;max record&quot; even if there is a tie (sometimes useful)\nIt doesn&apos;t require a join\n\n\nAPPROACH\n\nIt is a little bit ugly and requires that you know something about the range of valid values of the rev column.  Let us assume that we know the rev column is a number between 0.00 and 999 including decimals but that there will only ever be two digits to the right of the decimal point (e.g. 34.17 would be a valid value).\n\nThe gist of the thing is that you create a single synthetic column by string concatenating/packing the primary comparison field along with the data you want.  In this way, you can force SQL&apos;s MAX() aggregate function to return all of the data (because it has been packed into a single column).  Then you have to unpack the data.\n\nHere&apos;s how it looks with the above example, written in SQL\n\nSELECT id, \n       CAST(SUBSTRING(max(packed_col) FROM 2 FOR 6) AS float) as max_rev,\n       SUBSTRING(max(packed_col) FROM 11) AS content_for_max_rev \nFROM  (SELECT id, \n       CAST(1000 + rev + .001 as CHAR) || &apos;---&apos; || CAST(content AS char) AS packed_col\n       FROM yourtable\n      ) \nGROUP BY id\n\n\nThe packing begins by forcing the rev column to be a number of known character length regardless of the value of rev so that for example\n\n\n3.2    becomes    1003.201\n57     becomes    1057.001\n923.88 becomes    1923.881\n\n\nIf you do it right, string comparison of two numbers should yield the same &quot;max&quot; as numeric comparison of the two numbers and it&apos;s easy to convert back to the original number using the substring function (which is available in one form or another pretty much everywhere).\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"Unique Identifiers?  Yes!  Unique identifiers!\nOne of the best ways to develop a MySQL DB is to have each id AUTOINCREMENT (Source MySQL.com).  This allows a variety of advantages, too many to cover here.  The problem with the question is that its example has duplicate ids.  This disregards these tremendous advantages of unique identifiers, and at the same time, is confusing to those familiar with this already.\nCleanest Solution\nDB Fiddle\nNewer versions of MySQL come with ONLY_FULL_GROUP_BY enabled by default, and many of the solutions here will fail in testing with this condition.\nEven so, we can simply select DISTINCT someuniquefield, MAX( whateverotherfieldtoselect ), ( *somethirdfield ), etc., and have no worries understanding the result or how the query works :\nSELECT DISTINCT t1.id, MAX(t1.rev), MAX(t2.content)\nFROM Table1 AS t1\nJOIN Table1 AS t2 ON t2.id = t1.id AND t2.rev = (\n    SELECT MAX(rev) FROM Table1 t3 WHERE t3.id = t1.id\n)\nGROUP BY t1.id;\n\n\nSELECT DISTINCT Table1.id, max(Table1.rev), max(Table2.content) : Return DISTINCT somefield, MAX() some otherfield, the last MAX() is redundant, because I know it&apos;s just one row, but it&apos;s required by the query.\nFROM Employee : Table searched on.\nJOIN Table1 AS Table2 ON Table2.rev = Table1.rev : Join the second table on the first, because, we need to get the max(table1.rev)&apos;s comment.\nGROUP BY Table1.id: Force the top-sorted, Salary row of each employee to be the returned result.\n\nNote that since &quot;content&quot; was &quot;...&quot; in OP&apos;s question, there&apos;s no way to test that this works.  So, I changed that to &quot;..a&quot;, &quot;..b&quot;, so, we can actually now see that the results are correct:\nid  max(Table1.rev) max(Table2.content)\n1   3   ..d\n2   1   ..b\n\nWhy is it clean?  DISTINCT(), MAX(), etc., all make wonderful use of MySQL indices.  This will be faster.  Or, it will be much faster, if you have indexing, and you compare it to a query that looks at all rows.\nOriginal Solution\nWith ONLY_FULL_GROUP_BY disabled, we can use still use GROUP BY, but then we are only using it on the Salary, and not the id:\nSELECT *\nFROM\n    (SELECT *\n    FROM Employee\n    ORDER BY Salary DESC)\nAS employeesub\nGROUP BY employeesub.Salary;\n\n\nSELECT * : Return all fields.\nFROM Employee : Table searched on.\n(SELECT *...) subquery : Return all people, sorted by Salary.\nGROUP BY employeesub.Salary: Force the top-sorted, Salary row of each employee to be the returned result.\n\nUnique-Row Solution\nNote the Definition of a Relational Database: &quot;Each row in a table has its own unique key.&quot;  This would mean that, in the question&apos;s example, id would have to be unique, and in that case, we can just do :\nSELECT *\nFROM Employee\nWHERE Employee.id = 12345\nORDER BY Employee.Salary DESC\nLIMIT 1\n\nHopefully this is a solution that solves the problem and helps everyone better understand what&apos;s happening in the DB.\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"Something like this?\nSELECT yourtable.id, rev, content\nFROM yourtable\nINNER JOIN (\n    SELECT id, max(rev) as maxrev\n    FROM yourtable\n    GROUP BY id\n) AS child ON (yourtable.id = child.id) AND (yourtable.rev = maxrev)\n\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"Another manner to do the job is using MAX() analytic function in OVER PARTITION clause\n\nSELECT t.*\n  FROM\n    (\n    SELECT id\n          ,rev\n          ,contents\n          ,MAX(rev) OVER (PARTITION BY id) as max_rev\n      FROM YourTable\n    ) t\n  WHERE t.rev = t.max_rev \n\n\nThe other ROW_NUMBER() OVER PARTITION solution already documented in this post is\n\nSELECT t.*\n  FROM\n    (\n    SELECT id\n          ,rev\n          ,contents\n          ,ROW_NUMBER() OVER (PARTITION BY id ORDER BY rev DESC) rank\n      FROM YourTable\n    ) t\n  WHERE t.rank = 1 \n\n\nThis 2 SELECT work well on Oracle 10g.\n\nMAX() solution runs certainly FASTER that ROW_NUMBER() solution because MAX() complexity is O(n) while ROW_NUMBER() complexity is at minimum O(n.log(n)) where n represent the number of records in table !\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"I like to use a NOT EXIST-based solution for this problem:\n\nSELECT \n  id, \n  rev\n  -- you can select other columns here\nFROM YourTable t\nWHERE NOT EXISTS (\n   SELECT * FROM YourTable t WHERE t.id = id AND rev &gt; t.rev\n)\n\n\nThis will select all records with max value within the group and allows you to select other columns.\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"I think, You want this?\n\nselect * from docs where (id, rev) IN (select id, max(rev) as rev from docs group by id order by id)  \n\n\nSQL Fiddle :\nCheck here\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"SELECT *\nFROM Employee\nwhere Employee.Salary in (select max(salary) from Employee group by Employe_id)\nORDER BY Employee.Salary\n\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"Note: I probably wouldn&apos;t recommend this anymore in MySQL 8+ days. Haven&apos;t used it in years.\nA third solution I hardly ever see mentioned is MySQL specific and looks like this:\nSELECT id, MAX(rev) AS rev\n , 0+SUBSTRING_INDEX(GROUP_CONCAT(numeric_content ORDER BY rev DESC), &apos;,&apos;, 1) AS numeric_content\nFROM t1\nGROUP BY id\n\nYes it looks awful (converting to string and back etc.) but in my experience it&apos;s usually faster than the other solutions. Maybe that&apos;s just for my use cases, but I have used it on tables with millions of records and many unique ids. Maybe it&apos;s because MySQL is pretty bad at optimizing the other solutions (at least in the 5.0 days when I came up with this solution).\nOne important thing is that GROUP_CONCAT has a maximum length for the string it can build up. You probably want to raise this limit by setting the group_concat_max_len variable. And keep in mind that this will be a limit on scaling if you have a large number of rows.\nAnyway, the above doesn&apos;t directly work if your content field is already text. In that case you probably want to use a different separator, like \\0 maybe. You&apos;ll also run into the group_concat_max_len limit quicker.\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"NOT mySQL, but for other people finding this question and using SQL, another way to resolve the greatest-n-per-group problem is using Cross Apply in MS SQL\n\nWITH DocIds AS (SELECT DISTINCT id FROM docs)\n\nSELECT d2.id, d2.rev, d2.content\nFROM DocIds d1\nCROSS APPLY (\n  SELECT Top 1 * FROM docs d\n  WHERE d.id = d1.id\n  ORDER BY rev DESC\n) d2\n\n\nHere&apos;s an example in SqlFiddle\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"I would use this:\n\nselect t.*\nfrom test as t\njoin\n   (select max(rev) as rev\n    from test\n    group by id) as o\non o.rev = t.rev\n\n\nSubquery SELECT is not too eficient maybe, but in JOIN clause seems to be usable. I&apos;m not an expert in optimizing queries, but I&apos;ve tried at MySQL, PostgreSQL, FireBird and it does work very good.\n\nYou can use this schema in multiple joins and with WHERE clause. It is my working example (solving identical to yours problem with table &quot;firmy&quot;):\n\nselect *\nfrom platnosci as p\njoin firmy as f\non p.id_rel_firmy = f.id_rel\njoin (select max(id_obj) as id_obj\n      from firmy\n      group by id_rel) as o\non o.id_obj = f.id_obj and p.od &gt; &apos;2014-03-01&apos;\n\n\nIt is asked on tables having teens thusands of records, and it takes less then 0,01 second on really not too strong machine.\n\nI wouldn&apos;t use IN clause (as it is mentioned somewhere above). IN is given to use with short lists of constans, and not as to be the query filter built on subquery. It is because subquery in IN is performed for every scanned record which can made query taking very loooong time.\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0},{"text":"Since this is most popular question with regard to this problem, I&apos;ll re-post another answer to it here as well:\n\nIt looks like there is simpler way to do this (but only in MySQL):\n\nselect *\nfrom (select * from mytable order by id, rev desc ) x\ngroup by id\n\n\nPlease credit answer of user Bohemian in this question for providing such a concise and elegant answer to this problem.\n\n\n  Edit: though this solution works for many people it may not be stable in the long run, since MySQL doesn&apos;t guarantee that GROUP BY statement will return meaningful values for columns not in GROUP BY list. So use this solution at your own risk!\n\n    ","url":"/questions/[slug]#solution15","@type":"Answer","upvoteCount":0},{"text":"If you have many fields in select statement and you want latest  value for all of those fields through optimized code:\n\nselect * from\n(select * from table_name\norder by id,rev desc) temp\ngroup by id \n\n    ","url":"/questions/[slug]#solution16","@type":"Answer","upvoteCount":0},{"text":"How about this:\n\nSELECT all_fields.*  \nFROM (SELECT id, MAX(rev) FROM yourtable GROUP BY id) AS max_recs  \nLEFT OUTER JOIN yourtable AS all_fields \nON max_recs.id = all_fields.id\n\n    ","url":"/questions/[slug]#solution17","@type":"Answer","upvoteCount":0},{"text":"This solution makes only one selection from YourTable, therefore it&apos;s faster. It works only for MySQL and SQLite(for SQLite remove DESC) according to test on sqlfiddle.com. Maybe it can be tweaked to work on other languages which I am not familiar with.\n\nSELECT *\nFROM ( SELECT *\n       FROM ( SELECT 1 as id, 1 as rev, &apos;content1&apos; as content\n              UNION\n              SELECT 2, 1, &apos;content2&apos;\n              UNION\n              SELECT 1, 2, &apos;content3&apos;\n              UNION\n              SELECT 1, 3, &apos;content4&apos;\n            ) as YourTable\n       ORDER BY id, rev DESC\n   ) as YourTable\nGROUP BY id\n\n    ","url":"/questions/[slug]#solution18","@type":"Answer","upvoteCount":0},{"text":"Here is a nice way of doing that\n\nUse following code :\n\nwith temp as  ( \nselect count(field1) as summ , field1\nfrom table_name\ngroup by field1 )\nselect * from temp where summ = (select max(summ) from temp)\n\n    ","url":"/questions/[slug]#solution19","@type":"Answer","upvoteCount":0},{"text":"I like to do this by ranking the records by some column. In this case, rank rev values grouped by id. Those with higher rev will have lower rankings. So highest rev will have ranking of 1.\n\nselect id, rev, content\nfrom\n (select\n    @rowNum := if(@prevValue = id, @rowNum+1, 1) as row_num,\n    id, rev, content,\n    @prevValue := id\n  from\n   (select id, rev, content from YOURTABLE order by id asc, rev desc) TEMP,\n   (select @rowNum := 1 from DUAL) X,\n   (select @prevValue := -1 from DUAL) Y) TEMP\nwhere row_num = 1;\n\n\nNot sure if introducing variables makes the whole thing slower. But at least I&apos;m not querying YOURTABLE twice.\n    ","url":"/questions/[slug]#solution20","@type":"Answer","upvoteCount":0},{"text":"Sorted the rev field in reverse order and then grouped by id which gave the first row of each grouping which is the one with the highest rev value.\n\nSELECT * FROM (SELECT * FROM table1 ORDER BY id, rev DESC) X GROUP BY X.id;\n\n\nTested in http://sqlfiddle.com/ with the following data\n\nCREATE TABLE table1\n    (`id` int, `rev` int, `content` varchar(11));\n\nINSERT INTO table1\n    (`id`, `rev`, `content`)\nVALUES\n    (1, 1, &apos;One-One&apos;),\n    (1, 2, &apos;One-Two&apos;),\n    (2, 1, &apos;Two-One&apos;),\n    (2, 2, &apos;Two-Two&apos;),\n    (3, 2, &apos;Three-Two&apos;),\n    (3, 1, &apos;Three-One&apos;),\n    (3, 3, &apos;Three-Three&apos;)\n;\n\n\nThis gave the following result in MySql 5.5 and 5.6 \n\nid  rev content\n1   2   One-Two\n2   2   Two-Two\n3   3   Three-Two\n\n    ","url":"/questions/[slug]#solution21","@type":"Answer","upvoteCount":0},{"text":"here is another solution hope it will help someone    \n\nSelect a.id , a.rev, a.content from Table1 a\ninner join \n(SELECT id, max(rev) rev FROM Table1 GROUP BY id) x on x.id =a.id and x.rev =a.rev\n\n    ","url":"/questions/[slug]#solution22","@type":"Answer","upvoteCount":0},{"text":"None of these answers have worked for me.\n\nThis is what worked for me.\n\nwith score as (select max(score_up) from history)\nselect history.* from score, history where history.score_up = score.max\n\n    ","url":"/questions/[slug]#solution23","@type":"Answer","upvoteCount":0},{"text":"Here&apos;s another solution to retrieving the records only with a field that has the maximum value for that field. This works for SQL400 which is the platform I work on. In this example, the records with the maximum value in field FIELD5 will be retrieved by the following SQL statement.\n\nSELECT A.KEYFIELD1, A.KEYFIELD2, A.FIELD3, A.FIELD4, A.FIELD5\n  FROM MYFILE A\n WHERE RRN(A) IN\n   (SELECT RRN(B) \n      FROM MYFILE B\n     WHERE B.KEYFIELD1 = A.KEYFIELD1 AND B.KEYFIELD2 = A.KEYFIELD2\n     ORDER BY B.FIELD5 DESC\n     FETCH FIRST ROW ONLY)\n\n    ","url":"/questions/[slug]#solution24","@type":"Answer","upvoteCount":0},{"text":"You can make the select without a join when you combine the rev and id into one maxRevId value for MAX() and then split it back to original values:\n\nSELECT maxRevId &amp; ((1 &lt;&lt; 32) - 1) as id, maxRevId &gt;&gt; 32 AS rev\nFROM (SELECT MAX(((rev &lt;&lt; 32) | id)) AS maxRevId\n      FROM YourTable\n      GROUP BY id) x;\n\n\nThis is especially fast when there is a complex join instead of a single table. With the traditional approaches the complex join would be done twice.\n\nThe above combination is simple with bit functions when rev and id are INT UNSIGNED (32 bit) and combined value fits to BIGINT UNSIGNED (64 bit). When the id &amp; rev are larger than 32-bit values or made of multiple columns, you need combine the value into e.g. a binary value with suitable padding for MAX().\n    ","url":"/questions/[slug]#solution25","@type":"Answer","upvoteCount":0},{"text":"Explanation\n\nThis is not pure SQL. This will use the SQLAlchemy ORM.\n\nI came here looking for SQLAlchemy help, so I will duplicate Adrian Carneiro&apos;s answer with the python/SQLAlchemy version, specifically the outer join part.\n\nThis query answers the question of:   \n\n&quot;Can you return me the records in this group of records (based on same id) that have the highest version number&quot;.  \n\nThis allows me to duplicate the record, update it, increment its version number, and have the copy of the old version in such a way that I can show change over time.\n\nCode\n\nMyTableAlias = aliased(MyTable)\nnewest_records = appdb.session.query(MyTable).select_from(join(\n    MyTable, \n    MyTableAlias, \n    onclause=and_(\n        MyTable.id == MyTableAlias.id,\n        MyTable.version_int &lt; MyTableAlias.version_int\n    ),\n    isouter=True\n    )\n).filter(\n    MyTableAlias.id  == None,\n).all()\n\n\nTested on a PostgreSQL database.\n    ","url":"/questions/[slug]#solution26","@type":"Answer","upvoteCount":0},{"text":"I used the below to solve a problem of my own. I first created a temp table and inserted the max rev value per unique id.\n\nCREATE TABLE #temp1\n(\n    id varchar(20)\n    , rev int\n)\nINSERT INTO #temp1\nSELECT a.id, MAX(a.rev) as rev\nFROM \n    (\n        SELECT id, content, SUM(rev) as rev\n        FROM YourTable\n        GROUP BY id, content\n    ) as a \nGROUP BY a.id\nORDER BY a.id\n\n\nI then joined these max values (#temp1) to all of the possible id/content combinations. By doing this, I naturally filter out the non-maximum id/content combinations, and am left with the only max rev values for each.\n\nSELECT a.id, a.rev, content\nFROM #temp1 as a\nLEFT JOIN\n    (\n        SELECT id, content, SUM(rev) as rev\n        FROM YourTable\n        GROUP BY id, content\n    ) as b on a.id = b.id and a.rev = b.rev\nGROUP BY a.id, a.rev, b.content\nORDER BY a.id\n\n    ","url":"/questions/[slug]#solution27","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08d1a634dea6705e.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/150-b06815e21c943e0d.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/108-87de33c23337ff53.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-79a1437acf654019.js" defer=""></script><script src="/_next/static/TQ2eYlCSdocSK-hq6gkM0/_buildManifest.js" defer=""></script><script src="/_next/static/TQ2eYlCSdocSK-hq6gkM0/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/sql-select-only-rows-with-max-value-on-a-column-duplicate-1657384614292#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/sql-select-only-rows-with-max-value-on-a-column-duplicate-1657384614292"><h1>SQL select only rows with max value on a column [duplicate]</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div><div class="question-content mt-5">
                    <div>
            <aside class="s-notice s-notice__info post-notice js-post-notice mb16" role="status">
        <div class="d-flex fd-column fw-nowrap">
            <div class="d-flex fw-nowrap">
                    <div class="flex--item mr8">
                        <svg aria-hidden="true" class="svg-icon iconLightbulb" width="18" height="18" viewBox="0 0 18 18"><path d="M15 6.38A6.48 6.48 0 0 0 7.78.04h-.02A6.49 6.49 0 0 0 2.05 5.6a6.31 6.31 0 0 0 2.39 5.75c.49.39.76.93.76 1.5v.24c0 1.07.89 1.9 1.92 1.9h2.75c1.04 0 1.92-.83 1.92-1.9v-.2c0-.6.26-1.15.7-1.48A6.32 6.32 0 0 0 15 6.37ZM4.03 5.85A4.49 4.49 0 0 1 8 2.02a4.48 4.48 0 0 1 5 4.36 4.3 4.3 0 0 1-1.72 3.44c-.98.74-1.5 1.9-1.5 3.08v.1H7.2v-.14c0-1.23-.6-2.34-1.53-3.07a4.32 4.32 0 0 1-1.64-3.94ZM10 18a1 1 0 0 0 0-2H7a1 1 0 1 0 0 2h3Z"></path></svg>
                    </div>
                <div class="flex--item wmn0 fl1 lh-lg">
                    <div class="flex--item fl1 lh-lg">
                        <b>Want to improve this post?</b> Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.
                        
                    </div>
                </div>
            </div>
        </div>
</aside>

            <aside class="s-notice s-notice__info post-notice js-post-notice mb16" role="status">
        <div class="d-flex fd-column fw-nowrap">
            <div class="d-flex fw-nowrap">
                <div class="flex--item wmn0 fl1 lh-lg">
                    <div class="flex--item fl1 lh-lg">
                        <b>This question already has answers here</b>:
                        
                    </div>
                </div>
            </div>
                    <div class="flex--item mb0 mt4">
                        <a href="/questions/1313120/retrieving-the-last-record-in-each-group-mysql" dir="ltr">Retrieving the last record in each group - MySQL</a>
                            <span class="question-originals-answer-count">
                                (33 answers)
                            </span>
                    </div>
                <div class="flex--item mb0 mt8">Closed <span title="2019-03-20 00:19:10Z" class="relativetime">3 years ago</span>.</div>
        </div>
</aside>

    </div>

<p>I have this table for documents (simplified version here):</p>
<div class="s-table-container">
<table class="s-table">
<thead>
<tr>
<th>id</th>
<th>rev</th>
<th>content</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>...</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>...</td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>...</td>
</tr>
<tr>
<td>1</td>
<td>3</td>
<td>...</td>
</tr>
</tbody>
</table>
</div>
<p>How do I select one row per id and only the greatest rev?<br>
With the above data, the result should contain two rows: <code>[1, 3, ...]</code> and <code>[2, 1, ..]</code>. I'm using <em><strong>MySQL</strong></em>.</p>
<p>Currently I use checks in the <code>while</code> loop to detect and over-write old revs from the resultset. But is this the only method to achieve the result? Isn't there a <strong>SQL</strong> solution?</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li><li class="pagination-solution-item"><span data-id="#solution17" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">17</span></li><li class="pagination-solution-item"><span data-id="#solution18" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">18</span></li><li class="pagination-solution-item"><span data-id="#solution19" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">19</span></li><li class="pagination-solution-item"><span data-id="#solution20" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">20</span></li><li class="pagination-solution-item"><span data-id="#solution21" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">21</span></li><li class="pagination-solution-item"><span data-id="#solution22" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">22</span></li><li class="pagination-solution-item"><span data-id="#solution23" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">23</span></li><li class="pagination-solution-item"><span data-id="#solution24" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">24</span></li><li class="pagination-solution-item"><span data-id="#solution25" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">25</span></li><li class="pagination-solution-item"><span data-id="#solution26" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">26</span></li><li class="pagination-solution-item"><span data-id="#solution27" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">27</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>At first glance...</h2>
<p>All you need is a <code>GROUP BY</code> clause with the <code>MAX</code> aggregate function:</p>
<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> id, <span class="hljs-built_in">MAX</span>(rev)
<span class="hljs-keyword">FROM</span> YourTable
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> id
</code></pre>
<h2>It's never that simple, is it?</h2>
<p>I just noticed you need the <code>content</code> column as well.</p>
<p>This is a very common question in SQL: find the whole data for the row with some max value in a column per some group identifier. I heard that a lot during my career. Actually, it was one the questions I answered in my current job's technical interview.</p>
<p>It is, actually, so common that Stack Overflow community has created a single tag just to deal with questions like that: <a href="/questions/tagged/greatest-n-per-group" class="post-tag" title="show questions tagged 'greatest-n-per-group'" rel="tag">greatest-n-per-group</a>.</p>
<p>Basically, you have two approaches to solve that problem:</p>
<h2>Joining with simple <code>group-identifier, max-value-in-group</code> Sub-query</h2>
<p>In this approach, you first find the <code>group-identifier, max-value-in-group</code> (already solved above) in a sub-query. Then you join your table to the sub-query with equality on both <code>group-identifier</code> and <code>max-value-in-group</code>:</p>
<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> a.id, a.rev, a.contents
<span class="hljs-keyword">FROM</span> YourTable a
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> (
    <span class="hljs-keyword">SELECT</span> id, <span class="hljs-built_in">MAX</span>(rev) rev
    <span class="hljs-keyword">FROM</span> YourTable
    <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> id
) b <span class="hljs-keyword">ON</span> a.id <span class="hljs-operator">=</span> b.id <span class="hljs-keyword">AND</span> a.rev <span class="hljs-operator">=</span> b.rev
</code></pre>
<h2>Left Joining with self, tweaking join conditions and filters</h2>
<p>In this approach, you left join the table with itself. Equality goes in the <code>group-identifier</code>. Then, 2 smart moves:</p>
<ol>
<li>The second join condition is having left side value less than right value</li>
<li>When you do step 1, the row(s) that actually have the max value will have <code>NULL</code> in the right side (it's a <code>LEFT JOIN</code>, remember?). Then, we filter the joined result, showing only the rows where the right side is <code>NULL</code>.</li>
</ol>
<p>So you end up with:</p>
<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> a.<span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> YourTable a
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> YourTable b
    <span class="hljs-keyword">ON</span> a.id <span class="hljs-operator">=</span> b.id <span class="hljs-keyword">AND</span> a.rev <span class="hljs-operator">&lt;</span> b.rev
<span class="hljs-keyword">WHERE</span> b.id <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span>;
</code></pre>
<h2>Conclusion</h2>
<p>Both approaches bring the exact same result.</p>
<p>If you have two rows with <code>max-value-in-group</code> for <code>group-identifier</code>, both rows will be in the result in both approaches.</p>
<p>Both approaches are SQL ANSI compatible, thus, will work with your favorite RDBMS, regardless of its "flavor".</p>
<p>Both approaches are also performance friendly, however your mileage may vary (RDBMS, DB Structure, Indexes, etc.). So when you pick one approach over the other, <em>benchmark</em>. And make sure you pick the one which make most of sense to you.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>My preference is to use as little code as possible...</p>

<p>You can do it using <code>IN</code>
try this:</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> 
<span class="hljs-keyword">FROM</span> t1 <span class="hljs-keyword">WHERE</span> (id,rev) <span class="hljs-keyword">IN</span> 
( <span class="hljs-keyword">SELECT</span> id, <span class="hljs-built_in">MAX</span>(rev)
  <span class="hljs-keyword">FROM</span> t1
  <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> id
)
</code></pre>

<p>to my mind it is less complicated... easier to read and maintain.</p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I am flabbergasted that no answer offered SQL window function solution:</p>
<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> a.id, a.rev, a.contents
  <span class="hljs-keyword">FROM</span> (<span class="hljs-keyword">SELECT</span> id, rev, contents,
               <span class="hljs-built_in">ROW_NUMBER</span>() <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">PARTITION</span> <span class="hljs-keyword">BY</span> id <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> rev <span class="hljs-keyword">DESC</span>) ranked_order
          <span class="hljs-keyword">FROM</span> YourTable) a
 <span class="hljs-keyword">WHERE</span> a.ranked_order <span class="hljs-operator">=</span> <span class="hljs-number">1</span> 
</code></pre>
<p>Added in SQL standard ANSI/ISO Standard SQL:2003  and later extended with ANSI/ISO Standard SQL:2008, window (or windowing) functions are available with all major vendors now. There are more types of rank functions available to deal with a tie issue: <code>RANK, DENSE_RANK, PERSENT_RANK</code>.</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Yet another solution is to use a correlated subquery:</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">select</span> yt.id, yt.rev, yt.contents
    <span class="hljs-keyword">from</span> YourTable yt
    <span class="hljs-keyword">where</span> rev <span class="hljs-operator">=</span> 
        (<span class="hljs-keyword">select</span> <span class="hljs-built_in">max</span>(rev) <span class="hljs-keyword">from</span> YourTable st <span class="hljs-keyword">where</span> yt.id<span class="hljs-operator">=</span>st.id)
</code></pre>

<p>Having an index on (id,rev) renders the subquery almost as a simple lookup...</p>

<p>Following are comparisons to the solutions in @AdrianCarneiro's answer (subquery, leftjoin), based on MySQL measurements with InnoDB table of ~1million records, group size being: 1-3.</p>

<p>While for full table scans subquery/leftjoin/correlated timings relate to each other as 6/8/9, when it comes to direct lookups or batch (<code>id in (1,2,3)</code>), subquery is much slower then the others (Due to rerunning the subquery). However I couldnt differentiate between leftjoin and correlated solutions in speed.</p>

<p>One final note, as leftjoin creates n*(n+1)/2 joins in groups, its performance can be heavily affected by the size of groups...</p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I can't vouch for the performance, but here's a trick inspired by the limitations of Microsoft Excel.  It has some good features</p>

<p><strong>GOOD STUFF</strong></p>

<ul>
<li>It should force return of only one "max record" even if there is a tie (sometimes useful)</li>
<li>It doesn't require a join</li>
</ul>

<p><strong>APPROACH</strong></p>

<p>It is a little bit ugly and requires that you know something about the range of valid values of the <strong><em>rev</em></strong> column.  Let us assume that we know the <strong><em>rev</em></strong> column is a number between 0.00 and 999 including decimals but that there will only ever be two digits to the right of the decimal point (e.g. 34.17 would be a valid value).</p>

<p>The gist of the thing is that you create a single synthetic column by string concatenating/packing the primary comparison field along with the data you want.  In this way, you can force SQL's MAX() aggregate function to return all of the data (because it has been packed into a single column).  Then you have to unpack the data.</p>

<p>Here's how it looks with the above example, written in SQL</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> id, 
       <span class="hljs-built_in">CAST</span>(<span class="hljs-built_in">SUBSTRING</span>(<span class="hljs-built_in">max</span>(packed_col) <span class="hljs-keyword">FROM</span> <span class="hljs-number">2</span> <span class="hljs-keyword">FOR</span> <span class="hljs-number">6</span>) <span class="hljs-keyword">AS</span> <span class="hljs-type">float</span>) <span class="hljs-keyword">as</span> max_rev,
       <span class="hljs-built_in">SUBSTRING</span>(<span class="hljs-built_in">max</span>(packed_col) <span class="hljs-keyword">FROM</span> <span class="hljs-number">11</span>) <span class="hljs-keyword">AS</span> content_for_max_rev 
<span class="hljs-keyword">FROM</span>  (<span class="hljs-keyword">SELECT</span> id, 
       <span class="hljs-built_in">CAST</span>(<span class="hljs-number">1000</span> <span class="hljs-operator">+</span> rev <span class="hljs-operator">+</span> <span class="hljs-number">.001</span> <span class="hljs-keyword">as</span> <span class="hljs-type">CHAR</span>) <span class="hljs-operator">||</span> <span class="hljs-string">'---'</span> <span class="hljs-operator">||</span> <span class="hljs-built_in">CAST</span>(content <span class="hljs-keyword">AS</span> <span class="hljs-type">char</span>) <span class="hljs-keyword">AS</span> packed_col
       <span class="hljs-keyword">FROM</span> yourtable
      ) 
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> id
</code></pre>

<p>The packing begins by forcing the <strong><em>rev</em></strong> column to be a number of known character length regardless of the value of <strong><em>rev</em></strong> so that for example</p>

<ul>
<li>3.2    becomes    1003.201</li>
<li>57     becomes    1057.001</li>
<li>923.88 becomes    1923.881</li>
</ul>

<p>If you do it right, string comparison of two numbers should yield the same "max" as numeric comparison of the two numbers and it's easy to convert back to the original number using the substring function (which is available in one form or another pretty much everywhere).</p>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h3>Unique Identifiers?  Yes!  Unique identifiers!</h3>
<p>One of the best ways to develop a MySQL DB is <a href="https://dev.mysql.com/doc/refman/8.0/en/example-auto-increment.html" rel="noreferrer">to have each <code>id</code> <code>AUTOINCREMENT</code></a> (Source MySQL.com).  This allows a variety of advantages, too many to cover here.  The problem with the question is that its example has duplicate ids.  This disregards these tremendous advantages of unique identifiers, and at the same time, is confusing to those familiar with this already.</p>
<h3>Cleanest Solution</h3>
<p><a href="https://www.db-fiddle.com/f/8AmYpUxAo2z3yoR7yr9TKp/0" rel="noreferrer">DB Fiddle</a></p>
<p>Newer versions of MySQL come with <code>ONLY_FULL_GROUP_BY</code> enabled by default, and many of the solutions here will <em>fail</em> in testing with this condition.</p>
<p>Even so, we can simply select <code>DISTINCT</code> <em>someuniquefield</em>, <code>MAX(</code> <em>whateverotherfieldtoselect</em> <code>)</code>, <code>(</code> *somethirdfield <code>)</code>, etc., and have no worries understanding the result or how the query works :</p>
<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> t1.id, <span class="hljs-built_in">MAX</span>(t1.rev), <span class="hljs-built_in">MAX</span>(t2.content)
<span class="hljs-keyword">FROM</span> Table1 <span class="hljs-keyword">AS</span> t1
<span class="hljs-keyword">JOIN</span> Table1 <span class="hljs-keyword">AS</span> t2 <span class="hljs-keyword">ON</span> t2.id <span class="hljs-operator">=</span> t1.id <span class="hljs-keyword">AND</span> t2.rev <span class="hljs-operator">=</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">MAX</span>(rev) <span class="hljs-keyword">FROM</span> Table1 t3 <span class="hljs-keyword">WHERE</span> t3.id <span class="hljs-operator">=</span> t1.id
)
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> t1.id;
</code></pre>
<ul>
<li><code>SELECT DISTINCT Table1.id, max(Table1.rev), max(Table2.content)</code> : Return <code>DISTINCT</code> somefield, <code>MAX()</code> some otherfield, the last <code>MAX()</code> is redundant, because I know it's just one row, but it's required by the query.</li>
<li><code>FROM Employee</code> : Table searched on.</li>
<li><code>JOIN Table1 AS Table2 ON Table2.rev = Table1.rev</code> : Join the second table on the first, because, we need to get the max(table1.rev)'s comment.</li>
<li><code>GROUP BY Table1.id</code>: Force the top-sorted, Salary row of each employee to be the returned result.</li>
</ul>
<p>Note that since "content" was "..." in OP's question, there's no way to test that this works.  So, I changed that to "..a", "..b", so, we can actually now see that the results are correct:</p>
<pre class="lang-sql s-code-block"><code class="hljs language-sql">id  <span class="hljs-built_in">max</span>(Table1.rev) <span class="hljs-built_in">max</span>(Table2.content)
<span class="hljs-number">1</span>   <span class="hljs-number">3</span>   ..d
<span class="hljs-number">2</span>   <span class="hljs-number">1</span>   ..b
</code></pre>
<p><em>Why is it clean?</em>  <code>DISTINCT()</code>, <code>MAX()</code>, etc., all make wonderful use of MySQL indices.  This will be faster.  Or, it will be much faster, if you have indexing, and you compare it to a query that looks at all rows.</p>
<h3>Original Solution</h3>
<p>With <code>ONLY_FULL_GROUP_BY</code> disabled, we can use still use <code>GROUP BY</code>, but then we are only using it on the Salary, and not the id:</p>
<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span>
    (<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
    <span class="hljs-keyword">FROM</span> Employee
    <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> Salary <span class="hljs-keyword">DESC</span>)
<span class="hljs-keyword">AS</span> employeesub
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> employeesub.Salary;
</code></pre>
<ul>
<li><code>SELECT *</code> : Return all fields.</li>
<li><code>FROM Employee</code> : Table searched on.</li>
<li><code>(SELECT *...)</code> subquery : Return all people, sorted by Salary.</li>
<li><code>GROUP BY employeesub.Salary</code>: Force the top-sorted, Salary row of each employee to be the returned result.</li>
</ul>
<h3>Unique-Row Solution</h3>
<p>Note the <a href="https://en.wikipedia.org/wiki/Relational_database" rel="noreferrer">Definition of a Relational Database</a>: "Each row in a table has its own unique key."  This would mean that, in the question's example, id would <em>have to be</em> unique, and in that case, we can just do :</p>
<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> Employee
<span class="hljs-keyword">WHERE</span> Employee.id <span class="hljs-operator">=</span> <span class="hljs-number">12345</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> Employee.Salary <span class="hljs-keyword">DESC</span>
LIMIT <span class="hljs-number">1</span>
</code></pre>
<p>Hopefully this is a solution that solves the problem and helps everyone better understand what's happening in the DB.</p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Something like this?</p>
<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> yourtable.id, rev, content
<span class="hljs-keyword">FROM</span> yourtable
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> (
    <span class="hljs-keyword">SELECT</span> id, <span class="hljs-built_in">max</span>(rev) <span class="hljs-keyword">as</span> maxrev
    <span class="hljs-keyword">FROM</span> yourtable
    <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> id
) <span class="hljs-keyword">AS</span> child <span class="hljs-keyword">ON</span> (yourtable.id <span class="hljs-operator">=</span> child.id) <span class="hljs-keyword">AND</span> (yourtable.rev <span class="hljs-operator">=</span> maxrev)
</code></pre>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Another manner to do the job is using <code>MAX()</code> analytic function in OVER PARTITION clause</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> t.<span class="hljs-operator">*</span>
  <span class="hljs-keyword">FROM</span>
    (
    <span class="hljs-keyword">SELECT</span> id
          ,rev
          ,contents
          ,<span class="hljs-built_in">MAX</span>(rev) <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">PARTITION</span> <span class="hljs-keyword">BY</span> id) <span class="hljs-keyword">as</span> max_rev
      <span class="hljs-keyword">FROM</span> YourTable
    ) t
  <span class="hljs-keyword">WHERE</span> t.rev <span class="hljs-operator">=</span> t.max_rev 
</code></pre>

<p>The other <code>ROW_NUMBER()</code> OVER PARTITION solution already documented in this post is</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> t.<span class="hljs-operator">*</span>
  <span class="hljs-keyword">FROM</span>
    (
    <span class="hljs-keyword">SELECT</span> id
          ,rev
          ,contents
          ,<span class="hljs-built_in">ROW_NUMBER</span>() <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">PARTITION</span> <span class="hljs-keyword">BY</span> id <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> rev <span class="hljs-keyword">DESC</span>) rank
      <span class="hljs-keyword">FROM</span> YourTable
    ) t
  <span class="hljs-keyword">WHERE</span> t.rank <span class="hljs-operator">=</span> <span class="hljs-number">1</span> 
</code></pre>

<p>This 2 SELECT work well on Oracle 10g.</p>

<p>MAX() solution runs certainly FASTER that <code>ROW_NUMBER()</code> solution because <code>MAX()</code> complexity is <code>O(n)</code> while <code>ROW_NUMBER()</code> complexity is at minimum <code>O(n.log(n))</code> where <code>n</code> represent the number of records in table !</p>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I like to use a <code>NOT EXIST</code>-based solution for this problem:</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> 
  id, 
  rev
  <span class="hljs-comment">-- you can select other columns here</span>
<span class="hljs-keyword">FROM</span> YourTable t
<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> (
   <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> YourTable t <span class="hljs-keyword">WHERE</span> t.id <span class="hljs-operator">=</span> id <span class="hljs-keyword">AND</span> rev <span class="hljs-operator">&gt;</span> t.rev
)
</code></pre>

<p>This will select all records with max value within the group and allows you to select other columns.</p>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I think, You want this?</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> docs <span class="hljs-keyword">where</span> (id, rev) <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">select</span> id, <span class="hljs-built_in">max</span>(rev) <span class="hljs-keyword">as</span> rev <span class="hljs-keyword">from</span> docs <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> id <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> id)  
</code></pre>

<p>SQL Fiddle :
<a href="http://sqlfiddle.com/#!9/a6c585/82473/0" rel="noreferrer">Check here</a></p>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 11</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> Employee
<span class="hljs-keyword">where</span> Employee.Salary <span class="hljs-keyword">in</span> (<span class="hljs-keyword">select</span> <span class="hljs-built_in">max</span>(salary) <span class="hljs-keyword">from</span> Employee <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> Employe_id)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> Employee.Salary
</code></pre>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 12</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><em>Note: I probably wouldn't recommend this anymore in MySQL 8+ days. Haven't used it in years.</em></p>
<p>A third solution I hardly ever see mentioned is MySQL specific and looks like this:</p>
<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> id, <span class="hljs-built_in">MAX</span>(rev) <span class="hljs-keyword">AS</span> rev
 , <span class="hljs-number">0</span><span class="hljs-operator">+</span>SUBSTRING_INDEX(GROUP_CONCAT(numeric_content <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> rev <span class="hljs-keyword">DESC</span>), <span class="hljs-string">','</span>, <span class="hljs-number">1</span>) <span class="hljs-keyword">AS</span> numeric_content
<span class="hljs-keyword">FROM</span> t1
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> id
</code></pre>
<p>Yes it looks awful (converting to string and back etc.) but in my experience it's usually faster than the other solutions. Maybe that's just for my use cases, but I have used it on tables with millions of records and many unique ids. Maybe it's because MySQL is pretty bad at optimizing the other solutions (at least in the 5.0 days when I came up with this solution).</p>
<p>One important thing is that GROUP_CONCAT has a maximum length for the string it can build up. You probably want to raise this limit by setting the <code>group_concat_max_len</code> variable. And keep in mind that this will be a limit on scaling if you have a large number of rows.</p>
<p>Anyway, the above doesn't directly work if your content field is already text. In that case you probably want to use a different separator, like \0 maybe. You'll also run into the <code>group_concat_max_len</code> limit quicker.</p>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 13</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>NOT mySQL</strong>, but for other people finding this question and using SQL, another way to resolve the <a href="/questions/tagged/greatest-n-per-group" class="post-tag" title="show questions tagged 'greatest-n-per-group'" rel="tag">greatest-n-per-group</a> problem is using <a href="http://technet.microsoft.com/en-us/library/ms175156(v=sql.105).aspx" rel="nofollow noreferrer"><code>Cross Apply</code></a> in MS SQL</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">WITH</span> DocIds <span class="hljs-keyword">AS</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> id <span class="hljs-keyword">FROM</span> docs)

<span class="hljs-keyword">SELECT</span> d2.id, d2.rev, d2.content
<span class="hljs-keyword">FROM</span> DocIds d1
<span class="hljs-keyword">CROSS</span> APPLY (
  <span class="hljs-keyword">SELECT</span> Top <span class="hljs-number">1</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> docs d
  <span class="hljs-keyword">WHERE</span> d.id <span class="hljs-operator">=</span> d1.id
  <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> rev <span class="hljs-keyword">DESC</span>
) d2
</code></pre>

<h3><a href="http://sqlfiddle.com/#!18/25b5c/1" rel="nofollow noreferrer">Here's an example in SqlFiddle</a></h3>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 14</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I would use this:</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">select</span> t.<span class="hljs-operator">*</span>
<span class="hljs-keyword">from</span> test <span class="hljs-keyword">as</span> t
<span class="hljs-keyword">join</span>
   (<span class="hljs-keyword">select</span> <span class="hljs-built_in">max</span>(rev) <span class="hljs-keyword">as</span> rev
    <span class="hljs-keyword">from</span> test
    <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> id) <span class="hljs-keyword">as</span> o
<span class="hljs-keyword">on</span> o.rev <span class="hljs-operator">=</span> t.rev
</code></pre>

<p>Subquery SELECT is not too eficient maybe, but in JOIN clause seems to be usable. I'm not an expert in optimizing queries, but I've tried at MySQL, PostgreSQL, FireBird and it does work very good.</p>

<p>You can use this schema in multiple joins and with WHERE clause. It is my working example (solving identical to yours problem with table "firmy"):</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">from</span> platnosci <span class="hljs-keyword">as</span> p
<span class="hljs-keyword">join</span> firmy <span class="hljs-keyword">as</span> f
<span class="hljs-keyword">on</span> p.id_rel_firmy <span class="hljs-operator">=</span> f.id_rel
<span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> <span class="hljs-built_in">max</span>(id_obj) <span class="hljs-keyword">as</span> id_obj
      <span class="hljs-keyword">from</span> firmy
      <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> id_rel) <span class="hljs-keyword">as</span> o
<span class="hljs-keyword">on</span> o.id_obj <span class="hljs-operator">=</span> f.id_obj <span class="hljs-keyword">and</span> p.od <span class="hljs-operator">&gt;</span> <span class="hljs-string">'2014-03-01'</span>
</code></pre>

<p>It is asked on tables having teens thusands of records, and it takes less then 0,01 second on really not too strong machine.</p>

<p>I wouldn't use IN clause (as it is mentioned somewhere above). IN is given to use with short lists of constans, and not as to be the query filter built on subquery. It is because subquery in IN is performed for every scanned record which can made query taking very loooong time.</p>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 15</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Since this is most popular question with regard to this problem, I'll re-post another answer to it here as well:</p>

<p>It looks like there is simpler way to do this (but <strong>only in MySQL</strong>):</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">from</span> (<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> mytable <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> id, rev <span class="hljs-keyword">desc</span> ) x
<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> id
</code></pre>

<p><strong>Please credit answer of user Bohemian</strong> in <a href="https://stackoverflow.com/questions/12102200/get-records-with-max-value-for-each-group-of-grouped-sql-results">this question</a> for providing such a concise and elegant answer to this problem.</p>

<blockquote>
  <p><strong>Edit:</strong> though this solution works for many people it may not be stable in the long run, since MySQL doesn't guarantee that GROUP BY statement will return meaningful values for columns not in GROUP BY list. So use this solution at your own risk!</p>
</blockquote>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 16</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you have many fields in select statement and you want latest  value for all of those fields through optimized code:</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span>
(<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> table_name
<span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> id,rev <span class="hljs-keyword">desc</span>) temp
<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> id 
</code></pre>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 17</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>How about this:</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> all_fields.<span class="hljs-operator">*</span>  
<span class="hljs-keyword">FROM</span> (<span class="hljs-keyword">SELECT</span> id, <span class="hljs-built_in">MAX</span>(rev) <span class="hljs-keyword">FROM</span> yourtable <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> id) <span class="hljs-keyword">AS</span> max_recs  
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> yourtable <span class="hljs-keyword">AS</span> all_fields 
<span class="hljs-keyword">ON</span> max_recs.id <span class="hljs-operator">=</span> all_fields.id
</code></pre>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 18</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This solution makes only one selection from YourTable, therefore it's faster. It works only for MySQL and SQLite(for SQLite remove DESC) according to test on sqlfiddle.com. Maybe it can be tweaked to work on other languages which I am not familiar with.</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> ( <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
       <span class="hljs-keyword">FROM</span> ( <span class="hljs-keyword">SELECT</span> <span class="hljs-number">1</span> <span class="hljs-keyword">as</span> id, <span class="hljs-number">1</span> <span class="hljs-keyword">as</span> rev, <span class="hljs-string">'content1'</span> <span class="hljs-keyword">as</span> content
              <span class="hljs-keyword">UNION</span>
              <span class="hljs-keyword">SELECT</span> <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'content2'</span>
              <span class="hljs-keyword">UNION</span>
              <span class="hljs-keyword">SELECT</span> <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-string">'content3'</span>
              <span class="hljs-keyword">UNION</span>
              <span class="hljs-keyword">SELECT</span> <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-string">'content4'</span>
            ) <span class="hljs-keyword">as</span> YourTable
       <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> id, rev <span class="hljs-keyword">DESC</span>
   ) <span class="hljs-keyword">as</span> YourTable
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> id
</code></pre>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 19</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here is a nice way of doing that</p>

<p>Use following code :</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">with</span> temp <span class="hljs-keyword">as</span>  ( 
<span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(field1) <span class="hljs-keyword">as</span> summ , field1
<span class="hljs-keyword">from</span> table_name
<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> field1 )
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> temp <span class="hljs-keyword">where</span> summ <span class="hljs-operator">=</span> (<span class="hljs-keyword">select</span> <span class="hljs-built_in">max</span>(summ) <span class="hljs-keyword">from</span> temp)
</code></pre>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 20</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I like to do this by ranking the records by some column. In this case, rank <code>rev</code> values grouped by <code>id</code>. Those with higher <code>rev</code> will have lower rankings. So highest <code>rev</code> will have ranking of 1.</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">select</span> id, rev, content
<span class="hljs-keyword">from</span>
 (<span class="hljs-keyword">select</span>
    <span class="hljs-variable">@rowNum</span> :<span class="hljs-operator">=</span> if(<span class="hljs-variable">@prevValue</span> <span class="hljs-operator">=</span> id, <span class="hljs-variable">@rowNum</span><span class="hljs-operator">+</span><span class="hljs-number">1</span>, <span class="hljs-number">1</span>) <span class="hljs-keyword">as</span> row_num,
    id, rev, content,
    <span class="hljs-variable">@prevValue</span> :<span class="hljs-operator">=</span> id
  <span class="hljs-keyword">from</span>
   (<span class="hljs-keyword">select</span> id, rev, content <span class="hljs-keyword">from</span> YOURTABLE <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> id <span class="hljs-keyword">asc</span>, rev <span class="hljs-keyword">desc</span>) TEMP,
   (<span class="hljs-keyword">select</span> <span class="hljs-variable">@rowNum</span> :<span class="hljs-operator">=</span> <span class="hljs-number">1</span> <span class="hljs-keyword">from</span> DUAL) X,
   (<span class="hljs-keyword">select</span> <span class="hljs-variable">@prevValue</span> :<span class="hljs-operator">=</span> <span class="hljs-number">-1</span> <span class="hljs-keyword">from</span> DUAL) Y) TEMP
<span class="hljs-keyword">where</span> row_num <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
</code></pre>

<p>Not sure if introducing variables makes the whole thing slower. But at least I'm not querying <code>YOURTABLE</code> twice.</p>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 21</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Sorted the rev field in reverse order and then grouped by id which gave the first row of each grouping which is the one with the highest rev value.</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> table1 <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> id, rev <span class="hljs-keyword">DESC</span>) X <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> X.id;
</code></pre>

<p>Tested in <a href="http://sqlfiddle.com/" rel="nofollow">http://sqlfiddle.com/</a> with the following data</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> table1
    (`id` <span class="hljs-type">int</span>, `rev` <span class="hljs-type">int</span>, `content` <span class="hljs-type">varchar</span>(<span class="hljs-number">11</span>));

<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> table1
    (`id`, `rev`, `content`)
<span class="hljs-keyword">VALUES</span>
    (<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'One-One'</span>),
    (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-string">'One-Two'</span>),
    (<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'Two-One'</span>),
    (<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-string">'Two-Two'</span>),
    (<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-string">'Three-Two'</span>),
    (<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'Three-One'</span>),
    (<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-string">'Three-Three'</span>)
;
</code></pre>

<p>This gave the following result in MySql 5.5 and 5.6 </p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql">id  rev content
<span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-keyword">One</span><span class="hljs-operator">-</span>Two
<span class="hljs-number">2</span>   <span class="hljs-number">2</span>   Two<span class="hljs-operator">-</span>Two
<span class="hljs-number">3</span>   <span class="hljs-number">3</span>   Three<span class="hljs-operator">-</span>Two
</code></pre>
    </div></div></div></div><div id="solution22" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 22</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>here is another solution hope it will help someone    </p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">Select</span> a.id , a.rev, a.content <span class="hljs-keyword">from</span> Table1 a
<span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> 
(<span class="hljs-keyword">SELECT</span> id, <span class="hljs-built_in">max</span>(rev) rev <span class="hljs-keyword">FROM</span> Table1 <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> id) x <span class="hljs-keyword">on</span> x.id <span class="hljs-operator">=</span>a.id <span class="hljs-keyword">and</span> x.rev <span class="hljs-operator">=</span>a.rev
</code></pre>
    </div></div></div></div><div id="solution23" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 23</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>None of these answers have worked for me.</p>

<p>This is what worked for me.</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">with</span> score <span class="hljs-keyword">as</span> (<span class="hljs-keyword">select</span> <span class="hljs-built_in">max</span>(score_up) <span class="hljs-keyword">from</span> history)
<span class="hljs-keyword">select</span> history.<span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> score, history <span class="hljs-keyword">where</span> history.score_up <span class="hljs-operator">=</span> score.max
</code></pre>
    </div></div></div></div><div id="solution24" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 24</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here's another solution to retrieving the records only with a field that has the maximum value for that field. This works for SQL400 which is the platform I work on. In this example, the records with the maximum value in field FIELD5 will be retrieved by the following SQL statement.</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> A.KEYFIELD1, A.KEYFIELD2, A.FIELD3, A.FIELD4, A.FIELD5
  <span class="hljs-keyword">FROM</span> MYFILE A
 <span class="hljs-keyword">WHERE</span> RRN(A) <span class="hljs-keyword">IN</span>
   (<span class="hljs-keyword">SELECT</span> RRN(B) 
      <span class="hljs-keyword">FROM</span> MYFILE B
     <span class="hljs-keyword">WHERE</span> B.KEYFIELD1 <span class="hljs-operator">=</span> A.KEYFIELD1 <span class="hljs-keyword">AND</span> B.KEYFIELD2 <span class="hljs-operator">=</span> A.KEYFIELD2
     <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> B.FIELD5 <span class="hljs-keyword">DESC</span>
     <span class="hljs-keyword">FETCH</span> <span class="hljs-keyword">FIRST</span> <span class="hljs-type">ROW</span> <span class="hljs-keyword">ONLY</span>)
</code></pre>
    </div></div></div></div><div id="solution25" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 25</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can make the select without a join when you combine the <code>rev</code> and <code>id</code> into one <code>maxRevId</code> value for <code>MAX()</code> and then split it back to original values:</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> maxRevId <span class="hljs-operator">&amp;</span> ((<span class="hljs-number">1</span> <span class="hljs-operator">&lt;&lt;</span> <span class="hljs-number">32</span>) <span class="hljs-operator">-</span> <span class="hljs-number">1</span>) <span class="hljs-keyword">as</span> id, maxRevId <span class="hljs-operator">&gt;&gt;</span> <span class="hljs-number">32</span> <span class="hljs-keyword">AS</span> rev
<span class="hljs-keyword">FROM</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">MAX</span>(((rev <span class="hljs-operator">&lt;&lt;</span> <span class="hljs-number">32</span>) <span class="hljs-operator">|</span> id)) <span class="hljs-keyword">AS</span> maxRevId
      <span class="hljs-keyword">FROM</span> YourTable
      <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> id) x;
</code></pre>

<p>This is especially fast when there is a complex join instead of a single table. With the traditional approaches the complex join would be done twice.</p>

<p>The above combination is simple with bit functions when <code>rev</code> and <code>id</code> are <code>INT UNSIGNED</code> (32 bit) and combined value fits to <code>BIGINT UNSIGNED</code> (64 bit). When the <code>id</code> &amp; <code>rev</code> are larger than 32-bit values or made of multiple columns, you need combine the value into e.g. a binary value with suitable padding for <code>MAX()</code>.</p>
    </div></div></div></div><div id="solution26" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 26</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h1>Explanation</h1>

<p>This is not pure SQL. This will use the SQLAlchemy ORM.</p>

<p>I came here looking for SQLAlchemy help, so I will duplicate Adrian Carneiro's answer with the python/SQLAlchemy version, specifically the outer join part.</p>

<p>This query answers the question of:   </p>

<p><em>"Can you return me the records in this group of records (based on same id) that have the highest version number".</em>  </p>

<p>This allows me to duplicate the record, update it, increment its version number, and have the copy of the old version in such a way that I can show change over time.</p>

<h1>Code</h1>

<pre class="lang-sql s-code-block"><code class="hljs language-sql">MyTableAlias <span class="hljs-operator">=</span> aliased(MyTable)
newest_records <span class="hljs-operator">=</span> appdb.session.query(MyTable).select_from(<span class="hljs-keyword">join</span>(
    MyTable, 
    MyTableAlias, 
    onclause<span class="hljs-operator">=</span>and_(
        MyTable.id <span class="hljs-operator">=</span><span class="hljs-operator">=</span> MyTableAlias.id,
        MyTable.version_int <span class="hljs-operator">&lt;</span> MyTableAlias.version_int
    ),
    isouter<span class="hljs-operator">=</span><span class="hljs-literal">True</span>
    )
).<span class="hljs-keyword">filter</span>(
    MyTableAlias.id  <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-keyword">None</span>,
).<span class="hljs-keyword">all</span>()
</code></pre>

<p>Tested on a PostgreSQL database.</p>
    </div></div></div></div><div id="solution27" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 27</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/aggregate-functions">aggregate-functions</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/greatest-n-per-group">greatest-n-per-group</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/groupwise-maximum">groupwise-maximum</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I used the below to solve a problem of my own. I first created a temp table and inserted the max rev value per unique id.</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> #temp1
(
    id <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>)
    , rev <span class="hljs-type">int</span>
)
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> #temp1
<span class="hljs-keyword">SELECT</span> a.id, <span class="hljs-built_in">MAX</span>(a.rev) <span class="hljs-keyword">as</span> rev
<span class="hljs-keyword">FROM</span> 
    (
        <span class="hljs-keyword">SELECT</span> id, content, <span class="hljs-built_in">SUM</span>(rev) <span class="hljs-keyword">as</span> rev
        <span class="hljs-keyword">FROM</span> YourTable
        <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> id, content
    ) <span class="hljs-keyword">as</span> a 
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> a.id
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> a.id
</code></pre>

<p>I then joined these max values (#temp1) to all of the possible id/content combinations. By doing this, I naturally filter out the non-maximum id/content combinations, and am left with the only max rev values for each.</p>

<pre class="lang-sql s-code-block"><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> a.id, a.rev, content
<span class="hljs-keyword">FROM</span> #temp1 <span class="hljs-keyword">as</span> a
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span>
    (
        <span class="hljs-keyword">SELECT</span> id, content, <span class="hljs-built_in">SUM</span>(rev) <span class="hljs-keyword">as</span> rev
        <span class="hljs-keyword">FROM</span> YourTable
        <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> id, content
    ) <span class="hljs-keyword">as</span> b <span class="hljs-keyword">on</span> a.id <span class="hljs-operator">=</span> b.id <span class="hljs-keyword">and</span> a.rev <span class="hljs-operator">=</span> b.rev
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> a.id, a.rev, b.content
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> a.id
</code></pre>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/understanding-slicing-1657384397680">Understanding slicing</a><a href="/questions/%22cross-origin-requests-are-only-supported-for-http.%22-error-when-loading-a-local-file-1657387942403">&quot;Cross origin requests are only supported for HTTP.&quot; error when loading a local file</a><a href="/questions/ways-to-circumvent-the-same-origin-policy-1657384763316">Ways to circumvent the same-origin policy</a><a href="/questions/sort-arraylist-of-custom-objects-by-property-1657387678339">Sort ArrayList of custom Objects by property</a><a href="/questions/of-the-many-findelement(s)by-functions-in-selenium-when-would-you-use-one-over-the-other-1657388412658">Of the many findElement(s)/By functions in Selenium, when would you use one over the other?</a><a href="/questions/how-can-i-get-query-string-values-in-javascript-1657384443631">How can I get query string values in JavaScript?</a><a href="/questions/selenium-wait-until-element-is-present-visible-and-interactable-1657384820071">Selenium - wait until element is present, visible and interactable</a><a href="/questions/how-do-i-undo-the-most-recent-local-commits-in-git-1657388262945">How do I undo the most recent local commits in Git?</a><a href="/questions/why-shouldn&#x27;t-i-use-mysql_*-functions-in-php-1657384260352">Why shouldn&#x27;t I use mysql_* functions in PHP?</a><a href="/questions/how-to-choose-the-right-bean-scope-1657387596513">How to choose the right bean scope?</a><a href="/questions/reshaping-multiple-sets-of-measurement-columns-(wide-format)-into-single-columns-(long-format)-1657388016983">Reshaping multiple sets of measurement columns (wide format) into single columns (long format)</a><a href="/questions/pandas-conditional-creation-of-a-seriesdataframe-column-1657387461003">Pandas conditional creation of a series/dataframe column</a><a href="/questions/which-characters-are-valid-in-css-class-namesselectors-1657387959188">Which characters are valid in CSS class names/selectors?</a><a href="/questions/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java-closed-1657387970474">What is an efficient way to implement a singleton pattern in Java? [closed]</a><a href="/questions/deserialize-json-into-c-dynamic-object-1657388568720">Deserialize JSON into C# dynamic object?</a><a href="/questions/convert-form-data-to-javascript-object-with-jquery-1657388036834">Convert form data to JavaScript object with jQuery</a><a href="/questions/web-scraping-javascript-page-with-python-1657388240875">Web-scraping JavaScript page with Python</a><a href="/questions/how-to-create-recyclerview-with-multiple-view-types-1657388121512">How to create RecyclerView with multiple view types</a><a href="/questions/how-to-generate-all-permutations-of-a-list-1657388537371">How to generate all permutations of a list</a><a href="/questions/mysqli-or-die-does-it-have-to-die-1657388533922">mysqli or die, does it have to die?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;h2\u0026gt;At first glance...\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;All you need is a \u0026lt;code\u0026gt;GROUP BY\u0026lt;/code\u0026gt; clause with the \u0026lt;code\u0026gt;MAX\u0026lt;/code\u0026gt; aggregate function:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; id, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;MAX\u0026lt;/span\u0026gt;(rev)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; YourTable\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;GROUP\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; id\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h2\u0026gt;It\u0026apos;s never that simple, is it?\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;I just noticed you need the \u0026lt;code\u0026gt;content\u0026lt;/code\u0026gt; column as well.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This is a very common question in SQL: find the whole data for the row with some max value in a column per some group identifier. I heard that a lot during my career. Actually, it was one the questions I answered in my current job\u0026apos;s technical interview.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;It is, actually, so common that Stack Overflow community has created a single tag just to deal with questions like that: \u0026lt;a href=\u0026quot;/questions/tagged/greatest-n-per-group\u0026quot; class=\u0026quot;post-tag\u0026quot; title=\u0026quot;show questions tagged \u0026apos;greatest-n-per-group\u0026apos;\u0026quot; rel=\u0026quot;tag\u0026quot;\u0026gt;greatest-n-per-group\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Basically, you have two approaches to solve that problem:\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;Joining with simple \u0026lt;code\u0026gt;group-identifier, max-value-in-group\u0026lt;/code\u0026gt; Sub-query\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;In this approach, you first find the \u0026lt;code\u0026gt;group-identifier, max-value-in-group\u0026lt;/code\u0026gt; (already solved above) in a sub-query. Then you join your table to the sub-query with equality on both \u0026lt;code\u0026gt;group-identifier\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;max-value-in-group\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; a.id, a.rev, a.contents\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; YourTable a\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;INNER\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;JOIN\u0026lt;/span\u0026gt; (\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; id, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;MAX\u0026lt;/span\u0026gt;(rev) rev\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; YourTable\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;GROUP\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; id\n) b \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ON\u0026lt;/span\u0026gt; a.id \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; b.id \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AND\u0026lt;/span\u0026gt; a.rev \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; b.rev\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h2\u0026gt;Left Joining with self, tweaking join conditions and filters\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;In this approach, you left join the table with itself. Equality goes in the \u0026lt;code\u0026gt;group-identifier\u0026lt;/code\u0026gt;. Then, 2 smart moves:\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;The second join condition is having left side value less than right value\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;When you do step 1, the row(s) that actually have the max value will have \u0026lt;code\u0026gt;NULL\u0026lt;/code\u0026gt; in the right side (it\u0026apos;s a \u0026lt;code\u0026gt;LEFT JOIN\u0026lt;/code\u0026gt;, remember?). Then, we filter the joined result, showing only the rows where the right side is \u0026lt;code\u0026gt;NULL\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;So you end up with:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; a.\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; YourTable a\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;LEFT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;OUTER\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;JOIN\u0026lt;/span\u0026gt; YourTable b\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ON\u0026lt;/span\u0026gt; a.id \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; b.id \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AND\u0026lt;/span\u0026gt; a.rev \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;/span\u0026gt; b.rev\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;WHERE\u0026lt;/span\u0026gt; b.id \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;IS\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;NULL\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h2\u0026gt;Conclusion\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;Both approaches bring the exact same result.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If you have two rows with \u0026lt;code\u0026gt;max-value-in-group\u0026lt;/code\u0026gt; for \u0026lt;code\u0026gt;group-identifier\u0026lt;/code\u0026gt;, both rows will be in the result in both approaches.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Both approaches are SQL ANSI compatible, thus, will work with your favorite RDBMS, regardless of its \u0026quot;flavor\u0026quot;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Both approaches are also performance friendly, however your mileage may vary (RDBMS, DB Structure, Indexes, etc.). So when you pick one approach over the other, \u0026lt;em\u0026gt;benchmark\u0026lt;/em\u0026gt;. And make sure you pick the one which make most of sense to you.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;My preference is to use as little code as possible...\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You can do it using \u0026lt;code\u0026gt;IN\u0026lt;/code\u0026gt;\ntry this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt; \n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; t1 \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;WHERE\u0026lt;/span\u0026gt; (id,rev) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;IN\u0026lt;/span\u0026gt; \n( \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; id, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;MAX\u0026lt;/span\u0026gt;(rev)\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; t1\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;GROUP\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; id\n)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;to my mind it is less complicated... easier to read and maintain.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I am flabbergasted that no answer offered SQL window function solution:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; a.id, a.rev, a.contents\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; id, rev, contents,\n               \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;ROW_NUMBER\u0026lt;/span\u0026gt;() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;OVER\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;PARTITION\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; id \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ORDER\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; rev \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;DESC\u0026lt;/span\u0026gt;) ranked_order\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; YourTable) a\n \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;WHERE\u0026lt;/span\u0026gt; a.ranked_order \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Added in SQL standard ANSI/ISO Standard SQL:2003  and later extended with ANSI/ISO Standard SQL:2008, window (or windowing) functions are available with all major vendors now. There are more types of rank functions available to deal with a tie issue: \u0026lt;code\u0026gt;RANK, DENSE_RANK, PERSENT_RANK\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Yet another solution is to use a correlated subquery:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; yt.id, yt.rev, yt.contents\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; YourTable yt\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;where\u0026lt;/span\u0026gt; rev \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \n        (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;max\u0026lt;/span\u0026gt;(rev) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; YourTable st \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;where\u0026lt;/span\u0026gt; yt.id\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt;st.id)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Having an index on (id,rev) renders the subquery almost as a simple lookup...\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Following are comparisons to the solutions in @AdrianCarneiro\u0026apos;s answer (subquery, leftjoin), based on MySQL measurements with InnoDB table of ~1million records, group size being: 1-3.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;While for full table scans subquery/leftjoin/correlated timings relate to each other as 6/8/9, when it comes to direct lookups or batch (\u0026lt;code\u0026gt;id in (1,2,3)\u0026lt;/code\u0026gt;), subquery is much slower then the others (Due to rerunning the subquery). However I couldnt differentiate between leftjoin and correlated solutions in speed.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;One final note, as leftjoin creates n*(n+1)/2 joins in groups, its performance can be heavily affected by the size of groups...\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I can\u0026apos;t vouch for the performance, but here\u0026apos;s a trick inspired by the limitations of Microsoft Excel.  It has some good features\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;GOOD STUFF\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;It should force return of only one \u0026quot;max record\u0026quot; even if there is a tie (sometimes useful)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;It doesn\u0026apos;t require a join\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;APPROACH\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It is a little bit ugly and requires that you know something about the range of valid values of the \u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;rev\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt; column.  Let us assume that we know the \u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;rev\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt; column is a number between 0.00 and 999 including decimals but that there will only ever be two digits to the right of the decimal point (e.g. 34.17 would be a valid value).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The gist of the thing is that you create a single synthetic column by string concatenating/packing the primary comparison field along with the data you want.  In this way, you can force SQL\u0026apos;s MAX() aggregate function to return all of the data (because it has been packed into a single column).  Then you have to unpack the data.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Here\u0026apos;s how it looks with the above example, written in SQL\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; id, \n       \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;CAST\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;SUBSTRING\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;max\u0026lt;/span\u0026gt;(packed_col) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FOR\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AS\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;float\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; max_rev,\n       \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;SUBSTRING\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;max\u0026lt;/span\u0026gt;(packed_col) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AS\u0026lt;/span\u0026gt; content_for_max_rev \n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt;  (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; id, \n       \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;CAST\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;+\u0026lt;/span\u0026gt; rev \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;+\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.001\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;CHAR\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;||\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;---\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;||\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;CAST\u0026lt;/span\u0026gt;(content \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AS\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;char\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AS\u0026lt;/span\u0026gt; packed_col\n       \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; yourtable\n      ) \n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;GROUP\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; id\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The packing begins by forcing the \u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;rev\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt; column to be a number of known character length regardless of the value of \u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;rev\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt; so that for example\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;3.2    becomes    1003.201\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;57     becomes    1057.001\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;923.88 becomes    1923.881\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;If you do it right, string comparison of two numbers should yield the same \u0026quot;max\u0026quot; as numeric comparison of the two numbers and it\u0026apos;s easy to convert back to the original number using the substring function (which is available in one form or another pretty much everywhere).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h3\u0026gt;Unique Identifiers?  Yes!  Unique identifiers!\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;One of the best ways to develop a MySQL DB is \u0026lt;a href=\u0026quot;https://dev.mysql.com/doc/refman/8.0/en/example-auto-increment.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;to have each \u0026lt;code\u0026gt;id\u0026lt;/code\u0026gt; \u0026lt;code\u0026gt;AUTOINCREMENT\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; (Source MySQL.com).  This allows a variety of advantages, too many to cover here.  The problem with the question is that its example has duplicate ids.  This disregards these tremendous advantages of unique identifiers, and at the same time, is confusing to those familiar with this already.\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;Cleanest Solution\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://www.db-fiddle.com/f/8AmYpUxAo2z3yoR7yr9TKp/0\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;DB Fiddle\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Newer versions of MySQL come with \u0026lt;code\u0026gt;ONLY_FULL_GROUP_BY\u0026lt;/code\u0026gt; enabled by default, and many of the solutions here will \u0026lt;em\u0026gt;fail\u0026lt;/em\u0026gt; in testing with this condition.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Even so, we can simply select \u0026lt;code\u0026gt;DISTINCT\u0026lt;/code\u0026gt; \u0026lt;em\u0026gt;someuniquefield\u0026lt;/em\u0026gt;, \u0026lt;code\u0026gt;MAX(\u0026lt;/code\u0026gt; \u0026lt;em\u0026gt;whateverotherfieldtoselect\u0026lt;/em\u0026gt; \u0026lt;code\u0026gt;)\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;(\u0026lt;/code\u0026gt; *somethirdfield \u0026lt;code\u0026gt;)\u0026lt;/code\u0026gt;, etc., and have no worries understanding the result or how the query works :\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;DISTINCT\u0026lt;/span\u0026gt; t1.id, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;MAX\u0026lt;/span\u0026gt;(t1.rev), \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;MAX\u0026lt;/span\u0026gt;(t2.content)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; Table1 \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AS\u0026lt;/span\u0026gt; t1\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;JOIN\u0026lt;/span\u0026gt; Table1 \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AS\u0026lt;/span\u0026gt; t2 \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ON\u0026lt;/span\u0026gt; t2.id \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; t1.id \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AND\u0026lt;/span\u0026gt; t2.rev \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;MAX\u0026lt;/span\u0026gt;(rev) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; Table1 t3 \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;WHERE\u0026lt;/span\u0026gt; t3.id \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; t1.id\n)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;GROUP\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; t1.id;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;SELECT DISTINCT Table1.id, max(Table1.rev), max(Table2.content)\u0026lt;/code\u0026gt; : Return \u0026lt;code\u0026gt;DISTINCT\u0026lt;/code\u0026gt; somefield, \u0026lt;code\u0026gt;MAX()\u0026lt;/code\u0026gt; some otherfield, the last \u0026lt;code\u0026gt;MAX()\u0026lt;/code\u0026gt; is redundant, because I know it\u0026apos;s just one row, but it\u0026apos;s required by the query.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;FROM Employee\u0026lt;/code\u0026gt; : Table searched on.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;JOIN Table1 AS Table2 ON Table2.rev = Table1.rev\u0026lt;/code\u0026gt; : Join the second table on the first, because, we need to get the max(table1.rev)\u0026apos;s comment.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;GROUP BY Table1.id\u0026lt;/code\u0026gt;: Force the top-sorted, Salary row of each employee to be the returned result.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;Note that since \u0026quot;content\u0026quot; was \u0026quot;...\u0026quot; in OP\u0026apos;s question, there\u0026apos;s no way to test that this works.  So, I changed that to \u0026quot;..a\u0026quot;, \u0026quot;..b\u0026quot;, so, we can actually now see that the results are correct:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;id  \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;max\u0026lt;/span\u0026gt;(Table1.rev) \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;max\u0026lt;/span\u0026gt;(Table2.content)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;   ..d\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;   ..b\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Why is it clean?\u0026lt;/em\u0026gt;  \u0026lt;code\u0026gt;DISTINCT()\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;MAX()\u0026lt;/code\u0026gt;, etc., all make wonderful use of MySQL indices.  This will be faster.  Or, it will be much faster, if you have indexing, and you compare it to a query that looks at all rows.\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;Original Solution\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;With \u0026lt;code\u0026gt;ONLY_FULL_GROUP_BY\u0026lt;/code\u0026gt; disabled, we can use still use \u0026lt;code\u0026gt;GROUP BY\u0026lt;/code\u0026gt;, but then we are only using it on the Salary, and not the id:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt;\n    (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; Employee\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ORDER\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; Salary \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;DESC\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AS\u0026lt;/span\u0026gt; employeesub\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;GROUP\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; employeesub.Salary;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;SELECT *\u0026lt;/code\u0026gt; : Return all fields.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;FROM Employee\u0026lt;/code\u0026gt; : Table searched on.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;(SELECT *...)\u0026lt;/code\u0026gt; subquery : Return all people, sorted by Salary.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;GROUP BY employeesub.Salary\u0026lt;/code\u0026gt;: Force the top-sorted, Salary row of each employee to be the returned result.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;h3\u0026gt;Unique-Row Solution\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;Note the \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Relational_database\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Definition of a Relational Database\u0026lt;/a\u0026gt;: \u0026quot;Each row in a table has its own unique key.\u0026quot;  This would mean that, in the question\u0026apos;s example, id would \u0026lt;em\u0026gt;have to be\u0026lt;/em\u0026gt; unique, and in that case, we can just do :\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; Employee\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;WHERE\u0026lt;/span\u0026gt; Employee.id \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12345\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ORDER\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; Employee.Salary \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;DESC\u0026lt;/span\u0026gt;\nLIMIT \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Hopefully this is a solution that solves the problem and helps everyone better understand what\u0026apos;s happening in the DB.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Something like this?\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; yourtable.id, rev, content\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; yourtable\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;INNER\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;JOIN\u0026lt;/span\u0026gt; (\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; id, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;max\u0026lt;/span\u0026gt;(rev) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; maxrev\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; yourtable\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;GROUP\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; id\n) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AS\u0026lt;/span\u0026gt; child \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ON\u0026lt;/span\u0026gt; (yourtable.id \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; child.id) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AND\u0026lt;/span\u0026gt; (yourtable.rev \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; maxrev)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Another manner to do the job is using \u0026lt;code\u0026gt;MAX()\u0026lt;/code\u0026gt; analytic function in OVER PARTITION clause\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; t.\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt;\n    (\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; id\n          ,rev\n          ,contents\n          ,\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;MAX\u0026lt;/span\u0026gt;(rev) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;OVER\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;PARTITION\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; id) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; max_rev\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; YourTable\n    ) t\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;WHERE\u0026lt;/span\u0026gt; t.rev \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; t.max_rev \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The other \u0026lt;code\u0026gt;ROW_NUMBER()\u0026lt;/code\u0026gt; OVER PARTITION solution already documented in this post is\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; t.\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt;\n    (\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; id\n          ,rev\n          ,contents\n          ,\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;ROW_NUMBER\u0026lt;/span\u0026gt;() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;OVER\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;PARTITION\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; id \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ORDER\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; rev \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;DESC\u0026lt;/span\u0026gt;) rank\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; YourTable\n    ) t\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;WHERE\u0026lt;/span\u0026gt; t.rank \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This 2 SELECT work well on Oracle 10g.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;MAX() solution runs certainly FASTER that \u0026lt;code\u0026gt;ROW_NUMBER()\u0026lt;/code\u0026gt; solution because \u0026lt;code\u0026gt;MAX()\u0026lt;/code\u0026gt; complexity is \u0026lt;code\u0026gt;O(n)\u0026lt;/code\u0026gt; while \u0026lt;code\u0026gt;ROW_NUMBER()\u0026lt;/code\u0026gt; complexity is at minimum \u0026lt;code\u0026gt;O(n.log(n))\u0026lt;/code\u0026gt; where \u0026lt;code\u0026gt;n\u0026lt;/code\u0026gt; represent the number of records in table !\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I like to use a \u0026lt;code\u0026gt;NOT EXIST\u0026lt;/code\u0026gt;-based solution for this problem:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \n  id, \n  rev\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;-- you can select other columns here\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; YourTable t\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;WHERE\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;NOT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;EXISTS\u0026lt;/span\u0026gt; (\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; YourTable t \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;WHERE\u0026lt;/span\u0026gt; t.id \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; id \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AND\u0026lt;/span\u0026gt; rev \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt; t.rev\n)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This will select all records with max value within the group and allows you to select other columns.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I think, You want this?\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; docs \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;where\u0026lt;/span\u0026gt; (id, rev) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;IN\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; id, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;max\u0026lt;/span\u0026gt;(rev) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; rev \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; docs \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;group\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;by\u0026lt;/span\u0026gt; id \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;order\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;by\u0026lt;/span\u0026gt; id)  \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;SQL Fiddle :\n\u0026lt;a href=\u0026quot;http://sqlfiddle.com/#!9/a6c585/82473/0\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Check here\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; Employee\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;where\u0026lt;/span\u0026gt; Employee.Salary \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;max\u0026lt;/span\u0026gt;(salary) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; Employee \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;group\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;by\u0026lt;/span\u0026gt; Employe_id)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ORDER\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; Employee.Salary\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Note: I probably wouldn\u0026apos;t recommend this anymore in MySQL 8+ days. Haven\u0026apos;t used it in years.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;A third solution I hardly ever see mentioned is MySQL specific and looks like this:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; id, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;MAX\u0026lt;/span\u0026gt;(rev) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AS\u0026lt;/span\u0026gt; rev\n , \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;+\u0026lt;/span\u0026gt;SUBSTRING_INDEX(GROUP_CONCAT(numeric_content \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ORDER\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; rev \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;DESC\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;,\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AS\u0026lt;/span\u0026gt; numeric_content\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; t1\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;GROUP\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; id\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Yes it looks awful (converting to string and back etc.) but in my experience it\u0026apos;s usually faster than the other solutions. Maybe that\u0026apos;s just for my use cases, but I have used it on tables with millions of records and many unique ids. Maybe it\u0026apos;s because MySQL is pretty bad at optimizing the other solutions (at least in the 5.0 days when I came up with this solution).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;One important thing is that GROUP_CONCAT has a maximum length for the string it can build up. You probably want to raise this limit by setting the \u0026lt;code\u0026gt;group_concat_max_len\u0026lt;/code\u0026gt; variable. And keep in mind that this will be a limit on scaling if you have a large number of rows.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Anyway, the above doesn\u0026apos;t directly work if your content field is already text. In that case you probably want to use a different separator, like \\0 maybe. You\u0026apos;ll also run into the \u0026lt;code\u0026gt;group_concat_max_len\u0026lt;/code\u0026gt; limit quicker.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;NOT mySQL\u0026lt;/strong\u0026gt;, but for other people finding this question and using SQL, another way to resolve the \u0026lt;a href=\u0026quot;/questions/tagged/greatest-n-per-group\u0026quot; class=\u0026quot;post-tag\u0026quot; title=\u0026quot;show questions tagged \u0026apos;greatest-n-per-group\u0026apos;\u0026quot; rel=\u0026quot;tag\u0026quot;\u0026gt;greatest-n-per-group\u0026lt;/a\u0026gt; problem is using \u0026lt;a href=\u0026quot;http://technet.microsoft.com/en-us/library/ms175156(v=sql.105).aspx\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;Cross Apply\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; in MS SQL\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;WITH\u0026lt;/span\u0026gt; DocIds \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AS\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;DISTINCT\u0026lt;/span\u0026gt; id \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; docs)\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; d2.id, d2.rev, d2.content\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; DocIds d1\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;CROSS\u0026lt;/span\u0026gt; APPLY (\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; Top \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; docs d\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;WHERE\u0026lt;/span\u0026gt; d.id \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; d1.id\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ORDER\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; rev \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;DESC\u0026lt;/span\u0026gt;\n) d2\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h3\u0026gt;\u0026lt;a href=\u0026quot;http://sqlfiddle.com/#!18/25b5c/1\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Here\u0026apos;s an example in SqlFiddle\u0026lt;/a\u0026gt;\u0026lt;/h3\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I would use this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; t.\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; test \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; t\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt;\n   (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;max\u0026lt;/span\u0026gt;(rev) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; rev\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; test\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;group\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;by\u0026lt;/span\u0026gt; id) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; o\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt; o.rev \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; t.rev\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Subquery SELECT is not too eficient maybe, but in JOIN clause seems to be usable. I\u0026apos;m not an expert in optimizing queries, but I\u0026apos;ve tried at MySQL, PostgreSQL, FireBird and it does work very good.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You can use this schema in multiple joins and with WHERE clause. It is my working example (solving identical to yours problem with table \u0026quot;firmy\u0026quot;):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; platnosci \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; p\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt; firmy \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; f\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt; p.id_rel_firmy \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; f.id_rel\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;max\u0026lt;/span\u0026gt;(id_obj) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; id_obj\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; firmy\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;group\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;by\u0026lt;/span\u0026gt; id_rel) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; o\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt; o.id_obj \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; f.id_obj \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;and\u0026lt;/span\u0026gt; p.od \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2014-03-01\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;It is asked on tables having teens thusands of records, and it takes less then 0,01 second on really not too strong machine.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I wouldn\u0026apos;t use IN clause (as it is mentioned somewhere above). IN is given to use with short lists of constans, and not as to be the query filter built on subquery. It is because subquery in IN is performed for every scanned record which can made query taking very loooong time.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Since this is most popular question with regard to this problem, I\u0026apos;ll re-post another answer to it here as well:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It looks like there is simpler way to do this (but \u0026lt;strong\u0026gt;only in MySQL\u0026lt;/strong\u0026gt;):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; mytable \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;order\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;by\u0026lt;/span\u0026gt; id, rev \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;desc\u0026lt;/span\u0026gt; ) x\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;group\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;by\u0026lt;/span\u0026gt; id\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Please credit answer of user Bohemian\u0026lt;/strong\u0026gt; in \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/12102200/get-records-with-max-value-for-each-group-of-grouped-sql-results\u0026quot;\u0026gt;this question\u0026lt;/a\u0026gt; for providing such a concise and elegant answer to this problem.\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Edit:\u0026lt;/strong\u0026gt; though this solution works for many people it may not be stable in the long run, since MySQL doesn\u0026apos;t guarantee that GROUP BY statement will return meaningful values for columns not in GROUP BY list. So use this solution at your own risk!\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you have many fields in select statement and you want latest  value for all of those fields through optimized code:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt;\n(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; table_name\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;order\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;by\u0026lt;/span\u0026gt; id,rev \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;desc\u0026lt;/span\u0026gt;) temp\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;group\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;by\u0026lt;/span\u0026gt; id \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;How about this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; all_fields.\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt;  \n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; id, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;MAX\u0026lt;/span\u0026gt;(rev) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; yourtable \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;GROUP\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; id) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AS\u0026lt;/span\u0026gt; max_recs  \n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;LEFT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;OUTER\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;JOIN\u0026lt;/span\u0026gt; yourtable \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AS\u0026lt;/span\u0026gt; all_fields \n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ON\u0026lt;/span\u0026gt; max_recs.id \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; all_fields.id\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This solution makes only one selection from YourTable, therefore it\u0026apos;s faster. It works only for MySQL and SQLite(for SQLite remove DESC) according to test on sqlfiddle.com. Maybe it can be tweaked to work on other languages which I am not familiar with.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; ( \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt;\n       \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; ( \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; id, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; rev, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;content1\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; content\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;UNION\u0026lt;/span\u0026gt;\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;content2\u0026apos;\u0026lt;/span\u0026gt;\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;UNION\u0026lt;/span\u0026gt;\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;content3\u0026apos;\u0026lt;/span\u0026gt;\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;UNION\u0026lt;/span\u0026gt;\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;content4\u0026apos;\u0026lt;/span\u0026gt;\n            ) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; YourTable\n       \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ORDER\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; id, rev \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;DESC\u0026lt;/span\u0026gt;\n   ) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; YourTable\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;GROUP\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; id\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here is a nice way of doing that\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Use following code :\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;with\u0026lt;/span\u0026gt; temp \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt;  ( \n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;count\u0026lt;/span\u0026gt;(field1) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; summ , field1\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; table_name\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;group\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;by\u0026lt;/span\u0026gt; field1 )\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; temp \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;where\u0026lt;/span\u0026gt; summ \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;max\u0026lt;/span\u0026gt;(summ) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; temp)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I like to do this by ranking the records by some column. In this case, rank \u0026lt;code\u0026gt;rev\u0026lt;/code\u0026gt; values grouped by \u0026lt;code\u0026gt;id\u0026lt;/code\u0026gt;. Those with higher \u0026lt;code\u0026gt;rev\u0026lt;/code\u0026gt; will have lower rankings. So highest \u0026lt;code\u0026gt;rev\u0026lt;/code\u0026gt; will have ranking of 1.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; id, rev, content\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt;\n (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;@rowNum\u0026lt;/span\u0026gt; :\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; if(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;@prevValue\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; id, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;@rowNum\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;+\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; row_num,\n    id, rev, content,\n    \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;@prevValue\u0026lt;/span\u0026gt; :\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; id\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt;\n   (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; id, rev, content \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; YOURTABLE \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;order\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;by\u0026lt;/span\u0026gt; id \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;asc\u0026lt;/span\u0026gt;, rev \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;desc\u0026lt;/span\u0026gt;) TEMP,\n   (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;@rowNum\u0026lt;/span\u0026gt; :\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; DUAL) X,\n   (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;@prevValue\u0026lt;/span\u0026gt; :\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;-1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; DUAL) Y) TEMP\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;where\u0026lt;/span\u0026gt; row_num \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Not sure if introducing variables makes the whole thing slower. But at least I\u0026apos;m not querying \u0026lt;code\u0026gt;YOURTABLE\u0026lt;/code\u0026gt; twice.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Sorted the rev field in reverse order and then grouped by id which gave the first row of each grouping which is the one with the highest rev value.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; table1 \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ORDER\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; id, rev \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;DESC\u0026lt;/span\u0026gt;) X \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;GROUP\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; X.id;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Tested in \u0026lt;a href=\u0026quot;http://sqlfiddle.com/\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;http://sqlfiddle.com/\u0026lt;/a\u0026gt; with the following data\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;CREATE\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;TABLE\u0026lt;/span\u0026gt; table1\n    (`id` \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;, `rev` \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;, `content` \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;varchar\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11\u0026lt;/span\u0026gt;));\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;INSERT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;INTO\u0026lt;/span\u0026gt; table1\n    (`id`, `rev`, `content`)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;VALUES\u0026lt;/span\u0026gt;\n    (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;One-One\u0026apos;\u0026lt;/span\u0026gt;),\n    (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;One-Two\u0026apos;\u0026lt;/span\u0026gt;),\n    (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Two-One\u0026apos;\u0026lt;/span\u0026gt;),\n    (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Two-Two\u0026apos;\u0026lt;/span\u0026gt;),\n    (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Three-Two\u0026apos;\u0026lt;/span\u0026gt;),\n    (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Three-One\u0026apos;\u0026lt;/span\u0026gt;),\n    (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Three-Three\u0026apos;\u0026lt;/span\u0026gt;)\n;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This gave the following result in MySql 5.5 and 5.6 \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;id  rev content\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;One\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;-\u0026lt;/span\u0026gt;Two\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;   Two\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;-\u0026lt;/span\u0026gt;Two\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;   Three\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;-\u0026lt;/span\u0026gt;Two\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;here is another solution hope it will help someone    \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;Select\u0026lt;/span\u0026gt; a.id , a.rev, a.content \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; Table1 a\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inner\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt; \n(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; id, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;max\u0026lt;/span\u0026gt;(rev) rev \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; Table1 \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;GROUP\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; id) x \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt; x.id \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt;a.id \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;and\u0026lt;/span\u0026gt; x.rev \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt;a.rev\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;None of these answers have worked for me.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This is what worked for me.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;with\u0026lt;/span\u0026gt; score \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;max\u0026lt;/span\u0026gt;(score_up) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; history)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;select\u0026lt;/span\u0026gt; history.\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;*\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; score, history \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;where\u0026lt;/span\u0026gt; history.score_up \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; score.max\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here\u0026apos;s another solution to retrieving the records only with a field that has the maximum value for that field. This works for SQL400 which is the platform I work on. In this example, the records with the maximum value in field FIELD5 will be retrieved by the following SQL statement.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; A.KEYFIELD1, A.KEYFIELD2, A.FIELD3, A.FIELD4, A.FIELD5\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; MYFILE A\n \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;WHERE\u0026lt;/span\u0026gt; RRN(A) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;IN\u0026lt;/span\u0026gt;\n   (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; RRN(B) \n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; MYFILE B\n     \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;WHERE\u0026lt;/span\u0026gt; B.KEYFIELD1 \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; A.KEYFIELD1 \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AND\u0026lt;/span\u0026gt; B.KEYFIELD2 \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; A.KEYFIELD2\n     \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ORDER\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; B.FIELD5 \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;DESC\u0026lt;/span\u0026gt;\n     \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FETCH\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FIRST\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;ROW\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ONLY\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can make the select without a join when you combine the \u0026lt;code\u0026gt;rev\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;id\u0026lt;/code\u0026gt; into one \u0026lt;code\u0026gt;maxRevId\u0026lt;/code\u0026gt; value for \u0026lt;code\u0026gt;MAX()\u0026lt;/code\u0026gt; and then split it back to original values:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; maxRevId \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;\u0026amp;amp;\u0026lt;/span\u0026gt; ((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;\u0026amp;lt;\u0026amp;lt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;32\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;-\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; id, maxRevId \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;32\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AS\u0026lt;/span\u0026gt; rev\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;MAX\u0026lt;/span\u0026gt;(((rev \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;\u0026amp;lt;\u0026amp;lt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;32\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;|\u0026lt;/span\u0026gt; id)) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;AS\u0026lt;/span\u0026gt; maxRevId\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; YourTable\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;GROUP\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; id) x;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This is especially fast when there is a complex join instead of a single table. With the traditional approaches the complex join would be done twice.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The above combination is simple with bit functions when \u0026lt;code\u0026gt;rev\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;id\u0026lt;/code\u0026gt; are \u0026lt;code\u0026gt;INT UNSIGNED\u0026lt;/code\u0026gt; (32 bit) and combined value fits to \u0026lt;code\u0026gt;BIGINT UNSIGNED\u0026lt;/code\u0026gt; (64 bit). When the \u0026lt;code\u0026gt;id\u0026lt;/code\u0026gt; \u0026amp;amp; \u0026lt;code\u0026gt;rev\u0026lt;/code\u0026gt; are larger than 32-bit values or made of multiple columns, you need combine the value into e.g. a binary value with suitable padding for \u0026lt;code\u0026gt;MAX()\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h1\u0026gt;Explanation\u0026lt;/h1\u0026gt;\n\n\u0026lt;p\u0026gt;This is not pure SQL. This will use the SQLAlchemy ORM.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I came here looking for SQLAlchemy help, so I will duplicate Adrian Carneiro\u0026apos;s answer with the python/SQLAlchemy version, specifically the outer join part.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This query answers the question of:   \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;\u0026quot;Can you return me the records in this group of records (based on same id) that have the highest version number\u0026quot;.\u0026lt;/em\u0026gt;  \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This allows me to duplicate the record, update it, increment its version number, and have the copy of the old version in such a way that I can show change over time.\u0026lt;/p\u0026gt;\n\n\u0026lt;h1\u0026gt;Code\u0026lt;/h1\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;MyTableAlias \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; aliased(MyTable)\nnewest_records \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; appdb.session.query(MyTable).select_from(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt;(\n    MyTable, \n    MyTableAlias, \n    onclause\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt;and_(\n        MyTable.id \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; MyTableAlias.id,\n        MyTable.version_int \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;/span\u0026gt; MyTableAlias.version_int\n    ),\n    isouter\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;\n    )\n).\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;filter\u0026lt;/span\u0026gt;(\n    MyTableAlias.id  \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;,\n).\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;all\u0026lt;/span\u0026gt;()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Tested on a PostgreSQL database.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I used the below to solve a problem of my own. I first created a temp table and inserted the max rev value per unique id.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;CREATE\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;TABLE\u0026lt;/span\u0026gt; #temp1\n(\n    id \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;varchar\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;)\n    , rev \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;\n)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;INSERT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;INTO\u0026lt;/span\u0026gt; #temp1\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; a.id, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;MAX\u0026lt;/span\u0026gt;(a.rev) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; rev\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; \n    (\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; id, content, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;SUM\u0026lt;/span\u0026gt;(rev) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; rev\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; YourTable\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;GROUP\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; id, content\n    ) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; a \n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;GROUP\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; a.id\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ORDER\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; a.id\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;I then joined these max values (#temp1) to all of the possible id/content combinations. By doing this, I naturally filter out the non-maximum id/content combinations, and am left with the only max rev values for each.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-sql s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-sql\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; a.id, a.rev, content\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; #temp1 \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; a\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;LEFT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;JOIN\u0026lt;/span\u0026gt;\n    (\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;SELECT\u0026lt;/span\u0026gt; id, content, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;SUM\u0026lt;/span\u0026gt;(rev) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; rev\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;FROM\u0026lt;/span\u0026gt; YourTable\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;GROUP\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; id, content\n    ) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; b \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt; a.id \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; b.id \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;and\u0026lt;/span\u0026gt; a.rev \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; b.rev\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;GROUP\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; a.id, a.rev, b.content\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ORDER\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;BY\u0026lt;/span\u0026gt; a.id\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":102,"title":"SQL select only rows with max value on a column [duplicate]","content":"\n                    \u0026lt;div\u0026gt;\n            \u0026lt;aside class=\u0026quot;s-notice s-notice__info post-notice js-post-notice mb16\u0026quot; role=\u0026quot;status\u0026quot;\u0026gt;\n        \u0026lt;div class=\u0026quot;d-flex fd-column fw-nowrap\u0026quot;\u0026gt;\n            \u0026lt;div class=\u0026quot;d-flex fw-nowrap\u0026quot;\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item mr8\u0026quot;\u0026gt;\n                        \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;svg-icon iconLightbulb\u0026quot; width=\u0026quot;18\u0026quot; height=\u0026quot;18\u0026quot; viewBox=\u0026quot;0 0 18 18\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;M15 6.38A6.48 6.48 0 0 0 7.78.04h-.02A6.49 6.49 0 0 0 2.05 5.6a6.31 6.31 0 0 0 2.39 5.75c.49.39.76.93.76 1.5v.24c0 1.07.89 1.9 1.92 1.9h2.75c1.04 0 1.92-.83 1.92-1.9v-.2c0-.6.26-1.15.7-1.48A6.32 6.32 0 0 0 15 6.37ZM4.03 5.85A4.49 4.49 0 0 1 8 2.02a4.48 4.48 0 0 1 5 4.36 4.3 4.3 0 0 1-1.72 3.44c-.98.74-1.5 1.9-1.5 3.08v.1H7.2v-.14c0-1.23-.6-2.34-1.53-3.07a4.32 4.32 0 0 1-1.64-3.94ZM10 18a1 1 0 0 0 0-2H7a1 1 0 1 0 0 2h3Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                \u0026lt;div class=\u0026quot;flex--item wmn0 fl1 lh-lg\u0026quot;\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item fl1 lh-lg\u0026quot;\u0026gt;\n                        \u0026lt;b\u0026gt;Want to improve this post?\u0026lt;/b\u0026gt; Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.\n                        \n                    \u0026lt;/div\u0026gt;\n                \u0026lt;/div\u0026gt;\n            \u0026lt;/div\u0026gt;\n        \u0026lt;/div\u0026gt;\n\u0026lt;/aside\u0026gt;\n\n            \u0026lt;aside class=\u0026quot;s-notice s-notice__info post-notice js-post-notice mb16\u0026quot; role=\u0026quot;status\u0026quot;\u0026gt;\n        \u0026lt;div class=\u0026quot;d-flex fd-column fw-nowrap\u0026quot;\u0026gt;\n            \u0026lt;div class=\u0026quot;d-flex fw-nowrap\u0026quot;\u0026gt;\n                \u0026lt;div class=\u0026quot;flex--item wmn0 fl1 lh-lg\u0026quot;\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item fl1 lh-lg\u0026quot;\u0026gt;\n                        \u0026lt;b\u0026gt;This question already has answers here\u0026lt;/b\u0026gt;:\n                        \n                    \u0026lt;/div\u0026gt;\n                \u0026lt;/div\u0026gt;\n            \u0026lt;/div\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item mb0 mt4\u0026quot;\u0026gt;\n                        \u0026lt;a href=\u0026quot;/questions/1313120/retrieving-the-last-record-in-each-group-mysql\u0026quot; dir=\u0026quot;ltr\u0026quot;\u0026gt;Retrieving the last record in each group - MySQL\u0026lt;/a\u0026gt;\n                            \u0026lt;span class=\u0026quot;question-originals-answer-count\u0026quot;\u0026gt;\n                                (33 answers)\n                            \u0026lt;/span\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                \u0026lt;div class=\u0026quot;flex--item mb0 mt8\u0026quot;\u0026gt;Closed \u0026lt;span title=\u0026quot;2019-03-20 00:19:10Z\u0026quot; class=\u0026quot;relativetime\u0026quot;\u0026gt;3 years ago\u0026lt;/span\u0026gt;.\u0026lt;/div\u0026gt;\n        \u0026lt;/div\u0026gt;\n\u0026lt;/aside\u0026gt;\n\n    \u0026lt;/div\u0026gt;\n\n\u0026lt;p\u0026gt;I have this table for documents (simplified version here):\u0026lt;/p\u0026gt;\n\u0026lt;div class=\u0026quot;s-table-container\u0026quot;\u0026gt;\n\u0026lt;table class=\u0026quot;s-table\u0026quot;\u0026gt;\n\u0026lt;thead\u0026gt;\n\u0026lt;tr\u0026gt;\n\u0026lt;th\u0026gt;id\u0026lt;/th\u0026gt;\n\u0026lt;th\u0026gt;rev\u0026lt;/th\u0026gt;\n\u0026lt;th\u0026gt;content\u0026lt;/th\u0026gt;\n\u0026lt;/tr\u0026gt;\n\u0026lt;/thead\u0026gt;\n\u0026lt;tbody\u0026gt;\n\u0026lt;tr\u0026gt;\n\u0026lt;td\u0026gt;1\u0026lt;/td\u0026gt;\n\u0026lt;td\u0026gt;1\u0026lt;/td\u0026gt;\n\u0026lt;td\u0026gt;...\u0026lt;/td\u0026gt;\n\u0026lt;/tr\u0026gt;\n\u0026lt;tr\u0026gt;\n\u0026lt;td\u0026gt;2\u0026lt;/td\u0026gt;\n\u0026lt;td\u0026gt;1\u0026lt;/td\u0026gt;\n\u0026lt;td\u0026gt;...\u0026lt;/td\u0026gt;\n\u0026lt;/tr\u0026gt;\n\u0026lt;tr\u0026gt;\n\u0026lt;td\u0026gt;1\u0026lt;/td\u0026gt;\n\u0026lt;td\u0026gt;2\u0026lt;/td\u0026gt;\n\u0026lt;td\u0026gt;...\u0026lt;/td\u0026gt;\n\u0026lt;/tr\u0026gt;\n\u0026lt;tr\u0026gt;\n\u0026lt;td\u0026gt;1\u0026lt;/td\u0026gt;\n\u0026lt;td\u0026gt;3\u0026lt;/td\u0026gt;\n\u0026lt;td\u0026gt;...\u0026lt;/td\u0026gt;\n\u0026lt;/tr\u0026gt;\n\u0026lt;/tbody\u0026gt;\n\u0026lt;/table\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;How do I select one row per id and only the greatest rev?\u0026lt;br\u0026gt;\nWith the above data, the result should contain two rows: \u0026lt;code\u0026gt;[1, 3, ...]\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;[2, 1, ..]\u0026lt;/code\u0026gt;. I\u0026apos;m using \u0026lt;em\u0026gt;\u0026lt;strong\u0026gt;MySQL\u0026lt;/strong\u0026gt;\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Currently I use checks in the \u0026lt;code\u0026gt;while\u0026lt;/code\u0026gt; loop to detect and over-write old revs from the resultset. But is this the only method to achieve the result? Isn\u0026apos;t there a \u0026lt;strong\u0026gt;SQL\u0026lt;/strong\u0026gt; solution?\u0026lt;/p\u0026gt;\n    ","slug":"sql-select-only-rows-with-max-value-on-a-column-duplicate-1657384614292","postType":"QUESTION","createdAt":"2022-07-09T16:36:54.000Z","updatedAt":"2022-07-09T16:36:54.000Z","tags":[{"id":374,"name":"aggregate-functions","slug":"aggregate-functions","createdAt":"2022-07-09T16:36:54.000Z","updatedAt":"2022-07-09T16:36:54.000Z","Questions_Tags":{"questionId":102,"tagId":374}},{"id":375,"name":"greatest-n-per-group","slug":"greatest-n-per-group","createdAt":"2022-07-09T16:36:54.000Z","updatedAt":"2022-07-09T16:36:54.000Z","Questions_Tags":{"questionId":102,"tagId":375}},{"id":376,"name":"groupwise-maximum","slug":"groupwise-maximum","createdAt":"2022-07-09T16:36:54.000Z","updatedAt":"2022-07-09T16:36:54.000Z","Questions_Tags":{"questionId":102,"tagId":376}}],"relatedQuestions":[{"title":"SQL select only rows with max value on a column [duplicate]","slug":"sql-select-only-rows-with-max-value-on-a-column-duplicate-1657384614292","tags":[{"name":"aggregate-functions","Questions_Tags":{"questionId":102,"tagId":374}},{"name":"greatest-n-per-group","Questions_Tags":{"questionId":102,"tagId":375}},{"name":"groupwise-maximum","Questions_Tags":{"questionId":102,"tagId":376}}]}]},"randomQuestions":[{"title":"Understanding slicing","slug":"understanding-slicing-1657384397680"},{"title":"\"Cross origin requests are only supported for HTTP.\" error when loading a local file","slug":"\"cross-origin-requests-are-only-supported-for-http.\"-error-when-loading-a-local-file-1657387942403"},{"title":"Ways to circumvent the same-origin policy","slug":"ways-to-circumvent-the-same-origin-policy-1657384763316"},{"title":"Sort ArrayList of custom Objects by property","slug":"sort-arraylist-of-custom-objects-by-property-1657387678339"},{"title":"Of the many findElement(s)/By functions in Selenium, when would you use one over the other?","slug":"of-the-many-findelement(s)by-functions-in-selenium-when-would-you-use-one-over-the-other-1657388412658"},{"title":"How can I get query string values in JavaScript?","slug":"how-can-i-get-query-string-values-in-javascript-1657384443631"},{"title":"Selenium - wait until element is present, visible and interactable","slug":"selenium-wait-until-element-is-present-visible-and-interactable-1657384820071"},{"title":"How do I undo the most recent local commits in Git?","slug":"how-do-i-undo-the-most-recent-local-commits-in-git-1657388262945"},{"title":"Why shouldn't I use mysql_* functions in PHP?","slug":"why-shouldn't-i-use-mysql_*-functions-in-php-1657384260352"},{"title":"How to choose the right bean scope?","slug":"how-to-choose-the-right-bean-scope-1657387596513"},{"title":"Reshaping multiple sets of measurement columns (wide format) into single columns (long format)","slug":"reshaping-multiple-sets-of-measurement-columns-(wide-format)-into-single-columns-(long-format)-1657388016983"},{"title":"Pandas conditional creation of a series/dataframe column","slug":"pandas-conditional-creation-of-a-seriesdataframe-column-1657387461003"},{"title":"Which characters are valid in CSS class names/selectors?","slug":"which-characters-are-valid-in-css-class-namesselectors-1657387959188"},{"title":"What is an efficient way to implement a singleton pattern in Java? [closed]","slug":"what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java-closed-1657387970474"},{"title":"Deserialize JSON into C# dynamic object?","slug":"deserialize-json-into-c-dynamic-object-1657388568720"},{"title":"Convert form data to JavaScript object with jQuery","slug":"convert-form-data-to-javascript-object-with-jquery-1657388036834"},{"title":"Web-scraping JavaScript page with Python","slug":"web-scraping-javascript-page-with-python-1657388240875"},{"title":"How to create RecyclerView with multiple view types","slug":"how-to-create-recyclerview-with-multiple-view-types-1657388121512"},{"title":"How to generate all permutations of a list","slug":"how-to-generate-all-permutations-of-a-list-1657388537371"},{"title":"mysqli or die, does it have to die?","slug":"mysqli-or-die-does-it-have-to-die-1657388533922"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"sql-select-only-rows-with-max-value-on-a-column-duplicate-1657384614292"},"buildId":"TQ2eYlCSdocSK-hq6gkM0","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>