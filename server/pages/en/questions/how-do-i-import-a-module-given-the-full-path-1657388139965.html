<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find the solution to any question. We focus on finding the fastest possible solution for users. Main topics like coding, learning. - solutionschecker.com"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><link name="keywords" content="python-import,solutions checker, solution checker, how to, solution for, check for solution, resolve question, what is, what solution for, find solution"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://solutionschecker.com","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://solutionschecker.com/questions","name":"Questions"}},{"@type":"ListItem","position":3,"item":{"@id":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965","name":"Questions"}}]}</script><title>How do I import a module given the full path? | Solution Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="How do I load a Python module given its full path?
Note that the file can be anywhere in the filesystem.
    "/><meta property="og:title" content="How do I import a module given the full path? | Solution Checker"/><meta property="og:description" content="How do I load a Python module given its full path?
Note that the file can be anywhere in the filesystem.
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"How do I import a module given the full path?","text":"How do I load a Python module given its full path?\nNote that the file can be anywhere in the filesystem.\n    ","answerCount":30,"upVoteCount":500,"suggestedAnswer":[{"text":"For Python 3.5+ use (docs):\nimport importlib.util\nimport sys\nspec = importlib.util.spec_from_file_location(&quot;module.name&quot;, &quot;/path/to/file.py&quot;)\nfoo = importlib.util.module_from_spec(spec)\nsys.modules[&quot;module.name&quot;] = foo\nspec.loader.exec_module(foo)\nfoo.MyClass()\n\nFor Python 3.3 and 3.4 use:\nfrom importlib.machinery import SourceFileLoader\n\nfoo = SourceFileLoader(&quot;module.name&quot;, &quot;/path/to/file.py&quot;).load_module()\nfoo.MyClass()\n\n(Although this has been deprecated in Python 3.4.)\nFor Python 2 use:\nimport imp\n\nfoo = imp.load_source(&apos;module.name&apos;, &apos;/path/to/file.py&apos;)\nfoo.MyClass()\n\nThere are equivalent convenience functions for compiled Python files and DLLs.\nSee also http://bugs.python.org/issue21436.\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution1","@type":"Answer","upvoteCount":0},{"text":"The advantage of adding a path to sys.path (over using imp) is that it simplifies things when importing more than one module from a single package.  For example:\n\nimport sys\n# the mock-0.3.1 dir contains testcase.py, testutils.py &amp; mock.py\nsys.path.append(&apos;/foo/bar/mock-0.3.1&apos;)\n\nfrom testcase import TestCase\nfrom testutils import RunTests\nfrom mock import Mock, sentinel, patch\n\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution2","@type":"Answer","upvoteCount":0},{"text":"To import your module, you need to add its directory to the environment variable, either temporarily or permanently.\nTemporarily\nimport sys\nsys.path.append(&quot;/path/to/my/modules/&quot;)\nimport my_module\n\nPermanently\nAdding the following line to your .bashrc (or alternative) file in Linux\nand excecute source ~/.bashrc (or alternative) in the terminal:\nexport PYTHONPATH=&quot;${PYTHONPATH}:/path/to/my/modules/&quot;\n\nCredit/Source: saarrrr, another StackÂ Exchange question\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution3","@type":"Answer","upvoteCount":0},{"text":"If your top-level module is not a file but is packaged as a directory with __init__.py, then the accepted solution almost works, but not quite. In Python 3.5+ the following code is needed (note the added line that begins with &apos;sys.modules&apos;):\n\nMODULE_PATH = &quot;/path/to/your/module/__init__.py&quot;\nMODULE_NAME = &quot;mymodule&quot;\nimport importlib\nimport sys\nspec = importlib.util.spec_from_file_location(MODULE_NAME, MODULE_PATH)\nmodule = importlib.util.module_from_spec(spec)\nsys.modules[spec.name] = module \nspec.loader.exec_module(module)\n\n\nWithout this line, when exec_module is executed, it tries to bind relative imports in your top level __init__.py to the top level module name -- in this case &quot;mymodule&quot;. But &quot;mymodule&quot; isn&apos;t loaded yet so you&apos;ll get the error &quot;SystemError: Parent module &apos;mymodule&apos; not loaded, cannot perform relative import&quot;. So you need to bind the name before you load it. The reason for this is the fundamental invariant of the relative import system: &quot;The invariant holding is that if you have sys.modules[&apos;spam&apos;] and sys.modules[&apos;spam.foo&apos;] (as you would after the above import), the latter must appear as the foo attribute of the former&quot; as discussed here.\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution4","@type":"Answer","upvoteCount":0},{"text":"It sounds like you don&apos;t want to specifically import the configuration file (which has a whole lot of side effects and additional complications involved). You just want to run it, and be able to access the resulting namespace. The standard library provides an API specifically for that in the form of runpy.run_path:\nfrom runpy import run_path\nsettings = run_path(&quot;/path/to/file.py&quot;)\n\nThat interface is available in Python 2.7 and Python 3.2+.\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution5","@type":"Answer","upvoteCount":0},{"text":"You can also do something like this and add the directory that the configuration file is sitting in to the Python load path, and then just do a normal import, assuming you know the name of the file in advance, in this case &quot;config&quot;.\n\nMessy, but it works.\n\nconfigfile = &apos;~/config.py&apos;\n\nimport os\nimport sys\n\nsys.path.append(os.path.dirname(os.path.expanduser(configfile)))\n\nimport config\n\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution6","@type":"Answer","upvoteCount":0},{"text":"You can use the\nload_source(module_name, path_to_file)\n\nmethod from the imp module.\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution7","@type":"Answer","upvoteCount":0},{"text":"Do you mean load or import?\nYou can manipulate the sys.path list specify the path to your module, and then import your module. For example, given a module at:\n/foo/bar.py\n\nYou could do:\nimport sys\nsys.path[0:0] = [&apos;/foo&apos;] # Puts the /foo directory at the start of your path\nimport bar\n\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution8","@type":"Answer","upvoteCount":0},{"text":"Here is some code that works in all Python versions, from 2.7-3.5 and probably even others.\nconfig_file = &quot;/tmp/config.py&quot;\nwith open(config_file) as f:\n    code = compile(f.read(), config_file, &apos;exec&apos;)\n    exec(code, globals(), locals())\n\nI tested it. It may be ugly, but so far it is the only one that works in all versions.\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution9","@type":"Answer","upvoteCount":0},{"text":"I have come up with a slightly modified version of @SebastianRittau&apos;s wonderful answer (for Python &gt; 3.4 I think), which will allow you to load a file with any extension as a module using spec_from_loader instead of spec_from_file_location:\nfrom importlib.util import spec_from_loader, module_from_spec\nfrom importlib.machinery import SourceFileLoader \n\nspec = spec_from_loader(&quot;module.name&quot;, SourceFileLoader(&quot;module.name&quot;, &quot;/path/to/file.py&quot;))\nmod = module_from_spec(spec)\nspec.loader.exec_module(mod)\n\nThe advantage of encoding the path in an explicit SourceFileLoader is that the machinery will not try to figure out the type of the file from the extension. This means that you can load something like a .txt file using this method, but you could not do it with spec_from_file_location without specifying the loader because .txt is not in importlib.machinery.SOURCE_SUFFIXES.\nI&apos;ve placed an implementation based on this, and @SamGrondahl&apos;s useful modification into my utility library, haggis. The function is called haggis.load.load_module. It adds a couple of neat tricks, like the ability to inject variables into the module namespace as it is loaded.\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution10","@type":"Answer","upvoteCount":0},{"text":"You can do this using __import__ and chdir:\ndef import_file(full_path_to_module):\n    try:\n        import os\n        module_dir, module_file = os.path.split(full_path_to_module)\n        module_name, module_ext = os.path.splitext(module_file)\n        save_cwd = os.getcwd()\n        os.chdir(module_dir)\n        module_obj = __import__(module_name)\n        module_obj.__file__ = full_path_to_module\n        globals()[module_name] = module_obj\n        os.chdir(save_cwd)\n    except Exception as e:\n        raise ImportError(e)\n    return module_obj\n\n\nimport_file(&apos;/home/somebody/somemodule.py&apos;)\n\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution11","@type":"Answer","upvoteCount":0},{"text":"If we have scripts in the same project but in different directory means, we can solve this problem by the following method.\n\nIn this situation utils.py is in src/main/util/\n\nimport sys\nsys.path.append(&apos;./&apos;)\n\nimport src.main.util.utils\n#or\nfrom src.main.util.utils import json_converter # json_converter is example method\n\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution12","@type":"Answer","upvoteCount":0},{"text":"I believe you can use imp.find_module() and imp.load_module() to load the specified module.  You&apos;ll need to split the module name off of the path, i.e. if you wanted to load /home/mypath/mymodule.py you&apos;d need to do:\n\nimp.find_module(&apos;mymodule&apos;, &apos;/home/mypath/&apos;)\n\n\n...but that should get the job done.\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution13","@type":"Answer","upvoteCount":0},{"text":"Create Python module test.py:\nimport sys\nsys.path.append(&quot;&lt;project-path&gt;/lib/&quot;)\nfrom tes1 import Client1\nfrom tes2 import Client2\nimport tes3\n\nCreate Python module test_check.py:\nfrom test import Client1\nfrom test import Client2\nfrom test import test3\n\nWe can import the imported module from module.\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution14","@type":"Answer","upvoteCount":0},{"text":"You can use the pkgutil module (specifically the walk_packages method) to get a list of the packages in the current directory. From there it&apos;s trivial to use the importlib machinery to import the modules you want:\n\nimport pkgutil\nimport importlib\n\npackages = pkgutil.walk_packages(path=&apos;.&apos;)\nfor importer, name, is_package in packages:\n    mod = importlib.import_module(name)\n    # do whatever you want with module now, it&apos;s been imported!\n\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution15","@type":"Answer","upvoteCount":0},{"text":"There&apos;s a package that&apos;s dedicated to this specifically:\n\nfrom thesmuggler import smuggle\n\n# Ã la `import weapons`\nweapons = smuggle(&apos;weapons.py&apos;)\n\n# Ã la `from contraband import drugs, alcohol`\ndrugs, alcohol = smuggle(&apos;drugs&apos;, &apos;alcohol&apos;, source=&apos;contraband.py&apos;)\n\n# Ã la `from contraband import drugs as dope, alcohol as booze`\ndope, booze = smuggle(&apos;drugs&apos;, &apos;alcohol&apos;, source=&apos;contraband.py&apos;)\n\n\nIt&apos;s tested across Python versions (Jython and PyPy too), but it might be overkill depending on the size of your project.\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution16","@type":"Answer","upvoteCount":0},{"text":"This area of Python 3.4 seems to be extremely tortuous to understand! However with a bit of hacking using the code from Chris Calloway as a start I managed to get something working. Here&apos;s the basic function.\n\ndef import_module_from_file(full_path_to_module):\n    &quot;&quot;&quot;\n    Import a module given the full path/filename of the .py file\n\n    Python 3.4\n\n    &quot;&quot;&quot;\n\n    module = None\n\n    try:\n\n        # Get module name and path from full path\n        module_dir, module_file = os.path.split(full_path_to_module)\n        module_name, module_ext = os.path.splitext(module_file)\n\n        # Get module &quot;spec&quot; from filename\n        spec = importlib.util.spec_from_file_location(module_name,full_path_to_module)\n\n        module = spec.loader.load_module()\n\n    except Exception as ec:\n        # Simple error printing\n        # Insert &quot;sophisticated&quot; stuff here\n        print(ec)\n\n    finally:\n        return module\n\n\nThis appears to use non-deprecated modules from Python 3.4. I don&apos;t pretend to understand why, but it seems to work from within a program. I found Chris&apos; solution worked on the command line but not from inside a program.\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution17","@type":"Answer","upvoteCount":0},{"text":"I made a package that uses imp for you. I call it import_file and this is how it&apos;s used:\n\n&gt;&gt;&gt;from import_file import import_file\n&gt;&gt;&gt;mylib = import_file(&apos;c:\\\\mylib.py&apos;)\n&gt;&gt;&gt;another = import_file(&apos;relative_subdir/another.py&apos;)\n\n\nYou can get it at:\n\nhttp://pypi.python.org/pypi/import_file\n\nor at\n\nhttp://code.google.com/p/import-file/\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution18","@type":"Answer","upvoteCount":0},{"text":"To import a module from a given filename, you can temporarily extend the path, and restore the system path in the finally block reference:\n\nfilename = &quot;directory/module.py&quot;\n\ndirectory, module_name = os.path.split(filename)\nmodule_name = os.path.splitext(module_name)[0]\n\npath = list(sys.path)\nsys.path.insert(0, directory)\ntry:\n    module = __import__(module_name)\nfinally:\n    sys.path[:] = path # restore\n\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution19","@type":"Answer","upvoteCount":0},{"text":"A simple solution using importlib instead of the imp package (tested for Python 2.7, although it should work for Python 3 too):\n\nimport importlib\n\ndirname, basename = os.path.split(pyfilepath) # pyfilepath: &apos;/my/path/mymodule.py&apos;\nsys.path.append(dirname) # only directories should be added to PYTHONPATH\nmodule_name = os.path.splitext(basename)[0] # &apos;/my/path/mymodule.py&apos; --&gt; &apos;mymodule&apos;\nmodule = importlib.import_module(module_name) # name space of defined module (otherwise we would literally look for &quot;module_name&quot;)\n\n\nNow you can directly use the namespace of the imported module, like this:\n\na = module.myvar\nb = module.myfunc(a)\n\n\nThe advantage of this solution is that we don&apos;t even need to know the actual name of the module we would like to import, in order to use it in our code. This is useful, e.g. in case the path of the module is a configurable argument.\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution20","@type":"Answer","upvoteCount":0},{"text":"I&apos;m not saying that it is better, but for the sake of completeness, I wanted to suggest the exec function, available in both PythonÂ 2 and PythonÂ 3.\nexec allows you to execute arbitrary code in either the global scope, or in an internal scope, provided as a dictionary.\nFor example, if you have a module stored in &quot;/path/to/module&quot; with the function foo(), you could run it by doing the following:\nmodule = dict()\nwith open(&quot;/path/to/module&quot;) as f:\n    exec(f.read(), module)\nmodule[&apos;foo&apos;]()\n\nThis makes it a bit more explicit that you&apos;re loading code dynamically, and grants you some additional power, such as the ability to provide custom builtins.\nAnd if having access through attributes, instead of keys is important to you, you can design a custom dict class for the globals, that provides such access, e.g.:\nclass MyModuleClass(dict):\n    def __getattr__(self, name):\n        return self.__getitem__(name)\n\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution21","@type":"Answer","upvoteCount":0},{"text":"To add to Sebastian Rittau&apos;s answer:\nAt least for CPython, there&apos;s pydoc, and, while not officially declared, importing files is what it does:\nfrom pydoc import importfile\nmodule = importfile(&apos;/path/to/module.py&apos;)\n\nPS. For the sake of completeness, there&apos;s a reference to the current implementation at the moment of writing: pydoc.py, and I&apos;m pleased to say that in the vein of xkcd 1987 it uses neither of the implementations mentioned in issue 21436 -- at least, not verbatim.\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution22","@type":"Answer","upvoteCount":0},{"text":"This should work\n\npath = os.path.join(&apos;./path/to/folder/with/py/files&apos;, &apos;*.py&apos;)\nfor infile in glob.glob(path):\n    basename = os.path.basename(infile)\n    basename_without_extension = basename[:-3]\n\n    # http://docs.python.org/library/imp.html?highlight=imp#module-imp\n    imp.load_source(basename_without_extension, infile)\n\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution23","@type":"Answer","upvoteCount":0},{"text":"Import package modules at runtime (Python recipe) \n\nhttp://code.activestate.com/recipes/223972/\n\n###################\n##                #\n## classloader.py #\n##                #\n###################\n\nimport sys, types\n\ndef _get_mod(modulePath):\n    try:\n        aMod = sys.modules[modulePath]\n        if not isinstance(aMod, types.ModuleType):\n            raise KeyError\n    except KeyError:\n        # The last [&apos;&apos;] is very important!\n        aMod = __import__(modulePath, globals(), locals(), [&apos;&apos;])\n        sys.modules[modulePath] = aMod\n    return aMod\n\ndef _get_func(fullFuncName):\n    &quot;&quot;&quot;Retrieve a function object from a full dotted-package name.&quot;&quot;&quot;\n\n    # Parse out the path, module, and function\n    lastDot = fullFuncName.rfind(u&quot;.&quot;)\n    funcName = fullFuncName[lastDot + 1:]\n    modPath = fullFuncName[:lastDot]\n\n    aMod = _get_mod(modPath)\n    aFunc = getattr(aMod, funcName)\n\n    # Assert that the function is a *callable* attribute.\n    assert callable(aFunc), u&quot;%s is not callable.&quot; % fullFuncName\n\n    # Return a reference to the function itself,\n    # not the results of the function.\n    return aFunc\n\ndef _get_class(fullClassName, parentClass=None):\n    &quot;&quot;&quot;Load a module and retrieve a class (NOT an instance).\n\n    If the parentClass is supplied, className must be of parentClass\n    or a subclass of parentClass (or None is returned).\n    &quot;&quot;&quot;\n    aClass = _get_func(fullClassName)\n\n    # Assert that the class is a subclass of parentClass.\n    if parentClass is not None:\n        if not issubclass(aClass, parentClass):\n            raise TypeError(u&quot;%s is not a subclass of %s&quot; %\n                            (fullClassName, parentClass))\n\n    # Return a reference to the class itself, not an instantiated object.\n    return aClass\n\n\n######################\n##       Usage      ##\n######################\n\nclass StorageManager: pass\nclass StorageManagerMySQL(StorageManager): pass\n\ndef storage_object(aFullClassName, allOptions={}):\n    aStoreClass = _get_class(aFullClassName, StorageManager)\n    return aStoreClass(allOptions)\n\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution24","@type":"Answer","upvoteCount":0},{"text":"In Linux, adding a symbolic link in the directory your Python script is located works.\nI.e.:\nln -s /absolute/path/to/module/module.py /absolute/path/to/script/module.py\n\nThe Python interpreter will create /absolute/path/to/script/module.pyc and will update it if you change the contents of /absolute/path/to/module/module.py.\nThen include the following in file mypythonscript.py:\nfrom module import *\n\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution25","@type":"Answer","upvoteCount":0},{"text":"This will allow imports of compiled (pyd) Python modules in 3.4:\nimport sys\nimport importlib.machinery\n\ndef load_module(name, filename):\n    # If the Loader finds the module name in this list it will use\n    # module_name.__file__ instead so we need to delete it here\n    if name in sys.modules:\n        del sys.modules[name]\n    loader = importlib.machinery.ExtensionFileLoader(name, filename)\n    module = loader.load_module()\n    locals()[name] = module\n    globals()[name] = module\n\nload_module(&apos;something&apos;, r&apos;C:\\Path\\To\\something.pyd&apos;)\nsomething.do_something()\n\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution26","@type":"Answer","upvoteCount":0},{"text":"A quite simple way: suppose you want import file with relative path ../../MyLibs/pyfunc.py\nlibPath = &apos;../../MyLibs&apos;\nimport sys\nif not libPath in sys.path: sys.path.append(libPath)\nimport pyfunc as pf\n\nBut if you make it without a guard you can finally get a very long path.\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution27","@type":"Answer","upvoteCount":0},{"text":"I have written my own global and portable import function, based on importlib module, for:\n\nBe able to import both modules as submodules and to import the content of a module to a parent module (or into a globals if has no parent module).\nBe able to import modules with a period characters in a file name.\nBe able to import modules with any extension.\nBe able to use a standalone name for a submodule instead of a file name without extension which is by default.\nBe able to define the import order based on previously imported module instead of dependent on sys.path or on a what ever search path storage.\n\nThe examples directory structure:\n&lt;root&gt;\n |\n +- test.py\n |\n +- testlib.py\n |\n +- /std1\n |   |\n |   +- testlib.std1.py\n |\n +- /std2\n |   |\n |   +- testlib.std2.py\n |\n +- /std3\n     |\n     +- testlib.std3.py\n\nInclusion dependency and order:\ntest.py\n  -&gt; testlib.py\n    -&gt; testlib.std1.py\n      -&gt; testlib.std2.py\n    -&gt; testlib.std3.py\n\nImplementation:\nLatest changes store: https://sourceforge.net/p/tacklelib/tacklelib/HEAD/tree/trunk/python/tacklelib/tacklelib.py\ntest.py:\nimport os, sys, inspect, copy\n\nSOURCE_FILE = os.path.abspath(inspect.getsourcefile(lambda:0)).replace(&apos;\\\\&apos;,&apos;/&apos;)\nSOURCE_DIR = os.path.dirname(SOURCE_FILE)\n\nprint(&quot;test::SOURCE_FILE: &quot;, SOURCE_FILE)\n\n# portable import to the global space\nsys.path.append(TACKLELIB_ROOT) # TACKLELIB_ROOT - path to the library directory\nimport tacklelib as tkl\n\ntkl.tkl_init(tkl)\n\n# cleanup\ndel tkl # must be instead of `tkl = None`, otherwise the variable would be still persist\nsys.path.pop()\n\ntkl_import_module(SOURCE_DIR, &apos;testlib.py&apos;)\n\nprint(globals().keys())\n\ntestlib.base_test()\ntestlib.testlib_std1.std1_test()\ntestlib.testlib_std1.testlib_std2.std2_test()\n#testlib.testlib.std3.std3_test()                             # does not reachable directly ...\ngetattr(globals()[&apos;testlib&apos;], &apos;testlib.std3&apos;).std3_test()     # ... but reachable through the `globals` + `getattr`\n\ntkl_import_module(SOURCE_DIR, &apos;testlib.py&apos;, &apos;.&apos;)\n\nprint(globals().keys())\n\nbase_test()\ntestlib_std1.std1_test()\ntestlib_std1.testlib_std2.std2_test()\n#testlib.std3.std3_test()                                     # does not reachable directly ...\nglobals()[&apos;testlib.std3&apos;].std3_test()                         # ... but reachable through the `globals` + `getattr`\n\ntestlib.py:\n# optional for 3.4.x and higher\n#import os, inspect\n#\n#SOURCE_FILE = os.path.abspath(inspect.getsourcefile(lambda:0)).replace(&apos;\\\\&apos;,&apos;/&apos;)\n#SOURCE_DIR = os.path.dirname(SOURCE_FILE)\n\nprint(&quot;1 testlib::SOURCE_FILE: &quot;, SOURCE_FILE)\n\ntkl_import_module(SOURCE_DIR + &apos;/std1&apos;, &apos;testlib.std1.py&apos;, &apos;testlib_std1&apos;)\n\n# SOURCE_DIR is restored here\nprint(&quot;2 testlib::SOURCE_FILE: &quot;, SOURCE_FILE)\n\ntkl_import_module(SOURCE_DIR + &apos;/std3&apos;, &apos;testlib.std3.py&apos;)\n\nprint(&quot;3 testlib::SOURCE_FILE: &quot;, SOURCE_FILE)\n\ndef base_test():\n  print(&apos;base_test&apos;)\n\ntestlib.std1.py:\n# optional for 3.4.x and higher\n#import os, inspect\n#\n#SOURCE_FILE = os.path.abspath(inspect.getsourcefile(lambda:0)).replace(&apos;\\\\&apos;,&apos;/&apos;)\n#SOURCE_DIR = os.path.dirname(SOURCE_FILE)\n\nprint(&quot;testlib.std1::SOURCE_FILE: &quot;, SOURCE_FILE)\n\ntkl_import_module(SOURCE_DIR + &apos;/../std2&apos;, &apos;testlib.std2.py&apos;, &apos;testlib_std2&apos;)\n\ndef std1_test():\n  print(&apos;std1_test&apos;)\n\ntestlib.std2.py:\n# optional for 3.4.x and higher\n#import os, inspect\n#\n#SOURCE_FILE = os.path.abspath(inspect.getsourcefile(lambda:0)).replace(&apos;\\\\&apos;,&apos;/&apos;)\n#SOURCE_DIR = os.path.dirname(SOURCE_FILE)\n\nprint(&quot;testlib.std2::SOURCE_FILE: &quot;, SOURCE_FILE)\n\ndef std2_test():\n  print(&apos;std2_test&apos;)\n\ntestlib.std3.py:\n# optional for 3.4.x and higher\n#import os, inspect\n#\n#SOURCE_FILE = os.path.abspath(inspect.getsourcefile(lambda:0)).replace(&apos;\\\\&apos;,&apos;/&apos;)\n#SOURCE_DIR = os.path.dirname(SOURCE_FILE)\n\nprint(&quot;testlib.std3::SOURCE_FILE: &quot;, SOURCE_FILE)\n\ndef std3_test():\n  print(&apos;std3_test&apos;)\n\nOutput (3.7.4):\ntest::SOURCE_FILE:  &lt;root&gt;/test01/test.py\nimport : &lt;root&gt;/test01/testlib.py as testlib -&gt; []\n1 testlib::SOURCE_FILE:  &lt;root&gt;/test01/testlib.py\nimport : &lt;root&gt;/test01/std1/testlib.std1.py as testlib_std1 -&gt; [&apos;testlib&apos;]\nimport : &lt;root&gt;/test01/std1/../std2/testlib.std2.py as testlib_std2 -&gt; [&apos;testlib&apos;, &apos;testlib_std1&apos;]\ntestlib.std2::SOURCE_FILE:  &lt;root&gt;/test01/std1/../std2/testlib.std2.py\n2 testlib::SOURCE_FILE:  &lt;root&gt;/test01/testlib.py\nimport : &lt;root&gt;/test01/std3/testlib.std3.py as testlib.std3 -&gt; [&apos;testlib&apos;]\ntestlib.std3::SOURCE_FILE:  &lt;root&gt;/test01/std3/testlib.std3.py\n3 testlib::SOURCE_FILE:  &lt;root&gt;/test01/testlib.py\ndict_keys([&apos;__name__&apos;, &apos;__doc__&apos;, &apos;__package__&apos;, &apos;__loader__&apos;, &apos;__spec__&apos;, &apos;__annotations__&apos;, &apos;__builtins__&apos;, &apos;__file__&apos;, &apos;__cached__&apos;, &apos;os&apos;, &apos;sys&apos;, &apos;inspect&apos;, &apos;copy&apos;, &apos;SOURCE_FILE&apos;, &apos;SOURCE_DIR&apos;, &apos;TackleGlobalImportModuleState&apos;, &apos;tkl_membercopy&apos;, &apos;tkl_merge_module&apos;, &apos;tkl_get_parent_imported_module_state&apos;, &apos;tkl_declare_global&apos;, &apos;tkl_import_module&apos;, &apos;TackleSourceModuleState&apos;, &apos;tkl_source_module&apos;, &apos;TackleLocalImportModuleState&apos;, &apos;testlib&apos;])\nbase_test\nstd1_test\nstd2_test\nstd3_test\nimport : &lt;root&gt;/test01/testlib.py as . -&gt; []\n1 testlib::SOURCE_FILE:  &lt;root&gt;/test01/testlib.py\nimport : &lt;root&gt;/test01/std1/testlib.std1.py as testlib_std1 -&gt; [&apos;testlib&apos;]\nimport : &lt;root&gt;/test01/std1/../std2/testlib.std2.py as testlib_std2 -&gt; [&apos;testlib&apos;, &apos;testlib_std1&apos;]\ntestlib.std2::SOURCE_FILE:  &lt;root&gt;/test01/std1/../std2/testlib.std2.py\n2 testlib::SOURCE_FILE:  &lt;root&gt;/test01/testlib.py\nimport : &lt;root&gt;/test01/std3/testlib.std3.py as testlib.std3 -&gt; [&apos;testlib&apos;]\ntestlib.std3::SOURCE_FILE:  &lt;root&gt;/test01/std3/testlib.std3.py\n3 testlib::SOURCE_FILE:  &lt;root&gt;/test01/testlib.py\ndict_keys([&apos;__name__&apos;, &apos;__doc__&apos;, &apos;__package__&apos;, &apos;__loader__&apos;, &apos;__spec__&apos;, &apos;__annotations__&apos;, &apos;__builtins__&apos;, &apos;__file__&apos;, &apos;__cached__&apos;, &apos;os&apos;, &apos;sys&apos;, &apos;inspect&apos;, &apos;copy&apos;, &apos;SOURCE_FILE&apos;, &apos;SOURCE_DIR&apos;, &apos;TackleGlobalImportModuleState&apos;, &apos;tkl_membercopy&apos;, &apos;tkl_merge_module&apos;, &apos;tkl_get_parent_imported_module_state&apos;, &apos;tkl_declare_global&apos;, &apos;tkl_import_module&apos;, &apos;TackleSourceModuleState&apos;, &apos;tkl_source_module&apos;, &apos;TackleLocalImportModuleState&apos;, &apos;testlib&apos;, &apos;testlib_std1&apos;, &apos;testlib.std3&apos;, &apos;base_test&apos;])\nbase_test\nstd1_test\nstd2_test\nstd3_test\n\nTested in Python 3.7.4, 3.2.5, 2.7.16\nPros:\n\nCan import both module as a submodule and can import content of a module to a parent module (or into a globals if has no parent module).\nCan import modules with periods in a file name.\nCan import any extension module from any extension module.\nCan use a standalone name for a submodule instead of a file name without extension which is by default (for example, testlib.std.py as testlib, testlib.blabla.py as testlib_blabla and so on).\nDoes not depend on a sys.path or on a what ever search path storage.\nDoes not require to save/restore global variables like SOURCE_FILE and SOURCE_DIR between calls to tkl_import_module.\n[for 3.4.x and higher] Can mix the module namespaces in nested tkl_import_module calls (ex: named-&gt;local-&gt;named or local-&gt;named-&gt;local and so on).\n[for 3.4.x and higher] Can auto export global variables/functions/classes from where being declared to all children modules imported through the tkl_import_module (through the tkl_declare_global function).\n\nCons:\n\n[for 3.3.x and lower] Require to declare tkl_import_module in all modules which calls to tkl_import_module (code duplication)\n\nUpdate 1,2 (for 3.4.x and higher only):\nIn Python 3.4 and higher you can bypass the requirement to declare tkl_import_module in each module by declare tkl_import_module in a top level module and the function would inject itself to all children modules in a single call (it&apos;s a kind of self deploy import).\nUpdate 3:\nAdded function tkl_source_module as analog to bash source with support execution guard upon import (implemented through the module merge instead of import).\nUpdate 4:\nAdded function tkl_declare_global to auto export a module global variable to all children modules where a module global variable is not visible because is not a part of a child module.\nUpdate 5:\nAll functions has moved into the tacklelib library, see the link above.\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution28","@type":"Answer","upvoteCount":0},{"text":"These are my two utility functions using only pathlib. It infers the module name from the path.\nBy default, it recursively loads all Python files from folders and replaces init.py by the parent folder name. But you can also give a Path and/or a glob to select some specific files.\nfrom pathlib import Path\nfrom importlib.util import spec_from_file_location, module_from_spec\nfrom typing import Optional\n\n\ndef get_module_from_path(path: Path, relative_to: Optional[Path] = None):\n    if not relative_to:\n        relative_to = Path.cwd()\n\n    abs_path = path.absolute()\n    relative_path = abs_path.relative_to(relative_to.absolute())\n    if relative_path.name == &quot;__init__.py&quot;:\n        relative_path = relative_path.parent\n    module_name = &quot;.&quot;.join(relative_path.with_suffix(&quot;&quot;).parts)\n    mod = module_from_spec(spec_from_file_location(module_name, path))\n    return mod\n\n\ndef get_modules_from_folder(folder: Optional[Path] = None, glob_str: str = &quot;*/**/*.py&quot;):\n    if not folder:\n        folder = Path(&quot;.&quot;)\n\n    mod_list = []\n    for file_path in sorted(folder.glob(glob_str)):\n        mod_list.append(get_module_from_path(file_path))\n\n    return mod_list\n\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution29","@type":"Answer","upvoteCount":0},{"text":"Here&apos;s a way of loading files sort of like C, etc.\nfrom importlib.machinery import SourceFileLoader\nimport os\n\ndef LOAD(MODULE_PATH):\n    if (MODULE_PATH[0] == &quot;/&quot;):\n        FULL_PATH = MODULE_PATH;\n    else:\n        DIR_PATH = os.path.dirname (os.path.realpath (__file__))\n        FULL_PATH = os.path.normpath (DIR_PATH + &quot;/&quot; + MODULE_PATH)\n\n    return SourceFileLoader (FULL_PATH, FULL_PATH).load_module ()\n\nImplementations where:\nY = LOAD(&quot;../Z.py&quot;)\nA = LOAD(&quot;./A.py&quot;)\nD = LOAD(&quot;./C/D.py&quot;)\nA_ = LOAD(&quot;/IMPORTS/A.py&quot;)\n\nY.DEF();\nA.DEF();\nD.DEF();\nA_.DEF();\n\nWhere each of the files looks like this:\ndef DEF():\n    print(&quot;A&quot;);\n\n    ","url":"https://solutionschecker.com/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#solution30","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="22"/><script id="google-analytics" data-nscript="beforeInteractive">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NXVLL8B');</script><link rel="preload" href="/_next/static/css/c116652e2d6f4ad0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c116652e2d6f4ad0.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-862498b6ec7885c3.js" defer=""></script><script src="/_next/static/chunks/294-106ef8570fa99deb.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-47289857226115f9.js" defer=""></script><script src="/_next/static/xZs8haGjOP63QuDE0kxeX/_buildManifest.js" defer=""></script><script src="/_next/static/xZs8haGjOP63QuDE0kxeX/_ssgManifest.js" defer=""></script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NXVLL8B"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h1 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h1></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-do-i-import-a-module-given-the-full-path-1657388139965#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-do-i-import-a-module-given-the-full-path-1657388139965"><h1>How do I import a module given the full path?</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/python-import">python-import</a></div></div><div class="question-content mt-5">
                
<p>How do I load a Python module given its full path?</p>
<p>Note that the file can be anywhere in the filesystem.</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><h1 class="text-lg font-semibold mb-5">Navigate to solutions: </h1><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li><li class="pagination-solution-item"><span data-id="#solution17" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">17</span></li><li class="pagination-solution-item"><span data-id="#solution18" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">18</span></li><li class="pagination-solution-item"><span data-id="#solution19" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">19</span></li><li class="pagination-solution-item"><span data-id="#solution20" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">20</span></li><li class="pagination-solution-item"><span data-id="#solution21" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">21</span></li><li class="pagination-solution-item"><span data-id="#solution22" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">22</span></li><li class="pagination-solution-item"><span data-id="#solution23" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">23</span></li><li class="pagination-solution-item"><span data-id="#solution24" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">24</span></li><li class="pagination-solution-item"><span data-id="#solution25" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">25</span></li><li class="pagination-solution-item"><span data-id="#solution26" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">26</span></li><li class="pagination-solution-item"><span data-id="#solution27" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">27</span></li><li class="pagination-solution-item"><span data-id="#solution28" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">28</span></li><li class="pagination-solution-item"><span data-id="#solution29" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">29</span></li><li class="pagination-solution-item"><span data-id="#solution30" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">30</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 1</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>For Python 3.5+ use (<a href="https://docs.python.org/3/library/importlib.html#importing-a-source-file-directly" rel="noreferrer">docs</a>):</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> importlib.util
<span class="hljs-keyword">import</span> sys
spec = importlib.util.spec_from_file_location(<span class="hljs-string">"module.name"</span>, <span class="hljs-string">"/path/to/file.py"</span>)
foo = importlib.util.module_from_spec(spec)
sys.modules[<span class="hljs-string">"module.name"</span>] = foo
spec.loader.exec_module(foo)
foo.MyClass()
</code></pre>
<p>For Python 3.3 and 3.4 use:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">from</span> importlib.machinery <span class="hljs-keyword">import</span> SourceFileLoader

foo = SourceFileLoader(<span class="hljs-string">"module.name"</span>, <span class="hljs-string">"/path/to/file.py"</span>).load_module()
foo.MyClass()
</code></pre>
<p>(Although this has been deprecated in Python 3.4.)</p>
<p>For Python 2 use:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> imp

foo = imp.load_source(<span class="hljs-string">'module.name'</span>, <span class="hljs-string">'/path/to/file.py'</span>)
foo.MyClass()
</code></pre>
<p>There are equivalent convenience functions for compiled Python files and DLLs.</p>
<p>See also <a href="http://bugs.python.org/issue21436" rel="noreferrer">http://bugs.python.org/issue21436</a>.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 2</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The advantage of adding a path to sys.path (over using imp) is that it simplifies things when importing more than one module from a single package.  For example:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> sys
<span class="hljs-comment"># the mock-0.3.1 dir contains testcase.py, testutils.py &amp; mock.py</span>
sys.path.append(<span class="hljs-string">'/foo/bar/mock-0.3.1'</span>)

<span class="hljs-keyword">from</span> testcase <span class="hljs-keyword">import</span> TestCase
<span class="hljs-keyword">from</span> testutils <span class="hljs-keyword">import</span> RunTests
<span class="hljs-keyword">from</span> mock <span class="hljs-keyword">import</span> Mock, sentinel, patch
</code></pre>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 3</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>To import your module, you need to add its directory to the environment variable, either temporarily or permanently.</p>
<h1>Temporarily</h1>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> sys
sys.path.append(<span class="hljs-string">"/path/to/my/modules/"</span>)
<span class="hljs-keyword">import</span> my_module
</code></pre>
<h1>Permanently</h1>
<p>Adding the following line to your <code>.bashrc</code> (or alternative) file in Linux
and excecute <code>source ~/.bashrc</code> (or alternative) in the terminal:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">export PYTHONPATH=<span class="hljs-string">"${PYTHONPATH}:/path/to/my/modules/"</span>
</code></pre>
<p>Credit/Source: <a href="https://stackoverflow.com/users/2312075/saarrrr">saarrrr</a>, <a href="https://stackoverflow.com/a/3402176/7428659">another Stack&nbsp;Exchange question</a></p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 4</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If your top-level module is not a file but is packaged as a directory with __init__.py, then the accepted solution almost works, but not quite. In Python 3.5+ the following code is needed (note the added line that begins with 'sys.modules'):</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">MODULE_PATH = <span class="hljs-string">"/path/to/your/module/__init__.py"</span>
MODULE_NAME = <span class="hljs-string">"mymodule"</span>
<span class="hljs-keyword">import</span> importlib
<span class="hljs-keyword">import</span> sys
spec = importlib.util.spec_from_file_location(MODULE_NAME, MODULE_PATH)
module = importlib.util.module_from_spec(spec)
sys.modules[spec.name] = module 
spec.loader.exec_module(module)
</code></pre>

<p>Without this line, when exec_module is executed, it tries to bind relative imports in your top level __init__.py to the top level module name -- in this case "mymodule". But "mymodule" isn't loaded yet so you'll get the error "SystemError: Parent module 'mymodule' not loaded, cannot perform relative import". So you need to bind the name before you load it. The reason for this is the fundamental invariant of the relative import system: "The invariant holding is that if you have sys.modules['spam'] and sys.modules['spam.foo'] (as you would after the above import), the latter must appear as the foo attribute of the former" <a href="https://docs.python.org/3/reference/import.html#submodules" rel="noreferrer">as discussed here</a>.</p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 5</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>It sounds like you don't want to specifically import the configuration file (which has a whole lot of side effects and additional complications involved). You just want to run it, and be able to access the resulting namespace. The standard library provides an API specifically for that in the form of <a href="https://docs.python.org/3/library/runpy.html#runpy.run_path" rel="noreferrer">runpy.run_path</a>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">from</span> runpy <span class="hljs-keyword">import</span> run_path
settings = run_path(<span class="hljs-string">"/path/to/file.py"</span>)
</code></pre>
<p>That interface is available in Python 2.7 and Python 3.2+.</p>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 6</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can also do something like this and add the directory that the configuration file is sitting in to the Python load path, and then just do a normal import, assuming you know the name of the file in advance, in this case "config".</p>

<p>Messy, but it works.</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">configfile = <span class="hljs-string">'~/config.py'</span>

<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> sys

sys.path.append(os.path.dirname(os.path.expanduser(configfile)))

<span class="hljs-keyword">import</span> config
</code></pre>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 7</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can use the</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">load_source(module_name, path_to_file)
</code></pre>
<p>method from the <a href="https://docs.python.org/library/imp.html" rel="nofollow noreferrer">imp module</a>.</p>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 8</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Do you mean load or import?</p>
<p>You can manipulate the <code>sys.path</code> list specify the path to your module, and then import your module. For example, given a module at:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">/foo/bar.py
</code></pre>
<p>You could do:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> sys
sys.path[<span class="hljs-number">0</span>:<span class="hljs-number">0</span>] = [<span class="hljs-string">'/foo'</span>] <span class="hljs-comment"># Puts the /foo directory at the start of your path</span>
<span class="hljs-keyword">import</span> bar
</code></pre>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 9</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here is some code that works in all Python versions, from 2.7-3.5 and probably even others.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">config_file = <span class="hljs-string">"/tmp/config.py"</span>
<span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(config_file) <span class="hljs-keyword">as</span> f:
    code = <span class="hljs-built_in">compile</span>(f.read(), config_file, <span class="hljs-string">'exec'</span>)
    <span class="hljs-built_in">exec</span>(code, <span class="hljs-built_in">globals</span>(), <span class="hljs-built_in">locals</span>())
</code></pre>
<p>I tested it. It may be ugly, but so far it is the only one that works in all versions.</p>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 10</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I have come up with a slightly modified version of <a href="https://stackoverflow.com/a/67692/2988730">@SebastianRittau's wonderful answer</a> (for Python &gt; 3.4 I think), which will allow you to load a file with any extension as a module using <a href="https://docs.python.org/3/library/importlib.html#importlib.util.spec_from_loader" rel="nofollow noreferrer"><code>spec_from_loader</code></a> instead of <a href="https://docs.python.org/3/library/importlib.html#importlib.util.spec_from_file_location" rel="nofollow noreferrer"><code>spec_from_file_location</code></a>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">from</span> importlib.util <span class="hljs-keyword">import</span> spec_from_loader, module_from_spec
<span class="hljs-keyword">from</span> importlib.machinery <span class="hljs-keyword">import</span> SourceFileLoader 

spec = spec_from_loader(<span class="hljs-string">"module.name"</span>, SourceFileLoader(<span class="hljs-string">"module.name"</span>, <span class="hljs-string">"/path/to/file.py"</span>))
mod = module_from_spec(spec)
spec.loader.exec_module(mod)
</code></pre>
<p>The advantage of encoding the path in an explicit <a href="https://docs.python.org/3/library/importlib.html#importlib.machinery.SourceFileLoader" rel="nofollow noreferrer"><code>SourceFileLoader</code></a> is that the <a href="https://docs.python.org/3/library/importlib.html#module-importlib.machinery" rel="nofollow noreferrer">machinery</a> will not try to figure out the type of the file from the extension. This means that you can load something like a <code>.txt</code> file using this method, but you could not do it with <code>spec_from_file_location</code> without specifying the loader because <code>.txt</code> is not in <a href="https://docs.python.org/3/library/importlib.html#importlib.machinery.SOURCE_SUFFIXES" rel="nofollow noreferrer"><code>importlib.machinery.SOURCE_SUFFIXES</code></a>.</p>
<p>I've placed an implementation based on this, and <a href="https://stackoverflow.com/a/50395128/2988730">@SamGrondahl's useful modification</a> into my utility library, <a href="https://haggis.readthedocs.io/en/stable/" rel="nofollow noreferrer">haggis</a>. The function is called <a href="https://haggis.readthedocs.io/en/latest/api.html#haggis.load.load_module" rel="nofollow noreferrer"><code>haggis.load.load_module</code></a>. It adds a couple of neat tricks, like the ability to inject variables into the module namespace as it is loaded.</p>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 11</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can do this using <code>__import__</code> and <code>chdir</code>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">import_file</span>(<span class="hljs-params">full_path_to_module</span>):
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">import</span> os
        module_dir, module_file = os.path.split(full_path_to_module)
        module_name, module_ext = os.path.splitext(module_file)
        save_cwd = os.getcwd()
        os.chdir(module_dir)
        module_obj = <span class="hljs-built_in">__import__</span>(module_name)
        module_obj.__file__ = full_path_to_module
        <span class="hljs-built_in">globals</span>()[module_name] = module_obj
        os.chdir(save_cwd)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">raise</span> ImportError(e)
    <span class="hljs-keyword">return</span> module_obj


import_file(<span class="hljs-string">'/home/somebody/somemodule.py'</span>)
</code></pre>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 12</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If we have scripts in the same project but in different directory means, we can solve this problem by the following method.</p>

<p>In this situation <code>utils.py</code> is in <code>src/main/util/</code></p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> sys
sys.path.append(<span class="hljs-string">'./'</span>)

<span class="hljs-keyword">import</span> src.main.util.utils
<span class="hljs-comment">#or</span>
<span class="hljs-keyword">from</span> src.main.util.utils <span class="hljs-keyword">import</span> json_converter <span class="hljs-comment"># json_converter is example method</span>
</code></pre>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 13</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I believe you can use <a href="https://docs.python.org/2/library/imp.html#imp.find_module" rel="noreferrer"><code>imp.find_module()</code></a> and <a href="https://docs.python.org/2/library/imp.html#imp.load_module" rel="noreferrer"><code>imp.load_module()</code></a> to load the specified module.  You'll need to split the module name off of the path, i.e. if you wanted to load <code>/home/mypath/mymodule.py</code> you'd need to do:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">imp.find_module(<span class="hljs-string">'mymodule'</span>, <span class="hljs-string">'/home/mypath/'</span>)
</code></pre>

<p>...but that should get the job done.</p>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 14</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Create Python module <em>test.py</em>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> sys
sys.path.append(<span class="hljs-string">"&lt;project-path&gt;/lib/"</span>)
<span class="hljs-keyword">from</span> tes1 <span class="hljs-keyword">import</span> Client1
<span class="hljs-keyword">from</span> tes2 <span class="hljs-keyword">import</span> Client2
<span class="hljs-keyword">import</span> tes3
</code></pre>
<p>Create Python module <em>test_check.py</em>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">from</span> test <span class="hljs-keyword">import</span> Client1
<span class="hljs-keyword">from</span> test <span class="hljs-keyword">import</span> Client2
<span class="hljs-keyword">from</span> test <span class="hljs-keyword">import</span> test3
</code></pre>
<p>We can import the imported module from module.</p>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 15</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can use the <code>pkgutil</code> module (specifically the <a href="https://docs.python.org/3/library/pkgutil.html#pkgutil.walk_packages" rel="noreferrer"><code>walk_packages</code></a> method) to get a list of the packages in the current directory. From there it's trivial to use the <code>importlib</code> machinery to import the modules you want:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> pkgutil
<span class="hljs-keyword">import</span> importlib

packages = pkgutil.walk_packages(path=<span class="hljs-string">'.'</span>)
<span class="hljs-keyword">for</span> importer, name, is_package <span class="hljs-keyword">in</span> packages:
    mod = importlib.import_module(name)
    <span class="hljs-comment"># do whatever you want with module now, it's been imported!</span>
</code></pre>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 16</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>There's a <a href="https://pypi.org/project/thesmuggler/" rel="noreferrer">package</a> that's dedicated to this specifically:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">from</span> thesmuggler <span class="hljs-keyword">import</span> smuggle

<span class="hljs-comment"># Ã la `import weapons`</span>
weapons = smuggle(<span class="hljs-string">'weapons.py'</span>)

<span class="hljs-comment"># Ã la `from contraband import drugs, alcohol`</span>
drugs, alcohol = smuggle(<span class="hljs-string">'drugs'</span>, <span class="hljs-string">'alcohol'</span>, source=<span class="hljs-string">'contraband.py'</span>)

<span class="hljs-comment"># Ã la `from contraband import drugs as dope, alcohol as booze`</span>
dope, booze = smuggle(<span class="hljs-string">'drugs'</span>, <span class="hljs-string">'alcohol'</span>, source=<span class="hljs-string">'contraband.py'</span>)
</code></pre>

<p>It's tested across Python versions (Jython and PyPy too), but it might be overkill depending on the size of your project.</p>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 17</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This area of Python 3.4 seems to be extremely tortuous to understand! However with a bit of hacking using the code from Chris Calloway as a start I managed to get something working. Here's the basic function.</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">import_module_from_file</span>(<span class="hljs-params">full_path_to_module</span>):
    <span class="hljs-string">"""
    Import a module given the full path/filename of the .py file

    Python 3.4

    """</span>

    module = <span class="hljs-literal">None</span>

    <span class="hljs-keyword">try</span>:

        <span class="hljs-comment"># Get module name and path from full path</span>
        module_dir, module_file = os.path.split(full_path_to_module)
        module_name, module_ext = os.path.splitext(module_file)

        <span class="hljs-comment"># Get module "spec" from filename</span>
        spec = importlib.util.spec_from_file_location(module_name,full_path_to_module)

        module = spec.loader.load_module()

    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> ec:
        <span class="hljs-comment"># Simple error printing</span>
        <span class="hljs-comment"># Insert "sophisticated" stuff here</span>
        <span class="hljs-built_in">print</span>(ec)

    <span class="hljs-keyword">finally</span>:
        <span class="hljs-keyword">return</span> module
</code></pre>

<p>This appears to use non-deprecated modules from Python 3.4. I don't pretend to understand why, but it seems to work from within a program. I found Chris' solution worked on the command line but not from inside a program.</p>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 18</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I made a package that uses <code>imp</code> for you. I call it <code>import_file</code> and this is how it's used:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">&gt;&gt;&gt;<span class="hljs-keyword">from</span> import_file <span class="hljs-keyword">import</span> import_file
&gt;&gt;&gt;mylib = import_file(<span class="hljs-string">'c:\\mylib.py'</span>)
&gt;&gt;&gt;another = import_file(<span class="hljs-string">'relative_subdir/another.py'</span>)
</code></pre>

<p>You can get it at:</p>

<p><a href="http://pypi.python.org/pypi/import_file" rel="nofollow">http://pypi.python.org/pypi/import_file</a></p>

<p>or at</p>

<p><a href="http://code.google.com/p/import-file/" rel="nofollow">http://code.google.com/p/import-file/</a></p>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 19</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>To import a module from a given filename, you can temporarily extend the path, and restore the system path in the finally block <a href="http://effbot.org/zone/import-string.htm" rel="nofollow">reference:</a></p>

<pre class="lang-py s-code-block"><code class="hljs language-python">filename = <span class="hljs-string">"directory/module.py"</span>

directory, module_name = os.path.split(filename)
module_name = os.path.splitext(module_name)[<span class="hljs-number">0</span>]

path = <span class="hljs-built_in">list</span>(sys.path)
sys.path.insert(<span class="hljs-number">0</span>, directory)
<span class="hljs-keyword">try</span>:
    module = <span class="hljs-built_in">__import__</span>(module_name)
<span class="hljs-keyword">finally</span>:
    sys.path[:] = path <span class="hljs-comment"># restore</span>
</code></pre>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 20</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>A simple solution using <code>importlib</code> instead of the <code>imp</code> package (tested for Python 2.7, although it should work for Python 3 too):</p>

<pre class="lang-python s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> importlib

dirname, basename = os.path.split(pyfilepath) <span class="hljs-comment"># pyfilepath: '/my/path/mymodule.py'</span>
sys.path.append(dirname) <span class="hljs-comment"># only directories should be added to PYTHONPATH</span>
module_name = os.path.splitext(basename)[<span class="hljs-number">0</span>] <span class="hljs-comment"># '/my/path/mymodule.py' --&gt; 'mymodule'</span>
module = importlib.import_module(module_name) <span class="hljs-comment"># name space of defined module (otherwise we would literally look for "module_name")</span>
</code></pre>

<p>Now you can directly use the namespace of the imported module, like this:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">a = module.myvar
b = module.myfunc(a)
</code></pre>

<p>The advantage of this solution is that <strong>we don't even need to know the actual name of the module we would like to import</strong>, in order to use it in our code. This is useful, e.g. in case the path of the module is a configurable argument.</p>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 21</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I'm not saying that it is better, but for the sake of completeness, I wanted to suggest the <a href="https://docs.python.org/3/library/functions.html#exec" rel="nofollow noreferrer"><code>exec</code></a> function, available in both Python&nbsp;2 and Python&nbsp;3.</p>
<p><code>exec</code> allows you to execute arbitrary code in either the global scope, or in an internal scope, provided as a dictionary.</p>
<p>For example, if you have a module stored in <code>"/path/to/module</code>" with the function <code>foo()</code>, you could run it by doing the following:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">module = <span class="hljs-built_in">dict</span>()
<span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"/path/to/module"</span>) <span class="hljs-keyword">as</span> f:
    <span class="hljs-built_in">exec</span>(f.read(), module)
module[<span class="hljs-string">'foo'</span>]()
</code></pre>
<p>This makes it a bit more explicit that you're loading code dynamically, and grants you some additional power, such as the ability to provide custom builtins.</p>
<p>And if having access through attributes, instead of keys is important to you, you can design a custom dict class for the globals, that provides such access, e.g.:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyModuleClass</span>(<span class="hljs-title class_ inherited__">dict</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getattr__</span>(<span class="hljs-params">self, name</span>):
        <span class="hljs-keyword">return</span> self.__getitem__(name)
</code></pre>
    </div></div></div></div><div id="solution22" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 22</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>To add to <a href="https://stackoverflow.com/questions/67631/how-to-import-a-module-given-the-full-path/67692#67692">Sebastian Rittau</a>'s answer:
At least for <a href="https://en.wikipedia.org/wiki/CPython" rel="nofollow noreferrer">CPython</a>, there's <a href="https://docs.python.org/3/library/pydoc.html" rel="nofollow noreferrer">pydoc</a>, and, while not officially declared, importing files is what it does:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">from</span> pydoc <span class="hljs-keyword">import</span> importfile
module = importfile(<span class="hljs-string">'/path/to/module.py'</span>)
</code></pre>
<p><strong>PS.</strong> For the sake of completeness, there's a reference to the current implementation at the moment of writing: <a href="https://github.com/python/cpython/blob/9c3eaf88dc5d5bed80cc45936de06b7b3162bc6d/Lib/pydoc.py#L392" rel="nofollow noreferrer">pydoc.py</a>, and I'm pleased to say that in the vein of <a href="https://xkcd.com/1987/" rel="nofollow noreferrer">xkcd 1987</a> it uses neither of the implementations mentioned in <a href="https://bugs.python.org/issue21436" rel="nofollow noreferrer">issue 21436</a> -- at least, not verbatim.</p>
    </div></div></div></div><div id="solution23" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 23</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This should work</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">path = os.path.join(<span class="hljs-string">'./path/to/folder/with/py/files'</span>, <span class="hljs-string">'*.py'</span>)
<span class="hljs-keyword">for</span> infile <span class="hljs-keyword">in</span> glob.glob(path):
    basename = os.path.basename(infile)
    basename_without_extension = basename[:-<span class="hljs-number">3</span>]

    <span class="hljs-comment"># http://docs.python.org/library/imp.html?highlight=imp#module-imp</span>
    imp.load_source(basename_without_extension, infile)
</code></pre>
    </div></div></div></div><div id="solution24" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 24</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>Import package modules at runtime (Python recipe)</strong> </p>

<p><a href="http://code.activestate.com/recipes/223972/" rel="nofollow noreferrer">http://code.activestate.com/recipes/223972/</a></p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-comment">###################</span>
<span class="hljs-comment">##                #</span>
<span class="hljs-comment">## classloader.py #</span>
<span class="hljs-comment">##                #</span>
<span class="hljs-comment">###################</span>

<span class="hljs-keyword">import</span> sys, types

<span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_mod</span>(<span class="hljs-params">modulePath</span>):
    <span class="hljs-keyword">try</span>:
        aMod = sys.modules[modulePath]
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(aMod, types.ModuleType):
            <span class="hljs-keyword">raise</span> KeyError
    <span class="hljs-keyword">except</span> KeyError:
        <span class="hljs-comment"># The last [''] is very important!</span>
        aMod = <span class="hljs-built_in">__import__</span>(modulePath, <span class="hljs-built_in">globals</span>(), <span class="hljs-built_in">locals</span>(), [<span class="hljs-string">''</span>])
        sys.modules[modulePath] = aMod
    <span class="hljs-keyword">return</span> aMod

<span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_func</span>(<span class="hljs-params">fullFuncName</span>):
    <span class="hljs-string">"""Retrieve a function object from a full dotted-package name."""</span>

    <span class="hljs-comment"># Parse out the path, module, and function</span>
    lastDot = fullFuncName.rfind(<span class="hljs-string">u"."</span>)
    funcName = fullFuncName[lastDot + <span class="hljs-number">1</span>:]
    modPath = fullFuncName[:lastDot]

    aMod = _get_mod(modPath)
    aFunc = <span class="hljs-built_in">getattr</span>(aMod, funcName)

    <span class="hljs-comment"># Assert that the function is a *callable* attribute.</span>
    <span class="hljs-keyword">assert</span> <span class="hljs-built_in">callable</span>(aFunc), <span class="hljs-string">u"%s is not callable."</span> % fullFuncName

    <span class="hljs-comment"># Return a reference to the function itself,</span>
    <span class="hljs-comment"># not the results of the function.</span>
    <span class="hljs-keyword">return</span> aFunc

<span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_class</span>(<span class="hljs-params">fullClassName, parentClass=<span class="hljs-literal">None</span></span>):
    <span class="hljs-string">"""Load a module and retrieve a class (NOT an instance).

    If the parentClass is supplied, className must be of parentClass
    or a subclass of parentClass (or None is returned).
    """</span>
    aClass = _get_func(fullClassName)

    <span class="hljs-comment"># Assert that the class is a subclass of parentClass.</span>
    <span class="hljs-keyword">if</span> parentClass <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">issubclass</span>(aClass, parentClass):
            <span class="hljs-keyword">raise</span> TypeError(<span class="hljs-string">u"%s is not a subclass of %s"</span> %
                            (fullClassName, parentClass))

    <span class="hljs-comment"># Return a reference to the class itself, not an instantiated object.</span>
    <span class="hljs-keyword">return</span> aClass


<span class="hljs-comment">######################</span>
<span class="hljs-comment">##       Usage      ##</span>
<span class="hljs-comment">######################</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">StorageManager</span>: <span class="hljs-keyword">pass</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">StorageManagerMySQL</span>(<span class="hljs-title class_ inherited__">StorageManager</span>): <span class="hljs-keyword">pass</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">storage_object</span>(<span class="hljs-params">aFullClassName, allOptions={}</span>):
    aStoreClass = _get_class(aFullClassName, StorageManager)
    <span class="hljs-keyword">return</span> aStoreClass(allOptions)
</code></pre>
    </div></div></div></div><div id="solution25" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 25</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In Linux, adding a symbolic link in the directory your Python script is located works.</p>
<p>I.e.:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">ln -s /absolute/path/to/module/module.py /absolute/path/to/script/module.py
</code></pre>
<p>The Python interpreter will create <code>/absolute/path/to/script/module.pyc</code> and will update it if you change the contents of <code>/absolute/path/to/module/module.py</code>.</p>
<p>Then include the following in file <em>mypythonscript.py</em>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">from</span> module <span class="hljs-keyword">import</span> *
</code></pre>
    </div></div></div></div><div id="solution26" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 26</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This will allow imports of compiled (pyd) Python modules in 3.4:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">import</span> importlib.machinery

<span class="hljs-keyword">def</span> <span class="hljs-title function_">load_module</span>(<span class="hljs-params">name, filename</span>):
    <span class="hljs-comment"># If the Loader finds the module name in this list it will use</span>
    <span class="hljs-comment"># module_name.__file__ instead so we need to delete it here</span>
    <span class="hljs-keyword">if</span> name <span class="hljs-keyword">in</span> sys.modules:
        <span class="hljs-keyword">del</span> sys.modules[name]
    loader = importlib.machinery.ExtensionFileLoader(name, filename)
    module = loader.load_module()
    <span class="hljs-built_in">locals</span>()[name] = module
    <span class="hljs-built_in">globals</span>()[name] = module

load_module(<span class="hljs-string">'something'</span>, <span class="hljs-string">r'C:\Path\To\something.pyd'</span>)
something.do_something()
</code></pre>
    </div></div></div></div><div id="solution27" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 27</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>A quite simple way: suppose you want import file with relative path ../../MyLibs/pyfunc.py</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">libPath = <span class="hljs-string">'../../MyLibs'</span>
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> libPath <span class="hljs-keyword">in</span> sys.path: sys.path.append(libPath)
<span class="hljs-keyword">import</span> pyfunc <span class="hljs-keyword">as</span> pf
</code></pre>
<p>But if you make it without a guard you can finally get a very long path.</p>
    </div></div></div></div><div id="solution28" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 28</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I have written my own global and portable import function, based on <code>importlib</code> module, for:</p>
<ul>
<li>Be able to import both modules as submodules and to import the content of a module to a parent module (or into a globals if has no parent module).</li>
<li>Be able to import modules with a period characters in a file name.</li>
<li>Be able to import modules with any extension.</li>
<li>Be able to use a standalone name for a submodule instead of a file name without extension which is by default.</li>
<li>Be able to define the import order based on previously imported module instead of dependent on <code>sys.path</code> or on a what ever search path storage.</li>
</ul>
<p>The examples directory structure:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">&lt;root&gt;
 |
 +- test.py
 |
 +- testlib.py
 |
 +- /std1
 |   |
 |   +- testlib.std1.py
 |
 +- /std2
 |   |
 |   +- testlib.std2.py
 |
 +- /std3
     |
     +- testlib.std3.py
</code></pre>
<p>Inclusion dependency and order:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">test.py
  -&gt; testlib.py
    -&gt; testlib.std1.py
      -&gt; testlib.std2.py
    -&gt; testlib.std3.py
</code></pre>
<p>Implementation:</p>
<p>Latest changes store: <a href="https://sourceforge.net/p/tacklelib/tacklelib/HEAD/tree/trunk/python/tacklelib/tacklelib.py" rel="nofollow noreferrer">https://sourceforge.net/p/tacklelib/tacklelib/HEAD/tree/trunk/python/tacklelib/tacklelib.py</a></p>
<p><strong>test.py</strong>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> os, sys, inspect, copy

SOURCE_FILE = os.path.abspath(inspect.getsourcefile(<span class="hljs-keyword">lambda</span>:<span class="hljs-number">0</span>)).replace(<span class="hljs-string">'\\'</span>,<span class="hljs-string">'/'</span>)
SOURCE_DIR = os.path.dirname(SOURCE_FILE)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"test::SOURCE_FILE: "</span>, SOURCE_FILE)

<span class="hljs-comment"># portable import to the global space</span>
sys.path.append(TACKLELIB_ROOT) <span class="hljs-comment"># TACKLELIB_ROOT - path to the library directory</span>
<span class="hljs-keyword">import</span> tacklelib <span class="hljs-keyword">as</span> tkl

tkl.tkl_init(tkl)

<span class="hljs-comment"># cleanup</span>
<span class="hljs-keyword">del</span> tkl <span class="hljs-comment"># must be instead of `tkl = None`, otherwise the variable would be still persist</span>
sys.path.pop()

tkl_import_module(SOURCE_DIR, <span class="hljs-string">'testlib.py'</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-built_in">globals</span>().keys())

testlib.base_test()
testlib.testlib_std1.std1_test()
testlib.testlib_std1.testlib_std2.std2_test()
<span class="hljs-comment">#testlib.testlib.std3.std3_test()                             # does not reachable directly ...</span>
<span class="hljs-built_in">getattr</span>(<span class="hljs-built_in">globals</span>()[<span class="hljs-string">'testlib'</span>], <span class="hljs-string">'testlib.std3'</span>).std3_test()     <span class="hljs-comment"># ... but reachable through the `globals` + `getattr`</span>

tkl_import_module(SOURCE_DIR, <span class="hljs-string">'testlib.py'</span>, <span class="hljs-string">'.'</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-built_in">globals</span>().keys())

base_test()
testlib_std1.std1_test()
testlib_std1.testlib_std2.std2_test()
<span class="hljs-comment">#testlib.std3.std3_test()                                     # does not reachable directly ...</span>
<span class="hljs-built_in">globals</span>()[<span class="hljs-string">'testlib.std3'</span>].std3_test()                         <span class="hljs-comment"># ... but reachable through the `globals` + `getattr`</span>
</code></pre>
<p><strong>testlib.py</strong>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-comment"># optional for 3.4.x and higher</span>
<span class="hljs-comment">#import os, inspect</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#SOURCE_FILE = os.path.abspath(inspect.getsourcefile(lambda:0)).replace('\\','/')</span>
<span class="hljs-comment">#SOURCE_DIR = os.path.dirname(SOURCE_FILE)</span>

<span class="hljs-built_in">print</span>(<span class="hljs-string">"1 testlib::SOURCE_FILE: "</span>, SOURCE_FILE)

tkl_import_module(SOURCE_DIR + <span class="hljs-string">'/std1'</span>, <span class="hljs-string">'testlib.std1.py'</span>, <span class="hljs-string">'testlib_std1'</span>)

<span class="hljs-comment"># SOURCE_DIR is restored here</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"2 testlib::SOURCE_FILE: "</span>, SOURCE_FILE)

tkl_import_module(SOURCE_DIR + <span class="hljs-string">'/std3'</span>, <span class="hljs-string">'testlib.std3.py'</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"3 testlib::SOURCE_FILE: "</span>, SOURCE_FILE)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">base_test</span>():
  <span class="hljs-built_in">print</span>(<span class="hljs-string">'base_test'</span>)
</code></pre>
<p><strong>testlib.std1.py</strong>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-comment"># optional for 3.4.x and higher</span>
<span class="hljs-comment">#import os, inspect</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#SOURCE_FILE = os.path.abspath(inspect.getsourcefile(lambda:0)).replace('\\','/')</span>
<span class="hljs-comment">#SOURCE_DIR = os.path.dirname(SOURCE_FILE)</span>

<span class="hljs-built_in">print</span>(<span class="hljs-string">"testlib.std1::SOURCE_FILE: "</span>, SOURCE_FILE)

tkl_import_module(SOURCE_DIR + <span class="hljs-string">'/../std2'</span>, <span class="hljs-string">'testlib.std2.py'</span>, <span class="hljs-string">'testlib_std2'</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">std1_test</span>():
  <span class="hljs-built_in">print</span>(<span class="hljs-string">'std1_test'</span>)
</code></pre>
<p><strong>testlib.std2.py</strong>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-comment"># optional for 3.4.x and higher</span>
<span class="hljs-comment">#import os, inspect</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#SOURCE_FILE = os.path.abspath(inspect.getsourcefile(lambda:0)).replace('\\','/')</span>
<span class="hljs-comment">#SOURCE_DIR = os.path.dirname(SOURCE_FILE)</span>

<span class="hljs-built_in">print</span>(<span class="hljs-string">"testlib.std2::SOURCE_FILE: "</span>, SOURCE_FILE)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">std2_test</span>():
  <span class="hljs-built_in">print</span>(<span class="hljs-string">'std2_test'</span>)
</code></pre>
<p><strong>testlib.std3.py</strong>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-comment"># optional for 3.4.x and higher</span>
<span class="hljs-comment">#import os, inspect</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#SOURCE_FILE = os.path.abspath(inspect.getsourcefile(lambda:0)).replace('\\','/')</span>
<span class="hljs-comment">#SOURCE_DIR = os.path.dirname(SOURCE_FILE)</span>

<span class="hljs-built_in">print</span>(<span class="hljs-string">"testlib.std3::SOURCE_FILE: "</span>, SOURCE_FILE)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">std3_test</span>():
  <span class="hljs-built_in">print</span>(<span class="hljs-string">'std3_test'</span>)
</code></pre>
<p><strong>Output</strong> (<code>3.7.4</code>):</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">test::SOURCE_FILE:  &lt;root&gt;/test01/test.py
<span class="hljs-keyword">import</span> : &lt;root&gt;/test01/testlib.py <span class="hljs-keyword">as</span> testlib -&gt; []
<span class="hljs-number">1</span> testlib::SOURCE_FILE:  &lt;root&gt;/test01/testlib.py
<span class="hljs-keyword">import</span> : &lt;root&gt;/test01/std1/testlib.std1.py <span class="hljs-keyword">as</span> testlib_std1 -&gt; [<span class="hljs-string">'testlib'</span>]
<span class="hljs-keyword">import</span> : &lt;root&gt;/test01/std1/../std2/testlib.std2.py <span class="hljs-keyword">as</span> testlib_std2 -&gt; [<span class="hljs-string">'testlib'</span>, <span class="hljs-string">'testlib_std1'</span>]
testlib.std2::SOURCE_FILE:  &lt;root&gt;/test01/std1/../std2/testlib.std2.py
<span class="hljs-number">2</span> testlib::SOURCE_FILE:  &lt;root&gt;/test01/testlib.py
<span class="hljs-keyword">import</span> : &lt;root&gt;/test01/std3/testlib.std3.py <span class="hljs-keyword">as</span> testlib.std3 -&gt; [<span class="hljs-string">'testlib'</span>]
testlib.std3::SOURCE_FILE:  &lt;root&gt;/test01/std3/testlib.std3.py
<span class="hljs-number">3</span> testlib::SOURCE_FILE:  &lt;root&gt;/test01/testlib.py
dict_keys([<span class="hljs-string">'__name__'</span>, <span class="hljs-string">'__doc__'</span>, <span class="hljs-string">'__package__'</span>, <span class="hljs-string">'__loader__'</span>, <span class="hljs-string">'__spec__'</span>, <span class="hljs-string">'__annotations__'</span>, <span class="hljs-string">'__builtins__'</span>, <span class="hljs-string">'__file__'</span>, <span class="hljs-string">'__cached__'</span>, <span class="hljs-string">'os'</span>, <span class="hljs-string">'sys'</span>, <span class="hljs-string">'inspect'</span>, <span class="hljs-string">'copy'</span>, <span class="hljs-string">'SOURCE_FILE'</span>, <span class="hljs-string">'SOURCE_DIR'</span>, <span class="hljs-string">'TackleGlobalImportModuleState'</span>, <span class="hljs-string">'tkl_membercopy'</span>, <span class="hljs-string">'tkl_merge_module'</span>, <span class="hljs-string">'tkl_get_parent_imported_module_state'</span>, <span class="hljs-string">'tkl_declare_global'</span>, <span class="hljs-string">'tkl_import_module'</span>, <span class="hljs-string">'TackleSourceModuleState'</span>, <span class="hljs-string">'tkl_source_module'</span>, <span class="hljs-string">'TackleLocalImportModuleState'</span>, <span class="hljs-string">'testlib'</span>])
base_test
std1_test
std2_test
std3_test
<span class="hljs-keyword">import</span> : &lt;root&gt;/test01/testlib.py <span class="hljs-keyword">as</span> . -&gt; []
<span class="hljs-number">1</span> testlib::SOURCE_FILE:  &lt;root&gt;/test01/testlib.py
<span class="hljs-keyword">import</span> : &lt;root&gt;/test01/std1/testlib.std1.py <span class="hljs-keyword">as</span> testlib_std1 -&gt; [<span class="hljs-string">'testlib'</span>]
<span class="hljs-keyword">import</span> : &lt;root&gt;/test01/std1/../std2/testlib.std2.py <span class="hljs-keyword">as</span> testlib_std2 -&gt; [<span class="hljs-string">'testlib'</span>, <span class="hljs-string">'testlib_std1'</span>]
testlib.std2::SOURCE_FILE:  &lt;root&gt;/test01/std1/../std2/testlib.std2.py
<span class="hljs-number">2</span> testlib::SOURCE_FILE:  &lt;root&gt;/test01/testlib.py
<span class="hljs-keyword">import</span> : &lt;root&gt;/test01/std3/testlib.std3.py <span class="hljs-keyword">as</span> testlib.std3 -&gt; [<span class="hljs-string">'testlib'</span>]
testlib.std3::SOURCE_FILE:  &lt;root&gt;/test01/std3/testlib.std3.py
<span class="hljs-number">3</span> testlib::SOURCE_FILE:  &lt;root&gt;/test01/testlib.py
dict_keys([<span class="hljs-string">'__name__'</span>, <span class="hljs-string">'__doc__'</span>, <span class="hljs-string">'__package__'</span>, <span class="hljs-string">'__loader__'</span>, <span class="hljs-string">'__spec__'</span>, <span class="hljs-string">'__annotations__'</span>, <span class="hljs-string">'__builtins__'</span>, <span class="hljs-string">'__file__'</span>, <span class="hljs-string">'__cached__'</span>, <span class="hljs-string">'os'</span>, <span class="hljs-string">'sys'</span>, <span class="hljs-string">'inspect'</span>, <span class="hljs-string">'copy'</span>, <span class="hljs-string">'SOURCE_FILE'</span>, <span class="hljs-string">'SOURCE_DIR'</span>, <span class="hljs-string">'TackleGlobalImportModuleState'</span>, <span class="hljs-string">'tkl_membercopy'</span>, <span class="hljs-string">'tkl_merge_module'</span>, <span class="hljs-string">'tkl_get_parent_imported_module_state'</span>, <span class="hljs-string">'tkl_declare_global'</span>, <span class="hljs-string">'tkl_import_module'</span>, <span class="hljs-string">'TackleSourceModuleState'</span>, <span class="hljs-string">'tkl_source_module'</span>, <span class="hljs-string">'TackleLocalImportModuleState'</span>, <span class="hljs-string">'testlib'</span>, <span class="hljs-string">'testlib_std1'</span>, <span class="hljs-string">'testlib.std3'</span>, <span class="hljs-string">'base_test'</span>])
base_test
std1_test
std2_test
std3_test
</code></pre>
<p>Tested in Python <code>3.7.4</code>, <code>3.2.5</code>, <code>2.7.16</code></p>
<p><strong>Pros</strong>:</p>
<ul>
<li>Can import both module as a submodule and can import content of a module to a parent module (or into a globals if has no parent module).</li>
<li>Can import modules with periods in a file name.</li>
<li>Can import any extension module from any extension module.</li>
<li>Can use a standalone name for a submodule instead of a file name without extension which is by default (for example, <code>testlib.std.py</code> as <code>testlib</code>, <code>testlib.blabla.py</code> as <code>testlib_blabla</code> and so on).</li>
<li>Does not depend on a <code>sys.path</code> or on a what ever search path storage.</li>
<li>Does not require to save/restore global variables like <code>SOURCE_FILE</code> and <code>SOURCE_DIR</code> between calls to <code>tkl_import_module</code>.</li>
<li>[for <code>3.4.x</code> and higher] Can mix the module namespaces in nested <code>tkl_import_module</code> calls (ex: <code>named-&gt;local-&gt;named</code> or <code>local-&gt;named-&gt;local</code> and so on).</li>
<li>[for <code>3.4.x</code> and higher] Can auto export global variables/functions/classes from where being declared to all children modules imported through the <code>tkl_import_module</code> (through the <code>tkl_declare_global</code> function).</li>
</ul>
<p><strong>Cons</strong>:</p>
<ul>
<li>[for <code>3.3.x</code> and lower] Require to declare <code>tkl_import_module</code> in all modules which calls to <code>tkl_import_module</code> (code duplication)</li>
</ul>
<p><strong>Update 1,2</strong> (for <code>3.4.x</code> and higher only):</p>
<p>In Python 3.4 and higher you can bypass the requirement to declare <code>tkl_import_module</code> in each module by declare <code>tkl_import_module</code> in a top level module and the function would inject itself to all children modules in a single call (it's a kind of self deploy import).</p>
<p><strong>Update 3</strong>:</p>
<p>Added function <code>tkl_source_module</code> as analog to bash <code>source</code> with support execution guard upon import (implemented through the module merge instead of import).</p>
<p><strong>Update 4</strong>:</p>
<p>Added function <code>tkl_declare_global</code> to auto export a module global variable to all children modules where a module global variable is not visible because is not a part of a child module.</p>
<p><strong>Update 5</strong>:</p>
<p>All functions has moved into the tacklelib library, see the link above.</p>
    </div></div></div></div><div id="solution29" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 29</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>These are my two utility functions using only pathlib. It infers the module name from the path.</p>
<p>By default, it recursively loads all Python files from folders and replaces <strong>init</strong>.py by the parent folder name. But you can also give a Path and/or a glob to select some specific files.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path
<span class="hljs-keyword">from</span> importlib.util <span class="hljs-keyword">import</span> spec_from_file_location, module_from_spec
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span>


<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_module_from_path</span>(<span class="hljs-params">path: Path, relative_to: <span class="hljs-type">Optional</span>[Path] = <span class="hljs-literal">None</span></span>):
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> relative_to:
        relative_to = Path.cwd()

    abs_path = path.absolute()
    relative_path = abs_path.relative_to(relative_to.absolute())
    <span class="hljs-keyword">if</span> relative_path.name == <span class="hljs-string">"__init__.py"</span>:
        relative_path = relative_path.parent
    module_name = <span class="hljs-string">"."</span>.join(relative_path.with_suffix(<span class="hljs-string">""</span>).parts)
    mod = module_from_spec(spec_from_file_location(module_name, path))
    <span class="hljs-keyword">return</span> mod


<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_modules_from_folder</span>(<span class="hljs-params">folder: <span class="hljs-type">Optional</span>[Path] = <span class="hljs-literal">None</span>, glob_str: <span class="hljs-built_in">str</span> = <span class="hljs-string">"*/**/*.py"</span></span>):
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> folder:
        folder = Path(<span class="hljs-string">"."</span>)

    mod_list = []
    <span class="hljs-keyword">for</span> file_path <span class="hljs-keyword">in</span> <span class="hljs-built_in">sorted</span>(folder.glob(glob_str)):
        mod_list.append(get_module_from_path(file_path))

    <span class="hljs-keyword">return</span> mod_list
</code></pre>
    </div></div></div></div><div id="solution30" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 30</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python-import">python-import</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here's a way of loading files sort of like C, etc.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">from</span> importlib.machinery <span class="hljs-keyword">import</span> SourceFileLoader
<span class="hljs-keyword">import</span> os

<span class="hljs-keyword">def</span> <span class="hljs-title function_">LOAD</span>(<span class="hljs-params">MODULE_PATH</span>):
    <span class="hljs-keyword">if</span> (MODULE_PATH[<span class="hljs-number">0</span>] == <span class="hljs-string">"/"</span>):
        FULL_PATH = MODULE_PATH;
    <span class="hljs-keyword">else</span>:
        DIR_PATH = os.path.dirname (os.path.realpath (__file__))
        FULL_PATH = os.path.normpath (DIR_PATH + <span class="hljs-string">"/"</span> + MODULE_PATH)

    <span class="hljs-keyword">return</span> SourceFileLoader (FULL_PATH, FULL_PATH).load_module ()
</code></pre>
<p>Implementations where:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">Y = LOAD(<span class="hljs-string">"../Z.py"</span>)
A = LOAD(<span class="hljs-string">"./A.py"</span>)
D = LOAD(<span class="hljs-string">"./C/D.py"</span>)
A_ = LOAD(<span class="hljs-string">"/IMPORTS/A.py"</span>)

Y.DEF();
A.DEF();
D.DEF();
A_.DEF();
</code></pre>
<p>Where each of the files looks like this:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">DEF</span>():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"A"</span>);
</code></pre>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/how-should-a-model-be-structured-in-mvc-closed-1657388394807">How should a model be structured in MVC? [closed]</a><a href="/questions/how-do-i-clone-a-list-so-that-it-doesn&#x27;t-change-unexpectedly-after-assignment-1657384423195">How do I clone a list so that it doesn&#x27;t change unexpectedly after assignment?</a><a href="/questions/why-don&#x27;t-flex-items-shrink-past-content-size-1657384687282">Why don&#x27;t flex items shrink past content size?</a><a href="/questions/what-is-dom-event-delegation-1657387625599">What is DOM Event delegation?</a><a href="/questions/what-are-the-nuances-of-scope-prototypal-prototypical-inheritance-in-angularjs-1657387340067">What are the nuances of scope prototypal / prototypical inheritance in AngularJS?</a><a href="/questions/deep-cloning-objects-1657387930865">Deep cloning objects</a><a href="/questions/javascript-closure-inside-loops-simple-practical-example-1657384278449">JavaScript closure inside loops â simple practical example</a><a href="/questions/select-first-row-in-each-group-by-group-1657384809388">Select first row in each GROUP BY group?</a><a href="/questions/get-top-1-row-of-each-group-1657387438304">Get top 1 row of each group</a><a href="/questions/random-number-generator-only-generating-one-random-number-1657385468315">Random number generator only generating one random number</a><a href="/questions/re.findall-behaves-weird-1657388408049">re.findall behaves weird</a><a href="/questions/change-the-maximum-upload-file-size-1657388495156">Change the maximum upload file size</a><a href="/questions/how-to-create-a-guid-uuid-1657387749530">How to create a GUID / UUID</a><a href="/questions/sql-select-only-rows-with-max-value-on-a-column-duplicate-1657384614292">SQL select only rows with max value on a column [duplicate]</a><a href="/questions/scroll-to-an-element-with-jquery-1657388523178">Scroll to an element with jQuery</a><a href="/questions/how-to-generate-a-self-signed-ssl-certificate-using-openssl-closed-1657388298626">How to generate a self-signed SSL certificate using OpenSSL? [closed]</a><a href="/questions/how-to-use-java.util.scanner-to-correctly-read-user-input-from-system.in-and-act-on-it-1657388546306">How to use java.util.Scanner to correctly read user input from System.in and act on it?</a><a href="/questions/why-does-my-javascript-code-receive-a-%22no-&#x27;access-control-allow-origin&#x27;-header-is-present-on-the-requested-resource%22-error-while-postman-does-not-1657384636363">Why does my JavaScript code receive a &quot;No &#x27;Access-Control-Allow-Origin&#x27; header is present on the requested resource&quot; error, while Postman does not?</a><a href="/questions/what-causes-a-java.lang.arrayindexoutofboundsexception-and-how-do-i-prevent-it-1657384370848">What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?</a><a href="/questions/how-to-include-a-php-variable-inside-a-mysql-statement-1657387669365">How to include a PHP variable inside a MySQL statement</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;For Python 3.5+ use (\u0026lt;a href=\u0026quot;https://docs.python.org/3/library/importlib.html#importing-a-source-file-directly\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;docs\u0026lt;/a\u0026gt;):\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; importlib.util\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; sys\nspec = importlib.util.spec_from_file_location(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;module.name\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/path/to/file.py\u0026quot;\u0026lt;/span\u0026gt;)\nfoo = importlib.util.module_from_spec(spec)\nsys.modules[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;module.name\u0026quot;\u0026lt;/span\u0026gt;] = foo\nspec.loader.exec_module(foo)\nfoo.MyClass()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;For Python 3.3 and 3.4 use:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; importlib.machinery \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; SourceFileLoader\n\nfoo = SourceFileLoader(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;module.name\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/path/to/file.py\u0026quot;\u0026lt;/span\u0026gt;).load_module()\nfoo.MyClass()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;(Although this has been deprecated in Python 3.4.)\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For Python 2 use:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; imp\n\nfoo = imp.load_source(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;module.name\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/path/to/file.py\u0026apos;\u0026lt;/span\u0026gt;)\nfoo.MyClass()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;There are equivalent convenience functions for compiled Python files and DLLs.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;See also \u0026lt;a href=\u0026quot;http://bugs.python.org/issue21436\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://bugs.python.org/issue21436\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The advantage of adding a path to sys.path (over using imp) is that it simplifies things when importing more than one module from a single package.  For example:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; sys\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# the mock-0.3.1 dir contains testcase.py, testutils.py \u0026amp;amp; mock.py\u0026lt;/span\u0026gt;\nsys.path.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/foo/bar/mock-0.3.1\u0026apos;\u0026lt;/span\u0026gt;)\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; testcase \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; TestCase\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; testutils \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; RunTests\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; mock \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; Mock, sentinel, patch\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;To import your module, you need to add its directory to the environment variable, either temporarily or permanently.\u0026lt;/p\u0026gt;\n\u0026lt;h1\u0026gt;Temporarily\u0026lt;/h1\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; sys\nsys.path.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/path/to/my/modules/\u0026quot;\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; my_module\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h1\u0026gt;Permanently\u0026lt;/h1\u0026gt;\n\u0026lt;p\u0026gt;Adding the following line to your \u0026lt;code\u0026gt;.bashrc\u0026lt;/code\u0026gt; (or alternative) file in Linux\nand excecute \u0026lt;code\u0026gt;source ~/.bashrc\u0026lt;/code\u0026gt; (or alternative) in the terminal:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;export PYTHONPATH=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;${PYTHONPATH}:/path/to/my/modules/\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Credit/Source: \u0026lt;a href=\u0026quot;https://stackoverflow.com/users/2312075/saarrrr\u0026quot;\u0026gt;saarrrr\u0026lt;/a\u0026gt;, \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/3402176/7428659\u0026quot;\u0026gt;another Stack\u0026amp;nbsp;Exchange question\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If your top-level module is not a file but is packaged as a directory with __init__.py, then the accepted solution almost works, but not quite. In Python 3.5+ the following code is needed (note the added line that begins with \u0026apos;sys.modules\u0026apos;):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;MODULE_PATH = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/path/to/your/module/__init__.py\u0026quot;\u0026lt;/span\u0026gt;\nMODULE_NAME = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;mymodule\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; importlib\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; sys\nspec = importlib.util.spec_from_file_location(MODULE_NAME, MODULE_PATH)\nmodule = importlib.util.module_from_spec(spec)\nsys.modules[spec.name] = module \nspec.loader.exec_module(module)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Without this line, when exec_module is executed, it tries to bind relative imports in your top level __init__.py to the top level module name -- in this case \u0026quot;mymodule\u0026quot;. But \u0026quot;mymodule\u0026quot; isn\u0026apos;t loaded yet so you\u0026apos;ll get the error \u0026quot;SystemError: Parent module \u0026apos;mymodule\u0026apos; not loaded, cannot perform relative import\u0026quot;. So you need to bind the name before you load it. The reason for this is the fundamental invariant of the relative import system: \u0026quot;The invariant holding is that if you have sys.modules[\u0026apos;spam\u0026apos;] and sys.modules[\u0026apos;spam.foo\u0026apos;] (as you would after the above import), the latter must appear as the foo attribute of the former\u0026quot; \u0026lt;a href=\u0026quot;https://docs.python.org/3/reference/import.html#submodules\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;as discussed here\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;It sounds like you don\u0026apos;t want to specifically import the configuration file (which has a whole lot of side effects and additional complications involved). You just want to run it, and be able to access the resulting namespace. The standard library provides an API specifically for that in the form of \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/runpy.html#runpy.run_path\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;runpy.run_path\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; runpy \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; run_path\nsettings = run_path(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/path/to/file.py\u0026quot;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;That interface is available in Python 2.7 and Python 3.2+.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can also do something like this and add the directory that the configuration file is sitting in to the Python load path, and then just do a normal import, assuming you know the name of the file in advance, in this case \u0026quot;config\u0026quot;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Messy, but it works.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;configfile = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;~/config.py\u0026apos;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; sys\n\nsys.path.append(os.path.dirname(os.path.expanduser(configfile)))\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; config\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can use the\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;load_source(module_name, path_to_file)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;method from the \u0026lt;a href=\u0026quot;https://docs.python.org/library/imp.html\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;imp module\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Do you mean load or import?\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You can manipulate the \u0026lt;code\u0026gt;sys.path\u0026lt;/code\u0026gt; list specify the path to your module, and then import your module. For example, given a module at:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;/foo/bar.py\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;You could do:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; sys\nsys.path[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;] = [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/foo\u0026apos;\u0026lt;/span\u0026gt;] \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Puts the /foo directory at the start of your path\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; bar\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here is some code that works in all Python versions, from 2.7-3.5 and probably even others.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;config_file = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/tmp/config.py\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;with\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;open\u0026lt;/span\u0026gt;(config_file) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; f:\n    code = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;compile\u0026lt;/span\u0026gt;(f.read(), config_file, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;exec\u0026apos;\u0026lt;/span\u0026gt;)\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;exec\u0026lt;/span\u0026gt;(code, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;globals\u0026lt;/span\u0026gt;(), \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;locals\u0026lt;/span\u0026gt;())\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;I tested it. It may be ugly, but so far it is the only one that works in all versions.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I have come up with a slightly modified version of \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/67692/2988730\u0026quot;\u0026gt;@SebastianRittau\u0026apos;s wonderful answer\u0026lt;/a\u0026gt; (for Python \u0026amp;gt; 3.4 I think), which will allow you to load a file with any extension as a module using \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/importlib.html#importlib.util.spec_from_loader\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;spec_from_loader\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; instead of \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/importlib.html#importlib.util.spec_from_file_location\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;spec_from_file_location\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; importlib.util \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; spec_from_loader, module_from_spec\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; importlib.machinery \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; SourceFileLoader \n\nspec = spec_from_loader(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;module.name\u0026quot;\u0026lt;/span\u0026gt;, SourceFileLoader(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;module.name\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/path/to/file.py\u0026quot;\u0026lt;/span\u0026gt;))\nmod = module_from_spec(spec)\nspec.loader.exec_module(mod)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The advantage of encoding the path in an explicit \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/importlib.html#importlib.machinery.SourceFileLoader\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;SourceFileLoader\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; is that the \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/importlib.html#module-importlib.machinery\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;machinery\u0026lt;/a\u0026gt; will not try to figure out the type of the file from the extension. This means that you can load something like a \u0026lt;code\u0026gt;.txt\u0026lt;/code\u0026gt; file using this method, but you could not do it with \u0026lt;code\u0026gt;spec_from_file_location\u0026lt;/code\u0026gt; without specifying the loader because \u0026lt;code\u0026gt;.txt\u0026lt;/code\u0026gt; is not in \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/importlib.html#importlib.machinery.SOURCE_SUFFIXES\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;importlib.machinery.SOURCE_SUFFIXES\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I\u0026apos;ve placed an implementation based on this, and \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/50395128/2988730\u0026quot;\u0026gt;@SamGrondahl\u0026apos;s useful modification\u0026lt;/a\u0026gt; into my utility library, \u0026lt;a href=\u0026quot;https://haggis.readthedocs.io/en/stable/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;haggis\u0026lt;/a\u0026gt;. The function is called \u0026lt;a href=\u0026quot;https://haggis.readthedocs.io/en/latest/api.html#haggis.load.load_module\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;haggis.load.load_module\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;. It adds a couple of neat tricks, like the ability to inject variables into the module namespace as it is loaded.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can do this using \u0026lt;code\u0026gt;__import__\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;chdir\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;import_file\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;full_path_to_module\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt;:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n        module_dir, module_file = os.path.split(full_path_to_module)\n        module_name, module_ext = os.path.splitext(module_file)\n        save_cwd = os.getcwd()\n        os.chdir(module_dir)\n        module_obj = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;__import__\u0026lt;/span\u0026gt;(module_name)\n        module_obj.__file__ = full_path_to_module\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;globals\u0026lt;/span\u0026gt;()[module_name] = module_obj\n        os.chdir(save_cwd)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;except\u0026lt;/span\u0026gt; Exception \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; e:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;raise\u0026lt;/span\u0026gt; ImportError(e)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; module_obj\n\n\nimport_file(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/home/somebody/somemodule.py\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If we have scripts in the same project but in different directory means, we can solve this problem by the following method.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In this situation \u0026lt;code\u0026gt;utils.py\u0026lt;/code\u0026gt; is in \u0026lt;code\u0026gt;src/main/util/\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; sys\nsys.path.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;./\u0026apos;\u0026lt;/span\u0026gt;)\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; src.main.util.utils\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#or\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; src.main.util.utils \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; json_converter \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# json_converter is example method\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I believe you can use \u0026lt;a href=\u0026quot;https://docs.python.org/2/library/imp.html#imp.find_module\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;imp.find_module()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;https://docs.python.org/2/library/imp.html#imp.load_module\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;imp.load_module()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; to load the specified module.  You\u0026apos;ll need to split the module name off of the path, i.e. if you wanted to load \u0026lt;code\u0026gt;/home/mypath/mymodule.py\u0026lt;/code\u0026gt; you\u0026apos;d need to do:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;imp.find_module(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;mymodule\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/home/mypath/\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;...but that should get the job done.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Create Python module \u0026lt;em\u0026gt;test.py\u0026lt;/em\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; sys\nsys.path.append(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026amp;lt;project-path\u0026amp;gt;/lib/\u0026quot;\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; tes1 \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; Client1\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; tes2 \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; Client2\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; tes3\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Create Python module \u0026lt;em\u0026gt;test_check.py\u0026lt;/em\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; test \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; Client1\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; test \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; Client2\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; test \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; test3\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;We can import the imported module from module.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can use the \u0026lt;code\u0026gt;pkgutil\u0026lt;/code\u0026gt; module (specifically the \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/pkgutil.html#pkgutil.walk_packages\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;walk_packages\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; method) to get a list of the packages in the current directory. From there it\u0026apos;s trivial to use the \u0026lt;code\u0026gt;importlib\u0026lt;/code\u0026gt; machinery to import the modules you want:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; pkgutil\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; importlib\n\npackages = pkgutil.walk_packages(path=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; importer, name, is_package \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; packages:\n    mod = importlib.import_module(name)\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# do whatever you want with module now, it\u0026apos;s been imported!\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;There\u0026apos;s a \u0026lt;a href=\u0026quot;https://pypi.org/project/thesmuggler/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;package\u0026lt;/a\u0026gt; that\u0026apos;s dedicated to this specifically:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; thesmuggler \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; smuggle\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Ã la `import weapons`\u0026lt;/span\u0026gt;\nweapons = smuggle(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;weapons.py\u0026apos;\u0026lt;/span\u0026gt;)\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Ã la `from contraband import drugs, alcohol`\u0026lt;/span\u0026gt;\ndrugs, alcohol = smuggle(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;drugs\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;alcohol\u0026apos;\u0026lt;/span\u0026gt;, source=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;contraband.py\u0026apos;\u0026lt;/span\u0026gt;)\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Ã la `from contraband import drugs as dope, alcohol as booze`\u0026lt;/span\u0026gt;\ndope, booze = smuggle(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;drugs\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;alcohol\u0026apos;\u0026lt;/span\u0026gt;, source=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;contraband.py\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;It\u0026apos;s tested across Python versions (Jython and PyPy too), but it might be overkill depending on the size of your project.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This area of Python 3.4 seems to be extremely tortuous to understand! However with a bit of hacking using the code from Chris Calloway as a start I managed to get something working. Here\u0026apos;s the basic function.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;import_module_from_file\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;full_path_to_module\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026quot;\n    Import a module given the full path/filename of the .py file\n\n    Python 3.4\n\n    \u0026quot;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;\n\n    module = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt;:\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Get module name and path from full path\u0026lt;/span\u0026gt;\n        module_dir, module_file = os.path.split(full_path_to_module)\n        module_name, module_ext = os.path.splitext(module_file)\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Get module \u0026quot;spec\u0026quot; from filename\u0026lt;/span\u0026gt;\n        spec = importlib.util.spec_from_file_location(module_name,full_path_to_module)\n\n        module = spec.loader.load_module()\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;except\u0026lt;/span\u0026gt; Exception \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; ec:\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Simple error printing\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Insert \u0026quot;sophisticated\u0026quot; stuff here\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(ec)\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;finally\u0026lt;/span\u0026gt;:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; module\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This appears to use non-deprecated modules from Python 3.4. I don\u0026apos;t pretend to understand why, but it seems to work from within a program. I found Chris\u0026apos; solution worked on the command line but not from inside a program.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I made a package that uses \u0026lt;code\u0026gt;imp\u0026lt;/code\u0026gt; for you. I call it \u0026lt;code\u0026gt;import_file\u0026lt;/code\u0026gt; and this is how it\u0026apos;s used:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; import_file \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; import_file\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;mylib = import_file(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;c:\\\\mylib.py\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;another = import_file(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;relative_subdir/another.py\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You can get it at:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://pypi.python.org/pypi/import_file\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;http://pypi.python.org/pypi/import_file\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;or at\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://code.google.com/p/import-file/\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;http://code.google.com/p/import-file/\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;To import a module from a given filename, you can temporarily extend the path, and restore the system path in the finally block \u0026lt;a href=\u0026quot;http://effbot.org/zone/import-string.htm\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;reference:\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;filename = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;directory/module.py\u0026quot;\u0026lt;/span\u0026gt;\n\ndirectory, module_name = os.path.split(filename)\nmodule_name = os.path.splitext(module_name)[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;]\n\npath = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;(sys.path)\nsys.path.insert(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, directory)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt;:\n    module = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;__import__\u0026lt;/span\u0026gt;(module_name)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;finally\u0026lt;/span\u0026gt;:\n    sys.path[:] = path \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# restore\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;A simple solution using \u0026lt;code\u0026gt;importlib\u0026lt;/code\u0026gt; instead of the \u0026lt;code\u0026gt;imp\u0026lt;/code\u0026gt; package (tested for Python 2.7, although it should work for Python 3 too):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-python s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; importlib\n\ndirname, basename = os.path.split(pyfilepath) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# pyfilepath: \u0026apos;/my/path/mymodule.py\u0026apos;\u0026lt;/span\u0026gt;\nsys.path.append(dirname) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# only directories should be added to PYTHONPATH\u0026lt;/span\u0026gt;\nmodule_name = os.path.splitext(basename)[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;] \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# \u0026apos;/my/path/mymodule.py\u0026apos; --\u0026amp;gt; \u0026apos;mymodule\u0026apos;\u0026lt;/span\u0026gt;\nmodule = importlib.import_module(module_name) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# name space of defined module (otherwise we would literally look for \u0026quot;module_name\u0026quot;)\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Now you can directly use the namespace of the imported module, like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;a = module.myvar\nb = module.myfunc(a)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The advantage of this solution is that \u0026lt;strong\u0026gt;we don\u0026apos;t even need to know the actual name of the module we would like to import\u0026lt;/strong\u0026gt;, in order to use it in our code. This is useful, e.g. in case the path of the module is a configurable argument.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I\u0026apos;m not saying that it is better, but for the sake of completeness, I wanted to suggest the \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/functions.html#exec\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;exec\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; function, available in both Python\u0026amp;nbsp;2 and Python\u0026amp;nbsp;3.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;exec\u0026lt;/code\u0026gt; allows you to execute arbitrary code in either the global scope, or in an internal scope, provided as a dictionary.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For example, if you have a module stored in \u0026lt;code\u0026gt;\u0026quot;/path/to/module\u0026lt;/code\u0026gt;\u0026quot; with the function \u0026lt;code\u0026gt;foo()\u0026lt;/code\u0026gt;, you could run it by doing the following:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;module = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;dict\u0026lt;/span\u0026gt;()\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;with\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;open\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/path/to/module\u0026quot;\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; f:\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;exec\u0026lt;/span\u0026gt;(f.read(), module)\nmodule[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;]()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This makes it a bit more explicit that you\u0026apos;re loading code dynamically, and grants you some additional power, such as the ability to provide custom builtins.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;And if having access through attributes, instead of keys is important to you, you can design a custom dict class for the globals, that provides such access, e.g.:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;MyModuleClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_ inherited__\u0026quot;\u0026gt;dict\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;__getattr__\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;self, name\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; self.__getitem__(name)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;To add to \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/67631/how-to-import-a-module-given-the-full-path/67692#67692\u0026quot;\u0026gt;Sebastian Rittau\u0026lt;/a\u0026gt;\u0026apos;s answer:\nAt least for \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/CPython\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;CPython\u0026lt;/a\u0026gt;, there\u0026apos;s \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/pydoc.html\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;pydoc\u0026lt;/a\u0026gt;, and, while not officially declared, importing files is what it does:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; pydoc \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; importfile\nmodule = importfile(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/path/to/module.py\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;PS.\u0026lt;/strong\u0026gt; For the sake of completeness, there\u0026apos;s a reference to the current implementation at the moment of writing: \u0026lt;a href=\u0026quot;https://github.com/python/cpython/blob/9c3eaf88dc5d5bed80cc45936de06b7b3162bc6d/Lib/pydoc.py#L392\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;pydoc.py\u0026lt;/a\u0026gt;, and I\u0026apos;m pleased to say that in the vein of \u0026lt;a href=\u0026quot;https://xkcd.com/1987/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;xkcd 1987\u0026lt;/a\u0026gt; it uses neither of the implementations mentioned in \u0026lt;a href=\u0026quot;https://bugs.python.org/issue21436\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;issue 21436\u0026lt;/a\u0026gt; -- at least, not verbatim.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This should work\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;path = os.path.join(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;./path/to/folder/with/py/files\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*.py\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; infile \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; glob.glob(path):\n    basename = os.path.basename(infile)\n    basename_without_extension = basename[:-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;]\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# http://docs.python.org/library/imp.html?highlight=imp#module-imp\u0026lt;/span\u0026gt;\n    imp.load_source(basename_without_extension, infile)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Import package modules at runtime (Python recipe)\u0026lt;/strong\u0026gt; \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://code.activestate.com/recipes/223972/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;http://code.activestate.com/recipes/223972/\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;###################\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;##                #\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;## classloader.py #\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;##                #\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;###################\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; sys, types\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_get_mod\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;modulePath\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt;:\n        aMod = sys.modules[modulePath]\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;isinstance\u0026lt;/span\u0026gt;(aMod, types.ModuleType):\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;raise\u0026lt;/span\u0026gt; KeyError\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;except\u0026lt;/span\u0026gt; KeyError:\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# The last [\u0026apos;\u0026apos;] is very important!\u0026lt;/span\u0026gt;\n        aMod = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;__import__\u0026lt;/span\u0026gt;(modulePath, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;globals\u0026lt;/span\u0026gt;(), \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;locals\u0026lt;/span\u0026gt;(), [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;])\n        sys.modules[modulePath] = aMod\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; aMod\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_get_func\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;fullFuncName\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026quot;Retrieve a function object from a full dotted-package name.\u0026quot;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Parse out the path, module, and function\u0026lt;/span\u0026gt;\n    lastDot = fullFuncName.rfind(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;u\u0026quot;.\u0026quot;\u0026lt;/span\u0026gt;)\n    funcName = fullFuncName[lastDot + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;:]\n    modPath = fullFuncName[:lastDot]\n\n    aMod = _get_mod(modPath)\n    aFunc = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getattr\u0026lt;/span\u0026gt;(aMod, funcName)\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Assert that the function is a *callable* attribute.\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;assert\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;callable\u0026lt;/span\u0026gt;(aFunc), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;u\u0026quot;%s is not callable.\u0026quot;\u0026lt;/span\u0026gt; % fullFuncName\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Return a reference to the function itself,\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# not the results of the function.\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; aFunc\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_get_class\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;fullClassName, parentClass=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026quot;Load a module and retrieve a class (NOT an instance).\n\n    If the parentClass is supplied, className must be of parentClass\n    or a subclass of parentClass (or None is returned).\n    \u0026quot;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;\n    aClass = _get_func(fullClassName)\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Assert that the class is a subclass of parentClass.\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; parentClass \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;issubclass\u0026lt;/span\u0026gt;(aClass, parentClass):\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;raise\u0026lt;/span\u0026gt; TypeError(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;u\u0026quot;%s is not a subclass of %s\u0026quot;\u0026lt;/span\u0026gt; %\n                            (fullClassName, parentClass))\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Return a reference to the class itself, not an instantiated object.\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; aClass\n\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;######################\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;##       Usage      ##\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;######################\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;StorageManager\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;pass\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;StorageManagerMySQL\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_ inherited__\u0026quot;\u0026gt;StorageManager\u0026lt;/span\u0026gt;): \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;pass\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;storage_object\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;aFullClassName, allOptions={}\u0026lt;/span\u0026gt;):\n    aStoreClass = _get_class(aFullClassName, StorageManager)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; aStoreClass(allOptions)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In Linux, adding a symbolic link in the directory your Python script is located works.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I.e.:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;ln -s /absolute/path/to/module/module.py /absolute/path/to/script/module.py\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The Python interpreter will create \u0026lt;code\u0026gt;/absolute/path/to/script/module.pyc\u0026lt;/code\u0026gt; and will update it if you change the contents of \u0026lt;code\u0026gt;/absolute/path/to/module/module.py\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Then include the following in file \u0026lt;em\u0026gt;mypythonscript.py\u0026lt;/em\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; module \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; *\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This will allow imports of compiled (pyd) Python modules in 3.4:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; sys\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; importlib.machinery\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;load_module\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;name, filename\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# If the Loader finds the module name in this list it will use\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# module_name.__file__ instead so we need to delete it here\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; name \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; sys.modules:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;del\u0026lt;/span\u0026gt; sys.modules[name]\n    loader = importlib.machinery.ExtensionFileLoader(name, filename)\n    module = loader.load_module()\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;locals\u0026lt;/span\u0026gt;()[name] = module\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;globals\u0026lt;/span\u0026gt;()[name] = module\n\nload_module(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;something\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026apos;C:\\Path\\To\\something.pyd\u0026apos;\u0026lt;/span\u0026gt;)\nsomething.do_something()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;A quite simple way: suppose you want import file with relative path ../../MyLibs/pyfunc.py\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;libPath = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;../../MyLibs\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; sys\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; libPath \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; sys.path: sys.path.append(libPath)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; pyfunc \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; pf\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;But if you make it without a guard you can finally get a very long path.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I have written my own global and portable import function, based on \u0026lt;code\u0026gt;importlib\u0026lt;/code\u0026gt; module, for:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Be able to import both modules as submodules and to import the content of a module to a parent module (or into a globals if has no parent module).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Be able to import modules with a period characters in a file name.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Be able to import modules with any extension.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Be able to use a standalone name for a submodule instead of a file name without extension which is by default.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Be able to define the import order based on previously imported module instead of dependent on \u0026lt;code\u0026gt;sys.path\u0026lt;/code\u0026gt; or on a what ever search path storage.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;The examples directory structure:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026amp;lt;root\u0026amp;gt;\n |\n +- test.py\n |\n +- testlib.py\n |\n +- /std1\n |   |\n |   +- testlib.std1.py\n |\n +- /std2\n |   |\n |   +- testlib.std2.py\n |\n +- /std3\n     |\n     +- testlib.std3.py\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Inclusion dependency and order:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;test.py\n  -\u0026amp;gt; testlib.py\n    -\u0026amp;gt; testlib.std1.py\n      -\u0026amp;gt; testlib.std2.py\n    -\u0026amp;gt; testlib.std3.py\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Implementation:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Latest changes store: \u0026lt;a href=\u0026quot;https://sourceforge.net/p/tacklelib/tacklelib/HEAD/tree/trunk/python/tacklelib/tacklelib.py\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://sourceforge.net/p/tacklelib/tacklelib/HEAD/tree/trunk/python/tacklelib/tacklelib.py\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;test.py\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os, sys, inspect, copy\n\nSOURCE_FILE = os.path.abspath(inspect.getsourcefile(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)).replace(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\\\\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/\u0026apos;\u0026lt;/span\u0026gt;)\nSOURCE_DIR = os.path.dirname(SOURCE_FILE)\n\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;test::SOURCE_FILE: \u0026quot;\u0026lt;/span\u0026gt;, SOURCE_FILE)\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# portable import to the global space\u0026lt;/span\u0026gt;\nsys.path.append(TACKLELIB_ROOT) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# TACKLELIB_ROOT - path to the library directory\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; tacklelib \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; tkl\n\ntkl.tkl_init(tkl)\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# cleanup\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;del\u0026lt;/span\u0026gt; tkl \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# must be instead of `tkl = None`, otherwise the variable would be still persist\u0026lt;/span\u0026gt;\nsys.path.pop()\n\ntkl_import_module(SOURCE_DIR, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib.py\u0026apos;\u0026lt;/span\u0026gt;)\n\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;globals\u0026lt;/span\u0026gt;().keys())\n\ntestlib.base_test()\ntestlib.testlib_std1.std1_test()\ntestlib.testlib_std1.testlib_std2.std2_test()\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#testlib.testlib.std3.std3_test()                             # does not reachable directly ...\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getattr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;globals\u0026lt;/span\u0026gt;()[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib\u0026apos;\u0026lt;/span\u0026gt;], \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib.std3\u0026apos;\u0026lt;/span\u0026gt;).std3_test()     \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# ... but reachable through the `globals` + `getattr`\u0026lt;/span\u0026gt;\n\ntkl_import_module(SOURCE_DIR, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib.py\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;)\n\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;globals\u0026lt;/span\u0026gt;().keys())\n\nbase_test()\ntestlib_std1.std1_test()\ntestlib_std1.testlib_std2.std2_test()\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#testlib.std3.std3_test()                                     # does not reachable directly ...\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;globals\u0026lt;/span\u0026gt;()[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib.std3\u0026apos;\u0026lt;/span\u0026gt;].std3_test()                         \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# ... but reachable through the `globals` + `getattr`\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;testlib.py\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# optional for 3.4.x and higher\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#import os, inspect\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#SOURCE_FILE = os.path.abspath(inspect.getsourcefile(lambda:0)).replace(\u0026apos;\\\\\u0026apos;,\u0026apos;/\u0026apos;)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#SOURCE_DIR = os.path.dirname(SOURCE_FILE)\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1 testlib::SOURCE_FILE: \u0026quot;\u0026lt;/span\u0026gt;, SOURCE_FILE)\n\ntkl_import_module(SOURCE_DIR + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/std1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib.std1.py\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib_std1\u0026apos;\u0026lt;/span\u0026gt;)\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# SOURCE_DIR is restored here\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;2 testlib::SOURCE_FILE: \u0026quot;\u0026lt;/span\u0026gt;, SOURCE_FILE)\n\ntkl_import_module(SOURCE_DIR + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/std3\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib.std3.py\u0026apos;\u0026lt;/span\u0026gt;)\n\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;3 testlib::SOURCE_FILE: \u0026quot;\u0026lt;/span\u0026gt;, SOURCE_FILE)\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;base_test\u0026lt;/span\u0026gt;():\n  \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;base_test\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;testlib.std1.py\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# optional for 3.4.x and higher\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#import os, inspect\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#SOURCE_FILE = os.path.abspath(inspect.getsourcefile(lambda:0)).replace(\u0026apos;\\\\\u0026apos;,\u0026apos;/\u0026apos;)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#SOURCE_DIR = os.path.dirname(SOURCE_FILE)\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;testlib.std1::SOURCE_FILE: \u0026quot;\u0026lt;/span\u0026gt;, SOURCE_FILE)\n\ntkl_import_module(SOURCE_DIR + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/../std2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib.std2.py\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib_std2\u0026apos;\u0026lt;/span\u0026gt;)\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;std1_test\u0026lt;/span\u0026gt;():\n  \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;std1_test\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;testlib.std2.py\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# optional for 3.4.x and higher\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#import os, inspect\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#SOURCE_FILE = os.path.abspath(inspect.getsourcefile(lambda:0)).replace(\u0026apos;\\\\\u0026apos;,\u0026apos;/\u0026apos;)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#SOURCE_DIR = os.path.dirname(SOURCE_FILE)\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;testlib.std2::SOURCE_FILE: \u0026quot;\u0026lt;/span\u0026gt;, SOURCE_FILE)\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;std2_test\u0026lt;/span\u0026gt;():\n  \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;std2_test\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;testlib.std3.py\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# optional for 3.4.x and higher\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#import os, inspect\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#SOURCE_FILE = os.path.abspath(inspect.getsourcefile(lambda:0)).replace(\u0026apos;\\\\\u0026apos;,\u0026apos;/\u0026apos;)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#SOURCE_DIR = os.path.dirname(SOURCE_FILE)\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;testlib.std3::SOURCE_FILE: \u0026quot;\u0026lt;/span\u0026gt;, SOURCE_FILE)\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;std3_test\u0026lt;/span\u0026gt;():\n  \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;std3_test\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Output\u0026lt;/strong\u0026gt; (\u0026lt;code\u0026gt;3.7.4\u0026lt;/code\u0026gt;):\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;test::SOURCE_FILE:  \u0026amp;lt;root\u0026amp;gt;/test01/test.py\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; : \u0026amp;lt;root\u0026amp;gt;/test01/testlib.py \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; testlib -\u0026amp;gt; []\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; testlib::SOURCE_FILE:  \u0026amp;lt;root\u0026amp;gt;/test01/testlib.py\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; : \u0026amp;lt;root\u0026amp;gt;/test01/std1/testlib.std1.py \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; testlib_std1 -\u0026amp;gt; [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; : \u0026amp;lt;root\u0026amp;gt;/test01/std1/../std2/testlib.std2.py \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; testlib_std2 -\u0026amp;gt; [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib_std1\u0026apos;\u0026lt;/span\u0026gt;]\ntestlib.std2::SOURCE_FILE:  \u0026amp;lt;root\u0026amp;gt;/test01/std1/../std2/testlib.std2.py\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; testlib::SOURCE_FILE:  \u0026amp;lt;root\u0026amp;gt;/test01/testlib.py\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; : \u0026amp;lt;root\u0026amp;gt;/test01/std3/testlib.std3.py \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; testlib.std3 -\u0026amp;gt; [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib\u0026apos;\u0026lt;/span\u0026gt;]\ntestlib.std3::SOURCE_FILE:  \u0026amp;lt;root\u0026amp;gt;/test01/std3/testlib.std3.py\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt; testlib::SOURCE_FILE:  \u0026amp;lt;root\u0026amp;gt;/test01/testlib.py\ndict_keys([\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__name__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__doc__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__package__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__loader__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__spec__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__annotations__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__builtins__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__file__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__cached__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;os\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;sys\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;inspect\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;copy\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;SOURCE_FILE\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;SOURCE_DIR\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;TackleGlobalImportModuleState\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;tkl_membercopy\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;tkl_merge_module\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;tkl_get_parent_imported_module_state\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;tkl_declare_global\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;tkl_import_module\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;TackleSourceModuleState\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;tkl_source_module\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;TackleLocalImportModuleState\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib\u0026apos;\u0026lt;/span\u0026gt;])\nbase_test\nstd1_test\nstd2_test\nstd3_test\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; : \u0026amp;lt;root\u0026amp;gt;/test01/testlib.py \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; . -\u0026amp;gt; []\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; testlib::SOURCE_FILE:  \u0026amp;lt;root\u0026amp;gt;/test01/testlib.py\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; : \u0026amp;lt;root\u0026amp;gt;/test01/std1/testlib.std1.py \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; testlib_std1 -\u0026amp;gt; [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; : \u0026amp;lt;root\u0026amp;gt;/test01/std1/../std2/testlib.std2.py \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; testlib_std2 -\u0026amp;gt; [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib_std1\u0026apos;\u0026lt;/span\u0026gt;]\ntestlib.std2::SOURCE_FILE:  \u0026amp;lt;root\u0026amp;gt;/test01/std1/../std2/testlib.std2.py\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; testlib::SOURCE_FILE:  \u0026amp;lt;root\u0026amp;gt;/test01/testlib.py\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; : \u0026amp;lt;root\u0026amp;gt;/test01/std3/testlib.std3.py \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; testlib.std3 -\u0026amp;gt; [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib\u0026apos;\u0026lt;/span\u0026gt;]\ntestlib.std3::SOURCE_FILE:  \u0026amp;lt;root\u0026amp;gt;/test01/std3/testlib.std3.py\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt; testlib::SOURCE_FILE:  \u0026amp;lt;root\u0026amp;gt;/test01/testlib.py\ndict_keys([\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__name__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__doc__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__package__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__loader__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__spec__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__annotations__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__builtins__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__file__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;__cached__\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;os\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;sys\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;inspect\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;copy\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;SOURCE_FILE\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;SOURCE_DIR\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;TackleGlobalImportModuleState\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;tkl_membercopy\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;tkl_merge_module\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;tkl_get_parent_imported_module_state\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;tkl_declare_global\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;tkl_import_module\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;TackleSourceModuleState\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;tkl_source_module\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;TackleLocalImportModuleState\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib_std1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;testlib.std3\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;base_test\u0026apos;\u0026lt;/span\u0026gt;])\nbase_test\nstd1_test\nstd2_test\nstd3_test\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Tested in Python \u0026lt;code\u0026gt;3.7.4\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;3.2.5\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;2.7.16\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Pros\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Can import both module as a submodule and can import content of a module to a parent module (or into a globals if has no parent module).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Can import modules with periods in a file name.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Can import any extension module from any extension module.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Can use a standalone name for a submodule instead of a file name without extension which is by default (for example, \u0026lt;code\u0026gt;testlib.std.py\u0026lt;/code\u0026gt; as \u0026lt;code\u0026gt;testlib\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;testlib.blabla.py\u0026lt;/code\u0026gt; as \u0026lt;code\u0026gt;testlib_blabla\u0026lt;/code\u0026gt; and so on).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Does not depend on a \u0026lt;code\u0026gt;sys.path\u0026lt;/code\u0026gt; or on a what ever search path storage.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Does not require to save/restore global variables like \u0026lt;code\u0026gt;SOURCE_FILE\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;SOURCE_DIR\u0026lt;/code\u0026gt; between calls to \u0026lt;code\u0026gt;tkl_import_module\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;[for \u0026lt;code\u0026gt;3.4.x\u0026lt;/code\u0026gt; and higher] Can mix the module namespaces in nested \u0026lt;code\u0026gt;tkl_import_module\u0026lt;/code\u0026gt; calls (ex: \u0026lt;code\u0026gt;named-\u0026amp;gt;local-\u0026amp;gt;named\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;local-\u0026amp;gt;named-\u0026amp;gt;local\u0026lt;/code\u0026gt; and so on).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;[for \u0026lt;code\u0026gt;3.4.x\u0026lt;/code\u0026gt; and higher] Can auto export global variables/functions/classes from where being declared to all children modules imported through the \u0026lt;code\u0026gt;tkl_import_module\u0026lt;/code\u0026gt; (through the \u0026lt;code\u0026gt;tkl_declare_global\u0026lt;/code\u0026gt; function).\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Cons\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;[for \u0026lt;code\u0026gt;3.3.x\u0026lt;/code\u0026gt; and lower] Require to declare \u0026lt;code\u0026gt;tkl_import_module\u0026lt;/code\u0026gt; in all modules which calls to \u0026lt;code\u0026gt;tkl_import_module\u0026lt;/code\u0026gt; (code duplication)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Update 1,2\u0026lt;/strong\u0026gt; (for \u0026lt;code\u0026gt;3.4.x\u0026lt;/code\u0026gt; and higher only):\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;In Python 3.4 and higher you can bypass the requirement to declare \u0026lt;code\u0026gt;tkl_import_module\u0026lt;/code\u0026gt; in each module by declare \u0026lt;code\u0026gt;tkl_import_module\u0026lt;/code\u0026gt; in a top level module and the function would inject itself to all children modules in a single call (it\u0026apos;s a kind of self deploy import).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Update 3\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Added function \u0026lt;code\u0026gt;tkl_source_module\u0026lt;/code\u0026gt; as analog to bash \u0026lt;code\u0026gt;source\u0026lt;/code\u0026gt; with support execution guard upon import (implemented through the module merge instead of import).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Update 4\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Added function \u0026lt;code\u0026gt;tkl_declare_global\u0026lt;/code\u0026gt; to auto export a module global variable to all children modules where a module global variable is not visible because is not a part of a child module.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Update 5\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;All functions has moved into the tacklelib library, see the link above.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;These are my two utility functions using only pathlib. It infers the module name from the path.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;By default, it recursively loads all Python files from folders and replaces \u0026lt;strong\u0026gt;init\u0026lt;/strong\u0026gt;.py by the parent folder name. But you can also give a Path and/or a glob to select some specific files.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; pathlib \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; Path\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; importlib.util \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; spec_from_file_location, module_from_spec\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; typing \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Optional\u0026lt;/span\u0026gt;\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get_module_from_path\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;path: Path, relative_to: \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Optional\u0026lt;/span\u0026gt;[Path] = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; relative_to:\n        relative_to = Path.cwd()\n\n    abs_path = path.absolute()\n    relative_path = abs_path.relative_to(relative_to.absolute())\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; relative_path.name == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;__init__.py\u0026quot;\u0026lt;/span\u0026gt;:\n        relative_path = relative_path.parent\n    module_name = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;.\u0026quot;\u0026lt;/span\u0026gt;.join(relative_path.with_suffix(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;).parts)\n    mod = module_from_spec(spec_from_file_location(module_name, path))\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; mod\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get_modules_from_folder\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;folder: \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Optional\u0026lt;/span\u0026gt;[Path] = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;, glob_str: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;*/**/*.py\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; folder:\n        folder = Path(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;.\u0026quot;\u0026lt;/span\u0026gt;)\n\n    mod_list = []\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; file_path \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt;(folder.glob(glob_str)):\n        mod_list.append(get_module_from_path(file_path))\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; mod_list\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here\u0026apos;s a way of loading files sort of like C, etc.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; importlib.machinery \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; SourceFileLoader\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;LOAD\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;MODULE_PATH\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (MODULE_PATH[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;] == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/\u0026quot;\u0026lt;/span\u0026gt;):\n        FULL_PATH = MODULE_PATH;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n        DIR_PATH = os.path.dirname (os.path.realpath (__file__))\n        FULL_PATH = os.path.normpath (DIR_PATH + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/\u0026quot;\u0026lt;/span\u0026gt; + MODULE_PATH)\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; SourceFileLoader (FULL_PATH, FULL_PATH).load_module ()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Implementations where:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;Y = LOAD(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;../Z.py\u0026quot;\u0026lt;/span\u0026gt;)\nA = LOAD(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;./A.py\u0026quot;\u0026lt;/span\u0026gt;)\nD = LOAD(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;./C/D.py\u0026quot;\u0026lt;/span\u0026gt;)\nA_ = LOAD(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/IMPORTS/A.py\u0026quot;\u0026lt;/span\u0026gt;)\n\nY.DEF();\nA.DEF();\nD.DEF();\nA_.DEF();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Where each of the files looks like this:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;DEF\u0026lt;/span\u0026gt;():\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":482,"title":"How do I import a module given the full path?","content":"\n                \n\u0026lt;p\u0026gt;How do I load a Python module given its full path?\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Note that the file can be anywhere in the filesystem.\u0026lt;/p\u0026gt;\n    ","slug":"how-do-i-import-a-module-given-the-full-path-1657388139965","postType":"QUESTION","createdAt":"2022-07-09T17:35:39.000Z","updatedAt":"2022-07-09T17:35:39.000Z","tags":[{"id":2433,"name":"python-import","slug":"python-import","createdAt":"2022-07-09T17:35:40.000Z","updatedAt":"2022-07-09T17:35:40.000Z","Questions_Tags":{"questionId":482,"tagId":2433}}],"relatedQuestions":[{"title":"How do I import a module given the full path?","slug":"how-do-i-import-a-module-given-the-full-path-1657388139965","tags":[{"name":"python-import","Questions_Tags":{"questionId":482,"tagId":2433}}]}]},"randomQuestions":[{"title":"How should a model be structured in MVC? [closed]","slug":"how-should-a-model-be-structured-in-mvc-closed-1657388394807"},{"title":"How do I clone a list so that it doesn't change unexpectedly after assignment?","slug":"how-do-i-clone-a-list-so-that-it-doesn't-change-unexpectedly-after-assignment-1657384423195"},{"title":"Why don't flex items shrink past content size?","slug":"why-don't-flex-items-shrink-past-content-size-1657384687282"},{"title":"What is DOM Event delegation?","slug":"what-is-dom-event-delegation-1657387625599"},{"title":"What are the nuances of scope prototypal / prototypical inheritance in AngularJS?","slug":"what-are-the-nuances-of-scope-prototypal-prototypical-inheritance-in-angularjs-1657387340067"},{"title":"Deep cloning objects","slug":"deep-cloning-objects-1657387930865"},{"title":"JavaScript closure inside loops â simple practical example","slug":"javascript-closure-inside-loops-simple-practical-example-1657384278449"},{"title":"Select first row in each GROUP BY group?","slug":"select-first-row-in-each-group-by-group-1657384809388"},{"title":"Get top 1 row of each group","slug":"get-top-1-row-of-each-group-1657387438304"},{"title":"Random number generator only generating one random number","slug":"random-number-generator-only-generating-one-random-number-1657385468315"},{"title":"re.findall behaves weird","slug":"re.findall-behaves-weird-1657388408049"},{"title":"Change the maximum upload file size","slug":"change-the-maximum-upload-file-size-1657388495156"},{"title":"How to create a GUID / UUID","slug":"how-to-create-a-guid-uuid-1657387749530"},{"title":"SQL select only rows with max value on a column [duplicate]","slug":"sql-select-only-rows-with-max-value-on-a-column-duplicate-1657384614292"},{"title":"Scroll to an element with jQuery","slug":"scroll-to-an-element-with-jquery-1657388523178"},{"title":"How to generate a self-signed SSL certificate using OpenSSL? [closed]","slug":"how-to-generate-a-self-signed-ssl-certificate-using-openssl-closed-1657388298626"},{"title":"How to use java.util.Scanner to correctly read user input from System.in and act on it?","slug":"how-to-use-java.util.scanner-to-correctly-read-user-input-from-system.in-and-act-on-it-1657388546306"},{"title":"Why does my JavaScript code receive a \"No 'Access-Control-Allow-Origin' header is present on the requested resource\" error, while Postman does not?","slug":"why-does-my-javascript-code-receive-a-\"no-'access-control-allow-origin'-header-is-present-on-the-requested-resource\"-error-while-postman-does-not-1657384636363"},{"title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","slug":"what-causes-a-java.lang.arrayindexoutofboundsexception-and-how-do-i-prevent-it-1657384370848"},{"title":"How to include a PHP variable inside a MySQL statement","slug":"how-to-include-a-php-variable-inside-a-mysql-statement-1657387669365"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-do-i-import-a-module-given-the-full-path-1657388139965"},"buildId":"xZs8haGjOP63QuDE0kxeX","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>