{"pageProps":{"data":{"answer":["\n&lt;p&gt;The variable &lt;code&gt;photo&lt;/code&gt; is a local variable which gets garbage collected after the class is instantiated. Save a reference to the photo, for example:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;self.photo = tkinter.PhotoImage(...)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;If you do a Google search on &quot;tkinter image doesn&apos;t display&quot;, the first result is this:&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20201111190625id_/http://effbot.org/pyfaq/why-do-my-tkinter-images-not-appear.htm&quot; rel=&quot;noreferrer&quot;&gt;Why do my Tkinter images not appear?&lt;/a&gt; (The FAQ answer is currently &lt;em&gt;not&lt;/em&gt; outdated)&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; tkinter &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; *\n&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; PIL &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; ImageTk, Image\n\nroot = Tk()\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;open_img&lt;/span&gt;():\n    &lt;span class=&quot;hljs-keyword&quot;&gt;global&lt;/span&gt; img\n    path = &lt;span class=&quot;hljs-string&quot;&gt;r&quot;C:\\.....\\\\&quot;&lt;/span&gt;\n    img = ImageTk.PhotoImage(Image.&lt;span class=&quot;hljs-built_in&quot;&gt;open&lt;/span&gt;(path))\n    panel = Label(root, image=img)\n    panel.pack(side=&lt;span class=&quot;hljs-string&quot;&gt;&quot;bottom&quot;&lt;/span&gt;, fill=&lt;span class=&quot;hljs-string&quot;&gt;&quot;both&quot;&lt;/span&gt;)\nbut1 = Button(root, text=&lt;span class=&quot;hljs-string&quot;&gt;&quot;click to get the image&quot;&lt;/span&gt;, command=open_img)\nbut1.pack()\nroot.mainloop() \n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Just add global to the img definition and it will work&lt;/p&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;The problem is Python automatically deletes the references to the variable by a process known as &lt;a href=&quot;https://www.tutorialspoint.com/How-does-garbage-collection-work-in-Python&quot; rel=&quot;nofollow noreferrer&quot;&gt;Garbage Collection&lt;/a&gt;. The solution is to save the reference or to create a new reference.&lt;/p&gt;\n&lt;p&gt;The following are the ways:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;Using &lt;code&gt;self&lt;/code&gt; to increase the reference count and to save the reference.&lt;/li&gt;\n&lt;/ol&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; tkinter\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Test&lt;/span&gt;:\n    &lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;__init__&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;self, master&lt;/span&gt;):\n        canvas = tkinter.Canvas(master)\n        canvas.grid(row = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, column = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n        self.photo = tkinter.PhotoImage(file = &lt;span class=&quot;hljs-string&quot;&gt;&apos;./test.gif&apos;&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;# Changes here&lt;/span&gt;\n        canvas.create_image(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, image=self.photo) &lt;span class=&quot;hljs-comment&quot;&gt;# Changes here&lt;/span&gt;\n\nroot = tkinter.Tk()\ntest = Test(root)\nroot.mainloop()\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ol start=&quot;2&quot;&gt;\n&lt;li&gt;Saving it to a list to increase the reference count and to save the reference.&lt;/li&gt;\n&lt;/ol&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; tkinter\nl=[]\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Test&lt;/span&gt;:\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;__init__&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;self, master&lt;/span&gt;):\n        canvas = tkinter.Canvas(master)\n        canvas.grid(row = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, column = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n        photo = tkinter.PhotoImage(file = &lt;span class=&quot;hljs-string&quot;&gt;&apos;./test.gif&apos;&lt;/span&gt;)\n        l.append(photo)\n        canvas.create_image(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, image=photo)\n\nroot = tkinter.Tk()\ntest = Test(root)\nroot.mainloop()\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;While using method 2, you can either make a global list as i did or use list inside the class. Both would work.&lt;/p&gt;\n&lt;p&gt;Some useful links:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;https://www.tutorialspoint.com/How-does-garbage-collection-work-in-Python&quot; rel=&quot;nofollow noreferrer&quot;&gt;About Garbage Collection 1&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://towardsdatascience.com/memory-management-and-garbage-collection-in-python-c1cb51d1612c&quot; rel=&quot;nofollow noreferrer&quot;&gt;About Garbage Collection 2 (&lt;em&gt;More useful&lt;/em&gt;)&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;Just add &lt;code&gt;global photo&lt;/code&gt; as the first line inside the function.&lt;/p&gt;\n    "],"id":246,"title":"Why does Tkinter image not show up if created in a function?","content":"\n                \n&lt;p&gt;This code works:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; tkinter\n\nroot = tkinter.Tk()\ncanvas = tkinter.Canvas(root)\ncanvas.grid(row = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, column = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\nphoto = tkinter.PhotoImage(file = &lt;span class=&quot;hljs-string&quot;&gt;&apos;./test.gif&apos;&lt;/span&gt;)\ncanvas.create_image(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, image=photo)\nroot.mainloop()\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It shows me the image.&lt;/p&gt;\n\n&lt;p&gt;Now, this code compiles but it doesn&apos;t show me the image, and I don&apos;t know why, because it&apos;s the same code, in a class:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; tkinter\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Test&lt;/span&gt;:\n    &lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;__init__&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;self, master&lt;/span&gt;):\n        canvas = tkinter.Canvas(master)\n        canvas.grid(row = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, column = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n        photo = tkinter.PhotoImage(file = &lt;span class=&quot;hljs-string&quot;&gt;&apos;./test.gif&apos;&lt;/span&gt;)\n        canvas.create_image(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, image=photo)\n\nroot = tkinter.Tk()\ntest = Test(root)\nroot.mainloop()\n&lt;/code&gt;&lt;/pre&gt;\n    ","slug":"why-does-tkinter-image-not-show-up-if-created-in-a-function-1657387388233","postType":"QUESTION","createdAt":"2022-07-09T17:23:08.000Z","updatedAt":"2022-07-09T17:23:08.000Z","tags":[{"id":1610,"name":"tkinter-canvas","slug":"tkinter-canvas","createdAt":"2022-07-09T17:23:08.000Z","updatedAt":"2022-07-09T17:23:08.000Z","Questions_Tags":{"questionId":246,"tagId":1610}}],"relatedQuestions":[{"title":"Why does Tkinter image not show up if created in a function?","slug":"why-does-tkinter-image-not-show-up-if-created-in-a-function-1657387388233","tags":[{"name":"tkinter-canvas","Questions_Tags":{"questionId":246,"tagId":1610}}]}]},"randomQuestions":[{"title":"How can I combine two strings together in PHP?","slug":"how-can-i-combine-two-strings-together-in-php-1657388279401"},{"title":"Convert Rows to columns using 'Pivot' in SQL Server","slug":"convert-rows-to-columns-using-'pivot'-in-sql-server-1657388372528"},{"title":"Is there a CSS parent selector?","slug":"is-there-a-css-parent-selector-1657384430692"},{"title":"List of lists changes reflected across sublists unexpectedly","slug":"list-of-lists-changes-reflected-across-sublists-unexpectedly-1657384393720"},{"title":"How to horizontally center an element","slug":"how-to-horizontally-center-an-element-1657384634147"},{"title":"Is there a RegExp.escape function in JavaScript?","slug":"is-there-a-regexp.escape-function-in-javascript-1657387606651"},{"title":"How do I count the occurrences of a list item?","slug":"how-do-i-count-the-occurrences-of-a-list-item-1657387916234"},{"title":"What is PECS (Producer Extends Consumer Super)?","slug":"what-is-pecs-(producer-extends-consumer-super)-1657384828870"},{"title":"How do I list all files of a directory?","slug":"how-do-i-list-all-files-of-a-directory-1657388340404"},{"title":"How to print a number with commas as thousands separators in JavaScript","slug":"how-to-print-a-number-with-commas-as-thousands-separators-in-javascript-1657387777379"},{"title":"How do I match any character across multiple lines in a regular expression?","slug":"how-do-i-match-any-character-across-multiple-lines-in-a-regular-expression-1657387839720"},{"title":"What are the rules about using an underscore in a C++ identifier?","slug":"what-are-the-rules-about-using-an-underscore-in-a-c++-identifier-1657384557197"},{"title":"Why are these constructs using pre and post-increment undefined behavior?","slug":"why-are-these-constructs-using-pre-and-post-increment-undefined-behavior-1657384520109"},{"title":"What is the best way to detect a mobile device?","slug":"what-is-the-best-way-to-detect-a-mobile-device-1657387665025"},{"title":"AsyncTask Android example","slug":"asynctask-android-example-1657388127898"},{"title":"How to make function decorators and chain them together?","slug":"how-to-make-function-decorators-and-chain-them-together-1657388180803"},{"title":"Simulating group_concat MySQL function in Microsoft SQL Server 2005?","slug":"simulating-group_concat-mysql-function-in-microsoft-sql-server-2005-1657384832169"},{"title":"Why do I need to override the equals and hashCode methods in Java?","slug":"why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java-1657388359877"},{"title":"How do you use a variable in a regular expression?","slug":"how-do-you-use-a-variable-in-a-regular-expression-1657387939007"},{"title":"How can I convert ereg expressions to preg in PHP?","slug":"how-can-i-convert-ereg-expressions-to-preg-in-php-1657387652855"}]},"__N_SSG":true}