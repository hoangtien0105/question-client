<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find the solution to any question. We focus on finding the fastest possible solution for users. Main topics like coding, learning. - solutionschecker.com"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><link name="keywords" content="fetch-api,preflight,solutions checker, solution checker, how to, solution for, check for solution, resolve question, what is, what solution for, find solution"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://solutionschecker.com","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://solutionschecker.com/questions","name":"Questions"}},{"@type":"ListItem","position":3,"item":{"@id":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467","name":"Questions"}}]}</script><title>No &#x27;Access-Control-Allow-Origin&#x27; header is present on the requested resource—when trying to get data from a REST API | Solution Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="I&#x27;m trying to fetch some data from the REST API of HP Alm. It works pretty well with a small curl script—I get my data.
Now doing that with JavaScript, fetch and ES6 (more or less) seems to be a bigger issue. I keep getting this error message:

Fetch API cannot load . Response to preflight request doesn&#x27;t
pass access control check: No &#x27;Access-Control-Allow-Origin&#x27; header is
present on the requested resource. Origin &#x27;http://127.0.0.1:3000&#x27; is
therefore not allowed access. The response had HTTP status code 501.
If an opaque response serves your needs, set the request&#x27;s mode to
&#x27;no-cors&#x27; to fetch the resource with CORS disabled.

I understand that this is because I am trying to fetch that data from within my localhost and the solution should be using Cross-Origin Resource Sharing (CORS). I thought I actually did that, but somehow it either ignores what I write in the header or the problem is something else.
So, is there an implementation issue? Am I doing it wrong? I can&#x27;t check the server logs unfortunately. I&#x27;m really a bit stuck here.
function performSignIn() {

  let headers = new Headers();

  headers.append(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;);
  headers.append(&#x27;Accept&#x27;, &#x27;application/json&#x27;);

  headers.append(&#x27;Access-Control-Allow-Origin&#x27;, &#x27;http://localhost:3000&#x27;);
  headers.append(&#x27;Access-Control-Allow-Credentials&#x27;, &#x27;true&#x27;);

  headers.append(&#x27;GET&#x27;, &#x27;POST&#x27;, &#x27;OPTIONS&#x27;);

  headers.append(&#x27;Authorization&#x27;, &#x27;Basic &#x27; + base64.encode(username + &quot;:&quot; + password));

  fetch(sign_in, {
      //mode: &#x27;no-cors&#x27;,
      credentials: &#x27;include&#x27;,
      method: &#x27;POST&#x27;,
      headers: headers
    })
    .then(response =&gt; response.json())
    .then(json =&gt; console.log(json))
    .catch(error =&gt; console.log(&#x27;Authorization failed : &#x27; + error.message));
}

I am using Chrome. I also tried using that Chrome CORS Plugin, but then I am getting another error message:

The value of the &#x27;Access-Control-Allow-Origin&#x27; header in the response
must not be the wildcard &#x27;*&#x27; when the request&#x27;s credentials mode is
&#x27;include&#x27;. Origin &#x27;http://127.0.0.1:3000&#x27; is therefore not allowed
access. The credentials mode of requests initiated by the
XMLHttpRequest is controlled by the withCredentials attribute.

    "/><meta property="og:title" content="No &#x27;Access-Control-Allow-Origin&#x27; header is present on the requested resource—when trying to get data from a REST API | Solution Checker"/><meta property="og:description" content="I&#x27;m trying to fetch some data from the REST API of HP Alm. It works pretty well with a small curl script—I get my data.
Now doing that with JavaScript, fetch and ES6 (more or less) seems to be a bigger issue. I keep getting this error message:

Fetch API cannot load . Response to preflight request doesn&#x27;t
pass access control check: No &#x27;Access-Control-Allow-Origin&#x27; header is
present on the requested resource. Origin &#x27;http://127.0.0.1:3000&#x27; is
therefore not allowed access. The response had HTTP status code 501.
If an opaque response serves your needs, set the request&#x27;s mode to
&#x27;no-cors&#x27; to fetch the resource with CORS disabled.

I understand that this is because I am trying to fetch that data from within my localhost and the solution should be using Cross-Origin Resource Sharing (CORS). I thought I actually did that, but somehow it either ignores what I write in the header or the problem is something else.
So, is there an implementation issue? Am I doing it wrong? I can&#x27;t check the server logs unfortunately. I&#x27;m really a bit stuck here.
function performSignIn() {

  let headers = new Headers();

  headers.append(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;);
  headers.append(&#x27;Accept&#x27;, &#x27;application/json&#x27;);

  headers.append(&#x27;Access-Control-Allow-Origin&#x27;, &#x27;http://localhost:3000&#x27;);
  headers.append(&#x27;Access-Control-Allow-Credentials&#x27;, &#x27;true&#x27;);

  headers.append(&#x27;GET&#x27;, &#x27;POST&#x27;, &#x27;OPTIONS&#x27;);

  headers.append(&#x27;Authorization&#x27;, &#x27;Basic &#x27; + base64.encode(username + &quot;:&quot; + password));

  fetch(sign_in, {
      //mode: &#x27;no-cors&#x27;,
      credentials: &#x27;include&#x27;,
      method: &#x27;POST&#x27;,
      headers: headers
    })
    .then(response =&gt; response.json())
    .then(json =&gt; console.log(json))
    .catch(error =&gt; console.log(&#x27;Authorization failed : &#x27; + error.message));
}

I am using Chrome. I also tried using that Chrome CORS Plugin, but then I am getting another error message:

The value of the &#x27;Access-Control-Allow-Origin&#x27; header in the response
must not be the wildcard &#x27;*&#x27; when the request&#x27;s credentials mode is
&#x27;include&#x27;. Origin &#x27;http://127.0.0.1:3000&#x27; is therefore not allowed
access. The credentials mode of requests initiated by the
XMLHttpRequest is controlled by the withCredentials attribute.

    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"No &apos;Access-Control-Allow-Origin&apos; header is present on the requested resource—when trying to get data from a REST API","text":"I&apos;m trying to fetch some data from the REST API of HP Alm. It works pretty well with a small curl script—I get my data.\nNow doing that with JavaScript, fetch and ES6 (more or less) seems to be a bigger issue. I keep getting this error message:\n\nFetch API cannot load . Response to preflight request doesn&apos;t\npass access control check: No &apos;Access-Control-Allow-Origin&apos; header is\npresent on the requested resource. Origin &apos;http://127.0.0.1:3000&apos; is\ntherefore not allowed access. The response had HTTP status code 501.\nIf an opaque response serves your needs, set the request&apos;s mode to\n&apos;no-cors&apos; to fetch the resource with CORS disabled.\n\nI understand that this is because I am trying to fetch that data from within my localhost and the solution should be using Cross-Origin Resource Sharing (CORS). I thought I actually did that, but somehow it either ignores what I write in the header or the problem is something else.\nSo, is there an implementation issue? Am I doing it wrong? I can&apos;t check the server logs unfortunately. I&apos;m really a bit stuck here.\nfunction performSignIn() {\n\n  let headers = new Headers();\n\n  headers.append(&apos;Content-Type&apos;, &apos;application/json&apos;);\n  headers.append(&apos;Accept&apos;, &apos;application/json&apos;);\n\n  headers.append(&apos;Access-Control-Allow-Origin&apos;, &apos;http://localhost:3000&apos;);\n  headers.append(&apos;Access-Control-Allow-Credentials&apos;, &apos;true&apos;);\n\n  headers.append(&apos;GET&apos;, &apos;POST&apos;, &apos;OPTIONS&apos;);\n\n  headers.append(&apos;Authorization&apos;, &apos;Basic &apos; + base64.encode(username + &quot;:&quot; + password));\n\n  fetch(sign_in, {\n      //mode: &apos;no-cors&apos;,\n      credentials: &apos;include&apos;,\n      method: &apos;POST&apos;,\n      headers: headers\n    })\n    .then(response =&gt; response.json())\n    .then(json =&gt; console.log(json))\n    .catch(error =&gt; console.log(&apos;Authorization failed : &apos; + error.message));\n}\n\nI am using Chrome. I also tried using that Chrome CORS Plugin, but then I am getting another error message:\n\nThe value of the &apos;Access-Control-Allow-Origin&apos; header in the response\nmust not be the wildcard &apos;*&apos; when the request&apos;s credentials mode is\n&apos;include&apos;. Origin &apos;http://127.0.0.1:3000&apos; is therefore not allowed\naccess. The credentials mode of requests initiated by the\nXMLHttpRequest is controlled by the withCredentials attribute.\n\n    ","answerCount":22,"upVoteCount":500,"suggestedAnswer":[{"text":"This answer covers a lot of ground, so its divided into three parts:\n\nHow to use a CORS proxy to avoid No Access-Control-Allow-Origin header problems\nHow to avoid the CORS preflight\nHow to fix Access-Control-Allow-Origin header must not be the wildcard problems\n\n\nHow to use a CORS proxy to avoid No Access-Control-Allow-Origin header problems\nIf you dont control the server your frontend code is sending a request to, and the problem with the response from that server is just the lack of the necessary Access-Control-Allow-Origin header, you can still get things to workby making the request through a CORS proxy.\nYou can easily run your own proxy with code from https://github.com/Rob--W/cors-anywhere/.\nYou can also easily deploy your own proxy to Heroku in just 2-3 minutes, with 5 commands:\ngit clone https://github.com/Rob--W/cors-anywhere.git\ncd cors-anywhere/\nnpm install\nheroku create\ngit push heroku master\n\nAfter running those commands, youll end up with your own CORS Anywhere server running at, e.g., https://cryptic-headland-94862.herokuapp.com/.\nNow, prefix your request URL with the URL for your proxy:\nhttps://cryptic-headland-94862.herokuapp.com/https://example.com\n\nAdding the proxy URL as a prefix causes the request to get made through your proxy, which:\n\nForwards the request to https://example.com.\nReceives the response from https://example.com.\nAdds the Access-Control-Allow-Origin header to the response.\nPasses that response, with that added header, back to the requesting frontend code.\n\nThe browser then allows the frontend code to access the response, because that response with the Access-Control-Allow-Origin response header is what the browser sees.\nThis works even if the request is one that triggers browsers to do a CORS preflight OPTIONS request, because in that case, the proxy also sends the Access-Control-Allow-Headers and Access-Control-Allow-Methods headers needed to make the preflight succeed.\n\nHow to avoid the CORS preflight\nThe code in the question triggers a CORS preflightsince it sends an Authorization header.\nhttps://developer.mozilla.org/docs/Web/HTTP/Access_control_CORS#Preflighted_requests\nEven without that, the Content-Type: application/json header will also trigger a preflight.\nWhat preflight means: before the browser tries the POST in the code in the question, it first sends an OPTIONS request to the server, to determine if the server is opting-in to receiving a cross-origin POST that has Authorization and Content-Type: application/json headers.\n\nIt works pretty well with a small curl script - I get my data.\n\nTo properly test with curl, you must emulate the preflight OPTIONS the browser sends:\ncurl -i -X OPTIONS -H &quot;Origin: http://127.0.0.1:3000&quot; \\\n    -H &apos;Access-Control-Request-Method: POST&apos; \\\n    -H &apos;Access-Control-Request-Headers: Content-Type, Authorization&apos; \\\n    &quot;https://the.sign_in.url&quot;\n\nwith https://the.sign_in.url replaced by whatever your actual sign_in URL is.\nThe response the browser needs from that OPTIONS request must have headers like this:\nAccess-Control-Allow-Origin:  http://127.0.0.1:3000\nAccess-Control-Allow-Methods: POST\nAccess-Control-Allow-Headers: Content-Type, Authorization\n\nIf the OPTIONS response doesnt include those headers, the browser will stop right there and never attempt to send the POST request. Also, the HTTP status code for the response must be a 2xxtypically 200 or 204. If its any other status code, the browser will stop right there.\nThe server in the question responds to the OPTIONS request with a 501 status code, which apparently means its trying to indicate it doesnt implement support for OPTIONS requests. Other servers typically respond with a 405 Method not allowed status code in this case.\nSo youll never be able to make POST requests directly to that server from your frontend JavaScript code if the server responds to that OPTIONS request with a 405 or 501 or anything other than a 200 or 204 or if doesnt respond with those necessary response headers.\nThe way to avoid triggering a preflight for the case in the question would be:\n\nif the server didnt require an Authorization request header but instead, e.g., relied on authentication data embedded in the body of the POST request or as a query param\nif the server didnt require the POST body to have a Content-Type: application/json media type but instead accepted the POST body as application/x-www-form-urlencoded with a parameter named json (or whatever) whose value is the JSON data\n\n\nHow to fix Access-Control-Allow-Origin header must not be the wildcard problems\n\nI am getting another error message:\nThe value of the &apos;Access-Control-Allow-Origin&apos; header in the response\nmust not be the wildcard &apos;*&apos; when the request&apos;s credentials mode is\n&apos;include&apos;. Origin &apos;http://127.0.0.1:3000&apos; is therefore not allowed\naccess. The credentials mode of requests initiated by the\nXMLHttpRequest is controlled by the withCredentials attribute.\n\nFor requests that have credentials, browsers wont let your frontend JavaScript code access the response if the value of the Access-Control-Allow-Origin header is *. Instead the value in that case must exactly match your frontend codes origin, http://127.0.0.1:3000.\nSee Credentialed requests and wildcards in the MDN HTTP access control (CORS) article.\nIf you control the server youre sending the request to, a common way to deal with this case is to configure the server to take the value of the Origin request header, and echo/reflect that back into the value of the Access-Control-Allow-Origin response header; e.g., with nginx:\nadd_header Access-Control-Allow-Origin $http_origin\n\nBut thats just an example; other (web) server systems have similar ways to echo origin values.\n\n\nI am using Chrome. I also tried using that Chrome CORS Plugin\n\nThat Chrome CORS plugin apparently just simplemindedly injects an Access-Control-Allow-Origin: * header into the response the browser sees. If the plugin were smarter, what it would be doing is setting the value of that fake Access-Control-Allow-Origin response header to the actual origin of your frontend JavaScript code, http://127.0.0.1:3000.\nSo avoid using that plugin, even for testing. Its just a distraction. To test what responses you get from the server with no browser filtering them, youre better off using curl -H as above.\n\nAs far as the frontend JavaScript code for the fetch() request in the question:\nheaders.append(&apos;Access-Control-Allow-Origin&apos;, &apos;http://localhost:3000&apos;);\nheaders.append(&apos;Access-Control-Allow-Credentials&apos;, &apos;true&apos;);\n\nRemove those lines. The Access-Control-Allow-* headers are response headers. You never want to send them in requests. The only effect of that is to trigger a browser to do a preflight.\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution1","@type":"Answer","upvoteCount":0},{"text":"This error occurs when the client URL and server URL don&apos;t match, including the port number. In this case you need to enable your service for CORS which is cross origin resource sharing.\nIf you are hosting a Spring REST service then you can find it in the blog post CORS support in Spring Framework.\nIf you are hosting service using a Node.js server then\n\nStop the Node.js server.\nnpm install cors --save\nAdd following lines to your server.js\n\nconst cors=require(&quot;cors&quot;);\nconst corsOptions ={\n   origin:&apos;*&apos;, \n   credentials:true,            //access-control-allow-credentials:true\n   optionSuccessStatus:200,\n}\n\napp.use(cors(corsOptions)) // Use this after the variable declaration\n\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution2","@type":"Answer","upvoteCount":0},{"text":"The problem arose because you added the following code as the request header in your front-end:\nheaders.append(&apos;Access-Control-Allow-Origin&apos;, &apos;http://localhost:3000&apos;);\nheaders.append(&apos;Access-Control-Allow-Credentials&apos;, &apos;true&apos;);\n\nThose headers belong to the response, not request. So remove them, including the line: \nheaders.append(&apos;GET&apos;, &apos;POST&apos;, &apos;OPTIONS&apos;);\n\nYour request had &apos;Content-Type: application/json&apos;, hence triggered what is called CORS preflight. This caused the browser sent the request with the OPTIONS method. See CORS preflight for detailed information.\nTherefore in your back-end, you have to handle this preflighted request by returning the response headers which include:\nAccess-Control-Allow-Origin : http://localhost:3000\nAccess-Control-Allow-Credentials : true\nAccess-Control-Allow-Methods : GET, POST, OPTIONS\nAccess-Control-Allow-Headers : Origin, Content-Type, Accept\n\nOf course, the actual syntax depends on the programming language you use for your back-end.\nIn your front-end, it should be like so:\nfunction performSignIn() {\n    let headers = new Headers();\n\n    headers.append(&apos;Content-Type&apos;, &apos;application/json&apos;);\n    headers.append(&apos;Accept&apos;, &apos;application/json&apos;);\n    headers.append(&apos;Authorization&apos;, &apos;Basic &apos; + base64.encode(username + &quot;:&quot; +  password));\n    headers.append(&apos;Origin&apos;,&apos;http://localhost:3000&apos;);\n\n    fetch(sign_in, {\n        mode: &apos;cors&apos;,\n        credentials: &apos;include&apos;,\n        method: &apos;POST&apos;,\n        headers: headers\n    })\n    .then(response =&gt; response.json())\n    .then(json =&gt; console.log(json))\n    .catch(error =&gt; console.log(&apos;Authorization failed: &apos; + error.message));\n}\n\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution3","@type":"Answer","upvoteCount":0},{"text":"In my case, I use the below solution.\nFront-end or Angular\npost(\n    this.serverUrl, dataObjToPost,\n    {\n      headers: new HttpHeaders({\n           &apos;Content-Type&apos;:  &apos;application/json&apos;,\n         })\n    }\n)\n\nback-end (I use PHP)\nheader(&quot;Access-Control-Allow-Origin: http://localhost:4200&quot;);\nheader(&apos;Access-Control-Allow-Methods: GET, POST, OPTIONS&apos;);\nheader(&quot;Access-Control-Allow-Headers: Content-Type, Authorization&quot;);\n\n$postdata = file_get_contents(&quot;php://input&quot;);\n$request = json_decode($postdata);\nprint_r($request);\n\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution4","@type":"Answer","upvoteCount":0},{"text":"Using dataType: &apos;jsonp&apos; worked for me. \n\n   async function get_ajax_data(){\n       var _reprojected_lat_lng = await $.ajax({\n                                type: &apos;GET&apos;,\n                                dataType: &apos;jsonp&apos;,\n                                data: {},\n                                url: _reprojection_url,\n                                error: function (jqXHR, textStatus, errorThrown) {\n                                    console.log(jqXHR)\n                                },\n                                success: function (data) {\n                                    console.log(data);\n\n                                    // note: data is already json type, you\n                                    //       just specify dataType: jsonp\n                                    return data;\n                                }\n                            });\n\n\n } // function               \n\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution5","@type":"Answer","upvoteCount":0},{"text":"Just my two cents... regarding How to use a CORS proxy to get around No Access-Control-Allow-Origin header problems\nFor those of you working with php at the backend, deploying a &quot;CORS proxy&quot; is as simple as:\n\ncreate a file named &apos;no-cors.php&apos; with the following content:\n$URL = $_GET[&apos;url&apos;];\necho json_encode(file_get_contents($URL));\ndie();\n\n\non your front end, do something like:\nfetch(&apos;https://example.com/no-cors.php&apos; + &apos;?url=&apos; + url)\n  .then(response=&gt;{*/Handle Response/*})`\n\n\n\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution6","@type":"Answer","upvoteCount":0},{"text":"Adding mode:no-cors can avoid CORS issues in the API.\nfetch(sign_in, {\n        mode: &apos;no-cors&apos;,\n        credentials: &apos;include&apos;,\n        method: &apos;POST&apos;,\n        headers: headers\n    })\n    .then(response =&gt; response.json())\n    .then(json =&gt; console.log(json))\n    .catch(error =&gt; console.log(&apos;Authorization failed : &apos; + error.message));\n}\n\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution7","@type":"Answer","upvoteCount":0},{"text":"Possible causes of CORS issues\n\nCheck your server-side access headers: Refer to this link\n\nCheck what request header is received from the server in the browser. The below image shows the headers\n\n\nIf you are using the fetch method and trying to access the cross-origin request make sure mode:cors is there. Refer to this link\n\nSometimes if there is an issue in the program also you are getting the CORS issue, so make sure your code is working properly.\n\nMake sure to handle the OPTION method in your API.\n\n\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution8","@type":"Answer","upvoteCount":0},{"text":"In December 2021, Chrome 97, the Authorization: Bearer ... is not allowed unless it is in the Access-Control-Allow-Headers preflight response (ignores *).  It produced this warning:\n[Deprecation] authorization will not be covered by the wildcard symbol (*)\n\nSee: Chrome Enterprise release notes, Chrome 97\nIt also appears to enforce the same restriction on * on Access-Control-Allow-Origin.  If you want to revive *-like behavior now that it is blocked, you&apos;ll likely have to read the requester&apos;s origin and return it as the allowed origin in the preflight response.\nIn some cases, a library may drop the Access-Control-Allow-Origin response header when there is some other invalid credential (example: an expired JWT).  Then, the browser shows the &quot;No &apos;Access-Control-Allow-Origin&apos; header is present&quot; error instead of the actual error (which in this example could be an expired JWT).  Be sure that your library doesn&apos;t drop the header and confuse the client.\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution9","@type":"Answer","upvoteCount":0},{"text":"If your API is written in ASP.NET Core, then please follow the below steps:\n\nInstall the Microsoft.AspNetCore.Cors package.\n\nAdd the below line in the ConfigureServices method in file Startup.cs:\nservices.AddCors();\n\n\nAdd the below line in the Configure method in file startup.cs:\napp.UseCors(options =&gt;\n     options.WithOrigins(&quot;http://localhost:8080&quot;)\n            .AllowAnyHeader()\n            .AllowAnyMethod());\n\n\nMake sure you add this after - app.UseRouting();\nRefer to the below image(from MSDN) to see the middleware order:\nhttps://i.stack.imgur.com/vQ4yT.png\n\n\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution10","@type":"Answer","upvoteCount":0},{"text":"With Node.js, if you are using routers, make sure to add CORS before the routers. Otherwise, you&apos;ll still get the CORS error. Like below:\nconst cors = require(&apos;cors&apos;);\n\nconst userRouter = require(&apos;./routers/user&apos;);\n\nexpressApp = express();\nexpressApp.use(cors());\nexpressApp.use(express.json());\nexpressApp.use(userRouter);\n\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution11","@type":"Answer","upvoteCount":0},{"text":"In case you are using Node.js and Express.js as the back-end and React &amp; Axios as the front-end within a development environment in macOS, you need to run both sides under HTTPS. Below is what finally worked for me (after many hours of deep dive and testing):\nStep 1: Create an SSL certificate\nJust follow the steps from How to get HTTPS working on your local development environment in 5 minutes.\nYou will end up with a couple of files to be used as credentials to run the HTTPS server and React web:\nserver.key &amp; server.crt\n\nYou need to copy them in the root folders of both the front and back ends (in a production environment, you might consider copying them in folder ./ssh for the back-end).\nStep 2: Back-end setup\nI read a lot of answers proposing the use of &apos;cors&apos; package or even setting (&apos;Access-Control-Allow-Origin&apos;, &apos;*&apos;), which is like saying: &quot;Hackers are welcome to my website&quot;. Just do like this:\nimport express from &apos;express&apos;;\nconst emailRouter = require(&apos;./routes/email&apos;);  // in my case, I was sending an email through a form in React\nconst fs = require(&apos;fs&apos;);\nconst https = require(&apos;https&apos;);\n\nconst app = express();\nconst port = 8000;\n\n// CORS (Cross-Origin Resource Sharing) headers to support Cross-site HTTP requests\napp.all(&apos;*&apos;, (req, res, next) =&gt; {\n    res.header(&quot;Access-Control-Allow-Origin&quot;, &quot;https://localhost:3000&quot;);\n    next();\n});\n\n// Routes definition\napp.use(&apos;/email&apos;, emailRouter);\n\n// HTTPS server\nconst credentials = {\n  key: fs.readFileSync(&apos;server.key&apos;),\n  cert: fs.readFileSync(&apos;server.crt&apos;)\n};\n\nconst httpsServer = https.createServer(credentials, app);\nhttpsServer.listen(port, () =&gt; {\n    console.log(`Back-end running on port ${port}`);\n});\n\nIn case you want to test if the https is OK, you can replace the httpsServer constant by the one below:\nhttps.createServer(credentials, (req: any, res: any) =&gt; {\n  res.writeHead(200);\n  res.end(&quot;hello world from SSL\\n&quot;);\n}).listen(port, () =&gt; {\n  console.log(`HTTPS server listening on port ${port}...`);\n});\n\nAnd then access it from a web browser:   https://localhost:8000/\nStep 3: Front-end setup\nThis is the Axios request from the React front-end:\n    await axios.get(`https://localhost:8000/email/send`, {\n        params: { /* Whatever data you want to send */ },\n        headers: {\n            &apos;Content-Type&apos;: &apos;application/json&apos;,\n        }\n    })\n\nAnd now, you need to launch your React web in HTTPS mode using the credentials for SSL we already created. Type this in your macOS terminal:\nHTTPS=true SSL_CRT_FILE=server.crt SSL_KEY_FILE=server.key npm start\n\nAt this point, you are sending a request from an HTTPS connection at port 3000 from your front-end, to be received by an HTTPS connection at port 8000 by your back-end. CORS should be happy with this ;)\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution12","@type":"Answer","upvoteCount":0},{"text":"I was working with Spring REST, and I solved it adding the AllowedMethods into the WebMvcConfigurer.\n@Value( &quot;${app.allow.origins}&quot; )\n    private String allowOrigins;\n@Bean\npublic WebMvcConfigurer corsConfigurer() {\n    System.out.println(&quot;allow origin: &quot; + allowOrigins);\n    return new WebMvcConfigurerAdapter() {\n        @Override\n        public void addCorsMappings(CorsRegistry registry) {\n            registry.addMapping(&quot;/**&quot;)\n            //.allowedOrigins(&quot;http://localhost&quot;)\n            .allowedOrigins(allowOrigins)\n            .allowedMethods(&quot;PUT&quot;, &quot;DELETE&quot;,&quot;GET&quot;, &quot;POST&quot;);\n        }\n    };\n}\n\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution13","@type":"Answer","upvoteCount":0},{"text":"Remove this:\n\ncredentials: &apos;include&apos;,\n\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution14","@type":"Answer","upvoteCount":0},{"text":"I have encountered this error several times over the past few years -- seemingly showing up out of the blue in a previously functioning website.\nI determined that Chrome (and possibly other browsers) can return this error when there is some unrelated error that occurs on the server that prevents it from processing the CORS request (and prior to returning an HTTP 500 error).\nThese all occurred in a .NET Core environment, and I am not sure if it would happen in other environments.\nAnyway, if your code has functioned before, and seems correct, consider debugging to find if there is some other error that is firing before you go crazy trying to solve an error that isn&apos;t really there.\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution15","@type":"Answer","upvoteCount":0},{"text":"In my case, the web server prevented the &quot;OPTIONS&quot; method\nCheck your web server for the options method\n\nApache: https://www-01.ibm.com/support/docview.wss?uid=ibm10735209\nweb tier: 4.4.6 Disabling the Options Method https://docs.oracle.com/cd/E23943_01/web.1111/e10144/getstart.htm#HSADM174\nnginx: https://medium.com/@hariomvashisth/cors-on-nginx-be38dd0e19df\n\n\nI&apos;m using &quot;webtier&quot;\n/www/webtier/domains/[domainname]/config/fmwconfig/components/OHS/VCWeb1/httpd.conf\n\n&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine on\n  RewriteCond %{REQUEST_METHOD} ^OPTIONS\n  RewriteRule .* . [F]\n&lt;/IfModule&gt;\n\nchange to\n&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine off\n  RewriteCond %{REQUEST_METHOD} ^OPTIONS\n  RewriteRule .* . [F]\n&lt;/IfModule&gt;\n\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution16","@type":"Answer","upvoteCount":0},{"text":"I make this mistake a lot of times, and because of it, I&apos;ve made a &quot;check-list&quot; to all of you.\n\nEnable CORS on your project: If you&apos;re using Node.js (by example) you can use:\nnpm install cors;\nimport cors from &apos;cors&apos;;\napp.use(cors());\n\n\nYou can manually set the headers like this (if you want it):\napp.use((req, res, next) =&gt; {\n    res.setHeader(&apos;Access-Control-Allow-Origin&apos;, &apos;*&apos;);\n    res.setHeader(&apos;Access-Control-Allow-Headers&apos;, &apos;Origin, X-Requested-With, Content-Type, Accept, Authortization&apos;);\n    res.setHeader(&apos;Acces-Control-Allow-Methods&apos;, &apos;GET, POST, PATCH, DELETE&apos;);\n\n\nRemember to add http:// to your API link in your frontend project, some browsers like Chrome do not accept a request using CORS if the request URL isn&apos;t HTTP or HTTPS:\nhttp://localhost:3000/api\n\n\nCheck if your project is using a proxy.config.js file. See Fixing CORS errors with Angular CLI proxy.\n\n\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution17","@type":"Answer","upvoteCount":0},{"text":"When the client used to call our backend service from his host username.companyname.com, he used to get the above error\nTwo things are required:\n\nwhile sending back the response, send the header whose key is Access-Control-Allow-Origin and value is *:\n context.Writer.Header()[&quot;Access-Control-Allow-Origin&quot;] = []string{&quot;*&quot;} // Important to avoid a CORS error\n\n\nUse the Go CORS library to set AllowCredentials to false and AllowAllOrigins to true.\n\n\n\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution18","@type":"Answer","upvoteCount":0},{"text":"For a Node.js and Express.js backend I use this :)\n\n\napp.use(function(req, res, next) {\n  res.header(&quot;Access-Control-Allow-Origin&quot;, &quot;YOUR-DOMAIN.TLD&quot;); // Update to match the domain you will make the request from\n  res.header(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, X-Requested-With, Content-Type, Accept&quot;);\n  next();\n});\n Run code snippetHide resultsExpand snippet\n\n\nFor more details: CORS on ExpressJS\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution19","@type":"Answer","upvoteCount":0},{"text":"Use the below npm module. This has virtually saved lives.\nhttps://www.npmjs.com/package/local-cors-proxy\nYou&apos;re getting a CORS error, for example like the below URL\nhttps://www.google.co.in/search/list\nAfter successfully installed(local-cors-proxy) global npm install -g local-cors-proxy and set proxy URL that CORS URL.\nFor example, here the below CORS issue getting in localhost. So you need to add the domain name(https://www.google.co.in) and port(--port 8010) for the CORS issue domain.\nFor more please check the link\nhttps://www.npmjs.com/package/local-cors-proxy\nlcp --proxyUrl https://www.google.co.in --port 8010\n\nAfter successfully set, it will generate the local proxy URL like below.\nhttp://localhost:8010/proxy\nUse that domain name in your project API URL.\nAPI full URL:\nhttp://localhost:8010/proxy/search/list\nTo get without a CORS issue response in your local project.\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution20","@type":"Answer","upvoteCount":0},{"text":"Try adding all these headers in this code below Before every route, you define in your app, not after the routes\napp.use((req, res, next) =&gt;{\nres.setHeader(&apos;Access-Control-Allow-Origin&apos;, &apos;*&apos;);\nres.setHeader(&apos;Access-Control-Allow-Headers&apos;,&apos;Origin, X-Requested-With, Content-Type,Accept, Authortization&apos;);  \nres.setHeader(&apos;Acces-Control-Allow-Methods&apos;,&apos;GET, POST, PATCH, DELETE&apos;);\n\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution21","@type":"Answer","upvoteCount":0},{"text":"If you are getting this error while deploying React app to netlify, use these steps.\nstep 1: Create netlify.toml file in the root folder of your react app.\nstep 2: Copy paste this code:\n`[[redirects]]\n    from = &quot;/cors-proxy/*&quot;\n    to = &quot;:splat&quot;\n    status = 200\n    force = true`\n\n\nstep3: update your fetch/axios api this way:\n\nIt took me a while to figure this out.\n    ","url":"https://solutionschecker.com/questions/no-&apos;access-control-allow-origin&apos;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#solution22","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="22"/><script id="google-analytics" data-nscript="beforeInteractive">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NXVLL8B');</script><link rel="preload" href="/_next/static/css/c116652e2d6f4ad0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c116652e2d6f4ad0.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-862498b6ec7885c3.js" defer=""></script><script src="/_next/static/chunks/294-106ef8570fa99deb.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-47289857226115f9.js" defer=""></script><script src="/_next/static/xZs8haGjOP63QuDE0kxeX/_buildManifest.js" defer=""></script><script src="/_next/static/xZs8haGjOP63QuDE0kxeX/_ssgManifest.js" defer=""></script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NXVLL8B"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h1 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h1></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/no-&#x27;access-control-allow-origin&#x27;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/no-&#x27;access-control-allow-origin&#x27;-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467"><h1>No &#x27;Access-Control-Allow-Origin&#x27; header is present on the requested resource—when trying to get data from a REST API</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/preflight">preflight</a></div></div><div class="question-content mt-5">
                
<p>I'm trying to fetch some data from the REST API of HP Alm. It works pretty well with a small curl script—I get my data.</p>
<p>Now doing that with JavaScript, fetch and ES6 (more or less) seems to be a bigger issue. I keep getting this error message:</p>
<blockquote>
<p>Fetch API cannot load . Response to preflight request doesn't
pass access control check: No 'Access-Control-Allow-Origin' header is
present on the requested resource. Origin 'http://127.0.0.1:3000' is
therefore not allowed access. The response had HTTP status code 501.
If an opaque response serves your needs, set the request's mode to
'no-cors' to fetch the resource with CORS disabled.</p>
</blockquote>
<p>I understand that this is because I am trying to fetch that data from within my localhost and the solution should be using <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" rel="noreferrer">Cross-Origin Resource Sharing (CORS)</a>. I thought I actually did that, but somehow it either ignores what I write in the header or the problem is something else.</p>
<p>So, is there an implementation issue? Am I doing it wrong? I can't check the server logs unfortunately. I'm really a bit stuck here.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">performSignIn</span>(<span class="hljs-params"></span>) {

  <span class="hljs-keyword">let</span> headers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Headers</span>();

  headers.<span class="hljs-title function_">append</span>(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'application/json'</span>);
  headers.<span class="hljs-title function_">append</span>(<span class="hljs-string">'Accept'</span>, <span class="hljs-string">'application/json'</span>);

  headers.<span class="hljs-title function_">append</span>(<span class="hljs-string">'Access-Control-Allow-Origin'</span>, <span class="hljs-string">'http://localhost:3000'</span>);
  headers.<span class="hljs-title function_">append</span>(<span class="hljs-string">'Access-Control-Allow-Credentials'</span>, <span class="hljs-string">'true'</span>);

  headers.<span class="hljs-title function_">append</span>(<span class="hljs-string">'GET'</span>, <span class="hljs-string">'POST'</span>, <span class="hljs-string">'OPTIONS'</span>);

  headers.<span class="hljs-title function_">append</span>(<span class="hljs-string">'Authorization'</span>, <span class="hljs-string">'Basic '</span> + base64.<span class="hljs-title function_">encode</span>(username + <span class="hljs-string">":"</span> + password));

  <span class="hljs-title function_">fetch</span>(sign_in, {
      <span class="hljs-comment">//mode: 'no-cors',</span>
      <span class="hljs-attr">credentials</span>: <span class="hljs-string">'include'</span>,
      <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
      <span class="hljs-attr">headers</span>: headers
    })
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> response.<span class="hljs-title function_">json</span>())
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">json</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json))
    .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Authorization failed : '</span> + error.<span class="hljs-property">message</span>));
}
</code></pre>
<p>I am using Chrome. I also tried using that Chrome CORS Plugin, but then I am getting another error message:</p>
<blockquote>
<p>The value of the 'Access-Control-Allow-Origin' header in the response
must not be the wildcard '*' when the request's credentials mode is
'include'. Origin 'http://127.0.0.1:3000' is therefore not allowed
access. The credentials mode of requests initiated by the
XMLHttpRequest is controlled by the withCredentials attribute.</p>
</blockquote>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><h1 class="text-lg font-semibold mb-5">Navigate to solutions: </h1><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li><li class="pagination-solution-item"><span data-id="#solution17" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">17</span></li><li class="pagination-solution-item"><span data-id="#solution18" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">18</span></li><li class="pagination-solution-item"><span data-id="#solution19" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">19</span></li><li class="pagination-solution-item"><span data-id="#solution20" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">20</span></li><li class="pagination-solution-item"><span data-id="#solution21" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">21</span></li><li class="pagination-solution-item"><span data-id="#solution22" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">22</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 1</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This answer covers a lot of ground, so its divided into three parts:</p>
<ul>
<li>How to use a CORS proxy to avoid <em>No Access-Control-Allow-Origin header</em> problems</li>
<li>How to avoid the CORS preflight</li>
<li>How to fix <em>Access-Control-Allow-Origin header must not be the wildcard</em> problems</li>
</ul>
<hr>
<p><strong>How to use a CORS proxy to avoid <em>No Access-Control-Allow-Origin header</em> problems</strong></p>
<p>If you dont control the server your frontend code is sending a request to, and the problem with the response from that server is just the lack of the necessary <code>Access-Control-Allow-Origin</code> header, you can still get things to workby making the request through a CORS proxy.</p>
<p>You can easily run your own proxy with code from <a href="https://github.com/Rob--W/cors-anywhere/" rel="noreferrer">https://github.com/Rob--W/cors-anywhere/</a>.<br>
You can also easily deploy your own proxy to Heroku in just 2-3 minutes, with 5 commands:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">git clone <span class="hljs-attr">https</span>:<span class="hljs-comment">//github.com/Rob--W/cors-anywhere.git</span>
cd cors-anywhere/
npm install
heroku create
git push heroku master
</code></pre>
<p>After running those commands, youll end up with your own CORS Anywhere server running at, e.g., <code>https://cryptic-headland-94862.herokuapp.com/</code>.</p>
<p>Now, prefix your request URL with the URL for your proxy:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-attr">https</span>:<span class="hljs-comment">//cryptic-headland-94862.herokuapp.com/https://example.com</span>
</code></pre>
<p>Adding the proxy URL as a prefix causes the request to get made through your proxy, which:</p>
<ol>
<li>Forwards the request to <code>https://example.com</code>.</li>
<li>Receives the response from <code>https://example.com</code>.</li>
<li>Adds the <code>Access-Control-Allow-Origin</code> header to the response.</li>
<li>Passes that response, with that added header, back to the requesting frontend code.</li>
</ol>
<p>The browser then allows the frontend code to access the response, because that response with the <code>Access-Control-Allow-Origin</code> response header is what the browser sees.</p>
<p>This works even if the request is one that triggers browsers to do a CORS preflight <code>OPTIONS</code> request, because in that case, the proxy also sends the <code>Access-Control-Allow-Headers</code> and <code>Access-Control-Allow-Methods</code> headers needed to make the preflight succeed.</p>
<hr>
<p><strong>How to avoid the CORS preflight</strong></p>
<p>The code in the question triggers a CORS preflightsince it sends an <code>Authorization</code> header.</p>
<p><a href="https://developer.mozilla.org/docs/Web/HTTP/Access_control_CORS#Preflighted_requests" rel="noreferrer">https://developer.mozilla.org/docs/Web/HTTP/Access_control_CORS#Preflighted_requests</a></p>
<p>Even without that, the <code>Content-Type: application/json</code> header will also trigger a preflight.</p>
<p>What preflight means: before the browser tries the <code>POST</code> in the code in the question, it first sends an <code>OPTIONS</code> request to the server, to determine if the server is opting-in to receiving a cross-origin <code>POST</code> that has <code>Authorization</code> and <code>Content-Type: application/json</code> headers.</p>
<blockquote>
<p>It works pretty well with a small curl script - I get my data.</p>
</blockquote>
<p>To properly test with <code>curl</code>, you must emulate the preflight <code>OPTIONS</code> the browser sends:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">curl -i -X <span class="hljs-variable constant_">OPTIONS</span> -H <span class="hljs-string">"Origin: http://127.0.0.1:3000"</span> \
    -H <span class="hljs-string">'Access-Control-Request-Method: POST'</span> \
    -H <span class="hljs-string">'Access-Control-Request-Headers: Content-Type, Authorization'</span> \
    <span class="hljs-string">"https://the.sign_in.url"</span>
</code></pre>
<p>with <code>https://the.sign_in.url</code> replaced by whatever your actual <code>sign_in</code> URL is.</p>
<p>The response the browser needs from that <code>OPTIONS</code> request must have headers like this:</p>
<pre class="lang-none s-code-block"><code>Access-Control-Allow-Origin:  http://127.0.0.1:3000
Access-Control-Allow-Methods: POST
Access-Control-Allow-Headers: Content-Type, Authorization
</code></pre>
<p>If the <code>OPTIONS</code> response doesnt include those headers, the browser will stop right there and never attempt to send the <code>POST</code> request. Also, the HTTP status code for the response must be a 2xxtypically 200 or 204. If its any other status code, the browser will stop right there.</p>
<p>The server in the question responds to the <code>OPTIONS</code> request with a 501 status code, which apparently means its trying to indicate it doesnt implement support for <code>OPTIONS</code> requests. Other servers typically respond with a 405 Method not allowed status code in this case.</p>
<p>So youll never be able to make <code>POST</code> requests directly to that server from your frontend JavaScript code if the server responds to that <code>OPTIONS</code> request with a 405 or 501 or anything other than a 200 or 204 or if doesnt respond with those necessary response headers.</p>
<p>The way to avoid triggering a preflight for the case in the question would be:</p>
<ul>
<li>if the server didnt require an <code>Authorization</code> request header but instead, e.g., relied on authentication data embedded in the body of the <code>POST</code> request or as a query param</li>
<li>if the server didnt require the <code>POST</code> body to have a <code>Content-Type: application/json</code> media type but instead accepted the <code>POST</code> body as <code>application/x-www-form-urlencoded</code> with a parameter named <code>json</code> (or whatever) whose value is the JSON data</li>
</ul>
<hr>
<p><strong>How to fix <em>Access-Control-Allow-Origin header must not be the wildcard</em> problems</strong></p>
<blockquote>
<p><sub>I am getting another error message:</sub></p>
<p><sub>The value of the 'Access-Control-Allow-Origin' header in the response</sub>
<sub>must not be the wildcard '*' when the request's credentials mode is</sub>
<sub>'include'. Origin '<code>http://127.0.0.1:3000</code>' is therefore not allowed</sub>
<sub>access. The credentials mode of requests initiated by the</sub>
<sub>XMLHttpRequest is controlled by the withCredentials attribute.</sub></p>
</blockquote>
<p>For requests that have credentials, browsers wont let your frontend JavaScript code access the response if the value of the <code>Access-Control-Allow-Origin</code> header is <code>*</code>. Instead the value in that case must exactly match your frontend codes origin, <code>http://127.0.0.1:3000</code>.</p>
<p>See <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS#Credentialed_requests_and_wildcards" rel="noreferrer"><em>Credentialed requests and wildcards</em></a> in the MDN HTTP access control (CORS) article.</p>
<p>If you control the server youre sending the request to, a common way to deal with this case is to configure the server to take the value of the <code>Origin</code> request header, and echo/reflect that back into the value of the <code>Access-Control-Allow-Origin</code> response header; e.g., with nginx:</p>
<pre class="lang-none s-code-block"><code>add_header Access-Control-Allow-Origin $http_origin
</code></pre>
<p>But thats just an example; other (web) server systems have similar ways to echo origin values.</p>
<hr>
<blockquote>
<p>I am using Chrome. I also tried using that Chrome CORS Plugin</p>
</blockquote>
<p>That Chrome CORS plugin apparently just simplemindedly injects an <code>Access-Control-Allow-Origin: *</code> header into the response the browser sees. If the plugin were smarter, what it would be doing is setting the value of that fake <code>Access-Control-Allow-Origin</code> response header to the actual origin of your frontend JavaScript code, <code>http://127.0.0.1:3000</code>.</p>
<p>So avoid using that plugin, even for testing. Its just a distraction. To test what responses you get from the server with no browser filtering them, youre better off using <code>curl -H</code> as above.</p>
<hr>
<p>As far as the frontend JavaScript code for the <code>fetch()</code> request in the question:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">headers.<span class="hljs-title function_">append</span>(<span class="hljs-string">'Access-Control-Allow-Origin'</span>, <span class="hljs-string">'http://localhost:3000'</span>);
headers.<span class="hljs-title function_">append</span>(<span class="hljs-string">'Access-Control-Allow-Credentials'</span>, <span class="hljs-string">'true'</span>);
</code></pre>
<p>Remove those lines. The <code>Access-Control-Allow-*</code> headers are <em>response</em> headers. You never want to send them in requests. The only effect of that is to trigger a browser to do a preflight.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 2</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This error occurs when the client URL and server URL don't match, including the port number. In this case you need to enable your service for CORS which is cross origin resource sharing.</p>
<p>If you are hosting a Spring REST service then you can find it in the blog post <em><a href="https://spring.io/blog/2015/06/08/cors-support-in-spring-framework" rel="noreferrer">CORS support in Spring Framework</a></em>.</p>
<p>If you are hosting service using a Node.js server then</p>
<ol>
<li>Stop the Node.js server.</li>
<li><code>npm install cors --save</code></li>
<li>Add following lines to your server.js</li>
</ol>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> cors=<span class="hljs-built_in">require</span>(<span class="hljs-string">"cors"</span>);
<span class="hljs-keyword">const</span> corsOptions ={
   <span class="hljs-attr">origin</span>:<span class="hljs-string">'*'</span>, 
   <span class="hljs-attr">credentials</span>:<span class="hljs-literal">true</span>,            <span class="hljs-comment">//access-control-allow-credentials:true</span>
   <span class="hljs-attr">optionSuccessStatus</span>:<span class="hljs-number">200</span>,
}

app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">cors</span>(corsOptions)) <span class="hljs-comment">// Use this after the variable declaration</span>
</code></pre>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 3</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The problem arose because you added the following code as the <em><strong>request</strong></em> header in your front-end:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">headers.<span class="hljs-title function_">append</span>(<span class="hljs-string">'Access-Control-Allow-Origin'</span>, <span class="hljs-string">'http://localhost:3000'</span>);
headers.<span class="hljs-title function_">append</span>(<span class="hljs-string">'Access-Control-Allow-Credentials'</span>, <span class="hljs-string">'true'</span>);
</code></pre>
<p>Those headers belong to the <em><strong>response</strong></em>, not request. So <strong>remove</strong> them, including the line: <br></p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">headers.<span class="hljs-title function_">append</span>(<span class="hljs-string">'GET'</span>, <span class="hljs-string">'POST'</span>, <span class="hljs-string">'OPTIONS'</span>);
</code></pre>
<p>Your request had <code>'Content-Type: application/json'</code>, hence triggered what is called CORS preflight. This caused the browser sent the request with the OPTIONS method. See <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Preflighted_requests" rel="noreferrer">CORS preflight</a> for detailed information.</p>
<p>Therefore in your <strong>back-end</strong>, you have to handle this preflighted request by returning the response headers which include:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Origin</span> : <span class="hljs-attr">http</span>:<span class="hljs-comment">//localhost:3000</span>
<span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Credentials</span> : <span class="hljs-literal">true</span>
<span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Methods</span> : <span class="hljs-variable constant_">GET</span>, <span class="hljs-variable constant_">POST</span>, <span class="hljs-variable constant_">OPTIONS</span>
<span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Headers</span> : <span class="hljs-title class_">Origin</span>, <span class="hljs-title class_">Content</span>-<span class="hljs-title class_">Type</span>, <span class="hljs-title class_">Accept</span>
</code></pre>
<p>Of course, the actual syntax depends on the programming language you use for your back-end.</p>
<p>In your front-end, it should be like so:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">performSignIn</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">let</span> headers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Headers</span>();

    headers.<span class="hljs-title function_">append</span>(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'application/json'</span>);
    headers.<span class="hljs-title function_">append</span>(<span class="hljs-string">'Accept'</span>, <span class="hljs-string">'application/json'</span>);
    headers.<span class="hljs-title function_">append</span>(<span class="hljs-string">'Authorization'</span>, <span class="hljs-string">'Basic '</span> + base64.<span class="hljs-title function_">encode</span>(username + <span class="hljs-string">":"</span> +  password));
    headers.<span class="hljs-title function_">append</span>(<span class="hljs-string">'Origin'</span>,<span class="hljs-string">'http://localhost:3000'</span>);

    <span class="hljs-title function_">fetch</span>(sign_in, {
        <span class="hljs-attr">mode</span>: <span class="hljs-string">'cors'</span>,
        <span class="hljs-attr">credentials</span>: <span class="hljs-string">'include'</span>,
        <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
        <span class="hljs-attr">headers</span>: headers
    })
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> response.<span class="hljs-title function_">json</span>())
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">json</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json))
    .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Authorization failed: '</span> + error.<span class="hljs-property">message</span>));
}
</code></pre>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 4</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In my case, I use the below solution.</p>
<p><strong>Front-end or Angular</strong></p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">post</span>(
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">serverUrl</span>, dataObjToPost,
    {
      <span class="hljs-attr">headers</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpHeaders</span>({
           <span class="hljs-string">'Content-Type'</span>:  <span class="hljs-string">'application/json'</span>,
         })
    }
)
</code></pre>
<p><strong>back-end (I use PHP)</strong></p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">header</span>(<span class="hljs-string">"Access-Control-Allow-Origin: http://localhost:4200"</span>);
<span class="hljs-title function_">header</span>(<span class="hljs-string">'Access-Control-Allow-Methods: GET, POST, OPTIONS'</span>);
<span class="hljs-title function_">header</span>(<span class="hljs-string">"Access-Control-Allow-Headers: Content-Type, Authorization"</span>);

$postdata = <span class="hljs-title function_">file_get_contents</span>(<span class="hljs-string">"php://input"</span>);
$request = <span class="hljs-title function_">json_decode</span>($postdata);
<span class="hljs-title function_">print_r</span>($request);
</code></pre>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 5</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Using <code>dataType: 'jsonp'</code> worked for me. </p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">   <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">get_ajax_data</span>(<span class="hljs-params"></span>){
       <span class="hljs-keyword">var</span> _reprojected_lat_lng = <span class="hljs-keyword">await</span> $.<span class="hljs-title function_">ajax</span>({
                                <span class="hljs-attr">type</span>: <span class="hljs-string">'GET'</span>,
                                <span class="hljs-attr">dataType</span>: <span class="hljs-string">'jsonp'</span>,
                                <span class="hljs-attr">data</span>: {},
                                <span class="hljs-attr">url</span>: _reprojection_url,
                                <span class="hljs-attr">error</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">jqXHR, textStatus, errorThrown</span>) {
                                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(jqXHR)
                                },
                                <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) {
                                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);

                                    <span class="hljs-comment">// note: data is already json type, you</span>
                                    <span class="hljs-comment">//       just specify dataType: jsonp</span>
                                    <span class="hljs-keyword">return</span> data;
                                }
                            });


 } <span class="hljs-comment">// function               </span>
</code></pre>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 6</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Just my two cents... regarding <em>How to use a CORS proxy to get around No <code>Access-Control-Allow-Origin</code> header problems</em></p>
<p>For those of you working with php at the backend, deploying a "CORS proxy" is as simple as:</p>
<ol>
<li><p>create a file named 'no-cors.php' with the following content:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">$URL = $_GET[<span class="hljs-string">'url'</span>];
echo <span class="hljs-title function_">json_encode</span>(<span class="hljs-title function_">file_get_contents</span>($URL));
<span class="hljs-title function_">die</span>();
</code></pre>
</li>
<li><p>on your front end, do something like:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://example.com/no-cors.php'</span> + <span class="hljs-string">'?url='</span> + url)
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span>=&gt;</span>{*<span class="hljs-regexp">/Handle Response/</span>*})<span class="hljs-string">`
</span></code></pre>
</li>
</ol>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 7</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Adding <code>mode:no-cors</code> can avoid CORS issues in the API.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">fetch</span>(sign_in, {
        <span class="hljs-attr">mode</span>: <span class="hljs-string">'no-cors'</span>,
        <span class="hljs-attr">credentials</span>: <span class="hljs-string">'include'</span>,
        <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
        <span class="hljs-attr">headers</span>: headers
    })
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> response.<span class="hljs-title function_">json</span>())
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">json</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json))
    .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Authorization failed : '</span> + error.<span class="hljs-property">message</span>));
}
</code></pre>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 8</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Possible causes of CORS issues</p>
<ul>
<li><p>Check your server-side <em>access</em> headers: <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" rel="nofollow noreferrer">Refer to this link</a></p>
</li>
<li><p>Check what request header is received from the server in the browser. The below image shows the headers</p>
<p><a href="https://i.stack.imgur.com/jFJSk.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/jFJSk.png" alt="Enter image description here"></a></p>
</li>
<li><p>If you are using the <code>fetch</code> method and trying to access the cross-origin request make sure <code>mode:cors</code> is there. Refer to this <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch" rel="nofollow noreferrer">link</a></p>
</li>
<li><p>Sometimes if there is an issue in the program also you are getting the CORS issue, so make sure your code is working properly.</p>
</li>
<li><p>Make sure to handle the <code>OPTION</code> method in your API.</p>
</li>
</ul>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 9</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In December 2021, Chrome 97, the <code>Authorization: Bearer ...</code> is not allowed unless it is in the <code>Access-Control-Allow-Headers</code> preflight response (ignores <code>*</code>).  It produced this warning:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">[<span class="hljs-title class_">Deprecation</span>] authorization will not be covered by the wildcard symbol (*)
</code></pre>
<p>See: <em><a href="https://support.google.com/chrome/a/answer/7679408#corsAuthMis" rel="nofollow noreferrer">Chrome Enterprise release notes, Chrome 97</a></em></p>
<p>It also appears to enforce the same restriction on <code>*</code> on <code>Access-Control-Allow-Origin</code>.  If you want to revive <code>*</code>-like behavior now that it is blocked, you'll likely have to read the requester's origin and return it as the allowed origin in the preflight response.</p>
<p>In some cases, a library may drop the <code>Access-Control-Allow-Origin</code> response header when there is some other invalid credential (example: an expired <a href="https://en.wikipedia.org/wiki/JSON_Web_Token" rel="nofollow noreferrer">JWT</a>).  Then, the browser shows the "No 'Access-Control-Allow-Origin' header is present" error instead of the actual error (which in this example could be an expired JWT).  Be sure that your library doesn't drop the header and confuse the client.</p>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 10</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If your API is written in <code>ASP.NET Core</code>, then please follow the below steps:</p>
<ul>
<li><p>Install the <em>Microsoft.AspNetCore.Cors</em> package.</p>
</li>
<li><p>Add the below line in the ConfigureServices method in file <em>Startup.cs</em>:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">services.<span class="hljs-title class_">AddCors</span>();
</code></pre>
</li>
<li><p>Add the below line in the <em>Configure</em> method in file <em>startup.cs</em>:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">app.<span class="hljs-title class_">UseCors</span>(<span class="hljs-function"><span class="hljs-params">options</span> =&gt;</span>
     options.<span class="hljs-title class_">WithOrigins</span>(<span class="hljs-string">"http://localhost:8080"</span>)
            .<span class="hljs-title class_">AllowAnyHeader</span>()
            .<span class="hljs-title class_">AllowAnyMethod</span>());
</code></pre>
</li>
<li><p>Make sure you add this after - <code>app.UseRouting();</code></p>
<p>Refer to the below image(from MSDN) to see the middleware order:</p>
<p><a href="https://i.stack.imgur.com/vQ4yT.png" rel="nofollow noreferrer">https://i.stack.imgur.com/vQ4yT.png</a></p>
</li>
</ul>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 11</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>With <a href="https://en.wikipedia.org/wiki/Node.js" rel="nofollow noreferrer">Node.js</a>, if you are using routers, make sure to add CORS before the routers. Otherwise, you'll still get the CORS error. Like below:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> cors = <span class="hljs-built_in">require</span>(<span class="hljs-string">'cors'</span>);

<span class="hljs-keyword">const</span> userRouter = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./routers/user'</span>);

expressApp = <span class="hljs-title function_">express</span>();
expressApp.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">cors</span>());
expressApp.<span class="hljs-title function_">use</span>(express.<span class="hljs-title function_">json</span>());
expressApp.<span class="hljs-title function_">use</span>(userRouter);
</code></pre>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 12</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In case you are using <a href="https://en.wikipedia.org/wiki/Node.js" rel="nofollow noreferrer">Node.js</a> and <a href="https://en.wikipedia.org/wiki/Express.js" rel="nofollow noreferrer">Express.js</a> as the back-end and <a href="https://en.wikipedia.org/wiki/React_(web_framework)" rel="nofollow noreferrer">React</a> &amp; <a href="https://github.com/mzabriskie/axios" rel="nofollow noreferrer">Axios</a> as the front-end within a development environment in <a href="https://en.wikipedia.org/wiki/MacOS" rel="nofollow noreferrer">macOS</a>, you need to run both sides under <a href="https://en.wikipedia.org/wiki/HTTPS" rel="nofollow noreferrer">HTTPS</a>. Below is what finally worked for me (after many hours of deep dive and testing):</p>
<p><strong>Step 1: Create an SSL certificate</strong></p>
<p>Just follow the steps from <em><a href="https://www.freecodecamp.org/news/how-to-get-https-working-on-your-local-development-environment-in-5-minutes-7af615770eec/" rel="nofollow noreferrer">How to get HTTPS working on your local development environment in 5 minutes</a></em>.</p>
<p>You will end up with a couple of files to be used as credentials to run the HTTPS server and React web:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">server.<span class="hljs-property">key</span> &amp; server.<span class="hljs-property">crt</span>
</code></pre>
<p>You need to copy them in the root folders of both the front and back ends (in a <em>production</em> environment, you might consider copying them in folder <em>./ssh</em> for the back-end).</p>
<p><strong>Step 2: Back-end setup</strong></p>
<p>I read a lot of answers proposing the use of 'cors' package or even setting ('Access-Control-Allow-Origin', '*'), which is like saying: "Hackers are welcome to my website". Just do like this:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">import</span> express <span class="hljs-keyword">from</span> <span class="hljs-string">'express'</span>;
<span class="hljs-keyword">const</span> emailRouter = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./routes/email'</span>);  <span class="hljs-comment">// in my case, I was sending an email through a form in React</span>
<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);
<span class="hljs-keyword">const</span> https = <span class="hljs-built_in">require</span>(<span class="hljs-string">'https'</span>);

<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();
<span class="hljs-keyword">const</span> port = <span class="hljs-number">8000</span>;

<span class="hljs-comment">// CORS (Cross-Origin Resource Sharing) headers to support Cross-site HTTP requests</span>
app.<span class="hljs-title function_">all</span>(<span class="hljs-string">'*'</span>, <span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
    res.<span class="hljs-title function_">header</span>(<span class="hljs-string">"Access-Control-Allow-Origin"</span>, <span class="hljs-string">"https://localhost:3000"</span>);
    <span class="hljs-title function_">next</span>();
});

<span class="hljs-comment">// Routes definition</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-string">'/email'</span>, emailRouter);

<span class="hljs-comment">// HTTPS server</span>
<span class="hljs-keyword">const</span> credentials = {
  <span class="hljs-attr">key</span>: fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">'server.key'</span>),
  <span class="hljs-attr">cert</span>: fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">'server.crt'</span>)
};

<span class="hljs-keyword">const</span> httpsServer = https.<span class="hljs-title function_">createServer</span>(credentials, app);
httpsServer.<span class="hljs-title function_">listen</span>(port, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Back-end running on port <span class="hljs-subst">${port}</span>`</span>);
});
</code></pre>
<p>In case you want to test if the https is OK, you can replace the httpsServer constant by the one below:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">https.<span class="hljs-title function_">createServer</span>(credentials, <span class="hljs-function">(<span class="hljs-params">req: any, res: any</span>) =&gt;</span> {
  res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>);
  res.<span class="hljs-title function_">end</span>(<span class="hljs-string">"hello world from SSL\n"</span>);
}).<span class="hljs-title function_">listen</span>(port, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`HTTPS server listening on port <span class="hljs-subst">${port}</span>...`</span>);
});
</code></pre>
<p>And then access it from a web browser:   https://localhost:8000/</p>
<p><strong>Step 3: Front-end setup</strong></p>
<p>This is the Axios request from the React front-end:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">    <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">`https://localhost:8000/email/send`</span>, {
        <span class="hljs-attr">params</span>: { <span class="hljs-comment">/* Whatever data you want to send */</span> },
        <span class="hljs-attr">headers</span>: {
            <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
        }
    })
</code></pre>
<p>And now, you need to launch your React web in HTTPS mode using the credentials for SSL we already created. Type this in your macOS terminal:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable constant_">HTTPS</span>=<span class="hljs-literal">true</span> <span class="hljs-variable constant_">SSL_CRT_FILE</span>=server.<span class="hljs-property">crt</span> <span class="hljs-variable constant_">SSL_KEY_FILE</span>=server.<span class="hljs-property">key</span> npm start
</code></pre>
<p>At this point, you are sending a request from an HTTPS connection at port 3000 from your front-end, to be received by an HTTPS connection at port 8000 by your back-end. CORS should be happy with this ;)</p>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 13</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I was working with <a href="https://en.wikipedia.org/wiki/Spring_Framework" rel="nofollow noreferrer">Spring</a> <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" rel="nofollow noreferrer">REST</a>, and I solved it adding the AllowedMethods into the WebMvcConfigurer.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">@<span class="hljs-title class_">Value</span>( <span class="hljs-string">"${app.allow.origins}"</span> )
    private <span class="hljs-title class_">String</span> allowOrigins;
@<span class="hljs-title class_">Bean</span>
public <span class="hljs-title class_">WebMvcConfigurer</span> <span class="hljs-title function_">corsConfigurer</span>(<span class="hljs-params"></span>) {
    <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"allow origin: "</span> + allowOrigins);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebMvcConfigurerAdapter</span>() {
        @<span class="hljs-title class_">Override</span>
        public <span class="hljs-keyword">void</span> <span class="hljs-title function_">addCorsMappings</span>(<span class="hljs-params">CorsRegistry registry</span>) {
            registry.<span class="hljs-title function_">addMapping</span>(<span class="hljs-string">"/**"</span>)
            <span class="hljs-comment">//.allowedOrigins("http://localhost")</span>
            .<span class="hljs-title function_">allowedOrigins</span>(allowOrigins)
            .<span class="hljs-title function_">allowedMethods</span>(<span class="hljs-string">"PUT"</span>, <span class="hljs-string">"DELETE"</span>,<span class="hljs-string">"GET"</span>, <span class="hljs-string">"POST"</span>);
        }
    };
}
</code></pre>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 14</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Remove this:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-attr">credentials</span>: <span class="hljs-string">'include'</span>,
</code></pre>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 15</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I have encountered this error several times over the past few years -- seemingly showing up out of the blue in a previously functioning website.</p>
<p>I determined that Chrome (and possibly other browsers) can return this error when there is some unrelated error that occurs on the server that prevents it from processing the <a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing" rel="nofollow noreferrer">CORS</a> request (and prior to returning an HTTP 500 error).</p>
<p>These all occurred in a <a href="https://en.wikipedia.org/wiki/.NET_Core" rel="nofollow noreferrer">.NET Core</a> environment, and I am not sure if it would happen in other environments.</p>
<p>Anyway, if your code has functioned before, and seems correct, consider debugging to find if there is some other error that is firing before you go crazy trying to solve an error that isn't really there.</p>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 16</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In my case, the web server prevented the "OPTIONS" method</p>
<p>Check your web server for the options method</p>
<ul>
<li>Apache: <a href="https://www-01.ibm.com/support/docview.wss?uid=ibm10735209" rel="nofollow noreferrer">https://www-01.ibm.com/support/docview.wss?uid=ibm10735209</a></li>
<li>web tier: 4.4.6 Disabling the Options Method <a href="https://docs.oracle.com/cd/E23943_01/web.1111/e10144/getstart.htm#HSADM174" rel="nofollow noreferrer">https://docs.oracle.com/cd/E23943_01/web.1111/e10144/getstart.htm#HSADM174</a></li>
<li><a href="https://en.wikipedia.org/wiki/Nginx" rel="nofollow noreferrer">nginx</a>: <a href="https://medium.com/@hariomvashisth/cors-on-nginx-be38dd0e19df" rel="nofollow noreferrer">https://medium.com/@hariomvashisth/cors-on-nginx-be38dd0e19df</a></li>
</ul>
<blockquote>
<p>I'm using "webtier"</p>
<p>/www/webtier/domains/[domainname]/config/fmwconfig/components/OHS/VCWeb1/httpd.conf</p>
</blockquote>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">&lt;<span class="hljs-title class_">IfModule</span> mod_rewrite.<span class="hljs-property">c</span>&gt;
  <span class="hljs-title class_">RewriteEngine</span> on
  <span class="hljs-title class_">RewriteCond</span> %{<span class="hljs-variable constant_">REQUEST_METHOD</span>} ^<span class="hljs-variable constant_">OPTIONS</span>
  <span class="hljs-title class_">RewriteRule</span> .* . [F]
&lt;/<span class="hljs-title class_">IfModule</span>&gt;
</code></pre>
<p>change to</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">&lt;<span class="hljs-title class_">IfModule</span> mod_rewrite.<span class="hljs-property">c</span>&gt;
  <span class="hljs-title class_">RewriteEngine</span> off
  <span class="hljs-title class_">RewriteCond</span> %{<span class="hljs-variable constant_">REQUEST_METHOD</span>} ^<span class="hljs-variable constant_">OPTIONS</span>
  <span class="hljs-title class_">RewriteRule</span> .* . [F]
&lt;/<span class="hljs-title class_">IfModule</span>&gt;
</code></pre>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 17</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I make this mistake a lot of times, and because of it, I've made a "check-list" to all of you.</p>
<ul>
<li><p>Enable <a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing" rel="nofollow noreferrer">CORS</a> on your project: If you're using <a href="https://en.wikipedia.org/wiki/Node.js" rel="nofollow noreferrer">Node.js</a> (by example) you can use:</p>
<pre class="lang-none s-code-block"><code>npm install cors;
import cors from 'cors';
app.use(cors());
</code></pre>
</li>
<li><p>You can manually set the headers like this (if you want it):</p>
<pre class="lang-none s-code-block"><code>app.use((req, res, next) =&gt; {
    res.setHeader('Access-Control-Allow-Origin', '*');
    res.setHeader('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept, Authortization');
    res.setHeader('Acces-Control-Allow-Methods', 'GET, POST, PATCH, DELETE');
</code></pre>
</li>
<li><p>Remember to add <em>http://</em> to your API link in your frontend project, some browsers like Chrome <em>do not</em> accept a request using CORS if the request URL isn't HTTP or HTTPS:</p>
<pre class="lang-none s-code-block"><code>http://localhost:3000/api
</code></pre>
</li>
<li><p>Check if your project is using a <em>proxy.config.js</em> file. See <em><a href="https://levelup.gitconnected.com/fixing-cors-errors-with-angular-cli-proxy-e5e0ef143f85" rel="nofollow noreferrer">Fixing CORS errors with Angular CLI proxy</a></em>.</p>
</li>
</ul>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 18</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>When the client used to call our backend service from his host username.companyname.com, he used to get the above error</p>
<p>Two things are required:</p>
<ol>
<li><p>while sending back the response, send the header whose key is <em>Access-Control-Allow-Origin</em> and value is <code>*</code>:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"> context.<span class="hljs-property">Writer</span>.<span class="hljs-title class_">Header</span>()[<span class="hljs-string">"Access-Control-Allow-Origin"</span>] = []string{<span class="hljs-string">"*"</span>} <span class="hljs-comment">// Important to avoid a CORS error</span>
</code></pre>
</li>
<li><p>Use the <a href="https://en.wikipedia.org/wiki/Go_%28programming_language%29" rel="nofollow noreferrer">Go</a> CORS library to set <strong>AllowCredentials</strong> to false and <strong>AllowAllOrigins</strong> to true.</p>
<p><a href="https://i.stack.imgur.com/6nF6P.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/6nF6P.png" alt="Enter image description here"></a></p>
</li>
</ol>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 19</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>For a <a href="https://en.wikipedia.org/wiki/Node.js" rel="nofollow noreferrer">Node.js</a> and <a href="https://en.wikipedia.org/wiki/Express.js" rel="nofollow noreferrer">Express.js</a> backend I use this :)</strong></p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript">app.<span class="hljs-title function_">use</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">req, res, next</span>) {
  res.<span class="hljs-title function_">header</span>(<span class="hljs-string">"Access-Control-Allow-Origin"</span>, <span class="hljs-string">"YOUR-DOMAIN.TLD"</span>); <span class="hljs-comment">// Update to match the domain you will make the request from</span>
  res.<span class="hljs-title function_">header</span>(<span class="hljs-string">"Access-Control-Allow-Headers"</span>, <span class="hljs-string">"Origin, X-Requested-With, Content-Type, Accept"</span>);
  <span class="hljs-title function_">next</span>();
});</code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif1" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>For more details: <em><a href="https://enable-cors.org/server_expressjs.html" rel="nofollow noreferrer">CORS on ExpressJS</a></em></p>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 20</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Use the below npm module. This has virtually saved lives.</p>
<p><em><a href="https://www.npmjs.com/package/local-cors-proxy" rel="nofollow noreferrer">https://www.npmjs.com/package/local-cors-proxy</a></em></p>
<p>You're getting a CORS error, for example like the below URL</p>
<p><em><a href="https://www.google.co.in/search/list" rel="nofollow noreferrer">https://www.google.co.in/search/list</a></em></p>
<p>After successfully installed(<strong>local-cors-proxy</strong>) global <code>npm install -g local-cors-proxy</code> and set proxy URL that CORS URL.
For example, here the below CORS issue getting in localhost. So you need to add the domain name(<a href="https://www.google.co.in" rel="nofollow noreferrer">https://www.google.co.in</a>) and port(--port 8010) for the CORS issue domain.
For more please check the link
<em><a href="https://www.npmjs.com/package/local-cors-proxy" rel="nofollow noreferrer">https://www.npmjs.com/package/local-cors-proxy</a></em></p>
<pre class="lang-none s-code-block"><code>lcp --proxyUrl https://www.google.co.in --port 8010
</code></pre>
<p>After successfully set, it will generate the local proxy URL like below.</p>
<p><em>http://localhost:8010/proxy</em></p>
<p>Use that domain name in your project API URL.</p>
<p>API full URL:</p>
<p><em>http://localhost:8010/proxy/search/list</em></p>
<p>To get without a CORS issue response in your local project.</p>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 21</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Try adding all these headers in this code below <em><strong>Before every route, you define in your app, not after the routes</strong></em></p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">app.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span>{
res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Access-Control-Allow-Origin'</span>, <span class="hljs-string">'*'</span>);
res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Access-Control-Allow-Headers'</span>,<span class="hljs-string">'Origin, X-Requested-With, Content-Type,Accept, Authortization'</span>);  
res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Acces-Control-Allow-Methods'</span>,<span class="hljs-string">'GET, POST, PATCH, DELETE'</span>);
</code></pre>
    </div></div></div></div><div id="solution22" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 22</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/fetch-api">fetch-api</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/preflight">preflight</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you are getting this error while deploying React app to netlify, use these steps.</p>
<p>step 1: Create <code>netlify.toml</code> file in the root folder of your react app.</p>
<p>step 2: Copy paste this code:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-string">`[[redirects]]
    from = "/cors-proxy/*"
    to = ":splat"
    status = 200
    force = true`</span>
</code></pre>
<p><a href="https://i.stack.imgur.com/SOL5O.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/SOL5O.png" alt="enter image description here"></a></p>
<p>step3: update your fetch/axios api this way:</p>
<p><a href="https://i.stack.imgur.com/0JL4i.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/0JL4i.png" alt="enter image description here"></a></p>
<p>It took me a while to figure this out.</p>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/why-is-processing-a-sorted-array-faster-than-processing-an-unsorted-array-1657385497444">Why is processing a sorted array faster than processing an unsorted array?</a><a href="/questions/what-is-the-behavior-of-integer-division-1657388222571">What is the behavior of integer division?</a><a href="/questions/importing-installed-package-from-script-raises-%22attributeerror:-module-has-no-attribute%22-or-%22importerror:-cannot-import-name%22-1657387790607">Importing installed package from script raises &quot;AttributeError: module has no attribute&quot; or &quot;ImportError: cannot import name&quot;</a><a href="/questions/pandas-conditional-creation-of-a-seriesdataframe-column-1657387461003">Pandas conditional creation of a series/dataframe column</a><a href="/questions/how-to-make-good-reproducible-pandas-examples-1657384310402">How to make good reproducible pandas examples</a><a href="/questions/syntax-error-due-to-using-a-reserved-word-as-a-table-or-column-name-in-mysql-1657384689274">Syntax error due to using a reserved word as a table or column name in MySQL</a><a href="/questions/official-locator-strategies-for-the-webdriver-1657384353174">Official locator strategies for the webdriver</a><a href="/questions/methods-in-es6-objects:-using-arrow-functions-1657388249058">Methods in ES6 objects: using arrow functions</a><a href="/questions/android-permission-doesn&#x27;t-work-even-if-i-have-declared-it-1657387726990">Android permission doesn&#x27;t work even if I have declared it</a><a href="/questions/what-is-the-difference-between-__str__-and-__repr__-1657387738760">What is the difference between __str__ and __repr__?</a><a href="/questions/what-does-a-%22cannot-find-symbol%22-or-%22cannot-resolve-symbol%22-error-mean-1657384492160">What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?</a><a href="/questions/how-to-deal-with-mysqli-problems-mysqli_fetch_array():-argument-1-must-be-of-type-mysqli_result-1657384360922">How to deal with mysqli problems? mysqli_fetch_array(): Argument #1 must be of type mysqli_result</a><a href="/questions/why-does-%22a-x-or-y-or-z%22-always-evaluate-to-true-1657384855216">Why does &quot;a == x or y or z&quot; always evaluate to True?</a><a href="/questions/when-does-sqliteopenhelper-oncreate()-onupgrade()-run-1657384883864">When does SQLiteOpenHelper onCreate() / onUpgrade() run?</a><a href="/questions/how-to-parse-json-in-java-1657384575136">How to parse JSON in Java</a><a href="/questions/change-the-maximum-upload-file-size-1657388495156">Change the maximum upload file size</a><a href="/questions/what-is-a-clearfix-1657387337825">What is a clearfix?</a><a href="/questions/what-is-the-strict-aliasing-rule-1657384742852">What is the strict aliasing rule?</a><a href="/questions/how-can-i-do-a-full-outer-join-in-mysql-1657388175444">How can I do a FULL OUTER JOIN in MySQL?</a><a href="/questions/how-does-access-control-allow-origin-header-work-1657384881723">How does Access-Control-Allow-Origin header work?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;This answer covers a lot of ground, so its divided into three parts:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;How to use a CORS proxy to avoid \u0026lt;em\u0026gt;No Access-Control-Allow-Origin header\u0026lt;/em\u0026gt; problems\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;How to avoid the CORS preflight\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;How to fix \u0026lt;em\u0026gt;Access-Control-Allow-Origin header must not be the wildcard\u0026lt;/em\u0026gt; problems\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;How to use a CORS proxy to avoid \u0026lt;em\u0026gt;No Access-Control-Allow-Origin header\u0026lt;/em\u0026gt; problems\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If you dont control the server your frontend code is sending a request to, and the problem with the response from that server is just the lack of the necessary \u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt; header, you can still get things to workby making the request through a CORS proxy.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You can easily run your own proxy with code from \u0026lt;a href=\u0026quot;https://github.com/Rob--W/cors-anywhere/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://github.com/Rob--W/cors-anywhere/\u0026lt;/a\u0026gt;.\u0026lt;br\u0026gt;\nYou can also easily deploy your own proxy to Heroku in just 2-3 minutes, with 5 commands:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;git clone \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;https\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//github.com/Rob--W/cors-anywhere.git\u0026lt;/span\u0026gt;\ncd cors-anywhere/\nnpm install\nheroku create\ngit push heroku master\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;After running those commands, youll end up with your own CORS Anywhere server running at, e.g., \u0026lt;code\u0026gt;https://cryptic-headland-94862.herokuapp.com/\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Now, prefix your request URL with the URL for your proxy:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;https\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//cryptic-headland-94862.herokuapp.com/https://example.com\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Adding the proxy URL as a prefix causes the request to get made through your proxy, which:\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Forwards the request to \u0026lt;code\u0026gt;https://example.com\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Receives the response from \u0026lt;code\u0026gt;https://example.com\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Adds the \u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt; header to the response.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Passes that response, with that added header, back to the requesting frontend code.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;The browser then allows the frontend code to access the response, because that response with the \u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt; response header is what the browser sees.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This works even if the request is one that triggers browsers to do a CORS preflight \u0026lt;code\u0026gt;OPTIONS\u0026lt;/code\u0026gt; request, because in that case, the proxy also sends the \u0026lt;code\u0026gt;Access-Control-Allow-Headers\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;Access-Control-Allow-Methods\u0026lt;/code\u0026gt; headers needed to make the preflight succeed.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;How to avoid the CORS preflight\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The code in the question triggers a CORS preflightsince it sends an \u0026lt;code\u0026gt;Authorization\u0026lt;/code\u0026gt; header.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://developer.mozilla.org/docs/Web/HTTP/Access_control_CORS#Preflighted_requests\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://developer.mozilla.org/docs/Web/HTTP/Access_control_CORS#Preflighted_requests\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Even without that, the \u0026lt;code\u0026gt;Content-Type: application/json\u0026lt;/code\u0026gt; header will also trigger a preflight.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;What preflight means: before the browser tries the \u0026lt;code\u0026gt;POST\u0026lt;/code\u0026gt; in the code in the question, it first sends an \u0026lt;code\u0026gt;OPTIONS\u0026lt;/code\u0026gt; request to the server, to determine if the server is opting-in to receiving a cross-origin \u0026lt;code\u0026gt;POST\u0026lt;/code\u0026gt; that has \u0026lt;code\u0026gt;Authorization\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;Content-Type: application/json\u0026lt;/code\u0026gt; headers.\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;It works pretty well with a small curl script - I get my data.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;To properly test with \u0026lt;code\u0026gt;curl\u0026lt;/code\u0026gt;, you must emulate the preflight \u0026lt;code\u0026gt;OPTIONS\u0026lt;/code\u0026gt; the browser sends:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;curl -i -X \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;OPTIONS\u0026lt;/span\u0026gt; -H \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Origin: http://127.0.0.1:3000\u0026quot;\u0026lt;/span\u0026gt; \\\n    -H \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Request-Method: POST\u0026apos;\u0026lt;/span\u0026gt; \\\n    -H \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Request-Headers: Content-Type, Authorization\u0026apos;\u0026lt;/span\u0026gt; \\\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;https://the.sign_in.url\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;with \u0026lt;code\u0026gt;https://the.sign_in.url\u0026lt;/code\u0026gt; replaced by whatever your actual \u0026lt;code\u0026gt;sign_in\u0026lt;/code\u0026gt; URL is.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The response the browser needs from that \u0026lt;code\u0026gt;OPTIONS\u0026lt;/code\u0026gt; request must have headers like this:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-none s-code-block\u0026quot;\u0026gt;\u0026lt;code\u0026gt;Access-Control-Allow-Origin:  http://127.0.0.1:3000\nAccess-Control-Allow-Methods: POST\nAccess-Control-Allow-Headers: Content-Type, Authorization\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;If the \u0026lt;code\u0026gt;OPTIONS\u0026lt;/code\u0026gt; response doesnt include those headers, the browser will stop right there and never attempt to send the \u0026lt;code\u0026gt;POST\u0026lt;/code\u0026gt; request. Also, the HTTP status code for the response must be a 2xxtypically 200 or 204. If its any other status code, the browser will stop right there.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The server in the question responds to the \u0026lt;code\u0026gt;OPTIONS\u0026lt;/code\u0026gt; request with a 501 status code, which apparently means its trying to indicate it doesnt implement support for \u0026lt;code\u0026gt;OPTIONS\u0026lt;/code\u0026gt; requests. Other servers typically respond with a 405 Method not allowed status code in this case.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;So youll never be able to make \u0026lt;code\u0026gt;POST\u0026lt;/code\u0026gt; requests directly to that server from your frontend JavaScript code if the server responds to that \u0026lt;code\u0026gt;OPTIONS\u0026lt;/code\u0026gt; request with a 405 or 501 or anything other than a 200 or 204 or if doesnt respond with those necessary response headers.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The way to avoid triggering a preflight for the case in the question would be:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;if the server didnt require an \u0026lt;code\u0026gt;Authorization\u0026lt;/code\u0026gt; request header but instead, e.g., relied on authentication data embedded in the body of the \u0026lt;code\u0026gt;POST\u0026lt;/code\u0026gt; request or as a query param\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;if the server didnt require the \u0026lt;code\u0026gt;POST\u0026lt;/code\u0026gt; body to have a \u0026lt;code\u0026gt;Content-Type: application/json\u0026lt;/code\u0026gt; media type but instead accepted the \u0026lt;code\u0026gt;POST\u0026lt;/code\u0026gt; body as \u0026lt;code\u0026gt;application/x-www-form-urlencoded\u0026lt;/code\u0026gt; with a parameter named \u0026lt;code\u0026gt;json\u0026lt;/code\u0026gt; (or whatever) whose value is the JSON data\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;How to fix \u0026lt;em\u0026gt;Access-Control-Allow-Origin header must not be the wildcard\u0026lt;/em\u0026gt; problems\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;sub\u0026gt;I am getting another error message:\u0026lt;/sub\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;sub\u0026gt;The value of the \u0026apos;Access-Control-Allow-Origin\u0026apos; header in the response\u0026lt;/sub\u0026gt;\n\u0026lt;sub\u0026gt;must not be the wildcard \u0026apos;*\u0026apos; when the request\u0026apos;s credentials mode is\u0026lt;/sub\u0026gt;\n\u0026lt;sub\u0026gt;\u0026apos;include\u0026apos;. Origin \u0026apos;\u0026lt;code\u0026gt;http://127.0.0.1:3000\u0026lt;/code\u0026gt;\u0026apos; is therefore not allowed\u0026lt;/sub\u0026gt;\n\u0026lt;sub\u0026gt;access. The credentials mode of requests initiated by the\u0026lt;/sub\u0026gt;\n\u0026lt;sub\u0026gt;XMLHttpRequest is controlled by the withCredentials attribute.\u0026lt;/sub\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;For requests that have credentials, browsers wont let your frontend JavaScript code access the response if the value of the \u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt; header is \u0026lt;code\u0026gt;*\u0026lt;/code\u0026gt;. Instead the value in that case must exactly match your frontend codes origin, \u0026lt;code\u0026gt;http://127.0.0.1:3000\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;See \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS#Credentialed_requests_and_wildcards\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;em\u0026gt;Credentialed requests and wildcards\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt; in the MDN HTTP access control (CORS) article.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If you control the server youre sending the request to, a common way to deal with this case is to configure the server to take the value of the \u0026lt;code\u0026gt;Origin\u0026lt;/code\u0026gt; request header, and echo/reflect that back into the value of the \u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt; response header; e.g., with nginx:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-none s-code-block\u0026quot;\u0026gt;\u0026lt;code\u0026gt;add_header Access-Control-Allow-Origin $http_origin\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;But thats just an example; other (web) server systems have similar ways to echo origin values.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;I am using Chrome. I also tried using that Chrome CORS Plugin\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;That Chrome CORS plugin apparently just simplemindedly injects an \u0026lt;code\u0026gt;Access-Control-Allow-Origin: *\u0026lt;/code\u0026gt; header into the response the browser sees. If the plugin were smarter, what it would be doing is setting the value of that fake \u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt; response header to the actual origin of your frontend JavaScript code, \u0026lt;code\u0026gt;http://127.0.0.1:3000\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;So avoid using that plugin, even for testing. Its just a distraction. To test what responses you get from the server with no browser filtering them, youre better off using \u0026lt;code\u0026gt;curl -H\u0026lt;/code\u0026gt; as above.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;As far as the frontend JavaScript code for the \u0026lt;code\u0026gt;fetch()\u0026lt;/code\u0026gt; request in the question:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;headers.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;append\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Origin\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;http://localhost:3000\u0026apos;\u0026lt;/span\u0026gt;);\nheaders.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;append\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Credentials\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;true\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Remove those lines. The \u0026lt;code\u0026gt;Access-Control-Allow-*\u0026lt;/code\u0026gt; headers are \u0026lt;em\u0026gt;response\u0026lt;/em\u0026gt; headers. You never want to send them in requests. The only effect of that is to trigger a browser to do a preflight.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This error occurs when the client URL and server URL don\u0026apos;t match, including the port number. In this case you need to enable your service for CORS which is cross origin resource sharing.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If you are hosting a Spring REST service then you can find it in the blog post \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://spring.io/blog/2015/06/08/cors-support-in-spring-framework\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;CORS support in Spring Framework\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If you are hosting service using a Node.js server then\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Stop the Node.js server.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;npm install cors --save\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Add following lines to your server.js\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; cors=\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;require\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;cors\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; corsOptions ={\n   \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;origin\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;, \n   \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;credentials\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;,            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//access-control-allow-credentials:true\u0026lt;/span\u0026gt;\n   \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;optionSuccessStatus\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;200\u0026lt;/span\u0026gt;,\n}\n\napp.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;use\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;cors\u0026lt;/span\u0026gt;(corsOptions)) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Use this after the variable declaration\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The problem arose because you added the following code as the \u0026lt;em\u0026gt;\u0026lt;strong\u0026gt;request\u0026lt;/strong\u0026gt;\u0026lt;/em\u0026gt; header in your front-end:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;headers.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;append\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Origin\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;http://localhost:3000\u0026apos;\u0026lt;/span\u0026gt;);\nheaders.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;append\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Credentials\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;true\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Those headers belong to the \u0026lt;em\u0026gt;\u0026lt;strong\u0026gt;response\u0026lt;/strong\u0026gt;\u0026lt;/em\u0026gt;, not request. So \u0026lt;strong\u0026gt;remove\u0026lt;/strong\u0026gt; them, including the line: \u0026lt;br\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;headers.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;append\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;GET\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;POST\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;OPTIONS\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Your request had \u0026lt;code\u0026gt;\u0026apos;Content-Type: application/json\u0026apos;\u0026lt;/code\u0026gt;, hence triggered what is called CORS preflight. This caused the browser sent the request with the OPTIONS method. See \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Preflighted_requests\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;CORS preflight\u0026lt;/a\u0026gt; for detailed information.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Therefore in your \u0026lt;strong\u0026gt;back-end\u0026lt;/strong\u0026gt;, you have to handle this preflighted request by returning the response headers which include:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Origin\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//localhost:3000\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Credentials\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Methods\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;GET\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;POST\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;OPTIONS\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Headers\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Origin\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Content\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Type\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Accept\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Of course, the actual syntax depends on the programming language you use for your back-end.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;In your front-end, it should be like so:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;performSignIn\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; headers = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Headers\u0026lt;/span\u0026gt;();\n\n    headers.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;append\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Content-Type\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;application/json\u0026apos;\u0026lt;/span\u0026gt;);\n    headers.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;append\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Accept\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;application/json\u0026apos;\u0026lt;/span\u0026gt;);\n    headers.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;append\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Authorization\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Basic \u0026apos;\u0026lt;/span\u0026gt; + base64.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;encode\u0026lt;/span\u0026gt;(username + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;:\u0026quot;\u0026lt;/span\u0026gt; +  password));\n    headers.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;append\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Origin\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;http://localhost:3000\u0026apos;\u0026lt;/span\u0026gt;);\n\n    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;fetch\u0026lt;/span\u0026gt;(sign_in, {\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;mode\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;cors\u0026apos;\u0026lt;/span\u0026gt;,\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;credentials\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;include\u0026apos;\u0026lt;/span\u0026gt;,\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;method\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;POST\u0026apos;\u0026lt;/span\u0026gt;,\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;headers\u0026lt;/span\u0026gt;: headers\n    })\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;then\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; response.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;json\u0026lt;/span\u0026gt;())\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;then\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;json\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(json))\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;error\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Authorization failed: \u0026apos;\u0026lt;/span\u0026gt; + error.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;message\u0026lt;/span\u0026gt;));\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In my case, I use the below solution.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Front-end or Angular\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;post\u0026lt;/span\u0026gt;(\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;serverUrl\u0026lt;/span\u0026gt;, dataObjToPost,\n    {\n      \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;headers\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HttpHeaders\u0026lt;/span\u0026gt;({\n           \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Content-Type\u0026apos;\u0026lt;/span\u0026gt;:  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;application/json\u0026apos;\u0026lt;/span\u0026gt;,\n         })\n    }\n)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;back-end (I use PHP)\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;header\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Access-Control-Allow-Origin: http://localhost:4200\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;header\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Methods: GET, POST, OPTIONS\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;header\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Access-Control-Allow-Headers: Content-Type, Authorization\u0026quot;\u0026lt;/span\u0026gt;);\n\n$postdata = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;file_get_contents\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;php://input\u0026quot;\u0026lt;/span\u0026gt;);\n$request = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;json_decode\u0026lt;/span\u0026gt;($postdata);\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;print_r\u0026lt;/span\u0026gt;($request);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Using \u0026lt;code\u0026gt;dataType: \u0026apos;jsonp\u0026apos;\u0026lt;/code\u0026gt; worked for me. \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;async\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get_ajax_data\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n       \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; _reprojected_lat_lng = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;await\u0026lt;/span\u0026gt; $.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ajax\u0026lt;/span\u0026gt;({\n                                \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;GET\u0026apos;\u0026lt;/span\u0026gt;,\n                                \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;dataType\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;jsonp\u0026apos;\u0026lt;/span\u0026gt;,\n                                \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;: {},\n                                \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;url\u0026lt;/span\u0026gt;: _reprojection_url,\n                                \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;error\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;jqXHR, textStatus, errorThrown\u0026lt;/span\u0026gt;) {\n                                    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(jqXHR)\n                                },\n                                \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;success\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;) {\n                                    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(data);\n\n                                    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// note: data is already json type, you\u0026lt;/span\u0026gt;\n                                    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//       just specify dataType: jsonp\u0026lt;/span\u0026gt;\n                                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; data;\n                                }\n                            });\n\n\n } \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// function               \u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Just my two cents... regarding \u0026lt;em\u0026gt;How to use a CORS proxy to get around No \u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt; header problems\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For those of you working with php at the backend, deploying a \u0026quot;CORS proxy\u0026quot; is as simple as:\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;create a file named \u0026apos;no-cors.php\u0026apos; with the following content:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;$URL = $_GET[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;url\u0026apos;\u0026lt;/span\u0026gt;];\necho \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;json_encode\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;file_get_contents\u0026lt;/span\u0026gt;($URL));\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;die\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;on your front end, do something like:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;fetch\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;https://example.com/no-cors.php\u0026apos;\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;?url=\u0026apos;\u0026lt;/span\u0026gt; + url)\n  .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;then\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;=\u0026amp;gt;\u0026lt;/span\u0026gt;{*\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/Handle Response/\u0026lt;/span\u0026gt;*})\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;`\n\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Adding \u0026lt;code\u0026gt;mode:no-cors\u0026lt;/code\u0026gt; can avoid CORS issues in the API.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;fetch\u0026lt;/span\u0026gt;(sign_in, {\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;mode\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;no-cors\u0026apos;\u0026lt;/span\u0026gt;,\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;credentials\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;include\u0026apos;\u0026lt;/span\u0026gt;,\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;method\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;POST\u0026apos;\u0026lt;/span\u0026gt;,\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;headers\u0026lt;/span\u0026gt;: headers\n    })\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;then\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; response.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;json\u0026lt;/span\u0026gt;())\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;then\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;json\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(json))\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;error\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Authorization failed : \u0026apos;\u0026lt;/span\u0026gt; + error.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;message\u0026lt;/span\u0026gt;));\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Possible causes of CORS issues\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Check your server-side \u0026lt;em\u0026gt;access\u0026lt;/em\u0026gt; headers: \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Refer to this link\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Check what request header is received from the server in the browser. The below image shows the headers\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/jFJSk.png\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/jFJSk.png\u0026quot; alt=\u0026quot;Enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;If you are using the \u0026lt;code\u0026gt;fetch\u0026lt;/code\u0026gt; method and trying to access the cross-origin request make sure \u0026lt;code\u0026gt;mode:cors\u0026lt;/code\u0026gt; is there. Refer to this \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;link\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Sometimes if there is an issue in the program also you are getting the CORS issue, so make sure your code is working properly.\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Make sure to handle the \u0026lt;code\u0026gt;OPTION\u0026lt;/code\u0026gt; method in your API.\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In December 2021, Chrome 97, the \u0026lt;code\u0026gt;Authorization: Bearer ...\u0026lt;/code\u0026gt; is not allowed unless it is in the \u0026lt;code\u0026gt;Access-Control-Allow-Headers\u0026lt;/code\u0026gt; preflight response (ignores \u0026lt;code\u0026gt;*\u0026lt;/code\u0026gt;).  It produced this warning:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;[\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Deprecation\u0026lt;/span\u0026gt;] authorization will not be covered by the wildcard symbol (*)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;See: \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://support.google.com/chrome/a/answer/7679408#corsAuthMis\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Chrome Enterprise release notes, Chrome 97\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;It also appears to enforce the same restriction on \u0026lt;code\u0026gt;*\u0026lt;/code\u0026gt; on \u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt;.  If you want to revive \u0026lt;code\u0026gt;*\u0026lt;/code\u0026gt;-like behavior now that it is blocked, you\u0026apos;ll likely have to read the requester\u0026apos;s origin and return it as the allowed origin in the preflight response.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;In some cases, a library may drop the \u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt; response header when there is some other invalid credential (example: an expired \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/JSON_Web_Token\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;JWT\u0026lt;/a\u0026gt;).  Then, the browser shows the \u0026quot;No \u0026apos;Access-Control-Allow-Origin\u0026apos; header is present\u0026quot; error instead of the actual error (which in this example could be an expired JWT).  Be sure that your library doesn\u0026apos;t drop the header and confuse the client.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If your API is written in \u0026lt;code\u0026gt;ASP.NET Core\u0026lt;/code\u0026gt;, then please follow the below steps:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Install the \u0026lt;em\u0026gt;Microsoft.AspNetCore.Cors\u0026lt;/em\u0026gt; package.\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Add the below line in the ConfigureServices method in file \u0026lt;em\u0026gt;Startup.cs\u0026lt;/em\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;services.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;AddCors\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Add the below line in the \u0026lt;em\u0026gt;Configure\u0026lt;/em\u0026gt; method in file \u0026lt;em\u0026gt;startup.cs\u0026lt;/em\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;app.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;UseCors\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;options\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt;\n     options.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;WithOrigins\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://localhost:8080\u0026quot;\u0026lt;/span\u0026gt;)\n            .\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;AllowAnyHeader\u0026lt;/span\u0026gt;()\n            .\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;AllowAnyMethod\u0026lt;/span\u0026gt;());\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Make sure you add this after - \u0026lt;code\u0026gt;app.UseRouting();\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Refer to the below image(from MSDN) to see the middleware order:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/vQ4yT.png\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://i.stack.imgur.com/vQ4yT.png\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;With \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Node.js\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Node.js\u0026lt;/a\u0026gt;, if you are using routers, make sure to add CORS before the routers. Otherwise, you\u0026apos;ll still get the CORS error. Like below:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; cors = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;require\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;cors\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; userRouter = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;require\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;./routers/user\u0026apos;\u0026lt;/span\u0026gt;);\n\nexpressApp = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;express\u0026lt;/span\u0026gt;();\nexpressApp.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;use\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;cors\u0026lt;/span\u0026gt;());\nexpressApp.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;use\u0026lt;/span\u0026gt;(express.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;json\u0026lt;/span\u0026gt;());\nexpressApp.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;use\u0026lt;/span\u0026gt;(userRouter);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In case you are using \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Node.js\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Node.js\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Express.js\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Express.js\u0026lt;/a\u0026gt; as the back-end and \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/React_(web_framework)\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;React\u0026lt;/a\u0026gt; \u0026amp;amp; \u0026lt;a href=\u0026quot;https://github.com/mzabriskie/axios\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Axios\u0026lt;/a\u0026gt; as the front-end within a development environment in \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/MacOS\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;macOS\u0026lt;/a\u0026gt;, you need to run both sides under \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/HTTPS\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;HTTPS\u0026lt;/a\u0026gt;. Below is what finally worked for me (after many hours of deep dive and testing):\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Step 1: Create an SSL certificate\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Just follow the steps from \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://www.freecodecamp.org/news/how-to-get-https-working-on-your-local-development-environment-in-5-minutes-7af615770eec/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;How to get HTTPS working on your local development environment in 5 minutes\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You will end up with a couple of files to be used as credentials to run the HTTPS server and React web:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;server.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt; \u0026amp;amp; server.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;crt\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;You need to copy them in the root folders of both the front and back ends (in a \u0026lt;em\u0026gt;production\u0026lt;/em\u0026gt; environment, you might consider copying them in folder \u0026lt;em\u0026gt;./ssh\u0026lt;/em\u0026gt; for the back-end).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Step 2: Back-end setup\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I read a lot of answers proposing the use of \u0026apos;cors\u0026apos; package or even setting (\u0026apos;Access-Control-Allow-Origin\u0026apos;, \u0026apos;*\u0026apos;), which is like saying: \u0026quot;Hackers are welcome to my website\u0026quot;. Just do like this:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; express \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;express\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; emailRouter = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;require\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;./routes/email\u0026apos;\u0026lt;/span\u0026gt;);  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// in my case, I was sending an email through a form in React\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; fs = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;require\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;fs\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; https = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;require\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;https\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; app = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;express\u0026lt;/span\u0026gt;();\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; port = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8000\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// CORS (Cross-Origin Resource Sharing) headers to support Cross-site HTTP requests\u0026lt;/span\u0026gt;\napp.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;all\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;req, res, next\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n    res.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;header\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Access-Control-Allow-Origin\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;https://localhost:3000\u0026quot;\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;();\n});\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Routes definition\u0026lt;/span\u0026gt;\napp.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;use\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/email\u0026apos;\u0026lt;/span\u0026gt;, emailRouter);\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// HTTPS server\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; credentials = {\n  \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;: fs.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;readFileSync\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;server.key\u0026apos;\u0026lt;/span\u0026gt;),\n  \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;cert\u0026lt;/span\u0026gt;: fs.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;readFileSync\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;server.crt\u0026apos;\u0026lt;/span\u0026gt;)\n};\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; httpsServer = https.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;createServer\u0026lt;/span\u0026gt;(credentials, app);\nhttpsServer.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;listen\u0026lt;/span\u0026gt;(port, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;() =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;`Back-end running on port \u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${port}\u0026lt;/span\u0026gt;`\u0026lt;/span\u0026gt;);\n});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;In case you want to test if the https is OK, you can replace the httpsServer constant by the one below:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;https.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;createServer\u0026lt;/span\u0026gt;(credentials, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;req: any, res: any\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n  res.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;writeHead\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;200\u0026lt;/span\u0026gt;);\n  res.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;end\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;hello world from SSL\\n\u0026quot;\u0026lt;/span\u0026gt;);\n}).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;listen\u0026lt;/span\u0026gt;(port, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;() =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;`HTTPS server listening on port \u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${port}\u0026lt;/span\u0026gt;...`\u0026lt;/span\u0026gt;);\n});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;And then access it from a web browser:   https://localhost:8000/\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Step 3: Front-end setup\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This is the Axios request from the React front-end:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;await\u0026lt;/span\u0026gt; axios.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;`https://localhost:8000/email/send`\u0026lt;/span\u0026gt;, {\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;params\u0026lt;/span\u0026gt;: { \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* Whatever data you want to send */\u0026lt;/span\u0026gt; },\n        \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;headers\u0026lt;/span\u0026gt;: {\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Content-Type\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;application/json\u0026apos;\u0026lt;/span\u0026gt;,\n        }\n    })\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;And now, you need to launch your React web in HTTPS mode using the credentials for SSL we already created. Type this in your macOS terminal:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;HTTPS\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;SSL_CRT_FILE\u0026lt;/span\u0026gt;=server.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;crt\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;SSL_KEY_FILE\u0026lt;/span\u0026gt;=server.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt; npm start\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;At this point, you are sending a request from an HTTPS connection at port 3000 from your front-end, to be received by an HTTPS connection at port 8000 by your back-end. CORS should be happy with this ;)\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I was working with \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Spring_Framework\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Spring\u0026lt;/a\u0026gt; \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Representational_state_transfer\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;REST\u0026lt;/a\u0026gt;, and I solved it adding the AllowedMethods into the WebMvcConfigurer.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;@\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Value\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;${app.allow.origins}\u0026quot;\u0026lt;/span\u0026gt; )\n    private \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; allowOrigins;\n@\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Bean\u0026lt;/span\u0026gt;\npublic \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;WebMvcConfigurer\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;corsConfigurer\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;System\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;out\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;println\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;allow origin: \u0026quot;\u0026lt;/span\u0026gt; + allowOrigins);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;WebMvcConfigurerAdapter\u0026lt;/span\u0026gt;() {\n        @\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Override\u0026lt;/span\u0026gt;\n        public \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;addCorsMappings\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;CorsRegistry registry\u0026lt;/span\u0026gt;) {\n            registry.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;addMapping\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/**\u0026quot;\u0026lt;/span\u0026gt;)\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//.allowedOrigins(\u0026quot;http://localhost\u0026quot;)\u0026lt;/span\u0026gt;\n            .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;allowedOrigins\u0026lt;/span\u0026gt;(allowOrigins)\n            .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;allowedMethods\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;PUT\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;DELETE\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;GET\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;POST\u0026quot;\u0026lt;/span\u0026gt;);\n        }\n    };\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Remove this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;credentials\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;include\u0026apos;\u0026lt;/span\u0026gt;,\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I have encountered this error several times over the past few years -- seemingly showing up out of the blue in a previously functioning website.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I determined that Chrome (and possibly other browsers) can return this error when there is some unrelated error that occurs on the server that prevents it from processing the \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Cross-origin_resource_sharing\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;CORS\u0026lt;/a\u0026gt; request (and prior to returning an HTTP 500 error).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;These all occurred in a \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/.NET_Core\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;.NET Core\u0026lt;/a\u0026gt; environment, and I am not sure if it would happen in other environments.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Anyway, if your code has functioned before, and seems correct, consider debugging to find if there is some other error that is firing before you go crazy trying to solve an error that isn\u0026apos;t really there.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In my case, the web server prevented the \u0026quot;OPTIONS\u0026quot; method\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Check your web server for the options method\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Apache: \u0026lt;a href=\u0026quot;https://www-01.ibm.com/support/docview.wss?uid=ibm10735209\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://www-01.ibm.com/support/docview.wss?uid=ibm10735209\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;web tier: 4.4.6 Disabling the Options Method \u0026lt;a href=\u0026quot;https://docs.oracle.com/cd/E23943_01/web.1111/e10144/getstart.htm#HSADM174\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://docs.oracle.com/cd/E23943_01/web.1111/e10144/getstart.htm#HSADM174\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Nginx\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;nginx\u0026lt;/a\u0026gt;: \u0026lt;a href=\u0026quot;https://medium.com/@hariomvashisth/cors-on-nginx-be38dd0e19df\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://medium.com/@hariomvashisth/cors-on-nginx-be38dd0e19df\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;I\u0026apos;m using \u0026quot;webtier\u0026quot;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;/www/webtier/domains/[domainname]/config/fmwconfig/components/OHS/VCWeb1/httpd.conf\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;IfModule\u0026lt;/span\u0026gt; mod_rewrite.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;c\u0026lt;/span\u0026gt;\u0026amp;gt;\n  \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RewriteEngine\u0026lt;/span\u0026gt; on\n  \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RewriteCond\u0026lt;/span\u0026gt; %{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;REQUEST_METHOD\u0026lt;/span\u0026gt;} ^\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;OPTIONS\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RewriteRule\u0026lt;/span\u0026gt; .* . [F]\n\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;IfModule\u0026lt;/span\u0026gt;\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;change to\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;IfModule\u0026lt;/span\u0026gt; mod_rewrite.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;c\u0026lt;/span\u0026gt;\u0026amp;gt;\n  \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RewriteEngine\u0026lt;/span\u0026gt; off\n  \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RewriteCond\u0026lt;/span\u0026gt; %{\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;REQUEST_METHOD\u0026lt;/span\u0026gt;} ^\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;OPTIONS\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RewriteRule\u0026lt;/span\u0026gt; .* . [F]\n\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;IfModule\u0026lt;/span\u0026gt;\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I make this mistake a lot of times, and because of it, I\u0026apos;ve made a \u0026quot;check-list\u0026quot; to all of you.\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Enable \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Cross-origin_resource_sharing\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;CORS\u0026lt;/a\u0026gt; on your project: If you\u0026apos;re using \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Node.js\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Node.js\u0026lt;/a\u0026gt; (by example) you can use:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-none s-code-block\u0026quot;\u0026gt;\u0026lt;code\u0026gt;npm install cors;\nimport cors from \u0026apos;cors\u0026apos;;\napp.use(cors());\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;You can manually set the headers like this (if you want it):\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-none s-code-block\u0026quot;\u0026gt;\u0026lt;code\u0026gt;app.use((req, res, next) =\u0026amp;gt; {\n    res.setHeader(\u0026apos;Access-Control-Allow-Origin\u0026apos;, \u0026apos;*\u0026apos;);\n    res.setHeader(\u0026apos;Access-Control-Allow-Headers\u0026apos;, \u0026apos;Origin, X-Requested-With, Content-Type, Accept, Authortization\u0026apos;);\n    res.setHeader(\u0026apos;Acces-Control-Allow-Methods\u0026apos;, \u0026apos;GET, POST, PATCH, DELETE\u0026apos;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Remember to add \u0026lt;em\u0026gt;http://\u0026lt;/em\u0026gt; to your API link in your frontend project, some browsers like Chrome \u0026lt;em\u0026gt;do not\u0026lt;/em\u0026gt; accept a request using CORS if the request URL isn\u0026apos;t HTTP or HTTPS:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-none s-code-block\u0026quot;\u0026gt;\u0026lt;code\u0026gt;http://localhost:3000/api\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Check if your project is using a \u0026lt;em\u0026gt;proxy.config.js\u0026lt;/em\u0026gt; file. See \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://levelup.gitconnected.com/fixing-cors-errors-with-angular-cli-proxy-e5e0ef143f85\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Fixing CORS errors with Angular CLI proxy\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;When the client used to call our backend service from his host username.companyname.com, he used to get the above error\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Two things are required:\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;while sending back the response, send the header whose key is \u0026lt;em\u0026gt;Access-Control-Allow-Origin\u0026lt;/em\u0026gt; and value is \u0026lt;code\u0026gt;*\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt; context.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Writer\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Header\u0026lt;/span\u0026gt;()[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Access-Control-Allow-Origin\u0026quot;\u0026lt;/span\u0026gt;] = []string{\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;*\u0026quot;\u0026lt;/span\u0026gt;} \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Important to avoid a CORS error\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Use the \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Go_%28programming_language%29\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Go\u0026lt;/a\u0026gt; CORS library to set \u0026lt;strong\u0026gt;AllowCredentials\u0026lt;/strong\u0026gt; to false and \u0026lt;strong\u0026gt;AllowAllOrigins\u0026lt;/strong\u0026gt; to true.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/6nF6P.png\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/6nF6P.png\u0026quot; alt=\u0026quot;Enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;For a \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Node.js\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Node.js\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Express.js\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Express.js\u0026lt;/a\u0026gt; backend I use this :)\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;app.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;use\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;req, res, next\u0026lt;/span\u0026gt;) {\n  res.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;header\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Access-Control-Allow-Origin\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;YOUR-DOMAIN.TLD\u0026quot;\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Update to match the domain you will make the request from\u0026lt;/span\u0026gt;\n  res.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;header\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Access-Control-Allow-Headers\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Origin, X-Requested-With, Content-Type, Accept\u0026quot;\u0026lt;/span\u0026gt;);\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;();\n});\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif1\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For more details: \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://enable-cors.org/server_expressjs.html\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;CORS on ExpressJS\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Use the below npm module. This has virtually saved lives.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://www.npmjs.com/package/local-cors-proxy\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://www.npmjs.com/package/local-cors-proxy\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You\u0026apos;re getting a CORS error, for example like the below URL\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://www.google.co.in/search/list\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://www.google.co.in/search/list\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;After successfully installed(\u0026lt;strong\u0026gt;local-cors-proxy\u0026lt;/strong\u0026gt;) global \u0026lt;code\u0026gt;npm install -g local-cors-proxy\u0026lt;/code\u0026gt; and set proxy URL that CORS URL.\nFor example, here the below CORS issue getting in localhost. So you need to add the domain name(\u0026lt;a href=\u0026quot;https://www.google.co.in\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://www.google.co.in\u0026lt;/a\u0026gt;) and port(--port 8010) for the CORS issue domain.\nFor more please check the link\n\u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://www.npmjs.com/package/local-cors-proxy\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://www.npmjs.com/package/local-cors-proxy\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-none s-code-block\u0026quot;\u0026gt;\u0026lt;code\u0026gt;lcp --proxyUrl https://www.google.co.in --port 8010\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;After successfully set, it will generate the local proxy URL like below.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;http://localhost:8010/proxy\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Use that domain name in your project API URL.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;API full URL:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;http://localhost:8010/proxy/search/list\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;To get without a CORS issue response in your local project.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Try adding all these headers in this code below \u0026lt;em\u0026gt;\u0026lt;strong\u0026gt;Before every route, you define in your app, not after the routes\u0026lt;/strong\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;app.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;use\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;req, res, next\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt;{\nres.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setHeader\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Origin\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;);\nres.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setHeader\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Headers\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Origin, X-Requested-With, Content-Type,Accept, Authortization\u0026apos;\u0026lt;/span\u0026gt;);  \nres.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setHeader\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Acces-Control-Allow-Methods\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;GET, POST, PATCH, DELETE\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you are getting this error while deploying React app to netlify, use these steps.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;step 1: Create \u0026lt;code\u0026gt;netlify.toml\u0026lt;/code\u0026gt; file in the root folder of your react app.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;step 2: Copy paste this code:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;`[[redirects]]\n    from = \u0026quot;/cors-proxy/*\u0026quot;\n    to = \u0026quot;:splat\u0026quot;\n    status = 200\n    force = true`\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/SOL5O.png\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/SOL5O.png\u0026quot; alt=\u0026quot;enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;step3: update your fetch/axios api this way:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/0JL4i.png\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/0JL4i.png\u0026quot; alt=\u0026quot;enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;It took me a while to figure this out.\u0026lt;/p\u0026gt;\n    "],"id":321,"title":"No 'Access-Control-Allow-Origin' header is present on the requested resource—when trying to get data from a REST API","content":"\n                \n\u0026lt;p\u0026gt;I\u0026apos;m trying to fetch some data from the REST API of HP Alm. It works pretty well with a small curl script—I get my data.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Now doing that with JavaScript, fetch and ES6 (more or less) seems to be a bigger issue. I keep getting this error message:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;Fetch API cannot load . Response to preflight request doesn\u0026apos;t\npass access control check: No \u0026apos;Access-Control-Allow-Origin\u0026apos; header is\npresent on the requested resource. Origin \u0026apos;http://127.0.0.1:3000\u0026apos; is\ntherefore not allowed access. The response had HTTP status code 501.\nIf an opaque response serves your needs, set the request\u0026apos;s mode to\n\u0026apos;no-cors\u0026apos; to fetch the resource with CORS disabled.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;I understand that this is because I am trying to fetch that data from within my localhost and the solution should be using \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Cross-Origin Resource Sharing (CORS)\u0026lt;/a\u0026gt;. I thought I actually did that, but somehow it either ignores what I write in the header or the problem is something else.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;So, is there an implementation issue? Am I doing it wrong? I can\u0026apos;t check the server logs unfortunately. I\u0026apos;m really a bit stuck here.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;performSignIn\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; headers = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Headers\u0026lt;/span\u0026gt;();\n\n  headers.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;append\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Content-Type\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;application/json\u0026apos;\u0026lt;/span\u0026gt;);\n  headers.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;append\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Accept\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;application/json\u0026apos;\u0026lt;/span\u0026gt;);\n\n  headers.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;append\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Origin\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;http://localhost:3000\u0026apos;\u0026lt;/span\u0026gt;);\n  headers.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;append\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Credentials\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;true\u0026apos;\u0026lt;/span\u0026gt;);\n\n  headers.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;append\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;GET\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;POST\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;OPTIONS\u0026apos;\u0026lt;/span\u0026gt;);\n\n  headers.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;append\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Authorization\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Basic \u0026apos;\u0026lt;/span\u0026gt; + base64.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;encode\u0026lt;/span\u0026gt;(username + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;:\u0026quot;\u0026lt;/span\u0026gt; + password));\n\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;fetch\u0026lt;/span\u0026gt;(sign_in, {\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//mode: \u0026apos;no-cors\u0026apos;,\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;credentials\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;include\u0026apos;\u0026lt;/span\u0026gt;,\n      \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;method\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;POST\u0026apos;\u0026lt;/span\u0026gt;,\n      \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;headers\u0026lt;/span\u0026gt;: headers\n    })\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;then\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; response.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;json\u0026lt;/span\u0026gt;())\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;then\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;json\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(json))\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;error\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Authorization failed : \u0026apos;\u0026lt;/span\u0026gt; + error.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;message\u0026lt;/span\u0026gt;));\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;I am using Chrome. I also tried using that Chrome CORS Plugin, but then I am getting another error message:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;The value of the \u0026apos;Access-Control-Allow-Origin\u0026apos; header in the response\nmust not be the wildcard \u0026apos;*\u0026apos; when the request\u0026apos;s credentials mode is\n\u0026apos;include\u0026apos;. Origin \u0026apos;http://127.0.0.1:3000\u0026apos; is therefore not allowed\naccess. The credentials mode of requests initiated by the\nXMLHttpRequest is controlled by the withCredentials attribute.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n    ","slug":"no-'access-control-allow-origin'-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467","postType":"QUESTION","createdAt":"2022-07-09T17:27:08.000Z","updatedAt":"2022-07-09T17:27:08.000Z","tags":[{"id":1873,"name":"fetch-api","slug":"fetch-api","createdAt":"2022-07-09T17:27:08.000Z","updatedAt":"2022-07-09T17:27:08.000Z","Questions_Tags":{"questionId":321,"tagId":1873}},{"id":1874,"name":"preflight","slug":"preflight","createdAt":"2022-07-09T17:27:08.000Z","updatedAt":"2022-07-09T17:27:08.000Z","Questions_Tags":{"questionId":321,"tagId":1874}}],"relatedQuestions":[{"title":"No 'Access-Control-Allow-Origin' header is present on the requested resource—when trying to get data from a REST API","slug":"no-'access-control-allow-origin'-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467","tags":[{"name":"fetch-api","Questions_Tags":{"questionId":321,"tagId":1873}},{"name":"preflight","Questions_Tags":{"questionId":321,"tagId":1874}}]}]},"randomQuestions":[{"title":"Why is processing a sorted array faster than processing an unsorted array?","slug":"why-is-processing-a-sorted-array-faster-than-processing-an-unsorted-array-1657385497444"},{"title":"What is the behavior of integer division?","slug":"what-is-the-behavior-of-integer-division-1657388222571"},{"title":"Importing installed package from script raises \"AttributeError: module has no attribute\" or \"ImportError: cannot import name\"","slug":"importing-installed-package-from-script-raises-\"attributeerror:-module-has-no-attribute\"-or-\"importerror:-cannot-import-name\"-1657387790607"},{"title":"Pandas conditional creation of a series/dataframe column","slug":"pandas-conditional-creation-of-a-seriesdataframe-column-1657387461003"},{"title":"How to make good reproducible pandas examples","slug":"how-to-make-good-reproducible-pandas-examples-1657384310402"},{"title":"Syntax error due to using a reserved word as a table or column name in MySQL","slug":"syntax-error-due-to-using-a-reserved-word-as-a-table-or-column-name-in-mysql-1657384689274"},{"title":"Official locator strategies for the webdriver","slug":"official-locator-strategies-for-the-webdriver-1657384353174"},{"title":"Methods in ES6 objects: using arrow functions","slug":"methods-in-es6-objects:-using-arrow-functions-1657388249058"},{"title":"Android permission doesn't work even if I have declared it","slug":"android-permission-doesn't-work-even-if-i-have-declared-it-1657387726990"},{"title":"What is the difference between __str__ and __repr__?","slug":"what-is-the-difference-between-__str__-and-__repr__-1657387738760"},{"title":"What does a \"Cannot find symbol\" or \"Cannot resolve symbol\" error mean?","slug":"what-does-a-\"cannot-find-symbol\"-or-\"cannot-resolve-symbol\"-error-mean-1657384492160"},{"title":"How to deal with mysqli problems? mysqli_fetch_array(): Argument #1 must be of type mysqli_result","slug":"how-to-deal-with-mysqli-problems-mysqli_fetch_array():-argument-1-must-be-of-type-mysqli_result-1657384360922"},{"title":"Why does \"a == x or y or z\" always evaluate to True?","slug":"why-does-\"a-x-or-y-or-z\"-always-evaluate-to-true-1657384855216"},{"title":"When does SQLiteOpenHelper onCreate() / onUpgrade() run?","slug":"when-does-sqliteopenhelper-oncreate()-onupgrade()-run-1657384883864"},{"title":"How to parse JSON in Java","slug":"how-to-parse-json-in-java-1657384575136"},{"title":"Change the maximum upload file size","slug":"change-the-maximum-upload-file-size-1657388495156"},{"title":"What is a clearfix?","slug":"what-is-a-clearfix-1657387337825"},{"title":"What is the strict aliasing rule?","slug":"what-is-the-strict-aliasing-rule-1657384742852"},{"title":"How can I do a FULL OUTER JOIN in MySQL?","slug":"how-can-i-do-a-full-outer-join-in-mysql-1657388175444"},{"title":"How does Access-Control-Allow-Origin header work?","slug":"how-does-access-control-allow-origin-header-work-1657384881723"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"no-'access-control-allow-origin'-header-is-present-on-the-requested-resourcewhen-trying-to-get-data-from-a-rest-api-1657387628467"},"buildId":"xZs8haGjOP63QuDE0kxeX","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>