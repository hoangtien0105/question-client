<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>How to make good reproducible pandas examples | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="
            
        
            
                    
                        
                    
                
                    
                        This question&#x27;s answers are a community effort. Edit existing answers to improve this post. It is not currently accepting new answers or interactions.
                        
                    
                
            
        


    

Having spent a decent amount of time watching both the r and pandas tags on SO, the impression that I get is that pandas questions are less likely to contain reproducible data. This is something that the R community has been pretty good about encouraging, and thanks to guides like this, newcomers are able to get some help on putting together these examples. People who are able to read these guides and come back with reproducible data will often have much better luck getting answers to their questions.

How can we create good reproducible examples for pandas questions? Simple dataframes can be put together, e.g.:

import pandas as pd
df = pd.DataFrame({&#x27;user&#x27;: [&#x27;Bob&#x27;, &#x27;Jane&#x27;, &#x27;Alice&#x27;], 
                   &#x27;income&#x27;: [40000, 50000, 42000]})


But many example datasets need more complicated structure, e.g.:


datetime indices or data
Multiple categorical variables (is there an equivalent to R&#x27;s expand.grid() function, which produces all possible combinations of some given variables?)
MultiIndex or Panel data


For datasets that are hard to mock up using a few lines of code, is there an equivalent to R&#x27;s dput() that allows you to generate copy-pasteable code to regenerate your datastructure?
    "/><meta property="og:title" content="How to make good reproducible pandas examples | Solutions Checker"/><meta property="og:description" content="
            
        
            
                    
                        
                    
                
                    
                        This question&#x27;s answers are a community effort. Edit existing answers to improve this post. It is not currently accepting new answers or interactions.
                        
                    
                
            
        


    

Having spent a decent amount of time watching both the r and pandas tags on SO, the impression that I get is that pandas questions are less likely to contain reproducible data. This is something that the R community has been pretty good about encouraging, and thanks to guides like this, newcomers are able to get some help on putting together these examples. People who are able to read these guides and come back with reproducible data will often have much better luck getting answers to their questions.

How can we create good reproducible examples for pandas questions? Simple dataframes can be put together, e.g.:

import pandas as pd
df = pd.DataFrame({&#x27;user&#x27;: [&#x27;Bob&#x27;, &#x27;Jane&#x27;, &#x27;Alice&#x27;], 
                   &#x27;income&#x27;: [40000, 50000, 42000]})


But many example datasets need more complicated structure, e.g.:


datetime indices or data
Multiple categorical variables (is there an equivalent to R&#x27;s expand.grid() function, which produces all possible combinations of some given variables?)
MultiIndex or Panel data


For datasets that are hard to mock up using a few lines of code, is there an equivalent to R&#x27;s dput() that allows you to generate copy-pasteable code to regenerate your datastructure?
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"How to make good reproducible pandas examples","text":"\n            \n        \n            \n                    \n                        \n                    \n                \n                    \n                        This question&apos;s answers are a community effort. Edit existing answers to improve this post. It is not currently accepting new answers or interactions.\n                        \n                    \n                \n            \n        \n\n\n    \n\nHaving spent a decent amount of time watching both the r and pandas tags on SO, the impression that I get is that pandas questions are less likely to contain reproducible data. This is something that the R community has been pretty good about encouraging, and thanks to guides like this, newcomers are able to get some help on putting together these examples. People who are able to read these guides and come back with reproducible data will often have much better luck getting answers to their questions.\n\nHow can we create good reproducible examples for pandas questions? Simple dataframes can be put together, e.g.:\n\nimport pandas as pd\ndf = pd.DataFrame({&apos;user&apos;: [&apos;Bob&apos;, &apos;Jane&apos;, &apos;Alice&apos;], \n                   &apos;income&apos;: [40000, 50000, 42000]})\n\n\nBut many example datasets need more complicated structure, e.g.:\n\n\ndatetime indices or data\nMultiple categorical variables (is there an equivalent to R&apos;s expand.grid() function, which produces all possible combinations of some given variables?)\nMultiIndex or Panel data\n\n\nFor datasets that are hard to mock up using a few lines of code, is there an equivalent to R&apos;s dput() that allows you to generate copy-pasteable code to regenerate your datastructure?\n    ","answerCount":5,"upVoteCount":500,"suggestedAnswer":[{"text":"Note: The ideas here are pretty generic for Stack Overflow, indeed questions.\nDisclaimer: Writing a good question is hard.\nThe Good:\n\ndo include small* example DataFrame, either as runnable code:\nIn [1]: df = pd.DataFrame([[1, 2], [1, 3], [4, 6]], columns=[&apos;A&apos;, &apos;B&apos;])\n\nor make it &quot;copy and pasteable&quot; using pd.read_clipboard(sep=&apos;\\s\\s+&apos;), you can format the text for Stack Overflow highlight and use Ctrl+K (or prepend four spaces to each line), or place three backticks (```) above and below your code with your code unindented:\nIn [2]: df\nOut[2]:\n   A  B\n0  1  2\n1  1  3\n2  4  6\n\ntest pd.read_clipboard(sep=&apos;\\s\\s+&apos;) yourself.\n* I really do mean small. The vast majority of example DataFrames could be fewer than 6 rows [citation needed], and I bet I can do it in 5 rows. Can you reproduce the error with df = df.head()? If not, fiddle around to see if you can make up a small DataFrame which exhibits the issue you are facing.\n* Every rule has an exception, the obvious one is for performance issues  (in which case definitely use %timeit and possibly %prun), where you should generate: df = pd.DataFrame(np.random.randn(100000000, 10)). Consider using np.random.seed so we have the exact same frame. Saying that, &quot;make this code fast for me&quot; is not strictly on topic for the site.\n\nwrite out the outcome you desire (similarly to above)\nIn [3]: iwantthis\nOut[3]:\n   A  B\n0  1  5\n1  4  6\n\nExplain what the numbers come from: the 5 is sum of the B column for the rows where A is 1.\n\ndo show the code you&apos;ve tried:\nIn [4]: df.groupby(&apos;A&apos;).sum()\nOut[4]:\n   B\nA\n1  5\n4  6\n\nBut say what&apos;s incorrect: the A column is in the index rather than a column.\n\ndo show you&apos;ve done some research (search the documentation, search StackÂ Overflow), and give a summary:\n\nThe docstring for sum simply states &quot;Compute sum of group values&quot;\n\n\nThe groupby documentation doesn&apos;t give any examples for this.\n\nAside: the answer here is to use df.groupby(&apos;A&apos;, as_index=False).sum().\n\nif it&apos;s relevant that you have Timestamp columns, e.g. you&apos;re resampling or something, then be explicit and apply pd.to_datetime to them for good measure**.\ndf[&apos;date&apos;] = pd.to_datetime(df[&apos;date&apos;]) # this column ought to be date..\n\n** Sometimes this is the issue itself: they were strings.\n\n\nThe Bad:\n\ndon&apos;t include a MultiIndex, which we can&apos;t copy and paste (see above). This is kind of a grievance with Pandas&apos; default display, but nonetheless annoying:\nIn [11]: df\nOut[11]:\n     C\nA B\n1 2  3\n  2  6\n\nThe correct way is to include an ordinary DataFrame with a set_index call:\nIn [12]: df = pd.DataFrame([[1, 2, 3], [1, 2, 6]], columns=[&apos;A&apos;, &apos;B&apos;, &apos;C&apos;]).set_index([&apos;A&apos;, &apos;B&apos;])\n\nIn [13]: df\nOut[13]:\n     C\nA B\n1 2  3\n  2  6\n\n\ndo provide insight to what it is when giving the outcome you want:\n   B\nA\n1  1\n5  0\n\nBe specific about how you got the numbers (what are they)... double check they&apos;re correct.\n\nIf your code throws an error, do include the entire stack trace (this can be edited out later if it&apos;s too noisy). Show the line number (and the corresponding line of your code which it&apos;s raising against).\n\n\nThe Ugly:\n\ndon&apos;t link to a CSV file we don&apos;t have access to (ideally don&apos;t link to an external source at all...)\ndf = pd.read_csv(&apos;my_secret_file.csv&apos;)  # ideally with lots of parsing options\n\nMost data is proprietary we get that: Make up similar data and see if you can reproduce the problem (something small).\n\ndon&apos;t explain the situation vaguely in words, like you have a DataFrame which is &quot;large&quot;, mention some of the column names in passing (be sure not to mention their dtypes). Try and go into lots of detail about something which is completely meaningless without seeing the actual context. Presumably no one is even going to read to the end of this paragraph.\nEssays are bad, it&apos;s easier with small examples.\n\ndon&apos;t include 10+ (100+??) lines of data munging before getting to your actual question.\nPlease, we see enough of this in our day jobs. We want to help, but not like this....\nCut the intro, and just show the relevant DataFrames (or small versions of them) in the step which is causing you trouble.\n\n\nAnyway, have fun learning Python, NumPy and Pandas!\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"How to create sample datasets\nThis is to mainly to expand on AndyHayden&apos;s answer by providing examples of how you can create sample dataframes.  Pandas and (especially) NumPy give you a variety of tools for this such that you can generally create a reasonable facsimile of any real dataset with just a few lines of code.\nAfter importing NumPy and Pandas, be sure to provide a random seed if you want folks to be able to exactly reproduce your data and results.\nimport numpy as np\nimport pandas as pd\n\nnp.random.seed(123)\n\nA kitchen sink example\nHere&apos;s an example showing a variety of things you can do.  All kinds of useful sample dataframes could be created from a subset of this:\ndf = pd.DataFrame({\n\n    # some ways to create random data\n    &apos;a&apos;:np.random.randn(6),\n    &apos;b&apos;:np.random.choice( [5,7,np.nan], 6),\n    &apos;c&apos;:np.random.choice( [&apos;panda&apos;,&apos;python&apos;,&apos;shark&apos;], 6),\n\n    # some ways to create systematic groups for indexing or groupby\n    # this is similar to R&apos;s expand.grid(), see note 2 below\n    &apos;d&apos;:np.repeat( range(3), 2 ),\n    &apos;e&apos;:np.tile(   range(2), 3 ),\n\n    # a date range and set of random dates\n    &apos;f&apos;:pd.date_range(&apos;1/1/2011&apos;, periods=6, freq=&apos;D&apos;),\n    &apos;g&apos;:np.random.choice( pd.date_range(&apos;1/1/2011&apos;, periods=365,\n                          freq=&apos;D&apos;), 6, replace=False)\n    })\n\nThis produces:\n          a   b       c  d  e          f          g\n0 -1.085631 NaN   panda  0  0 2011-01-01 2011-08-12\n1  0.997345   7   shark  0  1 2011-01-02 2011-11-10\n2  0.282978   5   panda  1  0 2011-01-03 2011-10-30\n3 -1.506295   7  python  1  1 2011-01-04 2011-09-07\n4 -0.578600 NaN   shark  2  0 2011-01-05 2011-02-27\n5  1.651437   7  python  2  1 2011-01-06 2011-02-03\n\nSome notes:\n\nnp.repeat and np.tile (columns d and e) are very useful for creating groups and indices in a very regular way.  For 2 columns, this can be used to easily duplicate r&apos;s expand.grid() but is also more flexible in ability to provide a subset of all permutations.  However, for 3 or more columns the syntax quickly becomes unwieldy.\nFor a more direct replacement for R&apos;s expand.grid() see the itertools solution in the pandas cookbook or the np.meshgrid solution shown here.  Those will allow any number of dimensions.\nYou can do quite a bit with np.random.choice.  For example, in column g, we have a random selection of six dates from 2011.  Additionally, by setting replace=False we can assure these dates are unique -- very handy if we want to use this as an index with unique values.\n\nFake stock market data\nIn addition to taking subsets of the above code, you can further combine the techniques to do just about anything.  For example, here&apos;s a short example that combines np.tile and date_range to create sample ticker data for 4 stocks covering the same dates:\nstocks = pd.DataFrame({\n    &apos;ticker&apos;:np.repeat( [&apos;aapl&apos;,&apos;goog&apos;,&apos;yhoo&apos;,&apos;msft&apos;], 25 ),\n    &apos;date&apos;:np.tile( pd.date_range(&apos;1/1/2011&apos;, periods=25, freq=&apos;D&apos;), 4 ),\n    &apos;price&apos;:(np.random.randn(100).cumsum() + 10) })\n\nNow we have a sample dataset with 100 lines (25 dates per ticker), but we have only used 4 lines to do it, making it easy for everyone else to reproduce without copying and pasting 100 lines of code.  You can then display subsets of the data if it helps to explain your question:\n&gt;&gt;&gt; stocks.head(5)\n\n        date      price ticker\n0 2011-01-01   9.497412   aapl\n1 2011-01-02  10.261908   aapl\n2 2011-01-03   9.438538   aapl\n3 2011-01-04   9.515958   aapl\n4 2011-01-05   7.554070   aapl\n\n&gt;&gt;&gt; stocks.groupby(&apos;ticker&apos;).head(2)\n\n         date      price ticker\n0  2011-01-01   9.497412   aapl\n1  2011-01-02  10.261908   aapl\n25 2011-01-01   8.277772   goog\n26 2011-01-02   7.714916   goog\n50 2011-01-01   5.613023   yhoo\n51 2011-01-02   6.397686   yhoo\n75 2011-01-01  11.736584   msft\n76 2011-01-02  11.944519   msft\n\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"Diary of an Answerer\n\nMy best advice for asking questions would be to play on the psychology of the people who answer questions.  Being one of those people, I can give insight into why I answer certain questions and why I don&apos;t answer others.\n\nMotivations\n\nI&apos;m motivated to answer questions for several reasons\n\n\nStackoverflow.com has been a tremendously valuable resource to me.  I wanted to give back.\nIn my efforts to give back, I&apos;ve found this site to be an even more powerful resource than before.  Answering questions is a learning experience for me and I like to learn.  Read this answer and comment from another vet.  This kind of interaction makes me happy.\nI like points!\nSee #3.\nI like interesting problems.\n\n\nAll my purest intentions are great and all, but I get that satisfaction if I answer 1 question or 30.  What drives my choices for which questions to answer has a huge component of point maximization.\n\nI&apos;ll also spend time on interesting problems but that is few and far between and doesn&apos;t help an asker who needs a solution to a non-interesting question.  Your best bet to get me to answer a question is to serve that question up on a platter ripe for me to answer it with as little effort as possible.  If I&apos;m looking at two questions and one has code I can copy paste to create all the variables I need... I&apos;m taking that one!  I&apos;ll come back to the other one if I have time, maybe.\n\nMain Advice\n\nMake it easy for the people answering questions.\n\n\nProvide code that creates variables that are needed.\nMinimize that code.  If my eyes glaze over as I look at the post, I&apos;m on to the next question or getting back to whatever else I&apos;m doing.\nThink about what you&apos;re asking and be specific.  We want to see what you&apos;ve done because natural languages (English) are inexact and confusing.  Code samples of what you&apos;ve tried help resolve inconsistencies in a natural language description.\nPLEASE show what you expect!!!  I have to sit down and try things.  I almost never know the answer to a question without trying some things out.  If I don&apos;t see an example of what you&apos;re looking for, I might pass on the question because I don&apos;t feel like guessing.\n\n\nYour reputation is more than just your reputation.\n\nI like points (I mentioned that above).  But those points aren&apos;t really really my reputation.  My real reputation is an amalgamation of what others on the site think of me.  I strive to be fair and honest and I hope others can see that.  What that means for an asker is, we remember the behaviors of askers.  If you don&apos;t select answers and upvote good answers, I remember.  If you behave in ways I don&apos;t like or in ways I do like, I remember.  This also plays into which questions I&apos;ll answer.\n\n\n\nAnyway, I can probably go on, but I&apos;ll spare all of you who actually read this.\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"The Challenge One of the most challenging aspects of responding to SO questions is the time it takes to recreate the problem (including the data).  Questions which don&apos;t have a clear way to reproduce the data are less likely to be answered.  Given that you are taking the time to write a question and you have an issue that you&apos;d like help with, you can easily help yourself by providing data that others can then use to help solve your problem.\nThe instructions provided by @Andy for writing good Pandas questions are an excellent place to start.  For more information, refer to how to ask and how to create Minimal, Complete, and Verifiable examples.\nPlease clearly state your question upfront.  After taking the time to write your question and any sample code, try to read it and provide an &apos;Executive Summary&apos; for your reader which summarizes the problem and clearly states the question.\nOriginal question:\n\nI have this data...\nI want to do this...\nI want my result to look like this...\nHowever, when I try to do [this], I get the following problem...\nI&apos;ve tried to find solutions by doing [this] and [that].\nHow do I fix it?\n\nDepending on the amount of data, sample code and error stacks provided, the reader needs to go a long way before understanding what the problem is.  Try restating your question so that the question itself is on top, and then provide the necessary details.\nRevised Question:\n\nQustion:  How can I do [this]?\nI&apos;ve tried to find solutions by doing [this] and [that].\nWhen I&apos;ve tried to do [this], I get the following problem...\nI&apos;d like my final results to look like this...\nHere is some minimal code that can reproduce my problem...\nAnd here is how to recreate my sample data:\ndf = pd.DataFrame({&apos;A&apos;: [...], &apos;B&apos;: [...], ...})\n\nPROVIDE SAMPLE DATA IF NEEDED!!!\nSometimes just the head or tail of the DataFrame is all that is needed.  You can also use the methods proposed by @JohnE to create larger datasets that can be reproduced by others.  Using his example to generate a 100 row DataFrame of stock prices:\nstocks = pd.DataFrame({ \n    &apos;ticker&apos;:np.repeat( [&apos;aapl&apos;,&apos;goog&apos;,&apos;yhoo&apos;,&apos;msft&apos;], 25 ),\n    &apos;date&apos;:np.tile( pd.date_range(&apos;1/1/2011&apos;, periods=25, freq=&apos;D&apos;), 4 ),\n    &apos;price&apos;:(np.random.randn(100).cumsum() + 10) })\n\nIf this was your actual data, you may just want to include the head and/or tail of the dataframe as follows (be sure to anonymize any sensitive data):\n&gt;&gt;&gt; stocks.head(5).to_dict()\n{&apos;date&apos;: {0: Timestamp(&apos;2011-01-01 00:00:00&apos;),\n  1: Timestamp(&apos;2011-01-01 00:00:00&apos;),\n  2: Timestamp(&apos;2011-01-01 00:00:00&apos;),\n  3: Timestamp(&apos;2011-01-01 00:00:00&apos;),\n  4: Timestamp(&apos;2011-01-02 00:00:00&apos;)},\n &apos;price&apos;: {0: 10.284260107718254,\n  1: 11.930300761831457,\n  2: 10.93741046217319,\n  3: 10.884574289565609,\n  4: 11.78005850418319},\n &apos;ticker&apos;: {0: &apos;aapl&apos;, 1: &apos;aapl&apos;, 2: &apos;aapl&apos;, 3: &apos;aapl&apos;, 4: &apos;aapl&apos;}}\n\n&gt;&gt;&gt; pd.concat([stocks.head(), stocks.tail()], ignore_index=True).to_dict()\n{&apos;date&apos;: {0: Timestamp(&apos;2011-01-01 00:00:00&apos;),\n  1: Timestamp(&apos;2011-01-01 00:00:00&apos;),\n  2: Timestamp(&apos;2011-01-01 00:00:00&apos;),\n  3: Timestamp(&apos;2011-01-01 00:00:00&apos;),\n  4: Timestamp(&apos;2011-01-02 00:00:00&apos;),\n  5: Timestamp(&apos;2011-01-24 00:00:00&apos;),\n  6: Timestamp(&apos;2011-01-25 00:00:00&apos;),\n  7: Timestamp(&apos;2011-01-25 00:00:00&apos;),\n  8: Timestamp(&apos;2011-01-25 00:00:00&apos;),\n  9: Timestamp(&apos;2011-01-25 00:00:00&apos;)},\n &apos;price&apos;: {0: 10.284260107718254,\n  1: 11.930300761831457,\n  2: 10.93741046217319,\n  3: 10.884574289565609,\n  4: 11.78005850418319,\n  5: 10.017209045035006,\n  6: 10.57090128181566,\n  7: 11.442792747870204,\n  8: 11.592953372130493,\n  9: 12.864146419530938},\n &apos;ticker&apos;: {0: &apos;aapl&apos;,\n  1: &apos;aapl&apos;,\n  2: &apos;aapl&apos;,\n  3: &apos;aapl&apos;,\n  4: &apos;aapl&apos;,\n  5: &apos;msft&apos;,\n  6: &apos;msft&apos;,\n  7: &apos;msft&apos;,\n  8: &apos;msft&apos;,\n  9: &apos;msft&apos;}}\n\nYou may also want to provide a description of the DataFrame (using only the relevant columns).  This makes it easier for others to check the data types of each column and identify other common errors (e.g. dates as string vs. datetime64 vs. object):\nstocks.info()\n&lt;class &apos;pandas.core.frame.DataFrame&apos;&gt;\nInt64Index: 100 entries, 0 to 99\nData columns (total 3 columns):\ndate      100 non-null datetime64[ns]\nprice     100 non-null float64\nticker    100 non-null object\ndtypes: datetime64[ns](1), float64(1), object(1)\n\nNOTE:  If your DataFrame has a MultiIndex:\nIf your DataFrame has a multiindex, you must first reset before calling to_dict.  You then need to recreate the index using set_index:\n# MultiIndex example.  First create a MultiIndex DataFrame.\ndf = stocks.set_index([&apos;date&apos;, &apos;ticker&apos;])\n&gt;&gt;&gt; df\n                       price\ndate       ticker           \n2011-01-01 aapl    10.284260\n           aapl    11.930301\n           aapl    10.937410\n           aapl    10.884574\n2011-01-02 aapl    11.780059\n...\n\n# After resetting the index and passing the DataFrame to `to_dict`, make sure to use \n# `set_index` to restore the original MultiIndex.  This DataFrame can then be restored.\n\nd = df.reset_index().to_dict()\ndf_new = pd.DataFrame(d).set_index([&apos;date&apos;, &apos;ticker&apos;])\n&gt;&gt;&gt; df_new.head()\n                       price\ndate       ticker           \n2011-01-01 aapl    10.284260\n           aapl    11.930301\n           aapl    10.937410\n           aapl    10.884574\n2011-01-02 aapl    11.780059\n\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"Here is my version of dput - the standard R tool to produce reproducible reports - for Pandas DataFrames.\nIt will probably fail for more complex frames, but it seems to do the job in simple cases:\nimport pandas as pd\ndef dput(x):\n    if isinstance(x,pd.Series):\n        return &quot;pd.Series(%s,dtype=&apos;%s&apos;,index=pd.%s)&quot; % (list(x),x.dtype,x.index)\n    if isinstance(x,pd.DataFrame):\n        return &quot;pd.DataFrame({&quot; + &quot;, &quot;.join([\n            &quot;&apos;%s&apos;: %s&quot; % (c,dput(x[c])) for c in x.columns]) + (\n                &quot;}, index=pd.%s)&quot; % (x.index))\n    raise NotImplementedError(&quot;dput&quot;,type(x),x)\n\nnow,\ndf = pd.DataFrame({&apos;a&apos;:[1,2,3,4,2,1,3,1]})\nassert df.equals(eval(dput(df)))\ndu = pd.get_dummies(df.a,&quot;foo&quot;)\nassert du.equals(eval(dput(du)))\ndi = df\ndi.index = list(&apos;abcdefgh&apos;)\nassert di.equals(eval(dput(di)))\n\nNote that this produces a much more verbose output than DataFrame.to_dict, e.g.,\n\npd.DataFrame({\n  &apos;foo_1&apos;:pd.Series([1, 0, 0, 0, 0, 1, 0, 1],dtype=&apos;uint8&apos;,index=pd.RangeIndex(start=0, stop=8, step=1)),\n  &apos;foo_2&apos;:pd.Series([0, 1, 0, 0, 1, 0, 0, 0],dtype=&apos;uint8&apos;,index=pd.RangeIndex(start=0, stop=8, step=1)),\n  &apos;foo_3&apos;:pd.Series([0, 0, 1, 0, 0, 0, 1, 0],dtype=&apos;uint8&apos;,index=pd.RangeIndex(start=0, stop=8, step=1)),\n  &apos;foo_4&apos;:pd.Series([0, 0, 0, 1, 0, 0, 0, 0],dtype=&apos;uint8&apos;,index=pd.RangeIndex(start=0, stop=8, step=1))},\n  index=pd.RangeIndex(start=0, stop=8, step=1))\n\n\nvs\n\n{&apos;foo_1&apos;: {0: 1, 1: 0, 2: 0, 3: 0, 4: 0, 5: 1, 6: 0, 7: 1}, \n &apos;foo_2&apos;: {0: 0, 1: 1, 2: 0, 3: 0, 4: 1, 5: 0, 6: 0, 7: 0}, \n &apos;foo_3&apos;: {0: 0, 1: 0, 2: 1, 3: 0, 4: 0, 5: 0, 6: 1, 7: 0}, \n &apos;foo_4&apos;: {0: 0, 1: 0, 2: 0, 3: 1, 4: 0, 5: 0, 6: 0, 7: 0}}\n\n\nfor du above, but it preserves column types.\nE.g., in the above test case,\ndu.equals(pd.DataFrame(du.to_dict()))\n==&gt; False\n\nbecause du.dtypes is uint8 and pd.DataFrame(du.to_dict()).dtypes is int64.\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08d1a634dea6705e.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/150-b06815e21c943e0d.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/108-87de33c23337ff53.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-79a1437acf654019.js" defer=""></script><script src="/_next/static/6ctJfCympFH_chh5mjicD/_buildManifest.js" defer=""></script><script src="/_next/static/6ctJfCympFH_chh5mjicD/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-to-make-good-reproducible-pandas-examples-1657384310402#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-to-make-good-reproducible-pandas-examples-1657384310402"><h1>How to make good reproducible pandas examples</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/python">python</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/pandas">pandas</a></div></div><div class="question-content mt-5">
                    <div>
            <aside class="s-notice s-notice__info post-notice js-post-notice mb16" role="status">
        <div class="d-flex fd-column fw-nowrap">
            <div class="d-flex fw-nowrap">
                    <div class="flex--item mr8">
                        <svg aria-hidden="true" class="svg-icon iconLock" width="18" height="18" viewBox="0 0 18 18"><path d="M16 9a2 2 0 0 0-2-2V6A5 5 0 0 0 4 6v1a2 2 0 0 0-2 2v6c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9Zm-7 5a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm3.1-7H5.9V6a3.1 3.1 0 0 1 6.2 0v1Z"></path></svg>
                    </div>
                <div class="flex--item wmn0 fl1 lh-lg">
                    <div class="flex--item fl1 lh-lg">
                        <b>This question's answers are a <a href="/help/privileges/edit-community-wiki">community effort</a></b>. Edit existing answers to improve this post. It is not currently accepting new answers or interactions.
                        
                    </div>
                </div>
            </div>
        </div>
</aside>

    </div>

<p>Having spent a decent amount of time watching both the <a href="/questions/tagged/r" class="post-tag" title="show questions tagged 'r'" rel="tag">r</a> and <a href="/questions/tagged/pandas" class="post-tag" title="show questions tagged 'pandas'" rel="tag">pandas</a> tags on SO, the impression that I get is that <code>pandas</code> questions are less likely to contain reproducible data. This is something that the R community has been pretty good about encouraging, and thanks to guides like <a href="https://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example">this</a>, newcomers are able to get some help on putting together these examples. People who are able to read these guides and come back with reproducible data will often have much better luck getting answers to their questions.</p>

<p>How can we create good reproducible examples for <code>pandas</code> questions? Simple dataframes can be put together, e.g.:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
df = pd.DataFrame({<span class="hljs-string">'user'</span>: [<span class="hljs-string">'Bob'</span>, <span class="hljs-string">'Jane'</span>, <span class="hljs-string">'Alice'</span>], 
                   <span class="hljs-string">'income'</span>: [<span class="hljs-number">40000</span>, <span class="hljs-number">50000</span>, <span class="hljs-number">42000</span>]})
</code></pre>

<p>But many example datasets need more complicated structure, e.g.:</p>

<ul>
<li><code>datetime</code> indices or data</li>
<li>Multiple categorical variables (is there an equivalent to R's <code>expand.grid()</code> function, which produces all possible combinations of some given variables?)</li>
<li>MultiIndex or Panel data</li>
</ul>

<p>For datasets that are hard to mock up using a few lines of code, is there an equivalent to R's <code>dput()</code> that allows you to generate copy-pasteable code to regenerate your datastructure?</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python">python</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pandas">pandas</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><em>Note: The ideas here are pretty generic for Stack Overflow, indeed <a href="http://sscce.org/" rel="noreferrer">questions</a>.</em></p>
<h3>Disclaimer: Writing a good question is <em>hard</em>.</h3>
<h2>The Good:</h2>
<ul>
<li><p>do include small* example DataFrame, either as runnable code:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">In [<span class="hljs-number">1</span>]: df = pd.DataFrame([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">6</span>]], columns=[<span class="hljs-string">'A'</span>, <span class="hljs-string">'B'</span>])
</code></pre>
<p>or make it "copy and pasteable" using <code>pd.read_clipboard(sep='\s\s+')</code>, you can format the text for Stack Overflow highlight and use <kbd>Ctrl</kbd>+<kbd>K</kbd> (or prepend four spaces to each line), or place three backticks (```) above and below your code with your code unindented:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">In [<span class="hljs-number">2</span>]: df
Out[<span class="hljs-number">2</span>]:
   A  B
<span class="hljs-number">0</span>  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>
<span class="hljs-number">1</span>  <span class="hljs-number">1</span>  <span class="hljs-number">3</span>
<span class="hljs-number">2</span>  <span class="hljs-number">4</span>  <span class="hljs-number">6</span>
</code></pre>
<p>test <code>pd.read_clipboard(sep='\s\s+')</code> yourself.</p>
<p>* <em>I really do mean <strong>small</strong>. The vast majority of example DataFrames could be fewer than 6 rows <sup>[citation needed]</sup>, and <strong>I bet I can do it in 5 rows.</strong> Can you reproduce the error with <code>df = df.head()</code>? If not, fiddle around to see if you can make up a small DataFrame which exhibits the issue you are facing.</em></p>
<p>* <em>Every rule has an exception, the obvious one is for performance issues  (<a href="http://ipython.org/ipython-doc/dev/interactive/tutorial.html#magic-functions" rel="noreferrer">in which case definitely use %timeit and possibly %prun</a>), where you should generate: <code>df = pd.DataFrame(np.random.randn(100000000, 10))</code>. Consider using <code>np.random.seed</code> so we have the exact same frame. Saying that, "make this code fast for me" is not strictly on topic for the site.</em></p>
</li>
<li><p>write out the outcome you desire (similarly to above)</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">In [<span class="hljs-number">3</span>]: iwantthis
Out[<span class="hljs-number">3</span>]:
   A  B
<span class="hljs-number">0</span>  <span class="hljs-number">1</span>  <span class="hljs-number">5</span>
<span class="hljs-number">1</span>  <span class="hljs-number">4</span>  <span class="hljs-number">6</span>
</code></pre>
<p><em>Explain what the numbers come from: the 5 is sum of the B column for the rows where A is 1.</em></p>
</li>
<li><p>do show <em>the code</em> you've tried:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">In [<span class="hljs-number">4</span>]: df.groupby(<span class="hljs-string">'A'</span>).<span class="hljs-built_in">sum</span>()
Out[<span class="hljs-number">4</span>]:
   B
A
<span class="hljs-number">1</span>  <span class="hljs-number">5</span>
<span class="hljs-number">4</span>  <span class="hljs-number">6</span>
</code></pre>
<p><em>But say what's incorrect: the A column is in the index rather than a column.</em></p>
</li>
<li><p>do show you've done some research (<a href="http://pandas.pydata.org/pandas-docs/stable/search.html?q=groupby+sum" rel="noreferrer">search the documentation</a>, <a href="https://stackoverflow.com/search?q=%5Bpandas%5D+groupby+sum">search Stack&nbsp;Overflow</a>), and give a summary:</p>
<blockquote>
<p>The docstring for sum simply states "Compute sum of group values"</p>
</blockquote>
<blockquote>
<p>The <a href="http://pandas.pydata.org/pandas-docs/stable/groupby.html#cython-optimized-aggregation-functions" rel="noreferrer">groupby documentation</a> doesn't give any examples for this.</p>
</blockquote>
<p><em>Aside: the answer here is to use <code>df.groupby('A', as_index=False).sum()</code>.</em></p>
</li>
<li><p>if it's relevant that you have Timestamp columns, e.g. you're resampling or something, then be explicit and apply <code>pd.to_datetime</code> to them for good measure**.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">df[<span class="hljs-string">'date'</span>] = pd.to_datetime(df[<span class="hljs-string">'date'</span>]) <span class="hljs-comment"># this column ought to be date..</span>
</code></pre>
<p>** <em>Sometimes this is the issue itself: they were strings.</em></p>
</li>
</ul>
<h2>The Bad:</h2>
<ul>
<li><p>don't include a MultiIndex, which <strong>we can't copy and paste</strong> (see above). This is kind of a grievance with Pandas' default display, but nonetheless annoying:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">In [<span class="hljs-number">11</span>]: df
Out[<span class="hljs-number">11</span>]:
     C
A B
<span class="hljs-number">1</span> <span class="hljs-number">2</span>  <span class="hljs-number">3</span>
  <span class="hljs-number">2</span>  <span class="hljs-number">6</span>
</code></pre>
<p><em>The correct way is to include an ordinary DataFrame with a <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.set_index.html" rel="noreferrer"><code>set_index</code></a> call:</em></p>
<pre class="lang-py s-code-block"><code class="hljs language-python">In [<span class="hljs-number">12</span>]: df = pd.DataFrame([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>]], columns=[<span class="hljs-string">'A'</span>, <span class="hljs-string">'B'</span>, <span class="hljs-string">'C'</span>]).set_index([<span class="hljs-string">'A'</span>, <span class="hljs-string">'B'</span>])

In [<span class="hljs-number">13</span>]: df
Out[<span class="hljs-number">13</span>]:
     C
A B
<span class="hljs-number">1</span> <span class="hljs-number">2</span>  <span class="hljs-number">3</span>
  <span class="hljs-number">2</span>  <span class="hljs-number">6</span>
</code></pre>
</li>
<li><p>do provide insight to what it is when giving the outcome you want:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">   B
A
<span class="hljs-number">1</span>  <span class="hljs-number">1</span>
<span class="hljs-number">5</span>  <span class="hljs-number">0</span>
</code></pre>
<p><em>Be specific about how you got the numbers (what are they)... double check they're correct.</em></p>
</li>
<li><p>If your code throws an error, do include the entire stack trace (this can be edited out later if it's too noisy). Show the line number (and the corresponding line of your code which it's raising against).</p>
</li>
</ul>
<h2>The Ugly:</h2>
<ul>
<li><p>don't link to a <a href="https://en.wikipedia.org/wiki/Comma-separated_values" rel="noreferrer">CSV</a> file we don't have access to (ideally don't link to an external source at all...)</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">df = pd.read_csv(<span class="hljs-string">'my_secret_file.csv'</span>)  <span class="hljs-comment"># ideally with lots of parsing options</span>
</code></pre>
<p><em><strong>Most data is proprietary</strong> we get that: Make up similar data and see if you can reproduce the problem (something small).</em></p>
</li>
<li><p>don't explain the situation vaguely in words, like you have a DataFrame which is "large", mention some of the column names in passing (be sure not to mention their dtypes). Try and go into lots of detail about something which is completely meaningless without seeing the actual context. Presumably no one is even going to read to the end of this paragraph.</p>
<p><em>Essays are bad, it's easier with small examples.</em></p>
</li>
<li><p>don't include 10+ (100+??) lines of data munging before getting to your actual question.</p>
<p><em>Please, we see enough of this in our day jobs. We want to help, but <a href="https://www.youtube.com/watch?v=ECfRp-jwbI4" rel="noreferrer">not like this...</a>.</em>
<em>Cut the intro, and just show the relevant DataFrames (or small versions of them) in the step which is causing you trouble.</em></p>
</li>
</ul>
<h3>Anyway, have fun learning Python, NumPy and Pandas!</h3>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python">python</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pandas">pandas</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2 id="how-to-create-sample-datasets-g7je">How to create sample datasets</h2>
<p>This is to mainly to expand on <a href="https://stackoverflow.com/questions/20109391/how-to-make-good-reproducible-pandas-examples/20159305#20159305">AndyHayden's answer</a> by providing examples of how you can create sample dataframes.  Pandas and (especially) NumPy give you a variety of tools for this such that you can generally create a reasonable facsimile of any real dataset with just a few lines of code.</p>
<p>After importing NumPy and Pandas, be sure to provide a random seed if you want folks to be able to exactly reproduce your data and results.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

np.random.seed(<span class="hljs-number">123</span>)
</code></pre>
<h3 id="a-kitchen-sink-example-q2h8">A kitchen sink example</h3>
<p>Here's an example showing a variety of things you can do.  All kinds of useful sample dataframes could be created from a subset of this:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">df = pd.DataFrame({

    <span class="hljs-comment"># some ways to create random data</span>
    <span class="hljs-string">'a'</span>:np.random.randn(<span class="hljs-number">6</span>),
    <span class="hljs-string">'b'</span>:np.random.choice( [<span class="hljs-number">5</span>,<span class="hljs-number">7</span>,np.nan], <span class="hljs-number">6</span>),
    <span class="hljs-string">'c'</span>:np.random.choice( [<span class="hljs-string">'panda'</span>,<span class="hljs-string">'python'</span>,<span class="hljs-string">'shark'</span>], <span class="hljs-number">6</span>),

    <span class="hljs-comment"># some ways to create systematic groups for indexing or groupby</span>
    <span class="hljs-comment"># this is similar to R's expand.grid(), see note 2 below</span>
    <span class="hljs-string">'d'</span>:np.repeat( <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>), <span class="hljs-number">2</span> ),
    <span class="hljs-string">'e'</span>:np.tile(   <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>), <span class="hljs-number">3</span> ),

    <span class="hljs-comment"># a date range and set of random dates</span>
    <span class="hljs-string">'f'</span>:pd.date_range(<span class="hljs-string">'1/1/2011'</span>, periods=<span class="hljs-number">6</span>, freq=<span class="hljs-string">'D'</span>),
    <span class="hljs-string">'g'</span>:np.random.choice( pd.date_range(<span class="hljs-string">'1/1/2011'</span>, periods=<span class="hljs-number">365</span>,
                          freq=<span class="hljs-string">'D'</span>), <span class="hljs-number">6</span>, replace=<span class="hljs-literal">False</span>)
    })
</code></pre>
<p>This produces:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">          a   b       c  d  e          f          g
<span class="hljs-number">0</span> -<span class="hljs-number">1.085631</span> NaN   panda  <span class="hljs-number">0</span>  <span class="hljs-number">0</span> <span class="hljs-number">2011</span>-01-01 <span class="hljs-number">2011</span>-08-<span class="hljs-number">12</span>
<span class="hljs-number">1</span>  <span class="hljs-number">0.997345</span>   <span class="hljs-number">7</span>   shark  <span class="hljs-number">0</span>  <span class="hljs-number">1</span> <span class="hljs-number">2011</span>-01-02 <span class="hljs-number">2011</span>-<span class="hljs-number">11</span>-<span class="hljs-number">10</span>
<span class="hljs-number">2</span>  <span class="hljs-number">0.282978</span>   <span class="hljs-number">5</span>   panda  <span class="hljs-number">1</span>  <span class="hljs-number">0</span> <span class="hljs-number">2011</span>-01-03 <span class="hljs-number">2011</span>-<span class="hljs-number">10</span>-<span class="hljs-number">30</span>
<span class="hljs-number">3</span> -<span class="hljs-number">1.506295</span>   <span class="hljs-number">7</span>  python  <span class="hljs-number">1</span>  <span class="hljs-number">1</span> <span class="hljs-number">2011</span>-01-04 <span class="hljs-number">2011</span>-09-07
<span class="hljs-number">4</span> -<span class="hljs-number">0.578600</span> NaN   shark  <span class="hljs-number">2</span>  <span class="hljs-number">0</span> <span class="hljs-number">2011</span>-01-05 <span class="hljs-number">2011</span>-02-<span class="hljs-number">27</span>
<span class="hljs-number">5</span>  <span class="hljs-number">1.651437</span>   <span class="hljs-number">7</span>  python  <span class="hljs-number">2</span>  <span class="hljs-number">1</span> <span class="hljs-number">2011</span>-01-06 <span class="hljs-number">2011</span>-02-03
</code></pre>
<p>Some notes:</p>
<ol>
<li><code>np.repeat</code> and <code>np.tile</code> (columns <code>d</code> and <code>e</code>) are very useful for creating groups and indices in a very regular way.  For 2 columns, this can be used to easily duplicate r's <code>expand.grid()</code> but is also more flexible in ability to provide a subset of all permutations.  However, for 3 or more columns the syntax quickly becomes unwieldy.</li>
<li>For a more direct replacement for R's <code>expand.grid()</code> see the <code>itertools</code> solution in the <a href="http://pandas.pydata.org/pandas-docs/version/0.16.1/cookbook.html#creating-example-data" rel="nofollow noreferrer">pandas cookbook</a> or the <code>np.meshgrid</code> solution shown <a href="https://stackoverflow.com/questions/12130883/r-expand-grid-function-in-python">here</a>.  Those will allow any number of dimensions.</li>
<li>You can do quite a bit with <code>np.random.choice</code>.  For example, in column <code>g</code>, we have a random selection of six dates from 2011.  Additionally, by setting <code>replace=False</code> we can assure these dates are unique -- very handy if we want to use this as an index with unique values.</li>
</ol>
<h3 id="fake-stock-market-data-abwo">Fake stock market data</h3>
<p>In addition to taking subsets of the above code, you can further combine the techniques to do just about anything.  For example, here's a short example that combines <code>np.tile</code> and <code>date_range</code> to create sample ticker data for 4 stocks covering the same dates:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">stocks = pd.DataFrame({
    <span class="hljs-string">'ticker'</span>:np.repeat( [<span class="hljs-string">'aapl'</span>,<span class="hljs-string">'goog'</span>,<span class="hljs-string">'yhoo'</span>,<span class="hljs-string">'msft'</span>], <span class="hljs-number">25</span> ),
    <span class="hljs-string">'date'</span>:np.tile( pd.date_range(<span class="hljs-string">'1/1/2011'</span>, periods=<span class="hljs-number">25</span>, freq=<span class="hljs-string">'D'</span>), <span class="hljs-number">4</span> ),
    <span class="hljs-string">'price'</span>:(np.random.randn(<span class="hljs-number">100</span>).cumsum() + <span class="hljs-number">10</span>) })
</code></pre>
<p>Now we have a sample dataset with 100 lines (25 dates per ticker), but we have only used 4 lines to do it, making it easy for everyone else to reproduce without copying and pasting 100 lines of code.  You can then display subsets of the data if it helps to explain your question:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-meta">&gt;&gt;&gt; </span>stocks.head(<span class="hljs-number">5</span>)

        date      price ticker
<span class="hljs-number">0</span> <span class="hljs-number">2011</span>-01-01   <span class="hljs-number">9.497412</span>   aapl
<span class="hljs-number">1</span> <span class="hljs-number">2011</span>-01-02  <span class="hljs-number">10.261908</span>   aapl
<span class="hljs-number">2</span> <span class="hljs-number">2011</span>-01-03   <span class="hljs-number">9.438538</span>   aapl
<span class="hljs-number">3</span> <span class="hljs-number">2011</span>-01-04   <span class="hljs-number">9.515958</span>   aapl
<span class="hljs-number">4</span> <span class="hljs-number">2011</span>-01-05   <span class="hljs-number">7.554070</span>   aapl

<span class="hljs-meta">&gt;&gt;&gt; </span>stocks.groupby(<span class="hljs-string">'ticker'</span>).head(<span class="hljs-number">2</span>)

         date      price ticker
<span class="hljs-number">0</span>  <span class="hljs-number">2011</span>-01-01   <span class="hljs-number">9.497412</span>   aapl
<span class="hljs-number">1</span>  <span class="hljs-number">2011</span>-01-02  <span class="hljs-number">10.261908</span>   aapl
<span class="hljs-number">25</span> <span class="hljs-number">2011</span>-01-01   <span class="hljs-number">8.277772</span>   goog
<span class="hljs-number">26</span> <span class="hljs-number">2011</span>-01-02   <span class="hljs-number">7.714916</span>   goog
<span class="hljs-number">50</span> <span class="hljs-number">2011</span>-01-01   <span class="hljs-number">5.613023</span>   yhoo
<span class="hljs-number">51</span> <span class="hljs-number">2011</span>-01-02   <span class="hljs-number">6.397686</span>   yhoo
<span class="hljs-number">75</span> <span class="hljs-number">2011</span>-01-01  <span class="hljs-number">11.736584</span>   msft
<span class="hljs-number">76</span> <span class="hljs-number">2011</span>-01-02  <span class="hljs-number">11.944519</span>   msft
</code></pre>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python">python</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pandas">pandas</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h1>Diary of an Answerer</h1>

<p>My best advice for asking questions would be to play on the psychology of the people who answer questions.  Being one of those people, I can give insight into why I answer certain questions and why I don't answer others.</p>

<h3>Motivations</h3>

<p>I'm motivated to answer questions for several reasons</p>

<ol>
<li>Stackoverflow.com has been a tremendously valuable resource to me.  I wanted to give back.</li>
<li>In my efforts to give back, I've found this site to be an even more powerful resource than before.  Answering questions is a learning experience for me and I like to learn.  <a href="https://stackoverflow.com/a/38444638/2336654">Read this answer and comment from another vet</a>.  This kind of interaction makes me happy.</li>
<li>I like points!</li>
<li>See #3.</li>
<li>I like interesting problems.</li>
</ol>

<p>All my purest intentions are great and all, but I get that satisfaction if I answer 1 question or 30.  <strong>What drives my choices</strong> for which questions to answer has a huge component of point maximization.</p>

<p>I'll also spend time on interesting problems but that is few and far between and doesn't help an asker who needs a solution to a non-interesting question.  Your best bet to get me to answer a question is to serve that question up on a platter ripe for me to answer it with as little effort as possible.  If I'm looking at two questions and one has code I can copy paste to create all the variables I need... I'm taking that one!  I'll come back to the other one if I have time, maybe.</p>

<h3>Main Advice</h3>

<p>Make it easy for the people answering questions.</p>

<ul>
<li>Provide code that creates variables that are needed.</li>
<li>Minimize that code.  If my eyes glaze over as I look at the post, I'm on to the next question or getting back to whatever else I'm doing.</li>
<li>Think about what you're asking and be specific.  We want to see what you've done because natural languages (English) are inexact and confusing.  Code samples of what you've tried help resolve inconsistencies in a natural language description.</li>
<li>PLEASE show what you expect!!!  I have to sit down and try things.  I almost never know the answer to a question without trying some things out.  If I don't see an example of what you're looking for, I might pass on the question because I don't feel like guessing.</li>
</ul>

<h3>Your reputation is more than just your reputation.</h3>

<p>I like points (I mentioned that above).  But those points aren't really really my reputation.  My real reputation is an amalgamation of what others on the site think of me.  I strive to be fair and honest and I hope others can see that.  What that means for an asker is, we remember the behaviors of askers.  If you don't select answers and upvote good answers, I remember.  If you behave in ways I don't like or in ways I do like, I remember.  This also plays into which questions I'll answer.</p>

<hr>

<p>Anyway, I can probably go on, but I'll spare all of you who actually read this.</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python">python</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pandas">pandas</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>The Challenge</strong> One of the most challenging aspects of responding to SO questions is the time it takes to recreate the problem (including the data).  Questions which don't have a clear way to reproduce the data are less likely to be answered.  Given that you are taking the time to write a question and you have an issue that you'd like help with, you can easily help yourself by providing data that others can then use to help solve your problem.</p>
<p>The instructions provided by @Andy for writing good Pandas questions are an excellent place to start.  For more information, refer to <a href="https://stackoverflow.com/help/how-to-ask">how to ask</a> and how to create <a href="https://stackoverflow.com/help/mcve">Minimal, Complete, and Verifiable examples</a>.</p>
<p><strong>Please clearly state your question upfront.</strong>  After taking the time to write your question and any sample code, try to read it and provide an 'Executive Summary' for your reader which summarizes the problem and clearly states the question.</p>
<p><em>Original question</em>:</p>
<blockquote>
<p>I have this data...</p>
<p>I want to do this...</p>
<p>I want my result to look like this...</p>
<p>However, when I try to do [this], I get the following problem...</p>
<p>I've tried to find solutions by doing [this] and [that].</p>
<p>How do I fix it?</p>
</blockquote>
<p>Depending on the amount of data, sample code and error stacks provided, the reader needs to go a long way before understanding what the problem is.  Try restating your question so that the question itself is on top, and then provide the necessary details.</p>
<p><em>Revised Question</em>:</p>
<blockquote>
<p><strong>Qustion:</strong>  How can I do [this]?</p>
<p>I've tried to find solutions by doing [this] and [that].</p>
<p>When I've tried to do [this], I get the following problem...</p>
<p>I'd like my final results to look like this...</p>
<p>Here is some minimal code that can reproduce my problem...</p>
<p>And here is how to recreate my sample data:
<code>df = pd.DataFrame({'A': [...], 'B': [...], ...})</code></p>
</blockquote>
<p><strong>PROVIDE SAMPLE DATA IF NEEDED!!!</strong></p>
<p>Sometimes just the head or tail of the DataFrame is all that is needed.  You can also use the methods proposed by @JohnE to create larger datasets that can be reproduced by others.  Using his example to generate a 100 row DataFrame of stock prices:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">stocks = pd.DataFrame({ 
    <span class="hljs-string">'ticker'</span>:np.repeat( [<span class="hljs-string">'aapl'</span>,<span class="hljs-string">'goog'</span>,<span class="hljs-string">'yhoo'</span>,<span class="hljs-string">'msft'</span>], <span class="hljs-number">25</span> ),
    <span class="hljs-string">'date'</span>:np.tile( pd.date_range(<span class="hljs-string">'1/1/2011'</span>, periods=<span class="hljs-number">25</span>, freq=<span class="hljs-string">'D'</span>), <span class="hljs-number">4</span> ),
    <span class="hljs-string">'price'</span>:(np.random.randn(<span class="hljs-number">100</span>).cumsum() + <span class="hljs-number">10</span>) })
</code></pre>
<p>If this was your actual data, you may just want to include the head and/or tail of the dataframe as follows (be sure to anonymize any sensitive data):</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-meta">&gt;&gt;&gt; </span>stocks.head(<span class="hljs-number">5</span>).to_dict()
{<span class="hljs-string">'date'</span>: {<span class="hljs-number">0</span>: Timestamp(<span class="hljs-string">'2011-01-01 00:00:00'</span>),
  <span class="hljs-number">1</span>: Timestamp(<span class="hljs-string">'2011-01-01 00:00:00'</span>),
  <span class="hljs-number">2</span>: Timestamp(<span class="hljs-string">'2011-01-01 00:00:00'</span>),
  <span class="hljs-number">3</span>: Timestamp(<span class="hljs-string">'2011-01-01 00:00:00'</span>),
  <span class="hljs-number">4</span>: Timestamp(<span class="hljs-string">'2011-01-02 00:00:00'</span>)},
 <span class="hljs-string">'price'</span>: {<span class="hljs-number">0</span>: <span class="hljs-number">10.284260107718254</span>,
  <span class="hljs-number">1</span>: <span class="hljs-number">11.930300761831457</span>,
  <span class="hljs-number">2</span>: <span class="hljs-number">10.93741046217319</span>,
  <span class="hljs-number">3</span>: <span class="hljs-number">10.884574289565609</span>,
  <span class="hljs-number">4</span>: <span class="hljs-number">11.78005850418319</span>},
 <span class="hljs-string">'ticker'</span>: {<span class="hljs-number">0</span>: <span class="hljs-string">'aapl'</span>, <span class="hljs-number">1</span>: <span class="hljs-string">'aapl'</span>, <span class="hljs-number">2</span>: <span class="hljs-string">'aapl'</span>, <span class="hljs-number">3</span>: <span class="hljs-string">'aapl'</span>, <span class="hljs-number">4</span>: <span class="hljs-string">'aapl'</span>}}

<span class="hljs-meta">&gt;&gt;&gt; </span>pd.concat([stocks.head(), stocks.tail()], ignore_index=<span class="hljs-literal">True</span>).to_dict()
{<span class="hljs-string">'date'</span>: {<span class="hljs-number">0</span>: Timestamp(<span class="hljs-string">'2011-01-01 00:00:00'</span>),
  <span class="hljs-number">1</span>: Timestamp(<span class="hljs-string">'2011-01-01 00:00:00'</span>),
  <span class="hljs-number">2</span>: Timestamp(<span class="hljs-string">'2011-01-01 00:00:00'</span>),
  <span class="hljs-number">3</span>: Timestamp(<span class="hljs-string">'2011-01-01 00:00:00'</span>),
  <span class="hljs-number">4</span>: Timestamp(<span class="hljs-string">'2011-01-02 00:00:00'</span>),
  <span class="hljs-number">5</span>: Timestamp(<span class="hljs-string">'2011-01-24 00:00:00'</span>),
  <span class="hljs-number">6</span>: Timestamp(<span class="hljs-string">'2011-01-25 00:00:00'</span>),
  <span class="hljs-number">7</span>: Timestamp(<span class="hljs-string">'2011-01-25 00:00:00'</span>),
  <span class="hljs-number">8</span>: Timestamp(<span class="hljs-string">'2011-01-25 00:00:00'</span>),
  <span class="hljs-number">9</span>: Timestamp(<span class="hljs-string">'2011-01-25 00:00:00'</span>)},
 <span class="hljs-string">'price'</span>: {<span class="hljs-number">0</span>: <span class="hljs-number">10.284260107718254</span>,
  <span class="hljs-number">1</span>: <span class="hljs-number">11.930300761831457</span>,
  <span class="hljs-number">2</span>: <span class="hljs-number">10.93741046217319</span>,
  <span class="hljs-number">3</span>: <span class="hljs-number">10.884574289565609</span>,
  <span class="hljs-number">4</span>: <span class="hljs-number">11.78005850418319</span>,
  <span class="hljs-number">5</span>: <span class="hljs-number">10.017209045035006</span>,
  <span class="hljs-number">6</span>: <span class="hljs-number">10.57090128181566</span>,
  <span class="hljs-number">7</span>: <span class="hljs-number">11.442792747870204</span>,
  <span class="hljs-number">8</span>: <span class="hljs-number">11.592953372130493</span>,
  <span class="hljs-number">9</span>: <span class="hljs-number">12.864146419530938</span>},
 <span class="hljs-string">'ticker'</span>: {<span class="hljs-number">0</span>: <span class="hljs-string">'aapl'</span>,
  <span class="hljs-number">1</span>: <span class="hljs-string">'aapl'</span>,
  <span class="hljs-number">2</span>: <span class="hljs-string">'aapl'</span>,
  <span class="hljs-number">3</span>: <span class="hljs-string">'aapl'</span>,
  <span class="hljs-number">4</span>: <span class="hljs-string">'aapl'</span>,
  <span class="hljs-number">5</span>: <span class="hljs-string">'msft'</span>,
  <span class="hljs-number">6</span>: <span class="hljs-string">'msft'</span>,
  <span class="hljs-number">7</span>: <span class="hljs-string">'msft'</span>,
  <span class="hljs-number">8</span>: <span class="hljs-string">'msft'</span>,
  <span class="hljs-number">9</span>: <span class="hljs-string">'msft'</span>}}
</code></pre>
<p>You may also want to provide a description of the DataFrame (using only the relevant columns).  This makes it easier for others to check the data types of each column and identify other common errors (e.g. dates as string vs. datetime64 vs. object):</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">stocks.info()
&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">'pandas.core.frame.DataFrame'</span>&gt;
Int64Index: <span class="hljs-number">100</span> entries, <span class="hljs-number">0</span> to <span class="hljs-number">99</span>
Data columns (total <span class="hljs-number">3</span> columns):
date      <span class="hljs-number">100</span> non-null datetime64[ns]
price     <span class="hljs-number">100</span> non-null float64
ticker    <span class="hljs-number">100</span> non-null <span class="hljs-built_in">object</span>
dtypes: datetime64[ns](<span class="hljs-number">1</span>), float64(<span class="hljs-number">1</span>), <span class="hljs-built_in">object</span>(<span class="hljs-number">1</span>)
</code></pre>
<p><strong>NOTE:  If your DataFrame has a MultiIndex:</strong></p>
<p>If your DataFrame has a multiindex, you must first reset before calling <code>to_dict</code>.  You then need to recreate the index using <code>set_index</code>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-comment"># MultiIndex example.  First create a MultiIndex DataFrame.</span>
df = stocks.set_index([<span class="hljs-string">'date'</span>, <span class="hljs-string">'ticker'</span>])
<span class="hljs-meta">&gt;&gt;&gt; </span>df
                       price
date       ticker           
<span class="hljs-number">2011</span>-01-01 aapl    <span class="hljs-number">10.284260</span>
           aapl    <span class="hljs-number">11.930301</span>
           aapl    <span class="hljs-number">10.937410</span>
           aapl    <span class="hljs-number">10.884574</span>
<span class="hljs-number">2011</span>-01-02 aapl    <span class="hljs-number">11.780059</span>
...

<span class="hljs-comment"># After resetting the index and passing the DataFrame to `to_dict`, make sure to use </span>
<span class="hljs-comment"># `set_index` to restore the original MultiIndex.  This DataFrame can then be restored.</span>

d = df.reset_index().to_dict()
df_new = pd.DataFrame(d).set_index([<span class="hljs-string">'date'</span>, <span class="hljs-string">'ticker'</span>])
<span class="hljs-meta">&gt;&gt;&gt; </span>df_new.head()
                       price
date       ticker           
<span class="hljs-number">2011</span>-01-01 aapl    <span class="hljs-number">10.284260</span>
           aapl    <span class="hljs-number">11.930301</span>
           aapl    <span class="hljs-number">10.937410</span>
           aapl    <span class="hljs-number">10.884574</span>
<span class="hljs-number">2011</span>-01-02 aapl    <span class="hljs-number">11.780059</span>
</code></pre>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/python">python</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/pandas">pandas</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here is my version of <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/dput.html" rel="noreferrer"><code>dput</code></a> - the standard R tool to produce reproducible reports - for Pandas <code>DataFrame</code>s.
It will probably fail for more complex frames, but it seems to do the job in simple cases:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">def</span> <span class="hljs-title function_">dput</span>(<span class="hljs-params">x</span>):
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(x,pd.Series):
        <span class="hljs-keyword">return</span> <span class="hljs-string">"pd.Series(%s,dtype='%s',index=pd.%s)"</span> % (<span class="hljs-built_in">list</span>(x),x.dtype,x.index)
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(x,pd.DataFrame):
        <span class="hljs-keyword">return</span> <span class="hljs-string">"pd.DataFrame({"</span> + <span class="hljs-string">", "</span>.join([
            <span class="hljs-string">"'%s': %s"</span> % (c,dput(x[c])) <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> x.columns]) + (
                <span class="hljs-string">"}, index=pd.%s)"</span> % (x.index))
    <span class="hljs-keyword">raise</span> NotImplementedError(<span class="hljs-string">"dput"</span>,<span class="hljs-built_in">type</span>(x),x)
</code></pre>
<p>now,</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">df = pd.DataFrame({<span class="hljs-string">'a'</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>]})
<span class="hljs-keyword">assert</span> df.equals(<span class="hljs-built_in">eval</span>(dput(df)))
du = pd.get_dummies(df.a,<span class="hljs-string">"foo"</span>)
<span class="hljs-keyword">assert</span> du.equals(<span class="hljs-built_in">eval</span>(dput(du)))
di = df
di.index = <span class="hljs-built_in">list</span>(<span class="hljs-string">'abcdefgh'</span>)
<span class="hljs-keyword">assert</span> di.equals(<span class="hljs-built_in">eval</span>(dput(di)))
</code></pre>
<p><strong>Note</strong> that this produces a much more verbose output than <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_dict.html" rel="noreferrer"><code>DataFrame.to_dict</code></a>, e.g.,</p>
<blockquote>
<pre class="lang-py s-code-block"><code class="hljs language-python">pd.DataFrame({
  <span class="hljs-string">'foo_1'</span>:pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>],dtype=<span class="hljs-string">'uint8'</span>,index=pd.RangeIndex(start=<span class="hljs-number">0</span>, stop=<span class="hljs-number">8</span>, step=<span class="hljs-number">1</span>)),
  <span class="hljs-string">'foo_2'</span>:pd.Series([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>],dtype=<span class="hljs-string">'uint8'</span>,index=pd.RangeIndex(start=<span class="hljs-number">0</span>, stop=<span class="hljs-number">8</span>, step=<span class="hljs-number">1</span>)),
  <span class="hljs-string">'foo_3'</span>:pd.Series([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>],dtype=<span class="hljs-string">'uint8'</span>,index=pd.RangeIndex(start=<span class="hljs-number">0</span>, stop=<span class="hljs-number">8</span>, step=<span class="hljs-number">1</span>)),
  <span class="hljs-string">'foo_4'</span>:pd.Series([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>],dtype=<span class="hljs-string">'uint8'</span>,index=pd.RangeIndex(start=<span class="hljs-number">0</span>, stop=<span class="hljs-number">8</span>, step=<span class="hljs-number">1</span>))},
  index=pd.RangeIndex(start=<span class="hljs-number">0</span>, stop=<span class="hljs-number">8</span>, step=<span class="hljs-number">1</span>))
</code></pre>
</blockquote>
<p>vs</p>
<blockquote>
<pre class="lang-py s-code-block"><code class="hljs language-python">{<span class="hljs-string">'foo_1'</span>: {<span class="hljs-number">0</span>: <span class="hljs-number">1</span>, <span class="hljs-number">1</span>: <span class="hljs-number">0</span>, <span class="hljs-number">2</span>: <span class="hljs-number">0</span>, <span class="hljs-number">3</span>: <span class="hljs-number">0</span>, <span class="hljs-number">4</span>: <span class="hljs-number">0</span>, <span class="hljs-number">5</span>: <span class="hljs-number">1</span>, <span class="hljs-number">6</span>: <span class="hljs-number">0</span>, <span class="hljs-number">7</span>: <span class="hljs-number">1</span>}, 
 <span class="hljs-string">'foo_2'</span>: {<span class="hljs-number">0</span>: <span class="hljs-number">0</span>, <span class="hljs-number">1</span>: <span class="hljs-number">1</span>, <span class="hljs-number">2</span>: <span class="hljs-number">0</span>, <span class="hljs-number">3</span>: <span class="hljs-number">0</span>, <span class="hljs-number">4</span>: <span class="hljs-number">1</span>, <span class="hljs-number">5</span>: <span class="hljs-number">0</span>, <span class="hljs-number">6</span>: <span class="hljs-number">0</span>, <span class="hljs-number">7</span>: <span class="hljs-number">0</span>}, 
 <span class="hljs-string">'foo_3'</span>: {<span class="hljs-number">0</span>: <span class="hljs-number">0</span>, <span class="hljs-number">1</span>: <span class="hljs-number">0</span>, <span class="hljs-number">2</span>: <span class="hljs-number">1</span>, <span class="hljs-number">3</span>: <span class="hljs-number">0</span>, <span class="hljs-number">4</span>: <span class="hljs-number">0</span>, <span class="hljs-number">5</span>: <span class="hljs-number">0</span>, <span class="hljs-number">6</span>: <span class="hljs-number">1</span>, <span class="hljs-number">7</span>: <span class="hljs-number">0</span>}, 
 <span class="hljs-string">'foo_4'</span>: {<span class="hljs-number">0</span>: <span class="hljs-number">0</span>, <span class="hljs-number">1</span>: <span class="hljs-number">0</span>, <span class="hljs-number">2</span>: <span class="hljs-number">0</span>, <span class="hljs-number">3</span>: <span class="hljs-number">1</span>, <span class="hljs-number">4</span>: <span class="hljs-number">0</span>, <span class="hljs-number">5</span>: <span class="hljs-number">0</span>, <span class="hljs-number">6</span>: <span class="hljs-number">0</span>, <span class="hljs-number">7</span>: <span class="hljs-number">0</span>}}
</code></pre>
</blockquote>
<p>for <code>du</code> above, but it <em>preserves column types</em>.
E.g., in the above test case,</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">du.equals(pd.DataFrame(du.to_dict()))
==&gt; <span class="hljs-literal">False</span>
</code></pre>
<p>because <code>du.dtypes</code> is <code>uint8</code> and <code>pd.DataFrame(du.to_dict()).dtypes</code> is <code>int64</code>.</p>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/what&#x27;s-the-simplest-way-to-print-a-java-array-1657384702397">What&#x27;s the simplest way to print a Java array?</a><a href="/questions/how-do-i-match-any-character-across-multiple-lines-in-a-regular-expression-1657387839720">How do I match any character across multiple lines in a regular expression?</a><a href="/questions/what-is-move-semantics-1657387702625">What is move semantics?</a><a href="/questions/why-do-i-get-a-segmentation-fault-when-writing-to-a-%22char-*s%22-initialized-with-a-string-literal-but-not-%22char-s%22-1657385511046">Why do I get a segmentation fault when writing to a &quot;char *s&quot; initialized with a string literal, but not &quot;char s[]&quot;?</a><a href="/questions/which-equals-operator-(-vs-)-should-be-used-in-javascript-comparisons-1657384663105">Which equals operator (== vs ===) should be used in JavaScript comparisons?</a><a href="/questions/how-do-i-return-the-response-from-an-asynchronous-call-1657384208012">How do I return the response from an asynchronous call?</a><a href="/questions/how-to-reshape-data-from-long-to-wide-format-1657384486421">How to reshape data from long to wide format</a><a href="/questions/what-are-the-rules-about-using-an-underscore-in-a-c++-identifier-1657384557197">What are the rules about using an underscore in a C++ identifier?</a><a href="/questions/how-to-deal-with-settingwithcopywarning-in-pandas-1657384778377">How to deal with SettingWithCopyWarning in Pandas</a><a href="/questions/how-to-get-all-possible-combinations-of-a-list&#x27;s-elements-1657388271070">How to get all possible combinations of a listâs elements?</a><a href="/questions/how-can-i-combine-two-strings-together-in-php-1657388279401">How can I combine two strings together in PHP?</a><a href="/questions/how-can-i-access-and-process-nested-objects-arrays-or-json-1657384332823">How can I access and process nested objects, arrays, or JSON?</a><a href="/questions/how-do-i-iterate-over-the-words-of-a-string-1657384806129">How do I iterate over the words of a string?</a><a href="/questions/how-to-use-regular-expressions-(regex)-in-microsoft-excel-both-in-cell-and-loops-1657387487287">How to use Regular Expressions (Regex) in Microsoft Excel both in-cell and loops</a><a href="/questions/actual-meaning-of-&#x27;shelltrue&#x27;-in-subprocess-1657388470341">Actual meaning of &#x27;shell=True&#x27; in subprocess</a><a href="/questions/why-is-24.0000-not-equal-to-24.0000-in-matlab-1657388376753">Why is 24.0000 not equal to 24.0000 in MATLAB?</a><a href="/questions/how-to-center-an-element-horizontally-and-vertically-1657388132330">How to center an element horizontally and vertically</a><a href="/questions/how-do-i-expire-a-php-session-after-30-minutes-1657387990658">How do I expire a PHP session after 30 minutes?</a><a href="/questions/how-do-i-make-git-forget-about-a-file-that-was-tracked-but-is-now-in-.gitignore-1657387328843">How do I make Git forget about a file that was tracked, but is now in .gitignore?</a><a href="/questions/is-storing-a-delimited-list-in-a-database-column-really-that-bad-1657384474773">Is storing a delimited list in a database column really that bad?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Note: The ideas here are pretty generic for Stack Overflow, indeed \u0026lt;a href=\u0026quot;http://sscce.org/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;questions\u0026lt;/a\u0026gt;.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;Disclaimer: Writing a good question is \u0026lt;em\u0026gt;hard\u0026lt;/em\u0026gt;.\u0026lt;/h3\u0026gt;\n\u0026lt;h2\u0026gt;The Good:\u0026lt;/h2\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;do include small* example DataFrame, either as runnable code:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;In [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;]: df = pd.DataFrame([[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;], [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;], [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;]], columns=[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;B\u0026apos;\u0026lt;/span\u0026gt;])\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;or make it \u0026quot;copy and pasteable\u0026quot; using \u0026lt;code\u0026gt;pd.read_clipboard(sep=\u0026apos;\\s\\s+\u0026apos;)\u0026lt;/code\u0026gt;, you can format the text for Stack Overflow highlight and use \u0026lt;kbd\u0026gt;Ctrl\u0026lt;/kbd\u0026gt;+\u0026lt;kbd\u0026gt;K\u0026lt;/kbd\u0026gt; (or prepend four spaces to each line), or place three backticks (```) above and below your code with your code unindented:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;In [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;]: df\nOut[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;]:\n   A  B\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;test \u0026lt;code\u0026gt;pd.read_clipboard(sep=\u0026apos;\\s\\s+\u0026apos;)\u0026lt;/code\u0026gt; yourself.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;* \u0026lt;em\u0026gt;I really do mean \u0026lt;strong\u0026gt;small\u0026lt;/strong\u0026gt;. The vast majority of example DataFrames could be fewer than 6 rows \u0026lt;sup\u0026gt;[citation needed]\u0026lt;/sup\u0026gt;, and \u0026lt;strong\u0026gt;I bet I can do it in 5 rows.\u0026lt;/strong\u0026gt; Can you reproduce the error with \u0026lt;code\u0026gt;df = df.head()\u0026lt;/code\u0026gt;? If not, fiddle around to see if you can make up a small DataFrame which exhibits the issue you are facing.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;* \u0026lt;em\u0026gt;Every rule has an exception, the obvious one is for performance issues  (\u0026lt;a href=\u0026quot;http://ipython.org/ipython-doc/dev/interactive/tutorial.html#magic-functions\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;in which case definitely use %timeit and possibly %prun\u0026lt;/a\u0026gt;), where you should generate: \u0026lt;code\u0026gt;df = pd.DataFrame(np.random.randn(100000000, 10))\u0026lt;/code\u0026gt;. Consider using \u0026lt;code\u0026gt;np.random.seed\u0026lt;/code\u0026gt; so we have the exact same frame. Saying that, \u0026quot;make this code fast for me\u0026quot; is not strictly on topic for the site.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;write out the outcome you desire (similarly to above)\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;In [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;]: iwantthis\nOut[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;]:\n   A  B\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Explain what the numbers come from: the 5 is sum of the B column for the rows where A is 1.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;do show \u0026lt;em\u0026gt;the code\u0026lt;/em\u0026gt; you\u0026apos;ve tried:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;In [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;]: df.groupby(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sum\u0026lt;/span\u0026gt;()\nOut[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;]:\n   B\nA\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;But say what\u0026apos;s incorrect: the A column is in the index rather than a column.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;do show you\u0026apos;ve done some research (\u0026lt;a href=\u0026quot;http://pandas.pydata.org/pandas-docs/stable/search.html?q=groupby+sum\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;search the documentation\u0026lt;/a\u0026gt;, \u0026lt;a href=\u0026quot;https://stackoverflow.com/search?q=%5Bpandas%5D+groupby+sum\u0026quot;\u0026gt;search Stack\u0026amp;nbsp;Overflow\u0026lt;/a\u0026gt;), and give a summary:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;The docstring for sum simply states \u0026quot;Compute sum of group values\u0026quot;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;The \u0026lt;a href=\u0026quot;http://pandas.pydata.org/pandas-docs/stable/groupby.html#cython-optimized-aggregation-functions\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;groupby documentation\u0026lt;/a\u0026gt; doesn\u0026apos;t give any examples for this.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Aside: the answer here is to use \u0026lt;code\u0026gt;df.groupby(\u0026apos;A\u0026apos;, as_index=False).sum()\u0026lt;/code\u0026gt;.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;if it\u0026apos;s relevant that you have Timestamp columns, e.g. you\u0026apos;re resampling or something, then be explicit and apply \u0026lt;code\u0026gt;pd.to_datetime\u0026lt;/code\u0026gt; to them for good measure**.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;date\u0026apos;\u0026lt;/span\u0026gt;] = pd.to_datetime(df[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;date\u0026apos;\u0026lt;/span\u0026gt;]) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# this column ought to be date..\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;** \u0026lt;em\u0026gt;Sometimes this is the issue itself: they were strings.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;h2\u0026gt;The Bad:\u0026lt;/h2\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;don\u0026apos;t include a MultiIndex, which \u0026lt;strong\u0026gt;we can\u0026apos;t copy and paste\u0026lt;/strong\u0026gt; (see above). This is kind of a grievance with Pandas\u0026apos; default display, but nonetheless annoying:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;In [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11\u0026lt;/span\u0026gt;]: df\nOut[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11\u0026lt;/span\u0026gt;]:\n     C\nA B\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;The correct way is to include an ordinary DataFrame with a \u0026lt;a href=\u0026quot;http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.set_index.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;set_index\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; call:\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;In [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;]: df = pd.DataFrame([[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;], [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;]], columns=[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;B\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;C\u0026apos;\u0026lt;/span\u0026gt;]).set_index([\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;A\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;B\u0026apos;\u0026lt;/span\u0026gt;])\n\nIn [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;13\u0026lt;/span\u0026gt;]: df\nOut[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;13\u0026lt;/span\u0026gt;]:\n     C\nA B\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;do provide insight to what it is when giving the outcome you want:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;   B\nA\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Be specific about how you got the numbers (what are they)... double check they\u0026apos;re correct.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;If your code throws an error, do include the entire stack trace (this can be edited out later if it\u0026apos;s too noisy). Show the line number (and the corresponding line of your code which it\u0026apos;s raising against).\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;h2\u0026gt;The Ugly:\u0026lt;/h2\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;don\u0026apos;t link to a \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Comma-separated_values\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;CSV\u0026lt;/a\u0026gt; file we don\u0026apos;t have access to (ideally don\u0026apos;t link to an external source at all...)\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df = pd.read_csv(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;my_secret_file.csv\u0026apos;\u0026lt;/span\u0026gt;)  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# ideally with lots of parsing options\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;\u0026lt;strong\u0026gt;Most data is proprietary\u0026lt;/strong\u0026gt; we get that: Make up similar data and see if you can reproduce the problem (something small).\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;don\u0026apos;t explain the situation vaguely in words, like you have a DataFrame which is \u0026quot;large\u0026quot;, mention some of the column names in passing (be sure not to mention their dtypes). Try and go into lots of detail about something which is completely meaningless without seeing the actual context. Presumably no one is even going to read to the end of this paragraph.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Essays are bad, it\u0026apos;s easier with small examples.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;don\u0026apos;t include 10+ (100+??) lines of data munging before getting to your actual question.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Please, we see enough of this in our day jobs. We want to help, but \u0026lt;a href=\u0026quot;https://www.youtube.com/watch?v=ECfRp-jwbI4\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;not like this...\u0026lt;/a\u0026gt;.\u0026lt;/em\u0026gt;\n\u0026lt;em\u0026gt;Cut the intro, and just show the relevant DataFrames (or small versions of them) in the step which is causing you trouble.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;h3\u0026gt;Anyway, have fun learning Python, NumPy and Pandas!\u0026lt;/h3\u0026gt;\n    ","\n\u0026lt;h2 id=\u0026quot;how-to-create-sample-datasets-g7je\u0026quot;\u0026gt;How to create sample datasets\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;This is to mainly to expand on \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/20109391/how-to-make-good-reproducible-pandas-examples/20159305#20159305\u0026quot;\u0026gt;AndyHayden\u0026apos;s answer\u0026lt;/a\u0026gt; by providing examples of how you can create sample dataframes.  Pandas and (especially) NumPy give you a variety of tools for this such that you can generally create a reasonable facsimile of any real dataset with just a few lines of code.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;After importing NumPy and Pandas, be sure to provide a random seed if you want folks to be able to exactly reproduce your data and results.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; numpy \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; np\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; pandas \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; pd\n\nnp.random.seed(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;123\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h3 id=\u0026quot;a-kitchen-sink-example-q2h8\u0026quot;\u0026gt;A kitchen sink example\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;Here\u0026apos;s an example showing a variety of things you can do.  All kinds of useful sample dataframes could be created from a subset of this:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df = pd.DataFrame({\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# some ways to create random data\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a\u0026apos;\u0026lt;/span\u0026gt;:np.random.randn(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;),\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;b\u0026apos;\u0026lt;/span\u0026gt;:np.random.choice( [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;,np.nan], \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;),\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;c\u0026apos;\u0026lt;/span\u0026gt;:np.random.choice( [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;panda\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;python\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;shark\u0026apos;\u0026lt;/span\u0026gt;], \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;),\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# some ways to create systematic groups for indexing or groupby\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# this is similar to R\u0026apos;s expand.grid(), see note 2 below\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;d\u0026apos;\u0026lt;/span\u0026gt;:np.repeat( \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;range\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; ),\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e\u0026apos;\u0026lt;/span\u0026gt;:np.tile(   \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;range\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt; ),\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# a date range and set of random dates\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;f\u0026apos;\u0026lt;/span\u0026gt;:pd.date_range(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;1/1/2011\u0026apos;\u0026lt;/span\u0026gt;, periods=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;, freq=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;D\u0026apos;\u0026lt;/span\u0026gt;),\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;g\u0026apos;\u0026lt;/span\u0026gt;:np.random.choice( pd.date_range(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;1/1/2011\u0026apos;\u0026lt;/span\u0026gt;, periods=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;365\u0026lt;/span\u0026gt;,\n                          freq=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;D\u0026apos;\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;, replace=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;)\n    })\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This produces:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;          a   b       c  d  e          f          g\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.085631\u0026lt;/span\u0026gt; NaN   panda  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-01 \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-08-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.997345\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;   shark  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-02 \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.282978\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;   panda  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-03 \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt; -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.506295\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  python  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-04 \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-09-07\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt; -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.578600\u0026lt;/span\u0026gt; NaN   shark  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-05 \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-02-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;27\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.651437\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;  python  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-06 \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-02-03\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Some notes:\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;np.repeat\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;np.tile\u0026lt;/code\u0026gt; (columns \u0026lt;code\u0026gt;d\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;e\u0026lt;/code\u0026gt;) are very useful for creating groups and indices in a very regular way.  For 2 columns, this can be used to easily duplicate r\u0026apos;s \u0026lt;code\u0026gt;expand.grid()\u0026lt;/code\u0026gt; but is also more flexible in ability to provide a subset of all permutations.  However, for 3 or more columns the syntax quickly becomes unwieldy.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;For a more direct replacement for R\u0026apos;s \u0026lt;code\u0026gt;expand.grid()\u0026lt;/code\u0026gt; see the \u0026lt;code\u0026gt;itertools\u0026lt;/code\u0026gt; solution in the \u0026lt;a href=\u0026quot;http://pandas.pydata.org/pandas-docs/version/0.16.1/cookbook.html#creating-example-data\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;pandas cookbook\u0026lt;/a\u0026gt; or the \u0026lt;code\u0026gt;np.meshgrid\u0026lt;/code\u0026gt; solution shown \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/12130883/r-expand-grid-function-in-python\u0026quot;\u0026gt;here\u0026lt;/a\u0026gt;.  Those will allow any number of dimensions.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;You can do quite a bit with \u0026lt;code\u0026gt;np.random.choice\u0026lt;/code\u0026gt;.  For example, in column \u0026lt;code\u0026gt;g\u0026lt;/code\u0026gt;, we have a random selection of six dates from 2011.  Additionally, by setting \u0026lt;code\u0026gt;replace=False\u0026lt;/code\u0026gt; we can assure these dates are unique -- very handy if we want to use this as an index with unique values.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;h3 id=\u0026quot;fake-stock-market-data-abwo\u0026quot;\u0026gt;Fake stock market data\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;In addition to taking subsets of the above code, you can further combine the techniques to do just about anything.  For example, here\u0026apos;s a short example that combines \u0026lt;code\u0026gt;np.tile\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;date_range\u0026lt;/code\u0026gt; to create sample ticker data for 4 stocks covering the same dates:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;stocks = pd.DataFrame({\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ticker\u0026apos;\u0026lt;/span\u0026gt;:np.repeat( [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;aapl\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;goog\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;yhoo\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;msft\u0026apos;\u0026lt;/span\u0026gt;], \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt; ),\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;date\u0026apos;\u0026lt;/span\u0026gt;:np.tile( pd.date_range(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;1/1/2011\u0026apos;\u0026lt;/span\u0026gt;, periods=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;, freq=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;D\u0026apos;\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt; ),\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;price\u0026apos;\u0026lt;/span\u0026gt;:(np.random.randn(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;).cumsum() + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;) })\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Now we have a sample dataset with 100 lines (25 dates per ticker), but we have only used 4 lines to do it, making it easy for everyone else to reproduce without copying and pasting 100 lines of code.  You can then display subsets of the data if it helps to explain your question:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;stocks.head(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;)\n\n        date      price ticker\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-01   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9.497412\u0026lt;/span\u0026gt;   aapl\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-02  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10.261908\u0026lt;/span\u0026gt;   aapl\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-03   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9.438538\u0026lt;/span\u0026gt;   aapl\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-04   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9.515958\u0026lt;/span\u0026gt;   aapl\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-05   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7.554070\u0026lt;/span\u0026gt;   aapl\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;stocks.groupby(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ticker\u0026apos;\u0026lt;/span\u0026gt;).head(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;)\n\n         date      price ticker\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-01   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9.497412\u0026lt;/span\u0026gt;   aapl\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-02  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10.261908\u0026lt;/span\u0026gt;   aapl\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-01   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8.277772\u0026lt;/span\u0026gt;   goog\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;26\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-02   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7.714916\u0026lt;/span\u0026gt;   goog\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-01   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5.613023\u0026lt;/span\u0026gt;   yhoo\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;51\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-02   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6.397686\u0026lt;/span\u0026gt;   yhoo\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;75\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-01  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11.736584\u0026lt;/span\u0026gt;   msft\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;76\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-02  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11.944519\u0026lt;/span\u0026gt;   msft\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;h1\u0026gt;Diary of an Answerer\u0026lt;/h1\u0026gt;\n\n\u0026lt;p\u0026gt;My best advice for asking questions would be to play on the psychology of the people who answer questions.  Being one of those people, I can give insight into why I answer certain questions and why I don\u0026apos;t answer others.\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;Motivations\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;I\u0026apos;m motivated to answer questions for several reasons\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Stackoverflow.com has been a tremendously valuable resource to me.  I wanted to give back.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;In my efforts to give back, I\u0026apos;ve found this site to be an even more powerful resource than before.  Answering questions is a learning experience for me and I like to learn.  \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/38444638/2336654\u0026quot;\u0026gt;Read this answer and comment from another vet\u0026lt;/a\u0026gt;.  This kind of interaction makes me happy.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;I like points!\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;See #3.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;I like interesting problems.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;All my purest intentions are great and all, but I get that satisfaction if I answer 1 question or 30.  \u0026lt;strong\u0026gt;What drives my choices\u0026lt;/strong\u0026gt; for which questions to answer has a huge component of point maximization.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I\u0026apos;ll also spend time on interesting problems but that is few and far between and doesn\u0026apos;t help an asker who needs a solution to a non-interesting question.  Your best bet to get me to answer a question is to serve that question up on a platter ripe for me to answer it with as little effort as possible.  If I\u0026apos;m looking at two questions and one has code I can copy paste to create all the variables I need... I\u0026apos;m taking that one!  I\u0026apos;ll come back to the other one if I have time, maybe.\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;Main Advice\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Make it easy for the people answering questions.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Provide code that creates variables that are needed.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Minimize that code.  If my eyes glaze over as I look at the post, I\u0026apos;m on to the next question or getting back to whatever else I\u0026apos;m doing.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Think about what you\u0026apos;re asking and be specific.  We want to see what you\u0026apos;ve done because natural languages (English) are inexact and confusing.  Code samples of what you\u0026apos;ve tried help resolve inconsistencies in a natural language description.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;PLEASE show what you expect!!!  I have to sit down and try things.  I almost never know the answer to a question without trying some things out.  If I don\u0026apos;t see an example of what you\u0026apos;re looking for, I might pass on the question because I don\u0026apos;t feel like guessing.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;h3\u0026gt;Your reputation is more than just your reputation.\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;I like points (I mentioned that above).  But those points aren\u0026apos;t really really my reputation.  My real reputation is an amalgamation of what others on the site think of me.  I strive to be fair and honest and I hope others can see that.  What that means for an asker is, we remember the behaviors of askers.  If you don\u0026apos;t select answers and upvote good answers, I remember.  If you behave in ways I don\u0026apos;t like or in ways I do like, I remember.  This also plays into which questions I\u0026apos;ll answer.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;Anyway, I can probably go on, but I\u0026apos;ll spare all of you who actually read this.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;The Challenge\u0026lt;/strong\u0026gt; One of the most challenging aspects of responding to SO questions is the time it takes to recreate the problem (including the data).  Questions which don\u0026apos;t have a clear way to reproduce the data are less likely to be answered.  Given that you are taking the time to write a question and you have an issue that you\u0026apos;d like help with, you can easily help yourself by providing data that others can then use to help solve your problem.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The instructions provided by @Andy for writing good Pandas questions are an excellent place to start.  For more information, refer to \u0026lt;a href=\u0026quot;https://stackoverflow.com/help/how-to-ask\u0026quot;\u0026gt;how to ask\u0026lt;/a\u0026gt; and how to create \u0026lt;a href=\u0026quot;https://stackoverflow.com/help/mcve\u0026quot;\u0026gt;Minimal, Complete, and Verifiable examples\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Please clearly state your question upfront.\u0026lt;/strong\u0026gt;  After taking the time to write your question and any sample code, try to read it and provide an \u0026apos;Executive Summary\u0026apos; for your reader which summarizes the problem and clearly states the question.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Original question\u0026lt;/em\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;I have this data...\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I want to do this...\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I want my result to look like this...\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;However, when I try to do [this], I get the following problem...\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I\u0026apos;ve tried to find solutions by doing [this] and [that].\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;How do I fix it?\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;Depending on the amount of data, sample code and error stacks provided, the reader needs to go a long way before understanding what the problem is.  Try restating your question so that the question itself is on top, and then provide the necessary details.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Revised Question\u0026lt;/em\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Qustion:\u0026lt;/strong\u0026gt;  How can I do [this]?\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I\u0026apos;ve tried to find solutions by doing [this] and [that].\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;When I\u0026apos;ve tried to do [this], I get the following problem...\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I\u0026apos;d like my final results to look like this...\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Here is some minimal code that can reproduce my problem...\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;And here is how to recreate my sample data:\n\u0026lt;code\u0026gt;df = pd.DataFrame({\u0026apos;A\u0026apos;: [...], \u0026apos;B\u0026apos;: [...], ...})\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;PROVIDE SAMPLE DATA IF NEEDED!!!\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Sometimes just the head or tail of the DataFrame is all that is needed.  You can also use the methods proposed by @JohnE to create larger datasets that can be reproduced by others.  Using his example to generate a 100 row DataFrame of stock prices:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;stocks = pd.DataFrame({ \n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ticker\u0026apos;\u0026lt;/span\u0026gt;:np.repeat( [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;aapl\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;goog\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;yhoo\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;msft\u0026apos;\u0026lt;/span\u0026gt;], \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt; ),\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;date\u0026apos;\u0026lt;/span\u0026gt;:np.tile( pd.date_range(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;1/1/2011\u0026apos;\u0026lt;/span\u0026gt;, periods=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;, freq=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;D\u0026apos;\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt; ),\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;price\u0026apos;\u0026lt;/span\u0026gt;:(np.random.randn(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;).cumsum() + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;) })\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;If this was your actual data, you may just want to include the head and/or tail of the dataframe as follows (be sure to anonymize any sensitive data):\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;stocks.head(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;).to_dict()\n{\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;date\u0026apos;\u0026lt;/span\u0026gt;: {\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;: Timestamp(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2011-01-01 00:00:00\u0026apos;\u0026lt;/span\u0026gt;),\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;: Timestamp(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2011-01-01 00:00:00\u0026apos;\u0026lt;/span\u0026gt;),\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;: Timestamp(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2011-01-01 00:00:00\u0026apos;\u0026lt;/span\u0026gt;),\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;: Timestamp(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2011-01-01 00:00:00\u0026apos;\u0026lt;/span\u0026gt;),\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;: Timestamp(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2011-01-02 00:00:00\u0026apos;\u0026lt;/span\u0026gt;)},\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;price\u0026apos;\u0026lt;/span\u0026gt;: {\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10.284260107718254\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11.930300761831457\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10.93741046217319\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10.884574289565609\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11.78005850418319\u0026lt;/span\u0026gt;},\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ticker\u0026apos;\u0026lt;/span\u0026gt;: {\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;aapl\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;aapl\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;aapl\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;aapl\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;aapl\u0026apos;\u0026lt;/span\u0026gt;}}\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;pd.concat([stocks.head(), stocks.tail()], ignore_index=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;).to_dict()\n{\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;date\u0026apos;\u0026lt;/span\u0026gt;: {\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;: Timestamp(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2011-01-01 00:00:00\u0026apos;\u0026lt;/span\u0026gt;),\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;: Timestamp(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2011-01-01 00:00:00\u0026apos;\u0026lt;/span\u0026gt;),\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;: Timestamp(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2011-01-01 00:00:00\u0026apos;\u0026lt;/span\u0026gt;),\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;: Timestamp(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2011-01-01 00:00:00\u0026apos;\u0026lt;/span\u0026gt;),\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;: Timestamp(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2011-01-02 00:00:00\u0026apos;\u0026lt;/span\u0026gt;),\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;: Timestamp(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2011-01-24 00:00:00\u0026apos;\u0026lt;/span\u0026gt;),\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;: Timestamp(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2011-01-25 00:00:00\u0026apos;\u0026lt;/span\u0026gt;),\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;: Timestamp(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2011-01-25 00:00:00\u0026apos;\u0026lt;/span\u0026gt;),\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;: Timestamp(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2011-01-25 00:00:00\u0026apos;\u0026lt;/span\u0026gt;),\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;: Timestamp(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2011-01-25 00:00:00\u0026apos;\u0026lt;/span\u0026gt;)},\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;price\u0026apos;\u0026lt;/span\u0026gt;: {\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10.284260107718254\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11.930300761831457\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10.93741046217319\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10.884574289565609\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11.78005850418319\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10.017209045035006\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10.57090128181566\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11.442792747870204\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11.592953372130493\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12.864146419530938\u0026lt;/span\u0026gt;},\n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ticker\u0026apos;\u0026lt;/span\u0026gt;: {\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;aapl\u0026apos;\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;aapl\u0026apos;\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;aapl\u0026apos;\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;aapl\u0026apos;\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;aapl\u0026apos;\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;msft\u0026apos;\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;msft\u0026apos;\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;msft\u0026apos;\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;msft\u0026apos;\u0026lt;/span\u0026gt;,\n  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;msft\u0026apos;\u0026lt;/span\u0026gt;}}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;You may also want to provide a description of the DataFrame (using only the relevant columns).  This makes it easier for others to check the data types of each column and identify other common errors (e.g. dates as string vs. datetime64 vs. object):\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;stocks.info()\n\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;pandas.core.frame.DataFrame\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\nInt64Index: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt; entries, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; to \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;99\u0026lt;/span\u0026gt;\nData columns (total \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt; columns):\ndate      \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt; non-null datetime64[ns]\nprice     \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt; non-null float64\nticker    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt; non-null \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;\ndtypes: datetime64[ns](\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;), float64(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;NOTE:  If your DataFrame has a MultiIndex:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If your DataFrame has a multiindex, you must first reset before calling \u0026lt;code\u0026gt;to_dict\u0026lt;/code\u0026gt;.  You then need to recreate the index using \u0026lt;code\u0026gt;set_index\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# MultiIndex example.  First create a MultiIndex DataFrame.\u0026lt;/span\u0026gt;\ndf = stocks.set_index([\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;date\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ticker\u0026apos;\u0026lt;/span\u0026gt;])\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;df\n                       price\ndate       ticker           \n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-01 aapl    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10.284260\u0026lt;/span\u0026gt;\n           aapl    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11.930301\u0026lt;/span\u0026gt;\n           aapl    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10.937410\u0026lt;/span\u0026gt;\n           aapl    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10.884574\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-02 aapl    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11.780059\u0026lt;/span\u0026gt;\n...\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# After resetting the index and passing the DataFrame to `to_dict`, make sure to use \u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# `set_index` to restore the original MultiIndex.  This DataFrame can then be restored.\u0026lt;/span\u0026gt;\n\nd = df.reset_index().to_dict()\ndf_new = pd.DataFrame(d).set_index([\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;date\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;ticker\u0026apos;\u0026lt;/span\u0026gt;])\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;df_new.head()\n                       price\ndate       ticker           \n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-01 aapl    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10.284260\u0026lt;/span\u0026gt;\n           aapl    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11.930301\u0026lt;/span\u0026gt;\n           aapl    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10.937410\u0026lt;/span\u0026gt;\n           aapl    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10.884574\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt;-01-02 aapl    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;11.780059\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here is my version of \u0026lt;a href=\u0026quot;https://stat.ethz.ch/R-manual/R-devel/library/base/html/dput.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;dput\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; - the standard R tool to produce reproducible reports - for Pandas \u0026lt;code\u0026gt;DataFrame\u0026lt;/code\u0026gt;s.\nIt will probably fail for more complex frames, but it seems to do the job in simple cases:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; pandas \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; pd\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;dput\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;isinstance\u0026lt;/span\u0026gt;(x,pd.Series):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;pd.Series(%s,dtype=\u0026apos;%s\u0026apos;,index=pd.%s)\u0026quot;\u0026lt;/span\u0026gt; % (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;(x),x.dtype,x.index)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;isinstance\u0026lt;/span\u0026gt;(x,pd.DataFrame):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;pd.DataFrame({\u0026quot;\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;, \u0026quot;\u0026lt;/span\u0026gt;.join([\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026apos;%s\u0026apos;: %s\u0026quot;\u0026lt;/span\u0026gt; % (c,dput(x[c])) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; c \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; x.columns]) + (\n                \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;}, index=pd.%s)\u0026quot;\u0026lt;/span\u0026gt; % (x.index))\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;raise\u0026lt;/span\u0026gt; NotImplementedError(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;dput\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;(x),x)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;now,\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;df = pd.DataFrame({\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a\u0026apos;\u0026lt;/span\u0026gt;:[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;]})\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;assert\u0026lt;/span\u0026gt; df.equals(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;eval\u0026lt;/span\u0026gt;(dput(df)))\ndu = pd.get_dummies(df.a,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;foo\u0026quot;\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;assert\u0026lt;/span\u0026gt; du.equals(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;eval\u0026lt;/span\u0026gt;(dput(du)))\ndi = df\ndi.index = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;abcdefgh\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;assert\u0026lt;/span\u0026gt; di.equals(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;eval\u0026lt;/span\u0026gt;(dput(di)))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Note\u0026lt;/strong\u0026gt; that this produces a much more verbose output than \u0026lt;a href=\u0026quot;http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_dict.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;DataFrame.to_dict\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;, e.g.,\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;pd.DataFrame({\n  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo_1\u0026apos;\u0026lt;/span\u0026gt;:pd.Series([\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;],dtype=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;uint8\u0026apos;\u0026lt;/span\u0026gt;,index=pd.RangeIndex(start=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, stop=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;, step=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;)),\n  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo_2\u0026apos;\u0026lt;/span\u0026gt;:pd.Series([\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;],dtype=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;uint8\u0026apos;\u0026lt;/span\u0026gt;,index=pd.RangeIndex(start=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, stop=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;, step=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;)),\n  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo_3\u0026apos;\u0026lt;/span\u0026gt;:pd.Series([\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;],dtype=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;uint8\u0026apos;\u0026lt;/span\u0026gt;,index=pd.RangeIndex(start=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, stop=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;, step=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;)),\n  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo_4\u0026apos;\u0026lt;/span\u0026gt;:pd.Series([\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;],dtype=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;uint8\u0026apos;\u0026lt;/span\u0026gt;,index=pd.RangeIndex(start=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, stop=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;, step=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;))},\n  index=pd.RangeIndex(start=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, stop=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;, step=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;vs\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;{\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo_1\u0026apos;\u0026lt;/span\u0026gt;: {\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;}, \n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo_2\u0026apos;\u0026lt;/span\u0026gt;: {\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;}, \n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo_3\u0026apos;\u0026lt;/span\u0026gt;: {\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;}, \n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo_4\u0026apos;\u0026lt;/span\u0026gt;: {\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;}}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;for \u0026lt;code\u0026gt;du\u0026lt;/code\u0026gt; above, but it \u0026lt;em\u0026gt;preserves column types\u0026lt;/em\u0026gt;.\nE.g., in the above test case,\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;du.equals(pd.DataFrame(du.to_dict()))\n==\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;because \u0026lt;code\u0026gt;du.dtypes\u0026lt;/code\u0026gt; is \u0026lt;code\u0026gt;uint8\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;pd.DataFrame(du.to_dict()).dtypes\u0026lt;/code\u0026gt; is \u0026lt;code\u0026gt;int64\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n    "],"id":24,"title":"How to make good reproducible pandas examples","content":"\n                    \u0026lt;div\u0026gt;\n            \u0026lt;aside class=\u0026quot;s-notice s-notice__info post-notice js-post-notice mb16\u0026quot; role=\u0026quot;status\u0026quot;\u0026gt;\n        \u0026lt;div class=\u0026quot;d-flex fd-column fw-nowrap\u0026quot;\u0026gt;\n            \u0026lt;div class=\u0026quot;d-flex fw-nowrap\u0026quot;\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item mr8\u0026quot;\u0026gt;\n                        \u0026lt;svg aria-hidden=\u0026quot;true\u0026quot; class=\u0026quot;svg-icon iconLock\u0026quot; width=\u0026quot;18\u0026quot; height=\u0026quot;18\u0026quot; viewBox=\u0026quot;0 0 18 18\u0026quot;\u0026gt;\u0026lt;path d=\u0026quot;M16 9a2 2 0 0 0-2-2V6A5 5 0 0 0 4 6v1a2 2 0 0 0-2 2v6c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9Zm-7 5a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm3.1-7H5.9V6a3.1 3.1 0 0 1 6.2 0v1Z\u0026quot;\u0026gt;\u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                \u0026lt;div class=\u0026quot;flex--item wmn0 fl1 lh-lg\u0026quot;\u0026gt;\n                    \u0026lt;div class=\u0026quot;flex--item fl1 lh-lg\u0026quot;\u0026gt;\n                        \u0026lt;b\u0026gt;This question\u0026apos;s answers are a \u0026lt;a href=\u0026quot;/help/privileges/edit-community-wiki\u0026quot;\u0026gt;community effort\u0026lt;/a\u0026gt;\u0026lt;/b\u0026gt;. Edit existing answers to improve this post. It is not currently accepting new answers or interactions.\n                        \n                    \u0026lt;/div\u0026gt;\n                \u0026lt;/div\u0026gt;\n            \u0026lt;/div\u0026gt;\n        \u0026lt;/div\u0026gt;\n\u0026lt;/aside\u0026gt;\n\n    \u0026lt;/div\u0026gt;\n\n\u0026lt;p\u0026gt;Having spent a decent amount of time watching both the \u0026lt;a href=\u0026quot;/questions/tagged/r\u0026quot; class=\u0026quot;post-tag\u0026quot; title=\u0026quot;show questions tagged \u0026apos;r\u0026apos;\u0026quot; rel=\u0026quot;tag\u0026quot;\u0026gt;r\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;/questions/tagged/pandas\u0026quot; class=\u0026quot;post-tag\u0026quot; title=\u0026quot;show questions tagged \u0026apos;pandas\u0026apos;\u0026quot; rel=\u0026quot;tag\u0026quot;\u0026gt;pandas\u0026lt;/a\u0026gt; tags on SO, the impression that I get is that \u0026lt;code\u0026gt;pandas\u0026lt;/code\u0026gt; questions are less likely to contain reproducible data. This is something that the R community has been pretty good about encouraging, and thanks to guides like \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example\u0026quot;\u0026gt;this\u0026lt;/a\u0026gt;, newcomers are able to get some help on putting together these examples. People who are able to read these guides and come back with reproducible data will often have much better luck getting answers to their questions.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;How can we create good reproducible examples for \u0026lt;code\u0026gt;pandas\u0026lt;/code\u0026gt; questions? Simple dataframes can be put together, e.g.:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; pandas \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; pd\ndf = pd.DataFrame({\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;user\u0026apos;\u0026lt;/span\u0026gt;: [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Bob\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Jane\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Alice\u0026apos;\u0026lt;/span\u0026gt;], \n                   \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;income\u0026apos;\u0026lt;/span\u0026gt;: [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;40000\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50000\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;42000\u0026lt;/span\u0026gt;]})\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;But many example datasets need more complicated structure, e.g.:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;datetime\u0026lt;/code\u0026gt; indices or data\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Multiple categorical variables (is there an equivalent to R\u0026apos;s \u0026lt;code\u0026gt;expand.grid()\u0026lt;/code\u0026gt; function, which produces all possible combinations of some given variables?)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;MultiIndex or Panel data\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;For datasets that are hard to mock up using a few lines of code, is there an equivalent to R\u0026apos;s \u0026lt;code\u0026gt;dput()\u0026lt;/code\u0026gt; that allows you to generate copy-pasteable code to regenerate your datastructure?\u0026lt;/p\u0026gt;\n    ","slug":"how-to-make-good-reproducible-pandas-examples-1657384310402","postType":"QUESTION","createdAt":"2022-07-09T16:31:50.000Z","updatedAt":"2022-07-09T16:31:50.000Z","tags":[{"id":78,"name":"python","slug":"python","createdAt":"2022-07-09T16:31:50.000Z","updatedAt":"2022-07-09T16:31:50.000Z","Questions_Tags":{"questionId":24,"tagId":78}},{"id":79,"name":"pandas","slug":"pandas","createdAt":"2022-07-09T16:31:50.000Z","updatedAt":"2022-07-09T16:31:50.000Z","Questions_Tags":{"questionId":24,"tagId":79}}],"relatedQuestions":[{"title":"How to make good reproducible pandas examples","slug":"how-to-make-good-reproducible-pandas-examples-1657384310402","tags":[{"name":"python","Questions_Tags":{"questionId":24,"tagId":78}},{"name":"pandas","Questions_Tags":{"questionId":24,"tagId":79}}]}]},"randomQuestions":[{"title":"What's the simplest way to print a Java array?","slug":"what's-the-simplest-way-to-print-a-java-array-1657384702397"},{"title":"How do I match any character across multiple lines in a regular expression?","slug":"how-do-i-match-any-character-across-multiple-lines-in-a-regular-expression-1657387839720"},{"title":"What is move semantics?","slug":"what-is-move-semantics-1657387702625"},{"title":"Why do I get a segmentation fault when writing to a \"char *s\" initialized with a string literal, but not \"char s[]\"?","slug":"why-do-i-get-a-segmentation-fault-when-writing-to-a-\"char-*s\"-initialized-with-a-string-literal-but-not-\"char-s\"-1657385511046"},{"title":"Which equals operator (== vs ===) should be used in JavaScript comparisons?","slug":"which-equals-operator-(-vs-)-should-be-used-in-javascript-comparisons-1657384663105"},{"title":"How do I return the response from an asynchronous call?","slug":"how-do-i-return-the-response-from-an-asynchronous-call-1657384208012"},{"title":"How to reshape data from long to wide format","slug":"how-to-reshape-data-from-long-to-wide-format-1657384486421"},{"title":"What are the rules about using an underscore in a C++ identifier?","slug":"what-are-the-rules-about-using-an-underscore-in-a-c++-identifier-1657384557197"},{"title":"How to deal with SettingWithCopyWarning in Pandas","slug":"how-to-deal-with-settingwithcopywarning-in-pandas-1657384778377"},{"title":"How to get all possible combinations of a listâs elements?","slug":"how-to-get-all-possible-combinations-of-a-list's-elements-1657388271070"},{"title":"How can I combine two strings together in PHP?","slug":"how-can-i-combine-two-strings-together-in-php-1657388279401"},{"title":"How can I access and process nested objects, arrays, or JSON?","slug":"how-can-i-access-and-process-nested-objects-arrays-or-json-1657384332823"},{"title":"How do I iterate over the words of a string?","slug":"how-do-i-iterate-over-the-words-of-a-string-1657384806129"},{"title":"How to use Regular Expressions (Regex) in Microsoft Excel both in-cell and loops","slug":"how-to-use-regular-expressions-(regex)-in-microsoft-excel-both-in-cell-and-loops-1657387487287"},{"title":"Actual meaning of 'shell=True' in subprocess","slug":"actual-meaning-of-'shelltrue'-in-subprocess-1657388470341"},{"title":"Why is 24.0000 not equal to 24.0000 in MATLAB?","slug":"why-is-24.0000-not-equal-to-24.0000-in-matlab-1657388376753"},{"title":"How to center an element horizontally and vertically","slug":"how-to-center-an-element-horizontally-and-vertically-1657388132330"},{"title":"How do I expire a PHP session after 30 minutes?","slug":"how-do-i-expire-a-php-session-after-30-minutes-1657387990658"},{"title":"How do I make Git forget about a file that was tracked, but is now in .gitignore?","slug":"how-do-i-make-git-forget-about-a-file-that-was-tracked-but-is-now-in-.gitignore-1657387328843"},{"title":"Is storing a delimited list in a database column really that bad?","slug":"is-storing-a-delimited-list-in-a-database-column-really-that-bad-1657384474773"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-to-make-good-reproducible-pandas-examples-1657384310402"},"buildId":"6ctJfCympFH_chh5mjicD","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>