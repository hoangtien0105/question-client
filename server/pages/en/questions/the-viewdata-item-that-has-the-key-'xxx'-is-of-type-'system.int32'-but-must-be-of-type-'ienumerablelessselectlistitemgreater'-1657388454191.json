{"pageProps":{"data":{"answer":["\n&lt;p&gt;The error means that the value of &lt;code&gt;CategoryList&lt;/code&gt;  is null (and as a result the &lt;code&gt;DropDownListFor()&lt;/code&gt; method expects that the first parameter is of type &lt;code&gt;IEnumerable&amp;lt;SelectListItem&amp;gt;&lt;/code&gt;).&lt;/p&gt;\n\n&lt;p&gt;You are not generating an input for each property of each &lt;code&gt;SelectListItem&lt;/code&gt; in &lt;code&gt;CategoryList&lt;/code&gt; (and nor should you) so no values for the &lt;code&gt;SelectList&lt;/code&gt; are posted to the controller method, and therefore the value of &lt;code&gt;model.CategoryList&lt;/code&gt; in the POST method is &lt;code&gt;null&lt;/code&gt;. If you return the view, you must first reassign the value of &lt;code&gt;CategoryList&lt;/code&gt;, just as you did in the GET method.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; ActionResult &lt;span class=&quot;hljs-title&quot;&gt;Create&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;ProjectVM model&lt;/span&gt;)&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!ModelState.IsValid)\n    {\n        model.CategoryList = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; SelectList(db.Categories, &lt;span class=&quot;hljs-string&quot;&gt;&quot;ID&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;Name&quot;&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// add this&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; View(model);\n    }\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Save and redirect&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To explain the inner workings (the source code can be &lt;a href=&quot;https://aspnetwebstack.codeplex.com/SourceControl/latest#src/System.Web.Mvc/Html/SelectExtensions.cs&quot;&gt;seen here&lt;/a&gt;)&lt;/p&gt;\n\n&lt;p&gt;Each overload of &lt;code&gt;DropDownList()&lt;/code&gt; and &lt;code&gt;DropDownListFor()&lt;/code&gt; eventually calls the following method&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; MvcHtmlString &lt;span class=&quot;hljs-title&quot;&gt;SelectInternal&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; HtmlHelper htmlHelper, ModelMetadata metadata,\n  &lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt; optionLabel, &lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt; name, IEnumerable&amp;lt;SelectListItem&amp;gt; selectList, &lt;span class=&quot;hljs-built_in&quot;&gt;bool&lt;/span&gt; allowMultiple,\n  IDictionary&amp;lt;&lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt;, &lt;span class=&quot;hljs-built_in&quot;&gt;object&lt;/span&gt;&amp;gt; htmlAttributes&lt;/span&gt;)\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;which checks if the &lt;code&gt;selectList&lt;/code&gt; (the second parameter of &lt;code&gt;@Html.DropDownListFor()&lt;/code&gt;) is &lt;code&gt;null&lt;/code&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// If we got a null selectList, try to use ViewData to get the list of items.&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (selectList == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;)\n{\n    selectList = htmlHelper.GetSelectData(name);\n    usedViewData = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;which in turn calls &lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; IEnumerable&amp;lt;SelectListItem&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;GetSelectData&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; HtmlHelper htmlHelper, &lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt; name&lt;/span&gt;)\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;which evaluates the the first parameter of &lt;code&gt;@Html.DropDownListFor()&lt;/code&gt; (in this case &lt;code&gt;CategoryID&lt;/code&gt;)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;....\no = htmlHelper.ViewData.Eval(name);\n....\nIEnumerable&amp;lt;SelectListItem&amp;gt; selectList = o &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; IEnumerable&amp;lt;SelectListItem&amp;gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (selectList == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;)\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; InvalidOperationException(String.Format(CultureInfo.CurrentCulture, \n        MvcResources.HtmlHelper_WrongSelectDataType,\n        name, o.GetType().FullName, &lt;span class=&quot;hljs-string&quot;&gt;&quot;IEnumerable&amp;lt;SelectListItem&amp;gt;&quot;&lt;/span&gt;));\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Because property &lt;code&gt;CategoryID&lt;/code&gt; is typeof &lt;code&gt;int&lt;/code&gt;, it cannot be cast to &lt;code&gt;IEnumerable&amp;lt;SelectListItem&amp;gt;&lt;/code&gt; and the exception is thrown (which is defined in the &lt;code&gt;MvcResources.resx&lt;/code&gt; file as)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-xml s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;HtmlHelper_WrongSelectDataType&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;xml:space&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;preserve&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;value&lt;/span&gt;&amp;gt;&lt;/span&gt;The ViewData item that has the key &apos;{0}&apos; is of type &apos;{1}&apos; but must be of type &apos;{2}&apos;.&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;value&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;data&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;according to stephens (user3559349) &lt;a href=&quot;https://stackoverflow.com/questions/34366305/the-viewdata-item-that-has-the-key-xxx-is-of-type-system-int32-but-must-be-o/#answer-34366306&quot;&gt;answer&lt;/a&gt;, this can be useful:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;@Html.DropDownListFor(m =&amp;gt; m.CategoryID, Model.CategoryList ?? &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;SelectListItem&amp;gt;(), &lt;span class=&quot;hljs-string&quot;&gt;&quot;-Please select-&quot;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;or in ProjectVM:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;ProjectVM&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;ProjectVM&lt;/span&gt;()&lt;/span&gt;\n    {\n        CategoryList = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;SelectListItem&amp;gt;();\n    }\n    ...\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Most Likely Caused some sort of error redirecting to your page and you not initializing your model&apos;s drop down lists again. &lt;/p&gt;\n\n&lt;p&gt;Make sure that you initialize your drop downs in either the model&apos;s constructor or every time before you send said model to the page. &lt;/p&gt;\n\n&lt;p&gt;Otherwise you will need to maintain the state of the drop down lists either through the view bag or through the hidden value helpers. &lt;/p&gt;\n    ","\n&lt;p&gt;OK, the poster&apos;s canned answer neatly explained &lt;em&gt;why&lt;/em&gt; the error occurred, but not how to get it to work. I&apos;m not sure that&apos;s really an answer, but it did point me in the right direction. &lt;/p&gt;\n\n&lt;p&gt;I ran into the same issue and found a slick way to resolve it. I&apos;ll try to capture that here. Disclaimer - I work on web pages once a year or so and really don&apos;t know what I&apos;m doing most of the time. This answer should in no way be considered an &quot;expert&quot; answer, but it does the job with little work...&lt;/p&gt;\n\n&lt;p&gt;Given that I have some data object (most likely a Data Transfer Object) that I want to use a drop-down list to supply valid values for a field, like so:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;MyDataObject&lt;/span&gt;\n{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; id;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt; StrValue;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Then the ViewModel looks like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;MyDataObjectVM&lt;/span&gt;\n{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; id;\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt; StrValue;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;SectListItem&amp;gt; strValues;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The real problem here, as @Stephen so eloquently described above, is the select list isn&apos;t populated on the POST method in the controller. So your controller methods would look like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// GET&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; ActionResult &lt;span class=&quot;hljs-title&quot;&gt;Create&lt;/span&gt;()&lt;/span&gt;\n{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; dataObjectVM = GetNewMyDataObjectVM();\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; View(dataObjectVM); &lt;span class=&quot;hljs-comment&quot;&gt;// I use T4MVC, don&apos;t you?&lt;/span&gt;\n}\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; MyDataObjectVM &lt;span class=&quot;hljs-title&quot;&gt;GetNewMyDataObjectVM&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;MyDataObjectVM model = &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;&lt;/span&gt;)&lt;/span&gt;\n{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; MyDataObjectVM\n  {\n    &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; id = model?.Id ?? &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,\n    &lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt; StrValue = model?.StrValue ?? &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;, \n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; strValues = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;SelectListItem&amp;gt; \n      { \n        &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; SelectListItem {Text = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Select&quot;&lt;/span&gt;, Value = &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;},\n        &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; SelectListITem {Text = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Item1&quot;&lt;/span&gt;, Value = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Item1&quot;&lt;/span&gt;},\n        &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; SelectListItem {Text = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Item2&quot;&lt;/span&gt;, Value = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Item2&quot;&lt;/span&gt;}\n      };\n  };\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// POST&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; ActionResult &lt;span class=&quot;hljs-title&quot;&gt;Create&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;FormCollection formValues&lt;/span&gt;)&lt;/span&gt;\n{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; dataObject = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; MyDataObject();\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;try&lt;/span&gt;\n  {\n    UpdateModel(dataObject, formValues);\n    AddObjectToObjectStore(dataObject);\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; RedirectToAction(Actions.Index);\n  }\n  &lt;span class=&quot;hljs-keyword&quot;&gt;catch&lt;/span&gt; (Exception ex)\n  {\n    &lt;span class=&quot;hljs-comment&quot;&gt;// fill in the drop-down list for the view model&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; dataObjectVM = GetNewMyDataObjectVM();\n    ModelState.AddModelError(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;, ex.Message);\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; View(dataObjectVM);\n  )\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;There you have it. This is NOT working code, I copy/pasted and edited to make it simple, but you get the idea. If the data members in both the original data model and the derived view model have the same name, UpdateModel() does an awesome job of filling in just the right data for you from the FormCollection values.&lt;/p&gt;\n\n&lt;p&gt;I&apos;m posting this here so I can find the answer when I inevitably run into this issue again -- hopefully it will help someone else out as well.&lt;/p&gt;\n    ","\n&lt;p&gt;I had the same problem, I was getting an invalid ModelState when I tried to post the form. For me, this was caused by setting CategoryId to int, when I changed it to string the ModelState was valid and the Create method worked as expected.&lt;/p&gt;\n    ","\n&lt;p&gt;In my case the first ID in my list was zero, once I changed the ID to start from 1, it worked.&lt;/p&gt;\n    "],"id":571,"title":"The ViewData item that has the key 'XXX' is of type 'System.Int32' but must be of type 'IEnumerable<SelectListItem>'","content":"\n                \n&lt;p&gt;I have the following view model&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;ProjectVM&lt;/span&gt;\n{\n    ....\n    [&lt;span class=&quot;hljs-meta&quot;&gt;Display(Name = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Category&quot;&lt;/span&gt;)&lt;/span&gt;]\n    [&lt;span class=&quot;hljs-meta&quot;&gt;Required(ErrorMessage = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Please select a category&quot;&lt;/span&gt;)&lt;/span&gt;]\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; CategoryID { &lt;span class=&quot;hljs-keyword&quot;&gt;get&lt;/span&gt;; &lt;span class=&quot;hljs-keyword&quot;&gt;set&lt;/span&gt;; }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; IEnumerable&amp;lt;SelectListItem&amp;gt; CategoryList { &lt;span class=&quot;hljs-keyword&quot;&gt;get&lt;/span&gt;; &lt;span class=&quot;hljs-keyword&quot;&gt;set&lt;/span&gt;; }\n    ....\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and the following controller method to create a new Project and assign a &lt;code&gt;Category&lt;/code&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; ActionResult &lt;span class=&quot;hljs-title&quot;&gt;Create&lt;/span&gt;()&lt;/span&gt;\n{\n    ProjectVM model = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; ProjectVM\n    {\n        CategoryList = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; SelectList(db.Categories, &lt;span class=&quot;hljs-string&quot;&gt;&quot;ID&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;Name&quot;&lt;/span&gt;)\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; View(model);\n}\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; ActionResult &lt;span class=&quot;hljs-title&quot;&gt;Create&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;ProjectVM model&lt;/span&gt;)&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!ModelState.IsValid)\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; View(model);\n    }\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Save and redirect&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and in the view&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;@model ProjectVM\n....\n@using (Html.BeginForm())\n{\n    ....\n    @Html.LabelFor(m =&amp;gt; m.CategoryID)\n    @Html.DropDownListFor(m =&amp;gt; m.CategoryID, Model.CategoryList, &lt;span class=&quot;hljs-string&quot;&gt;&quot;-Please select-&quot;&lt;/span&gt;)\n    @Html.ValidationMessageFor(m =&amp;gt; m.CategoryID)\n    ....\n    &amp;lt;input type=&lt;span class=&quot;hljs-string&quot;&gt;&quot;submit&quot;&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Create&quot;&lt;/span&gt; /&amp;gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The view displays correctly but when submitting the form, I get the following error message&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;InvalidOperationException: The ViewData item that has the key &apos;CategoryID&apos; is of type &apos;System.Int32&apos; but must be of type &apos;IEnumerable&amp;lt;SelectListItem&amp;gt;&apos;.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;The same error occurs using the &lt;code&gt;@Html.DropDownList()&lt;/code&gt; method, and if I pass the SelectList using a &lt;code&gt;ViewBag&lt;/code&gt; or &lt;code&gt;ViewData&lt;/code&gt;.&lt;/p&gt;\n    ","slug":"the-viewdata-item-that-has-the-key-'xxx'-is-of-type-'system.int32'-but-must-be-of-type-'ienumerablelessselectlistitemgreater'-1657388454191","postType":"QUESTION","createdAt":"2022-07-09T17:40:54.000Z","updatedAt":"2022-07-09T17:40:54.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"How can I access the contents of an iframe with JavaScript/jQuery?","slug":"how-can-i-access-the-contents-of-an-iframe-with-javascriptjquery-1657388369923"},{"title":"How should I use servlets and Ajax?","slug":"how-should-i-use-servlets-and-ajax-1657385492684"},{"title":"How to use Regular Expressions (Regex) in Microsoft Excel both in-cell and loops","slug":"how-to-use-regular-expressions-(regex)-in-microsoft-excel-both-in-cell-and-loops-1657387487287"},{"title":"Get the cartesian product of a series of lists?","slug":"get-the-cartesian-product-of-a-series-of-lists-1657387709890"},{"title":"How to access the correct `this` inside a callback","slug":"how-to-access-the-correct-this-inside-a-callback-1657384283261"},{"title":"How do I properly compare strings in C?","slug":"how-do-i-properly-compare-strings-in-c-1657387467202"},{"title":"With arrays, why is it the case that a[5] == 5[a]?","slug":"with-arrays-why-is-it-the-case-that-a5-5a-1657387956216"},{"title":"Trouble with UTF-8 characters; what I see is not what I stored","slug":"trouble-with-utf-8-characters-what-i-see-is-not-what-i-stored-1657384817490"},{"title":"Selenium \"selenium.common.exceptions.NoSuchElementException\" when using Chrome","slug":"selenium-\"selenium.common.exceptions.nosuchelementexception\"-when-using-chrome-1657388136699"},{"title":"How do I expire a PHP session after 30 minutes?","slug":"how-do-i-expire-a-php-session-after-30-minutes-1657387990658"},{"title":"Reference - What does this error mean in PHP?","slug":"reference-what-does-this-error-mean-in-php-1657384301782"},{"title":"How to check if element is visible after scrolling?","slug":"how-to-check-if-element-is-visible-after-scrolling-1657387987960"},{"title":"How do I attach events to dynamic HTML elements with jQuery? [duplicate]","slug":"how-do-i-attach-events-to-dynamic-html-elements-with-jquery-duplicate-1657387992964"},{"title":"How do I make a redirect in PHP?","slug":"how-do-i-make-a-redirect-in-php-1657387381903"},{"title":"How do I compare strings in Java?","slug":"how-do-i-compare-strings-in-java-1657384243187"},{"title":"Is there a JavaScript / jQuery DOM change listener?","slug":"is-there-a-javascript-jquery-dom-change-listener-1657387961200"},{"title":"Transpose / reshape dataframe without \"timevar\" from long to wide format","slug":"transpose-reshape-dataframe-without-\"timevar\"-from-long-to-wide-format-1657388213347"},{"title":"Simulating group_concat MySQL function in Microsoft SQL Server 2005?","slug":"simulating-group_concat-mysql-function-in-microsoft-sql-server-2005-1657384832169"},{"title":"Crash or \"segmentation fault\" when data is copied/scanned/read to an uninitialized pointer","slug":"crash-or-\"segmentation-fault\"-when-data-is-copiedscannedread-to-an-uninitialized-pointer-1657387520581"},{"title":"Get selected value in dropdown list using JavaScript","slug":"get-selected-value-in-dropdown-list-using-javascript-1657387631638"}]},"__N_SSG":true}