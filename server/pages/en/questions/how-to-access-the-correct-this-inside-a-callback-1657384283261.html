<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>How to access the correct `this` inside a callback | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="I have a constructor function which registers an event handler:


function MyConstructor(data, transport) {
    this.data = data;
    transport.on(&#x27;data&#x27;, function () {
        alert(this.data);
    });
}

// Mock transport object
var transport = {
    on: function(event, callback) {
        setTimeout(callback, 1000);
    }
};

// called as
var obj = new MyConstructor(&#x27;foo&#x27;, transport);
 Run code snippetHide resultsExpand snippet


However, I&#x27;m not able to access the data property of the created object inside the callback. It looks like this does not refer to the object that was created, but to another one.
I also tried to use an object method instead of an anonymous function:
function MyConstructor(data, transport) {
    this.data = data;
    transport.on(&#x27;data&#x27;, this.alert);
}

MyConstructor.prototype.alert = function() {
    alert(this.name);
};

but it exhibits the same problems.
How can I access the correct object?
    "/><meta property="og:title" content="How to access the correct `this` inside a callback | Solutions Checker"/><meta property="og:description" content="I have a constructor function which registers an event handler:


function MyConstructor(data, transport) {
    this.data = data;
    transport.on(&#x27;data&#x27;, function () {
        alert(this.data);
    });
}

// Mock transport object
var transport = {
    on: function(event, callback) {
        setTimeout(callback, 1000);
    }
};

// called as
var obj = new MyConstructor(&#x27;foo&#x27;, transport);
 Run code snippetHide resultsExpand snippet


However, I&#x27;m not able to access the data property of the created object inside the callback. It looks like this does not refer to the object that was created, but to another one.
I also tried to use an object method instead of an anonymous function:
function MyConstructor(data, transport) {
    this.data = data;
    transport.on(&#x27;data&#x27;, this.alert);
}

MyConstructor.prototype.alert = function() {
    alert(this.name);
};

but it exhibits the same problems.
How can I access the correct object?
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"How to access the correct `this` inside a callback","text":"I have a constructor function which registers an event handler:\n\n\nfunction MyConstructor(data, transport) {\n    this.data = data;\n    transport.on(&apos;data&apos;, function () {\n        alert(this.data);\n    });\n}\n\n// Mock transport object\nvar transport = {\n    on: function(event, callback) {\n        setTimeout(callback, 1000);\n    }\n};\n\n// called as\nvar obj = new MyConstructor(&apos;foo&apos;, transport);\n Run code snippetHide resultsExpand snippet\n\n\nHowever, I&apos;m not able to access the data property of the created object inside the callback. It looks like this does not refer to the object that was created, but to another one.\nI also tried to use an object method instead of an anonymous function:\nfunction MyConstructor(data, transport) {\n    this.data = data;\n    transport.on(&apos;data&apos;, this.alert);\n}\n\nMyConstructor.prototype.alert = function() {\n    alert(this.name);\n};\n\nbut it exhibits the same problems.\nHow can I access the correct object?\n    ","answerCount":13,"upVoteCount":500,"suggestedAnswer":[{"text":"What you should know about this\nthis (aka &quot;the context&quot;) is a special keyword inside each function and its value only depends on how the function was called, not how/when/where it was defined. It is not affected by lexical scopes like other variables (except for arrow functions, see below). Here are some examples:\nfunction foo() {\n    console.log(this);\n}\n\n// normal function call\nfoo(); // `this` will refer to `window`\n\n// as object method\nvar obj = {bar: foo};\nobj.bar(); // `this` will refer to `obj`\n\n// as constructor function\nnew foo(); // `this` will refer to an object that inherits from `foo.prototype`\n\nTo learn more about this, have a look at the MDN documentation.\n\nHow to refer to the correct this\nUse arrow functions\nECMAScript 6 introduced arrow functions, which can be thought of as lambda functions. They don&apos;t have their own this binding. Instead, this is looked up in scope just like a normal variable. That means you don&apos;t have to call .bind. That&apos;s not the only special behavior they have, please refer to the MDN documentation for more information.\nfunction MyConstructor(data, transport) {\n    this.data = data;\n    transport.on(&apos;data&apos;, () =&gt; alert(this.data));\n}\n\nDon&apos;t use this\nYou actually don&apos;t want to access this in particular, but the object it refers to. That&apos;s why an easy solution is to simply create a new variable that also refers to that object. The variable can have any name, but common ones are self and that.\nfunction MyConstructor(data, transport) {\n    this.data = data;\n    var self = this;\n    transport.on(&apos;data&apos;, function() {\n        alert(self.data);\n    });\n}\n\nSince self is a normal variable, it obeys lexical scope rules and is accessible inside the callback. This also has the advantage that you can access the this value of the callback itself.\nExplicitly set this of the callback - part 1\nIt might look like you have no control over the value of this because its value is set automatically, but that is actually not the case.\nEvery function has the method .bind [docs], which returns a new function with this bound to a value. The function has exactly the same behavior as the one you called .bind on, only that this was set by you. No matter how or when that function is called, this will always refer to the passed value.\nfunction MyConstructor(data, transport) {\n    this.data = data;\n    var boundFunction = (function() { // parenthesis are not necessary\n        alert(this.data);             // but might improve readability\n    }).bind(this); // &lt;- here we are calling `.bind()` \n    transport.on(&apos;data&apos;, boundFunction);\n}\n\nIn this case, we are binding the callback&apos;s this to the value of MyConstructor&apos;s this.\nNote: When a binding context for jQuery, use jQuery.proxy [docs] instead. The reason to do this is so that you don&apos;t need to store the reference to the function when unbinding an event callback. jQuery handles that internally.\nSet this of the callback - part 2\nSome functions/methods which accept callbacks also accept a value to which the callback&apos;s this should refer to. This is basically the same as binding it yourself, but the function/method does it for you. Array#map [docs] is such a method. Its signature is:\narray.map(callback[, thisArg])\n\nThe first argument is the callback and the second argument is the value this should refer to. Here is a contrived example:\nvar arr = [1, 2, 3];\nvar obj = {multiplier: 42};\n\nvar new_arr = arr.map(function(v) {\n    return v * this.multiplier;\n}, obj); // &lt;- here we are passing `obj` as second argument\n\nNote: Whether or not you can pass a value for this is usually mentioned in the documentation of that function/method. For example, jQuery&apos;s $.ajax method [docs] describes an option called context:\n\nThis object will be made the context of all Ajax-related callbacks.\n\n\nCommon problem: Using object methods as callbacks/event handlers\nAnother common manifestation of this problem is when an object method is used as callback/event handler. Functions are first-class citizens in JavaScript and the term &quot;method&quot; is just a colloquial term for a function that is a value of an object property. But that function doesn&apos;t have a specific link to its &quot;containing&quot; object.\nConsider the following example:\nfunction Foo() {\n    this.data = 42,\n    document.body.onclick = this.method;\n}\n\nFoo.prototype.method = function() {\n    console.log(this.data);\n};\n\nThe function this.method is assigned as click event handler, but if the document.body is clicked, the value logged will be undefined, because inside the event handler, this refers to the document.body, not the instance of Foo.\nAs already mentioned at the beginning, what this refers to depends on how the function is called, not how it is defined.\nIf the code was like the following, it might be more obvious that the function doesn&apos;t have an implicit reference to the object:\nfunction method() {\n    console.log(this.data);\n}\n\n\nfunction Foo() {\n    this.data = 42,\n    document.body.onclick = this.method;\n}\n\nFoo.prototype.method = method;\n\nThe solution is the same as mentioned above: If available, use .bind to explicitly bind this to a specific value\ndocument.body.onclick = this.method.bind(this);\n\nor explicitly call the function as a &quot;method&quot; of the object, by using an anonymous function as callback / event handler and assign the object (this) to another variable:\nvar self = this;\ndocument.body.onclick = function() {\n    self.method();\n};\n\nor use an arrow function:\ndocument.body.onclick = () =&gt; this.method();\n\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"Here are several ways to access the parent context inside a child context -\n\nYou can use the bind() function.\nStore a reference to context/this inside another variable (see the below example).\nUse ES6 Arrow functions.\nAlter the code, function design, and architecture - for this you should have command over design patterns in JavaScript.\n\n1. Use the bind() function\n\nfunction MyConstructor(data, transport) {\n    this.data = data;\n    transport.on(&apos;data&apos;, ( function () {\n        alert(this.data);\n    }).bind(this) );\n}\n// Mock transport object\nvar transport = {\n    on: function(event, callback) {\n        setTimeout(callback, 1000);\n    }\n};\n// called as\nvar obj = new MyConstructor(&apos;foo&apos;, transport);\n\n\nIf you are using Underscore.js - http://underscorejs.org/#bind\ntransport.on(&apos;data&apos;, _.bind(function () {\n    alert(this.data);\n}, this));\n\n2. Store a reference to context/this inside another variable\n\nfunction MyConstructor(data, transport) {\n  var self = this;\n  this.data = data;\n  transport.on(&apos;data&apos;, function() {\n    alert(self.data);\n  });\n}\n\n\n3. Arrow function\n\nfunction MyConstructor(data, transport) {\n  this.data = data;\n  transport.on(&apos;data&apos;, () =&gt; {\n    alert(this.data);\n  });\n}\n\n\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"It&apos;s all in the &quot;magic&quot; syntax of calling a method:\nobject.property();\n\nWhen you get the property from the object and call it in one go, the object will be the context for the method. If you call the same method, but in separate steps, the context is the global scope (window) instead:\nvar f = object.property;\nf();\n\nWhen you get the reference of a method, it&apos;s no longer attached to the object. It&apos;s just a reference to a plain function. The same happens when you get the reference to use as a callback:\nthis.saveNextLevelData(this.setAll);\n\nThat&apos;s where you would bind the context to the function:\nthis.saveNextLevelData(this.setAll.bind(this));\n\nIf you are using jQuery you should use the $.proxy method instead, as bind is not supported in all browsers:\nthis.saveNextLevelData($.proxy(this.setAll, this));\n\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"You should know about &quot;this&quot; Keyword.\nAs per my view you can implement &quot;this&quot; in three ways\n(Self/Arrow function/Bind Method)\nA function&apos;s this keyword behaves a little differently in JavaScript compared to other languages.\nIt also has some differences between strict mode and non-strict mode.\nIn most cases, the value of this is determined by how a function is called.\nIt can&apos;t be set by assignment during execution, and it may be different each time the function is called.\nES5 introduced the bind() method to set the value of a function&apos;s this regardless of how it&apos;s called,\nAnd ES2015 introduced arrow functions that don&apos;t provide their own this binding (it retains this value of the enclosing lexical context).\nMethod1: Self - Self is being used to maintain a reference to the original this even as the context is changing. It&apos;s a technique often used in event handlers (especially in closures).\nReference: this\nfunction MyConstructor(data, transport) {\n    this.data = data;\n    var self = this;\n    transport.on(&apos;data&apos;, function () {\n        alert(self.data);\n    });\n}\n\nMethod2: Arrow function - An arrow function expression is a syntactically compact alternative to a regular function expression, although without its own bindings to the this, arguments, super, or new.target keywords.\nArrow function expressions are ill-suited as methods, and they cannot be used as constructors.\nReference: Arrow function expressions\n  function MyConstructor(data, transport) {\n    this.data = data;\n    transport.on(&apos;data&apos;,()=&gt; {\n        alert(this.data);\n    });\n}\n\nMethod 3: Bind - The bind() method creates a new function that, when called, has its this keyword set to the provided value with a given sequence of arguments preceding any provided when the new function is called.\nReference: Function.prototype.bind()\n  function MyConstructor(data, transport) {\n    this.data = data;\n    transport.on(&apos;data&apos;,(function() {\n        alert(this.data);\n    }).bind(this);\n\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"The trouble with &quot;context&quot;\nThe term &quot;context&quot; is sometimes used to refer to the object referenced by this. Its use is inappropriate, because it doesn&apos;t fit either semantically or technically with ECMAScript&apos;s this.\n&quot;Context&quot; means the circumstances surrounding something that adds meaning, or some preceding and following information that gives extra meaning. The term &quot;context&quot; is used in ECMAScript to refer to execution context, which is all the parameters, scope, and this within the scope of some executing code.\nThis is shown in ECMA-262 section 10.4.2:\n\nSet the ThisBinding to the same value as the ThisBinding of the\ncalling execution context\n\nWhich clearly indicates that this is part of an execution context.\nAn execution context provides the surrounding information that adds meaning to the code that is being executed. It includes much more information than just the thisBinding.\nThe value of this isn&apos;t &quot;context&quot;. It&apos;s just one part of an execution context. It&apos;s essentially a local variable that can be set by the call to any object and in strict mode, to any value at all.\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"First, you need to have a clear understanding of scope and behaviour of the this keyword in the context of scope.\nthis &amp; scope:\n\nThere are two types of scope in JavaScript. They are:\n\nGlobal Scope\n\nFunction Scope\n\n\nIn short, global scope refers to the window object. Variables declared in a global scope are accessible from anywhere.\nOn the other hand, function scope resides inside of a function. A variable declared inside a function cannot be accessed from the outside world normally.\nThe this keyword in the global scope refers to the window object. this inside a function also refers to the window object. So this will always refer to the window until we find a way to manipulate this to indicate a context of our own choosing.\n--------------------------------------------------------------------------------\n-                                                                              -\n-   Global Scope                                                               -\n-   (globally &quot;this&quot; refers to window object)                                  -\n-                                                                              -\n-   function outer_function(callback){                                         -\n-                                                                              -\n-       // Outer function scope                                                -\n-       // Inside the outer function, the &quot;this&quot; keyword                       -\n-       //  refers to window object                                            -\n-       callback() // &quot;this&quot; inside callback also refers to the  window object -\n-   }                                                                          -\n-                                                                              -\n-   function callback_function(){                                              -\n-                                                                              -\n-       // Function to be passed as callback                                   -\n-                                                                              -\n-       // Here &quot;THIS&quot; refers to the window object also                        -\n-   }                                                                          -\n-                                                                              -\n-   outer_function(callback_function)                                          -\n-   // Invoke with callback                                                    -\n-                                                                              -\n--------------------------------------------------------------------------------\n\n\nDifferent ways to manipulate this inside callback functions:\nHere I have a constructor function called Person. It has a property called name and four method called sayNameVersion1, sayNameVersion2, sayNameVersion3, and sayNameVersion4. All four of them has one specific task. Accept a callback and invoke it. The callback has a specific task which is to log the name property of an instance of Person constructor function.\nfunction Person(name){\n\n    this.name = name\n\n    this.sayNameVersion1 = function(callback){\n        callback.bind(this)()\n    }\n    this.sayNameVersion2 = function(callback){\n        callback()\n    }\n\n    this.sayNameVersion3 = function(callback){\n        callback.call(this)\n    }\n\n    this.sayNameVersion4 = function(callback){\n        callback.apply(this)\n    }\n\n}\n\nfunction niceCallback(){\n\n    // Function to be used as callback\n\n    var parentObject = this\n\n    console.log(parentObject)\n}\n\nNow let&apos;s create an instance from person constructor and invoke different versions of sayNameVersionX (X refers to 1,2,3,4) method with niceCallback to see how many ways we can manipulate the this inside callback to refer to the person instance.\nvar p1 = new Person(&apos;zami&apos;) // Create an instance of Person constructor\n\nbind: \nWhat bind do is to create a new function with the this keyword set to the provided value.\nsayNameVersion1 and sayNameVersion2 use bind to manipulate this of the callback function.\nthis.sayNameVersion1 = function(callback){\n    callback.bind(this)()\n}\nthis.sayNameVersion2 = function(callback){\n    callback()\n}\n\nThe first one binds this with a callback inside the method itself. And for the second one, the callback is passed with the object bound to it.\np1.sayNameVersion1(niceCallback) // pass simply the callback and bind happens inside the sayNameVersion1 method\n\np1.sayNameVersion2(niceCallback.bind(p1)) // uses bind before passing callback\n\n\ncall: \nThe first argument of the call method is used as this inside the function that is invoked with call attached to it.\nsayNameVersion3 uses call to manipulate the this to refer to the person object that we created, instead of the window object.\nthis.sayNameVersion3 = function(callback){\n    callback.call(this)\n}\n\nAnd it is called like the following:\np1.sayNameVersion3(niceCallback)\n\n\napply: \nSimilar to call, the first argument of apply refers to the object that will be indicated by the this keyword.\nsayNameVersion4 uses apply to manipulate this to refer to a person object\nthis.sayNameVersion4 = function(callback){\n    callback.apply(this)\n}\n\nAnd it is called like the following. Simply the callback is passed,\np1.sayNameVersion4(niceCallback)\n\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"We can not bind this to setTimeout(), as it always executes with the global object (Window). If you want to access the this context in the callback function then by using bind() to the callback function, we can achieve it as:\nsetTimeout(function(){\n    this.methodName();\n}.bind(this), 2000);\n\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"The question revolves around how the this keyword behaves in JavaScript. this behaves differently as below,\n\nThe value of this is usually determined by a function execution context.\nIn the global scope, this refers to the global object (the window object).\nIf strict mode is enabled for any function then the value of this will be undefined as in strict mode, global object refers to undefined in place of the window object.\nThe object that is standing before the dot is what the this keyword will be bound to.\nWe can set the value of this explicitly with call(), bind(), and apply()\nWhen the new keyword is used (a constructor), this is bound to the new object being created.\nArrow functions dont bind thisinstead, this is bound lexically (i.e., based on the original context)\n\nAs most of the answers suggest, we can use the arrow function or bind() Method or Self var. I would quote a point about lambdas (arrow function) from Google JavaScript Style Guide\n\nPrefer using arrow functions over f.bind(this), and especially over\ngoog.bind(f, this). Avoid writing const self = this. Arrow functions\nare particularly useful for callbacks, which sometimes pass unexpectedly\nadditional arguments.\n\nGoogle clearly recommends using lambdas rather than bind or const self = this\nSo the best solution would be to use lambdas as below,\nfunction MyConstructor(data, transport) {\n  this.data = data;\n  transport.on(&apos;data&apos;, () =&gt; {\n    alert(this.data);\n  });\n}\n\nReferences:\n\nhttps://medium.com/tech-tajawal/javascript-this-4-rules-7354abdb274c\narrow-functions-vs-bind\n\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"Currently there is another approach possible if classes are used in code.\nWith support of class fields, it&apos;s possible to make it the following way:\nclass someView {\n    onSomeInputKeyUp = (event) =&gt; {\n        console.log(this); // This refers to the correct value\n    // ....\n    someInitMethod() {\n        //...\n        someInput.addEventListener(&apos;input&apos;, this.onSomeInputKeyUp)\n\nFor sure under the hood it&apos;s all the old good arrow function that binds context, but in this form it looks much more clear that explicit binding.\nSince it&apos;s a Stage 3 Proposal, you will need Babel and appropriate Babel plugin to process it as for now (08/2018).\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"I was facing a problem with Ngx line chart xAxisTickFormatting function which was called from HTML like this: [xAxisTickFormatting]=&quot;xFormat&quot;.\nI was unable to access my component&apos;s variable from the function declared. This solution helped me to resolve the issue to find the correct this.\nInstead of using the function like this:\nxFormat (value): string {\n  return value.toString() + this.oneComponentVariable; //gives wrong result\n}\n\nUse this:\n xFormat = (value) =&gt; {\n   // console.log(this);\n   // now you have access to your component variables\n   return value + this.oneComponentVariable\n }\n\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"Another approach, which is the standard way since DOM2 to bind this within the event listener, that let you always remove the listener (among other benefits), is the handleEvent(evt) method from the EventListener interface:\nvar obj = {\n  handleEvent(e) {\n    // always true\n    console.log(this === obj);\n  }\n};\n\ndocument.body.addEventListener(&apos;click&apos;, obj);\n\nDetailed information about using handleEvent can be found here: DOM handleEvent: a cross-platform standard since year 2000\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"Some other people have touched on how to use the .bind() method, but specifically here is how you can use it with .then() if anyone is having trouble getting them to work together:\nsomeFunction()\n.then(function(response) {\n    //&apos;this&apos; wasn&apos;t accessible here before but now it is\n}.bind(this))\n\nAs mentioned in the comments, an alternative would be to use an arrow function that doesn&apos;t have its own &apos;this&apos; value\nsomeFunction()\n.then((response)=&gt;{\n    //&apos;this&apos; was always accessible here\n})\n\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"this in JavaScript:\nThe value of this in JavaScript is 100% determined by how a function is called, and not how it is defined. We can relatively easily find the value of this by the &apos;left of the dot rule&apos;:\n\nWhen the function is created using the function keyword the value of this is the object left of the dot of the function which is called\nIf there is no object left of the dot then the value of this inside a function is often the global object (global in Node.js and window in a browser). I wouldn&apos;t recommend using the this keyword here because it is less explicit than using something like window!\nThere exist certain constructs like arrow functions and functions created using the Function.prototype.bind() a function that can fix the value of this. These are exceptions of the rule, but they are really helpful to fix the value of this.\n\nExample in Node.js\nmodule.exports.data = &apos;module data&apos;;\n// This outside a function in node refers to module.exports object\nconsole.log(this);\n\nconst obj1 = {\n    data: &quot;obj1 data&quot;,\n    met1: function () {\n        console.log(this.data);\n    },\n    met2: () =&gt; {\n        console.log(this.data);\n    },\n};\n\nconst obj2 = {\n    data: &quot;obj2 data&quot;,\n    test1: function () {\n        console.log(this.data);\n    },\n    test2: function () {\n        console.log(this.data);\n    }.bind(obj1),\n    test3: obj1.met1,\n    test4: obj1.met2,\n};\n\nobj2.test1();\nobj2.test2();\nobj2.test3();\nobj2.test4();\nobj1.met1.call(obj2);\n\nOutput:\n\nLet me walk you through the outputs one by one (ignoring the first log starting from the second):\n\nthis is obj2 because of the left of the dot rule, we can see how test1 is called obj2.test1();. obj2 is left of the dot and thus the this value.\nEven though obj2 is left of the dot, test2 is bound to obj1 via the bind() method. The this value is obj1.\nobj2 is left of the dot from the function which is called: obj2.test3(). Therefore obj2 will be the value of this.\nIn this case: obj2.test4() obj2 is left of the dot. However, arrow functions don&apos;t have their own this binding. Therefore it will bind to the this value of the outer scope which is the module.exports an object which was logged in the beginning.\nWe can also specify the value of this by using the call function. Here we can pass in the desired this value as an argument, which is obj2 in this case.\n\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08d1a634dea6705e.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/150-b06815e21c943e0d.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/108-87de33c23337ff53.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-79a1437acf654019.js" defer=""></script><script src="/_next/static/TQ2eYlCSdocSK-hq6gkM0/_buildManifest.js" defer=""></script><script src="/_next/static/TQ2eYlCSdocSK-hq6gkM0/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-to-access-the-correct-this-inside-a-callback-1657384283261#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-to-access-the-correct-this-inside-a-callback-1657384283261"><h1>How to access the correct `this` inside a callback</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/callback">callback</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/this">this</a></div></div><div class="question-content mt-5">
                
<p>I have a constructor function which registers an event handler:</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">MyConstructor</span>(<span class="hljs-params">data, transport</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
    transport.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);
    });
}

<span class="hljs-comment">// Mock transport object</span>
<span class="hljs-keyword">var</span> transport = {
    <span class="hljs-attr">on</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">event, callback</span>) {
        <span class="hljs-built_in">setTimeout</span>(callback, <span class="hljs-number">1000</span>);
    }
};

<span class="hljs-comment">// called as</span>
<span class="hljs-keyword">var</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyConstructor</span>(<span class="hljs-string">'foo'</span>, transport);</code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif1" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>However, I'm not able to access the <code>data</code> property of the created object inside the callback. It looks like <code>this</code> does not refer to the object that was created, but to another one.</p>
<p>I also tried to use an object method instead of an anonymous function:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">MyConstructor</span>(<span class="hljs-params">data, transport</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
    transport.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">alert</span>);
}

<span class="hljs-title class_">MyConstructor</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">alert</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
};
</code></pre>
<p>but it exhibits the same problems.</p>
<p>How can I access the correct object?</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/callback">callback</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/this">this</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>What you should know about <code>this</code></h2>
<p><code>this</code> (aka "the context") is a special keyword inside each function and its value only depends on <em>how</em> the function was called, not how/when/where it was defined. It is not affected by lexical scopes like other variables (except for arrow functions, see below). Here are some examples:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>);
}

<span class="hljs-comment">// normal function call</span>
<span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// `this` will refer to `window`</span>

<span class="hljs-comment">// as object method</span>
<span class="hljs-keyword">var</span> obj = {<span class="hljs-attr">bar</span>: foo};
obj.<span class="hljs-title function_">bar</span>(); <span class="hljs-comment">// `this` will refer to `obj`</span>

<span class="hljs-comment">// as constructor function</span>
<span class="hljs-keyword">new</span> <span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// `this` will refer to an object that inherits from `foo.prototype`</span>
</code></pre>
<p>To learn more about <code>this</code>, have a look at the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this" rel="noreferrer">MDN documentation</a>.</p>
<hr>
<h2>How to refer to the correct <code>this</code></h2>
<h3>Use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" rel="noreferrer">arrow functions</a></h3>
<p>ECMAScript 6 introduced <em>arrow functions</em>, which can be thought of as lambda functions. They don't have their own <code>this</code> binding. Instead, <code>this</code> is looked up in scope just like a normal variable. That means you don't have to call <code>.bind</code>. That's not the only special behavior they have, please refer to the MDN documentation for more information.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">MyConstructor</span>(<span class="hljs-params">data, transport</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
    transport.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>));
}
</code></pre>
<h3>Don't use <code>this</code></h3>
<p>You actually don't want to access <code>this</code> in particular, but <em>the object it refers to</em>. That's why an easy solution is to simply create a new variable that also refers to that object. The variable can have any name, but common ones are <code>self</code> and <code>that</code>.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">MyConstructor</span>(<span class="hljs-params">data, transport</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
    <span class="hljs-keyword">var</span> self = <span class="hljs-variable language_">this</span>;
    transport.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
        <span class="hljs-title function_">alert</span>(self.<span class="hljs-property">data</span>);
    });
}
</code></pre>
<p>Since <code>self</code> is a normal variable, it obeys lexical scope rules and is accessible inside the callback. This also has the advantage that you can access the <code>this</code> value of the callback itself.</p>
<h3>Explicitly set <code>this</code> of the callback - part 1</h3>
<p>It might look like you have no control over the value of <code>this</code> because its value is set automatically, but that is actually not the case.</p>
<p>Every function has the method <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind" rel="noreferrer"><code>.bind</code> <em><sup>[docs]</sup></em></a>, which returns a new function with <code>this</code> bound to a value. The function has exactly the same behavior as the one you called <code>.bind</code> on, only that <code>this</code> was set by you. No matter how or when that function is called, <code>this</code> will always refer to the passed value.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">MyConstructor</span>(<span class="hljs-params">data, transport</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
    <span class="hljs-keyword">var</span> boundFunction = (<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) { <span class="hljs-comment">// parenthesis are not necessary</span>
        <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);             <span class="hljs-comment">// but might improve readability</span>
    }).<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// &lt;- here we are calling `.bind()` </span>
    transport.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>, boundFunction);
}
</code></pre>
<p>In this case, we are binding the callback's <code>this</code> to the value of <code>MyConstructor</code>'s <code>this</code>.</p>
<p><strong>Note:</strong> When a binding context for jQuery, use <a href="http://api.jquery.com/jQuery.proxy/" rel="noreferrer"><code>jQuery.proxy</code> <em><sup>[docs]</sup></em></a> instead. The reason to do this is so that you don't need to store the reference to the function when unbinding an event callback. jQuery handles that internally.</p>
<h3>Set <code>this</code> of the callback - part 2</h3>
<p>Some functions/methods which accept callbacks also accept a value to which the callback's <code>this</code> should refer to. This is basically the same as binding it yourself, but the function/method does it for you. <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" rel="noreferrer"><code>Array#map</code> <em><sup>[docs]</sup></em></a> is such a method. Its signature is:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">array.<span class="hljs-title function_">map</span>(callback[, thisArg])
</code></pre>
<p>The first argument is the callback and the second argument is the value <code>this</code> should refer to. Here is a contrived example:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
<span class="hljs-keyword">var</span> obj = {<span class="hljs-attr">multiplier</span>: <span class="hljs-number">42</span>};

<span class="hljs-keyword">var</span> new_arr = arr.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">v</span>) {
    <span class="hljs-keyword">return</span> v * <span class="hljs-variable language_">this</span>.<span class="hljs-property">multiplier</span>;
}, obj); <span class="hljs-comment">// &lt;- here we are passing `obj` as second argument</span>
</code></pre>
<p><strong>Note:</strong> Whether or not you can pass a value for <code>this</code> is usually mentioned in the documentation of that function/method. For example, <a href="http://api.jquery.com/jQuery.ajax/" rel="noreferrer">jQuery's <code>$.ajax</code> method <em><sup>[docs]</sup></em></a> describes an option called <code>context</code>:</p>
<blockquote>
<p>This object will be made the context of all Ajax-related callbacks.</p>
</blockquote>
<hr>
<h2>Common problem: Using object methods as callbacks/event handlers</h2>
<p>Another common manifestation of this problem is when an object method is used as callback/event handler. Functions are first-class citizens in JavaScript and the term "method" is just a colloquial term for a function that is a value of an object property. But that function doesn't have a specific link to its "containing" object.</p>
<p>Consider the following example:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Foo</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = <span class="hljs-number">42</span>,
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">onclick</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">method</span>;
}

<span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">method</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);
};
</code></pre>
<p>The function <code>this.method</code> is assigned as click event handler, but if the <code>document.body</code> is clicked, the value logged will be <code>undefined</code>, because inside the event handler, <code>this</code> refers to the <code>document.body</code>, not the instance of <code>Foo</code>.<br>
As already mentioned at the beginning, what <code>this</code> refers to depends on how the function is <strong>called</strong>, not how it is <strong>defined</strong>.<br>
If the code was like the following, it might be more obvious that the function doesn't have an implicit reference to the object:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">method</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);
}


<span class="hljs-keyword">function</span> <span class="hljs-title function_">Foo</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = <span class="hljs-number">42</span>,
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">onclick</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">method</span>;
}

<span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">method</span> = method;
</code></pre>
<p><strong>The solution</strong> is the same as mentioned above: If available, use <code>.bind</code> to explicitly bind <code>this</code> to a specific value</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">onclick</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">method</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
</code></pre>
<p>or explicitly call the function as a "method" of the object, by using an anonymous function as callback / event handler and assign the object (<code>this</code>) to another variable:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> self = <span class="hljs-variable language_">this</span>;
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">onclick</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    self.<span class="hljs-title function_">method</span>();
};
</code></pre>
<p>or use an arrow function:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">method</span>();
</code></pre>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/callback">callback</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/this">this</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2 id="here-are-several-ways-to-access-the-parent-context-inside-a-child-context-rzco">Here are several ways to access the parent context inside a child context -</h2>
<ol>
<li>You can use the <code><a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_objects/Function/bind" rel="noreferrer">bind</a>()</code> function.</li>
<li>Store a reference to context/this inside another variable (see the below example).</li>
<li>Use ES6 <a href="https://derickbailey.com/2015/09/28/do-es6-arrow-functions-really-solve-this-in-javascript/" rel="noreferrer">Arrow</a> functions.</li>
<li>Alter the code, function design, and architecture - for this you should have command over <a href="https://addyosmani.com/resources/essentialjsdesignpatterns/book/" rel="noreferrer">design patterns</a> in JavaScript.</li>
</ol>
<h1 id="use-the-bind-function-nhau">1. Use the <code>bind()</code> function</h1>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">MyConstructor</span>(<span class="hljs-params">data, transport</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
    transport.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>, ( <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);
    }).<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>) );
}
<span class="hljs-comment">// Mock transport object</span>
<span class="hljs-keyword">var</span> transport = {
    <span class="hljs-attr">on</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">event, callback</span>) {
        <span class="hljs-built_in">setTimeout</span>(callback, <span class="hljs-number">1000</span>);
    }
};
<span class="hljs-comment">// called as</span>
<span class="hljs-keyword">var</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyConstructor</span>(<span class="hljs-string">'foo'</span>, transport);
</code></pre>

<p>If you are using Underscore.js - <a href="http://underscorejs.org/#bind" rel="noreferrer">http://underscorejs.org/#bind</a></p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">transport.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>, _.<span class="hljs-title function_">bind</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);
}, <span class="hljs-variable language_">this</span>));
</code></pre>
<h1 id="store-a-reference-to-contextthis-inside-another-variable-gctm">2. Store a reference to context/this inside another variable</h1>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">MyConstructor</span>(<span class="hljs-params">data, transport</span>) {
  <span class="hljs-keyword">var</span> self = <span class="hljs-variable language_">this</span>;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
  transport.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-title function_">alert</span>(self.<span class="hljs-property">data</span>);
  });
}
</code></pre>

<h1 id="arrow-function-wlcj">3. Arrow function</h1>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">MyConstructor</span>(<span class="hljs-params">data, transport</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
  transport.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);
  });
}
</code></pre>

    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/callback">callback</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/this">this</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>It's all in the "magic" syntax of calling a method:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">object.<span class="hljs-title function_">property</span>();
</code></pre>
<p>When you get the property from the object and call it in one go, the object will be the context for the method. If you call the same method, but in separate steps, the context is the global scope (window) instead:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> f = object.<span class="hljs-property">property</span>;
<span class="hljs-title function_">f</span>();
</code></pre>
<p>When you get the reference of a method, it's no longer attached to the object. It's just a reference to a plain function. The same happens when you get the reference to use as a callback:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-title function_">saveNextLevelData</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">setAll</span>);
</code></pre>
<p>That's where you would bind the context to the function:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-title function_">saveNextLevelData</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">setAll</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>));
</code></pre>
<p>If you are using jQuery you should use the <code>$.proxy</code> method instead, as <code>bind</code> is not supported in all browsers:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-title function_">saveNextLevelData</span>($.<span class="hljs-title function_">proxy</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">setAll</span>, <span class="hljs-variable language_">this</span>));
</code></pre>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/callback">callback</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/this">this</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>You</strong> <em><strong>should</strong></em> <strong>know about "this" Keyword.</strong></p>
<p><strong>As per my view you can implement "this" in three ways</strong>
<em><strong>(Self/Arrow function/Bind Method)</strong></em></p>
<p>A function's <code>this</code> keyword behaves a little differently in JavaScript compared to other languages.</p>
<p>It also has some differences between strict mode and non-strict mode.</p>
<p>In most cases, the value of this is determined by how a function is called.</p>
<p>It can't be set by assignment during execution, and it may be different each time the function is called.</p>
<p>ES5 introduced the bind() method to set the value of a function's <code>this</code> regardless of how it's called,</p>
<p>And ES2015 introduced arrow functions that don't provide their own <code>this</code> binding (it retains this value of the enclosing lexical context).</p>
<p><strong>Method1:</strong> Self - Self is being used to maintain a reference to the original this even as the context is changing. It's a technique often used in event handlers (especially in closures).</p>
<p><strong>Reference</strong>: <em><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this" rel="noreferrer">this</a></em></p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">MyConstructor</span>(<span class="hljs-params">data, transport</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
    <span class="hljs-keyword">var</span> self = <span class="hljs-variable language_">this</span>;
    transport.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-title function_">alert</span>(self.<span class="hljs-property">data</span>);
    });
}
</code></pre>
<p><strong>Method2</strong>: Arrow function - An arrow function expression is a syntactically compact alternative to a regular function expression, although without its own bindings to the this, arguments, super, or new.target keywords.</p>
<p>Arrow function expressions are ill-suited as methods, and they cannot be used as constructors.</p>
<p><strong>Reference</strong>: <em><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" rel="noreferrer">Arrow function expressions</a></em></p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">  <span class="hljs-keyword">function</span> <span class="hljs-title function_">MyConstructor</span>(<span class="hljs-params">data, transport</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
    transport.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>,<span class="hljs-function">()=&gt;</span> {
        <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);
    });
}
</code></pre>
<p><strong>Method 3</strong>: Bind - The bind() method creates a new function that, when called, has its <code>this</code> keyword set to the provided value with a given sequence of arguments preceding any provided when the new function is called.</p>
<p><strong>Reference:</strong> <em><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind" rel="noreferrer">Function.prototype.bind()</a></em></p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">  <span class="hljs-keyword">function</span> <span class="hljs-title function_">MyConstructor</span>(<span class="hljs-params">data, transport</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
    transport.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>,(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
        <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);
    }).<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
</code></pre>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/callback">callback</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/this">this</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h3 id="the-trouble-with-context-3iac">The trouble with "context"</h3>
<p>The term "context" is sometimes used to refer to the object referenced by <em>this</em>. Its use is inappropriate, because it doesn't fit either semantically or technically with <a href="http://ecma-international.org/ecma-262/5.1/#sec-10.3" rel="nofollow noreferrer">ECMAScript's <em>this</em></a>.</p>
<p><a href="http://www.oxforddictionaries.com/definition/english/context" rel="nofollow noreferrer">"Context"</a> means the circumstances surrounding something that adds meaning, or some preceding and following information that gives extra meaning. The term "context" is used in ECMAScript to refer to <a href="http://ecma-international.org/ecma-262/5.1/#sec-10.3" rel="nofollow noreferrer"><em>execution context</em></a>, which is all the parameters, scope, and <em>this</em> within the scope of some executing code.</p>
<p>This is shown in <a href="http://ecma-international.org/ecma-262/5.1/#sec-10.4.2" rel="nofollow noreferrer">ECMA-262 section 10.4.2</a>:</p>
<blockquote>
<p>Set the ThisBinding to the same value as the ThisBinding of the
calling execution context</p>
</blockquote>
<p>Which clearly indicates that <em>this</em> is part of an execution context.</p>
<p>An execution context provides the surrounding information that adds meaning to the code that is being executed. It includes much more information than just the <a href="http://ecma-international.org/ecma-262/5.1/#sec-11.1.1" rel="nofollow noreferrer"><em>thisBinding</em></a>.</p>
<p>The value of <em>this</em> isn't "context". It's just one part of an execution context. It's essentially a local variable that can be set by the call to any object and in strict mode, to any value at all.</p>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/callback">callback</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/this">this</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>First, you need to have a clear understanding of <strong><code>scope</code></strong> and behaviour of the <strong><code>this</code></strong> keyword in the context of <strong><code>scope</code></strong>.</p>
<p><strong><code>this</code> &amp; <code>scope</code>:</strong></p>
<hr>
<p>There are two types of scope in JavaScript. They are:</p>
<ol>
<li><p>Global Scope</p>
</li>
<li><p>Function Scope</p>
</li>
</ol>
<p>In short, global scope refers to the window object. Variables declared in a global scope are accessible from anywhere.</p>
<p>On the other hand, function scope resides inside of a function. A variable declared inside a function cannot be accessed from the outside world normally.</p>
<p>The <strong><code>this</code></strong> keyword in the global scope refers to the window object. <strong><code>this</code></strong> inside a function also refers to the window object. So <strong><code>this</code></strong> will always refer to the window until we find a way to manipulate <strong><code>this</code></strong> to indicate a context of our own choosing.</p>
<pre class="lang-none s-code-block"><code>--------------------------------------------------------------------------------
-                                                                              -
-   Global Scope                                                               -
-   (globally "this" refers to window object)                                  -
-                                                                              -
-   function outer_function(callback){                                         -
-                                                                              -
-       // Outer function scope                                                -
-       // Inside the outer function, the "this" keyword                       -
-       //  refers to window object                                            -
-       callback() // "this" inside callback also refers to the  window object -
-   }                                                                          -
-                                                                              -
-   function callback_function(){                                              -
-                                                                              -
-       // Function to be passed as callback                                   -
-                                                                              -
-       // Here "THIS" refers to the window object also                        -
-   }                                                                          -
-                                                                              -
-   outer_function(callback_function)                                          -
-   // Invoke with callback                                                    -
-                                                                              -
--------------------------------------------------------------------------------
</code></pre>
<hr>
<p><strong>Different ways to manipulate <code>this</code> inside callback functions:</strong></p>
<p>Here I have a constructor function called Person. It has a property called <strong><code>name</code></strong> and four method called <strong><code>sayNameVersion1</code></strong>, <strong><code>sayNameVersion2</code></strong>, <strong><code>sayNameVersion3</code></strong>, and <strong><code>sayNameVersion4</code></strong>. All four of them has one specific task. Accept a callback and invoke it. The callback has a specific task which is to log the name property of an instance of Person constructor function.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>){

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">sayNameVersion1</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>){
        callback.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>)()
    }
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">sayNameVersion2</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>){
        <span class="hljs-title function_">callback</span>()
    }

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">sayNameVersion3</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>){
        callback.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>)
    }

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">sayNameVersion4</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>){
        callback.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>)
    }

}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">niceCallback</span>(<span class="hljs-params"></span>){

    <span class="hljs-comment">// Function to be used as callback</span>

    <span class="hljs-keyword">var</span> parentObject = <span class="hljs-variable language_">this</span>

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(parentObject)
}
</code></pre>
<p>Now let's create an instance from person constructor and invoke different versions of <strong><code>sayNameVersionX</code></strong> (X refers to 1,2,3,4) method with <strong><code>niceCallback</code></strong> to see how many ways we can manipulate the <strong><code>this</code></strong> inside callback to refer to the <strong><code>person</code></strong> instance.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">'zami'</span>) <span class="hljs-comment">// Create an instance of Person constructor</span>
</code></pre>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind" rel="nofollow noreferrer"><strong>bind:</strong> </a></p>
<p>What bind do is to create a new function with the <strong><code>this</code></strong> keyword set to the provided value.</p>
<p><code>sayNameVersion1</code> and <code>sayNameVersion2</code> use bind to manipulate <strong><code>this</code></strong> of the callback function.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-property">sayNameVersion1</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>){
    callback.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>)()
}
<span class="hljs-variable language_">this</span>.<span class="hljs-property">sayNameVersion2</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>){
    <span class="hljs-title function_">callback</span>()
}
</code></pre>
<p>The first one binds <strong><code>this</code></strong> with a callback inside the method itself. And for the second one, the callback is passed with the object bound to it.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">p1.<span class="hljs-title function_">sayNameVersion1</span>(niceCallback) <span class="hljs-comment">// pass simply the callback and bind happens inside the sayNameVersion1 method</span>

p1.<span class="hljs-title function_">sayNameVersion2</span>(niceCallback.<span class="hljs-title function_">bind</span>(p1)) <span class="hljs-comment">// uses bind before passing callback</span>
</code></pre>
<hr>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call" rel="nofollow noreferrer"><strong>call:</strong> </a></p>
<p>The <strong><code>first argument</code></strong> of the <strong><code>call</code></strong> method is used as <strong><code>this</code></strong> inside the function that is invoked with <strong><code>call</code></strong> attached to it.</p>
<p><code>sayNameVersion3</code> uses <strong><code>call</code></strong> to manipulate the <strong><code>this</code></strong> to refer to the person object that we created, instead of the window object.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-property">sayNameVersion3</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>){
    callback.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>)
}
</code></pre>
<p>And it is called like the following:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">p1.<span class="hljs-title function_">sayNameVersion3</span>(niceCallback)
</code></pre>
<hr>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" rel="nofollow noreferrer"><strong>apply:</strong> </a></p>
<p>Similar to <strong><code>call</code></strong>, the first argument of <strong><code>apply</code></strong> refers to the object that will be indicated by the <strong><code>this</code></strong> keyword.</p>
<p><code>sayNameVersion4</code> uses <strong><code>apply</code></strong> to manipulate <strong><code>this</code></strong> to refer to a person object</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-property">sayNameVersion4</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>){
    callback.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>)
}
</code></pre>
<p>And it is called like the following. Simply the callback is passed,</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">p1.<span class="hljs-title function_">sayNameVersion4</span>(niceCallback)
</code></pre>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/callback">callback</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/this">this</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>We can not bind this to <code>setTimeout()</code>, as it always executes with <strong>the global object (Window)</strong>. If you want to access the <code>this</code> context in the callback function then by using <code>bind()</code> to the callback function, we can achieve it as:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>){
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">methodName</span>();
}.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>), <span class="hljs-number">2000</span>);
</code></pre>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/callback">callback</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/this">this</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The question revolves around how the <code>this</code> keyword behaves in JavaScript. <code>this</code> behaves differently as below,</p>
<ol>
<li>The value of <code>this</code> is usually determined by a function execution context.</li>
<li>In the global scope, <code>this</code> refers to the global object (the <code>window</code> object).</li>
<li>If strict mode is enabled for any function then the value of <code>this</code> will be <code>undefined</code> as in strict mode, global object refers to <code>undefined</code> in place of the <code>window</code> object.</li>
<li>The object that is standing before the dot is what the <code>this</code> keyword will be bound to.</li>
<li>We can set the value of this explicitly with <code>call()</code>, <code>bind()</code>, and <code>apply()</code></li>
<li>When the <code>new</code> keyword is used (a constructor), this is bound to the new object being created.</li>
<li>Arrow functions dont bind <code>this</code>instead, <code>this</code> is bound lexically (i.e., based on the original context)</li>
</ol>
<p>As most of the answers suggest, we can use <strong>the arrow function or <code>bind()</code> Method or Self</strong> var. I would quote a point about lambdas (arrow function) from <a href="https://google.github.io/styleguide/jsguide.html#features-functions-arrow-functions" rel="nofollow noreferrer">Google JavaScript Style Guide</a></p>
<blockquote>
<p>Prefer using arrow functions over f.bind(this), and especially over
goog.bind(f, this). Avoid writing const self = this. Arrow functions
are particularly useful for callbacks, which sometimes pass unexpectedly
additional arguments.</p>
</blockquote>
<p><strong>Google clearly recommends using lambdas rather than bind or <code>const self = this</code></strong></p>
<p>So the best solution would be to use lambdas as below,</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">MyConstructor</span>(<span class="hljs-params">data, transport</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
  transport.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);
  });
}
</code></pre>
<p>References:</p>
<ol>
<li><a href="https://medium.com/tech-tajawal/javascript-this-4-rules-7354abdb274c" rel="nofollow noreferrer">https://medium.com/tech-tajawal/javascript-this-4-rules-7354abdb274c</a></li>
<li><a href="http://2ality.com/2016/02/arrow-functions-vs-bind.html" rel="nofollow noreferrer">arrow-functions-vs-bind</a></li>
</ol>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/callback">callback</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/this">this</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Currently there is another approach possible if classes are used in code.</p>
<p>With support of <a href="https://github.com/tc39/proposal-class-fields" rel="nofollow noreferrer">class fields</a>, it's possible to make it the following way:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">someView</span> {
    onSomeInputKeyUp = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// This refers to the correct value</span>
    <span class="hljs-comment">// ....</span>
    <span class="hljs-title function_">someInitMethod</span>(<span class="hljs-params"></span>) {
        <span class="hljs-comment">//...</span>
        someInput.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'input'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">onSomeInputKeyUp</span>)
</code></pre>
<p>For sure under the hood it's all the old good arrow function that binds context, but in this form it looks much more clear that explicit binding.</p>
<p>Since it's a Stage 3 Proposal, you will need <a href="https://en.wikipedia.org/wiki/Babel_(transcompiler)" rel="nofollow noreferrer">Babel</a> and appropriate <a href="https://babeljs.io/docs/en/babel-plugin-proposal-class-properties" rel="nofollow noreferrer">Babel plugin</a> to process it as for now (08/2018).</p>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/callback">callback</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/this">this</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I was facing a problem with <code>Ngx</code> line chart <code>xAxisTickFormatting</code> function which was called from HTML like this: <code>[xAxisTickFormatting]="xFormat"</code>.</p>
<p>I was unable to access my component's variable from the function declared. This solution helped me to resolve the issue to find the correct this.</p>
<p>Instead of using the function like this:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">xFormat (value): string {
  <span class="hljs-keyword">return</span> value.<span class="hljs-title function_">toString</span>() + <span class="hljs-variable language_">this</span>.<span class="hljs-property">oneComponentVariable</span>; <span class="hljs-comment">//gives wrong result</span>
}
</code></pre>
<p>Use this:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"> xFormat = <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> {
   <span class="hljs-comment">// console.log(this);</span>
   <span class="hljs-comment">// now you have access to your component variables</span>
   <span class="hljs-keyword">return</span> value + <span class="hljs-variable language_">this</span>.<span class="hljs-property">oneComponentVariable</span>
 }
</code></pre>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 11</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/callback">callback</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/this">this</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Another approach, which is <strong>the standard way since DOM2</strong> to bind <code>this</code> within the event listener, that <strong>let you always remove the listener</strong> (among other benefits), is the <code>handleEvent(evt)</code> method from the <code>EventListener</code> interface:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> obj = {
  <span class="hljs-title function_">handleEvent</span>(<span class="hljs-params">e</span>) {
    <span class="hljs-comment">// always true</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span> === obj);
  }
};

<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, obj);
</code></pre>
<p>Detailed information about using <code>handleEvent</code> can be found here: <em><a href="https://medium.com/@WebReflection/dom-handleevent-a-cross-platform-standard-since-year-2000-5bf17287fd38" rel="nofollow noreferrer">DOM handleEvent: a cross-platform standard since year 2000</a></em></p>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 12</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/callback">callback</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/this">this</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Some other people have touched on how to use the .bind() method, but specifically here is how you can use it with .then() if anyone is having trouble getting them to work together:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">someFunction</span>()
.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) {
    <span class="hljs-comment">//'this' wasn't accessible here before but now it is</span>
}.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>))
</code></pre>
<p>As mentioned in the comments, an alternative would be to use an arrow function that doesn't have its own 'this' value</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">someFunction</span>()
.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>)=&gt;</span>{
    <span class="hljs-comment">//'this' was always accessible here</span>
})
</code></pre>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 13</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/callback">callback</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/this">this</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2 id="this-in-javascript"><code>this</code> in JavaScript:</h2>
<p>The value of <code>this</code> in JavaScript is 100% determined by how a function is called, and not how it is defined. We can relatively easily find the value of <code>this</code> by the <strong>'left of the dot rule'</strong>:</p>
<ol>
<li>When the function is created using the function keyword the value of <code>this</code> is the object left of the dot of the function which is called</li>
<li>If there is no object left of the dot then the value of <code>this</code> inside a function is often the global object (<code>global</code> in Node.js and <code>window</code> in a browser). I wouldn't recommend using the <code>this</code> keyword here because it is less explicit than using something like <code>window</code>!</li>
<li>There exist certain constructs like arrow functions and functions created using the <code>Function.prototype.bind()</code> a function that can fix the value of <code>this</code>. These are exceptions of the rule, but they are really helpful to fix the value of <code>this</code>.</li>
</ol>
<h2 id="example-in-node.js-wasz">Example in Node.js</h2>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>.<span class="hljs-property">data</span> = <span class="hljs-string">'module data'</span>;
<span class="hljs-comment">// This outside a function in node refers to module.exports object</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>);

<span class="hljs-keyword">const</span> obj1 = {
    <span class="hljs-attr">data</span>: <span class="hljs-string">"obj1 data"</span>,
    <span class="hljs-attr">met1</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);
    },
    <span class="hljs-attr">met2</span>: <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);
    },
};

<span class="hljs-keyword">const</span> obj2 = {
    <span class="hljs-attr">data</span>: <span class="hljs-string">"obj2 data"</span>,
    <span class="hljs-attr">test1</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);
    },
    <span class="hljs-attr">test2</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);
    }.<span class="hljs-title function_">bind</span>(obj1),
    <span class="hljs-attr">test3</span>: obj1.<span class="hljs-property">met1</span>,
    <span class="hljs-attr">test4</span>: obj1.<span class="hljs-property">met2</span>,
};

obj2.<span class="hljs-title function_">test1</span>();
obj2.<span class="hljs-title function_">test2</span>();
obj2.<span class="hljs-title function_">test3</span>();
obj2.<span class="hljs-title function_">test4</span>();
obj1.<span class="hljs-property">met1</span>.<span class="hljs-title function_">call</span>(obj2);
</code></pre>
<p>Output:</p>
<p><a href="https://i.stack.imgur.com/VvehZ.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/VvehZ.png" alt="Enter image description here"></a></p>
<p>Let me walk you through the outputs one by one (ignoring the first log starting from the second):</p>
<ol>
<li><code>this</code> is <code>obj2</code> because of the left of the dot rule, we can see how <code>test1</code> is called <code>obj2.test1();</code>. <code>obj2</code> is left of the dot and thus the <code>this</code> value.</li>
<li>Even though <code>obj2</code> is left of the dot, <code>test2</code> is bound to <code>obj1</code> via the <code>bind()</code> method. The <code>this</code> value is <code>obj1</code>.</li>
<li><code>obj2</code> is left of the dot from the function which is called: <code>obj2.test3()</code>. Therefore <code>obj2</code> will be the value of <code>this</code>.</li>
<li>In this case: <code>obj2.test4()</code> <code>obj2</code> is left of the dot. However, arrow functions don't have their own <code>this</code> binding. Therefore it will bind to the <code>this</code> value of the outer scope which is the <code>module.exports</code> an object which was logged in the beginning.</li>
<li>We can also specify the value of <code>this</code> by using the <code>call</code> function. Here we can pass in the desired <code>this</code> value as an argument, which is <code>obj2</code> in this case.</li>
</ol>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/methods-in-es6-objects:-using-arrow-functions-1657388249058">Methods in ES6 objects: using arrow functions</a><a href="/questions/how-to-use-sharedpreferences-in-android-to-store-fetch-and-edit-values-closed-1657387683057">How to use SharedPreferences in Android to store, fetch and edit values [closed]</a><a href="/questions/sort-a-maplesskey-valuegreater-by-values-1657387443904">Sort a Map&lt;Key, Value&gt; by values</a><a href="/questions/sort-array-of-objects-by-string-property-value-1657384860090">Sort array of objects by string property value</a><a href="/questions/what-do-&#x27;lazy&#x27;-and-&#x27;greedy&#x27;-mean-in-the-context-of-regular-expressions-1657388200552">What do &#x27;lazy&#x27; and &#x27;greedy&#x27; mean in the context of regular expressions?</a><a href="/questions/%22is%22-operator-behaves-unexpectedly-with-integers-1657387563823">&quot;is&quot; operator behaves unexpectedly with integers</a><a href="/questions/how-can-i-pivot-a-dataframe-1657384433802">How can I pivot a dataframe?</a><a href="/questions/the-3-different-equals-1657385490242">The 3 different equals</a><a href="/questions/how-do-i-correctly-clone-a-javascript-object-1657387325850">How do I correctly clone a JavaScript object?</a><a href="/questions/why-is-24.0000-not-equal-to-24.0000-in-matlab-1657388376753">Why is 24.0000 not equal to 24.0000 in MATLAB?</a><a href="/questions/default-constructor-with-empty-brackets-1657388246967">Default constructor with empty brackets</a><a href="/questions/is-javascript-a-pass-by-reference-or-pass-by-value-language-1657384675679">Is JavaScript a pass-by-reference or pass-by-value language?</a><a href="/questions/convert-form-data-to-javascript-object-with-jquery-1657388036834">Convert form data to JavaScript object with jQuery</a><a href="/questions/post-an-html-table-to-ado.net-datatable-1657387462723">Post an HTML Table to ADO.NET DataTable</a><a href="/questions/regex-match-open-tags-except-xhtml-self-contained-tags-1657384228245">RegEx match open tags except XHTML self-contained tags</a><a href="/questions/when-to-use-single-quotes-double-quotes-and-backticks-in-mysql-1657384337981">When to use single quotes, double quotes, and backticks in MySQL</a><a href="/questions/getcontactsfromfirebase()-method-return-an-empty-list-1657388433928">getContactsFromFirebase() method return an empty list</a><a href="/questions/use-dynamic-variable-names-in-javascript-1657388468075">Use dynamic variable names in JavaScript</a><a href="/questions/how-do-i-give-text-or-an-image-a-transparent-background-using-css-1657388188508">How do I give text or an image a transparent background using CSS?</a><a href="/questions/what-methods-of-&#x27;clearfix&#x27;-can-i-use-1657387672727">What methods of clearfix can I use?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;h2\u0026gt;What you should know about \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; (aka \u0026quot;the context\u0026quot;) is a special keyword inside each function and its value only depends on \u0026lt;em\u0026gt;how\u0026lt;/em\u0026gt; the function was called, not how/when/where it was defined. It is not affected by lexical scopes like other variables (except for arrow functions, see below). Here are some examples:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// normal function call\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;(); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// `this` will refer to `window`\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// as object method\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; obj = {\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;bar\u0026lt;/span\u0026gt;: foo};\nobj.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;bar\u0026lt;/span\u0026gt;(); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// `this` will refer to `obj`\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// as constructor function\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;(); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// `this` will refer to an object that inherits from `foo.prototype`\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;To learn more about \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;, have a look at the \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;MDN documentation\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;h2\u0026gt;How to refer to the correct \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;\u0026lt;/h2\u0026gt;\n\u0026lt;h3\u0026gt;Use \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;arrow functions\u0026lt;/a\u0026gt;\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;ECMAScript 6 introduced \u0026lt;em\u0026gt;arrow functions\u0026lt;/em\u0026gt;, which can be thought of as lambda functions. They don\u0026apos;t have their own \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; binding. Instead, \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; is looked up in scope just like a normal variable. That means you don\u0026apos;t have to call \u0026lt;code\u0026gt;.bind\u0026lt;/code\u0026gt;. That\u0026apos;s not the only special behavior they have, please refer to the MDN documentation for more information.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;MyConstructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, transport\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt; = data;\n    transport.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;data\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;() =\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;alert\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;));\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h3\u0026gt;Don\u0026apos;t use \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;You actually don\u0026apos;t want to access \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; in particular, but \u0026lt;em\u0026gt;the object it refers to\u0026lt;/em\u0026gt;. That\u0026apos;s why an easy solution is to simply create a new variable that also refers to that object. The variable can have any name, but common ones are \u0026lt;code\u0026gt;self\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;that\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;MyConstructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, transport\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt; = data;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; self = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;;\n    transport.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;data\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;alert\u0026lt;/span\u0026gt;(self.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;);\n    });\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Since \u0026lt;code\u0026gt;self\u0026lt;/code\u0026gt; is a normal variable, it obeys lexical scope rules and is accessible inside the callback. This also has the advantage that you can access the \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; value of the callback itself.\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;Explicitly set \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; of the callback - part 1\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;It might look like you have no control over the value of \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; because its value is set automatically, but that is actually not the case.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Every function has the method \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;.bind\u0026lt;/code\u0026gt; \u0026lt;em\u0026gt;\u0026lt;sup\u0026gt;[docs]\u0026lt;/sup\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt;, which returns a new function with \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; bound to a value. The function has exactly the same behavior as the one you called \u0026lt;code\u0026gt;.bind\u0026lt;/code\u0026gt; on, only that \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; was set by you. No matter how or when that function is called, \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; will always refer to the passed value.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;MyConstructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, transport\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt; = data;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; boundFunction = (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) { \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// parenthesis are not necessary\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;alert\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;);             \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// but might improve readability\u0026lt;/span\u0026gt;\n    }).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;bind\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// \u0026amp;lt;- here we are calling `.bind()` \u0026lt;/span\u0026gt;\n    transport.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;data\u0026apos;\u0026lt;/span\u0026gt;, boundFunction);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;In this case, we are binding the callback\u0026apos;s \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; to the value of \u0026lt;code\u0026gt;MyConstructor\u0026lt;/code\u0026gt;\u0026apos;s \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Note:\u0026lt;/strong\u0026gt; When a binding context for jQuery, use \u0026lt;a href=\u0026quot;http://api.jquery.com/jQuery.proxy/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;jQuery.proxy\u0026lt;/code\u0026gt; \u0026lt;em\u0026gt;\u0026lt;sup\u0026gt;[docs]\u0026lt;/sup\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt; instead. The reason to do this is so that you don\u0026apos;t need to store the reference to the function when unbinding an event callback. jQuery handles that internally.\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;Set \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; of the callback - part 2\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;Some functions/methods which accept callbacks also accept a value to which the callback\u0026apos;s \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; should refer to. This is basically the same as binding it yourself, but the function/method does it for you. \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;Array#map\u0026lt;/code\u0026gt; \u0026lt;em\u0026gt;\u0026lt;sup\u0026gt;[docs]\u0026lt;/sup\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt; is such a method. Its signature is:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;array.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(callback[, thisArg])\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The first argument is the callback and the second argument is the value \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; should refer to. Here is a contrived example:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; arr = [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;];\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; obj = {\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;multiplier\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;42\u0026lt;/span\u0026gt;};\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; new_arr = arr.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;v\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; v * \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;multiplier\u0026lt;/span\u0026gt;;\n}, obj); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// \u0026amp;lt;- here we are passing `obj` as second argument\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Note:\u0026lt;/strong\u0026gt; Whether or not you can pass a value for \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; is usually mentioned in the documentation of that function/method. For example, \u0026lt;a href=\u0026quot;http://api.jquery.com/jQuery.ajax/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;jQuery\u0026apos;s \u0026lt;code\u0026gt;$.ajax\u0026lt;/code\u0026gt; method \u0026lt;em\u0026gt;\u0026lt;sup\u0026gt;[docs]\u0026lt;/sup\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt; describes an option called \u0026lt;code\u0026gt;context\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;This object will be made the context of all Ajax-related callbacks.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;h2\u0026gt;Common problem: Using object methods as callbacks/event handlers\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;Another common manifestation of this problem is when an object method is used as callback/event handler. Functions are first-class citizens in JavaScript and the term \u0026quot;method\u0026quot; is just a colloquial term for a function that is a value of an object property. But that function doesn\u0026apos;t have a specific link to its \u0026quot;containing\u0026quot; object.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Consider the following example:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;Foo\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;42\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;body\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;onclick\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;method\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Foo\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;method\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;);\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The function \u0026lt;code\u0026gt;this.method\u0026lt;/code\u0026gt; is assigned as click event handler, but if the \u0026lt;code\u0026gt;document.body\u0026lt;/code\u0026gt; is clicked, the value logged will be \u0026lt;code\u0026gt;undefined\u0026lt;/code\u0026gt;, because inside the event handler, \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; refers to the \u0026lt;code\u0026gt;document.body\u0026lt;/code\u0026gt;, not the instance of \u0026lt;code\u0026gt;Foo\u0026lt;/code\u0026gt;.\u0026lt;br\u0026gt;\nAs already mentioned at the beginning, what \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; refers to depends on how the function is \u0026lt;strong\u0026gt;called\u0026lt;/strong\u0026gt;, not how it is \u0026lt;strong\u0026gt;defined\u0026lt;/strong\u0026gt;.\u0026lt;br\u0026gt;\nIf the code was like the following, it might be more obvious that the function doesn\u0026apos;t have an implicit reference to the object:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;method\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;);\n}\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;Foo\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;42\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;body\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;onclick\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;method\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Foo\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;method\u0026lt;/span\u0026gt; = method;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;The solution\u0026lt;/strong\u0026gt; is the same as mentioned above: If available, use \u0026lt;code\u0026gt;.bind\u0026lt;/code\u0026gt; to explicitly bind \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; to a specific value\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;body\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;onclick\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;method\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;bind\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;or explicitly call the function as a \u0026quot;method\u0026quot; of the object, by using an anonymous function as callback / event handler and assign the object (\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;) to another variable:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; self = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;body\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;onclick\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    self.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;method\u0026lt;/span\u0026gt;();\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;or use an arrow function:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;body\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;onclick\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;() =\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;method\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;h2 id=\u0026quot;here-are-several-ways-to-access-the-parent-context-inside-a-child-context-rzco\u0026quot;\u0026gt;Here are several ways to access the parent context inside a child context -\u0026lt;/h2\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;You can use the \u0026lt;code\u0026gt;\u0026lt;a href=\u0026quot;https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_objects/Function/bind\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;bind\u0026lt;/a\u0026gt;()\u0026lt;/code\u0026gt; function.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Store a reference to context/this inside another variable (see the below example).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Use ES6 \u0026lt;a href=\u0026quot;https://derickbailey.com/2015/09/28/do-es6-arrow-functions-really-solve-this-in-javascript/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Arrow\u0026lt;/a\u0026gt; functions.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Alter the code, function design, and architecture - for this you should have command over \u0026lt;a href=\u0026quot;https://addyosmani.com/resources/essentialjsdesignpatterns/book/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;design patterns\u0026lt;/a\u0026gt; in JavaScript.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;h1 id=\u0026quot;use-the-bind-function-nhau\u0026quot;\u0026gt;1. Use the \u0026lt;code\u0026gt;bind()\u0026lt;/code\u0026gt; function\u0026lt;/h1\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;MyConstructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, transport\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt; = data;\n    transport.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;data\u0026apos;\u0026lt;/span\u0026gt;, ( \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;alert\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;);\n    }).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;bind\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;) );\n}\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Mock transport object\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; transport = {\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;event, callback\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;setTimeout\u0026lt;/span\u0026gt;(callback, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;);\n    }\n};\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// called as\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; obj = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;MyConstructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;, transport);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;If you are using Underscore.js - \u0026lt;a href=\u0026quot;http://underscorejs.org/#bind\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://underscorejs.org/#bind\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;transport.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;data\u0026apos;\u0026lt;/span\u0026gt;, _.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;bind\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;alert\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;);\n}, \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;));\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h1 id=\u0026quot;store-a-reference-to-contextthis-inside-another-variable-gctm\u0026quot;\u0026gt;2. Store a reference to context/this inside another variable\u0026lt;/h1\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;MyConstructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, transport\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; self = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt; = data;\n  transport.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;data\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;alert\u0026lt;/span\u0026gt;(self.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;);\n  });\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h1 id=\u0026quot;arrow-function-wlcj\u0026quot;\u0026gt;3. Arrow function\u0026lt;/h1\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;MyConstructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, transport\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt; = data;\n  transport.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;data\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;() =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;alert\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;);\n  });\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n    ","\n\u0026lt;p\u0026gt;It\u0026apos;s all in the \u0026quot;magic\u0026quot; syntax of calling a method:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;object.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;property\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;When you get the property from the object and call it in one go, the object will be the context for the method. If you call the same method, but in separate steps, the context is the global scope (window) instead:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; f = object.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;property\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;f\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;When you get the reference of a method, it\u0026apos;s no longer attached to the object. It\u0026apos;s just a reference to a plain function. The same happens when you get the reference to use as a callback:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;saveNextLevelData\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;setAll\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;That\u0026apos;s where you would bind the context to the function:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;saveNextLevelData\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;setAll\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;bind\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;));\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;If you are using jQuery you should use the \u0026lt;code\u0026gt;$.proxy\u0026lt;/code\u0026gt; method instead, as \u0026lt;code\u0026gt;bind\u0026lt;/code\u0026gt; is not supported in all browsers:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;saveNextLevelData\u0026lt;/span\u0026gt;($.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;proxy\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;setAll\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;));\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;You\u0026lt;/strong\u0026gt; \u0026lt;em\u0026gt;\u0026lt;strong\u0026gt;should\u0026lt;/strong\u0026gt;\u0026lt;/em\u0026gt; \u0026lt;strong\u0026gt;know about \u0026quot;this\u0026quot; Keyword.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;As per my view you can implement \u0026quot;this\u0026quot; in three ways\u0026lt;/strong\u0026gt;\n\u0026lt;em\u0026gt;\u0026lt;strong\u0026gt;(Self/Arrow function/Bind Method)\u0026lt;/strong\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;A function\u0026apos;s \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; keyword behaves a little differently in JavaScript compared to other languages.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;It also has some differences between strict mode and non-strict mode.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;In most cases, the value of this is determined by how a function is called.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;It can\u0026apos;t be set by assignment during execution, and it may be different each time the function is called.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;ES5 introduced the bind() method to set the value of a function\u0026apos;s \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; regardless of how it\u0026apos;s called,\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;And ES2015 introduced arrow functions that don\u0026apos;t provide their own \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; binding (it retains this value of the enclosing lexical context).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Method1:\u0026lt;/strong\u0026gt; Self - Self is being used to maintain a reference to the original this even as the context is changing. It\u0026apos;s a technique often used in event handlers (especially in closures).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Reference\u0026lt;/strong\u0026gt;: \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;this\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;MyConstructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, transport\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt; = data;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; self = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;;\n    transport.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;data\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;alert\u0026lt;/span\u0026gt;(self.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;);\n    });\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Method2\u0026lt;/strong\u0026gt;: Arrow function - An arrow function expression is a syntactically compact alternative to a regular function expression, although without its own bindings to the this, arguments, super, or new.target keywords.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Arrow function expressions are ill-suited as methods, and they cannot be used as constructors.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Reference\u0026lt;/strong\u0026gt;: \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Arrow function expressions\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;MyConstructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, transport\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt; = data;\n    transport.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;data\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;()=\u0026amp;gt;\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;alert\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;);\n    });\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Method 3\u0026lt;/strong\u0026gt;: Bind - The bind() method creates a new function that, when called, has its \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; keyword set to the provided value with a given sequence of arguments preceding any provided when the new function is called.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Reference:\u0026lt;/strong\u0026gt; \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Function.prototype.bind()\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;MyConstructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, transport\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt; = data;\n    transport.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;data\u0026apos;\u0026lt;/span\u0026gt;,(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;alert\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;);\n    }).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;bind\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;h3 id=\u0026quot;the-trouble-with-context-3iac\u0026quot;\u0026gt;The trouble with \u0026quot;context\u0026quot;\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;The term \u0026quot;context\u0026quot; is sometimes used to refer to the object referenced by \u0026lt;em\u0026gt;this\u0026lt;/em\u0026gt;. Its use is inappropriate, because it doesn\u0026apos;t fit either semantically or technically with \u0026lt;a href=\u0026quot;http://ecma-international.org/ecma-262/5.1/#sec-10.3\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;ECMAScript\u0026apos;s \u0026lt;em\u0026gt;this\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://www.oxforddictionaries.com/definition/english/context\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026quot;Context\u0026quot;\u0026lt;/a\u0026gt; means the circumstances surrounding something that adds meaning, or some preceding and following information that gives extra meaning. The term \u0026quot;context\u0026quot; is used in ECMAScript to refer to \u0026lt;a href=\u0026quot;http://ecma-international.org/ecma-262/5.1/#sec-10.3\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;em\u0026gt;execution context\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt;, which is all the parameters, scope, and \u0026lt;em\u0026gt;this\u0026lt;/em\u0026gt; within the scope of some executing code.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This is shown in \u0026lt;a href=\u0026quot;http://ecma-international.org/ecma-262/5.1/#sec-10.4.2\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;ECMA-262 section 10.4.2\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;Set the ThisBinding to the same value as the ThisBinding of the\ncalling execution context\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;Which clearly indicates that \u0026lt;em\u0026gt;this\u0026lt;/em\u0026gt; is part of an execution context.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;An execution context provides the surrounding information that adds meaning to the code that is being executed. It includes much more information than just the \u0026lt;a href=\u0026quot;http://ecma-international.org/ecma-262/5.1/#sec-11.1.1\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;em\u0026gt;thisBinding\u0026lt;/em\u0026gt;\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The value of \u0026lt;em\u0026gt;this\u0026lt;/em\u0026gt; isn\u0026apos;t \u0026quot;context\u0026quot;. It\u0026apos;s just one part of an execution context. It\u0026apos;s essentially a local variable that can be set by the call to any object and in strict mode, to any value at all.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;First, you need to have a clear understanding of \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;scope\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; and behaviour of the \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; keyword in the context of \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;scope\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; \u0026amp;amp; \u0026lt;code\u0026gt;scope\u0026lt;/code\u0026gt;:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;There are two types of scope in JavaScript. They are:\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Global Scope\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Function Scope\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;In short, global scope refers to the window object. Variables declared in a global scope are accessible from anywhere.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;On the other hand, function scope resides inside of a function. A variable declared inside a function cannot be accessed from the outside world normally.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; keyword in the global scope refers to the window object. \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; inside a function also refers to the window object. So \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; will always refer to the window until we find a way to manipulate \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; to indicate a context of our own choosing.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-none s-code-block\u0026quot;\u0026gt;\u0026lt;code\u0026gt;--------------------------------------------------------------------------------\n-                                                                              -\n-   Global Scope                                                               -\n-   (globally \u0026quot;this\u0026quot; refers to window object)                                  -\n-                                                                              -\n-   function outer_function(callback){                                         -\n-                                                                              -\n-       // Outer function scope                                                -\n-       // Inside the outer function, the \u0026quot;this\u0026quot; keyword                       -\n-       //  refers to window object                                            -\n-       callback() // \u0026quot;this\u0026quot; inside callback also refers to the  window object -\n-   }                                                                          -\n-                                                                              -\n-   function callback_function(){                                              -\n-                                                                              -\n-       // Function to be passed as callback                                   -\n-                                                                              -\n-       // Here \u0026quot;THIS\u0026quot; refers to the window object also                        -\n-   }                                                                          -\n-                                                                              -\n-   outer_function(callback_function)                                          -\n-   // Invoke with callback                                                    -\n-                                                                              -\n--------------------------------------------------------------------------------\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Different ways to manipulate \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; inside callback functions:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Here I have a constructor function called Person. It has a property called \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;name\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; and four method called \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;sayNameVersion1\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;, \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;sayNameVersion2\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;, \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;sayNameVersion3\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;, and \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;sayNameVersion4\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;. All four of them has one specific task. Accept a callback and invoke it. The callback has a specific task which is to log the name property of an instance of Person constructor function.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;){\n\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt; = name\n\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;sayNameVersion1\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;callback\u0026lt;/span\u0026gt;){\n        callback.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;bind\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;)()\n    }\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;sayNameVersion2\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;callback\u0026lt;/span\u0026gt;){\n        \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;callback\u0026lt;/span\u0026gt;()\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;sayNameVersion3\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;callback\u0026lt;/span\u0026gt;){\n        callback.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;call\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;)\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;sayNameVersion4\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;callback\u0026lt;/span\u0026gt;){\n        callback.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;apply\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;)\n    }\n\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;niceCallback\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Function to be used as callback\u0026lt;/span\u0026gt;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; parentObject = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;\n\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(parentObject)\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Now let\u0026apos;s create an instance from person constructor and invoke different versions of \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;sayNameVersionX\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; (X refers to 1,2,3,4) method with \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;niceCallback\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; to see how many ways we can manipulate the \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; inside callback to refer to the \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;person\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; instance.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; p1 = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;zami\u0026apos;\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Create an instance of Person constructor\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;bind:\u0026lt;/strong\u0026gt; \u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;What bind do is to create a new function with the \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; keyword set to the provided value.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;sayNameVersion1\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;sayNameVersion2\u0026lt;/code\u0026gt; use bind to manipulate \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; of the callback function.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;sayNameVersion1\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;callback\u0026lt;/span\u0026gt;){\n    callback.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;bind\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;)()\n}\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;sayNameVersion2\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;callback\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;callback\u0026lt;/span\u0026gt;()\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The first one binds \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; with a callback inside the method itself. And for the second one, the callback is passed with the object bound to it.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;p1.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;sayNameVersion1\u0026lt;/span\u0026gt;(niceCallback) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// pass simply the callback and bind happens inside the sayNameVersion1 method\u0026lt;/span\u0026gt;\n\np1.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;sayNameVersion2\u0026lt;/span\u0026gt;(niceCallback.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;bind\u0026lt;/span\u0026gt;(p1)) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// uses bind before passing callback\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;call:\u0026lt;/strong\u0026gt; \u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;first argument\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; of the \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;call\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; method is used as \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; inside the function that is invoked with \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;call\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; attached to it.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;sayNameVersion3\u0026lt;/code\u0026gt; uses \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;call\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; to manipulate the \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; to refer to the person object that we created, instead of the window object.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;sayNameVersion3\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;callback\u0026lt;/span\u0026gt;){\n    callback.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;call\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;)\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;And it is called like the following:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;p1.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;sayNameVersion3\u0026lt;/span\u0026gt;(niceCallback)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;apply:\u0026lt;/strong\u0026gt; \u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Similar to \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;call\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;, the first argument of \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;apply\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; refers to the object that will be indicated by the \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; keyword.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;sayNameVersion4\u0026lt;/code\u0026gt; uses \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;apply\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; to manipulate \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; to refer to a person object\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;sayNameVersion4\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;callback\u0026lt;/span\u0026gt;){\n    callback.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;apply\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;)\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;And it is called like the following. Simply the callback is passed,\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;p1.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;sayNameVersion4\u0026lt;/span\u0026gt;(niceCallback)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;We can not bind this to \u0026lt;code\u0026gt;setTimeout()\u0026lt;/code\u0026gt;, as it always executes with \u0026lt;strong\u0026gt;the global object (Window)\u0026lt;/strong\u0026gt;. If you want to access the \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; context in the callback function then by using \u0026lt;code\u0026gt;bind()\u0026lt;/code\u0026gt; to the callback function, we can achieve it as:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;setTimeout\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;methodName\u0026lt;/span\u0026gt;();\n}.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;bind\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2000\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The question revolves around how the \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; keyword behaves in JavaScript. \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; behaves differently as below,\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;The value of \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; is usually determined by a function execution context.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;In the global scope, \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; refers to the global object (the \u0026lt;code\u0026gt;window\u0026lt;/code\u0026gt; object).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If strict mode is enabled for any function then the value of \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; will be \u0026lt;code\u0026gt;undefined\u0026lt;/code\u0026gt; as in strict mode, global object refers to \u0026lt;code\u0026gt;undefined\u0026lt;/code\u0026gt; in place of the \u0026lt;code\u0026gt;window\u0026lt;/code\u0026gt; object.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The object that is standing before the dot is what the \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; keyword will be bound to.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;We can set the value of this explicitly with \u0026lt;code\u0026gt;call()\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;bind()\u0026lt;/code\u0026gt;, and \u0026lt;code\u0026gt;apply()\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;When the \u0026lt;code\u0026gt;new\u0026lt;/code\u0026gt; keyword is used (a constructor), this is bound to the new object being created.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Arrow functions dont bind \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;instead, \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; is bound lexically (i.e., based on the original context)\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;As most of the answers suggest, we can use \u0026lt;strong\u0026gt;the arrow function or \u0026lt;code\u0026gt;bind()\u0026lt;/code\u0026gt; Method or Self\u0026lt;/strong\u0026gt; var. I would quote a point about lambdas (arrow function) from \u0026lt;a href=\u0026quot;https://google.github.io/styleguide/jsguide.html#features-functions-arrow-functions\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Google JavaScript Style Guide\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;Prefer using arrow functions over f.bind(this), and especially over\ngoog.bind(f, this). Avoid writing const self = this. Arrow functions\nare particularly useful for callbacks, which sometimes pass unexpectedly\nadditional arguments.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Google clearly recommends using lambdas rather than bind or \u0026lt;code\u0026gt;const self = this\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;So the best solution would be to use lambdas as below,\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;MyConstructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, transport\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt; = data;\n  transport.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;data\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;() =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;alert\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;);\n  });\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;References:\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://medium.com/tech-tajawal/javascript-this-4-rules-7354abdb274c\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://medium.com/tech-tajawal/javascript-this-4-rules-7354abdb274c\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://2ality.com/2016/02/arrow-functions-vs-bind.html\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;arrow-functions-vs-bind\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Currently there is another approach possible if classes are used in code.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;With support of \u0026lt;a href=\u0026quot;https://github.com/tc39/proposal-class-fields\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;class fields\u0026lt;/a\u0026gt;, it\u0026apos;s possible to make it the following way:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;someView\u0026lt;/span\u0026gt; {\n    onSomeInputKeyUp = \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;event\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// This refers to the correct value\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ....\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;someInitMethod\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//...\u0026lt;/span\u0026gt;\n        someInput.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;addEventListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;input\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;onSomeInputKeyUp\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;For sure under the hood it\u0026apos;s all the old good arrow function that binds context, but in this form it looks much more clear that explicit binding.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Since it\u0026apos;s a Stage 3 Proposal, you will need \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Babel_(transcompiler)\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Babel\u0026lt;/a\u0026gt; and appropriate \u0026lt;a href=\u0026quot;https://babeljs.io/docs/en/babel-plugin-proposal-class-properties\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Babel plugin\u0026lt;/a\u0026gt; to process it as for now (08/2018).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I was facing a problem with \u0026lt;code\u0026gt;Ngx\u0026lt;/code\u0026gt; line chart \u0026lt;code\u0026gt;xAxisTickFormatting\u0026lt;/code\u0026gt; function which was called from HTML like this: \u0026lt;code\u0026gt;[xAxisTickFormatting]=\u0026quot;xFormat\u0026quot;\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I was unable to access my component\u0026apos;s variable from the function declared. This solution helped me to resolve the issue to find the correct this.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Instead of using the function like this:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;xFormat (value): string {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; value.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;() + \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;oneComponentVariable\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//gives wrong result\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Use this:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt; xFormat = \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n   \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// console.log(this);\u0026lt;/span\u0026gt;\n   \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// now you have access to your component variables\u0026lt;/span\u0026gt;\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; value + \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;oneComponentVariable\u0026lt;/span\u0026gt;\n }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Another approach, which is \u0026lt;strong\u0026gt;the standard way since DOM2\u0026lt;/strong\u0026gt; to bind \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; within the event listener, that \u0026lt;strong\u0026gt;let you always remove the listener\u0026lt;/strong\u0026gt; (among other benefits), is the \u0026lt;code\u0026gt;handleEvent(evt)\u0026lt;/code\u0026gt; method from the \u0026lt;code\u0026gt;EventListener\u0026lt;/code\u0026gt; interface:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; obj = {\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;handleEvent\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;e\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// always true\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt; === obj);\n  }\n};\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;body\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;addEventListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;click\u0026apos;\u0026lt;/span\u0026gt;, obj);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Detailed information about using \u0026lt;code\u0026gt;handleEvent\u0026lt;/code\u0026gt; can be found here: \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://medium.com/@WebReflection/dom-handleevent-a-cross-platform-standard-since-year-2000-5bf17287fd38\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;DOM handleEvent: a cross-platform standard since year 2000\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Some other people have touched on how to use the .bind() method, but specifically here is how you can use it with .then() if anyone is having trouble getting them to work together:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;someFunction\u0026lt;/span\u0026gt;()\n.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;then\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//\u0026apos;this\u0026apos; wasn\u0026apos;t accessible here before but now it is\u0026lt;/span\u0026gt;\n}.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;bind\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;As mentioned in the comments, an alternative would be to use an arrow function that doesn\u0026apos;t have its own \u0026apos;this\u0026apos; value\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;someFunction\u0026lt;/span\u0026gt;()\n.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;then\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//\u0026apos;this\u0026apos; was always accessible here\u0026lt;/span\u0026gt;\n})\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;h2 id=\u0026quot;this-in-javascript\u0026quot;\u0026gt;\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; in JavaScript:\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;The value of \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; in JavaScript is 100% determined by how a function is called, and not how it is defined. We can relatively easily find the value of \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; by the \u0026lt;strong\u0026gt;\u0026apos;left of the dot rule\u0026apos;\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;When the function is created using the function keyword the value of \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; is the object left of the dot of the function which is called\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If there is no object left of the dot then the value of \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; inside a function is often the global object (\u0026lt;code\u0026gt;global\u0026lt;/code\u0026gt; in Node.js and \u0026lt;code\u0026gt;window\u0026lt;/code\u0026gt; in a browser). I wouldn\u0026apos;t recommend using the \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; keyword here because it is less explicit than using something like \u0026lt;code\u0026gt;window\u0026lt;/code\u0026gt;!\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;There exist certain constructs like arrow functions and functions created using the \u0026lt;code\u0026gt;Function.prototype.bind()\u0026lt;/code\u0026gt; a function that can fix the value of \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;. These are exceptions of the rule, but they are really helpful to fix the value of \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;h2 id=\u0026quot;example-in-node.js-wasz\u0026quot;\u0026gt;Example in Node.js\u0026lt;/h2\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;module\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;exports\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;module data\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// This outside a function in node refers to module.exports object\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; obj1 = {\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;obj1 data\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;met1\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;);\n    },\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;met2\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;() =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;);\n    },\n};\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; obj2 = {\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;obj2 data\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;test1\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;);\n    },\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;test2\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;);\n    }.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;bind\u0026lt;/span\u0026gt;(obj1),\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;test3\u0026lt;/span\u0026gt;: obj1.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;met1\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;test4\u0026lt;/span\u0026gt;: obj1.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;met2\u0026lt;/span\u0026gt;,\n};\n\nobj2.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;test1\u0026lt;/span\u0026gt;();\nobj2.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;test2\u0026lt;/span\u0026gt;();\nobj2.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;test3\u0026lt;/span\u0026gt;();\nobj2.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;test4\u0026lt;/span\u0026gt;();\nobj1.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;met1\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;call\u0026lt;/span\u0026gt;(obj2);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Output:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/VvehZ.png\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/VvehZ.png\u0026quot; alt=\u0026quot;Enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Let me walk you through the outputs one by one (ignoring the first log starting from the second):\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; is \u0026lt;code\u0026gt;obj2\u0026lt;/code\u0026gt; because of the left of the dot rule, we can see how \u0026lt;code\u0026gt;test1\u0026lt;/code\u0026gt; is called \u0026lt;code\u0026gt;obj2.test1();\u0026lt;/code\u0026gt;. \u0026lt;code\u0026gt;obj2\u0026lt;/code\u0026gt; is left of the dot and thus the \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; value.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Even though \u0026lt;code\u0026gt;obj2\u0026lt;/code\u0026gt; is left of the dot, \u0026lt;code\u0026gt;test2\u0026lt;/code\u0026gt; is bound to \u0026lt;code\u0026gt;obj1\u0026lt;/code\u0026gt; via the \u0026lt;code\u0026gt;bind()\u0026lt;/code\u0026gt; method. The \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; value is \u0026lt;code\u0026gt;obj1\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;obj2\u0026lt;/code\u0026gt; is left of the dot from the function which is called: \u0026lt;code\u0026gt;obj2.test3()\u0026lt;/code\u0026gt;. Therefore \u0026lt;code\u0026gt;obj2\u0026lt;/code\u0026gt; will be the value of \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;In this case: \u0026lt;code\u0026gt;obj2.test4()\u0026lt;/code\u0026gt; \u0026lt;code\u0026gt;obj2\u0026lt;/code\u0026gt; is left of the dot. However, arrow functions don\u0026apos;t have their own \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; binding. Therefore it will bind to the \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; value of the outer scope which is the \u0026lt;code\u0026gt;module.exports\u0026lt;/code\u0026gt; an object which was logged in the beginning.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;We can also specify the value of \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; by using the \u0026lt;code\u0026gt;call\u0026lt;/code\u0026gt; function. Here we can pass in the desired \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; value as an argument, which is \u0026lt;code\u0026gt;obj2\u0026lt;/code\u0026gt; in this case.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    "],"id":17,"title":"How to access the correct `this` inside a callback","content":"\n                \n\u0026lt;p\u0026gt;I have a constructor function which registers an event handler:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;false\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;MyConstructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, transport\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt; = data;\n    transport.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;data\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;alert\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;);\n    });\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Mock transport object\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; transport = {\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;event, callback\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;setTimeout\u0026lt;/span\u0026gt;(callback, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;);\n    }\n};\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// called as\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; obj = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;MyConstructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;foo\u0026apos;\u0026lt;/span\u0026gt;, transport);\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif1\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;However, I\u0026apos;m not able to access the \u0026lt;code\u0026gt;data\u0026lt;/code\u0026gt; property of the created object inside the callback. It looks like \u0026lt;code\u0026gt;this\u0026lt;/code\u0026gt; does not refer to the object that was created, but to another one.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I also tried to use an object method instead of an anonymous function:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;MyConstructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data, transport\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt; = data;\n    transport.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;on\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;data\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;alert\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;MyConstructor\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;alert\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;alert\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;);\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;but it exhibits the same problems.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;How can I access the correct object?\u0026lt;/p\u0026gt;\n    ","slug":"how-to-access-the-correct-this-inside-a-callback-1657384283261","postType":"QUESTION","createdAt":"2022-07-09T16:31:23.000Z","updatedAt":"2022-07-09T16:31:23.000Z","tags":[{"id":57,"name":"callback","slug":"callback","createdAt":"2022-07-09T16:31:23.000Z","updatedAt":"2022-07-09T16:31:23.000Z","Questions_Tags":{"questionId":17,"tagId":57}},{"id":58,"name":"this","slug":"this","createdAt":"2022-07-09T16:31:23.000Z","updatedAt":"2022-07-09T16:31:23.000Z","Questions_Tags":{"questionId":17,"tagId":58}}],"relatedQuestions":[{"title":"How to access the correct `this` inside a callback","slug":"how-to-access-the-correct-this-inside-a-callback-1657384283261","tags":[{"name":"callback","Questions_Tags":{"questionId":17,"tagId":57}},{"name":"this","Questions_Tags":{"questionId":17,"tagId":58}}]}]},"randomQuestions":[{"title":"Methods in ES6 objects: using arrow functions","slug":"methods-in-es6-objects:-using-arrow-functions-1657388249058"},{"title":"How to use SharedPreferences in Android to store, fetch and edit values [closed]","slug":"how-to-use-sharedpreferences-in-android-to-store-fetch-and-edit-values-closed-1657387683057"},{"title":"Sort a Map\u003cKey, Value\u003e by values","slug":"sort-a-maplesskey-valuegreater-by-values-1657387443904"},{"title":"Sort array of objects by string property value","slug":"sort-array-of-objects-by-string-property-value-1657384860090"},{"title":"What do 'lazy' and 'greedy' mean in the context of regular expressions?","slug":"what-do-'lazy'-and-'greedy'-mean-in-the-context-of-regular-expressions-1657388200552"},{"title":"\"is\" operator behaves unexpectedly with integers","slug":"\"is\"-operator-behaves-unexpectedly-with-integers-1657387563823"},{"title":"How can I pivot a dataframe?","slug":"how-can-i-pivot-a-dataframe-1657384433802"},{"title":"The 3 different equals","slug":"the-3-different-equals-1657385490242"},{"title":"How do I correctly clone a JavaScript object?","slug":"how-do-i-correctly-clone-a-javascript-object-1657387325850"},{"title":"Why is 24.0000 not equal to 24.0000 in MATLAB?","slug":"why-is-24.0000-not-equal-to-24.0000-in-matlab-1657388376753"},{"title":"Default constructor with empty brackets","slug":"default-constructor-with-empty-brackets-1657388246967"},{"title":"Is JavaScript a pass-by-reference or pass-by-value language?","slug":"is-javascript-a-pass-by-reference-or-pass-by-value-language-1657384675679"},{"title":"Convert form data to JavaScript object with jQuery","slug":"convert-form-data-to-javascript-object-with-jquery-1657388036834"},{"title":"Post an HTML Table to ADO.NET DataTable","slug":"post-an-html-table-to-ado.net-datatable-1657387462723"},{"title":"RegEx match open tags except XHTML self-contained tags","slug":"regex-match-open-tags-except-xhtml-self-contained-tags-1657384228245"},{"title":"When to use single quotes, double quotes, and backticks in MySQL","slug":"when-to-use-single-quotes-double-quotes-and-backticks-in-mysql-1657384337981"},{"title":"getContactsFromFirebase() method return an empty list","slug":"getcontactsfromfirebase()-method-return-an-empty-list-1657388433928"},{"title":"Use dynamic variable names in JavaScript","slug":"use-dynamic-variable-names-in-javascript-1657388468075"},{"title":"How do I give text or an image a transparent background using CSS?","slug":"how-do-i-give-text-or-an-image-a-transparent-background-using-css-1657388188508"},{"title":"What methods of clearfix can I use?","slug":"what-methods-of-'clearfix'-can-i-use-1657387672727"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-to-access-the-correct-this-inside-a-callback-1657384283261"},"buildId":"TQ2eYlCSdocSK-hq6gkM0","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>