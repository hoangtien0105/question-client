<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>Resolve build errors due to circular dependency amongst classes | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="I often find myself in a situation where I am facing multiple compilation/linker errors in a C++ project due to some bad design decisions (made by someone else :) ) which lead to circular dependencies between C++ classes in different header files (can happen also in the same file). But fortunately(?) this doesn&#x27;t happen often enough for me to remember the solution to this problem for the next time it happens again.

So for the purposes of easy recall in the future I am going to post a representative problem and a solution along with it. Better solutions are of-course welcome.




A.h

class B;
class A
{
    int _val;
    B *_b;
public:

    A(int val)
        :_val(val)
    {
    }

    void SetB(B *b)
    {
        _b = b;
        _b-&gt;Print(); // COMPILER ERROR: C2027: use of undefined type &#x27;B&#x27;
    }

    void Print()
    {
        cout&lt;&lt;&quot;Type:A val=&quot;&lt;&lt;_val&lt;&lt;endl;
    }
};






B.h

#include &quot;A.h&quot;
class B
{
    double _val;
    A* _a;
public:

    B(double val)
        :_val(val)
    {
    }

    void SetA(A *a)
    {
        _a = a;
        _a-&gt;Print();
    }

    void Print()
    {
        cout&lt;&lt;&quot;Type:B val=&quot;&lt;&lt;_val&lt;&lt;endl;
    }
};






main.cpp

#include &quot;B.h&quot;
#include &lt;iostream&gt;

int main(int argc, char* argv[])
{
    A a(10);
    B b(3.14);
    a.Print();
    a.SetB(&amp;b);
    b.Print();
    b.SetA(&amp;a);
    return 0;
}


    "/><meta property="og:title" content="Resolve build errors due to circular dependency amongst classes | Solutions Checker"/><meta property="og:description" content="I often find myself in a situation where I am facing multiple compilation/linker errors in a C++ project due to some bad design decisions (made by someone else :) ) which lead to circular dependencies between C++ classes in different header files (can happen also in the same file). But fortunately(?) this doesn&#x27;t happen often enough for me to remember the solution to this problem for the next time it happens again.

So for the purposes of easy recall in the future I am going to post a representative problem and a solution along with it. Better solutions are of-course welcome.




A.h

class B;
class A
{
    int _val;
    B *_b;
public:

    A(int val)
        :_val(val)
    {
    }

    void SetB(B *b)
    {
        _b = b;
        _b-&gt;Print(); // COMPILER ERROR: C2027: use of undefined type &#x27;B&#x27;
    }

    void Print()
    {
        cout&lt;&lt;&quot;Type:A val=&quot;&lt;&lt;_val&lt;&lt;endl;
    }
};






B.h

#include &quot;A.h&quot;
class B
{
    double _val;
    A* _a;
public:

    B(double val)
        :_val(val)
    {
    }

    void SetA(A *a)
    {
        _a = a;
        _a-&gt;Print();
    }

    void Print()
    {
        cout&lt;&lt;&quot;Type:B val=&quot;&lt;&lt;_val&lt;&lt;endl;
    }
};






main.cpp

#include &quot;B.h&quot;
#include &lt;iostream&gt;

int main(int argc, char* argv[])
{
    A a(10);
    B b(3.14);
    a.Print();
    a.SetB(&amp;b);
    b.Print();
    b.SetA(&amp;a);
    return 0;
}


    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"Resolve build errors due to circular dependency amongst classes","text":"I often find myself in a situation where I am facing multiple compilation/linker errors in a C++ project due to some bad design decisions (made by someone else :) ) which lead to circular dependencies between C++ classes in different header files (can happen also in the same file). But fortunately(?) this doesn&apos;t happen often enough for me to remember the solution to this problem for the next time it happens again.\n\nSo for the purposes of easy recall in the future I am going to post a representative problem and a solution along with it. Better solutions are of-course welcome.\n\n\n\n\nA.h\n\nclass B;\nclass A\n{\n    int _val;\n    B *_b;\npublic:\n\n    A(int val)\n        :_val(val)\n    {\n    }\n\n    void SetB(B *b)\n    {\n        _b = b;\n        _b-&gt;Print(); // COMPILER ERROR: C2027: use of undefined type &apos;B&apos;\n    }\n\n    void Print()\n    {\n        cout&lt;&lt;&quot;Type:A val=&quot;&lt;&lt;_val&lt;&lt;endl;\n    }\n};\n\n\n\n\n\n\nB.h\n\n#include &quot;A.h&quot;\nclass B\n{\n    double _val;\n    A* _a;\npublic:\n\n    B(double val)\n        :_val(val)\n    {\n    }\n\n    void SetA(A *a)\n    {\n        _a = a;\n        _a-&gt;Print();\n    }\n\n    void Print()\n    {\n        cout&lt;&lt;&quot;Type:B val=&quot;&lt;&lt;_val&lt;&lt;endl;\n    }\n};\n\n\n\n\n\n\nmain.cpp\n\n#include &quot;B.h&quot;\n#include &lt;iostream&gt;\n\nint main(int argc, char* argv[])\n{\n    A a(10);\n    B b(3.14);\n    a.Print();\n    a.SetB(&amp;b);\n    b.Print();\n    b.SetA(&amp;a);\n    return 0;\n}\n\n\n    ","answerCount":11,"upVoteCount":500,"suggestedAnswer":[{"text":"The way to think about this is to &quot;think like a compiler&quot;.\n\nImagine you are writing a compiler. And you see code like this.\n\n// file: A.h\nclass A {\n  B _b;\n};\n\n// file: B.h\nclass B {\n  A _a;\n};\n\n// file main.cc\n#include &quot;A.h&quot;\n#include &quot;B.h&quot;\nint main(...) {\n  A a;\n}\n\n\nWhen you are compiling the .cc file (remember that the .cc and not the .h is the unit of compilation), you need to allocate space for object A. So, well, how much space then? Enough to store B! What&apos;s the size of B then? Enough to store A! Oops.\n\nClearly a circular reference that you must break.\n\nYou can break it by allowing the compiler to instead reserve as much space as it knows about upfront - pointers and references, for example, will always be 32 or 64 bits (depending on the architecture) and so if you replaced (either one) by a pointer or reference, things would be great. Let&apos;s say we replace in A:\n\n// file: A.h\nclass A {\n  // both these are fine, so are various const versions of the same.\n  B&amp; _b_ref;\n  B* _b_ptr;\n};\n\n\nNow things are better. Somewhat. main() still says:\n\n// file: main.cc\n#include &quot;A.h&quot;  // &lt;-- Houston, we have a problem\n\n\n#include, for all extents and purposes (if you take the preprocessor out) just copies the file into the .cc. So really, the .cc looks like:\n\n// file: partially_pre_processed_main.cc\nclass A {\n  B&amp; _b_ref;\n  B* _b_ptr;\n};\n#include &quot;B.h&quot;\nint main (...) {\n  A a;\n}\n\n\nYou can see why the compiler can&apos;t deal with this - it has no idea what B is - it has never even seen the symbol before.\n\nSo let&apos;s tell the compiler about B. This is known as a forward declaration, and is discussed further in this answer.\n\n// main.cc\nclass B;\n#include &quot;A.h&quot;\n#include &quot;B.h&quot;\nint main (...) {\n  A a;\n}\n\n\nThis works. It is not great. But at this point you should have an understanding of the circular reference problem and what we did to &quot;fix&quot; it, albeit the fix is bad.\n\nThe reason this fix is bad is because the next person to #include &quot;A.h&quot; will have to declare B before they can use it and will get a terrible #include error. So let&apos;s move the declaration into A.h itself.\n\n// file: A.h\nclass B;\nclass A {\n  B* _b; // or any of the other variants.\n};\n\n\nAnd in B.h, at this point, you can just #include &quot;A.h&quot; directly.\n\n// file: B.h\n#include &quot;A.h&quot;\nclass B {\n  // note that this is cool because the compiler knows by this time\n  // how much space A will need.\n  A _a; \n}\n\n\nHTH.\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"You can avoid compilation errors if you remove the method definitions from the header files and let the classes contain only the method declarations and variable declarations/definitions. The method definitions should be placed in a .cpp file (just like a best practice guideline says). \n\nThe down side of the following solution is (assuming that you had placed the methods in the header file to inline them) that the methods are no longer inlined by the compiler and trying to use the inline keyword produces linker errors.\n\n//A.h\n#ifndef A_H\n#define A_H\nclass B;\nclass A\n{\n    int _val;\n    B* _b;\npublic:\n\n    A(int val);\n    void SetB(B *b);\n    void Print();\n};\n#endif\n\n//B.h\n#ifndef B_H\n#define B_H\nclass A;\nclass B\n{\n    double _val;\n    A* _a;\npublic:\n\n    B(double val);\n    void SetA(A *a);\n    void Print();\n};\n#endif\n\n//A.cpp\n#include &quot;A.h&quot;\n#include &quot;B.h&quot;\n\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nA::A(int val)\n:_val(val)\n{\n}\n\nvoid A::SetB(B *b)\n{\n    _b = b;\n    cout&lt;&lt;&quot;Inside SetB()&quot;&lt;&lt;endl;\n    _b-&gt;Print();\n}\n\nvoid A::Print()\n{\n    cout&lt;&lt;&quot;Type:A val=&quot;&lt;&lt;_val&lt;&lt;endl;\n}\n\n//B.cpp\n#include &quot;B.h&quot;\n#include &quot;A.h&quot;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nB::B(double val)\n:_val(val)\n{\n}\n\nvoid B::SetA(A *a)\n{\n    _a = a;\n    cout&lt;&lt;&quot;Inside SetA()&quot;&lt;&lt;endl;\n    _a-&gt;Print();\n}\n\nvoid B::Print()\n{\n    cout&lt;&lt;&quot;Type:B val=&quot;&lt;&lt;_val&lt;&lt;endl;\n}\n\n//main.cpp\n#include &quot;A.h&quot;\n#include &quot;B.h&quot;\n\nint main(int argc, char* argv[])\n{\n    A a(10);\n    B b(3.14);\n    a.Print();\n    a.SetB(&amp;b);\n    b.Print();\n    b.SetA(&amp;a);\n    return 0;\n}\n\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"I&apos;m late answering this, but there&apos;s not one reasonable answer to date, despite being a popular question with highly upvoted answers....\n\nBest practice: forward declaration headers\n\nAs illustrated by the Standard library&apos;s &lt;iosfwd&gt; header, the proper way to provide forward declarations for others is to have a forward declaration header.  For example:\n\na.fwd.h:\n\n#pragma once\nclass A;\n\n\na.h:\n\n#pragma once\n#include &quot;a.fwd.h&quot;\n#include &quot;b.fwd.h&quot;\n\nclass A\n{\n  public:\n    void f(B*);\n};\n\n\nb.fwd.h:\n\n#pragma once\nclass B;\n\n\nb.h:\n\n#pragma once\n#include &quot;b.fwd.h&quot;\n#include &quot;a.fwd.h&quot;\n\nclass B\n{\n  public:\n    void f(A*);\n};\n\n\nThe maintainers of the A and B libraries should each be responsible for keeping their forward declaration headers in sync with their headers and implementation files, so - for example - if the maintainer of &quot;B&quot; comes along and rewrites the code to be...\n\nb.fwd.h:\n\ntemplate &lt;typename T&gt; class Basic_B;\ntypedef Basic_B&lt;char&gt; B;\n\n\nb.h:\n\ntemplate &lt;typename T&gt;\nclass Basic_B\n{\n    ...class definition...\n};\ntypedef Basic_B&lt;char&gt; B;\n\n\n...then recompilation of the code for &quot;A&quot; will be triggered by the changes to the included b.fwd.h and should complete cleanly.\n\n\n\nPoor but common practice: forward declare stuff in other libs\n\nSay - instead of using a forward declaration header as explained above - code in a.h or a.cc instead forward-declares class B; itself:\n\n\nif a.h or a.cc did include b.h later:\n\n\ncompilation of A will terminate with an error once it gets to the conflicting declaration/definition of B (i.e. the above change to B broke A and any other clients abusing forward declarations, instead of working transparently).\n\notherwise (if A didn&apos;t eventually include b.h - possible if A just stores/passes around Bs by pointer and/or reference)\n\n\nbuild tools relying on #include analysis and changed file timestamps won&apos;t rebuild A (and its further-dependent code) after the change to B, causing errors at link time or run time.  If B is distributed as a runtime loaded DLL, code in &quot;A&quot; may fail to find the differently-mangled symbols at runtime, which may or may not be handled well enough to trigger orderly shutdown or acceptably reduced functionality.\n\n\n\nIf A&apos;s code has template specialisations / &quot;traits&quot; for the old B, they won&apos;t take effect.\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"Things to remember:\n\n\nThis won&apos;t work if class A has an object of class B as a member or vice versa. \nForward declaration is way to go.\nOrder of declaration matters (which is why you are moving out the definitions).\n\n\nIf both classes call functions of the other, you have to move the definitions out.\n\n\n\nRead the FAQ:\n\n\nHow can I create two classes that both know about each other?\nWhat special considerations are needed when forward declarations are used with member objects?\nWhat special considerations are needed when forward declarations are used with inline functions?\n\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"I once solved this kind of problem by moving all inlines after the class definition and putting the #include for the other classes just before the inlines in the header file. This way one make sure all definitions+inlines are set prior the inlines are parsed.\n\nDoing like this makes it possible to still have a bunch of inlines in both(or multiple) header files. But it&apos;s necessary to have include guards.\n\nLike this\n\n// File: A.h\n#ifndef __A_H__\n#define __A_H__\nclass B;\nclass A\n{\n    int _val;\n    B *_b;\npublic:\n    A(int val);\n    void SetB(B *b);\n    void Print();\n};\n\n// Including class B for inline usage here \n#include &quot;B.h&quot;\n\ninline A::A(int val) : _val(val)\n{\n}\n\ninline void A::SetB(B *b)\n{\n    _b = b;\n    _b-&gt;Print();\n}\n\ninline void A::Print()\n{\n    cout&lt;&lt;&quot;Type:A val=&quot;&lt;&lt;_val&lt;&lt;endl;\n}\n\n#endif /* __A_H__ */\n\n\n...and doing the same in B.h\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"I&apos;ve written a post about this once: Resolving circular dependencies in c++\n\nThe basic technique is to decouple the classes using interfaces. So in your case:\n\n//Printer.h\nclass Printer {\npublic:\n    virtual Print() = 0;\n}\n\n//A.h\n#include &quot;Printer.h&quot;\nclass A: public Printer\n{\n    int _val;\n    Printer *_b;\npublic:\n\n    A(int val)\n        :_val(val)\n    {\n    }\n\n    void SetB(Printer *b)\n    {\n        _b = b;\n        _b-&gt;Print();\n    }\n\n    void Print()\n    {\n        cout&lt;&lt;&quot;Type:A val=&quot;&lt;&lt;_val&lt;&lt;endl;\n    }\n};\n\n//B.h\n#include &quot;Printer.h&quot;\nclass B: public Printer\n{\n    double _val;\n    Printer* _a;\npublic:\n\n    B(double val)\n        :_val(val)\n    {\n    }\n\n    void SetA(Printer *a)\n    {\n        _a = a;\n        _a-&gt;Print();\n    }\n\n    void Print()\n    {\n        cout&lt;&lt;&quot;Type:B val=&quot;&lt;&lt;_val&lt;&lt;endl;\n    }\n};\n\n//main.cpp\n#include &lt;iostream&gt;\n#include &quot;A.h&quot;\n#include &quot;B.h&quot;\n\nint main(int argc, char* argv[])\n{\n    A a(10);\n    B b(3.14);\n    a.Print();\n    a.SetB(&amp;b);\n    b.Print();\n    b.SetA(&amp;a);\n    return 0;\n}\n\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"Here is the solution for templates: How to handle circular dependencies with templates\n\nThe clue to solving this problem is to declare both classes before providing the definitions (implementations). Its not possible to split the declaration and definition into separate files, but you can structure them as if they were in separate files.\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"The simple example presented on Wikipedia worked for me.\n(you can read the complete description at http://en.wikipedia.org/wiki/Circular_dependency#Example_of_circular_dependencies_in_C.2B.2B )\n\nFile &apos;&apos;&apos;a.h&apos;&apos;&apos;:\n\n#ifndef A_H\n#define A_H\n\nclass B;    //forward declaration\n\nclass A {\npublic:\n    B* b;\n};\n#endif //A_H\n\n\nFile &apos;&apos;&apos;b.h&apos;&apos;&apos;:\n\n#ifndef B_H\n#define B_H\n\nclass A;    //forward declaration\n\nclass B {\npublic:\n    A* a;\n};\n#endif //B_H\n\n\nFile &apos;&apos;&apos;main.cpp&apos;&apos;&apos;:\n\n#include &quot;a.h&quot;\n#include &quot;b.h&quot;\n\nint main() {\n    A a;\n    B b;\n    a.b = &amp;b;\n    b.a = &amp;a;\n}\n\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"Unfortunately, all the previous answers are missing some details. The correct solution is a little bit cumbersome, but this is the only way to do it properly. And it scales easily, handles more complex dependencies as well.\n\nHere&apos;s how you can do this, exactly retaining all the details, and usability:\n\n\nthe solution is exactly the same as originally intended\ninline functions still inline\nusers of A and B can include A.h and B.h in any order\n\n\nCreate two files, A_def.h, B_def.h. These will contain only A&apos;s and B&apos;s definition:\n\n// A_def.h\n#ifndef A_DEF_H\n#define A_DEF_H\n\nclass B;\nclass A\n{\n    int _val;\n    B *_b;\n\npublic:\n    A(int val);\n    void SetB(B *b);\n    void Print();\n};\n#endif\n\n// B_def.h\n#ifndef B_DEF_H\n#define B_DEF_H\n\nclass A;\nclass B\n{\n    double _val;\n    A* _a;\n\npublic:\n    B(double val);\n    void SetA(A *a);\n    void Print();\n};\n#endif\n\n\nAnd then, A.h and B.h will contain this:\n\n// A.h\n#ifndef A_H\n#define A_H\n\n#include &quot;A_def.h&quot;\n#include &quot;B_def.h&quot;\n\ninline A::A(int val) :_val(val)\n{\n}\n\ninline void A::SetB(B *b)\n{\n    _b = b;\n    _b-&gt;Print();\n}\n\ninline void A::Print()\n{\n    cout&lt;&lt;&quot;Type:A val=&quot;&lt;&lt;_val&lt;&lt;endl;\n}\n\n#endif\n\n// B.h\n#ifndef B_H\n#define B_H\n\n#include &quot;A_def.h&quot;\n#include &quot;B_def.h&quot;\n\ninline B::B(double val) :_val(val)\n{\n}\n\ninline void B::SetA(A *a)\n{\n    _a = a;\n    _a-&gt;Print();\n}\n\ninline void B::Print()\n{\n    cout&lt;&lt;&quot;Type:B val=&quot;&lt;&lt;_val&lt;&lt;endl;\n}\n\n#endif\n\n\nNote that A_def.h and B_def.h are &quot;private&quot; headers, users of A and B should not use them. The public header is A.h and B.h.\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"Unfortunately I can&apos;t comment the answer from geza.\n\nHe is not just saying &quot;put forward declarations into a separate header&quot;. He says that you have to spilt class definition headers and inline function definitions into different header files to allow &quot;defered dependencies&quot;.\n\nBut his illustration is not really good. Because both classes (A and B) only need an incomplete type of each other (pointer fields / parameters).\n\nTo understand it better imagine that class A has a field of type B not B*. In addition class A and B want to define an inline function with parameters of the other type:\n\nThis simple code would not work:\n\n// A.h\n#pragme once\n#include &quot;B.h&quot;\n\nclass A{\n  B b;\n  inline void Do(B b);\n}\n\ninline void A::Do(B b){\n  //do something with B\n}\n\n// B.h\n#pragme once\nclass A;\n\nclass B{\n  A* b;\n  inline void Do(A a);\n}\n\n#include &quot;A.h&quot;\n\ninline void B::Do(A a){\n  //do something with A\n}\n\n//main.cpp\n#include &quot;A.h&quot;\n#include &quot;B.h&quot;\n\n\n\nIt would result in the following code:\n\n//main.cpp\n//#include &quot;A.h&quot;\n\nclass A;\n\nclass B{\n  A* b;\n  inline void Do(A a);\n}\n\ninline void B::Do(A a){\n  //do something with A\n}\n\nclass A{\n  B b;\n  inline void Do(B b);\n}\n\ninline void A::Do(B b){\n  //do something with B\n}\n//#include &quot;B.h&quot;\n\n\n\nThis code does not compile because B::Do needs a complete type of A which is defined later.\n\nTo make sure that it compiles the source code should look like this:\n\n//main.cpp\nclass A;\n\nclass B{\n  A* b;\n  inline void Do(A a);\n}\n\nclass A{\n  B b;\n  inline void Do(B b);\n}\n\ninline void B::Do(A a){\n  //do something with A\n}\n\ninline void A::Do(B b){\n  //do something with B\n}\n\n\n\nThis is exactly possible with these two header files for each class wich needs to define inline functions.\nThe only issue is that the circular classes can&apos;t just include the &quot;public header&quot;.\n\nTo solve this issue I would like to suggest a preprocessor extension: #pragma process_pending_includes\n\nThis directive should defer the processing of the current file and complete all pending includes.\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"In some cases it is possible to define a method or a constructor of class B in the header file of class A to resolve circular dependencies involving definitions.\nIn this way you can avoid having to put definitions in .cc files, for example if you want to implement a header only library.\n\n// file: a.h\n#include &quot;b.h&quot;\nstruct A {\n  A(const B&amp; b) : _b(b) { }\n  B get() { return _b; }\n  B _b;\n};\n\n// note that the get method of class B is defined in a.h\nA B::get() {\n  return A(*this);\n}\n\n// file: b.h\nclass A;\nstruct B {\n  // here the get method is only declared\n  A get();\n};\n\n// file: main.cc\n#include &quot;a.h&quot;\nint main(...) {\n  B b;\n  A a = b.get();\n}\n\n\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08d1a634dea6705e.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/150-b06815e21c943e0d.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/108-87de33c23337ff53.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-79a1437acf654019.js" defer=""></script><script src="/_next/static/Zo3C7AOWQzKM9qqyzx2hf/_buildManifest.js" defer=""></script><script src="/_next/static/Zo3C7AOWQzKM9qqyzx2hf/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/resolve-build-errors-due-to-circular-dependency-amongst-classes-1657384903462#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/resolve-build-errors-due-to-circular-dependency-amongst-classes-1657384903462"><h1>Resolve build errors due to circular dependency amongst classes</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/circular-dependency">circular-dependency</a></div></div><div class="question-content mt-5">
                
<p>I often find myself in a situation where I am facing multiple compilation/linker errors in a C++ project due to some bad design decisions (made by someone else :) ) which lead to circular dependencies between C++ classes in different header files <em>(can happen also in the same file)</em>. But fortunately(?) this doesn't happen often enough for me to remember the solution to this problem for the next time it happens again.</p>

<p>So for the purposes of easy recall in the future I am going to post a representative problem and a solution along with it. Better solutions are of-course welcome.</p>

<hr>

<ul>
<li><p><code>A.h</code></p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>
{
    <span class="hljs-type">int</span> _val;
    B *_b;
<span class="hljs-keyword">public</span>:

    <span class="hljs-built_in">A</span>(<span class="hljs-type">int</span> val)
        :_val(val)
    {
    }

    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SetB</span><span class="hljs-params">(B *b)</span>
    </span>{
        _b = b;
        _b-&gt;<span class="hljs-built_in">Print</span>(); <span class="hljs-comment">// COMPILER ERROR: C2027: use of undefined type 'B'</span>
    }

    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">()</span>
    </span>{
        cout&lt;&lt;<span class="hljs-string">"Type:A val="</span>&lt;&lt;_val&lt;&lt;endl;
    }
};
</code></pre></li>
</ul>

<hr>

<ul>
<li><p><code>B.h</code></p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"A.h"</span></span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>
{
    <span class="hljs-type">double</span> _val;
    A* _a;
<span class="hljs-keyword">public</span>:

    <span class="hljs-built_in">B</span>(<span class="hljs-type">double</span> val)
        :_val(val)
    {
    }

    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SetA</span><span class="hljs-params">(A *a)</span>
    </span>{
        _a = a;
        _a-&gt;<span class="hljs-built_in">Print</span>();
    }

    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">()</span>
    </span>{
        cout&lt;&lt;<span class="hljs-string">"Type:B val="</span>&lt;&lt;_val&lt;&lt;endl;
    }
};
</code></pre></li>
</ul>

<hr>

<ul>
<li><p><code>main.cpp</code></p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"B.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span>* argv[])</span>
</span>{
    <span class="hljs-function">A <span class="hljs-title">a</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;
    <span class="hljs-function">B <span class="hljs-title">b</span><span class="hljs-params">(<span class="hljs-number">3.14</span>)</span></span>;
    a.<span class="hljs-built_in">Print</span>();
    a.<span class="hljs-built_in">SetB</span>(&amp;b);
    b.<span class="hljs-built_in">Print</span>();
    b.<span class="hljs-built_in">SetA</span>(&amp;a);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre></li>
</ul>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/circular-dependency">circular-dependency</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The way to think about this is to "think like a compiler".</p>

<p>Imagine you are writing a compiler. And you see code like this.</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// file: A.h</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> {
  B _b;
};

<span class="hljs-comment">// file: B.h</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> {
  A _a;
};

<span class="hljs-comment">// file main.cc</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"A.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"B.h"</span></span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(...)</span> </span>{
  A a;
}
</code></pre>

<p>When you are compiling the <strong>.cc</strong> file (remember that the <strong>.cc</strong> and not the <strong>.h</strong> is the unit of compilation), you need to allocate space for object <code>A</code>. So, well, how much space then? Enough to store <code>B</code>! What's the size of <code>B</code> then? Enough to store <code>A</code>! Oops.</p>

<p>Clearly a circular reference that you must break.</p>

<p>You can break it by allowing the compiler to instead reserve as much space as it knows about upfront - pointers and references, for example, will always be 32 or 64 bits (depending on the architecture) and so if you replaced (either one) by a pointer or reference, things would be great. Let's say we replace in <code>A</code>:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// file: A.h</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> {
  <span class="hljs-comment">// both these are fine, so are various const versions of the same.</span>
  B&amp; _b_ref;
  B* _b_ptr;
};
</code></pre>

<p>Now things are better. Somewhat. <code>main()</code> still says:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// file: main.cc</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"A.h"</span>  <span class="hljs-comment">// &lt;-- Houston, we have a problem</span></span>
</code></pre>

<p><code>#include</code>, for all extents and purposes (if you take the preprocessor out) just copies the file into the <strong>.cc</strong>. So really, the <strong>.cc</strong> looks like:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// file: partially_pre_processed_main.cc</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> {
  B&amp; _b_ref;
  B* _b_ptr;
};
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"B.h"</span></span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span> <span class="hljs-params">(...)</span> </span>{
  A a;
}
</code></pre>

<p>You can see why the compiler can't deal with this - it has no idea what <code>B</code> is - it has never even seen the symbol before.</p>

<p>So let's tell the compiler about <code>B</code>. This is known as a <a href="http://en.cppreference.com/w/cpp/language/class" rel="noreferrer">forward declaration</a>, and is discussed further in <a href="https://stackoverflow.com/a/4757718/391161">this answer</a>.</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// main.cc</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>;
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"A.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"B.h"</span></span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span> <span class="hljs-params">(...)</span> </span>{
  A a;
}
</code></pre>

<p>This <em>works</em>. It is not <em>great</em>. But at this point you should have an understanding of the circular reference problem and what we did to "fix" it, albeit the fix is bad.</p>

<p>The reason this fix is bad is because the next person to <code>#include "A.h"</code> will have to declare <code>B</code> before they can use it and will get a terrible <code>#include</code> error. So let's move the declaration into <strong>A.h</strong> itself.</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// file: A.h</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> {
  B* _b; <span class="hljs-comment">// or any of the other variants.</span>
};
</code></pre>

<p>And in <strong>B.h</strong>, at this point, you can just <code>#include "A.h"</code> directly.</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// file: B.h</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"A.h"</span></span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> {
  <span class="hljs-comment">// note that this is cool because the compiler knows by this time</span>
  <span class="hljs-comment">// how much space A will need.</span>
  A _a; 
}
</code></pre>

<p>HTH.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/circular-dependency">circular-dependency</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can avoid compilation errors if you remove the method definitions from the header files and let the classes contain only the method declarations and variable declarations/definitions. The method definitions should be placed in a .cpp file (just like a best practice guideline says). </p>

<p>The down side of the following solution is (assuming that you had placed the methods in the header file to inline them) that the methods are no longer inlined by the compiler and trying to use the inline keyword produces linker errors.</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">//A.h</span>
<span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> A_H</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> A_H</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>
{
    <span class="hljs-type">int</span> _val;
    B* _b;
<span class="hljs-keyword">public</span>:

    <span class="hljs-built_in">A</span>(<span class="hljs-type">int</span> val);
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SetB</span><span class="hljs-params">(B *b)</span></span>;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">()</span></span>;
};
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

<span class="hljs-comment">//B.h</span>
<span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> B_H</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> B_H</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>
{
    <span class="hljs-type">double</span> _val;
    A* _a;
<span class="hljs-keyword">public</span>:

    <span class="hljs-built_in">B</span>(<span class="hljs-type">double</span> val);
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SetA</span><span class="hljs-params">(A *a)</span></span>;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">()</span></span>;
};
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

<span class="hljs-comment">//A.cpp</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"A.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"B.h"</span></span>

<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>

<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

A::<span class="hljs-built_in">A</span>(<span class="hljs-type">int</span> val)
:_val(val)
{
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">A::SetB</span><span class="hljs-params">(B *b)</span>
</span>{
    _b = b;
    cout&lt;&lt;<span class="hljs-string">"Inside SetB()"</span>&lt;&lt;endl;
    _b-&gt;<span class="hljs-built_in">Print</span>();
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">A::Print</span><span class="hljs-params">()</span>
</span>{
    cout&lt;&lt;<span class="hljs-string">"Type:A val="</span>&lt;&lt;_val&lt;&lt;endl;
}

<span class="hljs-comment">//B.cpp</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"B.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"A.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>

<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

B::<span class="hljs-built_in">B</span>(<span class="hljs-type">double</span> val)
:_val(val)
{
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">B::SetA</span><span class="hljs-params">(A *a)</span>
</span>{
    _a = a;
    cout&lt;&lt;<span class="hljs-string">"Inside SetA()"</span>&lt;&lt;endl;
    _a-&gt;<span class="hljs-built_in">Print</span>();
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">B::Print</span><span class="hljs-params">()</span>
</span>{
    cout&lt;&lt;<span class="hljs-string">"Type:B val="</span>&lt;&lt;_val&lt;&lt;endl;
}

<span class="hljs-comment">//main.cpp</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"A.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"B.h"</span></span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span>* argv[])</span>
</span>{
    <span class="hljs-function">A <span class="hljs-title">a</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;
    <span class="hljs-function">B <span class="hljs-title">b</span><span class="hljs-params">(<span class="hljs-number">3.14</span>)</span></span>;
    a.<span class="hljs-built_in">Print</span>();
    a.<span class="hljs-built_in">SetB</span>(&amp;b);
    b.<span class="hljs-built_in">Print</span>();
    b.<span class="hljs-built_in">SetA</span>(&amp;a);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/circular-dependency">circular-dependency</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><em>I'm late answering this, but there's not one reasonable answer to date, despite being a popular question with highly upvoted answers....</em></p>

<h2>Best practice: forward declaration headers</h2>

<p>As illustrated by the Standard library's <code>&lt;iosfwd&gt;</code> header, the proper way to provide forward declarations for others is to have a <strong><em>forward declaration header</em></strong>.  For example:</p>

<p>a.fwd.h:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>;
</code></pre>

<p>a.h:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"a.fwd.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"b.fwd.h"</span></span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>
{
  <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">f</span><span class="hljs-params">(B*)</span></span>;
};
</code></pre>

<p>b.fwd.h:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>;
</code></pre>

<p>b.h:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"b.fwd.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"a.fwd.h"</span></span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>
{
  <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">f</span><span class="hljs-params">(A*)</span></span>;
};
</code></pre>

<p>The maintainers of the <code>A</code> and <code>B</code> libraries should each be responsible for keeping their forward declaration headers in sync with their headers and implementation files, so - for example - if the maintainer of "B" comes along and rewrites the code to be...</p>

<p>b.fwd.h:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt; <span class="hljs-keyword">class</span> <span class="hljs-title class_">Basic_B</span>;
<span class="hljs-keyword">typedef</span> Basic_B&lt;<span class="hljs-type">char</span>&gt; B;
</code></pre>

<p>b.h:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Basic_B</span>
{
    ...<span class="hljs-keyword">class</span> <span class="hljs-title class_">definition</span>...
};
<span class="hljs-keyword">typedef</span> Basic_B&lt;<span class="hljs-type">char</span>&gt; B;
</code></pre>

<p>...then recompilation of the code for "A" will be triggered by the changes to the included <code>b.fwd.h</code> and should complete cleanly.</p>

<hr>

<h2>Poor but common practice: forward declare stuff in other libs</h2>

<p>Say - instead of using a forward declaration header as explained above - code in <code>a.h</code> or <code>a.cc</code> instead forward-declares <code>class B;</code> itself:</p>

<ul>
<li>if <code>a.h</code> or <code>a.cc</code> did include <code>b.h</code> later:

<ul>
<li>compilation of A will terminate with an error once it gets to the conflicting declaration/definition of <code>B</code> (i.e. the above change to B broke A and any other clients abusing forward declarations, instead of working transparently).</li>
</ul></li>
<li>otherwise (if A didn't eventually include <code>b.h</code> - possible if A just stores/passes around Bs by pointer and/or reference)

<ul>
<li>build tools relying on <code>#include</code> analysis and changed file timestamps won't rebuild <code>A</code> (and its further-dependent code) after the change to B, causing errors at link time or run time.  If B is distributed as a runtime loaded DLL, code in "A" may fail to find the differently-mangled symbols at runtime, which may or may not be handled well enough to trigger orderly shutdown or acceptably reduced functionality.</li>
</ul></li>
</ul>

<p>If A's code has template specialisations / "traits" for the old <code>B</code>, they won't take effect.</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/circular-dependency">circular-dependency</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Things to remember:</p>

<ul>
<li>This won't work if <code>class A</code> has an object of <code>class B</code> as a member or vice versa. </li>
<li>Forward declaration is way to go.</li>
<li>Order of declaration matters (which is why you are moving out the definitions).

<ul>
<li>If both classes call functions of the other, you have to move the definitions out.</li>
</ul></li>
</ul>

<p>Read the FAQ:</p>

<ul>
<li><a href="https://isocpp.org/wiki/faq/misc-technical-issues#forward-decl" rel="noreferrer">How can I create two classes that both know about each other?</a></li>
<li><a href="https://isocpp.org/wiki/faq/misc-technical-issues#forward-decl-members" rel="noreferrer">What special considerations are needed when forward declarations are used with member objects?</a></li>
<li><a href="https://isocpp.org/wiki/faq/misc-technical-issues#forward-decl-inline" rel="noreferrer">What special considerations are needed when forward declarations are used with inline functions?</a></li>
</ul>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/circular-dependency">circular-dependency</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I once solved this kind of problem by moving all <em>inlines</em> after the class definition and putting the <code>#include</code> for the other classes just before the <em>inlines</em> in the header file. This way one make sure all definitions+inlines are set prior the inlines are parsed.</p>

<p>Doing like this makes it possible to still have a bunch of inlines in both(or multiple) header files. But it's necessary to have <em>include guards</em>.</p>

<p>Like this</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// File: A.h</span>
<span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> __A_H__</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> __A_H__</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>
{
    <span class="hljs-type">int</span> _val;
    B *_b;
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">A</span>(<span class="hljs-type">int</span> val);
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SetB</span><span class="hljs-params">(B *b)</span></span>;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">()</span></span>;
};

<span class="hljs-comment">// Including class B for inline usage here </span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"B.h"</span></span>

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-title">A::A</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> : _val(val)
{</span>
}

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">A::SetB</span><span class="hljs-params">(B *b)</span>
</span>{
    _b = b;
    _b-&gt;<span class="hljs-built_in">Print</span>();
}

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">A::Print</span><span class="hljs-params">()</span>
</span>{
    cout&lt;&lt;<span class="hljs-string">"Type:A val="</span>&lt;&lt;_val&lt;&lt;endl;
}

<span class="hljs-meta">#<span class="hljs-keyword">endif</span> <span class="hljs-comment">/* __A_H__ */</span></span>
</code></pre>

<p>...and doing the same in <code>B.h</code></p>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/circular-dependency">circular-dependency</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I've written a post about this once: <a href="https://ewirch.github.io/2013/12/resolving-circular-dependencies.html" rel="nofollow">Resolving circular dependencies in c++</a></p>

<p>The basic technique is to decouple the classes using interfaces. So in your case:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">//Printer.h</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Printer</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-title">Print</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;
}

<span class="hljs-comment">//A.h</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"Printer.h"</span></span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>: <span class="hljs-keyword">public</span> Printer
{
    <span class="hljs-type">int</span> _val;
    Printer *_b;
<span class="hljs-keyword">public</span>:

    <span class="hljs-built_in">A</span>(<span class="hljs-type">int</span> val)
        :_val(val)
    {
    }

    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SetB</span><span class="hljs-params">(Printer *b)</span>
    </span>{
        _b = b;
        _b-&gt;<span class="hljs-built_in">Print</span>();
    }

    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">()</span>
    </span>{
        cout&lt;&lt;<span class="hljs-string">"Type:A val="</span>&lt;&lt;_val&lt;&lt;endl;
    }
};

<span class="hljs-comment">//B.h</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"Printer.h"</span></span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>: <span class="hljs-keyword">public</span> Printer
{
    <span class="hljs-type">double</span> _val;
    Printer* _a;
<span class="hljs-keyword">public</span>:

    <span class="hljs-built_in">B</span>(<span class="hljs-type">double</span> val)
        :_val(val)
    {
    }

    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SetA</span><span class="hljs-params">(Printer *a)</span>
    </span>{
        _a = a;
        _a-&gt;<span class="hljs-built_in">Print</span>();
    }

    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">()</span>
    </span>{
        cout&lt;&lt;<span class="hljs-string">"Type:B val="</span>&lt;&lt;_val&lt;&lt;endl;
    }
};

<span class="hljs-comment">//main.cpp</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"A.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"B.h"</span></span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span>* argv[])</span>
</span>{
    <span class="hljs-function">A <span class="hljs-title">a</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;
    <span class="hljs-function">B <span class="hljs-title">b</span><span class="hljs-params">(<span class="hljs-number">3.14</span>)</span></span>;
    a.<span class="hljs-built_in">Print</span>();
    a.<span class="hljs-built_in">SetB</span>(&amp;b);
    b.<span class="hljs-built_in">Print</span>();
    b.<span class="hljs-built_in">SetA</span>(&amp;a);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/circular-dependency">circular-dependency</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here is the solution for templates: <a href="https://studiofreya.com/cpp/how-to-handle-circular-dependencies-with-templates-in-c/" rel="noreferrer">How to handle circular dependencies with templates</a></p>

<p>The clue to solving this problem is to declare both classes before providing the definitions (implementations). Its not possible to split the declaration and definition into separate files, but you can structure them as if they were in separate files.</p>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/circular-dependency">circular-dependency</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The simple example presented on Wikipedia worked for me.
(you can read the complete description at <a href="http://en.wikipedia.org/wiki/Circular_dependency#Example_of_circular_dependencies_in_C.2B.2B" rel="nofollow">http://en.wikipedia.org/wiki/Circular_dependency#Example_of_circular_dependencies_in_C.2B.2B</a> )</p>

<p>File '''a.h''':</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> A_H</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> A_H</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>;    <span class="hljs-comment">//forward declaration</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> {
<span class="hljs-keyword">public</span>:
    B* b;
};
<span class="hljs-meta">#<span class="hljs-keyword">endif</span> <span class="hljs-comment">//A_H</span></span>
</code></pre>

<p>File '''b.h''':</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> B_H</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> B_H</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>;    <span class="hljs-comment">//forward declaration</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> {
<span class="hljs-keyword">public</span>:
    A* a;
};
<span class="hljs-meta">#<span class="hljs-keyword">endif</span> <span class="hljs-comment">//B_H</span></span>
</code></pre>

<p>File '''main.cpp''':</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"a.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"b.h"</span></span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    A a;
    B b;
    a.b = &amp;b;
    b.a = &amp;a;
}
</code></pre>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/circular-dependency">circular-dependency</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Unfortunately, all the previous answers are missing some details. The correct solution is a little bit cumbersome, but this is the only way to do it properly. And it scales easily, handles more complex dependencies as well.</p>

<p>Here's how you can do this, exactly retaining all the details, and usability:</p>

<ul>
<li>the solution is exactly the same as originally intended</li>
<li>inline functions still inline</li>
<li>users of <code>A</code> and <code>B</code> can include A.h and B.h in any order</li>
</ul>

<p>Create two files, A_def.h, B_def.h. These will contain only <code>A</code>'s and <code>B</code>'s definition:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// A_def.h</span>
<span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> A_DEF_H</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> A_DEF_H</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>
{
    <span class="hljs-type">int</span> _val;
    B *_b;

<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">A</span>(<span class="hljs-type">int</span> val);
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SetB</span><span class="hljs-params">(B *b)</span></span>;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">()</span></span>;
};
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

<span class="hljs-comment">// B_def.h</span>
<span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> B_DEF_H</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> B_DEF_H</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>
{
    <span class="hljs-type">double</span> _val;
    A* _a;

<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">B</span>(<span class="hljs-type">double</span> val);
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SetA</span><span class="hljs-params">(A *a)</span></span>;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Print</span><span class="hljs-params">()</span></span>;
};
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
</code></pre>

<p>And then, A.h and B.h will contain this:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// A.h</span>
<span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> A_H</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> A_H</span>

<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"A_def.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"B_def.h"</span></span>

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-title">A::A</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> :_val(val)
{</span>
}

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">A::SetB</span><span class="hljs-params">(B *b)</span>
</span>{
    _b = b;
    _b-&gt;<span class="hljs-built_in">Print</span>();
}

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">A::Print</span><span class="hljs-params">()</span>
</span>{
    cout&lt;&lt;<span class="hljs-string">"Type:A val="</span>&lt;&lt;_val&lt;&lt;endl;
}

<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

<span class="hljs-comment">// B.h</span>
<span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> B_H</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> B_H</span>

<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"A_def.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"B_def.h"</span></span>

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-title">B::B</span><span class="hljs-params">(<span class="hljs-type">double</span> val)</span> :_val(val)
{</span>
}

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">B::SetA</span><span class="hljs-params">(A *a)</span>
</span>{
    _a = a;
    _a-&gt;<span class="hljs-built_in">Print</span>();
}

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">B::Print</span><span class="hljs-params">()</span>
</span>{
    cout&lt;&lt;<span class="hljs-string">"Type:B val="</span>&lt;&lt;_val&lt;&lt;endl;
}

<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
</code></pre>

<p>Note that A_def.h and B_def.h are "private" headers, users of <code>A</code> and <code>B</code> should not use them. The public header is A.h and B.h.</p>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/circular-dependency">circular-dependency</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Unfortunately I can't comment the answer from geza.</p>

<p>He is not just saying "put forward declarations into a separate header". He says that you have to spilt class definition headers and inline function definitions into different header files to allow "defered dependencies".</p>

<p>But his illustration is not really good. Because both classes (A and B) only need an incomplete type of each other (pointer fields / parameters).</p>

<p>To understand it better imagine that class A has a field of type B not B*. In addition class A and B want to define an inline function with parameters of the other type:</p>

<p>This simple code would not work:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// A.h</span>
<span class="hljs-meta">#pragme once</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"B.h"</span></span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>{
  B b;
  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">Do</span><span class="hljs-params">(B b)</span></span>;
}

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">A::Do</span><span class="hljs-params">(B b)</span></span>{
  <span class="hljs-comment">//do something with B</span>
}

<span class="hljs-comment">// B.h</span>
<span class="hljs-meta">#pragme once</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>{
  A* b;
  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">Do</span><span class="hljs-params">(A a)</span></span>;
}

<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"A.h"</span></span>

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">B::Do</span><span class="hljs-params">(A a)</span></span>{
  <span class="hljs-comment">//do something with A</span>
}

<span class="hljs-comment">//main.cpp</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"A.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"B.h"</span></span>

</code></pre>

<p>It would result in the following code:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">//main.cpp</span>
<span class="hljs-comment">//#include "A.h"</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>{
  A* b;
  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">Do</span><span class="hljs-params">(A a)</span></span>;
}

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">B::Do</span><span class="hljs-params">(A a)</span></span>{
  <span class="hljs-comment">//do something with A</span>
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>{
  B b;
  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">Do</span><span class="hljs-params">(B b)</span></span>;
}

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">A::Do</span><span class="hljs-params">(B b)</span></span>{
  <span class="hljs-comment">//do something with B</span>
}
<span class="hljs-comment">//#include "B.h"</span>

</code></pre>

<p>This code does not compile because B::Do needs a complete type of A which is defined later.</p>

<p>To make sure that it compiles the source code should look like this:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">//main.cpp</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>{
  A* b;
  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">Do</span><span class="hljs-params">(A a)</span></span>;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>{
  B b;
  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">Do</span><span class="hljs-params">(B b)</span></span>;
}

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">B::Do</span><span class="hljs-params">(A a)</span></span>{
  <span class="hljs-comment">//do something with A</span>
}

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">A::Do</span><span class="hljs-params">(B b)</span></span>{
  <span class="hljs-comment">//do something with B</span>
}

</code></pre>

<p>This is exactly possible with these two header files for each class wich needs to define inline functions.
The only issue is that the circular classes can't just include the "public header".</p>

<p>To solve this issue I would like to suggest a preprocessor extension: <code>#pragma process_pending_includes</code></p>

<p>This directive should defer the processing of the current file and complete all pending includes.</p>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 11</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/circular-dependency">circular-dependency</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In some cases it is possible to <em>define</em> a method or a constructor of class B in the header file of class A to resolve circular dependencies involving definitions.
In this way you can avoid having to put definitions in <code>.cc</code> files, for example if you want to implement a header only library.</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// file: a.h</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"b.h"</span></span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">A</span> {
  <span class="hljs-built_in">A</span>(<span class="hljs-type">const</span> B&amp; b) : _b(b) { }
  <span class="hljs-function">B <span class="hljs-title">get</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> _b; }
  B _b;
};

<span class="hljs-comment">// note that the get method of class B is defined in a.h</span>
<span class="hljs-function">A <span class="hljs-title">B::get</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">A</span>(*<span class="hljs-keyword">this</span>);
}

<span class="hljs-comment">// file: b.h</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>;
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">B</span> {
  <span class="hljs-comment">// here the get method is only declared</span>
  <span class="hljs-function">A <span class="hljs-title">get</span><span class="hljs-params">()</span></span>;
};

<span class="hljs-comment">// file: main.cc</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"a.h"</span></span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(...)</span> </span>{
  B b;
  A a = b.<span class="hljs-built_in">get</span>();
}

</code></pre>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/what-is-a-smart-pointer-and-when-should-i-use-one-1657387905461">What is a smart pointer and when should I use one?</a><a href="/questions/reference:-what-is-variable-scope-which-variables-are-accessible-from-where-and-what-are-%22undefined-variable%22-errors-1657384644697">Reference: What is variable scope, which variables are accessible from where and what are &quot;undefined variable&quot; errors?</a><a href="/questions/how-do-i-install-pip-on-windows-1657388147761">How do I install pip on Windows?</a><a href="/questions/templated-check-for-the-existence-of-a-class-member-function-1657388363414">Templated check for the existence of a class member function?</a><a href="/questions/getcontactsfromfirebase()-method-return-an-empty-list-1657388433928">getContactsFromFirebase() method return an empty list</a><a href="/questions/add-a-property-to-a-javascript-object-using-a-variable-as-the-name-1657388425650">Add a property to a JavaScript object using a variable as the name?</a><a href="/questions/what-is-the-best-algorithm-for-overriding-gethashcode-1657387848932">What is the best algorithm for overriding GetHashCode?</a><a href="/questions/iterating-through-a-collection-avoiding-concurrentmodificationexception-when-removing-objects-in-a-loop-1657387311824">Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop</a><a href="/questions/how-do-i-copy-to-the-clipboard-in-javascript-1657385501223">How do I copy to the clipboard in JavaScript?</a><a href="/questions/reference-what-does-this-error-mean-in-php-1657384301782">Reference - What does this error mean in PHP?</a><a href="/questions/what-is-viewmodel-in-mvc-1657387451244">What is ViewModel in MVC?</a><a href="/questions/correctly-allocating-multi-dimensional-arrays-1657387733756">Correctly allocating multi-dimensional arrays</a><a href="/questions/why-are-these-numbers-not-equal-1657384729559">Why are these numbers not equal?</a><a href="/questions/why-is-settimeout(fn-0)-sometimes-useful-1657388379869">Why is setTimeout(fn, 0) sometimes useful?</a><a href="/questions/how-to-access-the-correct-this-inside-a-callback-1657384283261">How to access the correct `this` inside a callback</a><a href="/questions/%22notice:-undefined-variable%22-%22notice:-undefined-index%22-%22warning:-undefined-array-key%22-and-%22notice:-undefined-offset%22-using-php-1657384250748">&quot;Notice: Undefined variable&quot;, &quot;Notice: Undefined index&quot;, &quot;Warning: Undefined array key&quot;, and &quot;Notice: Undefined offset&quot; using PHP</a><a href="/questions/how-do-i-return-the-response-from-an-observablehttpasync-call-in-angular-1657387335024">How do I return the response from an Observable/http/async call in angular?</a><a href="/questions/are-&#x27;arrow-functions&#x27;-and-&#x27;functions&#x27;-equivalent-interchangeable-1657384527873">Are &#x27;Arrow Functions&#x27; and &#x27;Functions&#x27; equivalent / interchangeable?</a><a href="/questions/what-is-the-rule-of-three-1657384390295">What is The Rule of Three?</a><a href="/questions/what-is-the-explicit-promise-construction-antipattern-and-how-do-i-avoid-it-1657384436212">What is the explicit promise construction antipattern and how do I avoid it?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;The way to think about this is to \u0026quot;think like a compiler\u0026quot;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Imagine you are writing a compiler. And you see code like this.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// file: A.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; {\n  B _b;\n};\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// file: B.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt; {\n  A _a;\n};\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// file main.cc\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;B.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(...)\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n  A a;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;When you are compiling the \u0026lt;strong\u0026gt;.cc\u0026lt;/strong\u0026gt; file (remember that the \u0026lt;strong\u0026gt;.cc\u0026lt;/strong\u0026gt; and not the \u0026lt;strong\u0026gt;.h\u0026lt;/strong\u0026gt; is the unit of compilation), you need to allocate space for object \u0026lt;code\u0026gt;A\u0026lt;/code\u0026gt;. So, well, how much space then? Enough to store \u0026lt;code\u0026gt;B\u0026lt;/code\u0026gt;! What\u0026apos;s the size of \u0026lt;code\u0026gt;B\u0026lt;/code\u0026gt; then? Enough to store \u0026lt;code\u0026gt;A\u0026lt;/code\u0026gt;! Oops.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Clearly a circular reference that you must break.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You can break it by allowing the compiler to instead reserve as much space as it knows about upfront - pointers and references, for example, will always be 32 or 64 bits (depending on the architecture) and so if you replaced (either one) by a pointer or reference, things would be great. Let\u0026apos;s say we replace in \u0026lt;code\u0026gt;A\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// file: A.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// both these are fine, so are various const versions of the same.\u0026lt;/span\u0026gt;\n  B\u0026amp;amp; _b_ref;\n  B* _b_ptr;\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Now things are better. Somewhat. \u0026lt;code\u0026gt;main()\u0026lt;/code\u0026gt; still says:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// file: main.cc\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A.h\u0026quot;\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// \u0026amp;lt;-- Houston, we have a problem\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;#include\u0026lt;/code\u0026gt;, for all extents and purposes (if you take the preprocessor out) just copies the file into the \u0026lt;strong\u0026gt;.cc\u0026lt;/strong\u0026gt;. So really, the \u0026lt;strong\u0026gt;.cc\u0026lt;/strong\u0026gt; looks like:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// file: partially_pre_processed_main.cc\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; {\n  B\u0026amp;amp; _b_ref;\n  B* _b_ptr;\n};\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;B.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(...)\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n  A a;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You can see why the compiler can\u0026apos;t deal with this - it has no idea what \u0026lt;code\u0026gt;B\u0026lt;/code\u0026gt; is - it has never even seen the symbol before.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So let\u0026apos;s tell the compiler about \u0026lt;code\u0026gt;B\u0026lt;/code\u0026gt;. This is known as a \u0026lt;a href=\u0026quot;http://en.cppreference.com/w/cpp/language/class\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;forward declaration\u0026lt;/a\u0026gt;, and is discussed further in \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/4757718/391161\u0026quot;\u0026gt;this answer\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// main.cc\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;B.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(...)\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n  A a;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This \u0026lt;em\u0026gt;works\u0026lt;/em\u0026gt;. It is not \u0026lt;em\u0026gt;great\u0026lt;/em\u0026gt;. But at this point you should have an understanding of the circular reference problem and what we did to \u0026quot;fix\u0026quot; it, albeit the fix is bad.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The reason this fix is bad is because the next person to \u0026lt;code\u0026gt;#include \u0026quot;A.h\u0026quot;\u0026lt;/code\u0026gt; will have to declare \u0026lt;code\u0026gt;B\u0026lt;/code\u0026gt; before they can use it and will get a terrible \u0026lt;code\u0026gt;#include\u0026lt;/code\u0026gt; error. So let\u0026apos;s move the declaration into \u0026lt;strong\u0026gt;A.h\u0026lt;/strong\u0026gt; itself.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// file: A.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; {\n  B* _b; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// or any of the other variants.\u0026lt;/span\u0026gt;\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And in \u0026lt;strong\u0026gt;B.h\u0026lt;/strong\u0026gt;, at this point, you can just \u0026lt;code\u0026gt;#include \u0026quot;A.h\u0026quot;\u0026lt;/code\u0026gt; directly.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// file: B.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// note that this is cool because the compiler knows by this time\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// how much space A will need.\u0026lt;/span\u0026gt;\n  A _a; \n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;HTH.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can avoid compilation errors if you remove the method definitions from the header files and let the classes contain only the method declarations and variable declarations/definitions. The method definitions should be placed in a .cpp file (just like a best practice guideline says). \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The down side of the following solution is (assuming that you had placed the methods in the header file to inline them) that the methods are no longer inlined by the compiler and trying to use the inline keyword produces linker errors.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//A.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ifndef\u0026lt;/span\u0026gt; A_H\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; A_H\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; _val;\n    B* _b;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt;:\n\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; val);\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;SetB\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(B *b)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n};\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;endif\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//B.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ifndef\u0026lt;/span\u0026gt; B_H\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; B_H\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt; _val;\n    A* _a;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt;:\n\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt; val);\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;SetA\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(A *a)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n};\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;endif\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//A.cpp\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;B.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;iostream\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;using\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;namespace\u0026lt;/span\u0026gt; std;\n\nA::\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; val)\n:_val(val)\n{\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;A::SetB\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(B *b)\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    _b = b;\n    cout\u0026amp;lt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Inside SetB()\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt;endl;\n    _b-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;();\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;A::Print\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    cout\u0026amp;lt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Type:A val=\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt;_val\u0026amp;lt;\u0026amp;lt;endl;\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//B.cpp\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;B.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;iostream\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;using\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;namespace\u0026lt;/span\u0026gt; std;\n\nB::\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt; val)\n:_val(val)\n{\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;B::SetA\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(A *a)\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    _a = a;\n    cout\u0026amp;lt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Inside SetA()\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt;endl;\n    _a-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;();\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;B::Print\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    cout\u0026amp;lt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Type:B val=\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt;_val\u0026amp;lt;\u0026amp;lt;endl;\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//main.cpp\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;B.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; argc, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;char\u0026lt;/span\u0026gt;* argv[])\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;A \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;B \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3.14\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n    a.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;();\n    a.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;SetB\u0026lt;/span\u0026gt;(\u0026amp;amp;b);\n    b.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;();\n    b.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;SetA\u0026lt;/span\u0026gt;(\u0026amp;amp;a);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;I\u0026apos;m late answering this, but there\u0026apos;s not one reasonable answer to date, despite being a popular question with highly upvoted answers....\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;Best practice: forward declaration headers\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;As illustrated by the Standard library\u0026apos;s \u0026lt;code\u0026gt;\u0026amp;lt;iosfwd\u0026amp;gt;\u0026lt;/code\u0026gt; header, the proper way to provide forward declarations for others is to have a \u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;forward declaration header\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt;.  For example:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;a.fwd.h:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;pragma\u0026lt;/span\u0026gt; once\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;a.h:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;pragma\u0026lt;/span\u0026gt; once\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a.fwd.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;b.fwd.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;\n{\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt;:\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;f\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(B*)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;b.fwd.h:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;pragma\u0026lt;/span\u0026gt; once\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;b.h:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;pragma\u0026lt;/span\u0026gt; once\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;b.fwd.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a.fwd.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;\n{\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt;:\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;f\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(A*)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The maintainers of the \u0026lt;code\u0026gt;A\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;B\u0026lt;/code\u0026gt; libraries should each be responsible for keeping their forward declaration headers in sync with their headers and implementation files, so - for example - if the maintainer of \u0026quot;B\u0026quot; comes along and rewrites the code to be...\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;b.fwd.h:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;template\u0026lt;/span\u0026gt; \u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typename\u0026lt;/span\u0026gt; T\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Basic_B\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typedef\u0026lt;/span\u0026gt; Basic_B\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;char\u0026lt;/span\u0026gt;\u0026amp;gt; B;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;b.h:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;template\u0026lt;/span\u0026gt; \u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typename\u0026lt;/span\u0026gt; T\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Basic_B\u0026lt;/span\u0026gt;\n{\n    ...\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;definition\u0026lt;/span\u0026gt;...\n};\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typedef\u0026lt;/span\u0026gt; Basic_B\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;char\u0026lt;/span\u0026gt;\u0026amp;gt; B;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;...then recompilation of the code for \u0026quot;A\u0026quot; will be triggered by the changes to the included \u0026lt;code\u0026gt;b.fwd.h\u0026lt;/code\u0026gt; and should complete cleanly.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;h2\u0026gt;Poor but common practice: forward declare stuff in other libs\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;Say - instead of using a forward declaration header as explained above - code in \u0026lt;code\u0026gt;a.h\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;a.cc\u0026lt;/code\u0026gt; instead forward-declares \u0026lt;code\u0026gt;class B;\u0026lt;/code\u0026gt; itself:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;if \u0026lt;code\u0026gt;a.h\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;a.cc\u0026lt;/code\u0026gt; did include \u0026lt;code\u0026gt;b.h\u0026lt;/code\u0026gt; later:\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;compilation of A will terminate with an error once it gets to the conflicting declaration/definition of \u0026lt;code\u0026gt;B\u0026lt;/code\u0026gt; (i.e. the above change to B broke A and any other clients abusing forward declarations, instead of working transparently).\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;otherwise (if A didn\u0026apos;t eventually include \u0026lt;code\u0026gt;b.h\u0026lt;/code\u0026gt; - possible if A just stores/passes around Bs by pointer and/or reference)\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;build tools relying on \u0026lt;code\u0026gt;#include\u0026lt;/code\u0026gt; analysis and changed file timestamps won\u0026apos;t rebuild \u0026lt;code\u0026gt;A\u0026lt;/code\u0026gt; (and its further-dependent code) after the change to B, causing errors at link time or run time.  If B is distributed as a runtime loaded DLL, code in \u0026quot;A\u0026quot; may fail to find the differently-mangled symbols at runtime, which may or may not be handled well enough to trigger orderly shutdown or acceptably reduced functionality.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;If A\u0026apos;s code has template specialisations / \u0026quot;traits\u0026quot; for the old \u0026lt;code\u0026gt;B\u0026lt;/code\u0026gt;, they won\u0026apos;t take effect.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Things to remember:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;This won\u0026apos;t work if \u0026lt;code\u0026gt;class A\u0026lt;/code\u0026gt; has an object of \u0026lt;code\u0026gt;class B\u0026lt;/code\u0026gt; as a member or vice versa. \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Forward declaration is way to go.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Order of declaration matters (which is why you are moving out the definitions).\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;If both classes call functions of the other, you have to move the definitions out.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Read the FAQ:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://isocpp.org/wiki/faq/misc-technical-issues#forward-decl\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;How can I create two classes that both know about each other?\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://isocpp.org/wiki/faq/misc-technical-issues#forward-decl-members\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;What special considerations are needed when forward declarations are used with member objects?\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://isocpp.org/wiki/faq/misc-technical-issues#forward-decl-inline\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;What special considerations are needed when forward declarations are used with inline functions?\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I once solved this kind of problem by moving all \u0026lt;em\u0026gt;inlines\u0026lt;/em\u0026gt; after the class definition and putting the \u0026lt;code\u0026gt;#include\u0026lt;/code\u0026gt; for the other classes just before the \u0026lt;em\u0026gt;inlines\u0026lt;/em\u0026gt; in the header file. This way one make sure all definitions+inlines are set prior the inlines are parsed.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Doing like this makes it possible to still have a bunch of inlines in both(or multiple) header files. But it\u0026apos;s necessary to have \u0026lt;em\u0026gt;include guards\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Like this\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// File: A.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ifndef\u0026lt;/span\u0026gt; __A_H__\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; __A_H__\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; _val;\n    B *_b;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt;:\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; val);\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;SetB\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(B *b)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n};\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Including class B for inline usage here \u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;B.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;A::A\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; val)\u0026lt;/span\u0026gt; : _val(val)\n{\u0026lt;/span\u0026gt;\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;A::SetB\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(B *b)\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    _b = b;\n    _b-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;();\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;A::Print\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    cout\u0026amp;lt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Type:A val=\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt;_val\u0026amp;lt;\u0026amp;lt;endl;\n}\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;endif\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* __A_H__ */\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;...and doing the same in \u0026lt;code\u0026gt;B.h\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I\u0026apos;ve written a post about this once: \u0026lt;a href=\u0026quot;https://ewirch.github.io/2013/12/resolving-circular-dependencies.html\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;Resolving circular dependencies in c++\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The basic technique is to decouple the classes using interfaces. So in your case:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Printer.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Printer\u0026lt;/span\u0026gt; {\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt;:\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;virtual\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;= \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//A.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Printer.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; Printer\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; _val;\n    Printer *_b;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt;:\n\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; val)\n        :_val(val)\n    {\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;SetB\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Printer *b)\u0026lt;/span\u0026gt;\n    \u0026lt;/span\u0026gt;{\n        _b = b;\n        _b-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;();\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n    \u0026lt;/span\u0026gt;{\n        cout\u0026amp;lt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Type:A val=\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt;_val\u0026amp;lt;\u0026amp;lt;endl;\n    }\n};\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//B.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Printer.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; Printer\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt; _val;\n    Printer* _a;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt;:\n\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt; val)\n        :_val(val)\n    {\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;SetA\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Printer *a)\u0026lt;/span\u0026gt;\n    \u0026lt;/span\u0026gt;{\n        _a = a;\n        _a-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;();\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n    \u0026lt;/span\u0026gt;{\n        cout\u0026amp;lt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Type:B val=\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt;_val\u0026amp;lt;\u0026amp;lt;endl;\n    }\n};\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//main.cpp\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;iostream\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;B.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; argc, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;char\u0026lt;/span\u0026gt;* argv[])\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;A \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;B \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3.14\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n    a.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;();\n    a.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;SetB\u0026lt;/span\u0026gt;(\u0026amp;amp;b);\n    b.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;();\n    b.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;SetA\u0026lt;/span\u0026gt;(\u0026amp;amp;a);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here is the solution for templates: \u0026lt;a href=\u0026quot;https://studiofreya.com/cpp/how-to-handle-circular-dependencies-with-templates-in-c/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;How to handle circular dependencies with templates\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The clue to solving this problem is to declare both classes before providing the definitions (implementations). Its not possible to split the declaration and definition into separate files, but you can structure them as if they were in separate files.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The simple example presented on Wikipedia worked for me.\n(you can read the complete description at \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Circular_dependency#Example_of_circular_dependencies_in_C.2B.2B\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;http://en.wikipedia.org/wiki/Circular_dependency#Example_of_circular_dependencies_in_C.2B.2B\u0026lt;/a\u0026gt; )\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;File \u0026apos;\u0026apos;\u0026apos;a.h\u0026apos;\u0026apos;\u0026apos;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ifndef\u0026lt;/span\u0026gt; A_H\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; A_H\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;;    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//forward declaration\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; {\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt;:\n    B* b;\n};\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;endif\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//A_H\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;File \u0026apos;\u0026apos;\u0026apos;b.h\u0026apos;\u0026apos;\u0026apos;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ifndef\u0026lt;/span\u0026gt; B_H\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; B_H\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;;    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//forward declaration\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt; {\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt;:\n    A* a;\n};\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;endif\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//B_H\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;File \u0026apos;\u0026apos;\u0026apos;main.cpp\u0026apos;\u0026apos;\u0026apos;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;b.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n    A a;\n    B b;\n    a.b = \u0026amp;amp;b;\n    b.a = \u0026amp;amp;a;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Unfortunately, all the previous answers are missing some details. The correct solution is a little bit cumbersome, but this is the only way to do it properly. And it scales easily, handles more complex dependencies as well.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Here\u0026apos;s how you can do this, exactly retaining all the details, and usability:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;the solution is exactly the same as originally intended\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;inline functions still inline\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;users of \u0026lt;code\u0026gt;A\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;B\u0026lt;/code\u0026gt; can include A.h and B.h in any order\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Create two files, A_def.h, B_def.h. These will contain only \u0026lt;code\u0026gt;A\u0026lt;/code\u0026gt;\u0026apos;s and \u0026lt;code\u0026gt;B\u0026lt;/code\u0026gt;\u0026apos;s definition:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// A_def.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ifndef\u0026lt;/span\u0026gt; A_DEF_H\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; A_DEF_H\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; _val;\n    B *_b;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt;:\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; val);\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;SetB\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(B *b)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n};\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;endif\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// B_def.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ifndef\u0026lt;/span\u0026gt; B_DEF_H\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; B_DEF_H\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt; _val;\n    A* _a;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt;:\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt; val);\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;SetA\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(A *a)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n};\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;endif\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And then, A.h and B.h will contain this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// A.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ifndef\u0026lt;/span\u0026gt; A_H\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; A_H\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A_def.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;B_def.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;A::A\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; val)\u0026lt;/span\u0026gt; :_val(val)\n{\u0026lt;/span\u0026gt;\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;A::SetB\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(B *b)\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    _b = b;\n    _b-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;();\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;A::Print\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    cout\u0026amp;lt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Type:A val=\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt;_val\u0026amp;lt;\u0026amp;lt;endl;\n}\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;endif\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// B.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ifndef\u0026lt;/span\u0026gt; B_H\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; B_H\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A_def.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;B_def.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;B::B\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt; val)\u0026lt;/span\u0026gt; :_val(val)\n{\u0026lt;/span\u0026gt;\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;B::SetA\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(A *a)\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    _a = a;\n    _a-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;();\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;B::Print\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    cout\u0026amp;lt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Type:B val=\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt;_val\u0026amp;lt;\u0026amp;lt;endl;\n}\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;endif\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Note that A_def.h and B_def.h are \u0026quot;private\u0026quot; headers, users of \u0026lt;code\u0026gt;A\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;B\u0026lt;/code\u0026gt; should not use them. The public header is A.h and B.h.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Unfortunately I can\u0026apos;t comment the answer from geza.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;He is not just saying \u0026quot;put forward declarations into a separate header\u0026quot;. He says that you have to spilt class definition headers and inline function definitions into different header files to allow \u0026quot;defered dependencies\u0026quot;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;But his illustration is not really good. Because both classes (A and B) only need an incomplete type of each other (pointer fields / parameters).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To understand it better imagine that class A has a field of type B not B*. In addition class A and B want to define an inline function with parameters of the other type:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This simple code would not work:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// A.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#pragme once\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;B.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;{\n  B b;\n  \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Do\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(B b)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;A::Do\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(B b)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;{\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//do something with B\u0026lt;/span\u0026gt;\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// B.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#pragme once\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;{\n  A* b;\n  \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Do\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(A a)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;B::Do\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(A a)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;{\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//do something with A\u0026lt;/span\u0026gt;\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//main.cpp\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;B.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;It would result in the following code:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//main.cpp\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//#include \u0026quot;A.h\u0026quot;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;{\n  A* b;\n  \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Do\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(A a)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;B::Do\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(A a)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;{\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//do something with A\u0026lt;/span\u0026gt;\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;{\n  B b;\n  \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Do\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(B b)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;A::Do\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(B b)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;{\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//do something with B\u0026lt;/span\u0026gt;\n}\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//#include \u0026quot;B.h\u0026quot;\u0026lt;/span\u0026gt;\n\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This code does not compile because B::Do needs a complete type of A which is defined later.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To make sure that it compiles the source code should look like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//main.cpp\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;{\n  A* b;\n  \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Do\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(A a)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;{\n  B b;\n  \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Do\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(B b)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;B::Do\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(A a)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;{\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//do something with A\u0026lt;/span\u0026gt;\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;A::Do\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(B b)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;{\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//do something with B\u0026lt;/span\u0026gt;\n}\n\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This is exactly possible with these two header files for each class wich needs to define inline functions.\nThe only issue is that the circular classes can\u0026apos;t just include the \u0026quot;public header\u0026quot;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To solve this issue I would like to suggest a preprocessor extension: \u0026lt;code\u0026gt;#pragma process_pending_includes\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This directive should defer the processing of the current file and complete all pending includes.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In some cases it is possible to \u0026lt;em\u0026gt;define\u0026lt;/em\u0026gt; a method or a constructor of class B in the header file of class A to resolve circular dependencies involving definitions.\nIn this way you can avoid having to put definitions in \u0026lt;code\u0026gt;.cc\u0026lt;/code\u0026gt; files, for example if you want to implement a header only library.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// file: a.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;b.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; B\u0026amp;amp; b) : _b(b) { }\n  \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;B \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{ \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; _b; }\n  B _b;\n};\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// note that the get method of class B is defined in a.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;A \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;B::get\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;(*\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;);\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// file: b.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// here the get method is only declared\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;A \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n};\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// file: main.cc\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(...)\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n  B b;\n  A a = b.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;();\n}\n\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":189,"title":"Resolve build errors due to circular dependency amongst classes","content":"\n                \n\u0026lt;p\u0026gt;I often find myself in a situation where I am facing multiple compilation/linker errors in a C++ project due to some bad design decisions (made by someone else :) ) which lead to circular dependencies between C++ classes in different header files \u0026lt;em\u0026gt;(can happen also in the same file)\u0026lt;/em\u0026gt;. But fortunately(?) this doesn\u0026apos;t happen often enough for me to remember the solution to this problem for the next time it happens again.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So for the purposes of easy recall in the future I am going to post a representative problem and a solution along with it. Better solutions are of-course welcome.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;A.h\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; _val;\n    B *_b;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt;:\n\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; val)\n        :_val(val)\n    {\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;SetB\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(B *b)\u0026lt;/span\u0026gt;\n    \u0026lt;/span\u0026gt;{\n        _b = b;\n        _b-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;(); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// COMPILER ERROR: C2027: use of undefined type \u0026apos;B\u0026apos;\u0026lt;/span\u0026gt;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n    \u0026lt;/span\u0026gt;{\n        cout\u0026amp;lt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Type:A val=\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt;_val\u0026amp;lt;\u0026amp;lt;endl;\n    }\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;B.h\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt; _val;\n    A* _a;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt;:\n\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;double\u0026lt;/span\u0026gt; val)\n        :_val(val)\n    {\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;SetA\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(A *a)\u0026lt;/span\u0026gt;\n    \u0026lt;/span\u0026gt;{\n        _a = a;\n        _a-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;();\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n    \u0026lt;/span\u0026gt;{\n        cout\u0026amp;lt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Type:B val=\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt;_val\u0026amp;lt;\u0026amp;lt;endl;\n    }\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;main.cpp\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;B.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;iostream\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; argc, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;char\u0026lt;/span\u0026gt;* argv[])\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;A \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;B \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3.14\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n    a.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;();\n    a.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;SetB\u0026lt;/span\u0026gt;(\u0026amp;amp;b);\n    b.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Print\u0026lt;/span\u0026gt;();\n    b.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;SetA\u0026lt;/span\u0026gt;(\u0026amp;amp;a);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","slug":"resolve-build-errors-due-to-circular-dependency-amongst-classes-1657384903462","postType":"QUESTION","createdAt":"2022-07-09T16:41:43.000Z","updatedAt":"2022-07-09T16:41:43.000Z","tags":[{"id":694,"name":"circular-dependency","slug":"circular-dependency","createdAt":"2022-07-09T16:41:43.000Z","updatedAt":"2022-07-09T16:41:43.000Z","Questions_Tags":{"questionId":189,"tagId":694}}],"relatedQuestions":[{"title":"Resolve build errors due to circular dependency amongst classes","slug":"resolve-build-errors-due-to-circular-dependency-amongst-classes-1657384903462","tags":[{"name":"circular-dependency","Questions_Tags":{"questionId":189,"tagId":694}}]}]},"randomQuestions":[{"title":"What is a smart pointer and when should I use one?","slug":"what-is-a-smart-pointer-and-when-should-i-use-one-1657387905461"},{"title":"Reference: What is variable scope, which variables are accessible from where and what are \"undefined variable\" errors?","slug":"reference:-what-is-variable-scope-which-variables-are-accessible-from-where-and-what-are-\"undefined-variable\"-errors-1657384644697"},{"title":"How do I install pip on Windows?","slug":"how-do-i-install-pip-on-windows-1657388147761"},{"title":"Templated check for the existence of a class member function?","slug":"templated-check-for-the-existence-of-a-class-member-function-1657388363414"},{"title":"getContactsFromFirebase() method return an empty list","slug":"getcontactsfromfirebase()-method-return-an-empty-list-1657388433928"},{"title":"Add a property to a JavaScript object using a variable as the name?","slug":"add-a-property-to-a-javascript-object-using-a-variable-as-the-name-1657388425650"},{"title":"What is the best algorithm for overriding GetHashCode?","slug":"what-is-the-best-algorithm-for-overriding-gethashcode-1657387848932"},{"title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","slug":"iterating-through-a-collection-avoiding-concurrentmodificationexception-when-removing-objects-in-a-loop-1657387311824"},{"title":"How do I copy to the clipboard in JavaScript?","slug":"how-do-i-copy-to-the-clipboard-in-javascript-1657385501223"},{"title":"Reference - What does this error mean in PHP?","slug":"reference-what-does-this-error-mean-in-php-1657384301782"},{"title":"What is ViewModel in MVC?","slug":"what-is-viewmodel-in-mvc-1657387451244"},{"title":"Correctly allocating multi-dimensional arrays","slug":"correctly-allocating-multi-dimensional-arrays-1657387733756"},{"title":"Why are these numbers not equal?","slug":"why-are-these-numbers-not-equal-1657384729559"},{"title":"Why is setTimeout(fn, 0) sometimes useful?","slug":"why-is-settimeout(fn-0)-sometimes-useful-1657388379869"},{"title":"How to access the correct `this` inside a callback","slug":"how-to-access-the-correct-this-inside-a-callback-1657384283261"},{"title":"\"Notice: Undefined variable\", \"Notice: Undefined index\", \"Warning: Undefined array key\", and \"Notice: Undefined offset\" using PHP","slug":"\"notice:-undefined-variable\"-\"notice:-undefined-index\"-\"warning:-undefined-array-key\"-and-\"notice:-undefined-offset\"-using-php-1657384250748"},{"title":"How do I return the response from an Observable/http/async call in angular?","slug":"how-do-i-return-the-response-from-an-observablehttpasync-call-in-angular-1657387335024"},{"title":"Are 'Arrow Functions' and 'Functions' equivalent / interchangeable?","slug":"are-'arrow-functions'-and-'functions'-equivalent-interchangeable-1657384527873"},{"title":"What is The Rule of Three?","slug":"what-is-the-rule-of-three-1657384390295"},{"title":"What is the explicit promise construction antipattern and how do I avoid it?","slug":"what-is-the-explicit-promise-construction-antipattern-and-how-do-i-avoid-it-1657384436212"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"resolve-build-errors-due-to-circular-dependency-amongst-classes-1657384903462"},"buildId":"Zo3C7AOWQzKM9qqyzx2hf","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>