<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find the solution to any question. We focus on finding the fastest possible solution for users. Main topics like coding, learning. - solutionschecker.com"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><link name="keywords" content="solutions checker, solution checker, how to, solution for, check for solution, resolve question, what is, what solution for, find solution"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://solutionschecker.com","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://solutionschecker.com/questions","name":"Questions"}},{"@type":"ListItem","position":3,"item":{"@id":"https://solutionschecker.com/questions/how-to-deal-with-floating-point-number-precision-in-javascript-1657387293762","name":"Questions"}}]}</script><title>How to deal with floating point number precision in JavaScript? | Solution Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="I have the following dummy test script:



function test() {
  var x = 0.1 * 0.2;
  document.write(x);
}
test();
 Run code snippetHide resultsExpand snippet



This will print the result 0.020000000000000004 while it should just print 0.02 (if you use your calculator). As far as I understood this is due to errors in the floating point multiplication precision.

Does anyone have a good solution so that in such case I get the correct result 0.02? I know there are functions like toFixed or rounding would be another possibility, but I&#x27;d like to really have the whole number printed without any cutting and rounding. Just wanted to know if one of you has some nice, elegant solution.

Of course, otherwise I&#x27;ll round to some 10 digits or so.
    "/><meta property="og:title" content="How to deal with floating point number precision in JavaScript? | Solution Checker"/><meta property="og:description" content="I have the following dummy test script:



function test() {
  var x = 0.1 * 0.2;
  document.write(x);
}
test();
 Run code snippetHide resultsExpand snippet



This will print the result 0.020000000000000004 while it should just print 0.02 (if you use your calculator). As far as I understood this is due to errors in the floating point multiplication precision.

Does anyone have a good solution so that in such case I get the correct result 0.02? I know there are functions like toFixed or rounding would be another possibility, but I&#x27;d like to really have the whole number printed without any cutting and rounding. Just wanted to know if one of you has some nice, elegant solution.

Of course, otherwise I&#x27;ll round to some 10 digits or so.
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"How to deal with floating point number precision in JavaScript?","text":"I have the following dummy test script:\n\n\n\nfunction test() {\n  var x = 0.1 * 0.2;\n  document.write(x);\n}\ntest();\n Run code snippetHide resultsExpand snippet\n\n\n\nThis will print the result 0.020000000000000004 while it should just print 0.02 (if you use your calculator). As far as I understood this is due to errors in the floating point multiplication precision.\n\nDoes anyone have a good solution so that in such case I get the correct result 0.02? I know there are functions like toFixed or rounding would be another possibility, but I&apos;d like to really have the whole number printed without any cutting and rounding. Just wanted to know if one of you has some nice, elegant solution.\n\nOf course, otherwise I&apos;ll round to some 10 digits or so.\n    ","answerCount":30,"upVoteCount":500,"suggestedAnswer":[{"text":"From the Floating-Point Guide:\n\nWhat can I do to avoid this problem?\nThat depends on what kind of\ncalculations youre doing.\n\nIf you really need your results to add up exactly, especially when you\nwork with money: use a special decimal\ndatatype.\nIf you just dont want to see all those extra decimal places: simply\nformat your result rounded to a fixed\nnumber of decimal places when\ndisplaying it.\nIf you have no decimal datatype available, an alternative is to work\nwith integers, e.g. do money\ncalculations entirely in cents. But\nthis is more work and has some\ndrawbacks.\n\n\nNote that the first point only applies if you really need specific precise decimal behaviour. Most people don&apos;t need that, they&apos;re just irritated that their programs don&apos;t work correctly with numbers like 1/10 without realizing that they wouldn&apos;t even blink at the same error if it occurred with 1/3.\nIf the first point really applies to you, use BigDecimal for JavaScript, which is not elegant at all, but actually solves the problem rather than providing an imperfect workaround.\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"I like Pedro Ladaria&apos;s solution and use something similar.\n\nfunction strip(number) {\n    return (parseFloat(number).toPrecision(12));\n}\n\n\nUnlike Pedros solution this will round up 0.999...repeating and is accurate to plus/minus one on the least significant digit.\n\nNote: When dealing with 32 or 64 bit floats, you should use toPrecision(7) and toPrecision(15) for best results.  See this question for info as to why.\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"For the mathematically inclined: http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\n\nThe recommended approach is to use correction factors (multiply by a suitable power of 10 so that the arithmetic happens between integers).  For example, in the case of 0.1 * 0.2, the correction factor is 10, and you are performing the calculation:\n\n&gt; var x = 0.1\n&gt; var y = 0.2\n&gt; var cf = 10\n&gt; x * y\n0.020000000000000004\n&gt; (x * cf) * (y * cf) / (cf * cf)\n0.02\n\n\nA (very quick) solution looks something like:\n\nvar _cf = (function() {\n  function _shift(x) {\n    var parts = x.toString().split(&apos;.&apos;);\n    return (parts.length &lt; 2) ? 1 : Math.pow(10, parts[1].length);\n  }\n  return function() { \n    return Array.prototype.reduce.call(arguments, function (prev, next) { return prev === undefined || next === undefined ? undefined : Math.max(prev, _shift (next)); }, -Infinity);\n  };\n})();\n\nMath.a = function () {\n  var f = _cf.apply(null, arguments); if(f === undefined) return undefined;\n  function cb(x, y, i, o) { return x + f * y; }\n  return Array.prototype.reduce.call(arguments, cb, 0) / f;\n};\n\nMath.s = function (l,r) { var f = _cf(l,r); return (l * f - r * f) / f; };\n\nMath.m = function () {\n  var f = _cf.apply(null, arguments);\n  function cb(x, y, i, o) { return (x*f) * (y*f) / (f * f); }\n  return Array.prototype.reduce.call(arguments, cb, 1);\n};\n\nMath.d = function (l,r) { var f = _cf(l,r); return (l * f) / (r * f); };\n\n\nIn this case:\n\n&gt; Math.m(0.1, 0.2)\n0.02\n\n\nI definitely recommend using a tested library like SinfulJS\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"Are you only performing multiplication?  If so then you can use to your advantage a neat secret about decimal arithmetic.  That is that NumberOfDecimals(X) + NumberOfDecimals(Y) = ExpectedNumberOfDecimals. That is to say that if we have 0.123 * 0.12 then we know that there will be 5 decimal places because 0.123 has 3 decimal places and 0.12 has two. Thus if JavaScript gave us a number like 0.014760000002 we can safely round to the 5th decimal place without fear of losing precision.\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"Surprisingly, this function has not been posted yet although others have similar variations of it. It is from the MDN web docs for Math.round().\nIt&apos;s concise and allows for varying precision.\nfunction precisionRound(number, precision) {\n    var factor = Math.pow(10, precision);\n    return Math.round(number * factor) / factor;\n}\n\nconsole.log(precisionRound(1234.5678, 1));\n// expected output: 1234.6\n\nconsole.log(precisionRound(1234.5678, -1));\n// expected output: 1230\n\n\n\nvar inp = document.querySelectorAll(&apos;input&apos;);\nvar btn = document.querySelector(&apos;button&apos;);\n\nbtn.onclick = function(){\n  inp[2].value = precisionRound( parseFloat(inp[0].value) * parseFloat(inp[1].value) , 5 );\n};\n\n//MDN function\nfunction precisionRound(number, precision) {\n  var factor = Math.pow(10, precision);\n  return Math.round(number * factor) / factor;\n}\nbutton{\ndisplay: block;\n}\n&lt;input type=&apos;text&apos; value=&apos;0.1&apos;&gt;\n&lt;input type=&apos;text&apos; value=&apos;0.2&apos;&gt;\n&lt;button&gt;Get Product&lt;/button&gt;\n&lt;input type=&apos;text&apos;&gt;\n Run code snippetHide resultsExpand snippet\n\n\nUPDATE: Aug/20/2019\nJust noticed this error. I believe it&apos;s due to a floating point precision error with Math.round().\nprecisionRound(1.005, 2) // produces 1, incorrect, should be 1.01\n\nThese conditions work correctly:\nprecisionRound(0.005, 2) // produces 0.01\nprecisionRound(1.0005, 3) // produces 1.001\nprecisionRound(1234.5, 0) // produces 1235\nprecisionRound(1234.5, -1) // produces 1230\n\nFix:\nfunction precisionRoundMod(number, precision) {\n  var factor = Math.pow(10, precision);\n  var n = precision &lt; 0 ? number : 0.01 / factor + number;\n  return Math.round( n * factor) / factor;\n}\n\nThis just adds a digit to the right when rounding decimals.\nMDN has updated the Math.round() page so maybe someone could provide a better solution.\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"I&apos;m finding BigNumber.js meets my needs.\n\n\n  \n    A JavaScript library for arbitrary-precision decimal and non-decimal arithmetic.\n  \n\n\nIt has good documentation and the author is very diligent responding to feedback.\n\nThe same author has 2 other similar libraries:\n\nBig.js\n\n\n  \n    A small, fast JavaScript library for arbitrary-precision decimal arithmetic. The little sister to bignumber.js.\n  \n\n\nand Decimal.js\n\n\n  \n    An arbitrary-precision Decimal type for JavaScript.\n  \n\n\nHere&apos;s some code using BigNumber:\n\n\n\n$(function(){\n\n  \n  var product = BigNumber(.1).times(.2);  \n  $(&apos;#product&apos;).text(product);\n\n  var sum = BigNumber(.1).plus(.2);  \n  $(&apos;#sum&apos;).text(sum);\n\n\n});\n&lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n\n&lt;!-- 1.4.1 is not the current version, but works for this example. --&gt;\n&lt;script src=&quot;http://cdn.bootcss.com/bignumber.js/1.4.1/bignumber.min.js&quot;&gt;&lt;/script&gt;\n\n.1 &amp;times; .2 = &lt;span id=&quot;product&quot;&gt;&lt;/span&gt;&lt;br&gt;\n.1 &amp;plus; .2 = &lt;span id=&quot;sum&quot;&gt;&lt;/span&gt;&lt;br&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"You are looking for an sprintf implementation for JavaScript, so that you can write out floats with small errors in them (since they are stored in binary format) in a format that you expect.\n\nTry javascript-sprintf, you would call it like this:\n\nvar yourString = sprintf(&quot;%.2f&quot;, yourNumber);\n\n\nto print out your number as a float with two decimal places.\n\nYou may also use  Number.toFixed()  for display purposes, if you&apos;d rather not include  more files merely for floating point rounding to a given precision.  \n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"var times = function (a, b) {\n    return Math.round((a * b) * 100)/100;\n};\n\n\n---or---\n\nvar fpFix = function (n) {\n    return Math.round(n * 100)/100;\n};\n\nfpFix(0.1*0.2); // -&gt; 0.02\n\n\n---also---\n\nvar fpArithmetic = function (op, x, y) {\n    var n = {\n            &apos;*&apos;: x * y,\n            &apos;-&apos;: x - y,\n            &apos;+&apos;: x + y,\n            &apos;/&apos;: x / y\n        }[op];        \n\n    return Math.round(n * 100)/100;\n};\n\n\n--- as in ---\n\nfpArithmetic(&apos;*&apos;, 0.1, 0.2);\n// 0.02\n\nfpArithmetic(&apos;+&apos;, 0.1, 0.2);\n// 0.3\n\nfpArithmetic(&apos;-&apos;, 0.1, 0.2);\n// -0.1\n\nfpArithmetic(&apos;/&apos;, 0.2, 0.1);\n// 2\n\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"This function will determine the needed precision from the multiplication of two floating point numbers and return a result with the appropriate precision. Elegant though it is not.\n\nfunction multFloats(a,b){\n  var atens = Math.pow(10,String(a).length - String(a).indexOf(&apos;.&apos;) - 1), \n      btens = Math.pow(10,String(b).length - String(b).indexOf(&apos;.&apos;) - 1); \n  return (a * atens) * (b * btens) / (atens * btens); \n}\n\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"You can use parseFloat() and toFixed() if you want to bypass this issue for a small operation:\n\na = 0.1;\nb = 0.2;\n\na + b = 0.30000000000000004;\n\nc = parseFloat((a+b).toFixed(2));\n\nc = 0.3;\n\na = 0.3;\nb = 0.2;\n\na - b = 0.09999999999999998;\n\nc = parseFloat((a-b).toFixed(2));\n\nc = 0.1;\n\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"You just have to make up your mind on how many decimal digits you actually want - can&apos;t have the cake and eat it too :-)\n\nNumerical errors accumulate with every further operation and if you don&apos;t cut it off early it&apos;s just going to grow. Numerical libraries which present results that look clean simply cut off the last 2 digits at every step, numerical co-processors also have a &quot;normal&quot; and &quot;full&quot; lenght for the same reason. Cuf-offs are cheap for a processor but very expensive for you in a script (multiplying and dividing and using pov(...)). Good math lib would provide floor(x,n) to do the cut-off for you.\n\nSo at the very least you should make global var/constant with pov(10,n) - meaning that you decided on the precision you need :-) Then do:\n\nMath.floor(x*PREC_LIM)/PREC_LIM  // floor - you are cutting off, not rounding\n\n\nYou could also keep doing math and only cut-off at the end - assuming that you are only displaying and not doing if-s with results. If you can do that, then .toFixed(...) might be more efficient.\n\nIf you are doing if-s/comparisons and don&apos;t want to cut of then you also need a small constant, usually called eps, which is one decimal place higher than max expected error. Say that your cut-off is last two decimals - then your eps has 1 at the 3rd place from the last (3rd least significant) and you can use it to compare whether the result is within eps range of expected (0.02 -eps &lt; 0.1*0.2 &lt; 0.02 +eps).\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"Notice that for the general purpose use, this behavior is likely to be acceptable.\nThe problem arises when comparing those floating points values to determine an appropriate action.\n   With the advent of ES6, a new constant Number.EPSILON is defined to determine the acceptable error margin :\nSo instead of performing the comparison like this\n\n0.1 + 0.2 === 0.3 // which returns false\n\n\nyou can define a custom compare function, like this :\n\nfunction epsEqu(x, y) {\n    return Math.abs(x - y) &lt; Number.EPSILON;\n}\nconsole.log(epsEqu(0.1+0.2, 0.3)); // true\n\n\nSource : http://2ality.com/2015/04/numbers-math-es6.html#numberepsilon\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"The round() function at phpjs.org works nicely: http://phpjs.org/functions/round \n\nnum = .01 + .06;  // yields 0.0699999999999\nrnum = round(num,12); // yields 0.07\n\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"decimal.js, big.js or bignumber.js can be used to avoid floating-point manipulation problems in Javascript:\n0.1 * 0.2                                // 0.020000000000000004\nx = new Decimal(0.1)\ny = x.times(0.2)                          // &apos;0.2&apos;\nx.times(0.2).equals(0.2)                  // true\n\n\nbig.js: minimalist; easy-to-use; precision specified in decimal places; precision applied to division only.\n\n\nbignumber.js: bases 2-64; configuration options; NaN; Infinity; precision specified in decimal places; precision applied to division only; base prefixes.\n\n\ndecimal.js: bases 2-64; configuration options; NaN; Infinity; non-integer powers, exp, ln, log; precision specified in significant digits; precision always applied; random numbers.\n\nlink to detailed comparisons\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0},{"text":"The result you&apos;ve got is correct and fairly consistent across floating point implementations in different languages, processors and operating systems - the only thing that changes is the level of the inaccuracy when the float is actually a double (or higher).\n\n0.1 in binary floating points is like 1/3 in decimal (i.e. 0.3333333333333... forever), there&apos;s just no accurate way to handle it. \n\nIf you&apos;re dealing with floats always expect small rounding errors, so you&apos;ll also always have to round the displayed result to something sensible. In return you get very very fast and powerful arithmetic because all the computations are in the native binary of the processor.\n\nMost of the time the solution is not to switch to fixed-point arithmetic, mainly because it&apos;s much slower and 99% of the time you just don&apos;t need the accuracy. If you&apos;re dealing with stuff that does need that level of accuracy (for instance financial transactions) Javascript probably isn&apos;t the best tool to use anyway (as you&apos;ve want to enforce the fixed-point types a static language is probably better).\n\nYou&apos;re looking for the elegant solution then I&apos;m afraid this is it: floats are quick but have small rounding errors - always round to something sensible when displaying their results.\n    ","url":"/questions/[slug]#solution15","@type":"Answer","upvoteCount":0},{"text":"0.6 * 3 it&apos;s awesome!))\nFor me this works fine:\n\nfunction dec( num )\n{\n    var p = 100;\n    return Math.round( num * p ) / p;\n}\n\n\nVery very simple))\n    ","url":"/questions/[slug]#solution16","@type":"Answer","upvoteCount":0},{"text":"To avoid this you should work with integer values instead of floating points. So when you want to have 2 positions precision work with the values * 100, for 3 positions use 1000. When displaying you use a formatter to put in the separator.\n\nMany systems omit working with decimals this way. That is the reason why many systems work with cents (as integer) instead of dollars/euro&apos;s (as floating point).\n    ","url":"/questions/[slug]#solution17","@type":"Answer","upvoteCount":0},{"text":"not elegant but does the job (removes trailing zeros)\n\nvar num = 0.1*0.2;\nalert(parseFloat(num.toFixed(10))); // shows 0.02\n\n    ","url":"/questions/[slug]#solution18","@type":"Answer","upvoteCount":0},{"text":"Problem\n\nFloating point can&apos;t store all decimal values exactly. So when using floating point formats there will always be rounding errors on the input values.\nThe errors on the inputs of course results on errors on the output.\nIn case of a discrete function or operator there can be big differences on the output around the point where the function or operator is discrete.\n\nInput and output for floating point values\n\nSo, when using floating point variables, you should always be aware of this. And whatever output you want from a calculation with floating points should always be formatted/conditioned before displaying with this in mind.\nWhen only continuous functions and operators are used, rounding to the desired precision often will do (don&apos;t truncate).  Standard formatting features used to convert floats to string will usually do this for you.\nBecause the rounding adds an error which can cause the total error to be more then half of the desired precision, the output should be corrected based on expected precision of inputs and desired precision of output. You should\n\n\nRound inputs to the expected precision or make sure no values can be entered with higher precision.\nAdd a small value to the outputs before rounding/formatting them which is smaller than or equal to 1/4 of the desired precision and bigger than the maximum expected error caused by rounding errors on input and during calculation. If that is not possible the combination of the precision of the used data type isn&apos;t enough to deliver the desired output precision for your calculation.  \n\n\nThese 2 things are usually not done and in most cases the differences caused by not doing them are too small to be important for most users, but I already had a project where output wasn&apos;t accepted by the users without those corrections.\n\nDiscrete functions or operators (like modula)\n\nWhen discrete operators or functions are involved, extra corrections might be required to make sure the output is as expected. Rounding and adding small corrections before rounding can&apos;t solve the problem.\nA special check/correction on intermediate calculation results, immediately after applying the discrete function or operator might be required.\nFor a specific case (modula operator), see my answer on question: Why does modulus operator return fractional number in javascript?\n\nBetter avoid having the problem\n\nIt is often more efficient to avoid these problems by using data types (integer or fixed point formats) for calculations like this which can store the expected input without rounding errors.\nAn example of that is that you should never use floating point values for financial calculations.\n    ","url":"/questions/[slug]#solution19","@type":"Answer","upvoteCount":0},{"text":"Elegant, Predictable, and  Reusable\n\nLet&apos;s deal with the problem in an elegant way reusable way. The following seven lines will let you access the floating point precision you desire on any number simply by appending .decimal to the end of the number, formula, or built in Math function.\n\n\n\n// First extend the native Number object to handle precision. This populates\n// the functionality to all math operations.\n\nObject.defineProperty(Number.prototype, &quot;decimal&quot;, {\n  get: function decimal() {\n    Number.precision = &quot;precision&quot; in Number ? Number.precision : 3;\n    var f = Math.pow(10, Number.precision);\n    return Math.round( this * f ) / f;\n  }\n});\n\n\n// Now lets see how it works by adjusting our global precision level and \n// checking our results.\n\nconsole.log(&quot;&apos;1/3 + 1/3 + 1/3 = 1&apos; Right?&quot;);\nconsole.log((0.3333 + 0.3333 + 0.3333).decimal == 1); // true\n\nconsole.log(0.3333.decimal); // 0.333 - A raw 4 digit decimal, trimmed to 3...\n\nNumber.precision = 3;\nconsole.log(&quot;Precision: 3&quot;);\nconsole.log((0.8 + 0.2).decimal); // 1\nconsole.log((0.08 + 0.02).decimal); // 0.1\nconsole.log((0.008 + 0.002).decimal); // 0.01\nconsole.log((0.0008 + 0.0002).decimal); // 0.001\n\nNumber.precision = 2;\nconsole.log(&quot;Precision: 2&quot;);\nconsole.log((0.8 + 0.2).decimal); // 1\nconsole.log((0.08 + 0.02).decimal); // 0.1\nconsole.log((0.008 + 0.002).decimal); // 0.01\nconsole.log((0.0008 + 0.0002).decimal); // 0\n\nNumber.precision = 1;\nconsole.log(&quot;Precision: 1&quot;);\nconsole.log((0.8 + 0.2).decimal); // 1\nconsole.log((0.08 + 0.02).decimal); // 0.1\nconsole.log((0.008 + 0.002).decimal); // 0\nconsole.log((0.0008 + 0.0002).decimal); // 0\n\nNumber.precision = 0;\nconsole.log(&quot;Precision: 0&quot;);\nconsole.log((0.8 + 0.2).decimal); // 1\nconsole.log((0.08 + 0.02).decimal); // 0\nconsole.log((0.008 + 0.002).decimal); // 0\nconsole.log((0.0008 + 0.0002).decimal); // 0\n Run code snippetHide resultsExpand snippet\n\n\n\nCheers!\n    ","url":"/questions/[slug]#solution20","@type":"Answer","upvoteCount":0},{"text":"Solved it by first making both numbers integers, executing the expression and afterwards dividing the result to get the decimal places back:\n\nfunction evalMathematicalExpression(a, b, op) {\n    const smallest = String(a &lt; b ? a : b);\n    const factor = smallest.length - smallest.indexOf(&apos;.&apos;);\n\n    for (let i = 0; i &lt; factor; i++) {\n        b *= 10;\n        a *= 10;\n    }\n\n    a = Math.round(a);\n    b = Math.round(b);\n    const m = 10 ** factor;\n    switch (op) {\n        case &apos;+&apos;:\n            return (a + b) / m;\n        case &apos;-&apos;:\n            return (a - b) / m;\n        case &apos;*&apos;:\n            return (a * b) / (m ** 2);\n        case &apos;/&apos;:\n            return a / b;\n    }\n\n    throw `Unknown operator ${op}`;\n}\n\n\n\nResults for several operations (the excluded numbers are results from eval):\n\n0.1 + 0.002   = 0.102 (0.10200000000000001)\n53 + 1000     = 1053 (1053)\n0.1 - 0.3     = -0.2 (-0.19999999999999998)\n53 - -1000    = 1053 (1053)\n0.3 * 0.0003  = 0.00009 (0.00008999999999999999)\n100 * 25      = 2500 (2500)\n0.9 / 0.03    = 30 (30.000000000000004)\n100 / 50      = 2 (2)\n\n    ","url":"/questions/[slug]#solution21","@type":"Answer","upvoteCount":0},{"text":"Have a look at Fixed-point arithmetic. It will probably solve your problem, if the range of numbers you want to operate on is small (eg, currency). I would round it off to a few decimal values, which is the simplest solution. \n    ","url":"/questions/[slug]#solution22","@type":"Answer","upvoteCount":0},{"text":"You can&apos;t represent most decimal fractions exactly with binary floating point types (which is what ECMAScript uses to represent floating point values). So there isn&apos;t an elegant solution unless you use arbitrary precision arithmetic types or a decimal based floating point type. For example, the Calculator app that ships with Windows now uses arbitrary precision arithmetic to solve this problem.\n    ","url":"/questions/[slug]#solution23","@type":"Answer","upvoteCount":0},{"text":"Avoid dealing with floating points during the operation using Integers\n\nAs stated on the most voted answer until now, you can work with integers, that would mean to multiply all your factors by 10 for each decimal you are working with, and divide the result by the same number used.\n\nFor example, if you are working with 2 decimals, you multiply all your factors by 100 before doing the operation, and then divide the result by 100.\n\nHere&apos;s an example, Result1 is the usual result, Result2 uses the solution:\n\n\n\nvar Factor1=&quot;1110.7&quot;;\nvar Factor2=&quot;2220.2&quot;;\nvar Result1=Number(Factor1)+Number(Factor2);\nvar Result2=((Number(Factor1)*100)+(Number(Factor2)*100))/100;\nvar Result3=(Number(parseFloat(Number(Factor1))+parseFloat(Number(Factor2))).toPrecision(2));\ndocument.write(&quot;Result1: &quot;+Result1+&quot;&lt;br&gt;Result2: &quot;+Result2+&quot;&lt;br&gt;Result3: &quot;+Result3);\n Run code snippetHide resultsExpand snippet\n\n\n\nThe third result is to show what happens when using parseFloat instead, which created a conflict in our case.\n    ","url":"/questions/[slug]#solution24","@type":"Answer","upvoteCount":0},{"text":"From my point of view, the idea here is to round the fp number in order to have a nice/short default string representation.\n\n\n  The 53-bit significand precision gives from 15 to 17 significant decimal digits precision (253  1.11 Ã— 1016).\n  If a decimal string with at most 15 significant digits is converted to IEEE 754 double-precision representation,\n  and then converted back to a decimal string with the same number of digits, the final result should match the original string.\n  If an IEEE 754 double-precision number is converted to a decimal string with at least 17 significant digits,\n  and then converted back to double-precision representation, the final result must match the original number.\n  ...\n  With the 52 bits of the fraction (F) significand appearing in the memory format, the total precision is therefore 53 bits (approximately 16 decimal digits, 53 log10(2)  15.955). The bits are laid out as follows ... wikipedia\n\n\n(0.1).toPrecision(100) -&gt;\n0.1000000000000000055511151231257827021181583404541015625000000000000000000000000000000000000000000000\n\n(0.1+0.2).toPrecision(100) -&gt;\n0.3000000000000000444089209850062616169452667236328125000000000000000000000000000000000000000000000000\n\n\nThen, as far as I understand, we can round the value up to 15 digits to keep a nice string representation.\n\n10**Math.floor(53 * Math.log10(2)) // 1e15\n\n\neg.\n\nMath.round((0.2+0.1) * 1e15 ) / 1e15\n0.3\n\n\n(Math.round((0.2+0.1) * 1e15 ) / 1e15).toPrecision(100)\n0.2999999999999999888977697537484345957636833190917968750000000000000000000000000000000000000000000000\n\n\nThe function would be:\n\nfunction roundNumberToHaveANiceDefaultStringRepresentation(num) {\n\n    const integerDigits = Math.floor(Math.log10(Math.abs(num))+1);\n    const mult = 10**(15-integerDigits); // also consider integer digits\n    return Math.round(num * mult) / mult;\n}\n\n    ","url":"/questions/[slug]#solution25","@type":"Answer","upvoteCount":0},{"text":"You are right, the reason for that is limited precision of floating point numbers. Store your rational numbers as a division of two integer numbers and in most situations you&apos;ll be able to store numbers without any precision loss. When it comes to printing, you may want to display the result as fraction. With representation I proposed, it becomes trivial.\n\nOf course that won&apos;t help much with irrational numbers. But you may want to optimize your computations in the way they will cause the least problem (e.g. detecting situations like sqrt(3)^2).\n    ","url":"/questions/[slug]#solution26","@type":"Answer","upvoteCount":0},{"text":"I had a nasty rounding error problem with mod 3. Sometimes when I should get 0 I would get .000...01. That&apos;s easy enough to handle, just test for &lt;= .01. But then sometimes I would get 2.99999999999998. OUCH!\n\nBigNumbers solved the problem, but introduced another, somewhat ironic, problem. When trying to load 8.5 into BigNumbers I was informed that it was really 8.4999 and had more than 15 significant digits. This meant BigNumbers could not accept it (I believe I mentioned this problem was somewhat ironic).\n\nSimple solution to ironic problem:\n\nx = Math.round(x*100);\n// I only need 2 decimal places, if i needed 3 I would use 1,000, etc.\nx = x / 100;\nxB = new BigNumber(x);\n\n    ","url":"/questions/[slug]#solution27","@type":"Answer","upvoteCount":0},{"text":"    \n\n\n\n    You can use library https://github.com/MikeMcl/decimal.js/. \n    it will   help  lot to give proper solution. \n    javascript console output 95 *722228.630 /100 = 686117.1984999999\n    decimal library implementation \n    var firstNumber = new Decimal(95);\n    var secondNumber = new Decimal(722228.630);\n    var thirdNumber = new Decimal(100);\n    var partialOutput = firstNumber.times(secondNumber);\n    console.log(partialOutput);\n    var output = new Decimal(partialOutput).div(thirdNumber);\n    alert(output.valueOf());\n    console.log(output.valueOf())== 686117.1985\n\n    ","url":"/questions/[slug]#solution28","@type":"Answer","upvoteCount":0},{"text":"Try my chiliadic arithmetic library, which you can see here.\nIf you want a later version, I can get you one.\n    ","url":"/questions/[slug]#solution29","@type":"Answer","upvoteCount":0},{"text":"Use Number(1.234443).toFixed(2); it will print 1.23\n\nfunction test(){\n    var x = 0.1 * 0.2;\n    document.write(Number(x).toFixed(2));\n}\ntest();\n\n    ","url":"/questions/[slug]#solution30","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="22"/><link rel="preload" href="/_next/static/css/c116652e2d6f4ad0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c116652e2d6f4ad0.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c0d2dcb5e85faf18.js" defer=""></script><script src="/_next/static/chunks/294-106ef8570fa99deb.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-50e201fdaa1e0fd1.js" defer=""></script><script src="/_next/static/DSpI0pSdXueTMCIVyw0q4/_buildManifest.js" defer=""></script><script src="/_next/static/DSpI0pSdXueTMCIVyw0q4/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h1 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h1></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-to-deal-with-floating-point-number-precision-in-javascript-1657387293762#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-to-deal-with-floating-point-number-precision-in-javascript-1657387293762"><h1>How to deal with floating point number precision in JavaScript?</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"></div></div><div class="question-content mt-5">
                
<p>I have the following dummy test script:</p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">var</span> x = <span class="hljs-number">0.1</span> * <span class="hljs-number">0.2</span>;
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">write</span>(x);
}
<span class="hljs-title function_">test</span>();</code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif1" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>

<p>This will print the result <code>0.020000000000000004</code> while it should just print <code>0.02</code> (if you use your calculator). As far as I understood this is due to errors in the floating point multiplication precision.</p>

<p>Does anyone have a good solution so that in such case I get the correct result <code>0.02</code>? I know there are functions like <code>toFixed</code> or rounding would be another possibility, but I'd like to really have the whole number printed without any cutting and rounding. Just wanted to know if one of you has some nice, elegant solution.</p>

<p>Of course, otherwise I'll round to some 10 digits or so.</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><h1 class="text-lg font-semibold mb-5">Navigate to solutions: </h1><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li><li class="pagination-solution-item"><span data-id="#solution17" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">17</span></li><li class="pagination-solution-item"><span data-id="#solution18" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">18</span></li><li class="pagination-solution-item"><span data-id="#solution19" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">19</span></li><li class="pagination-solution-item"><span data-id="#solution20" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">20</span></li><li class="pagination-solution-item"><span data-id="#solution21" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">21</span></li><li class="pagination-solution-item"><span data-id="#solution22" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">22</span></li><li class="pagination-solution-item"><span data-id="#solution23" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">23</span></li><li class="pagination-solution-item"><span data-id="#solution24" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">24</span></li><li class="pagination-solution-item"><span data-id="#solution25" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">25</span></li><li class="pagination-solution-item"><span data-id="#solution26" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">26</span></li><li class="pagination-solution-item"><span data-id="#solution27" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">27</span></li><li class="pagination-solution-item"><span data-id="#solution28" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">28</span></li><li class="pagination-solution-item"><span data-id="#solution29" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">29</span></li><li class="pagination-solution-item"><span data-id="#solution30" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">30</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 1</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>From the <a href="http://floating-point-gui.de/" rel="noreferrer">Floating-Point Guide</a>:</p>
<blockquote>
<p><strong>What can I do to avoid this problem?</strong></p>
<p>That depends on what kind of
calculations youre doing.</p>
<ul>
<li>If you really need your results to add up exactly, especially when you
work with money: use a special decimal
datatype.</li>
<li>If you just dont want to see all those extra decimal places: simply
format your result rounded to a fixed
number of decimal places when
displaying it.</li>
<li>If you have no decimal datatype available, an alternative is to work
with integers, e.g. do money
calculations entirely in cents. But
this is more work and has some
drawbacks.</li>
</ul>
</blockquote>
<p>Note that the first point only applies if you really need specific precise <em>decimal</em> behaviour. Most people don't need that, they're just irritated that their programs don't work correctly with numbers like 1/10 without realizing that they wouldn't even blink at the same error if it occurred with 1/3.</p>
<p>If the first point really applies to you, use <a href="https://github.com/royNiladri/js-big-decimal" rel="noreferrer">BigDecimal for JavaScript</a>, which is not elegant at all, but actually solves the problem rather than providing an imperfect workaround.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 2</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I like Pedro Ladaria's solution and use something similar.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">strip</span>(<span class="hljs-params">number</span>) {
    <span class="hljs-keyword">return</span> (<span class="hljs-built_in">parseFloat</span>(number).<span class="hljs-title function_">toPrecision</span>(<span class="hljs-number">12</span>));
}
</code></pre>

<p>Unlike Pedros solution this will round up 0.999...repeating and is accurate to plus/minus one on the least significant digit.</p>

<p>Note: When dealing with 32 or 64 bit floats, you should use toPrecision(7) and toPrecision(15) for best results.  See <a href="https://stackoverflow.com/questions/28045787/how-many-decimal-places-does-the-primitive-float-and-double-support">this question</a> for info as to why.</p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 3</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>For the mathematically inclined: <a href="http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html">http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html</a></p>

<p>The recommended approach is to use correction factors (multiply by a suitable power of 10 so that the arithmetic happens between integers).  For example, in the case of <code>0.1 * 0.2</code>, the correction factor is <code>10</code>, and you are performing the calculation:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">&gt; <span class="hljs-keyword">var</span> x = <span class="hljs-number">0.1</span>
&gt; <span class="hljs-keyword">var</span> y = <span class="hljs-number">0.2</span>
&gt; <span class="hljs-keyword">var</span> cf = <span class="hljs-number">10</span>
&gt; x * y
<span class="hljs-number">0.020000000000000004</span>
&gt; (x * cf) * (y * cf) / (cf * cf)
<span class="hljs-number">0.02</span>
</code></pre>

<p>A (very quick) solution looks something like:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> _cf = (<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">_shift</span>(<span class="hljs-params">x</span>) {
    <span class="hljs-keyword">var</span> parts = x.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">'.'</span>);
    <span class="hljs-keyword">return</span> (parts.<span class="hljs-property">length</span> &lt; <span class="hljs-number">2</span>) ? <span class="hljs-number">1</span> : <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">10</span>, parts[<span class="hljs-number">1</span>].<span class="hljs-property">length</span>);
  }
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) { 
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">reduce</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">arguments</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">prev, next</span>) { <span class="hljs-keyword">return</span> prev === <span class="hljs-literal">undefined</span> || next === <span class="hljs-literal">undefined</span> ? <span class="hljs-literal">undefined</span> : <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(prev, _shift (next)); }, -<span class="hljs-title class_">Infinity</span>);
  };
})();

<span class="hljs-title class_">Math</span>.<span class="hljs-property">a</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
  <span class="hljs-keyword">var</span> f = _cf.<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, <span class="hljs-variable language_">arguments</span>); <span class="hljs-keyword">if</span>(f === <span class="hljs-literal">undefined</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">cb</span>(<span class="hljs-params">x, y, i, o</span>) { <span class="hljs-keyword">return</span> x + f * y; }
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">reduce</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">arguments</span>, cb, <span class="hljs-number">0</span>) / f;
};

<span class="hljs-title class_">Math</span>.<span class="hljs-property">s</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">l,r</span>) { <span class="hljs-keyword">var</span> f = <span class="hljs-title function_">_cf</span>(l,r); <span class="hljs-keyword">return</span> (l * f - r * f) / f; };

<span class="hljs-title class_">Math</span>.<span class="hljs-property">m</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
  <span class="hljs-keyword">var</span> f = _cf.<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, <span class="hljs-variable language_">arguments</span>);
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">cb</span>(<span class="hljs-params">x, y, i, o</span>) { <span class="hljs-keyword">return</span> (x*f) * (y*f) / (f * f); }
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">reduce</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">arguments</span>, cb, <span class="hljs-number">1</span>);
};

<span class="hljs-title class_">Math</span>.<span class="hljs-property">d</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">l,r</span>) { <span class="hljs-keyword">var</span> f = <span class="hljs-title function_">_cf</span>(l,r); <span class="hljs-keyword">return</span> (l * f) / (r * f); };
</code></pre>

<p>In this case:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">&gt; <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">m</span>(<span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>)
<span class="hljs-number">0.02</span>
</code></pre>

<p>I definitely recommend using a tested library like <a href="https://github.com/guipn/sinful.js/blob/master/sinful.js">SinfulJS</a></p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 4</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Are you only performing multiplication?  If so then you can use to your advantage a neat secret about decimal arithmetic.  That is that <code>NumberOfDecimals(X) + NumberOfDecimals(Y) = ExpectedNumberOfDecimals</code>. That is to say that if we have <code>0.123 * 0.12</code> then we know that there will be 5 decimal places because <code>0.123</code> has 3 decimal places and <code>0.12</code> has two. Thus if JavaScript gave us a number like <code>0.014760000002</code> we can safely round to the 5th decimal place without fear of losing precision.</p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 5</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Surprisingly, this function has not been posted yet although others have similar variations of it. It is from the MDN web docs for <code>Math.round()</code>.
It's concise and allows for varying precision.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">precisionRound</span>(<span class="hljs-params">number, precision</span>) {
    <span class="hljs-keyword">var</span> factor = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">10</span>, precision);
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(number * factor) / factor;
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">precisionRound</span>(<span class="hljs-number">1234.5678</span>, <span class="hljs-number">1</span>));
<span class="hljs-comment">// expected output: 1234.6</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">precisionRound</span>(<span class="hljs-number">1234.5678</span>, -<span class="hljs-number">1</span>));
<span class="hljs-comment">// expected output: 1230</span>
</code></pre>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> inp = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'input'</span>);
<span class="hljs-keyword">var</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'button'</span>);

btn.<span class="hljs-property">onclick</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>){
  inp[<span class="hljs-number">2</span>].<span class="hljs-property">value</span> = <span class="hljs-title function_">precisionRound</span>( <span class="hljs-built_in">parseFloat</span>(inp[<span class="hljs-number">0</span>].<span class="hljs-property">value</span>) * <span class="hljs-built_in">parseFloat</span>(inp[<span class="hljs-number">1</span>].<span class="hljs-property">value</span>) , <span class="hljs-number">5</span> );
};

<span class="hljs-comment">//MDN function</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">precisionRound</span>(<span class="hljs-params">number, precision</span>) {
  <span class="hljs-keyword">var</span> factor = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">10</span>, precision);
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(number * factor) / factor;
}</code></pre>
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-tag">button</span>{
<span class="hljs-attribute">display</span>: block;
}</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'text'</span> <span class="hljs-attr">value</span>=<span class="hljs-string">'0.1'</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'text'</span> <span class="hljs-attr">value</span>=<span class="hljs-string">'0.2'</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>Get Product<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'text'</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif2" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p><strong>UPDATE: Aug/20/2019</strong></p>
<p>Just noticed this error. I believe it's due to a floating point precision error with <code>Math.round()</code>.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">precisionRound</span>(<span class="hljs-number">1.005</span>, <span class="hljs-number">2</span>) <span class="hljs-comment">// produces 1, incorrect, should be 1.01</span>
</code></pre>
<p>These conditions work correctly:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">precisionRound</span>(<span class="hljs-number">0.005</span>, <span class="hljs-number">2</span>) <span class="hljs-comment">// produces 0.01</span>
<span class="hljs-title function_">precisionRound</span>(<span class="hljs-number">1.0005</span>, <span class="hljs-number">3</span>) <span class="hljs-comment">// produces 1.001</span>
<span class="hljs-title function_">precisionRound</span>(<span class="hljs-number">1234.5</span>, <span class="hljs-number">0</span>) <span class="hljs-comment">// produces 1235</span>
<span class="hljs-title function_">precisionRound</span>(<span class="hljs-number">1234.5</span>, -<span class="hljs-number">1</span>) <span class="hljs-comment">// produces 1230</span>
</code></pre>
<p>Fix:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">precisionRoundMod</span>(<span class="hljs-params">number, precision</span>) {
  <span class="hljs-keyword">var</span> factor = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">10</span>, precision);
  <span class="hljs-keyword">var</span> n = precision &lt; <span class="hljs-number">0</span> ? number : <span class="hljs-number">0.01</span> / factor + number;
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>( n * factor) / factor;
}
</code></pre>
<p>This just adds a digit to the right when rounding decimals.
MDN has updated the <code>Math.round()</code> page so maybe someone could provide a better solution.</p>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 6</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I'm finding <a href="https://github.com/MikeMcl/bignumber.js/" rel="noreferrer">BigNumber.js</a> meets my needs.</p>

<blockquote>
  <blockquote>
    <p>A JavaScript library for arbitrary-precision decimal and non-decimal arithmetic.</p>
  </blockquote>
</blockquote>

<p>It has good <a href="http://mikemcl.github.io/bignumber.js/" rel="noreferrer">documentation</a> and the author is very diligent responding to feedback.</p>

<p>The same author has 2 other similar libraries:</p>

<p><a href="https://github.com/MikeMcl/big.js/" rel="noreferrer">Big.js</a></p>

<blockquote>
  <blockquote>
    <p>A small, fast JavaScript library for arbitrary-precision decimal arithmetic. The little sister to bignumber.js.</p>
  </blockquote>
</blockquote>

<p>and <a href="https://github.com/MikeMcl/decimal.js/" rel="noreferrer">Decimal.js</a></p>

<blockquote>
  <blockquote>
    <p>An arbitrary-precision Decimal type for JavaScript.</p>
  </blockquote>
</blockquote>

<p>Here's some code using BigNumber:</p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript">$(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>){

  
  <span class="hljs-keyword">var</span> product = <span class="hljs-title class_">BigNumber</span>(<span class="hljs-number">.1</span>).<span class="hljs-title function_">times</span>(<span class="hljs-number">.2</span>);  
  $(<span class="hljs-string">'#product'</span>).<span class="hljs-title function_">text</span>(product);

  <span class="hljs-keyword">var</span> sum = <span class="hljs-title class_">BigNumber</span>(<span class="hljs-number">.1</span>).<span class="hljs-title function_">plus</span>(<span class="hljs-number">.2</span>);  
  $(<span class="hljs-string">'#sum'</span>).<span class="hljs-title function_">text</span>(sum);


});</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-comment">&lt;!-- 1.4.1 is not the current version, but works for this example. --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"http://cdn.bootcss.com/bignumber.js/1.4.1/bignumber.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

.1 <span class="hljs-symbol">&amp;times;</span> .2 = <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"product"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
.1 <span class="hljs-symbol">&amp;plus;</span> .2 = <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sum"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif3" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 7</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You are looking for an <code>sprintf</code> implementation for JavaScript, so that you can write out floats with small errors in them (since they are stored in binary format) in a format that you expect.</p>

<p>Try <a href="http://www.diveintojavascript.com/projects/javascript-sprintf" rel="noreferrer">javascript-sprintf</a>, you would call it like this:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> yourString = <span class="hljs-title function_">sprintf</span>(<span class="hljs-string">"%.2f"</span>, yourNumber);
</code></pre>

<p>to print out your number as a float with two decimal places.</p>

<p>You may also use  <a href="http://www.w3schools.com/jsref/jsref_tofixed.asp" rel="noreferrer">Number.toFixed()</a>  for display purposes, if you'd rather not include  more files merely for floating point rounding to a given precision.  </p>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 8</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> times = <span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>((a * b) * <span class="hljs-number">100</span>)/<span class="hljs-number">100</span>;
};
</code></pre>

<p>---or---</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> fpFix = <span class="hljs-keyword">function</span> (<span class="hljs-params">n</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(n * <span class="hljs-number">100</span>)/<span class="hljs-number">100</span>;
};

<span class="hljs-title function_">fpFix</span>(<span class="hljs-number">0.1</span>*<span class="hljs-number">0.2</span>); <span class="hljs-comment">// -&gt; 0.02</span>
</code></pre>

<p>---also---</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> fpArithmetic = <span class="hljs-keyword">function</span> (<span class="hljs-params">op, x, y</span>) {
    <span class="hljs-keyword">var</span> n = {
            <span class="hljs-string">'*'</span>: x * y,
            <span class="hljs-string">'-'</span>: x - y,
            <span class="hljs-string">'+'</span>: x + y,
            <span class="hljs-string">'/'</span>: x / y
        }[op];        

    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(n * <span class="hljs-number">100</span>)/<span class="hljs-number">100</span>;
};
</code></pre>

<p>--- as in ---</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">fpArithmetic</span>(<span class="hljs-string">'*'</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>);
<span class="hljs-comment">// 0.02</span>

<span class="hljs-title function_">fpArithmetic</span>(<span class="hljs-string">'+'</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>);
<span class="hljs-comment">// 0.3</span>

<span class="hljs-title function_">fpArithmetic</span>(<span class="hljs-string">'-'</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>);
<span class="hljs-comment">// -0.1</span>

<span class="hljs-title function_">fpArithmetic</span>(<span class="hljs-string">'/'</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.1</span>);
<span class="hljs-comment">// 2</span>
</code></pre>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 9</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This function will determine the needed precision from the multiplication of two floating point numbers and return a result with the appropriate precision. Elegant though it is not.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">multFloats</span>(<span class="hljs-params">a,b</span>){
  <span class="hljs-keyword">var</span> atens = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">10</span>,<span class="hljs-title class_">String</span>(a).<span class="hljs-property">length</span> - <span class="hljs-title class_">String</span>(a).<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'.'</span>) - <span class="hljs-number">1</span>), 
      btens = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">10</span>,<span class="hljs-title class_">String</span>(b).<span class="hljs-property">length</span> - <span class="hljs-title class_">String</span>(b).<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'.'</span>) - <span class="hljs-number">1</span>); 
  <span class="hljs-keyword">return</span> (a * atens) * (b * btens) / (atens * btens); 
}
</code></pre>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 10</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can use <code>parseFloat()</code> and <code>toFixed()</code> if you want to bypass this issue for a small operation:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">a = <span class="hljs-number">0.1</span>;
b = <span class="hljs-number">0.2</span>;

a + b = <span class="hljs-number">0.30000000000000004</span>;

c = <span class="hljs-built_in">parseFloat</span>((a+b).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>));

c = <span class="hljs-number">0.3</span>;

a = <span class="hljs-number">0.3</span>;
b = <span class="hljs-number">0.2</span>;

a - b = <span class="hljs-number">0.09999999999999998</span>;

c = <span class="hljs-built_in">parseFloat</span>((a-b).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>));

c = <span class="hljs-number">0.1</span>;
</code></pre>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 11</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You just have to make up your mind on how many decimal digits you actually want - can't have the cake and eat it too :-)</p>

<p>Numerical errors accumulate with every further operation and if you don't cut it off early it's just going to grow. Numerical libraries which present results that look clean simply cut off the last 2 digits at every step, numerical co-processors also have a "normal" and "full" lenght for the same reason. Cuf-offs are cheap for a processor but very expensive for you in a script (multiplying and dividing and using pov(...)). Good math lib would provide floor(x,n) to do the cut-off for you.</p>

<p>So at the very least you should make global var/constant with pov(10,n) - meaning that you decided on the precision you need :-) Then do:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(x*<span class="hljs-variable constant_">PREC_LIM</span>)/<span class="hljs-variable constant_">PREC_LIM</span>  <span class="hljs-comment">// floor - you are cutting off, not rounding</span>
</code></pre>

<p>You could also keep doing math and only cut-off at the end - assuming that you are only displaying and not doing if-s with results. If you can do that, then .toFixed(...) might be more efficient.</p>

<p>If you are doing if-s/comparisons and don't want to cut of then you also need a small constant, usually called eps, which is one decimal place higher than max expected error. Say that your cut-off is last two decimals - then your eps has 1 at the 3rd place from the last (3rd least significant) and you can use it to compare whether the result is within eps range of expected (0.02 -eps &lt; 0.1*0.2 &lt; 0.02 +eps).</p>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 12</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Notice that for the general purpose use, this behavior is likely to be acceptable.<br>
The problem arises when comparing those floating points values to determine an appropriate action.<br>
   With the advent of ES6, a new constant <code>Number.EPSILON</code> is defined to determine the acceptable error margin :<br>
So instead of performing the comparison like this</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span> === <span class="hljs-number">0.3</span> <span class="hljs-comment">// which returns false</span>
</code></pre>

<p>you can define a custom compare function, like this :</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">epsEqu</span>(<span class="hljs-params">x, y</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(x - y) &lt; <span class="hljs-title class_">Number</span>.<span class="hljs-property">EPSILON</span>;
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">epsEqu</span>(<span class="hljs-number">0.1</span>+<span class="hljs-number">0.2</span>, <span class="hljs-number">0.3</span>)); <span class="hljs-comment">// true</span>
</code></pre>

<p>Source : <a href="http://2ality.com/2015/04/numbers-math-es6.html#numberepsilon" rel="noreferrer">http://2ality.com/2015/04/numbers-math-es6.html#numberepsilon</a></p>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 13</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The round() function at phpjs.org works nicely: <a href="http://phpjs.org/functions/round">http://phpjs.org/functions/round</a> </p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">num = <span class="hljs-number">.01</span> + <span class="hljs-number">.06</span>;  <span class="hljs-comment">// yields 0.0699999999999</span>
rnum = <span class="hljs-title function_">round</span>(num,<span class="hljs-number">12</span>); <span class="hljs-comment">// yields 0.07</span>
</code></pre>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 14</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><a href="https://mikemcl.github.io/decimal.js/" rel="nofollow noreferrer">decimal.js</a>, <a href="https://mikemcl.github.io/big.js/" rel="nofollow noreferrer">big.js</a> or <a href="https://mikemcl.github.io/bignumber.js/" rel="nofollow noreferrer">bignumber.js</a> can be used to avoid floating-point manipulation problems in Javascript:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-number">0.1</span> * <span class="hljs-number">0.2</span>                                <span class="hljs-comment">// 0.020000000000000004</span>
x = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Decimal</span>(<span class="hljs-number">0.1</span>)
y = x.<span class="hljs-title function_">times</span>(<span class="hljs-number">0.2</span>)                          <span class="hljs-comment">// '0.2'</span>
x.<span class="hljs-title function_">times</span>(<span class="hljs-number">0.2</span>).<span class="hljs-title function_">equals</span>(<span class="hljs-number">0.2</span>)                  <span class="hljs-comment">// true</span>
</code></pre>
<blockquote>
<p>big.js: minimalist; easy-to-use; precision specified in decimal places; precision applied to division only.</p>
</blockquote>
<blockquote>
<p>bignumber.js: bases 2-64; configuration options; NaN; Infinity; precision specified in decimal places; precision applied to division only; base prefixes.</p>
</blockquote>
<blockquote>
<p>decimal.js: bases 2-64; configuration options; NaN; Infinity; non-integer powers, exp, ln, log; precision specified in significant digits; precision always applied; random numbers.</p>
</blockquote>
<p><a href="https://github.com/MikeMcl/big.js/issues/45#issuecomment-104211175" rel="nofollow noreferrer">link to detailed comparisons</a></p>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 15</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The result you've got is correct and fairly consistent across floating point implementations in different languages, processors and operating systems - the only thing that changes is the level of the inaccuracy when the float is actually a double (or higher).</p>

<p>0.1 in binary floating points is like 1/3 in decimal (i.e. 0.3333333333333... forever), there's just no accurate way to handle it. </p>

<p>If you're dealing with floats <em>always</em> expect small rounding errors, so you'll also always have to round the displayed result to something sensible. In return you get very very fast and powerful arithmetic because all the computations are in the native binary of the processor.</p>

<p>Most of the time the solution is not to switch to fixed-point arithmetic, mainly because it's much slower and 99% of the time you just don't need the accuracy. If you're dealing with stuff that does need that level of accuracy (for instance financial transactions) Javascript probably isn't the best tool to use anyway (as you've want to enforce the fixed-point types a static language is probably better).</p>

<p>You're looking for the elegant solution then I'm afraid this is it: floats are quick but have small rounding errors - always round to something sensible when displaying their results.</p>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 16</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>0.6 * 3 it's awesome!))
For me this works fine:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">dec</span>(<span class="hljs-params"> num </span>)
{
    <span class="hljs-keyword">var</span> p = <span class="hljs-number">100</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>( num * p ) / p;
}
</code></pre>

<p>Very very simple))</p>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 17</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>To avoid this you should work with integer values instead of floating points. So when you want to have 2 positions precision work with the values * 100, for 3 positions use 1000. When displaying you use a formatter to put in the separator.</p>

<p>Many systems omit working with decimals this way. That is the reason why many systems work with cents (as integer) instead of dollars/euro's (as floating point).</p>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 18</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>not elegant but does the job (removes trailing zeros)</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> num = <span class="hljs-number">0.1</span>*<span class="hljs-number">0.2</span>;
<span class="hljs-title function_">alert</span>(<span class="hljs-built_in">parseFloat</span>(num.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">10</span>))); <span class="hljs-comment">// shows 0.02</span>
</code></pre>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 19</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>Problem</strong></p>

<p>Floating point can't store all decimal values exactly. So when using floating point formats there will always be rounding errors on the input values.
The errors on the inputs of course results on errors on the output.
In case of a discrete function or operator there can be big differences on the output around the point where the function or operator is discrete.</p>

<p><strong>Input and output for floating point values</strong></p>

<p>So, when using floating point variables, you should always be aware of this. And whatever output you want from a calculation with floating points should always be formatted/conditioned before displaying with this in mind.<br>
When only continuous functions and operators are used, rounding to the desired precision often will do (don't truncate).  Standard formatting features used to convert floats to string will usually do this for you.<br>
Because the rounding adds an error which can cause the total error to be more then half of the desired precision, the output should be corrected based on expected precision of inputs and desired precision of output. You should</p>

<ul>
<li>Round inputs to the expected precision or make sure no values can be entered with higher precision.</li>
<li>Add a small value to the outputs before rounding/formatting them which is smaller than or equal to 1/4 of the desired precision and bigger than the maximum expected error caused by rounding errors on input and during calculation. If that is not possible the combination of the precision of the used data type isn't enough to deliver the desired output precision for your calculation.  </li>
</ul>

<p>These 2 things are usually not done and in most cases the differences caused by not doing them are too small to be important for most users, but I already had a project where output wasn't accepted by the users without those corrections.</p>

<p><strong>Discrete functions or operators (like modula)</strong></p>

<p>When discrete operators or functions are involved, extra corrections might be required to make sure the output is as expected. Rounding and adding small corrections before rounding can't solve the problem.<br>
A special check/correction on intermediate calculation results, immediately after applying the discrete function or operator might be required.
For a specific case (modula operator), see my answer on question: <a href="https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/45346570#45346570">Why does modulus operator return fractional number in javascript?</a></p>

<p><strong>Better avoid having the problem</strong></p>

<p>It is often more efficient to avoid these problems by using data types (integer or fixed point formats) for calculations like this which can store the expected input without rounding errors.
An example of that is that you should never use floating point values for financial calculations.</p>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 20</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>Elegant, Predictable, and  Reusable</h2>

<p>Let's deal with the problem in an elegant way reusable way. The following seven lines will let you access the floating point precision you desire on any number simply by appending <code>.decimal</code> to the end of the number, formula, or built in <code>Math</code> function.</p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-comment">// First extend the native Number object to handle precision. This populates</span>
<span class="hljs-comment">// the functionality to all math operations.</span>

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-title class_">Number</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, <span class="hljs-string">"decimal"</span>, {
  <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span> <span class="hljs-title function_">decimal</span>(<span class="hljs-params"></span>) {
    <span class="hljs-title class_">Number</span>.<span class="hljs-property">precision</span> = <span class="hljs-string">"precision"</span> <span class="hljs-keyword">in</span> <span class="hljs-title class_">Number</span> ? <span class="hljs-title class_">Number</span>.<span class="hljs-property">precision</span> : <span class="hljs-number">3</span>;
    <span class="hljs-keyword">var</span> f = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">10</span>, <span class="hljs-title class_">Number</span>.<span class="hljs-property">precision</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>( <span class="hljs-variable language_">this</span> * f ) / f;
  }
});


<span class="hljs-comment">// Now lets see how it works by adjusting our global precision level and </span>
<span class="hljs-comment">// checking our results.</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"'1/3 + 1/3 + 1/3 = 1' Right?"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-number">0.3333</span> + <span class="hljs-number">0.3333</span> + <span class="hljs-number">0.3333</span>).<span class="hljs-property">decimal</span> == <span class="hljs-number">1</span>); <span class="hljs-comment">// true</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">0.3333</span>.<span class="hljs-property">decimal</span>); <span class="hljs-comment">// 0.333 - A raw 4 digit decimal, trimmed to 3...</span>

<span class="hljs-title class_">Number</span>.<span class="hljs-property">precision</span> = <span class="hljs-number">3</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Precision: 3"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-number">0.8</span> + <span class="hljs-number">0.2</span>).<span class="hljs-property">decimal</span>); <span class="hljs-comment">// 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-number">0.08</span> + <span class="hljs-number">0.02</span>).<span class="hljs-property">decimal</span>); <span class="hljs-comment">// 0.1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-number">0.008</span> + <span class="hljs-number">0.002</span>).<span class="hljs-property">decimal</span>); <span class="hljs-comment">// 0.01</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-number">0.0008</span> + <span class="hljs-number">0.0002</span>).<span class="hljs-property">decimal</span>); <span class="hljs-comment">// 0.001</span>

<span class="hljs-title class_">Number</span>.<span class="hljs-property">precision</span> = <span class="hljs-number">2</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Precision: 2"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-number">0.8</span> + <span class="hljs-number">0.2</span>).<span class="hljs-property">decimal</span>); <span class="hljs-comment">// 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-number">0.08</span> + <span class="hljs-number">0.02</span>).<span class="hljs-property">decimal</span>); <span class="hljs-comment">// 0.1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-number">0.008</span> + <span class="hljs-number">0.002</span>).<span class="hljs-property">decimal</span>); <span class="hljs-comment">// 0.01</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-number">0.0008</span> + <span class="hljs-number">0.0002</span>).<span class="hljs-property">decimal</span>); <span class="hljs-comment">// 0</span>

<span class="hljs-title class_">Number</span>.<span class="hljs-property">precision</span> = <span class="hljs-number">1</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Precision: 1"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-number">0.8</span> + <span class="hljs-number">0.2</span>).<span class="hljs-property">decimal</span>); <span class="hljs-comment">// 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-number">0.08</span> + <span class="hljs-number">0.02</span>).<span class="hljs-property">decimal</span>); <span class="hljs-comment">// 0.1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-number">0.008</span> + <span class="hljs-number">0.002</span>).<span class="hljs-property">decimal</span>); <span class="hljs-comment">// 0</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-number">0.0008</span> + <span class="hljs-number">0.0002</span>).<span class="hljs-property">decimal</span>); <span class="hljs-comment">// 0</span>

<span class="hljs-title class_">Number</span>.<span class="hljs-property">precision</span> = <span class="hljs-number">0</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Precision: 0"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-number">0.8</span> + <span class="hljs-number">0.2</span>).<span class="hljs-property">decimal</span>); <span class="hljs-comment">// 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-number">0.08</span> + <span class="hljs-number">0.02</span>).<span class="hljs-property">decimal</span>); <span class="hljs-comment">// 0</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-number">0.008</span> + <span class="hljs-number">0.002</span>).<span class="hljs-property">decimal</span>); <span class="hljs-comment">// 0</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-number">0.0008</span> + <span class="hljs-number">0.0002</span>).<span class="hljs-property">decimal</span>); <span class="hljs-comment">// 0</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif4" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>

<p><strong><em>Cheers!</em></strong></p>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 21</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Solved it by first making both numbers integers, executing the expression and afterwards dividing the result to get the decimal places back:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">evalMathematicalExpression</span>(<span class="hljs-params">a, b, op</span>) {
    <span class="hljs-keyword">const</span> smallest = <span class="hljs-title class_">String</span>(a &lt; b ? a : b);
    <span class="hljs-keyword">const</span> factor = smallest.<span class="hljs-property">length</span> - smallest.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'.'</span>);

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; factor; i++) {
        b *= <span class="hljs-number">10</span>;
        a *= <span class="hljs-number">10</span>;
    }

    a = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(a);
    b = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(b);
    <span class="hljs-keyword">const</span> m = <span class="hljs-number">10</span> ** factor;
    <span class="hljs-keyword">switch</span> (op) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'+'</span>:
            <span class="hljs-keyword">return</span> (a + b) / m;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'-'</span>:
            <span class="hljs-keyword">return</span> (a - b) / m;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'*'</span>:
            <span class="hljs-keyword">return</span> (a * b) / (m ** <span class="hljs-number">2</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-string">'/'</span>:
            <span class="hljs-keyword">return</span> a / b;
    }

    <span class="hljs-keyword">throw</span> <span class="hljs-string">`Unknown operator <span class="hljs-subst">${op}</span>`</span>;
}

</code></pre>

<p>Results for several operations (the excluded numbers are results from <code>eval</code>):</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-number">0.1</span> + <span class="hljs-number">0.002</span>   = <span class="hljs-number">0.102</span> (<span class="hljs-number">0.10200000000000001</span>)
<span class="hljs-number">53</span> + <span class="hljs-number">1000</span>     = <span class="hljs-number">1053</span> (<span class="hljs-number">1053</span>)
<span class="hljs-number">0.1</span> - <span class="hljs-number">0.3</span>     = -<span class="hljs-number">0.2</span> (-<span class="hljs-number">0.19999999999999998</span>)
<span class="hljs-number">53</span> - -<span class="hljs-number">1000</span>    = <span class="hljs-number">1053</span> (<span class="hljs-number">1053</span>)
<span class="hljs-number">0.3</span> * <span class="hljs-number">0.0003</span>  = <span class="hljs-number">0.00009</span> (<span class="hljs-number">0.00008999999999999999</span>)
<span class="hljs-number">100</span> * <span class="hljs-number">25</span>      = <span class="hljs-number">2500</span> (<span class="hljs-number">2500</span>)
<span class="hljs-number">0.9</span> / <span class="hljs-number">0.03</span>    = <span class="hljs-number">30</span> (<span class="hljs-number">30.000000000000004</span>)
<span class="hljs-number">100</span> / <span class="hljs-number">50</span>      = <span class="hljs-number">2</span> (<span class="hljs-number">2</span>)
</code></pre>
    </div></div></div></div><div id="solution22" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 22</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Have a look at <a href="http://en.wikipedia.org/wiki/Fixed-point_arithmetic" rel="nofollow noreferrer">Fixed-point arithmetic</a>. It will probably solve your problem, if the range of numbers you want to operate on is small (eg, currency). I would round it off to a few decimal values, which is the simplest solution. </p>
    </div></div></div></div><div id="solution23" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 23</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can't represent most decimal fractions exactly with binary floating point types (which is what ECMAScript uses to represent floating point values). So there isn't an elegant solution unless you use arbitrary precision arithmetic types or a decimal based floating point type. For example, <a href="http://blogs.msdn.com/b/oldnewthing/archive/2004/05/25/141253.aspx" rel="nofollow noreferrer">the Calculator app that ships with Windows now uses arbitrary precision arithmetic to solve this problem</a>.</p>
    </div></div></div></div><div id="solution24" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 24</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>Avoid dealing with floating points during the operation using Integers</h2>

<p>As stated on the most voted answer until now, you can <strong>work with integers</strong>, that would mean to multiply all your factors by 10 for each decimal you are working with, and divide the result by the same number used.</p>

<p>For example, if you are working with 2 decimals, you multiply all your factors by 100 before doing the operation, and then divide the result by 100.</p>

<p>Here's an example, Result1 is the usual result, Result2 uses the solution:</p>

<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> <span class="hljs-title class_">Factor1</span>=<span class="hljs-string">"1110.7"</span>;
<span class="hljs-keyword">var</span> <span class="hljs-title class_">Factor2</span>=<span class="hljs-string">"2220.2"</span>;
<span class="hljs-keyword">var</span> <span class="hljs-title class_">Result1</span>=<span class="hljs-title class_">Number</span>(<span class="hljs-title class_">Factor1</span>)+<span class="hljs-title class_">Number</span>(<span class="hljs-title class_">Factor2</span>);
<span class="hljs-keyword">var</span> <span class="hljs-title class_">Result2</span>=((<span class="hljs-title class_">Number</span>(<span class="hljs-title class_">Factor1</span>)*<span class="hljs-number">100</span>)+(<span class="hljs-title class_">Number</span>(<span class="hljs-title class_">Factor2</span>)*<span class="hljs-number">100</span>))/<span class="hljs-number">100</span>;
<span class="hljs-keyword">var</span> <span class="hljs-title class_">Result3</span>=(<span class="hljs-title class_">Number</span>(<span class="hljs-built_in">parseFloat</span>(<span class="hljs-title class_">Number</span>(<span class="hljs-title class_">Factor1</span>))+<span class="hljs-built_in">parseFloat</span>(<span class="hljs-title class_">Number</span>(<span class="hljs-title class_">Factor2</span>))).<span class="hljs-title function_">toPrecision</span>(<span class="hljs-number">2</span>));
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">write</span>(<span class="hljs-string">"Result1: "</span>+<span class="hljs-title class_">Result1</span>+<span class="hljs-string">"&lt;br&gt;Result2: "</span>+<span class="hljs-title class_">Result2</span>+<span class="hljs-string">"&lt;br&gt;Result3: "</span>+<span class="hljs-title class_">Result3</span>);</code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif5" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>

<p>The third result is to show what happens when using parseFloat instead, which created a conflict in our case.</p>
    </div></div></div></div><div id="solution25" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 25</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>From my point of view, the idea here is to round the fp number in order to have a nice/short default string representation.</p>

<blockquote>
  <p>The 53-bit significand precision gives from 15 to 17 significant decimal digits precision (253  1.11 Ã— 1016).
  If a decimal string with at most 15 significant digits is converted to IEEE 754 double-precision representation,
  and then converted back to a decimal string with the same number of digits, the final result should match the original string.
  If an IEEE 754 double-precision number is converted to a decimal string with at least 17 significant digits,
  and then converted back to double-precision representation, the final result must match the original number.<br>
  ...<br>
  With the 52 bits of the fraction (F) significand appearing in the memory format, the total precision is therefore 53 bits (approximately 16 decimal digits, 53 log10(2)  15.955). The bits are laid out as follows ... <a href="https://en.wikipedia.org/wiki/Double-precision_floating-point_format#cite_note-whyieee-1" rel="nofollow noreferrer">wikipedia</a></p>
</blockquote>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">(<span class="hljs-number">0.1</span>).<span class="hljs-title function_">toPrecision</span>(<span class="hljs-number">100</span>) -&gt;
<span class="hljs-number">0.1000000000000000055511151231257827021181583404541015625000000000000000000000000000000000000000000000</span>

(<span class="hljs-number">0.1</span>+<span class="hljs-number">0.2</span>).<span class="hljs-title function_">toPrecision</span>(<span class="hljs-number">100</span>) -&gt;
<span class="hljs-number">0.3000000000000000444089209850062616169452667236328125000000000000000000000000000000000000000000000000</span>
</code></pre>

<p>Then, as far as I understand, we can round the value up to 15 digits to keep a nice string representation.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-number">10</span>**<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-number">53</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log10</span>(<span class="hljs-number">2</span>)) <span class="hljs-comment">// 1e15</span>
</code></pre>

<p>eg.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>((<span class="hljs-number">0.2</span>+<span class="hljs-number">0.1</span>) * <span class="hljs-number">1e15</span> ) / <span class="hljs-number">1e15</span>
<span class="hljs-number">0.3</span>
</code></pre>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>((<span class="hljs-number">0.2</span>+<span class="hljs-number">0.1</span>) * <span class="hljs-number">1e15</span> ) / <span class="hljs-number">1e15</span>).<span class="hljs-title function_">toPrecision</span>(<span class="hljs-number">100</span>)
<span class="hljs-number">0.2999999999999999888977697537484345957636833190917968750000000000000000000000000000000000000000000000</span>
</code></pre>

<p>The function would be:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">roundNumberToHaveANiceDefaultStringRepresentation</span>(<span class="hljs-params">num</span>) {

    <span class="hljs-keyword">const</span> integerDigits = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log10</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(num))+<span class="hljs-number">1</span>);
    <span class="hljs-keyword">const</span> mult = <span class="hljs-number">10</span>**(<span class="hljs-number">15</span>-integerDigits); <span class="hljs-comment">// also consider integer digits</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(num * mult) / mult;
}
</code></pre>
    </div></div></div></div><div id="solution26" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 26</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You are right, the reason for that is limited precision of floating point numbers. Store your rational numbers as a division of two integer numbers and in most situations you'll be able to store numbers without any precision loss. When it comes to printing, you may want to display the result as fraction. With representation I proposed, it becomes trivial.</p>

<p>Of course that won't help much with irrational numbers. But you may want to optimize your computations in the way they will cause the least problem (e.g. detecting situations like <code>sqrt(3)^2)</code>.</p>
    </div></div></div></div><div id="solution27" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 27</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I had a nasty rounding error problem with mod 3. Sometimes when I should get 0 I would get .000...01. That's easy enough to handle, just test for &lt;= .01. But then sometimes I would get 2.99999999999998. OUCH!</p>

<p><a href="https://github.com/MikeMcl/bignumber.js" rel="nofollow">BigNumbers</a> solved the problem, but introduced another, somewhat ironic, problem. When trying to load 8.5 into BigNumbers I was informed that it was really 8.4999 and had more than 15 significant digits. This meant BigNumbers could not accept it (I believe I mentioned this problem was somewhat ironic).</p>

<p>Simple solution to ironic problem:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">x = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(x*<span class="hljs-number">100</span>);
<span class="hljs-comment">// I only need 2 decimal places, if i needed 3 I would use 1,000, etc.</span>
x = x / <span class="hljs-number">100</span>;
xB = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigNumber</span>(x);
</code></pre>
    </div></div></div></div><div id="solution28" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 28</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><img src="https://i.stack.imgur.com/gWE8D.png" alt="enter image description here">    </p>



<pre class="lang-html s-code-block"><code class="hljs language-xml">    You can use library https://github.com/MikeMcl/decimal.js/. 
    it will   help  lot to give proper solution. 
    javascript console output 95 *722228.630 /100 = 686117.1984999999
    decimal library implementation 
    var firstNumber = new Decimal(95);
    var secondNumber = new Decimal(722228.630);
    var thirdNumber = new Decimal(100);
    var partialOutput = firstNumber.times(secondNumber);
    console.log(partialOutput);
    var output = new Decimal(partialOutput).div(thirdNumber);
    alert(output.valueOf());
    console.log(output.valueOf())== 686117.1985
</code></pre>
    </div></div></div></div><div id="solution29" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 29</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Try my chiliadic arithmetic library, which you can see <a href="http://www.daniweb.com/forums/thread222006.html" rel="nofollow noreferrer">here</a>.
If you want a later version, I can get you one.</p>
    </div></div></div></div><div id="solution30" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 30</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Use Number(1.234443).toFixed(2); it will print 1.23</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"></span>){
    <span class="hljs-keyword">var</span> x = <span class="hljs-number">0.1</span> * <span class="hljs-number">0.2</span>;
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">write</span>(<span class="hljs-title class_">Number</span>(x).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>));
}
<span class="hljs-title function_">test</span>();
</code></pre>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/how-can-i-change-an-element&#x27;s-class-with-javascript-1657387694695">How can I change an element&#x27;s class with JavaScript?</a><a href="/questions/using-regular-expressions-to-parse-html:-why-not-1657387543969">Using regular expressions to parse HTML: why not?</a><a href="/questions/http-get-with-request-body-1657387379038">HTTP GET with request body</a><a href="/questions/using-global-variables-in-a-function-1657384796002">Using global variables in a function</a><a href="/questions/how-to-use-php&#x27;s-password_hash-to-hash-and-verify-passwords-1657387808784">How to use PHP&#x27;s password_hash to hash and verify passwords</a><a href="/questions/what-is-the-explicit-promise-construction-antipattern-and-how-do-i-avoid-it-1657384436212">What is the explicit promise construction antipattern and how do I avoid it?</a><a href="/questions/how-do-i-write-a-correct-micro-benchmark-in-java-1657384488725">How do I write a correct micro-benchmark in Java?</a><a href="/questions/retrieving-the-last-record-in-each-group-mysql-1657384887369">Retrieving the last record in each group - MySQL</a><a href="/questions/jstl-in-jsf2-facelets...-makes-sense-1657387667435">JSTL in JSF2 Facelets... makes sense?</a><a href="/questions/why-does-a-regexp-with-global-flag-give-wrong-results-1657387788550">Why does a RegExp with global flag give wrong results?</a><a href="/questions/what-is-event-bubbling-and-capturing-1657388059203">What is event bubbling and capturing?</a><a href="/questions/when-to-use-linkedlist-over-arraylist-in-java-1657388107480">When to use LinkedList over ArrayList in Java?</a><a href="/questions/how-to-lazy-load-images-in-listview-in-android-1657387332835">How to lazy load images in ListView in Android</a><a href="/questions/sort-a-maplesskey-valuegreater-by-values-1657387443904">Sort a Map&lt;Key, Value&gt; by values</a><a href="/questions/change-the-maximum-upload-file-size-1657388495156">Change the maximum upload file size</a><a href="/questions/php-mail-function-doesn&#x27;t-complete-sending-of-e-mail-1657384307499">PHP mail function doesn&#x27;t complete sending of e-mail</a><a href="/questions/open-a-url-in-a-new-tab-(and-not-a-new-window)-1657387699598">Open a URL in a new tab (and not a new window)</a><a href="/questions/should-i-avoid-the-use-of-set(preferredormaximumorminimum)size-methods-in-java-swing-1657384628399">Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?</a><a href="/questions/how-to-generate-a-self-signed-ssl-certificate-using-openssl-closed-1657388298626">How to generate a self-signed SSL certificate using OpenSSL? [closed]</a><a href="/questions/how-do-you-access-the-matched-groups-in-a-javascript-regular-expression-1657388233817">How do you access the matched groups in a JavaScript regular expression?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;From the \u0026lt;a href=\u0026quot;http://floating-point-gui.de/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Floating-Point Guide\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;What can I do to avoid this problem?\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;That depends on what kind of\ncalculations youre doing.\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;If you really need your results to add up exactly, especially when you\nwork with money: use a special decimal\ndatatype.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If you just dont want to see all those extra decimal places: simply\nformat your result rounded to a fixed\nnumber of decimal places when\ndisplaying it.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If you have no decimal datatype available, an alternative is to work\nwith integers, e.g. do money\ncalculations entirely in cents. But\nthis is more work and has some\ndrawbacks.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;Note that the first point only applies if you really need specific precise \u0026lt;em\u0026gt;decimal\u0026lt;/em\u0026gt; behaviour. Most people don\u0026apos;t need that, they\u0026apos;re just irritated that their programs don\u0026apos;t work correctly with numbers like 1/10 without realizing that they wouldn\u0026apos;t even blink at the same error if it occurred with 1/3.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If the first point really applies to you, use \u0026lt;a href=\u0026quot;https://github.com/royNiladri/js-big-decimal\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;BigDecimal for JavaScript\u0026lt;/a\u0026gt;, which is not elegant at all, but actually solves the problem rather than providing an imperfect workaround.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I like Pedro Ladaria\u0026apos;s solution and use something similar.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;strip\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;number\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;parseFloat\u0026lt;/span\u0026gt;(number).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toPrecision\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;));\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Unlike Pedros solution this will round up 0.999...repeating and is accurate to plus/minus one on the least significant digit.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Note: When dealing with 32 or 64 bit floats, you should use toPrecision(7) and toPrecision(15) for best results.  See \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/28045787/how-many-decimal-places-does-the-primitive-float-and-double-support\u0026quot;\u0026gt;this question\u0026lt;/a\u0026gt; for info as to why.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;For the mathematically inclined: \u0026lt;a href=\u0026quot;http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\u0026quot;\u0026gt;http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The recommended approach is to use correction factors (multiply by a suitable power of 10 so that the arithmetic happens between integers).  For example, in the case of \u0026lt;code\u0026gt;0.1 * 0.2\u0026lt;/code\u0026gt;, the correction factor is \u0026lt;code\u0026gt;10\u0026lt;/code\u0026gt;, and you are performing the calculation:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; x = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;\n\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; y = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;\n\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; cf = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;\n\u0026amp;gt; x * y\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.020000000000000004\u0026lt;/span\u0026gt;\n\u0026amp;gt; (x * cf) * (y * cf) / (cf * cf)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.02\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;A (very quick) solution looks something like:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; _cf = (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_shift\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; parts = x.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;split\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (parts.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;) ? \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pow\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;, parts[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt;);\n  }\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) { \n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;call\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;arguments\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;prev, next\u0026lt;/span\u0026gt;) { \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; prev === \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;undefined\u0026lt;/span\u0026gt; || next === \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;undefined\u0026lt;/span\u0026gt; ? \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;undefined\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;max\u0026lt;/span\u0026gt;(prev, _shift (next)); }, -\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Infinity\u0026lt;/span\u0026gt;);\n  };\n})();\n\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; f = _cf.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;apply\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;arguments\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(f === \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;undefined\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;undefined\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;cb\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;x, y, i, o\u0026lt;/span\u0026gt;) { \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; x + f * y; }\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;call\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;arguments\u0026lt;/span\u0026gt;, cb, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;) / f;\n};\n\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;s\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;l,r\u0026lt;/span\u0026gt;) { \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; f = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_cf\u0026lt;/span\u0026gt;(l,r); \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (l * f - r * f) / f; };\n\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;m\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; f = _cf.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;apply\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;arguments\u0026lt;/span\u0026gt;);\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;cb\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;x, y, i, o\u0026lt;/span\u0026gt;) { \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (x*f) * (y*f) / (f * f); }\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;call\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;arguments\u0026lt;/span\u0026gt;, cb, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;);\n};\n\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;d\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;l,r\u0026lt;/span\u0026gt;) { \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; f = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_cf\u0026lt;/span\u0026gt;(l,r); \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (l * f) / (r * f); };\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;In this case:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;m\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.02\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;I definitely recommend using a tested library like \u0026lt;a href=\u0026quot;https://github.com/guipn/sinful.js/blob/master/sinful.js\u0026quot;\u0026gt;SinfulJS\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Are you only performing multiplication?  If so then you can use to your advantage a neat secret about decimal arithmetic.  That is that \u0026lt;code\u0026gt;NumberOfDecimals(X) + NumberOfDecimals(Y) = ExpectedNumberOfDecimals\u0026lt;/code\u0026gt;. That is to say that if we have \u0026lt;code\u0026gt;0.123 * 0.12\u0026lt;/code\u0026gt; then we know that there will be 5 decimal places because \u0026lt;code\u0026gt;0.123\u0026lt;/code\u0026gt; has 3 decimal places and \u0026lt;code\u0026gt;0.12\u0026lt;/code\u0026gt; has two. Thus if JavaScript gave us a number like \u0026lt;code\u0026gt;0.014760000002\u0026lt;/code\u0026gt; we can safely round to the 5th decimal place without fear of losing precision.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Surprisingly, this function has not been posted yet although others have similar variations of it. It is from the MDN web docs for \u0026lt;code\u0026gt;Math.round()\u0026lt;/code\u0026gt;.\nIt\u0026apos;s concise and allows for varying precision.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;precisionRound\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;number, precision\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; factor = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pow\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;, precision);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;round\u0026lt;/span\u0026gt;(number * factor) / factor;\n}\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;precisionRound\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1234.5678\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;));\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// expected output: 1234.6\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;precisionRound\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1234.5678\u0026lt;/span\u0026gt;, -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;));\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// expected output: 1230\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; inp = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;querySelectorAll\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;input\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; btn = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;querySelector\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;button\u0026apos;\u0026lt;/span\u0026gt;);\n\nbtn.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;onclick\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n  inp[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;precisionRound\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;parseFloat\u0026lt;/span\u0026gt;(inp[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;) * \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;parseFloat\u0026lt;/span\u0026gt;(inp[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;].\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;) , \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt; );\n};\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//MDN function\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;precisionRound\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;number, precision\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; factor = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pow\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;, precision);\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;round\u0026lt;/span\u0026gt;(number * factor) / factor;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-tag\u0026quot;\u0026gt;button\u0026lt;/span\u0026gt;{\n\u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;display\u0026lt;/span\u0026gt;: block;\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;text\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;0.1\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;text\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;0.2\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;button\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Get Product\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;button\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;text\u0026apos;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif2\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;UPDATE: Aug/20/2019\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Just noticed this error. I believe it\u0026apos;s due to a floating point precision error with \u0026lt;code\u0026gt;Math.round()\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;precisionRound\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.005\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// produces 1, incorrect, should be 1.01\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;These conditions work correctly:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;precisionRound\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.005\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// produces 0.01\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;precisionRound\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.0005\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// produces 1.001\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;precisionRound\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1234.5\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// produces 1235\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;precisionRound\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1234.5\u0026lt;/span\u0026gt;, -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// produces 1230\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Fix:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;precisionRoundMod\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;number, precision\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; factor = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pow\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;, precision);\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; n = precision \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; ? number : \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.01\u0026lt;/span\u0026gt; / factor + number;\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;round\u0026lt;/span\u0026gt;( n * factor) / factor;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This just adds a digit to the right when rounding decimals.\nMDN has updated the \u0026lt;code\u0026gt;Math.round()\u0026lt;/code\u0026gt; page so maybe someone could provide a better solution.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I\u0026apos;m finding \u0026lt;a href=\u0026quot;https://github.com/MikeMcl/bignumber.js/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;BigNumber.js\u0026lt;/a\u0026gt; meets my needs.\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;blockquote\u0026gt;\n    \u0026lt;p\u0026gt;A JavaScript library for arbitrary-precision decimal and non-decimal arithmetic.\u0026lt;/p\u0026gt;\n  \u0026lt;/blockquote\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;It has good \u0026lt;a href=\u0026quot;http://mikemcl.github.io/bignumber.js/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;documentation\u0026lt;/a\u0026gt; and the author is very diligent responding to feedback.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The same author has 2 other similar libraries:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://github.com/MikeMcl/big.js/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Big.js\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;blockquote\u0026gt;\n    \u0026lt;p\u0026gt;A small, fast JavaScript library for arbitrary-precision decimal arithmetic. The little sister to bignumber.js.\u0026lt;/p\u0026gt;\n  \u0026lt;/blockquote\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;and \u0026lt;a href=\u0026quot;https://github.com/MikeMcl/decimal.js/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Decimal.js\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;blockquote\u0026gt;\n    \u0026lt;p\u0026gt;An arbitrary-precision Decimal type for JavaScript.\u0026lt;/p\u0026gt;\n  \u0026lt;/blockquote\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;Here\u0026apos;s some code using BigNumber:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;false\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;$(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n\n  \n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; product = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;BigNumber\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.1\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;times\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.2\u0026lt;/span\u0026gt;);  \n  $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;#product\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;text\u0026lt;/span\u0026gt;(product);\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; sum = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;BigNumber\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.1\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;plus\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.2\u0026lt;/span\u0026gt;);  \n  $(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;#sum\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;text\u0026lt;/span\u0026gt;(sum);\n\n\n});\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;src\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;\u0026amp;lt;!-- 1.4.1 is not the current version, but works for this example. --\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;src\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://cdn.bootcss.com/bignumber.js/1.4.1/bignumber.min.js\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;script\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\n.1 \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026amp;amp;times;\u0026lt;/span\u0026gt; .2 = \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;product\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n.1 \u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;\u0026amp;amp;plus;\u0026lt;/span\u0026gt; .2 = \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;sum\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;span\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;br\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif3\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You are looking for an \u0026lt;code\u0026gt;sprintf\u0026lt;/code\u0026gt; implementation for JavaScript, so that you can write out floats with small errors in them (since they are stored in binary format) in a format that you expect.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Try \u0026lt;a href=\u0026quot;http://www.diveintojavascript.com/projects/javascript-sprintf\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;javascript-sprintf\u0026lt;/a\u0026gt;, you would call it like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; yourString = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;sprintf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%.2f\u0026quot;\u0026lt;/span\u0026gt;, yourNumber);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;to print out your number as a float with two decimal places.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You may also use  \u0026lt;a href=\u0026quot;http://www.w3schools.com/jsref/jsref_tofixed.asp\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Number.toFixed()\u0026lt;/a\u0026gt;  for display purposes, if you\u0026apos;d rather not include  more files merely for floating point rounding to a given precision.  \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; times = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;a, b\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;round\u0026lt;/span\u0026gt;((a * b) * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;)/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;;\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;---or---\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; fpFix = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;n\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;round\u0026lt;/span\u0026gt;(n * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;)/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;;\n};\n\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;fpFix\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// -\u0026amp;gt; 0.02\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;---also---\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; fpArithmetic = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;op, x, y\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; n = {\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;: x * y,\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;: x - y,\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;+\u0026apos;\u0026lt;/span\u0026gt;: x + y,\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/\u0026apos;\u0026lt;/span\u0026gt;: x / y\n        }[op];        \n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;round\u0026lt;/span\u0026gt;(n * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;)/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;;\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;--- as in ---\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;fpArithmetic\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 0.02\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;fpArithmetic\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;+\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 0.3\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;fpArithmetic\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// -0.1\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;fpArithmetic\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 2\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This function will determine the needed precision from the multiplication of two floating point numbers and return a result with the appropriate precision. Elegant though it is not.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;multFloats\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;a,b\u0026lt;/span\u0026gt;){\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; atens = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pow\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;(a).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; - \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;(a).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;indexOf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;) - \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;), \n      btens = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pow\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;(b).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; - \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;(b).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;indexOf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;) - \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;); \n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (a * atens) * (b * btens) / (atens * btens); \n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can use \u0026lt;code\u0026gt;parseFloat()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;toFixed()\u0026lt;/code\u0026gt; if you want to bypass this issue for a small operation:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;a = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;;\nb = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;;\n\na + b = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.30000000000000004\u0026lt;/span\u0026gt;;\n\nc = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;parseFloat\u0026lt;/span\u0026gt;((a+b).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toFixed\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;));\n\nc = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3\u0026lt;/span\u0026gt;;\n\na = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3\u0026lt;/span\u0026gt;;\nb = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;;\n\na - b = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.09999999999999998\u0026lt;/span\u0026gt;;\n\nc = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;parseFloat\u0026lt;/span\u0026gt;((a-b).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toFixed\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;));\n\nc = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You just have to make up your mind on how many decimal digits you actually want - can\u0026apos;t have the cake and eat it too :-)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Numerical errors accumulate with every further operation and if you don\u0026apos;t cut it off early it\u0026apos;s just going to grow. Numerical libraries which present results that look clean simply cut off the last 2 digits at every step, numerical co-processors also have a \u0026quot;normal\u0026quot; and \u0026quot;full\u0026quot; lenght for the same reason. Cuf-offs are cheap for a processor but very expensive for you in a script (multiplying and dividing and using pov(...)). Good math lib would provide floor(x,n) to do the cut-off for you.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So at the very least you should make global var/constant with pov(10,n) - meaning that you decided on the precision you need :-) Then do:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;floor\u0026lt;/span\u0026gt;(x*\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;PREC_LIM\u0026lt;/span\u0026gt;)/\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;PREC_LIM\u0026lt;/span\u0026gt;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// floor - you are cutting off, not rounding\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You could also keep doing math and only cut-off at the end - assuming that you are only displaying and not doing if-s with results. If you can do that, then .toFixed(...) might be more efficient.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you are doing if-s/comparisons and don\u0026apos;t want to cut of then you also need a small constant, usually called eps, which is one decimal place higher than max expected error. Say that your cut-off is last two decimals - then your eps has 1 at the 3rd place from the last (3rd least significant) and you can use it to compare whether the result is within eps range of expected (0.02 -eps \u0026amp;lt; 0.1*0.2 \u0026amp;lt; 0.02 +eps).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Notice that for the general purpose use, this behavior is likely to be acceptable.\u0026lt;br\u0026gt;\nThe problem arises when comparing those floating points values to determine an appropriate action.\u0026lt;br\u0026gt;\n   With the advent of ES6, a new constant \u0026lt;code\u0026gt;Number.EPSILON\u0026lt;/code\u0026gt; is defined to determine the acceptable error margin :\u0026lt;br\u0026gt;\nSo instead of performing the comparison like this\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt; === \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// which returns false\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;you can define a custom compare function, like this :\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;epsEqu\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;x, y\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;abs\u0026lt;/span\u0026gt;(x - y) \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;EPSILON\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;epsEqu\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3\u0026lt;/span\u0026gt;)); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// true\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Source : \u0026lt;a href=\u0026quot;http://2ality.com/2015/04/numbers-math-es6.html#numberepsilon\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://2ality.com/2015/04/numbers-math-es6.html#numberepsilon\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The round() function at phpjs.org works nicely: \u0026lt;a href=\u0026quot;http://phpjs.org/functions/round\u0026quot;\u0026gt;http://phpjs.org/functions/round\u0026lt;/a\u0026gt; \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;num = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.01\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.06\u0026lt;/span\u0026gt;;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// yields 0.0699999999999\u0026lt;/span\u0026gt;\nrnum = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;round\u0026lt;/span\u0026gt;(num,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// yields 0.07\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://mikemcl.github.io/decimal.js/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;decimal.js\u0026lt;/a\u0026gt;, \u0026lt;a href=\u0026quot;https://mikemcl.github.io/big.js/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;big.js\u0026lt;/a\u0026gt; or \u0026lt;a href=\u0026quot;https://mikemcl.github.io/bignumber.js/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;bignumber.js\u0026lt;/a\u0026gt; can be used to avoid floating-point manipulation problems in Javascript:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt; * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;                                \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 0.020000000000000004\u0026lt;/span\u0026gt;\nx = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Decimal\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;)\ny = x.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;times\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;)                          \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// \u0026apos;0.2\u0026apos;\u0026lt;/span\u0026gt;\nx.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;times\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;equals\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;)                  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// true\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;big.js: minimalist; easy-to-use; precision specified in decimal places; precision applied to division only.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;bignumber.js: bases 2-64; configuration options; NaN; Infinity; precision specified in decimal places; precision applied to division only; base prefixes.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;decimal.js: bases 2-64; configuration options; NaN; Infinity; non-integer powers, exp, ln, log; precision specified in significant digits; precision always applied; random numbers.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://github.com/MikeMcl/big.js/issues/45#issuecomment-104211175\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;link to detailed comparisons\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The result you\u0026apos;ve got is correct and fairly consistent across floating point implementations in different languages, processors and operating systems - the only thing that changes is the level of the inaccuracy when the float is actually a double (or higher).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;0.1 in binary floating points is like 1/3 in decimal (i.e. 0.3333333333333... forever), there\u0026apos;s just no accurate way to handle it. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you\u0026apos;re dealing with floats \u0026lt;em\u0026gt;always\u0026lt;/em\u0026gt; expect small rounding errors, so you\u0026apos;ll also always have to round the displayed result to something sensible. In return you get very very fast and powerful arithmetic because all the computations are in the native binary of the processor.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Most of the time the solution is not to switch to fixed-point arithmetic, mainly because it\u0026apos;s much slower and 99% of the time you just don\u0026apos;t need the accuracy. If you\u0026apos;re dealing with stuff that does need that level of accuracy (for instance financial transactions) Javascript probably isn\u0026apos;t the best tool to use anyway (as you\u0026apos;ve want to enforce the fixed-point types a static language is probably better).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You\u0026apos;re looking for the elegant solution then I\u0026apos;m afraid this is it: floats are quick but have small rounding errors - always round to something sensible when displaying their results.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;0.6 * 3 it\u0026apos;s awesome!))\nFor me this works fine:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;dec\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt; num \u0026lt;/span\u0026gt;)\n{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; p = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;round\u0026lt;/span\u0026gt;( num * p ) / p;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Very very simple))\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;To avoid this you should work with integer values instead of floating points. So when you want to have 2 positions precision work with the values * 100, for 3 positions use 1000. When displaying you use a formatter to put in the separator.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Many systems omit working with decimals this way. That is the reason why many systems work with cents (as integer) instead of dollars/euro\u0026apos;s (as floating point).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;not elegant but does the job (removes trailing zeros)\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; num = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;alert\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;parseFloat\u0026lt;/span\u0026gt;(num.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toFixed\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;))); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// shows 0.02\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Problem\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Floating point can\u0026apos;t store all decimal values exactly. So when using floating point formats there will always be rounding errors on the input values.\nThe errors on the inputs of course results on errors on the output.\nIn case of a discrete function or operator there can be big differences on the output around the point where the function or operator is discrete.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Input and output for floating point values\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So, when using floating point variables, you should always be aware of this. And whatever output you want from a calculation with floating points should always be formatted/conditioned before displaying with this in mind.\u0026lt;br\u0026gt;\nWhen only continuous functions and operators are used, rounding to the desired precision often will do (don\u0026apos;t truncate).  Standard formatting features used to convert floats to string will usually do this for you.\u0026lt;br\u0026gt;\nBecause the rounding adds an error which can cause the total error to be more then half of the desired precision, the output should be corrected based on expected precision of inputs and desired precision of output. You should\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Round inputs to the expected precision or make sure no values can be entered with higher precision.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Add a small value to the outputs before rounding/formatting them which is smaller than or equal to 1/4 of the desired precision and bigger than the maximum expected error caused by rounding errors on input and during calculation. If that is not possible the combination of the precision of the used data type isn\u0026apos;t enough to deliver the desired output precision for your calculation.  \u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;These 2 things are usually not done and in most cases the differences caused by not doing them are too small to be important for most users, but I already had a project where output wasn\u0026apos;t accepted by the users without those corrections.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Discrete functions or operators (like modula)\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;When discrete operators or functions are involved, extra corrections might be required to make sure the output is as expected. Rounding and adding small corrections before rounding can\u0026apos;t solve the problem.\u0026lt;br\u0026gt;\nA special check/correction on intermediate calculation results, immediately after applying the discrete function or operator might be required.\nFor a specific case (modula operator), see my answer on question: \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/45346570#45346570\u0026quot;\u0026gt;Why does modulus operator return fractional number in javascript?\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Better avoid having the problem\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It is often more efficient to avoid these problems by using data types (integer or fixed point formats) for calculations like this which can store the expected input without rounding errors.\nAn example of that is that you should never use floating point values for financial calculations.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;Elegant, Predictable, and  Reusable\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;Let\u0026apos;s deal with the problem in an elegant way reusable way. The following seven lines will let you access the floating point precision you desire on any number simply by appending \u0026lt;code\u0026gt;.decimal\u0026lt;/code\u0026gt; to the end of the number, formula, or built in \u0026lt;code\u0026gt;Math\u0026lt;/code\u0026gt; function.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// First extend the native Number object to handle precision. This populates\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// the functionality to all math operations.\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Object\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;defineProperty\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;decimal\u0026quot;\u0026lt;/span\u0026gt;, {\n  \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;precision\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;precision\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt; ? \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;precision\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; f = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pow\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;precision\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;round\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt; * f ) / f;\n  }\n});\n\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Now lets see how it works by adjusting our global precision level and \u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// checking our results.\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026apos;1/3 + 1/3 + 1/3 = 1\u0026apos; Right?\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3333\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3333\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3333\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt; == \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// true\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3333\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 0.333 - A raw 4 digit decimal, trimmed to 3...\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;precision\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Precision: 3\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.8\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 1\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.08\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.02\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 0.1\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.008\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.002\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 0.01\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.0008\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.0002\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 0.001\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;precision\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Precision: 2\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.8\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 1\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.08\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.02\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 0.1\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.008\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.002\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 0.01\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.0008\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.0002\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 0\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;precision\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Precision: 1\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.8\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 1\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.08\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.02\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 0.1\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.008\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.002\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 0\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.0008\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.0002\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 0\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;precision\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Precision: 0\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.8\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 1\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.08\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.02\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 0\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.008\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.002\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 0\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.0008\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.0002\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;decimal\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 0\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif4\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;Cheers!\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Solved it by first making both numbers integers, executing the expression and afterwards dividing the result to get the decimal places back:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;evalMathematicalExpression\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;a, b, op\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; smallest = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;(a \u0026amp;lt; b ? a : b);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; factor = smallest.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; - smallest.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;indexOf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;);\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; factor; i++) {\n        b *= \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;;\n        a *= \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;;\n    }\n\n    a = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;round\u0026lt;/span\u0026gt;(a);\n    b = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;round\u0026lt;/span\u0026gt;(b);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; m = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt; ** factor;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;switch\u0026lt;/span\u0026gt; (op) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;+\u0026apos;\u0026lt;/span\u0026gt;:\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (a + b) / m;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;:\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (a - b) / m;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;:\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (a * b) / (m ** \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/\u0026apos;\u0026lt;/span\u0026gt;:\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; a / b;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;throw\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;`Unknown operator \u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${op}\u0026lt;/span\u0026gt;`\u0026lt;/span\u0026gt;;\n}\n\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Results for several operations (the excluded numbers are results from \u0026lt;code\u0026gt;eval\u0026lt;/code\u0026gt;):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.002\u0026lt;/span\u0026gt;   = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.102\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.10200000000000001\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;53\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;     = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1053\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1053\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt; - \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3\u0026lt;/span\u0026gt;     = -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt; (-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.19999999999999998\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;53\u0026lt;/span\u0026gt; - -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;    = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1053\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1053\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3\u0026lt;/span\u0026gt; * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.0003\u0026lt;/span\u0026gt;  = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.00009\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.00008999999999999999\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt; * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;      = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2500\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2500\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.9\u0026lt;/span\u0026gt; / \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.03\u0026lt;/span\u0026gt;    = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30.000000000000004\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt; / \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;50\u0026lt;/span\u0026gt;      = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Have a look at \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Fixed-point_arithmetic\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Fixed-point arithmetic\u0026lt;/a\u0026gt;. It will probably solve your problem, if the range of numbers you want to operate on is small (eg, currency). I would round it off to a few decimal values, which is the simplest solution. \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can\u0026apos;t represent most decimal fractions exactly with binary floating point types (which is what ECMAScript uses to represent floating point values). So there isn\u0026apos;t an elegant solution unless you use arbitrary precision arithmetic types or a decimal based floating point type. For example, \u0026lt;a href=\u0026quot;http://blogs.msdn.com/b/oldnewthing/archive/2004/05/25/141253.aspx\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;the Calculator app that ships with Windows now uses arbitrary precision arithmetic to solve this problem\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;Avoid dealing with floating points during the operation using Integers\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;As stated on the most voted answer until now, you can \u0026lt;strong\u0026gt;work with integers\u0026lt;/strong\u0026gt;, that would mean to multiply all your factors by 10 for each decimal you are working with, and divide the result by the same number used.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For example, if you are working with 2 decimals, you multiply all your factors by 100 before doing the operation, and then divide the result by 100.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Here\u0026apos;s an example, Result1 is the usual result, Result2 uses the solution:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Factor1\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1110.7\u0026quot;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Factor2\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;2220.2\u0026quot;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Result1\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Factor1\u0026lt;/span\u0026gt;)+\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Factor2\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Result2\u0026lt;/span\u0026gt;=((\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Factor1\u0026lt;/span\u0026gt;)*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;)+(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Factor2\u0026lt;/span\u0026gt;)*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;))/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Result3\u0026lt;/span\u0026gt;=(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;parseFloat\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Factor1\u0026lt;/span\u0026gt;))+\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;parseFloat\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Factor2\u0026lt;/span\u0026gt;))).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toPrecision\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;));\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;write\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Result1: \u0026quot;\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Result1\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026amp;lt;br\u0026amp;gt;Result2: \u0026quot;\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Result2\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026amp;lt;br\u0026amp;gt;Result3: \u0026quot;\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Result3\u0026lt;/span\u0026gt;);\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif5\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The third result is to show what happens when using parseFloat instead, which created a conflict in our case.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;From my point of view, the idea here is to round the fp number in order to have a nice/short default string representation.\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;The 53-bit significand precision gives from 15 to 17 significant decimal digits precision (253  1.11 Ã— 1016).\n  If a decimal string with at most 15 significant digits is converted to IEEE 754 double-precision representation,\n  and then converted back to a decimal string with the same number of digits, the final result should match the original string.\n  If an IEEE 754 double-precision number is converted to a decimal string with at least 17 significant digits,\n  and then converted back to double-precision representation, the final result must match the original number.\u0026lt;br\u0026gt;\n  ...\u0026lt;br\u0026gt;\n  With the 52 bits of the fraction (F) significand appearing in the memory format, the total precision is therefore 53 bits (approximately 16 decimal digits, 53 log10(2)  15.955). The bits are laid out as follows ... \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Double-precision_floating-point_format#cite_note-whyieee-1\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;wikipedia\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toPrecision\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;) -\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1000000000000000055511151231257827021181583404541015625000000000000000000000000000000000000000000000\u0026lt;/span\u0026gt;\n\n(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toPrecision\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;) -\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3000000000000000444089209850062616169452667236328125000000000000000000000000000000000000000000000000\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Then, as far as I understand, we can round the value up to 15 digits to keep a nice string representation.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;**\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;floor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;53\u0026lt;/span\u0026gt; * \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log10\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;)) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 1e15\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;eg.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;round\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;) * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1e15\u0026lt;/span\u0026gt; ) / \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1e15\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.3\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;round\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt;) * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1e15\u0026lt;/span\u0026gt; ) / \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1e15\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toPrecision\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2999999999999999888977697537484345957636833190917968750000000000000000000000000000000000000000000000\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The function would be:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;roundNumberToHaveANiceDefaultStringRepresentation\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;num\u0026lt;/span\u0026gt;) {\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; integerDigits = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;floor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log10\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;abs\u0026lt;/span\u0026gt;(num))+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; mult = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;**(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;15\u0026lt;/span\u0026gt;-integerDigits); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// also consider integer digits\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;round\u0026lt;/span\u0026gt;(num * mult) / mult;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You are right, the reason for that is limited precision of floating point numbers. Store your rational numbers as a division of two integer numbers and in most situations you\u0026apos;ll be able to store numbers without any precision loss. When it comes to printing, you may want to display the result as fraction. With representation I proposed, it becomes trivial.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Of course that won\u0026apos;t help much with irrational numbers. But you may want to optimize your computations in the way they will cause the least problem (e.g. detecting situations like \u0026lt;code\u0026gt;sqrt(3)^2)\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I had a nasty rounding error problem with mod 3. Sometimes when I should get 0 I would get .000...01. That\u0026apos;s easy enough to handle, just test for \u0026amp;lt;= .01. But then sometimes I would get 2.99999999999998. OUCH!\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://github.com/MikeMcl/bignumber.js\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;BigNumbers\u0026lt;/a\u0026gt; solved the problem, but introduced another, somewhat ironic, problem. When trying to load 8.5 into BigNumbers I was informed that it was really 8.4999 and had more than 15 significant digits. This meant BigNumbers could not accept it (I believe I mentioned this problem was somewhat ironic).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Simple solution to ironic problem:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;x = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;round\u0026lt;/span\u0026gt;(x*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// I only need 2 decimal places, if i needed 3 I would use 1,000, etc.\u0026lt;/span\u0026gt;\nx = x / \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;;\nxB = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;BigNumber\u0026lt;/span\u0026gt;(x);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/gWE8D.png\u0026quot; alt=\u0026quot;enter image description here\u0026quot;\u0026gt;    \u0026lt;/p\u0026gt;\n\n\n\n\u0026lt;pre class=\u0026quot;lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;    You can use library https://github.com/MikeMcl/decimal.js/. \n    it will   help  lot to give proper solution. \n    javascript console output 95 *722228.630 /100 = 686117.1984999999\n    decimal library implementation \n    var firstNumber = new Decimal(95);\n    var secondNumber = new Decimal(722228.630);\n    var thirdNumber = new Decimal(100);\n    var partialOutput = firstNumber.times(secondNumber);\n    console.log(partialOutput);\n    var output = new Decimal(partialOutput).div(thirdNumber);\n    alert(output.valueOf());\n    console.log(output.valueOf())== 686117.1985\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Try my chiliadic arithmetic library, which you can see \u0026lt;a href=\u0026quot;http://www.daniweb.com/forums/thread222006.html\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;here\u0026lt;/a\u0026gt;.\nIf you want a later version, I can get you one.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Use Number(1.234443).toFixed(2); it will print 1.23\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;test\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; x = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt; * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;write\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;(x).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toFixed\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;));\n}\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;test\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":216,"title":"How to deal with floating point number precision in JavaScript?","content":"\n                \n\u0026lt;p\u0026gt;I have the following dummy test script:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;test\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; x = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.1\u0026lt;/span\u0026gt; * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.2\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;write\u0026lt;/span\u0026gt;(x);\n}\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;test\u0026lt;/span\u0026gt;();\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif1\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This will print the result \u0026lt;code\u0026gt;0.020000000000000004\u0026lt;/code\u0026gt; while it should just print \u0026lt;code\u0026gt;0.02\u0026lt;/code\u0026gt; (if you use your calculator). As far as I understood this is due to errors in the floating point multiplication precision.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Does anyone have a good solution so that in such case I get the correct result \u0026lt;code\u0026gt;0.02\u0026lt;/code\u0026gt;? I know there are functions like \u0026lt;code\u0026gt;toFixed\u0026lt;/code\u0026gt; or rounding would be another possibility, but I\u0026apos;d like to really have the whole number printed without any cutting and rounding. Just wanted to know if one of you has some nice, elegant solution.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Of course, otherwise I\u0026apos;ll round to some 10 digits or so.\u0026lt;/p\u0026gt;\n    ","slug":"how-to-deal-with-floating-point-number-precision-in-javascript-1657387293762","postType":"QUESTION","createdAt":"2022-07-09T17:21:33.000Z","updatedAt":"2022-07-09T17:21:33.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"How can I change an element's class with JavaScript?","slug":"how-can-i-change-an-element's-class-with-javascript-1657387694695"},{"title":"Using regular expressions to parse HTML: why not?","slug":"using-regular-expressions-to-parse-html:-why-not-1657387543969"},{"title":"HTTP GET with request body","slug":"http-get-with-request-body-1657387379038"},{"title":"Using global variables in a function","slug":"using-global-variables-in-a-function-1657384796002"},{"title":"How to use PHP's password_hash to hash and verify passwords","slug":"how-to-use-php's-password_hash-to-hash-and-verify-passwords-1657387808784"},{"title":"What is the explicit promise construction antipattern and how do I avoid it?","slug":"what-is-the-explicit-promise-construction-antipattern-and-how-do-i-avoid-it-1657384436212"},{"title":"How do I write a correct micro-benchmark in Java?","slug":"how-do-i-write-a-correct-micro-benchmark-in-java-1657384488725"},{"title":"Retrieving the last record in each group - MySQL","slug":"retrieving-the-last-record-in-each-group-mysql-1657384887369"},{"title":"JSTL in JSF2 Facelets... makes sense?","slug":"jstl-in-jsf2-facelets...-makes-sense-1657387667435"},{"title":"Why does a RegExp with global flag give wrong results?","slug":"why-does-a-regexp-with-global-flag-give-wrong-results-1657387788550"},{"title":"What is event bubbling and capturing?","slug":"what-is-event-bubbling-and-capturing-1657388059203"},{"title":"When to use LinkedList over ArrayList in Java?","slug":"when-to-use-linkedlist-over-arraylist-in-java-1657388107480"},{"title":"How to lazy load images in ListView in Android","slug":"how-to-lazy-load-images-in-listview-in-android-1657387332835"},{"title":"Sort a Map\u003cKey, Value\u003e by values","slug":"sort-a-maplesskey-valuegreater-by-values-1657387443904"},{"title":"Change the maximum upload file size","slug":"change-the-maximum-upload-file-size-1657388495156"},{"title":"PHP mail function doesn't complete sending of e-mail","slug":"php-mail-function-doesn't-complete-sending-of-e-mail-1657384307499"},{"title":"Open a URL in a new tab (and not a new window)","slug":"open-a-url-in-a-new-tab-(and-not-a-new-window)-1657387699598"},{"title":"Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?","slug":"should-i-avoid-the-use-of-set(preferredormaximumorminimum)size-methods-in-java-swing-1657384628399"},{"title":"How to generate a self-signed SSL certificate using OpenSSL? [closed]","slug":"how-to-generate-a-self-signed-ssl-certificate-using-openssl-closed-1657388298626"},{"title":"How do you access the matched groups in a JavaScript regular expression?","slug":"how-do-you-access-the-matched-groups-in-a-javascript-regular-expression-1657388233817"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-to-deal-with-floating-point-number-precision-in-javascript-1657387293762"},"buildId":"DSpI0pSdXueTMCIVyw0q4","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>